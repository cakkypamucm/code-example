/*! For license information please see 91dfb44.js.LICENSE.txt */
(self.webpackChunkcode_example=self.webpackChunkcode_example||[]).push([[216],{9553:(t,e,n)=>{"use strict";n.d(e,{gE:()=>G});var o=n(5544),r=n(6890),i=n(7638),s=n(9791),a=n(2343),l=n(9181),c=n(8464);const u=n(1235).n2;var d=n(1170);const p=(t,e,n)=>{let o,r;return i=>{e.value>=0&&(i||n)&&(r=e.value-(o||0),(r||void 0===o)&&(o=e.value,e.delta=r,t(e)))}},h=()=>u.__WEB_VITALS_POLYFILL__?u.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||(()=>{const t=u.performance.timing,e=u.performance.navigation.type,n={entryType:"navigation",startTime:0,type:2==e?"back_forward":1===e?"reload":"navigate"};for(const e in t)"navigationStart"!==e&&"toJSON"!==e&&(n[e]=Math.max(t[e]-t.navigationStart,0));return n})()):u.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],f=()=>{const t=h();return t&&t.activationStart||0},g=(t,e)=>{const n=h();let o="navigate";return n&&(o=u.document.prerendering||f()>0?"prerender":n.type.replace(/_/g,"-")),{name:t,value:void 0===e?-1:e,rating:"good",delta:0,entries:[],id:`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:o}},_=(t,e,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){const o=new PerformanceObserver((t=>{e(t.getEntries())}));return o.observe(Object.assign({type:t,buffered:!0},n||{})),o}}catch(t){}},m=(t,e)=>{const n=o=>{"pagehide"!==o.type&&"hidden"!==u.document.visibilityState||(t(o),e&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},y=t=>{const e=g("CLS",0);let n,o=0,r=[];const i=t=>{t.forEach((t=>{if(!t.hadRecentInput){const i=r[0],s=r[r.length-1];o&&0!==r.length&&t.startTime-s.startTime<1e3&&t.startTime-i.startTime<5e3?(o+=t.value,r.push(t)):(o=t.value,r=[t]),o>e.value&&(e.value=o,e.entries=r,n&&n())}}))},s=_("layout-shift",i);if(s){n=p(t,e);const o=()=>{i(s.takeRecords()),n(!0)};return m(o),o}};let v=-1;const C=()=>(v<0&&(v="hidden"!==u.document.visibilityState||u.document.prerendering?1/0:0,m((({timeStamp:t})=>{v=t}),!0)),{get firstHiddenTime(){return v}}),E=t=>{const e=C(),n=g("FID");let o;const r=t=>{t.startTime<e.firstHiddenTime&&(n.value=t.processingStart-t.startTime,n.entries.push(t),o(!0))},i=t=>{t.forEach(r)},s=_("first-input",i);o=p(t,n),s&&m((()=>{i(s.takeRecords()),s.disconnect()}),!0)},b={},S=t=>{const e=C(),n=g("LCP");let o;const r=t=>{const r=t[t.length-1];if(r){const t=Math.max(r.startTime-f(),0);t<e.firstHiddenTime&&(n.value=t,n.entries=[r],o())}},i=_("largest-contentful-paint",r);if(i){o=p(t,n);const e=()=>{b[n.id]||(r(i.takeRecords()),i.disconnect(),b[n.id]=!0,o(!0))};return["keydown","click"].forEach((t=>{addEventListener(t,e,{once:!0,capture:!0})})),m(e,!0),e}};function w(t){return"number"==typeof t&&isFinite(t)}function O(t,{startTimestamp:e,...n}){return e&&t.startTimestamp>e&&(t.startTimestamp=e),t.startChild({startTimestamp:e,...n})}function P(t){return t/1e3}function T(){return u&&u.addEventListener&&u.performance}let R,D,x=0,M={};function A(){const t=T();if(t&&d.Z1){t.mark&&u.performance.mark("sentry-tracing-init"),E((t=>{const e=t.entries.pop();if(!e)return;const n=P(d.Z1),o=P(e.startTime);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.log("[Measurements] Adding FID"),M.fid={value:t.value,unit:"millisecond"},M["mark.fid"]={value:n+o,unit:"second"}}));const e=y((t=>{const e=t.entries.pop();e&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.log("[Measurements] Adding CLS"),M.cls={value:t.value,unit:""},D=e)})),n=S((t=>{const e=t.entries.pop();e&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.log("[Measurements] Adding LCP"),M.lcp={value:t.value,unit:"millisecond"},R=e)}));return()=>{e&&e(),n&&n()}}return()=>{}}function L(t){const e=T();if(!e||!u.performance.getEntries||!d.Z1)return;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.log("[Tracing] Adding & adjusting spans using Performance API");const n=P(d.Z1),o=e.getEntries();let r,i;if(o.slice(x).forEach((e=>{const o=P(e.startTime),s=P(e.duration);if(!("navigation"===t.op&&n+o<t.startTimestamp))switch(e.entryType){case"navigation":!function(t,e,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((o=>{I(t,e,o,n)})),I(t,e,"secureConnection",n,"TLS/SSL","connectEnd"),I(t,e,"fetch",n,"cache","domainLookupStart"),I(t,e,"domainLookup",n,"DNS"),function(t,e,n){O(t,{op:"browser",description:"request",startTimestamp:n+P(e.requestStart),endTimestamp:n+P(e.responseEnd)}),O(t,{op:"browser",description:"response",startTimestamp:n+P(e.responseStart),endTimestamp:n+P(e.responseEnd)})}(t,e,n)}(t,e,n),r=n+P(e.responseStart),i=n+P(e.requestStart);break;case"mark":case"paint":case"measure":{!function(t,e,n,o,r){const i=r+n,s=i+o;O(t,{description:e.name,endTimestamp:s,op:e.entryType,startTimestamp:i})}(t,e,o,s,n);const r=C(),i=e.startTime<r.firstHiddenTime;"first-paint"===e.name&&i&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.log("[Measurements] Adding FP"),M.fp={value:e.startTime,unit:"millisecond"}),"first-contentful-paint"===e.name&&i&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.log("[Measurements] Adding FCP"),M.fcp={value:e.startTime,unit:"millisecond"});break}case"resource":{const r=e.name.replace(u.location.origin,"");!function(t,e,n,o,r,i){if("xmlhttprequest"===e.initiatorType||"fetch"===e.initiatorType)return;const s={};"transferSize"in e&&(s["http.response_transfer_size"]=e.transferSize);"encodedBodySize"in e&&(s["http.response_content_length"]=e.encodedBodySize);"decodedBodySize"in e&&(s["http.decoded_response_content_length"]=e.decodedBodySize);"renderBlockingStatus"in e&&(s["resource.render_blocking_status"]=e.renderBlockingStatus);const a=i+o,l=a+r;O(t,{description:n,endTimestamp:l,op:e.initiatorType?`resource.${e.initiatorType}`:"resource.other",startTimestamp:a,data:s})}(t,e,r,o,s,n);break}}})),x=Math.max(o.length-1,0),function(t){const e=u.navigator;if(!e)return;const n=e.connection;n&&(n.effectiveType&&t.setTag("effectiveConnectionType",n.effectiveType),n.type&&t.setTag("connectionType",n.type),w(n.rtt)&&(M["connection.rtt"]={value:n.rtt,unit:"millisecond"}));w(e.deviceMemory)&&t.setTag("deviceMemory",`${e.deviceMemory} GB`);w(e.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}(t),"pageload"===t.op){"number"==typeof r&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.log("[Measurements] Adding TTFB"),M.ttfb={value:1e3*(r-t.startTimestamp),unit:"millisecond"},"number"==typeof i&&i<=r&&(M["ttfb.requestTime"]={value:1e3*(r-i),unit:"millisecond"})),["fcp","fp","lcp"].forEach((e=>{if(!M[e]||n>=t.startTimestamp)return;const o=M[e].value,r=n+P(o),i=Math.abs(1e3*(r-t.startTimestamp)),s=i-o;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.log(`[Measurements] Normalized ${e} from ${o} to ${i} (${s})`),M[e].value=i}));const e=M["mark.fid"];e&&M.fid&&(O(t,{description:"first input delay",endTimestamp:e.value+P(M.fid.value),op:"ui.action",startTimestamp:e.value}),delete M["mark.fid"]),"fcp"in M||delete M.cls,Object.keys(M).forEach((e=>{t.setMeasurement(e,M[e].value,M[e].unit)})),function(t){R&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.log("[Measurements] Adding LCP Data"),R.element&&t.setTag("lcp.element",(0,c.Rt)(R.element)),R.id&&t.setTag("lcp.id",R.id),R.url&&t.setTag("lcp.url",R.url.trim().slice(0,200)),t.setTag("lcp.size",R.size));D&&D.sources&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.log("[Measurements] Adding CLS Data"),D.sources.forEach(((e,n)=>t.setTag(`cls.source.${n+1}`,(0,c.Rt)(e.node)))))}(t)}R=void 0,D=void 0,M={}}function I(t,e,n,o,r,i){const s=i?e[i]:e[`${n}End`],a=e[`${n}Start`];a&&s&&O(t,{op:"browser",description:r||n,startTimestamp:o+P(a),endTimestamp:o+P(s)})}var N=n(516),k=n(2533);const F={...o.AT,markBackgroundTransactions:!0,routingInstrumentation:function(t,e=!0,n=!0){if(!u||!u.location)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.warn("Could not initialize routing instrumentation due to invalid location"));let o,r=u.location.href;e&&(o=t({name:u.location.pathname,startTimestamp:d.Z1?d.Z1/1e3:void 0,op:"pageload",metadata:{source:"url"}})),n&&(0,k.oq)("history",(({to:e,from:n})=>{void 0===n&&r&&-1!==r.indexOf(e)?r=void 0:n!==e&&(r=void 0,o&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.log(`[Tracing] Finishing current transaction with op: ${o.op}`),o.finish()),o=t({name:u.location.pathname,op:"navigation",metadata:{source:"url"}}))}))},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{},...N.k3};class G{__init(){this.name="BrowserTracing"}constructor(t){G.prototype.__init.call(this),(0,r.T)(),this.options={...F,...t},void 0!==this.options._experiments.enableLongTask&&(this.options.enableLongTask=this.options._experiments.enableLongTask),t&&!t.tracePropagationTargets&&t.tracingOrigins&&(this.options.tracePropagationTargets=t.tracingOrigins),this._collectWebVitals=A(),this.options.enableLongTask&&_("longtask",(t=>{for(const e of t){const t=(0,s.x1)();if(!t)return;const n=P(d.Z1+e.startTime),o=P(e.duration);t.startChild({description:"Main UI thread blocked",op:"ui.long-task",startTimestamp:n,endTimestamp:n+o})}})),this.options._experiments.enableInteractions&&_("event",(t=>{for(const e of t){const t=(0,s.x1)();if(!t)return;if("click"===e.name){const n=P(d.Z1+e.startTime),o=P(e.duration);t.startChild({description:(0,c.Rt)(e.target),op:`ui.interaction.${e.name}`,startTimestamp:n,endTimestamp:n+o})}}}),{durationThreshold:0})}setupOnce(t,e){this._getCurrentHub=e;const{routingInstrumentation:n,startTransactionOnLocationChange:o,startTransactionOnPageLoad:r,markBackgroundTransactions:i,traceFetch:l,traceXHR:c,tracePropagationTargets:d,shouldCreateSpanForRequest:p,_experiments:h}=this.options;n((t=>{const n=this._createRouteTransaction(t);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(n,t,e),n}),r,o),i&&(u&&u.document?u.document.addEventListener("visibilitychange",(()=>{const t=(0,s.x1)();if(u.document.hidden&&t){const e="cancelled";("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${t.op}`),t.status||t.setStatus(e),t.setTag("visibilitychange","document.hidden"),t.finish()}})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.warn("[Tracing] Could not set up background tab detection due to lack of global document")),h.enableInteractions&&this._registerInteractionListener(),(0,N.L7)({traceFetch:l,traceXHR:c,tracePropagationTargets:d,shouldCreateSpanForRequest:p})}_createRouteTransaction(t){if(!this._getCurrentHub)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.warn(`[Tracing] Did not create ${t.op} transaction because _getCurrentHub is invalid.`));const{beforeNavigate:e,idleTimeout:n,finalTimeout:o,heartbeatInterval:s}=this.options,c="pageload"===t.op,d=c?B("sentry-trace"):null,p=c?B("baggage"):null,h=d?(0,i.q)(d):void 0,f=p?(0,l.EN)(p):void 0,g={...t,...h,metadata:{...t.metadata,dynamicSamplingContext:h&&!f?{}:f},trimEnd:!0},_="function"==typeof e?e(g):g,m=void 0===_?{...g,sampled:!1}:_;m.metadata=m.name!==g.name?{...m.metadata,source:"custom"}:m.metadata,this._latestRouteName=m.name,this._latestRouteSource=m.metadata&&m.metadata.source,!1===m.sampled&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.log(`[Tracing] Will not send ${m.op} transaction because of beforeNavigate.`),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.log(`[Tracing] Starting ${m.op} transaction on scope`);const y=this._getCurrentHub(),{location:v}=u,C=(0,r.l)(y,m,n,o,!0,{location:v},s);return C.registerBeforeFinishCallback((t=>{this._collectWebVitals(),L(t)})),C}_registerInteractionListener(){let t;const e=()=>{const{idleTimeout:e,finalTimeout:n,heartbeatInterval:o}=this.options,i="ui.action.click",l=(0,s.x1)();if(l&&l.op&&["navigation","pageload"].includes(l.op))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.warn(`[Tracing] Did not create ${i} transaction because a pageload or navigation transaction is in progress.`));if(t&&(t.setFinishReason("interactionInterrupted"),t.finish(),t=void 0),!this._getCurrentHub)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.warn(`[Tracing] Did not create ${i} transaction because _getCurrentHub is invalid.`));if(!this._latestRouteName)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.warn(`[Tracing] Did not create ${i} transaction because _latestRouteName is missing.`));const c=this._getCurrentHub(),{location:d}=u,p={name:this._latestRouteName,op:i,trimEnd:!0,metadata:{source:this._latestRouteSource||"url"}};t=(0,r.l)(c,p,e,n,!0,{location:d},o)};["click"].forEach((t=>{addEventListener(t,e,{once:!1,capture:!0})}))}}function B(t){const e=(0,c.qT)(`meta[name=${t}]`);return e?e.getAttribute("content"):null}},516:(t,e,n)=>{"use strict";n.d(e,{L7:()=>d,k3:()=>u});var o=n(7522),r=n(5659),i=n(2533),s=n(7321),a=n(9181),l=n(7597);const c=["localhost",/^\//],u={traceFetch:!0,traceXHR:!0,tracingOrigins:c,tracePropagationTargets:c};function d(t){const{traceFetch:e,traceXHR:n,tracePropagationTargets:d,tracingOrigins:p,shouldCreateSpanForRequest:h}={traceFetch:u.traceFetch,traceXHR:u.traceXHR,...t},f="function"==typeof h?h:t=>!0,g=t=>function(t,e){return(0,s.U0)(t,e||c)}(t,d||p),_={};e&&(0,i.oq)("fetch",(t=>{!function(t,e,n,i){if(!(0,o.z)()||!t.fetchData||!e(t.fetchData.url))return;if(t.endTimestamp){const e=t.fetchData.__span;if(!e)return;const n=i[e];return void(n&&(t.response?n.setHttpStatus(t.response.status):t.error&&n.setStatus("internal_error"),n.finish(),delete i[e]))}const s=t.response&&t.response.headers&&t.response.headers.get("content-length"),c=(0,r.Gd)().getScope(),u=c&&c.getSpan(),d=u&&u.transaction;if(u&&d){const{method:e,url:o}=t.fetchData,r=u.startChild({data:{url:o,type:"fetch",...s?{"http.response_content_length":s}:{},"http.method":e},description:`${e} ${o}`,op:"http.client"});t.fetchData.__span=r.spanId,i[r.spanId]=r;const c=t.args[0];t.args[1]=t.args[1]||{};const p=t.args[1];n(t.fetchData.url)&&(p.headers=function(t,e,n,o){const r=(0,a.IQ)(e),i=n.toTraceparent(),s="undefined"!=typeof Request&&(0,l.V9)(t,Request)?t.headers:o.headers;if(s){if("undefined"!=typeof Headers&&(0,l.V9)(s,Headers)){const t=new Headers(s);return t.append("sentry-trace",i),r&&t.append(a.bU,r),t}if(Array.isArray(s)){const t=[...s,["sentry-trace",i]];return r&&t.push([a.bU,r]),t}{const t="baggage"in s?s.baggage:void 0,e=[];return Array.isArray(t)?e.push(...t):t&&e.push(t),r&&e.push(r),{...s,"sentry-trace":i,baggage:e.length>0?e.join(","):void 0}}}return{"sentry-trace":i,baggage:r}}(c,d.getDynamicSamplingContext(),r,p))}}(t,f,g,_)})),n&&(0,i.oq)("xhr",(t=>{!function(t,e,n,s){const l=t.xhr,c=l&&l[i.xU];if(!(0,o.z)()||l&&l.__sentry_own_request__||!(l&&c&&e(c.url)))return;if(t.endTimestamp){const t=l.__sentry_xhr_span_id__;if(!t)return;const e=s[t];return void(e&&(e.setHttpStatus(c.status_code),e.finish(),delete s[t]))}const u=(0,r.Gd)().getScope(),d=u&&u.getSpan(),p=d&&d.transaction;if(d&&p){const t=d.startChild({data:{...c.data,type:"xhr","http.method":c.method,url:c.url},description:`${c.method} ${c.url}`,op:"http.client"});if(l.__sentry_xhr_span_id__=t.spanId,s[l.__sentry_xhr_span_id__]=t,l.setRequestHeader&&n(c.url))try{l.setRequestHeader("sentry-trace",t.toTraceparent());const e=p.getDynamicSamplingContext(),n=(0,a.IQ)(e);n&&l.setRequestHeader(a.bU,n)}catch(t){}}}(t,f,g,_)}))}},2248:(t,e,n)=>{"use strict";n.d(e,{R:()=>P});var o=n(292),r=n(2343),i=n(2844),s=n(7597),a=n(6893),l=n(8725),c=n(409),u=n(1984);var d=n(2967),p=n(9015),h=n(8942);const f="Not capturing exception because it's already been captured.";class g{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}__init5(){this._hooks={}}constructor(t){if(g.prototype.__init.call(this),g.prototype.__init2.call(this),g.prototype.__init3.call(this),g.prototype.__init4.call(this),g.prototype.__init5.call(this),this._options=t,t.dsn){this._dsn=(0,o.vK)(t.dsn);const e=(0,u.U)(this._dsn,t);this._transport=t.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:e})}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.warn("No DSN provided, client will not do anything.")}captureException(t,e,n){if((0,i.YO)(t))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log(f));let o=e&&e.event_id;return this._process(this.eventFromException(t,e).then((t=>this._captureEvent(t,e,n))).then((t=>{o=t}))),o}captureMessage(t,e,n,o){let r=n&&n.event_id;const i=(0,s.pt)(t)?this.eventFromMessage(String(t),e,n):this.eventFromException(t,n);return this._process(i.then((t=>this._captureEvent(t,n,o))).then((t=>{r=t}))),r}captureEvent(t,e,n){if(e&&e.originalException&&(0,i.YO)(e.originalException))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log(f));let o=e&&e.event_id;return this._process(this._captureEvent(t,e,n).then((t=>{o=t}))),o}captureSession(t){this._isEnabled()?"string"!=typeof t.release?("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),(0,p.CT)(t,{init:!1})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.warn("SDK not enabled, will not capture session.")}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const e=this._transport;return e?this._isClientDoneProcessing(t).then((n=>e.flush(t).then((t=>n&&t)))):(0,a.WD)(!0)}close(t){return this.flush(t).then((t=>(this.getOptions().enabled=!1,t)))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=(0,d.q4)(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch(e){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}addIntegration(t){(0,d.m7)(t,this._integrations)}sendEvent(t,e={}){if(this._dsn){let n=function(t,e,n,o){const r=(0,l.HY)(n),i=t.type&&"replay_event"!==t.type?t.type:"event";!function(t,e){e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]])}(t,n&&n.sdk);const s=(0,l.Cd)(t,r,o,e);delete t.sdkProcessingMetadata;const a=[{type:i},t];return(0,l.Jd)(s,[a])}(t,this._dsn,this._options._metadata,this._options.tunnel);for(const t of e.attachments||[])n=(0,l.BO)(n,(0,l.zQ)(t,this._options.transportOptions&&this._options.transportOptions.textEncoder));const o=this._sendEnvelope(n);o&&o.then((e=>this.emit("afterSendEvent",t,e)),null)}}sendSession(t){if(this._dsn){const e=function(t,e,n,r){const i=(0,l.HY)(n),s={sent_at:(new Date).toISOString(),...i&&{sdk:i},...!!r&&{dsn:(0,o.RA)(e)}},a="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t];return(0,l.Jd)(s,[a])}(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(e)}}recordDroppedEvent(t,e,n){if(this._options.sendClientReports){const n=`${t}:${e}`;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log(`Adding outcome: "${n}"`),this._outcomes[n]=this._outcomes[n]+1||1}}on(t,e){this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(e)}emit(t,...e){this._hooks[t]&&this._hooks[t].forEach((t=>t(...e)))}_updateSessionFromEvent(t,e){let n=!1,o=!1;const r=e.exception&&e.exception.values;if(r){o=!0;for(const t of r){const e=t.mechanism;if(e&&!1===e.handled){n=!0;break}}}const i="ok"===t.status;(i&&0===t.errors||i&&n)&&((0,p.CT)(t,{...n&&{status:"crashed"},errors:t.errors||Number(o||n)}),this.captureSession(t))}_isClientDoneProcessing(t){return new a.cW((e=>{let n=0;const o=setInterval((()=>{0==this._numProcessing?(clearInterval(o),e(!0)):(n+=1,t&&n>=t&&(clearInterval(o),e(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._dsn}_prepareEvent(t,e,n){const o=this.getOptions(),r=Object.keys(this._integrations);return!e.integrations&&r.length>0&&(e.integrations=r),(0,h.R)(o,t,e,n)}_captureEvent(t,e={},n){return this._processEvent(t,e,n).then((t=>t.event_id),(t=>{if("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__){const e=t;"log"===e.logLevel?r.kg.log(e.message):r.kg.warn(e)}}))}_processEvent(t,e,n){const o=this.getOptions(),{sampleRate:r}=o;if(!this._isEnabled())return(0,a.$2)(new c.b("SDK not enabled, will not capture event.","log"));const i=m(t),l=_(t),u=t.type||"error",d=`before send for type \`${u}\``;if(l&&"number"==typeof r&&Math.random()>r)return this.recordDroppedEvent("sample_rate","error",t),(0,a.$2)(new c.b(`Discarding event because it's not included in the random sample (sampling rate = ${r})`,"log"));const p="replay_event"===u?"replay":u;return this._prepareEvent(t,e,n).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",p,t),new c.b("An event processor returned `null`, will not send event.","log");if(e.data&&!0===e.data.__sentry__)return n;const r=function(t,e,n){const{beforeSend:o,beforeSendTransaction:r}=t;if(_(e)&&o)return o(e,n);if(m(e)&&r)return r(e,n);return e}(o,n,e);return function(t,e){const n=`${e} must return \`null\` or a valid event.`;if((0,s.J8)(t))return t.then((t=>{if(!(0,s.PO)(t)&&null!==t)throw new c.b(n);return t}),(t=>{throw new c.b(`${e} rejected with ${t}`)}));if(!(0,s.PO)(t)&&null!==t)throw new c.b(n);return t}(r,d)})).then((o=>{if(null===o)throw this.recordDroppedEvent("before_send",p,t),new c.b(`${d} returned \`null\`, will not send event.`,"log");const r=n&&n.getSession();!i&&r&&this._updateSessionFromEvent(r,o);const s=o.transaction_info;if(i&&s&&o.transaction!==t.transaction){const t="custom";o.transaction_info={...s,source:t}}return this.sendEvent(o,e),o})).then(null,(t=>{if(t instanceof c.b)throw t;throw this.captureException(t,{data:{__sentry__:!0},originalException:t}),new c.b(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${t}`)}))}_process(t){this._numProcessing++,t.then((t=>(this._numProcessing--,t)),(t=>(this._numProcessing--,t)))}_sendEnvelope(t){if(this._transport&&this._dsn)return this.emit("beforeEnvelope",t),this._transport.send(t).then(null,(t=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.error("Error while sending event:",t)}));("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.error("Transport disabled")}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.keys(t).map((e=>{const[n,o]=e.split(":");return{reason:n,category:o,quantity:t[e]}}))}}function _(t){return void 0===t.type}function m(t){return"transaction"===t.type}var y=n(105),v=n(8518),C=n(1170);function E(t,e,n){const o=[{type:"client_report"},{timestamp:n||(0,C.yW)(),discarded_events:t}];return(0,l.Jd)(e?{dsn:e}:{},[o])}var b=n(4773),S=n(6891),w=n(7729),O=n(911);class P extends g{constructor(t){const e=S.m9.SENTRY_SDK_SOURCE||(0,v.S)();t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:`${e}:@sentry/browser`,version:y.J}],version:y.J},super(t),t.sendClientReports&&S.m9.document&&S.m9.document.addEventListener("visibilitychange",(()=>{"hidden"===S.m9.document.visibilityState&&this._flushOutcomes()}))}eventFromException(t,e){return(0,b.dr)(this._options.stackParser,t,e,this._options.attachStacktrace)}eventFromMessage(t,e="info",n){return(0,b.aB)(this._options.stackParser,t,e,n,this._options.attachStacktrace)}sendEvent(t,e){const n=this.getIntegrationById(w.p);n&&n.addSentryBreadcrumb&&n.addSentryBreadcrumb(t),super.sendEvent(t,e)}captureUserFeedback(t){if(!this._isEnabled())return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.warn("SDK not enabled, will not capture user feedback."));const e=(0,O.r)(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(e)}_prepareEvent(t,e,n){return t.platform=t.platform||"javascript",super._prepareEvent(t,e,n)}_flushOutcomes(){const t=this._clearOutcomes();if(0===t.length)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("No outcomes to send"));if(!this._dsn)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("No dsn provided, will not send outcomes"));("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("Sending outcomes:",t);const e=E(t,this._options.tunnel&&(0,o.RA)(this._dsn));this._sendEnvelope(e)}}},4773:(t,e,n)=>{"use strict";n.d(e,{GJ:()=>c,ME:()=>_,aB:()=>g,dr:()=>f});var o=n(5659),r=n(7597),i=n(5301),s=n(8007),a=n(2844),l=n(6893);function c(t,e){const n=d(t,e),o={type:e&&e.name,value:h(e)};return n.length&&(o.stacktrace={frames:n}),void 0===o.type&&""===o.value&&(o.value="Unrecoverable error caught"),o}function u(t,e){return{exception:{values:[c(t,e)]}}}function d(t,e){const n=e.stacktrace||e.stack||"",o=function(t){if(t){if("number"==typeof t.framesToPop)return t.framesToPop;if(p.test(t.message))return 1}return 0}(e);try{return t(n,o)}catch(t){}return[]}const p=/Minified React error #\d+;/i;function h(t){const e=t&&t.message;return e?e.error&&"string"==typeof e.error.message?e.error.message:e:"No error message"}function f(t,e,n,o){const r=_(t,e,n&&n.syntheticException||void 0,o);return(0,a.EG)(r),r.level="error",n&&n.event_id&&(r.event_id=n.event_id),(0,l.WD)(r)}function g(t,e,n="info",o,r){const i=m(t,e,o&&o.syntheticException||void 0,r);return i.level=n,o&&o.event_id&&(i.event_id=o.event_id),(0,l.WD)(i)}function _(t,e,n,l,c){let p;if((0,r.VW)(e)&&e.error){return u(t,e.error)}if((0,r.TX)(e)||(0,r.fm)(e)){const o=e;if("stack"in e)p=u(t,e);else{const e=o.name||((0,r.TX)(o)?"DOMError":"DOMException"),i=o.message?`${e}: ${o.message}`:e;p=m(t,i,n,l),(0,a.Db)(p,i)}return"code"in o&&(p.tags={...p.tags,"DOMException.code":`${o.code}`}),p}if((0,r.VZ)(e))return u(t,e);if((0,r.PO)(e)||(0,r.cO)(e)){return p=function(t,e,n,a){const l=(0,o.Gd)().getClient(),c=l&&l.getOptions().normalizeDepth,u={exception:{values:[{type:(0,r.cO)(e)?e.constructor.name:a?"UnhandledRejection":"Error",value:`Non-Error ${a?"promise rejection":"exception"} captured with keys: ${(0,i.zf)(e)}`}]},extra:{__serialized__:(0,s.Qy)(e,c)}};if(n){const e=d(t,n);e.length&&(u.exception.values[0].stacktrace={frames:e})}return u}(t,e,n,c),(0,a.EG)(p,{synthetic:!0}),p}return p=m(t,e,n,l),(0,a.Db)(p,`${e}`,void 0),(0,a.EG)(p,{synthetic:!0}),p}function m(t,e,n,o){const r={message:e};if(o&&n){const o=d(t,n);o.length&&(r.exception={values:[{value:e,stacktrace:{frames:o}}]})}return r}},6891:(t,e,n)=>{"use strict";n.d(e,{Wz:()=>c,m9:()=>a,re:()=>u});var o=n(4487),r=n(1235),i=n(5301),s=n(2844);const a=r.n2;let l=0;function c(){return l>0}function u(t,e={},n){if("function"!=typeof t)return t;try{const e=t.__sentry_wrapped__;if(e)return e;if((0,i.HK)(t))return t}catch(e){return t}const r=function(){const r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);const o=r.map((t=>u(t,e)));return t.apply(this,o)}catch(t){throw l++,setTimeout((()=>{l--})),(0,o.$e)((n=>{n.addEventProcessor((t=>(e.mechanism&&((0,s.Db)(t,void 0,void 0),(0,s.EG)(t,e.mechanism)),t.extra={...t.extra,arguments:r},t))),(0,o.Tb)(t)})),t}};try{for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e])}catch(t){}(0,i.$Q)(r,t),(0,i.xp)(t,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>t.name})}catch(t){}return r}},7729:(t,e,n)=>{"use strict";n.d(e,{p:()=>f,O:()=>g});var o=n(5659),r=n(2533),i=n(2844),s=n(2343),a=n(8464);const l=["fatal","error","warning","log","info","debug"];function c(t){return"warn"===t?"warning":l.includes(t)?t:"log"}var u=n(7321);function d(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const n=e[6]||"",o=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:n,hash:o,relative:e[5]+n+o}}var p=n(6891);const h=1024,f="Breadcrumbs";class g{static __initStatic(){this.id=f}__init(){this.name=g.id}constructor(t){g.prototype.__init.call(this),this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t}}setupOnce(){this.options.console&&(0,r.oq)("console",_),this.options.dom&&(0,r.oq)("dom",function(t){function e(e){let n,r="object"==typeof t?t.serializeAttribute:void 0,i="object"==typeof t&&"number"==typeof t.maxStringLength?t.maxStringLength:void 0;i&&i>h&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${i} was configured. Sentry will use 1024 instead.`),i=h),"string"==typeof r&&(r=[r]);try{const t=e.event;n=function(t){return t&&!!t.target}(t)?(0,a.Rt)(t.target,{keyAttrs:r,maxStringLength:i}):(0,a.Rt)(t,{keyAttrs:r,maxStringLength:i})}catch(t){n="<unknown>"}0!==n.length&&(0,o.Gd)().addBreadcrumb({category:`ui.${e.name}`,message:n},{event:e.event,name:e.name,global:e.global})}return e}(this.options.dom)),this.options.xhr&&(0,r.oq)("xhr",m),this.options.fetch&&(0,r.oq)("fetch",y),this.options.history&&(0,r.oq)("history",v)}addSentryBreadcrumb(t){this.options.sentry&&(0,o.Gd)().addBreadcrumb({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:(0,i.jH)(t)},{event:t})}}function _(t){for(let e=0;e<t.args.length;e++)if("ref=Ref<"===t.args[e]){t.args[e+1]="viewRef";break}const e={category:"console",data:{arguments:t.args,logger:"console"},level:c(t.level),message:(0,u.nK)(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;e.message=`Assertion failed: ${(0,u.nK)(t.args.slice(1)," ")||"console.assert"}`,e.data.arguments=t.args.slice(1)}(0,o.Gd)().addBreadcrumb(e,{input:t.args,level:t.level})}function m(t){const{startTimestamp:e,endTimestamp:n}=t,i=t.xhr[r.xU];if(!e||!n||!i)return;const{method:s,url:a,status_code:l,body:c}=i,u={method:s,url:a,status_code:l},d={xhr:t.xhr,input:c,startTimestamp:e,endTimestamp:n};(0,o.Gd)().addBreadcrumb({category:"xhr",data:u,type:"http"},d)}function y(t){const{startTimestamp:e,endTimestamp:n}=t;if(n&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.error){const r=t.fetchData,i={data:t.error,input:t.args,startTimestamp:e,endTimestamp:n};(0,o.Gd)().addBreadcrumb({category:"fetch",data:r,level:"error",type:"http"},i)}else{const r={...t.fetchData,status_code:t.response&&t.response.status},i={input:t.args,response:t.response,startTimestamp:e,endTimestamp:n};(0,o.Gd)().addBreadcrumb({category:"fetch",data:r,type:"http"},i)}}function v(t){let e=t.from,n=t.to;const r=d(p.m9.location.href);let i=d(e);const s=d(n);i.path||(i=r),r.protocol===s.protocol&&r.host===s.host&&(n=s.relative),r.protocol===i.protocol&&r.host===i.host&&(e=i.relative),(0,o.Gd)().addBreadcrumb({category:"navigation",data:{from:e,to:n}})}g.__initStatic()},9730:(t,e,n)=>{"use strict";n.d(e,{I:()=>r});var o=n(2343);class r{constructor(){r.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=r.id}setupOnce(t,e){const n=t=>{if(t.type)return t;const n=e().getIntegration(r);if(n){try{if(function(t,e){if(!e)return!1;if(function(t,e){const n=t.message,o=e.message;if(!n&&!o)return!1;if(n&&!o||!n&&o)return!1;if(n!==o)return!1;if(!s(t,e))return!1;if(!i(t,e))return!1;return!0}(t,e))return!0;if(function(t,e){const n=a(e),o=a(t);if(!n||!o)return!1;if(n.type!==o.type||n.value!==o.value)return!1;if(!s(t,e))return!1;if(!i(t,e))return!1;return!0}(t,e))return!0;return!1}(t,n._previousEvent))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){return n._previousEvent=t}return n._previousEvent=t}return t};n.id=this.name,t(n)}}function i(t,e){let n=l(t),o=l(e);if(!n&&!o)return!0;if(n&&!o||!n&&o)return!1;if(o.length!==n.length)return!1;for(let t=0;t<o.length;t++){const e=o[t],r=n[t];if(e.filename!==r.filename||e.lineno!==r.lineno||e.colno!==r.colno||e.function!==r.function)return!1}return!0}function s(t,e){let n=t.fingerprint,o=e.fingerprint;if(!n&&!o)return!0;if(n&&!o||!n&&o)return!1;try{return!(n.join("")!==o.join(""))}catch(t){return!1}}function a(t){return t.exception&&t.exception.values&&t.exception.values[0]}function l(t){const e=t.exception;if(e)try{return e.values[0].stacktrace.frames}catch(t){return}}r.__initStatic()},2136:(t,e,n)=>{"use strict";n.d(e,{d:()=>d});var o=n(5659),r=n(2533),i=n(7597),s=n(8464),a=n(2343),l=n(2844),c=n(4773),u=n(6891);class d{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=d.id}__init2(){this._installFunc={onerror:p,onunhandledrejection:h}}constructor(t){d.prototype.__init.call(this),d.prototype.__init2.call(this),this._options={onerror:!0,onunhandledrejection:!0,...t}}setupOnce(){Error.stackTraceLimit=50;const t=this._options;for(const n in t){const o=this._installFunc[n];o&&t[n]&&(e=n,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.log(`Global Handler attached: ${e}`),o(),this._installFunc[n]=void 0)}var e}}function p(){(0,r.oq)("error",(t=>{const[e,n,o]=_();if(!e.getIntegration(d))return;const{msg:r,url:s,line:a,column:l,error:p}=t;if((0,u.Wz)()||p&&p.__sentry_own_request__)return;const h=void 0===p&&(0,i.HD)(r)?function(t,e,n,o){const r=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let s=(0,i.VW)(t)?t.message:t,a="Error";const l=s.match(r);l&&(a=l[1],s=l[2]);const c={exception:{values:[{type:a,value:s}]}};return f(c,e,n,o)}(r,s,a,l):f((0,c.ME)(n,p||r,void 0,o,!1),s,a,l);h.level="error",g(e,p,h,"onerror")}))}function h(){(0,r.oq)("unhandledrejection",(t=>{const[e,n,o]=_();if(!e.getIntegration(d))return;let r=t;try{"reason"in t?r=t.reason:"detail"in t&&"reason"in t.detail&&(r=t.detail.reason)}catch(t){}if((0,u.Wz)()||r&&r.__sentry_own_request__)return!0;const s=(0,i.pt)(r)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(r)}`}]}}:(0,c.ME)(n,r,void 0,o,!0);s.level="error",g(e,r,s,"onunhandledrejection")}))}function f(t,e,n,o){const r=t.exception=t.exception||{},a=r.values=r.values||[],l=a[0]=a[0]||{},c=l.stacktrace=l.stacktrace||{},u=c.frames=c.frames||[],d=isNaN(parseInt(o,10))?void 0:o,p=isNaN(parseInt(n,10))?void 0:n,h=(0,i.HD)(e)&&e.length>0?e:(0,s.l4)();return 0===u.length&&u.push({colno:d,filename:h,function:"?",in_app:!0,lineno:p}),t}function g(t,e,n,o){(0,l.EG)(n,{handled:!1,type:o}),t.captureEvent(n,{originalException:e})}function _(){const t=(0,o.Gd)(),e=t.getClient(),n=e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[t,n.stackParser,n.attachStacktrace]}d.__initStatic()},1945:(t,e,n)=>{"use strict";n.d(e,{q:()=>s});var o=n(350),r=n(5659),i=n(6891);class s{constructor(){s.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=s.id}setupOnce(){(0,o.c)((t=>{if((0,r.Gd)().getIntegration(s)){if(!i.m9.navigator&&!i.m9.location&&!i.m9.document)return t;const e=t.request&&t.request.url||i.m9.location&&i.m9.location.href,{referrer:n}=i.m9.document||{},{userAgent:o}=i.m9.navigator||{},r={...t.request&&t.request.headers,...n&&{Referer:n},...o&&{"User-Agent":o}},s={...t.request,...e&&{url:e},headers:r};return{...t,request:s}}return t}))}}s.__initStatic()},1634:(t,e,n)=>{"use strict";n.d(e,{iP:()=>a});var o=n(5659),r=n(350),i=n(7597),s=n(4773);class a{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=a.id}constructor(t={}){a.prototype.__init.call(this),this._key=t.key||"cause",this._limit=t.limit||5}setupOnce(){const t=(0,o.Gd)().getClient();t&&(0,r.c)(((e,n)=>{const r=(0,o.Gd)().getIntegration(a);return r?function(t,e,n,o,r){if(!(o.exception&&o.exception.values&&r&&(0,i.V9)(r.originalException,Error)))return o;const s=l(t,n,r.originalException,e);return o.exception.values=[...s,...o.exception.values],o}(t.getOptions().stackParser,r._key,r._limit,e,n):e}))}}function l(t,e,n,o,r=[]){if(!(0,i.V9)(n[o],Error)||r.length+1>=e)return r;const a=(0,s.GJ)(t,n[o]);return l(t,e,n[o],o,[a,...r])}a.__initStatic()},3692:(t,e,n)=>{"use strict";n.d(e,{p:()=>a});var o=n(5301),r=n(360),i=n(6891);const s=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class a{static __initStatic(){this.id="TryCatch"}__init(){this.name=a.id}constructor(t){a.prototype.__init.call(this),this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t}}setupOnce(){this._options.setTimeout&&(0,o.hl)(i.m9,"setTimeout",l),this._options.setInterval&&(0,o.hl)(i.m9,"setInterval",l),this._options.requestAnimationFrame&&(0,o.hl)(i.m9,"requestAnimationFrame",c),this._options.XMLHttpRequest&&"XMLHttpRequest"in i.m9&&(0,o.hl)(XMLHttpRequest.prototype,"send",u);const t=this._options.eventTarget;if(t){(Array.isArray(t)?t:s).forEach(d)}}}function l(t){return function(...e){const n=e[0];return e[0]=(0,i.re)(n,{mechanism:{data:{function:(0,r.$P)(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}}function c(t){return function(e){return t.apply(this,[(0,i.re)(e,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,r.$P)(t)},handled:!0,type:"instrument"}})])}}function u(t){return function(...e){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((t=>{t in n&&"function"==typeof n[t]&&(0,o.hl)(n,t,(function(e){const n={mechanism:{data:{function:t,handler:(0,r.$P)(e)},handled:!0,type:"instrument"}},s=(0,o.HK)(e);return s&&(n.mechanism.data.handler=(0,r.$P)(s)),(0,i.re)(e,n)}))})),t.apply(this,e)}}function d(t){const e=i.m9,n=e[t]&&e[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,o.hl)(n,"addEventListener",(function(e){return function(n,o,s){try{"function"==typeof o.handleEvent&&(o.handleEvent=(0,i.re)(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:(0,r.$P)(o),target:t},handled:!0,type:"instrument"}}))}catch(t){}return e.apply(this,[n,(0,i.re)(o,{mechanism:{data:{function:"addEventListener",handler:(0,r.$P)(o),target:t},handled:!0,type:"instrument"}}),s])}})),(0,o.hl)(n,"removeEventListener",(function(t){return function(e,n,o){const r=n;try{const n=r&&r.__sentry_wrapped__;n&&t.call(this,e,n,o)}catch(t){}return t.call(this,e,r,o)}})))}a.__initStatic()},8620:(t,e,n)=>{"use strict";n.d(e,{Jd:()=>I,xv:()=>M,SS:()=>w,yl:()=>x,Eg:()=>R,S1:()=>O,eW:()=>T,lA:()=>D,jp:()=>P,re:()=>A});var o=n(2422),r=n(9116),i=n(2967),s=n(2343),a=n(5659);var l=n(1984),c=n(360),u=n(8823),d=n(6893),p=n(2533),h=n(2248),f=n(6891),g=n(2136),_=n(3692),m=n(7729),y=n(1634),v=n(1945),C=n(9730),E=n(4469),b=n(8838),S=n(8131);const w=[new o.QD,new r.c,new _.p,new m.O,new g.d,new y.iP,new C.I,new v.q];function O(t={}){void 0===t.defaultIntegrations&&(t.defaultIntegrations=w),void 0===t.release&&("string"==typeof __SENTRY_RELEASE__&&(t.release=__SENTRY_RELEASE__),f.m9.SENTRY_RELEASE&&f.m9.SENTRY_RELEASE.id&&(t.release=f.m9.SENTRY_RELEASE.id)),void 0===t.autoSessionTracking&&(t.autoSessionTracking=!0),void 0===t.sendClientReports&&(t.sendClientReports=!0);const e={...t,stackParser:(0,c.Sq)(t.stackParser||E.Dt),integrations:(0,i.m8)(t),transport:t.transport||((0,u.Ak)()?b.f:S.K)};!function(t,e){!0===e.debug&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?s.kg.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));const n=(0,a.Gd)();n.getScope().update(e.initialScope);const o=new t(e);n.bindClient(o)}(h.R,e),t.autoSessionTracking&&function(){if(void 0===f.m9.document)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));const t=(0,a.Gd)();if(!t.captureSession)return;L(t),(0,p.oq)("history",(({from:t,to:e})=>{void 0!==t&&t!==e&&L((0,a.Gd)())}))}()}function P(t={},e=(0,a.Gd)()){if(!f.m9.document)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.error("Global document not defined in showReportDialog call"));const{client:n,scope:o}=e.getStackTop(),r=t.dsn||n&&n.getDsn();if(!r)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.error("DSN not configured for showReportDialog call"));o&&(t.user={...o.getUser(),...t.user}),t.eventId||(t.eventId=e.lastEventId());const i=f.m9.document.createElement("script");i.async=!0,i.src=(0,l.h)(r,t),t.onLoad&&(i.onload=t.onLoad);const c=f.m9.document.head||f.m9.document.body;c?c.appendChild(i):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.error("Not injecting report dialog. No injection point found in HTML")}function T(){return(0,a.Gd)().lastEventId()}function R(){}function D(t){t()}function x(t){const e=(0,a.Gd)().getClient();return e?e.flush(t):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.warn("Cannot flush events. No client defined."),(0,d.WD)(!1))}function M(t){const e=(0,a.Gd)().getClient();return e?e.close(t):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.warn("Cannot flush events and disable SDK. No client defined."),(0,d.WD)(!1))}function A(t){return(0,f.re)(t)()}function L(t){t.startSession({ignoreDuration:!0}),t.captureSession()}function I(t){const e=(0,a.Gd)().getClient();e&&e.captureUserFeedback(t)}},4469:(t,e,n)=>{"use strict";n.d(e,{$3:()=>l,$Q:()=>d,Dt:()=>v,HH:()=>m,NP:()=>g,R2:()=>h,d8:()=>y});var o=n(360);const r="?";function i(t,e,n,o){const r={filename:t,function:e,in_app:!0};return void 0!==n&&(r.lineno=n),void 0!==o&&(r.colno=o),r}const s=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,a=/\((\S*)(?::(\d+))(?::(\d+))\)/,l=[30,t=>{const e=s.exec(t);if(e){if(e[2]&&0===e[2].indexOf("eval")){const t=a.exec(e[2]);t&&(e[2]=t[1],e[3]=t[2],e[4]=t[3])}const[t,n]=C(e[1]||r,e[2]);return i(n,t,e[3]?+e[3]:void 0,e[4]?+e[4]:void 0)}}],c=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,u=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,d=[50,t=>{const e=c.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const t=u.exec(e[3]);t&&(e[1]=e[1]||"eval",e[3]=t[1],e[4]=t[2],e[5]="")}let t=e[3],n=e[1]||r;return[n,t]=C(n,t),i(t,n,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}}],p=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,h=[40,t=>{const e=p.exec(t);return e?i(e[2],e[1]||r,+e[3],e[4]?+e[4]:void 0):void 0}],f=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,g=[10,t=>{const e=f.exec(t);return e?i(e[2],e[3]||r,+e[1]):void 0}],_=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,m=[20,t=>{const e=_.exec(t);return e?i(e[5],e[3]||e[4]||r,+e[1],+e[2]):void 0}],y=[l,d,h],v=(0,o.pE)(...y),C=(t,e)=>{const n=-1!==t.indexOf("safari-extension"),o=-1!==t.indexOf("safari-web-extension");return n||o?[-1!==t.indexOf("@")?t.split("@")[0]:r,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]}},8838:(t,e,n)=>{"use strict";n.d(e,{f:()=>c});var o=n(9604),r=n(6893),i=n(8823),s=n(2343),a=n(6891);let l;function c(t,e=function(){if(l)return l;if((0,i.Du)(a.m9.fetch))return l=a.m9.fetch.bind(a.m9);const t=a.m9.document;let e=a.m9.fetch;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n);const o=n.contentWindow;o&&o.fetch&&(e=o.fetch),t.head.removeChild(n)}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return l=e.bind(a.m9)}()){let n=0,c=0;return(0,o.q)(t,(function(o){const i=o.body.length;n+=i,c++;const s={body:o.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:n<=6e4&&c<15,...t.fetchOptions};try{return e(t.url,s).then((t=>(n-=i,c--,{statusCode:t.status,headers:{"x-sentry-rate-limits":t.headers.get("X-Sentry-Rate-Limits"),"retry-after":t.headers.get("Retry-After")}})))}catch(t){return l=void 0,n-=i,c--,(0,r.$2)(t)}}))}},8131:(t,e,n)=>{"use strict";n.d(e,{K:()=>s});var o=n(9604),r=n(6893);const i=4;function s(t){return(0,o.q)(t,(function(e){return new r.cW(((n,o)=>{const r=new XMLHttpRequest;r.onerror=o,r.onreadystatechange=()=>{r.readyState===i&&n({statusCode:r.status,headers:{"x-sentry-rate-limits":r.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":r.getResponseHeader("Retry-After")}})},r.open("POST",t.url);for(const e in t.headers)Object.prototype.hasOwnProperty.call(t.headers,e)&&r.setRequestHeader(e,t.headers[e]);r.send(e.body)}))}))}},911:(t,e,n)=>{"use strict";n.d(e,{r:()=>i});var o=n(292),r=n(8725);function i(t,{metadata:e,tunnel:n,dsn:i}){const s={event_id:t.event_id,sent_at:(new Date).toISOString(),...e&&e.sdk&&{sdk:{name:e.sdk.name,version:e.sdk.version}},...!!n&&!!i&&{dsn:(0,o.RA)(i)}},a=function(t){return[{type:"user_report"},t]}(t);return(0,r.Jd)(s,[a])}},1984:(t,e,n)=>{"use strict";n.d(e,{U:()=>a,h:()=>l});var o=n(5301),r=n(292);const i="7";function s(t){const e=t.protocol?`${t.protocol}:`:"",n=t.port?`:${t.port}`:"";return`${e}//${t.host}${n}${t.path?`/${t.path}`:""}/api/`}function a(t,e={}){const n="string"==typeof e?e:e.tunnel,r="string"!=typeof e&&e._metadata?e._metadata.sdk:void 0;return n||`${function(t){return`${s(t)}${t.projectId}/envelope/`}(t)}?${function(t,e){return(0,o._j)({sentry_key:t.publicKey,sentry_version:i,...e&&{sentry_client:`${e.name}/${e.version}`}})}(t,r)}`}function l(t,e){const n=(0,r.vK)(t),o=`${s(n)}embed/error-page/`;let i=`dsn=${(0,r.RA)(n)}`;for(const t in e)if("dsn"!==t)if("user"===t){const t=e.user;if(!t)continue;t.name&&(i+=`&name=${encodeURIComponent(t.name)}`),t.email&&(i+=`&email=${encodeURIComponent(t.email)}`)}else i+=`&${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`;return`${o}?${i}`}},1131:(t,e,n)=>{"use strict";n.d(e,{J:()=>o});const o="production"},4487:(t,e,n)=>{"use strict";n.d(e,{$e:()=>g,Tb:()=>r,YA:()=>h,Yr:()=>_,av:()=>f,e:()=>a,eN:()=>s,mG:()=>p,n_:()=>l,rJ:()=>u,sU:()=>d,uT:()=>i,v:()=>c});var o=n(5659);function r(t,e){return(0,o.Gd)().captureException(t,{captureContext:e})}function i(t,e){const n="string"==typeof e?e:void 0,r="string"!=typeof e?{captureContext:e}:void 0;return(0,o.Gd)().captureMessage(t,n,r)}function s(t,e){return(0,o.Gd)().captureEvent(t,e)}function a(t){(0,o.Gd)().configureScope(t)}function l(t){(0,o.Gd)().addBreadcrumb(t)}function c(t,e){(0,o.Gd)().setContext(t,e)}function u(t){(0,o.Gd)().setExtras(t)}function d(t,e){(0,o.Gd)().setExtra(t,e)}function p(t){(0,o.Gd)().setTags(t)}function h(t,e){(0,o.Gd)().setTag(t,e)}function f(t){(0,o.Gd)().setUser(t)}function g(t){(0,o.Gd)().withScope(t)}function _(t,e){return(0,o.Gd)().startTransaction({...t},e)}},5659:(t,e,n)=>{"use strict";n.d(e,{Gd:()=>g,Xb:()=>p,cu:()=>h,pj:()=>f,vi:()=>y});var o=n(2844),r=n(1170),i=n(2343),s=n(1235),a=n(1131),l=n(350),c=n(9015);const u=4,d=100;class p{constructor(t,e=new l.s,n=u){this._version=n,this._stack=[{scope:e}],t&&this.bindClient(t)}isOlderThan(t){return this._version<t}bindClient(t){this.getStackTop().client=t,t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){const t=l.s.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(t){const e=this.pushScope();try{t(e)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,e){const n=this._lastEventId=e&&e.event_id?e.event_id:(0,o.DM)(),r=new Error("Sentry syntheticException");return this._withClient(((o,i)=>{o.captureException(t,{originalException:t,syntheticException:r,...e,event_id:n},i)})),n}captureMessage(t,e,n){const r=this._lastEventId=n&&n.event_id?n.event_id:(0,o.DM)(),i=new Error(t);return this._withClient(((o,s)=>{o.captureMessage(t,e,{originalException:t,syntheticException:i,...n,event_id:r},s)})),r}captureEvent(t,e){const n=e&&e.event_id?e.event_id:(0,o.DM)();return t.type||(this._lastEventId=n),this._withClient(((o,r)=>{o.captureEvent(t,{...e,event_id:n},r)})),n}lastEventId(){return this._lastEventId}addBreadcrumb(t,e){const{scope:n,client:o}=this.getStackTop();if(!o)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:a=d}=o.getOptions&&o.getOptions()||{};if(a<=0)return;const l={timestamp:(0,r.yW)(),...t},c=s?(0,i.Cf)((()=>s(l,e))):l;null!==c&&(o.emit&&o.emit("beforeAddBreadcrumb",c,e),n.addBreadcrumb(c,a))}setUser(t){this.getScope().setUser(t)}setTags(t){this.getScope().setTags(t)}setExtras(t){this.getScope().setExtras(t)}setTag(t,e){this.getScope().setTag(t,e)}setExtra(t,e){this.getScope().setExtra(t,e)}setContext(t,e){this.getScope().setContext(t,e)}configureScope(t){const{scope:e,client:n}=this.getStackTop();n&&t(e)}run(t){const e=f(this);try{t(this)}finally{f(e)}}getIntegration(t){const e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(e){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,e){const n=this._callExtensionMethod("startTransaction",t,e);return"undefined"!=typeof __SENTRY_DEBUG__&&!__SENTRY_DEBUG__||n||console.warn("Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n"),n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){const t=this.getStackTop().scope,e=t.getSession();e&&(0,c.RJ)(e),this._sendSessionUpdate(),t.setSession()}startSession(t){const{scope:e,client:n}=this.getStackTop(),{release:o,environment:r=a.J}=n&&n.getOptions()||{},{userAgent:i}=s.n2.navigator||{},l=(0,c.Hv)({release:o,environment:r,user:e.getUser(),...i&&{userAgent:i},...t}),u=e.getSession&&e.getSession();return u&&"ok"===u.status&&(0,c.CT)(u,{status:"exited"}),this.endSession(),e.setSession(l),l}shouldSendDefaultPii(){const t=this.getClient(),e=t&&t.getOptions();return Boolean(e&&e.sendDefaultPii)}_sendSessionUpdate(){const{scope:t,client:e}=this.getStackTop(),n=t.getSession();n&&e&&e.captureSession&&e.captureSession(n)}_withClient(t){const{scope:e,client:n}=this.getStackTop();n&&t(n,e)}_callExtensionMethod(t,...e){const n=h().__SENTRY__;if(n&&n.extensions&&"function"==typeof n.extensions[t])return n.extensions[t].apply(this,e);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.warn(`Extension method ${t} couldn't be found, doing nothing.`)}}function h(){return s.n2.__SENTRY__=s.n2.__SENTRY__||{extensions:{},hub:void 0},s.n2}function f(t){const e=h(),n=y(e);return v(e,t),n}function g(){const t=h();if(t.__SENTRY__&&t.__SENTRY__.acs){const e=t.__SENTRY__.acs.getCurrentHub();if(e)return e}return _(t)}function _(t=h()){return m(t)&&!y(t).isOlderThan(u)||v(t,new p),y(t)}function m(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function y(t){return(0,s.YO)("hub",(()=>new p),t)}function v(t,e){if(!t)return!1;return(t.__SENTRY__=t.__SENTRY__||{}).hub=e,!0}},2967:(t,e,n)=>{"use strict";n.d(e,{m7:()=>u,m8:()=>l,q4:()=>c});var o=n(2844),r=n(2343),i=n(5659),s=n(350);const a=[];function l(t){const e=t.defaultIntegrations||[],n=t.integrations;let r;e.forEach((t=>{t.isDefaultInstance=!0})),r=Array.isArray(n)?[...e,...n]:"function"==typeof n?(0,o.lE)(n(e)):e;const i=function(t){const e={};return t.forEach((t=>{const{name:n}=t,o=e[n];o&&!o.isDefaultInstance&&t.isDefaultInstance||(e[n]=t)})),Object.keys(e).map((t=>e[t]))}(r),s=function(t,e){for(let n=0;n<t.length;n++)if(!0===e(t[n]))return n;return-1}(i,(t=>"Debug"===t.name));if(-1!==s){const[t]=i.splice(s,1);i.push(t)}return i}function c(t){const e={};return t.forEach((t=>{t&&u(t,e)})),e}function u(t,e){e[t.name]=t,-1===a.indexOf(t.name)&&(t.setupOnce(s.c,i.Gd),a.push(t.name),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log(`Integration installed: ${t.name}`))}},9116:(t,e,n)=>{"use strict";n.d(e,{c:()=>i});var o=n(5301);let r;class i{constructor(){i.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=i.id}setupOnce(){r=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=(0,o.HK)(this)||this;return r.apply(e,t)}}catch(t){}}}i.__initStatic()},2422:(t,e,n)=>{"use strict";n.d(e,{QD:()=>a});var o=n(2343),r=n(2844),i=n(7321);const s=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class a{static __initStatic(){this.id="InboundFilters"}__init(){this.name=a.id}constructor(t={}){this._options=t,a.prototype.__init.call(this)}setupOnce(t,e){const n=t=>{const n=e();if(n){const e=n.getIntegration(a);if(e){const a=n.getClient(),c=a?a.getOptions():{},u=function(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...s],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]],ignoreInternal:void 0===t.ignoreInternal||t.ignoreInternal}}(e._options,c);return function(t,e){if(e.ignoreInternal&&function(t){try{return"SentryError"===t.exception.values[0].type}catch(t){}return!1}(t))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${(0,r.jH)(t)}`),!0;if(function(t,e){if(t.type||!e||!e.length)return!1;return function(t){if(t.message)return[t.message];if(t.exception)try{const{type:e="",value:n=""}=t.exception.values&&t.exception.values[0]||{};return[`${n}`,`${e}: ${n}`]}catch(e){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.error(`Cannot extract message for event ${(0,r.jH)(t)}`),[]}return[]}(t).some((t=>(0,i.U0)(t,e)))}(t,e.ignoreErrors))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${(0,r.jH)(t)}`),!0;if(function(t,e){if("transaction"!==t.type||!e||!e.length)return!1;const n=t.transaction;return!!n&&(0,i.U0)(n,e)}(t,e.ignoreTransactions))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${(0,r.jH)(t)}`),!0;if(function(t,e){if(!e||!e.length)return!1;const n=l(t);return!!n&&(0,i.U0)(n,e)}(t,e.denyUrls))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${(0,r.jH)(t)}.\nUrl: ${l(t)}`),!0;if(!function(t,e){if(!e||!e.length)return!0;const n=l(t);return!n||(0,i.U0)(n,e)}(t,e.allowUrls))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${(0,r.jH)(t)}.\nUrl: ${l(t)}`),!0;return!1}(t,u)?null:t}}return t};n.id=this.name,t(n)}}function l(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch(t){}return e?function(t=[]){for(let e=t.length-1;e>=0;e--){const n=t[e];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(e):null}catch(e){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.error(`Cannot extract url for event ${(0,r.jH)(t)}`),null}}a.__initStatic()},350:(t,e,n)=>{"use strict";n.d(e,{c:()=>p,s:()=>u});var o=n(7597),r=n(1170),i=n(6893),s=n(2343),a=n(2844),l=n(1235),c=n(9015);class u{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(t){const e=new u;return t&&(e._breadcrumbs=[...t._breadcrumbs],e._tags={...t._tags},e._extra={...t._extra},e._contexts={...t._contexts},e._user=t._user,e._level=t._level,e._span=t._span,e._session=t._session,e._transactionName=t._transactionName,e._fingerprint=t._fingerprint,e._eventProcessors=[...t._eventProcessors],e._requestSession=t._requestSession,e._attachments=[...t._attachments],e._sdkProcessingMetadata={...t._sdkProcessingMetadata}),e}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{},this._session&&(0,c.CT)(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,e){return this._tags={...this._tags,[t]:e},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,e){return this._extra={...this._extra,[t]:e},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,e){return null===e?delete this._contexts[t]:this._contexts[t]=e,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const t=this.getSpan();return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;if("function"==typeof t){const e=t(this);return e instanceof u?e:this}return t instanceof u?(this._tags={...this._tags,...t._tags},this._extra={...this._extra,...t._extra},this._contexts={...this._contexts,...t._contexts},t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession)):(0,o.PO)(t)&&(this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(t,e){const n="number"==typeof e?e:100;if(n<=0)return this;const o={timestamp:(0,r.yW)(),...t};return this._breadcrumbs=[...this._breadcrumbs,o].slice(-n),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(t,e={}){if(this._extra&&Object.keys(this._extra).length&&(t.extra={...this._extra,...t.extra}),this._tags&&Object.keys(this._tags).length&&(t.tags={...this._tags,...t.tags}),this._user&&Object.keys(this._user).length&&(t.user={...this._user,...t.user}),this._contexts&&Object.keys(this._contexts).length&&(t.contexts={...this._contexts,...t.contexts}),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts={trace:this._span.getTraceContext(),...t.contexts};const e=this._span.transaction;if(e){t.sdkProcessingMetadata={dynamicSamplingContext:e.getDynamicSamplingContext(),...t.sdkProcessingMetadata};const n=e.name;n&&(t.tags={transaction:n,...t.tags})}}return this._applyFingerprint(t),t.breadcrumbs=[...t.breadcrumbs||[],...this._breadcrumbs],t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...d(),...this._eventProcessors],t,e)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}_notifyEventProcessors(t,e,n,r=0){return new i.cW(((i,a)=>{const l=t[r];if(null===e||"function"!=typeof l)i(e);else{const c=l({...e},n);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.id&&null===c&&s.kg.log(`Event processor "${l.id}" dropped event`),(0,o.J8)(c)?c.then((e=>this._notifyEventProcessors(t,e,n,r+1).then(i))).then(null,a):this._notifyEventProcessors(t,c,n,r+1).then(i).then(null,a)}}))}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((t=>{t(this)})),this._notifyingListeners=!1)}_applyFingerprint(t){t.fingerprint=t.fingerprint?(0,a.lE)(t.fingerprint):[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}}function d(){return(0,l.YO)("globalEventProcessors",(()=>[]))}function p(t){d().push(t)}},9015:(t,e,n)=>{"use strict";n.d(e,{CT:()=>a,Hv:()=>s,RJ:()=>l});var o=n(1170),r=n(2844),i=n(5301);function s(t){const e=(0,o.ph)(),n={sid:(0,r.DM)(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(t){return(0,i.Jr)({sid:`${t.sid}`,init:t.init,started:new Date(1e3*t.started).toISOString(),timestamp:new Date(1e3*t.timestamp).toISOString(),status:t.status,errors:t.errors,did:"number"==typeof t.did||"string"==typeof t.did?`${t.did}`:void 0,duration:t.duration,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}(n)};return t&&a(n,t),n}function a(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),t.did||e.did||(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||(0,o.ph)(),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=32===e.sid.length?e.sid:(0,r.DM)()),void 0!==e.init&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),"number"==typeof e.started&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if("number"==typeof e.duration)t.duration=e.duration;else{const e=t.timestamp-t.started;t.duration=e>=0?e:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),"number"==typeof e.errors&&(t.errors=e.errors),e.status&&(t.status=e.status)}function l(t,e){let n={};e?n={status:e}:"ok"===t.status&&(n={status:"exited"}),a(t,n)}},6890:(t,e,n)=>{"use strict";n.d(e,{T:()=>m,l:()=>_});var o=n(2343),r=n(7597),i=n(5659),s=n(7522),a=n(2533),l=n(9791);let c=!1;function u(){const t=(0,l.x1)();if(t){const e="internal_error";("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log(`[Tracing] Transaction: ${e} -> Global error occured`),t.setStatus(e)}}u.tag="sentry_tracingErrorCallback";var d=n(5544),p=n(8069);function h(){const t=this.getScope().getSpan();return t?{"sentry-trace":t.toTraceparent()}:{}}function f(t,e,n){if(!(0,s.z)(e))return t.sampled=!1,t;if(void 0!==t.sampled)return t.setMetadata({sampleRate:Number(t.sampled)}),t;let i;return"function"==typeof e.tracesSampler?(i=e.tracesSampler(n),t.setMetadata({sampleRate:Number(i)})):void 0!==n.parentSampled?i=n.parentSampled:void 0!==e.tracesSampleRate?(i=e.tracesSampleRate,t.setMetadata({sampleRate:Number(i)})):(i=1,t.setMetadata({sampleRate:i})),function(t){if((0,r.i2)(t)||"number"!=typeof t&&"boolean"!=typeof t)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`),!1;if(t<0||t>1)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${t}.`),!1;return!0}(i)?i?(t.sampled=Math.random()<i,t.sampled?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log(`[Tracing] starting ${t.op} transaction - ${t.name}`),t):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),t)):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log("[Tracing] Discarding transaction because "+("function"==typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),t.sampled=!1,t):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}function g(t,e){const n=this.getClient(),r=n&&n.getOptions()||{},i=r.instrumenter||"sentry",s=t.instrumenter||"sentry";i!==s&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.error(`A transaction was started with instrumenter=\`${s}\`, but the SDK is configured with the \`${i}\` instrumenter.\nThe transaction will not be sampled. Please use the ${i} instrumentation to start transactions.`),t.sampled=!1);let a=new p.Y(t,this);return a=f(a,r,{parentSampled:t.parentSampled,transactionContext:t,...e}),a.sampled&&a.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",a),a}function _(t,e,n,o,r,i,s){const a=t.getClient(),l=a&&a.getOptions()||{};let c=new d.io(e,t,n,o,s,r);return c=f(c,l,{parentSampled:e.parentSampled,transactionContext:e,...i}),c.sampled&&c.initSpanRecorder(l._experiments&&l._experiments.maxSpans),a&&a.emit&&a.emit("startTransaction",c),c}function m(){const t=(0,i.cu)();t.__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=g),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=h),c||(c=!0,(0,a.oq)("error",u),(0,a.oq)("unhandledrejection",u)))}},5544:(t,e,n)=>{"use strict";n.d(e,{AT:()=>a,io:()=>u});var o=n(1170),r=n(2343),i=n(8903),s=n(8069);const a={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},l=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class c extends i.gB{constructor(t,e,n,o){super(o),this._pushActivity=t,this._popActivity=e,this.transactionSpanId=n}add(t){t.spanId!==this.transactionSpanId&&(t.finish=e=>{t.endTimestamp="number"==typeof e?e:(0,o.ph)(),this._popActivity(t.spanId)},void 0===t.endTimestamp&&this._pushActivity(t.spanId)),super.add(t)}}class u extends s.Y{__init(){this.activities={}}__init2(){this._heartbeatCounter=0}__init3(){this._finished=!1}__init4(){this._idleTimeoutCanceledPermanently=!1}__init5(){this._beforeFinishCallbacks=[]}__init6(){this._finishReason=l[4]}constructor(t,e,n=a.idleTimeout,o=a.finalTimeout,i=a.heartbeatInterval,s=!1){super(t,e),this._idleHub=e,this._idleTimeout=n,this._finalTimeout=o,this._heartbeatInterval=i,this._onScope=s,u.prototype.__init.call(this),u.prototype.__init2.call(this),u.prototype.__init3.call(this),u.prototype.__init4.call(this),u.prototype.__init5.call(this),u.prototype.__init6.call(this),s&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),e.configureScope((t=>t.setSpan(this)))),this._restartIdleTimeout(),setTimeout((()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=l[3],this.finish())}),this._finalTimeout)}finish(t=(0,o.ph)()){if(this._finished=!0,this.activities={},"ui.action.click"===this.op&&this.setTag("finishReason",this._finishReason),this.spanRecorder){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("[Tracing] finishing IdleTransaction",new Date(1e3*t).toISOString(),this.op);for(const e of this._beforeFinishCallbacks)e(this,t);this.spanRecorder.spans=this.spanRecorder.spans.filter((e=>{if(e.spanId===this.spanId)return!0;e.endTimestamp||(e.endTimestamp=t,e.setStatus("cancelled"),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(e,void 0,2)));const n=e.startTimestamp<t;return n||("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(e,void 0,2)),n})),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("[Tracing] flushing IdleTransaction")}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("[Tracing] No active IdleTransaction");if(this._onScope){const t=this._idleHub.getScope();t.getTransaction()===this&&t.setSpan(void 0)}return super.finish(t)}registerBeforeFinishCallback(t){this._beforeFinishCallbacks.push(t)}initSpanRecorder(t){if(!this.spanRecorder){const e=t=>{this._finished||this._pushActivity(t)},n=t=>{this._finished||this._popActivity(t)};this.spanRecorder=new c(e,n,this.spanId,t),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(t,{restartOnChildSpanChange:e}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=!1===e,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,0===Object.keys(this.activities).length&&this._idleTimeoutCanceledPermanently&&(this._finishReason=l[5],this.finish(t)))}setFinishReason(t){this._finishReason=t}_restartIdleTimeout(t){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout((()=>{this._finished||0!==Object.keys(this.activities).length||(this._finishReason=l[1],this.finish(t))}),this._idleTimeout)}_pushActivity(t){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log(`[Tracing] pushActivity: ${t}`),this.activities[t]=!0,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(t){if(this.activities[t]&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log(`[Tracing] popActivity ${t}`),delete this.activities[t],("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){const t=(0,o.ph)();this._idleTimeoutCanceledPermanently?(this._finishReason=l[5],this.finish(t)):this._restartIdleTimeout(t+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const t=Object.keys(this.activities).join("");t===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=l[0],this.finish()):this._pingHeartbeat()}_pingHeartbeat(){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout((()=>{this._beat()}),this._heartbeatInterval)}}},8903:(t,e,n)=>{"use strict";n.d(e,{Dr:()=>l,Zd:()=>c,gB:()=>a});var o=n(2844),r=n(1170),i=n(2343),s=n(5301);class a{__init(){this.spans=[]}constructor(t=1e3){a.prototype.__init.call(this),this._maxlen=t}add(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)}}class l{__init2(){this.traceId=(0,o.DM)()}__init3(){this.spanId=(0,o.DM)().substring(16)}__init4(){this.startTimestamp=(0,r.ph)()}__init5(){this.tags={}}__init6(){this.data={}}__init7(){this.instrumenter="sentry"}constructor(t){if(l.prototype.__init2.call(this),l.prototype.__init3.call(this),l.prototype.__init4.call(this),l.prototype.__init5.call(this),l.prototype.__init6.call(this),l.prototype.__init7.call(this),!t)return this;t.traceId&&(this.traceId=t.traceId),t.spanId&&(this.spanId=t.spanId),t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.data&&(this.data=t.data),t.tags&&(this.tags=t.tags),t.status&&(this.status=t.status),t.startTimestamp&&(this.startTimestamp=t.startTimestamp),t.endTimestamp&&(this.endTimestamp=t.endTimestamp),t.instrumenter&&(this.instrumenter=t.instrumenter)}startChild(t){const e=new l({...t,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});if(e.spanRecorder=this.spanRecorder,e.spanRecorder&&e.spanRecorder.add(e),e.transaction=this.transaction,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&e.transaction){const n=`[Tracing] Starting '${t&&t.op||"< unknown op >"}' span on transaction '${e.transaction.name||"< unknown name >"}' (${e.transaction.spanId}).`;e.transaction.metadata.spanMetadata[e.spanId]={logMessage:n},i.kg.log(n)}return e}setTag(t,e){return this.tags={...this.tags,[t]:e},this}setData(t,e){return this.data={...this.data,[t]:e},this}setStatus(t){return this.status=t,this}setHttpStatus(t){this.setTag("http.status_code",String(t));const e=c(t);return"unknown_error"!==e&&this.setStatus(e),this}isSuccess(){return"ok"===this.status}finish(t){if(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&this.transaction&&this.transaction.spanId!==this.spanId){const{logMessage:t}=this.transaction.metadata.spanMetadata[this.spanId];t&&i.kg.log(t.replace("Starting","Finishing"))}this.endTimestamp="number"==typeof t?t:(0,r.ph)()}toTraceparent(){let t="";return void 0!==this.sampled&&(t=this.sampled?"-1":"-0"),`${this.traceId}-${this.spanId}${t}`}toContext(){return(0,s.Jr)({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(t){return this.data=t.data||{},this.description=t.description,this.endTimestamp=t.endTimestamp,this.op=t.op,this.parentSpanId=t.parentSpanId,this.sampled=t.sampled,this.spanId=t.spanId||this.spanId,this.startTimestamp=t.startTimestamp||this.startTimestamp,this.status=t.status,this.tags=t.tags||{},this.traceId=t.traceId||this.traceId,this}getTraceContext(){return(0,s.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}toJSON(){return(0,s.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})}}function c(t){if(t<400&&t>=100)return"ok";if(t>=400&&t<500)switch(t){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(t>=500&&t<600)switch(t){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}},8069:(t,e,n)=>{"use strict";n.d(e,{Y:()=>l});var o=n(2343),r=n(5301),i=n(1131),s=n(5659),a=n(8903);class l extends a.Dr{__init(){this._measurements={}}__init2(){this._contexts={}}__init3(){this._frozenDynamicSamplingContext=void 0}constructor(t,e){super(t),l.prototype.__init.call(this),l.prototype.__init2.call(this),l.prototype.__init3.call(this),this._hub=e||(0,s.Gd)(),this._name=t.name||"",this.metadata={source:"custom",...t.metadata,spanMetadata:{}},this._trimEnd=t.trimEnd,this.transaction=this;const n=this.metadata.dynamicSamplingContext;n&&(this._frozenDynamicSamplingContext={...n})}get name(){return this._name}set name(t){this.setName(t)}setName(t,e="custom"){this._name=t,this.metadata.source=e}initSpanRecorder(t=1e3){this.spanRecorder||(this.spanRecorder=new a.gB(t)),this.spanRecorder.add(this)}setContext(t,e){null===e?delete this._contexts[t]:this._contexts[t]=e}setMeasurement(t,e,n=""){this._measurements[t]={value:e,unit:n}}setMetadata(t){this.metadata={...this.metadata,...t}}finish(t){if(void 0!==this.endTimestamp)return;this.name||(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(t);const e=this._hub.getClient();if(e&&e.emit&&e.emit("finishTransaction",this),!0!==this.sampled)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(e&&e.recordDroppedEvent("sample_rate","transaction"));const n=this.spanRecorder?this.spanRecorder.spans.filter((t=>t!==this&&t.endTimestamp)):[];this._trimEnd&&n.length>0&&(this.endTimestamp=n.reduce(((t,e)=>t.endTimestamp&&e.endTimestamp?t.endTimestamp>e.endTimestamp?t:e:t)).endTimestamp);const r=this.metadata,i={contexts:{...this._contexts,trace:this.getTraceContext()},spans:n,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:{...r,dynamicSamplingContext:this.getDynamicSamplingContext()},...r.source&&{transaction_info:{source:r.source}}};return Object.keys(this._measurements).length>0&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),i.measurements=this._measurements),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),this._hub.captureEvent(i)}toContext(){const t=super.toContext();return(0,r.Jr)({...t,name:this.name,trimEnd:this._trimEnd})}updateWithContext(t){return super.updateWithContext(t),this.name=t.name||"",this._trimEnd=t.trimEnd,this}getDynamicSamplingContext(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;const t=this._hub||(0,s.Gd)(),e=t&&t.getClient();if(!e)return{};const{environment:n,release:o}=e.getOptions()||{},{publicKey:a}=e.getDsn()||{},l=this.metadata.sampleRate,c=void 0!==l?l.toString():void 0,{segment:u}=t.getScope().getUser()||{},d=this.metadata.source,p=d&&"url"!==d?this.name:void 0,h=(0,r.Jr)({environment:n||i.J,release:o,transaction:p,user_segment:u,public_key:a,trace_id:this.traceId,sample_rate:c});return e.emit&&e.emit("createDsc",h),h}setHub(t){this._hub=t}}},9791:(t,e,n)=>{"use strict";n.d(e,{x1:()=>r});var o=n(5659);function r(t){return(t||(0,o.Gd)()).getScope().getTransaction()}},9604:(t,e,n)=>{"use strict";n.d(e,{q:()=>u});var o=n(409),r=n(6893);function i(t){const e=[];function n(t){return e.splice(e.indexOf(t),1)[0]}return{$:e,add:function(i){if(!(void 0===t||e.length<t))return(0,r.$2)(new o.b("Not adding Promise because buffer limit was reached."));const s=i();return-1===e.indexOf(s)&&e.push(s),s.then((()=>n(s))).then(null,(()=>n(s).then(null,(()=>{})))),s},drain:function(t){return new r.cW(((n,o)=>{let i=e.length;if(!i)return n(!0);const s=setTimeout((()=>{t&&t>0&&n(!1)}),t);e.forEach((t=>{(0,r.WD)(t).then((()=>{--i||(clearTimeout(s),n(!0))}),o)}))}))}}}var s=n(8725),a=n(228),l=n(2343);const c=30;function u(t,e,n=i(t.bufferSize||c)){let u={};function p(i){const c=[];if((0,s.gv)(i,((e,n)=>{const o=(0,s.mL)(n);if((0,a.Q)(u,o)){const r=d(e,n);t.recordDroppedEvent("ratelimit_backoff",o,r)}else c.push(e)})),0===c.length)return(0,r.WD)();const p=(0,s.Jd)(i[0],c),h=e=>{(0,s.gv)(p,((n,o)=>{const r=d(n,o);t.recordDroppedEvent(e,(0,s.mL)(o),r)}))};return n.add((()=>e({body:(0,s.V$)(p,t.textEncoder)}).then((t=>(void 0!==t.statusCode&&(t.statusCode<200||t.statusCode>=300)&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.warn(`Sentry responded with status code ${t.statusCode} to sent event.`),u=(0,a.WG)(u,t),t)),(t=>{throw h("network_error"),t})))).then((t=>t),(t=>{if(t instanceof o.b)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.error("Skipped sending event because buffer is full."),h("queue_overflow"),(0,r.WD)();throw t}))}return p.__sentry__baseTransport__=!0,{send:p,flush:t=>n.drain(t)}}function d(t,e){if("event"===e||"transaction"===e)return Array.isArray(t)?t[1]:void 0}},7522:(t,e,n)=>{"use strict";n.d(e,{z:()=>r});var o=n(5659);function r(t){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const e=(0,o.Gd)().getClient(),n=t||e&&e.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}},8942:(t,e,n)=>{"use strict";n.d(e,{R:()=>d});var o=n(2844),r=n(1170),i=n(6893),s=n(7321),a=n(1235),l=n(8007),c=n(1131),u=n(350);function d(t,e,n,d){const{normalizeDepth:h=3,normalizeMaxBreadth:f=1e3}=t,g={...e,event_id:e.event_id||n.event_id||(0,o.DM)(),timestamp:e.timestamp||(0,r.yW)()},_=n.integrations||t.integrations.map((t=>t.name));!function(t,e){const{environment:n,release:o,dist:r,maxValueLength:i=250}=e;"environment"in t||(t.environment="environment"in e?n:c.J);void 0===t.release&&void 0!==o&&(t.release=o);void 0===t.dist&&void 0!==r&&(t.dist=r);t.message&&(t.message=(0,s.$G)(t.message,i));const a=t.exception&&t.exception.values&&t.exception.values[0];a&&a.value&&(a.value=(0,s.$G)(a.value,i));const l=t.request;l&&l.url&&(l.url=(0,s.$G)(l.url,i))}(g,t),function(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}(g,_),void 0===e.type&&function(t,e){const n=a.n2._sentryDebugIds;if(!n)return;let o;const r=p.get(e);r?o=r:(o=new Map,p.set(e,o));const i=Object.keys(n).reduce(((t,r)=>{let i;const s=o.get(r);s?i=s:(i=e(r),o.set(r,i));for(let e=i.length-1;e>=0;e--){const o=i[e];if(o.filename){t[o.filename]=n[r];break}}return t}),{}),s=new Set;try{t.exception.values.forEach((t=>{t.stacktrace.frames.forEach((t=>{t.filename&&s.add(t.filename)}))}))}catch(t){}t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const l=t.debug_meta.images;s.forEach((t=>{i[t]&&l.push({type:"sourcemap",code_file:t,debug_id:i[t]})}))}(g,t.stackParser);let m=d;n.captureContext&&(m=u.s.clone(m).update(n.captureContext));let y=(0,i.WD)(g);if(m){if(m.getAttachments){const t=[...n.attachments||[],...m.getAttachments()];t.length&&(n.attachments=t)}y=m.applyToEvent(g,n)}return y.then((t=>"number"==typeof h&&h>0?function(t,e,n){if(!t)return null;const o={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map((t=>({...t,...t.data&&{data:(0,l.Fv)(t.data,e,n)}})))},...t.user&&{user:(0,l.Fv)(t.user,e,n)},...t.contexts&&{contexts:(0,l.Fv)(t.contexts,e,n)},...t.extra&&{extra:(0,l.Fv)(t.extra,e,n)}};t.contexts&&t.contexts.trace&&o.contexts&&(o.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(o.contexts.trace.data=(0,l.Fv)(t.contexts.trace.data,e,n)));t.spans&&(o.spans=t.spans.map((t=>(t.data&&(t.data=(0,l.Fv)(t.data,e,n)),t))));return o}(t,h,f):t))}const p=new WeakMap},105:(t,e,n)=>{"use strict";n.d(e,{J:()=>o});const o="7.51.0"},3078:(t,e,n)=>{"use strict";n.d(e,{U:()=>Mn});var o=n(5659),r=n(4487),i=n(350),s=n(8942),a=n(1235),l=n(2343),c=n(2844),u=n(8007),d=n(8464),p=n(2533),h=n(5301),f=n(7321),g=n(1170),_=n(8725),m=n(1422);const y=a.n2,v="sentryReplaySession",C="replay_event",E="Unable to send Replay",b=15e4,S=5e3;var w;function O(t){const e=null==t?void 0:t.host;return Boolean(e&&e.shadowRoot&&e.shadowRoot===t)}function P({maskInputOptions:t,tagName:e,type:n}){"option"===e.toLowerCase()&&(e="select");const o="string"==typeof n?n.toLowerCase():void 0;return t[e.toLowerCase()]||o&&t[o]||"password"===o||"input"===e&&!n&&t.text}function T({input:t,maskInputSelector:e,unmaskInputSelector:n,maskInputOptions:o,tagName:r,type:i,value:s,maskInputFn:a}){let l=s||"";return n&&t.matches(n)||(t.hasAttribute("rr_is_password")&&(i="password"),(P({maskInputOptions:o,tagName:r,type:i})||e&&t.matches(e))&&(l=a?a(l):"*".repeat(l.length))),l}!function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"}(w||(w={}));const R="__rrweb_original__";let D=1;const x=new RegExp("[^a-z0-9-_:]"),M=-2;function A(t){return t?t.replace(/[\S]/g,"*"):""}function L(t){try{const e=t.rules||t.cssRules;return e?Array.from(e).map(I).join(""):null}catch(t){return null}}function I(t){let e=t.cssText;if(function(t){return"styleSheet"in t}(t))try{e=L(t.styleSheet)||e}catch(t){}return e}let N,k;const F=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,G=/^(?!www\.|(?:http|ftp)s?:\/\/|[A-Za-z]:\\|\/\/|#).*/,B=/^(data:)([^,]*),(.*)/i;function U(t,e){return(t||"").replace(F,((t,n,o,r,i,s)=>{const a=o||i||s,l=n||r||"";if(!a)return t;if(!G.test(a))return`url(${l}${a}${l})`;if(B.test(a))return`url(${l}${a}${l})`;if("/"===a[0])return`url(${l}${function(t){let e="";return e=t.indexOf("//")>-1?t.split("/").slice(0,3).join("/"):t.split("/")[0],e=e.split("?")[0],e}(e)+a}${l})`;const c=e.split("/"),u=a.split("/");c.pop();for(const t of u)"."!==t&&(".."===t?c.pop():c.push(t));return`url(${l}${c.join("/")}${l})`}))}const j=/^[^ \t\n\r\u000c]+/,V=/^[, \t\n\r\u000c]+/;function W(t,e){if(!e||""===e.trim())return e;const n=t.createElement("a");return n.href=e,n.href}function H(){const t=document.createElement("a");return t.href="",t.href}function $(t,e,n,o,r,i,s,a){if(!r)return r;const l=o.toLowerCase(),c=n.toLowerCase();return"src"===l||"href"===l||"xlink:href"===l&&"#"!==r[0]?W(t,r):"background"!==l||"table"!==c&&"td"!==c&&"th"!==c?"srcset"===l?function(t,e){if(""===e.trim())return e;let n=0;function o(t){let o,r=t.exec(e.substring(n));return r?(o=r[0],n+=o.length,o):""}let r=[];for(;o(V),!(n>=e.length);){let i=o(j);if(","===i.slice(-1))i=W(t,i.substring(0,i.length-1)),r.push(i);else{let o="";i=W(t,i);let s=!1;for(;;){let t=e.charAt(n);if(""===t){r.push((i+o).trim());break}if(s)")"===t&&(s=!1);else{if(","===t){n+=1,r.push((i+o).trim());break}"("===t&&(s=!0)}o+=t,n+=1}}}return r.join(", ")}(t,r):"style"===l?U(r,H()):"object"===c&&"data"===l?W(t,r):i&&function(t,e,n,o){if(o&&t.matches(o))return!1;return["placeholder","title","aria-label"].indexOf(e)>-1||"input"===n&&"value"===e&&t.hasAttribute("type")&&["submit","button"].indexOf(t.getAttribute("type").toLowerCase())>-1}(e,l,c,s)?a?a(r):A(r):r:W(t,r)}function z(t,e,n,o,r){if(!t)return!1;if(t.nodeType!==t.ELEMENT_NODE)return z(t.parentNode,e,n,o,r);if(o&&(t.matches(o)||t.closest(o)))return!1;if(r)return!0;if("string"==typeof e){if(t.classList.contains(e))return!0}else for(let n=0;n<t.classList.length;n++){const o=t.classList[n];if(e.test(o))return!0}return!(!n||!t.matches(n))||z(t.parentNode,e,n,o,r)}function K(t,e){var n;const{doc:o,blockClass:r,blockSelector:i,unblockSelector:s,maskTextClass:a,maskTextSelector:l,unmaskTextSelector:c,inlineStylesheet:u,maskInputSelector:d,unmaskInputSelector:p,maskAllText:h,maskInputOptions:f={},maskTextFn:g,maskInputFn:_,dataURLOptions:m={},inlineImages:y,recordCanvas:v,keepIframeSrcFn:C}=e;let E;if(o.__sn){const t=o.__sn.id;E=1===t?void 0:t}switch(t.nodeType){case t.DOCUMENT_NODE:return"CSS1Compat"!==t.compatMode?{type:w.Document,childNodes:[],compatMode:t.compatMode,rootId:E}:{type:w.Document,childNodes:[],rootId:E};case t.DOCUMENT_TYPE_NODE:return{type:w.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId,rootId:E};case t.ELEMENT_NODE:const e=function(t,e,n,o){if(o&&t.matches(o))return!1;if("string"==typeof e){if(t.classList.contains(e))return!0}else for(let n=0;n<t.classList.length;n++){const o=t.classList[n];if(e.test(o))return!0}return!!n&&t.matches(n)}(t,r,i,s),O=function(t){if(t instanceof HTMLFormElement)return"form";const e=t.tagName.toLowerCase().trim();return x.test(e)?"div":e}(t);let P={};for(const{name:e,value:n}of Array.from(t.attributes))q(O,e)||(P[e]=$(o,t,O,e,n,h,c,g));if("link"===O&&u){const e=Array.from(o.styleSheets).find((e=>e.href===t.href));let n=null;e&&(n=L(e)),n&&(delete P.rel,delete P.href,P._cssText=U(n,e.href))}if("style"===O&&t.sheet&&!(t.innerText||t.textContent||"").trim().length){const e=L(t.sheet);e&&(P._cssText=U(e,H()))}if("input"===O||"textarea"===O||"select"===O||"option"===O){const e=t,n=function(t,e,n){if("input"===t&&("radio"===n.type||"checkbox"===n.type))return e.getAttribute("value")||"";return e.value}(O,e,P),o=t.checked;"submit"!==P.type&&"button"!==P.type&&n&&(P.value=T({input:e,type:P.type,tagName:O,value:n,maskInputSelector:d,unmaskInputSelector:p,maskInputOptions:f,maskInputFn:_})),o&&(P.checked=o)}if("option"===O&&(t.selected&&!f.select?P.selected=!0:delete P.selected),"canvas"===O&&v)if("2d"===t.__context)(function(t){const e=t.getContext("2d");if(!e)return!0;for(let n=0;n<t.width;n+=50)for(let o=0;o<t.height;o+=50){const r=e.getImageData,i=R in r?r[R]:r;if(new Uint32Array(i.call(e,n,o,Math.min(50,t.width-n),Math.min(50,t.height-o)).data.buffer).some((t=>0!==t)))return!1}return!0})(t)||(P.rr_dataURL=t.toDataURL(m.type,m.quality));else if(!("__context"in t)){const e=t.toDataURL(m.type,m.quality),n=document.createElement("canvas");n.width=t.width,n.height=t.height;e!==n.toDataURL(m.type,m.quality)&&(P.rr_dataURL=e)}if("img"===O&&y){N||(N=o.createElement("canvas"),k=N.getContext("2d"));const e=t,n=e.crossOrigin;e.crossOrigin="anonymous";const r=()=>{try{N.width=e.naturalWidth,N.height=e.naturalHeight,k.drawImage(e,0,0),P.rr_dataURL=N.toDataURL(m.type,m.quality)}catch(t){console.warn(`Cannot inline img src=${e.currentSrc}! Error: ${t}`)}n?P.crossOrigin=n:delete P.crossOrigin};e.complete&&0!==e.naturalWidth?r():e.onload=r}if("audio"!==O&&"video"!==O||(P.rr_mediaState=t.paused?"paused":"played",P.rr_mediaCurrentTime=t.currentTime),t.scrollLeft&&(P.rr_scrollLeft=t.scrollLeft),t.scrollTop&&(P.rr_scrollTop=t.scrollTop),e){const{width:e,height:n}=t.getBoundingClientRect();P={class:P.class,rr_width:`${e}px`,rr_height:`${n}px`}}return"iframe"!==O||C(P.src)||(t.contentDocument||(P.rr_src=P.src),delete P.src),{type:w.Element,tagName:O,attributes:P,childNodes:[],isSVG:(S=t,Boolean("svg"===S.tagName||S.ownerSVGElement)||void 0),needBlock:e,rootId:E};case t.TEXT_NODE:const D=t.parentNode&&t.parentNode.tagName;let M=t.textContent;const I="STYLE"===D||void 0,F="SCRIPT"===D||void 0;if(I&&M){try{t.nextSibling||t.previousSibling||(null===(n=t.parentNode.sheet)||void 0===n?void 0:n.cssRules)&&(M=(b=t.parentNode.sheet).cssRules?Array.from(b.cssRules).map((t=>t.cssText||"")).join(""):"")}catch(e){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${e}`,t)}M=U(M,H())}if(F&&(M="SCRIPT_PLACEHOLDER"),"TEXTAREA"===D&&M)M="";else if("OPTION"===D&&M){M=T({input:t.parentNode,type:null,tagName:D,value:M,maskInputSelector:d,unmaskInputSelector:p,maskInputOptions:f,maskInputFn:_})}else!I&&!F&&z(t,a,l,c,h)&&M&&(M=g?g(M):A(M));return{type:w.Text,textContent:M||"",isStyle:I,rootId:E};case t.CDATA_SECTION_NODE:return{type:w.CDATA,textContent:"",rootId:E};case t.COMMENT_NODE:return{type:w.Comment,textContent:t.textContent||"",rootId:E};default:return!1}var b,S}function Y(t){return null==t?"":t.toLowerCase()}function Z(t,e){const{doc:n,map:o,blockClass:r,blockSelector:i,unblockSelector:s,maskTextClass:a,maskTextSelector:l,unmaskTextSelector:c,skipChild:u=!1,inlineStylesheet:d=!0,maskInputSelector:p,unmaskInputSelector:h,maskAllText:f,maskInputOptions:g={},maskTextFn:_,maskInputFn:m,slimDOMOptions:y,dataURLOptions:v={},inlineImages:C=!1,recordCanvas:E=!1,onSerialize:b,onIframeLoad:S,iframeLoadTimeout:P=5e3,keepIframeSrcFn:T=(()=>!1)}=e;let{preserveWhiteSpace:R=!0}=e;const x=K(t,{doc:n,blockClass:r,blockSelector:i,unblockSelector:s,maskTextClass:a,maskTextSelector:l,unmaskTextSelector:c,inlineStylesheet:d,maskInputSelector:p,unmaskInputSelector:h,maskAllText:f,maskInputOptions:g,maskTextFn:_,maskInputFn:m,dataURLOptions:v,inlineImages:C,recordCanvas:E,keepIframeSrcFn:T});if(!x)return console.warn(t,"not serialized"),null;let A;A="__sn"in t?t.__sn.id:!function(t,e){if(e.comment&&t.type===w.Comment)return!0;if(t.type===w.Element){if(e.script&&("script"===t.tagName||"link"===t.tagName&&("preload"===t.attributes.rel||"modulepreload"===t.attributes.rel)&&"script"===t.attributes.as||"link"===t.tagName&&"prefetch"===t.attributes.rel&&"string"==typeof t.attributes.href&&t.attributes.href.endsWith(".js")))return!0;if(e.headFavicon&&("link"===t.tagName&&"shortcut icon"===t.attributes.rel||"meta"===t.tagName&&(Y(t.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===Y(t.attributes.name)||"icon"===Y(t.attributes.rel)||"apple-touch-icon"===Y(t.attributes.rel)||"shortcut icon"===Y(t.attributes.rel))))return!0;if("meta"===t.tagName){if(e.headMetaDescKeywords&&Y(t.attributes.name).match(/^description|keywords$/))return!0;if(e.headMetaSocial&&(Y(t.attributes.property).match(/^(og|twitter|fb):/)||Y(t.attributes.name).match(/^(og|twitter):/)||"pinterest"===Y(t.attributes.name)))return!0;if(e.headMetaRobots&&("robots"===Y(t.attributes.name)||"googlebot"===Y(t.attributes.name)||"bingbot"===Y(t.attributes.name)))return!0;if(e.headMetaHttpEquiv&&void 0!==t.attributes["http-equiv"])return!0;if(e.headMetaAuthorship&&("author"===Y(t.attributes.name)||"generator"===Y(t.attributes.name)||"framework"===Y(t.attributes.name)||"publisher"===Y(t.attributes.name)||"progid"===Y(t.attributes.name)||Y(t.attributes.property).match(/^article:/)||Y(t.attributes.property).match(/^product:/)))return!0;if(e.headMetaVerification&&("google-site-verification"===Y(t.attributes.name)||"yandex-verification"===Y(t.attributes.name)||"csrf-token"===Y(t.attributes.name)||"p:domain_verify"===Y(t.attributes.name)||"verify-v1"===Y(t.attributes.name)||"verification"===Y(t.attributes.name)||"shopify-checkout-api-token"===Y(t.attributes.name)))return!0}}return!1}(x,y)&&(R||x.type!==w.Text||x.isStyle||x.textContent.replace(/^\s+|\s+$/gm,"").length)?D++:M;const L=Object.assign(x,{id:A});if(t.__sn=L,A===M)return null;o[A]=t,b&&b(t);let I=!u;if(L.type===w.Element&&(I=I&&!L.needBlock,delete L.needBlock,t.shadowRoot&&(L.isShadowHost=!0)),(L.type===w.Document||L.type===w.Element)&&I){y.headWhitespace&&x.type===w.Element&&"head"===x.tagName&&(R=!1);const e={doc:n,map:o,blockClass:r,blockSelector:i,unblockSelector:s,maskTextClass:a,maskTextSelector:l,unmaskTextSelector:c,skipChild:u,inlineStylesheet:d,maskInputSelector:p,unmaskInputSelector:h,maskAllText:f,maskInputOptions:g,maskTextFn:_,maskInputFn:m,slimDOMOptions:y,dataURLOptions:v,inlineImages:C,recordCanvas:E,preserveWhiteSpace:R,onSerialize:b,onIframeLoad:S,iframeLoadTimeout:P,keepIframeSrcFn:T};for(const n of Array.from(t.childNodes)){const t=Z(n,e);t&&L.childNodes.push(t)}if(function(t){return t.nodeType===t.ELEMENT_NODE}(t)&&t.shadowRoot)for(const n of Array.from(t.shadowRoot.childNodes)){const t=Z(n,e);t&&(t.isShadow=!0,L.childNodes.push(t))}}return t.parentNode&&O(t.parentNode)&&(L.isShadow=!0),L.type===w.Element&&"iframe"===L.tagName&&function(t,e,n){const o=t.contentWindow;if(!o)return;let r,i=!1;try{r=o.document.readyState}catch(t){return}if("complete"!==r){const o=setTimeout((()=>{i||(e(),i=!0)}),n);return void t.addEventListener("load",(()=>{clearTimeout(o),i=!0,e()}))}const s="about:blank";o.location.href===s&&t.src!==s&&""!==t.src?t.addEventListener("load",e):setTimeout(e,0)}(t,(()=>{const e=t.contentDocument;if(e&&S){const n=Z(e,{doc:e,map:o,blockClass:r,blockSelector:i,unblockSelector:s,maskTextClass:a,maskTextSelector:l,unmaskTextSelector:c,skipChild:!1,inlineStylesheet:d,maskInputSelector:p,unmaskInputSelector:h,maskAllText:f,maskInputOptions:g,maskTextFn:_,maskInputFn:m,slimDOMOptions:y,dataURLOptions:v,inlineImages:C,recordCanvas:E,preserveWhiteSpace:R,onSerialize:b,onIframeLoad:S,iframeLoadTimeout:P,keepIframeSrcFn:T});n&&S(t,n)}}),P),L}function q(t,e,n){return("video"===t||"audio"===t)&&"autoplay"===e}var X,J,Q,tt,et,nt;function ot(t,e,n=document){const o={capture:!0,passive:!0};return n.addEventListener(t,e,o),()=>n.removeEventListener(t,e,o)}!function(t){t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin"}(X||(X={})),function(t){t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration"}(J||(J={})),function(t){t[t.MouseUp=0]="MouseUp",t[t.MouseDown=1]="MouseDown",t[t.Click=2]="Click",t[t.ContextMenu=3]="ContextMenu",t[t.DblClick=4]="DblClick",t[t.Focus=5]="Focus",t[t.Blur=6]="Blur",t[t.TouchStart=7]="TouchStart",t[t.TouchMove_Departed=8]="TouchMove_Departed",t[t.TouchEnd=9]="TouchEnd",t[t.TouchCancel=10]="TouchCancel"}(Q||(Q={})),function(t){t[t["2D"]=0]="2D",t[t.WebGL=1]="WebGL",t[t.WebGL2=2]="WebGL2"}(tt||(tt={})),function(t){t[t.Play=0]="Play",t[t.Pause=1]="Pause",t[t.Seeked=2]="Seeked",t[t.VolumeChange=3]="VolumeChange"}(et||(et={})),function(t){t.Start="start",t.Pause="pause",t.Resume="resume",t.Resize="resize",t.Finish="finish",t.FullsnapshotRebuilded="fullsnapshot-rebuilded",t.LoadStylesheetStart="load-stylesheet-start",t.LoadStylesheetEnd="load-stylesheet-end",t.SkipStart="skip-start",t.SkipEnd="skip-end",t.MouseInteraction="mouse-interaction",t.EventCast="event-cast",t.CustomEvent="custom-event",t.Flush="flush",t.StateChange="state-change",t.PlayBack="play-back"}(nt||(nt={}));const rt="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let it={map:{},getId:()=>(console.error(rt),-1),getNode:()=>(console.error(rt),null),removeNodeFromMap(){console.error(rt)},has:()=>(console.error(rt),!1),reset(){console.error(rt)}};function st(t,e,n={}){let o=null,r=0;return function(i){let s=Date.now();r||!1!==n.leading||(r=s);let a=e-(s-r),l=this,c=arguments;a<=0||a>e?(o&&(clearTimeout(o),o=null),r=s,t.apply(l,c)):o||!1===n.trailing||(o=setTimeout((()=>{r=!1===n.leading?0:Date.now(),o=null,t.apply(l,c)}),a))}}function at(t,e,n,o,r=window){const i=r.Object.getOwnPropertyDescriptor(t,e);return r.Object.defineProperty(t,e,o?n:{set(t){setTimeout((()=>{n.set.call(this,t)}),0),i&&i.set&&i.set.call(this,t)}}),()=>at(t,e,i||{},!0)}function lt(t,e,n){try{if(!(e in t))return()=>{};const o=t[e],r=n(o);return"function"==typeof r&&(r.prototype=r.prototype||{},Object.defineProperties(r,{__rrweb_original__:{enumerable:!1,value:o}})),t[e]=r,()=>{t[e]=o}}catch(t){return()=>{}}}function ct(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function ut(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function dt(t,e,n,o){if(!t)return!1;if(t.nodeType===t.ELEMENT_NODE){let r=!1;const i=o&&t.matches(o);return"string"==typeof e?r=void 0!==t.closest?!i&&null!==t.closest("."+e):!i&&t.classList.contains(e):!i&&t.classList.forEach((t=>{e.test(t)&&(r=!0)})),!r&&n&&(r=t.matches(n)),!i&&r||dt(t.parentNode,e,n,o)}return t.nodeType,t.TEXT_NODE,dt(t.parentNode,e,n,o)}function pt(t){return"__sn"in t&&t.__sn.id===M}function ht(t,e){if(O(t))return!1;const n=e.getId(t);return!e.has(n)||(!t.parentNode||t.parentNode.nodeType!==t.DOCUMENT_NODE)&&(!t.parentNode||ht(t.parentNode,e))}function ft(t){return Boolean(t.changedTouches)}function gt(t){return"__sn"in t&&(t.__sn.type===w.Element&&"iframe"===t.__sn.tagName)}function _t(t){return Boolean(null==t?void 0:t.shadowRoot)}function mt(t){return"__ln"in t}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(it=new Proxy(it,{get:(t,e,n)=>("map"===e&&console.error(rt),Reflect.get(t,e,n))}));class yt{constructor(){this.length=0,this.head=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let e=this.head;for(let n=0;n<t;n++)e=(null==e?void 0:e.next)||null;return e}addNode(t){const e={value:t,previous:null,next:null};if(t.__ln=e,t.previousSibling&&mt(t.previousSibling)){const n=t.previousSibling.__ln.next;e.next=n,e.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=e,n&&(n.previous=e)}else if(t.nextSibling&&mt(t.nextSibling)&&t.nextSibling.__ln.previous){const n=t.nextSibling.__ln.previous;e.previous=n,e.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=e,n&&(n.next=e)}else this.head&&(this.head.previous=e),e.next=this.head,this.head=e;this.length++}removeNode(t){const e=t.__ln;this.head&&(e.previous?(e.previous.next=e.next,e.next&&(e.next.previous=e.previous)):(this.head=e.next,this.head&&(this.head.previous=null)),t.__ln&&delete t.__ln,this.length--)}}const vt=(t,e)=>`${t}@${e}`;function Ct(t){return"__sn"in t}class Et{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],e=new yt,n=t=>{let e=t,n=M;for(;n===M;)e=e&&e.nextSibling,n=e&&this.mirror.getId(e);return n},o=o=>{var r,i,s,a,l;const c=o.getRootNode?null===(r=o.getRootNode())||void 0===r?void 0:r.host:null;let u=c;for(;null===(s=null===(i=null==u?void 0:u.getRootNode)||void 0===i?void 0:i.call(u))||void 0===s?void 0:s.host;)u=(null===(l=null===(a=null==u?void 0:u.getRootNode)||void 0===a?void 0:a.call(u))||void 0===l?void 0:l.host)||null;const d=!(this.doc.contains(o)||u&&this.doc.contains(u));if(!o.parentNode||d)return;const p=O(o.parentNode)?this.mirror.getId(c):this.mirror.getId(o.parentNode),h=n(o);if(-1===p||-1===h)return e.addNode(o);let f=Z(o,{doc:this.doc,map:this.mirror.map,blockClass:this.blockClass,blockSelector:this.blockSelector,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,maskInputSelector:this.maskInputSelector,unmaskInputSelector:this.unmaskInputSelector,skipChild:!0,inlineStylesheet:this.inlineStylesheet,maskAllText:this.maskAllText,maskInputOptions:this.maskInputOptions,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:t=>{gt(t)&&this.iframeManager.addIframe(t),_t(o)&&this.shadowDomManager.addShadowRoot(o.shadowRoot,document)},onIframeLoad:(t,e)=>{this.iframeManager.attachIframe(t,e),this.shadowDomManager.observeAttachShadow(t)}});f&&t.push({parentId:p,nextId:h,node:f})};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const t of this.movedSet)St(this.removes,t,this.mirror)&&!this.movedSet.has(t.parentNode)||o(t);for(const t of this.addedSet)wt(this.droppedSet,t)||St(this.removes,t,this.mirror)?wt(this.movedSet,t)?o(t):this.droppedSet.add(t):o(t);let r=null;for(;e.length;){let t=null;if(r){const e=this.mirror.getId(r.value.parentNode),o=n(r.value);-1!==e&&-1!==o&&(t=r)}if(!t)for(let o=e.length-1;o>=0;o--){const r=e.get(o);if(r){const e=this.mirror.getId(r.value.parentNode),o=n(r.value);if(-1!==e&&-1!==o){t=r;break}}}if(!t){for(;e.head;)e.removeNode(e.head.value);break}r=t.previous,e.removeNode(t.value),o(t.value)}const i={texts:this.texts.map((t=>({id:this.mirror.getId(t.node),value:t.value}))).filter((t=>this.mirror.has(t.id))),attributes:this.attributes.map((t=>({id:this.mirror.getId(t.node),attributes:t.attributes}))).filter((t=>this.mirror.has(t.id))),removes:this.removes,adds:t};(i.texts.length||i.attributes.length||i.removes.length||i.adds.length)&&(this.texts=[],this.attributes=[],this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(i))},this.processMutation=t=>{if(!pt(t.target))switch(t.type){case"characterData":{const e=t.target.textContent;dt(t.target,this.blockClass,this.blockSelector,this.unblockSelector)||e===t.oldValue||this.texts.push({value:z(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextSelector,this.maskAllText)&&e?this.maskTextFn?this.maskTextFn(e):e.replace(/[\S]/g,"*"):e,node:t.target});break}case"attributes":{const e=t.target;let n=e.getAttribute(t.attributeName);if("value"===t.attributeName&&(n=T({input:e,maskInputSelector:this.maskInputSelector,unmaskInputSelector:this.unmaskInputSelector,maskInputOptions:this.maskInputOptions,tagName:e.tagName,type:e.getAttribute("type"),value:n,maskInputFn:this.maskInputFn})),dt(t.target,this.blockClass,this.blockSelector,this.unblockSelector)||n===t.oldValue)return;let o=this.attributes.find((e=>e.node===t.target));if(o||(o={node:t.target,attributes:{}},this.attributes.push(o)),"type"===t.attributeName&&"INPUT"===t.target.tagName&&"password"===(t.oldValue||"").toLowerCase()&&t.target.setAttribute("rr_is_password","true"),"style"===t.attributeName){const n=this.doc.createElement("span");t.oldValue&&n.setAttribute("style",t.oldValue),void 0!==o.attributes.style&&null!==o.attributes.style||(o.attributes.style={});try{const t=o.attributes.style;for(const o of Array.from(e.style)){const r=e.style.getPropertyValue(o),i=e.style.getPropertyPriority(o);r===n.style.getPropertyValue(o)&&i===n.style.getPropertyPriority(o)||(t[o]=""===i?r:[r,i])}for(const o of Array.from(n.style))""===e.style.getPropertyValue(o)&&(t[o]=!1)}catch(t){console.warn("[rrweb] Error when parsing update to style attribute:",t)}}else{const e=t.target;o.attributes[t.attributeName]=$(this.doc,e,e.tagName,t.attributeName,n,this.maskAllText,this.unmaskTextSelector,this.maskTextFn)}break}case"childList":t.addedNodes.forEach((e=>this.genAdds(e,t.target))),t.removedNodes.forEach((e=>{const n=this.mirror.getId(e),o=O(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);dt(t.target,this.blockClass,this.blockSelector,this.unblockSelector)||pt(e)||(this.addedSet.has(e)?(bt(this.addedSet,e),this.droppedSet.add(e)):this.addedSet.has(t.target)&&-1===n||ht(t.target,this.mirror)||(this.movedSet.has(e)&&this.movedMap[vt(n,o)]?bt(this.movedSet,e):this.removes.push({parentId:o,id:n,isShadow:!!O(t.target)||void 0})),this.mapRemoves.push(e))}))}},this.genAdds=(t,e)=>{if(!e||!dt(e,this.blockClass,this.blockSelector,this.unblockSelector)){if(Ct(t)){if(pt(t))return;this.movedSet.add(t);let n=null;e&&Ct(e)&&(n=e.__sn.id),n&&(this.movedMap[vt(t.__sn.id,n)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);dt(t,this.blockClass,this.blockSelector,this.unblockSelector)||t.childNodes.forEach((t=>this.genAdds(t)))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskTextClass","maskTextSelector","unmaskTextSelector","maskInputSelector","unmaskInputSelector","inlineStylesheet","maskAllText","maskInputOptions","maskTextFn","maskInputFn","recordCanvas","inlineImages","slimDOMOptions","doc","mirror","iframeManager","shadowDomManager","canvasManager"].forEach((e=>{this[e]=t[e]}))}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function bt(t,e){t.delete(e),e.childNodes.forEach((e=>bt(t,e)))}function St(t,e,n){const{parentNode:o}=e;if(!o)return!1;const r=n.getId(o);return!!t.some((t=>t.id===r))||St(t,o,n)}function wt(t,e){const{parentNode:n}=e;return!!n&&(!!t.has(n)||wt(t,n))}const Ot=t=>(...e)=>{try{return t(...e)}catch(t){try{t.__rrweb__=!0}catch(t){}throw t}},Pt=[];function Tt(t){try{if("composedPath"in t){const e=t.composedPath();if(e.length)return e[0]}else if("path"in t&&t.path.length)return t.path[0]}catch(t){}return t&&t.target}function Rt(t,e){var n,o;const r=new Et;Pt.push(r),r.init(t);let i=window.MutationObserver||window.__rrMutationObserver;const s=null===(o=null===(n=null===window||void 0===window?void 0:window.Zone)||void 0===n?void 0:n.__symbol__)||void 0===o?void 0:o.call(n,"MutationObserver");s&&window[s]&&(i=window[s]);const a=new i(Ot((e=>{t.onMutation&&!1===t.onMutation(e)||r.processMutations(e)})));return a.observe(e,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),a}function Dt({mouseInteractionCb:t,doc:e,mirror:n,blockClass:o,blockSelector:r,unblockSelector:i,sampling:s}){if(!1===s.mouseInteraction)return()=>{};const a=!0===s.mouseInteraction||void 0===s.mouseInteraction?{}:s.mouseInteraction,l=[];return Object.keys(Q).filter((t=>Number.isNaN(Number(t))&&!t.endsWith("_Departed")&&!1!==a[t])).forEach((s=>{const a=s.toLowerCase(),c=Ot((e=>s=>{const a=Tt(s);if(dt(a,o,r,i))return;const l=ft(s)?s.changedTouches[0]:s;if(!l)return;const c=n.getId(a),{clientX:u,clientY:d}=l;Ot(t)({type:Q[e],id:c,x:u,y:d})})(s));l.push(ot(a,c,e))})),Ot((()=>{l.forEach((t=>t()))}))}function xt({scrollCb:t,doc:e,mirror:n,blockClass:o,blockSelector:r,unblockSelector:i,sampling:s}){const a=st((s=>{const a=Tt(s);if(!a||dt(a,o,r,i))return;const l=n.getId(a);if(a===e){const n=e.scrollingElement||e.documentElement;Ot(t)({id:l,x:n.scrollLeft,y:n.scrollTop})}else Ot(t)({id:l,x:a.scrollLeft,y:a.scrollTop})}),s.scroll||100);return ot("scroll",Ot(a),e)}function Mt(t,e){const n=Object.assign({},t);return e||delete n.userTriggered,n}const At=["INPUT","TEXTAREA","SELECT"],Lt=new WeakMap;function It({inputCb:t,doc:e,mirror:n,blockClass:o,blockSelector:r,unblockSelector:i,ignoreClass:s,ignoreSelector:a,maskInputSelector:l,unmaskInputSelector:c,maskInputOptions:u,maskInputFn:d,sampling:p,userTriggeredOnInput:h}){function f(t){let n=Tt(t);const p=n&&n.tagName,f=t.isTrusted;if("OPTION"===p&&(n=n.parentElement),!n||!p||At.indexOf(p)<0||dt(n,o,r,i))return;let _=n.type;if(n.classList.contains(s)||a&&n.matches(a))return;let m=n.value,y=!1;n.hasAttribute("rr_is_password")&&(_="password"),"radio"===_||"checkbox"===_?y=n.checked:function({tagName:t,type:e,maskInputOptions:n,maskInputSelector:o}){return o||P({maskInputOptions:n,tagName:t,type:e})}({maskInputOptions:u,maskInputSelector:l,tagName:p,type:_})&&(m=T({input:n,maskInputOptions:u,maskInputSelector:l,unmaskInputSelector:c,tagName:p,type:_,value:m,maskInputFn:d})),g(n,Ot(Mt)({text:m,isChecked:y,userTriggered:f},h));const v=n.name;"radio"===_&&v&&y&&e.querySelectorAll(`input[type="radio"][name="${v}"]`).forEach((t=>{t!==n&&g(t,Ot(Mt)({text:t.value,isChecked:!y,userTriggered:!1},h))}))}function g(e,o){const r=Lt.get(e);if(!r||r.text!==o.text||r.isChecked!==o.isChecked){Lt.set(e,o);const r=n.getId(e);t(Object.assign(Object.assign({},o),{id:r}))}}const _=("last"===p.input?["change"]:["input","change"]).map((t=>ot(t,Ot(f),e))),m=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value"),y=[[HTMLInputElement.prototype,"value"],[HTMLInputElement.prototype,"checked"],[HTMLSelectElement.prototype,"value"],[HTMLTextAreaElement.prototype,"value"],[HTMLSelectElement.prototype,"selectedIndex"],[HTMLOptionElement.prototype,"selected"]];return m&&m.set&&_.push(...y.map((t=>at(t[0],t[1],{set(){Ot(f)({target:this})}})))),Ot((()=>{_.forEach((t=>t()))}))}function Nt(t){return function(t,e){if(Ft("CSSGroupingRule")&&t.parentRule instanceof CSSGroupingRule||Ft("CSSMediaRule")&&t.parentRule instanceof CSSMediaRule||Ft("CSSSupportsRule")&&t.parentRule instanceof CSSSupportsRule||Ft("CSSConditionRule")&&t.parentRule instanceof CSSConditionRule){const n=Array.from(t.parentRule.cssRules).indexOf(t);e.unshift(n)}else{const n=Array.from(t.parentStyleSheet.cssRules).indexOf(t);e.unshift(n)}return e}(t,[])}function kt(t,e={}){const n=t.doc.defaultView;if(!n)return()=>{};!function(t,e){const{mutationCb:n,mousemoveCb:o,mouseInteractionCb:r,scrollCb:i,viewportResizeCb:s,inputCb:a,mediaInteractionCb:l,styleSheetRuleCb:c,styleDeclarationCb:u,canvasMutationCb:d,fontCb:p}=t;t.mutationCb=(...t)=>{e.mutation&&e.mutation(...t),n(...t)},t.mousemoveCb=(...t)=>{e.mousemove&&e.mousemove(...t),o(...t)},t.mouseInteractionCb=(...t)=>{e.mouseInteraction&&e.mouseInteraction(...t),r(...t)},t.scrollCb=(...t)=>{e.scroll&&e.scroll(...t),i(...t)},t.viewportResizeCb=(...t)=>{e.viewportResize&&e.viewportResize(...t),s(...t)},t.inputCb=(...t)=>{e.input&&e.input(...t),a(...t)},t.mediaInteractionCb=(...t)=>{e.mediaInteaction&&e.mediaInteaction(...t),l(...t)},t.styleSheetRuleCb=(...t)=>{e.styleSheetRule&&e.styleSheetRule(...t),c(...t)},t.styleDeclarationCb=(...t)=>{e.styleDeclaration&&e.styleDeclaration(...t),u(...t)},t.canvasMutationCb=(...t)=>{e.canvasMutation&&e.canvasMutation(...t),d(...t)},t.fontCb=(...t)=>{e.font&&e.font(...t),p(...t)}}(t,e);const o=Rt(t,t.doc),r=function({mousemoveCb:t,sampling:e,doc:n,mirror:o}){if(!1===e.mousemove)return()=>{};const r="number"==typeof e.mousemove?e.mousemove:50,i="number"==typeof e.mousemoveCallback?e.mousemoveCallback:500;let s,a=[];const l=st((e=>{const n=Date.now()-s;Ot(t)(a.map((t=>(t.timeOffset-=n,t))),e),a=[],s=null}),i),c=st((t=>{const e=Tt(t),{clientX:n,clientY:r}=ft(t)?t.changedTouches[0]:t;s||(s=Date.now()),a.push({x:n,y:r,id:o.getId(e),timeOffset:Date.now()-s}),l("undefined"!=typeof DragEvent&&t instanceof DragEvent?J.Drag:t instanceof MouseEvent?J.MouseMove:J.TouchMove)}),r,{trailing:!1}),u=[ot("mousemove",Ot(c),n),ot("touchmove",Ot(c),n),ot("drag",Ot(c),n)];return Ot((()=>{u.forEach((t=>t()))}))}(t),i=Dt(t),s=xt(t),a=function({viewportResizeCb:t}){let e=-1,n=-1;const o=st((()=>{const o=ct(),r=ut();e===o&&n===r||(Ot(t)({width:Number(r),height:Number(o)}),e=o,n=r)}),200);return ot("resize",Ot(o),window)}(t),l=It(t),c=function({mediaInteractionCb:t,blockClass:e,blockSelector:n,unblockSelector:o,mirror:r,sampling:i}){const s=s=>st(Ot((i=>{const a=Tt(i);if(!a||dt(a,e,n,o))return;const{currentTime:l,volume:c,muted:u}=a;t({type:s,id:r.getId(a),currentTime:l,volume:c,muted:u})})),i.media||500),a=[ot("play",s(0)),ot("pause",s(1)),ot("seeked",s(2)),ot("volumechange",s(3))];return Ot((()=>{a.forEach((t=>t()))}))}(t),u=function({styleSheetRuleCb:t,mirror:e},{win:n}){if(!n.CSSStyleSheet||!n.CSSStyleSheet.prototype)return()=>{};const o=n.CSSStyleSheet.prototype.insertRule;n.CSSStyleSheet.prototype.insertRule=new Proxy(o,{apply:Ot(((n,o,r)=>{const[i,s]=r,a=e.getId(o.ownerNode);return-1!==a&&t({id:a,adds:[{rule:i,index:s}]}),n.apply(o,r)}))});const r=n.CSSStyleSheet.prototype.deleteRule;n.CSSStyleSheet.prototype.deleteRule=new Proxy(r,{apply:Ot(((n,o,r)=>{const[i]=r,s=e.getId(o.ownerNode);return-1!==s&&t({id:s,removes:[{index:i}]}),n.apply(o,r)}))});const i={};Gt("CSSGroupingRule")?i.CSSGroupingRule=n.CSSGroupingRule:(Gt("CSSMediaRule")&&(i.CSSMediaRule=n.CSSMediaRule),Gt("CSSConditionRule")&&(i.CSSConditionRule=n.CSSConditionRule),Gt("CSSSupportsRule")&&(i.CSSSupportsRule=n.CSSSupportsRule));const s={};return Object.entries(i).forEach((([n,o])=>{s[n]={insertRule:o.prototype.insertRule,deleteRule:o.prototype.deleteRule},o.prototype.insertRule=new Proxy(s[n].insertRule,{apply:Ot(((n,o,r)=>{const[i,s]=r,a=e.getId(o.parentStyleSheet.ownerNode);return-1!==a&&t({id:a,adds:[{rule:i,index:[...Nt(o),s||0]}]}),n.apply(o,r)}))}),o.prototype.deleteRule=new Proxy(s[n].deleteRule,{apply:Ot(((n,o,r)=>{const[i]=r,s=e.getId(o.parentStyleSheet.ownerNode);return-1!==s&&t({id:s,removes:[{index:[...Nt(o),i]}]}),n.apply(o,r)}))})})),Ot((()=>{n.CSSStyleSheet.prototype.insertRule=o,n.CSSStyleSheet.prototype.deleteRule=r,Object.entries(i).forEach((([t,e])=>{e.prototype.insertRule=s[t].insertRule,e.prototype.deleteRule=s[t].deleteRule}))}))}(t,{win:n}),d=function({styleDeclarationCb:t,mirror:e},{win:n}){const o=n.CSSStyleDeclaration.prototype.setProperty;n.CSSStyleDeclaration.prototype.setProperty=new Proxy(o,{apply:Ot(((n,o,r)=>{var i,s;const[a,l,c]=r,u=e.getId(null===(s=null===(i=o.parentRule)||void 0===i?void 0:i.parentStyleSheet)||void 0===s?void 0:s.ownerNode);return-1!==u&&t({id:u,set:{property:a,value:l,priority:c},index:Nt(o.parentRule)}),n.apply(o,r)}))});const r=n.CSSStyleDeclaration.prototype.removeProperty;return n.CSSStyleDeclaration.prototype.removeProperty=new Proxy(r,{apply:Ot(((n,o,r)=>{var i,s;const[a]=r,l=e.getId(null===(s=null===(i=o.parentRule)||void 0===i?void 0:i.parentStyleSheet)||void 0===s?void 0:s.ownerNode);return-1!==l&&t({id:l,remove:{property:a},index:Nt(o.parentRule)}),n.apply(o,r)}))}),Ot((()=>{n.CSSStyleDeclaration.prototype.setProperty=o,n.CSSStyleDeclaration.prototype.removeProperty=r}))}(t,{win:n}),p=t.collectFonts?function({fontCb:t,doc:e}){const n=e.defaultView;if(!n)return()=>{};const o=[],r=new WeakMap,i=n.FontFace;n.FontFace=function(t,e,n){const o=new i(t,e,n);return r.set(o,{family:t,buffer:"string"!=typeof e,descriptors:n,fontSource:"string"==typeof e?e:JSON.stringify(Array.from(new Uint8Array(e)))}),o};const s=lt(e.fonts,"add",(function(e){return function(n){return setTimeout((()=>{const e=r.get(n);e&&(t(e),r.delete(n))}),0),e.apply(this,[n])}}));return o.push((()=>{n.FontFace=i})),o.push(s),Ot((()=>{o.forEach((t=>t()))}))}(t):()=>{},h=[];for(const e of t.plugins)h.push(e.observer(e.callback,n,e.options));return Ot((()=>{Pt.forEach((t=>t.reset())),o.disconnect(),r(),i(),s(),a(),l(),c();try{u(),d()}catch(t){}p(),h.forEach((t=>t()))}))}function Ft(t){return void 0!==window[t]}function Gt(t){return Boolean(void 0!==window[t]&&window[t].prototype&&"insertRule"in window[t].prototype&&"deleteRule"in window[t].prototype)}class Bt{constructor(t){this.iframes=new WeakMap,this.mutationCb=t.mutationCb}addIframe(t){this.iframes.set(t,!0)}addLoadListener(t){this.loadListener=t}attachIframe(t,e){var n;this.mutationCb({adds:[{parentId:t.__sn.id,nextId:null,node:e}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),null===(n=this.loadListener)||void 0===n||n.call(this,t)}}class Ut{constructor(t){this.restorePatches=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror;const e=this;this.restorePatches.push(lt(HTMLElement.prototype,"attachShadow",(function(t){return function(){const n=t.apply(this,arguments);return this.shadowRoot&&e.addShadowRoot(this.shadowRoot,this.ownerDocument),n}})))}addShadowRoot(t,e){Rt(Object.assign(Object.assign({},this.bypassOptions),{doc:e,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),t),xt(Object.assign(Object.assign({},this.bypassOptions),{scrollCb:this.scrollCb,doc:t,mirror:this.mirror}))}observeAttachShadow(t){if(t.contentWindow){const e=this;this.restorePatches.push(lt(t.contentWindow.HTMLElement.prototype,"attachShadow",(function(n){return function(){const o=n.apply(this,arguments);return this.shadowRoot&&e.addShadowRoot(this.shadowRoot,t.contentDocument),o}})))}}reset(){this.restorePatches.forEach((t=>t()))}}for(var jt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vt="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Wt=0;Wt<64;Wt++)Vt[jt.charCodeAt(Wt)]=Wt;const Ht=new Map;const $t=(t,e,n)=>{if(!t||!Yt(t,e)&&"object"!=typeof t)return;const o=function(t,e){let n=Ht.get(t);return n||(n=new Map,Ht.set(t,n)),n.has(e)||n.set(e,[]),n.get(e)}(n,t.constructor.name);let r=o.indexOf(t);return-1===r&&(r=o.length,o.push(t)),r};function zt(t,e,n){if(t instanceof Array)return t.map((t=>zt(t,e,n)));if(null===t)return t;if(t instanceof Float32Array||t instanceof Float64Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Int16Array||t instanceof Int8Array||t instanceof Uint8ClampedArray){return{rr_type:t.constructor.name,args:[Object.values(t)]}}if(t instanceof ArrayBuffer){const e=t.constructor.name,n=function(t){var e,n=new Uint8Array(t),o=n.length,r="";for(e=0;e<o;e+=3)r+=jt[n[e]>>2],r+=jt[(3&n[e])<<4|n[e+1]>>4],r+=jt[(15&n[e+1])<<2|n[e+2]>>6],r+=jt[63&n[e+2]];return o%3==2?r=r.substring(0,r.length-1)+"=":o%3==1&&(r=r.substring(0,r.length-2)+"=="),r}(t);return{rr_type:e,base64:n}}if(t instanceof DataView){return{rr_type:t.constructor.name,args:[zt(t.buffer,e,n),t.byteOffset,t.byteLength]}}if(t instanceof HTMLImageElement){const e=t.constructor.name,{src:n}=t;return{rr_type:e,src:n}}if(t instanceof ImageData){return{rr_type:t.constructor.name,args:[zt(t.data,e,n),t.width,t.height]}}if(Yt(t,e)||"object"==typeof t){return{rr_type:t.constructor.name,index:$t(t,e,n)}}return t}const Kt=(t,e,n)=>[...t].map((t=>zt(t,e,n))),Yt=(t,e)=>{const n=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter((t=>"function"==typeof e[t]));return Boolean(n.find((n=>t instanceof e[n])))};function Zt(t,e,n,o,r,i,s,a){const l=[],c=Object.getOwnPropertyNames(t);for(const u of c)try{if("function"!=typeof t[u])continue;const c=lt(t,u,(function(l){return function(...c){const d=l.apply(this,c);if($t(d,a,t),!dt(this.canvas,o,i,r)){s.getId(this.canvas);const o=Kt([...c],a,t),r={type:e,property:u,args:o};n(this.canvas,r)}return d}}));l.push(c)}catch(o){const r=at(t,u,{set(t){n(this.canvas,{type:e,property:u,args:[t],setter:!0})}});l.push(r)}return l}class qt{reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=function(t,e){!(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId)&&this.rafStamps.invokeId||(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(t)||this.pendingCanvasMutations.set(t,[]),this.pendingCanvasMutations.get(t).push(e)},this.mutationCb=t.mutationCb,this.mirror=t.mirror,!0===t.recordCanvas&&this.initCanvasMutationObserver(t.win,t.blockClass,t.blockSelector,t.unblockSelector)}initCanvasMutationObserver(t,e,n,o){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const r=function(t,e,n,o){const r=[];try{const i=lt(t.HTMLCanvasElement.prototype,"getContext",(function(t){return function(r,...i){return dt(this,e,n,o)||"__context"in this||(this.__context=r),t.apply(this,[r,...i])}}));r.push(i)}catch(t){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{r.forEach((t=>t()))}}(t,e,o,n),i=function(t,e,n,o,r,i){const s=[],a=Object.getOwnPropertyNames(e.CanvasRenderingContext2D.prototype);for(const i of a)try{if("function"!=typeof e.CanvasRenderingContext2D.prototype[i])continue;const a=lt(e.CanvasRenderingContext2D.prototype,i,(function(e){return function(...s){return dt(this.canvas,n,r,o)||setTimeout((()=>{const e=[...s];if("drawImage"===i&&e[0]&&e[0]instanceof HTMLCanvasElement){const t=e[0],n=t.getContext("2d");let o=null==n?void 0:n.getImageData(0,0,t.width,t.height),r=null==o?void 0:o.data;e[0]=JSON.stringify(r)}t(this.canvas,{type:tt["2D"],property:i,args:e})}),0),e.apply(this,s)}}));s.push(a)}catch(n){const o=at(e.CanvasRenderingContext2D.prototype,i,{set(e){t(this.canvas,{type:tt["2D"],property:i,args:[e],setter:!0})}});s.push(o)}return()=>{s.forEach((t=>t()))}}(this.processMutation.bind(this),t,e,o,n,this.mirror),s=function(t,e,n,o,r,i){const s=[];return s.push(...Zt(e.WebGLRenderingContext.prototype,tt.WebGL,t,n,o,r,i,e)),void 0!==e.WebGL2RenderingContext&&s.push(...Zt(e.WebGL2RenderingContext.prototype,tt.WebGL2,t,n,o,r,i,e)),()=>{s.forEach((t=>t()))}}(this.processMutation.bind(this),t,e,o,n,this.mirror);this.resetObservers=()=>{r(),i(),s()}}startPendingCanvasMutationFlusher(){requestAnimationFrame((()=>this.flushPendingCanvasMutations()))}startRAFTimestamping(){const t=e=>{this.rafStamps.latestId=e,requestAnimationFrame(t)};requestAnimationFrame(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach(((t,e)=>{const n=this.mirror.getId(e);this.flushPendingCanvasMutationFor(e,n)})),requestAnimationFrame((()=>this.flushPendingCanvasMutations()))}flushPendingCanvasMutationFor(t,e){if(this.frozen||this.locked)return;const n=this.pendingCanvasMutations.get(t);if(!n||-1===e)return;const o=n.map((t=>{const e=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]])}return n}(t,["type"]);return e})),{type:r}=n[0];this.mutationCb({id:e,type:r,commands:o}),this.pendingCanvasMutations.delete(t)}}function Xt(t){return Object.assign(Object.assign({},t),{timestamp:Date.now()})}let Jt,Qt;const te={map:{},getId:t=>t&&t.__sn?t.__sn.id:-1,getNode(t){return this.map[t]||null},removeNodeFromMap(t){const e=t.__sn&&t.__sn.id;delete this.map[e],t.childNodes&&t.childNodes.forEach((t=>this.removeNodeFromMap(t)))},has(t){return this.map.hasOwnProperty(t)},reset(){this.map={}}};function ee(t={}){const{emit:e,checkoutEveryNms:n,checkoutEveryNth:o,blockClass:r="rr-block",blockSelector:i=null,unblockSelector:s=null,ignoreClass:a="rr-ignore",ignoreSelector:l=null,maskTextClass:c="rr-mask",maskTextSelector:u=null,maskInputSelector:d=null,unmaskTextSelector:p=null,unmaskInputSelector:h=null,inlineStylesheet:f=!0,maskAllText:g=!1,maskAllInputs:_,maskInputOptions:m,slimDOMOptions:y,maskInputFn:v,maskTextFn:C,hooks:E,packFn:b,sampling:S={},mousemoveWait:w,recordCanvas:O=!1,userTriggeredOnInput:P=!1,collectFonts:T=!1,inlineImages:R=!1,plugins:D,keepIframeSrcFn:x=(()=>!1),onMutation:M}=t;if(!e)throw new Error("emit function is required");void 0!==w&&void 0===S.mousemove&&(S.mousemove=w);const A=!0===_?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==m?m:{},L=!0===y||"all"===y?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===y,headMetaDescKeywords:"all"===y}:y||{};let I;!function(t=window){"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=function(t){if(!(0 in arguments))throw new TypeError("1 argument is required");do{if(this===t)return!0}while(t=t&&t.parentNode);return!1})}();let N=0;Jt=(t,r)=>{var i;if(!(null===(i=Pt[0])||void 0===i?void 0:i.isFrozen())||t.type===X.FullSnapshot||t.type===X.IncrementalSnapshot&&t.data.source===J.Mutation||Pt.forEach((t=>t.unfreeze())),e((t=>{for(const e of D||[])e.eventProcessor&&(t=e.eventProcessor(t));return b&&(t=b(t)),t})(t),r),t.type===X.FullSnapshot)I=t,N=0;else if(t.type===X.IncrementalSnapshot){if(t.data.source===J.Mutation&&t.data.isAttachIframe)return;N++;const e=o&&N>=o,r=n&&t.timestamp-I.timestamp>n;(e||r)&&Qt(!0)}};const k=t=>{Jt(Xt({type:X.IncrementalSnapshot,data:Object.assign({source:J.Mutation},t)}))},F=t=>Jt(Xt({type:X.IncrementalSnapshot,data:Object.assign({source:J.Scroll},t)})),G=t=>Jt(Xt({type:X.IncrementalSnapshot,data:Object.assign({source:J.CanvasMutation},t)})),B=new Bt({mutationCb:k}),U=new qt({recordCanvas:O,mutationCb:G,win:window,blockClass:r,blockSelector:i,unblockSelector:s,mirror:te}),j=new Ut({mutationCb:k,scrollCb:F,bypassOptions:{onMutation:M,blockClass:r,blockSelector:i,unblockSelector:s,maskTextClass:c,maskTextSelector:u,unmaskTextSelector:p,maskInputSelector:d,unmaskInputSelector:h,inlineStylesheet:f,maskAllText:g,maskInputOptions:A,maskTextFn:C,maskInputFn:v,recordCanvas:O,inlineImages:R,sampling:S,slimDOMOptions:L,iframeManager:B,canvasManager:U},mirror:te});Qt=(t=!1)=>{var e,n,o,a;Jt(Xt({type:X.Meta,data:{href:window.location.href,width:ut(),height:ct()}}),t),Pt.forEach((t=>t.lock()));const[l,_]=function(t,e){const{blockClass:n="rr-block",blockSelector:o=null,unblockSelector:r=null,maskTextClass:i="rr-mask",maskTextSelector:s=null,unmaskTextSelector:a=null,inlineStylesheet:l=!0,inlineImages:c=!1,recordCanvas:u=!1,maskInputSelector:d=null,unmaskInputSelector:p=null,maskAllText:h=!1,maskAllInputs:f=!1,maskTextFn:g,maskInputFn:_,slimDOM:m=!1,dataURLOptions:y,preserveWhiteSpace:v,onSerialize:C,onIframeLoad:E,iframeLoadTimeout:b,keepIframeSrcFn:S=(()=>!1)}=e||{},w={};return[Z(t,{doc:t,map:w,blockClass:n,blockSelector:o,unblockSelector:r,maskTextClass:i,maskTextSelector:s,unmaskTextSelector:a,skipChild:!1,inlineStylesheet:l,maskInputSelector:d,unmaskInputSelector:p,maskAllText:h,maskInputOptions:!0===f?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===f?{}:f,maskTextFn:g,maskInputFn:_,slimDOMOptions:!0===m||"all"===m?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===m,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===m?{}:m,dataURLOptions:y,inlineImages:c,recordCanvas:u,preserveWhiteSpace:v,onSerialize:C,onIframeLoad:E,iframeLoadTimeout:b,keepIframeSrcFn:S}),w]}(document,{blockClass:r,blockSelector:i,unblockSelector:s,maskTextClass:c,maskTextSelector:u,unmaskTextSelector:p,maskInputSelector:d,unmaskInputSelector:h,inlineStylesheet:f,maskAllText:g,maskAllInputs:A,maskTextFn:C,slimDOM:L,recordCanvas:O,inlineImages:R,onSerialize:t=>{gt(t)&&B.addIframe(t),_t(t)&&j.addShadowRoot(t.shadowRoot,document)},onIframeLoad:(t,e)=>{B.attachIframe(t,e),j.observeAttachShadow(t)},keepIframeSrcFn:x});if(!l)return console.warn("Failed to snapshot the document");te.map=_,Jt(Xt({type:X.FullSnapshot,data:{node:l,initialOffset:{left:void 0!==window.pageXOffset?window.pageXOffset:(null===document||void 0===document?void 0:document.documentElement.scrollLeft)||(null===(n=null===(e=null===document||void 0===document?void 0:document.body)||void 0===e?void 0:e.parentElement)||void 0===n?void 0:n.scrollLeft)||(null===document||void 0===document?void 0:document.body.scrollLeft)||0,top:void 0!==window.pageYOffset?window.pageYOffset:(null===document||void 0===document?void 0:document.documentElement.scrollTop)||(null===(a=null===(o=null===document||void 0===document?void 0:document.body)||void 0===o?void 0:o.parentElement)||void 0===a?void 0:a.scrollTop)||(null===document||void 0===document?void 0:document.body.scrollTop)||0}}})),Pt.forEach((t=>t.unlock()))};try{const t=[];t.push(ot("DOMContentLoaded",(()=>{Jt(Xt({type:X.DomContentLoaded,data:{}}))})));const e=t=>{var e;return Ot(kt)({onMutation:M,mutationCb:k,mousemoveCb:(t,e)=>Jt(Xt({type:X.IncrementalSnapshot,data:{source:e,positions:t}})),mouseInteractionCb:t=>Jt(Xt({type:X.IncrementalSnapshot,data:Object.assign({source:J.MouseInteraction},t)})),scrollCb:F,viewportResizeCb:t=>Jt(Xt({type:X.IncrementalSnapshot,data:Object.assign({source:J.ViewportResize},t)})),inputCb:t=>Jt(Xt({type:X.IncrementalSnapshot,data:Object.assign({source:J.Input},t)})),mediaInteractionCb:t=>Jt(Xt({type:X.IncrementalSnapshot,data:Object.assign({source:J.MediaInteraction},t)})),styleSheetRuleCb:t=>Jt(Xt({type:X.IncrementalSnapshot,data:Object.assign({source:J.StyleSheetRule},t)})),styleDeclarationCb:t=>Jt(Xt({type:X.IncrementalSnapshot,data:Object.assign({source:J.StyleDeclaration},t)})),canvasMutationCb:G,fontCb:t=>Jt(Xt({type:X.IncrementalSnapshot,data:Object.assign({source:J.Font},t)})),blockClass:r,ignoreClass:a,ignoreSelector:l,maskTextClass:c,maskTextSelector:u,unmaskTextSelector:p,maskInputSelector:d,unmaskInputSelector:h,maskInputOptions:A,inlineStylesheet:f,sampling:S,recordCanvas:O,inlineImages:R,userTriggeredOnInput:P,collectFonts:T,doc:t,maskAllText:g,maskInputFn:v,maskTextFn:C,blockSelector:i,unblockSelector:s,slimDOMOptions:L,mirror:te,iframeManager:B,shadowDomManager:j,canvasManager:U,plugins:(null===(e=null==D?void 0:D.filter((t=>t.observer)))||void 0===e?void 0:e.map((t=>({observer:t.observer,options:t.options,callback:e=>Jt(Xt({type:X.Plugin,data:{plugin:t.name,payload:e}}))}))))||[]},E)};B.addLoadListener((n=>{try{t.push(e(n.contentDocument))}catch(t){console.warn(t)}}));const n=()=>{Qt(),t.push(e(document))};return"interactive"===document.readyState||"complete"===document.readyState?n():t.push(ot("load",(()=>{Jt(Xt({type:X.Load,data:{}})),n()}),window)),()=>{t.forEach((t=>t()))}}catch(t){console.warn(t)}}ee.addCustomEvent=(t,e)=>{if(!Jt)throw new Error("please add custom event after start recording");Jt(Xt({type:X.Custom,data:{tag:t,payload:e}}))},ee.freezePage=()=>{Pt.forEach((t=>t.freeze()))},ee.takeFullSnapshot=t=>{if(!Qt)throw new Error("please take full snapshot after start recording");Qt(t)},ee.mirror=te;const ne=["name","type","startTime","transferSize","duration"];function oe(t){return function(e){return ne.every((n=>t[n]===e[n]))}}function re(t){const e=new PerformanceObserver((e=>{const n=function(t,e){const[n,o,r]=t.reduce(((t,e)=>("navigation"===e.entryType?t[0].push(e):"largest-contentful-paint"===e.entryType?t[1].push(e):t[2].push(e),t)),[[],[],[]]),i=[],s=[];let a=o.length?o[o.length-1]:void 0;return e.forEach((t=>{if("largest-contentful-paint"!==t.entryType)if("navigation"!==t.entryType)i.push(t);else{const e=t;t.duration>0&&!n.find(oe(e))&&!s.find(oe(e))&&s.push(e)}else(!a||a.startTime<t.startTime)&&(a=t)})),[...a?[a]:[],...n,...r,...i,...s].sort(((t,e)=>t.startTime-e.startTime))}(t.performanceEvents,e.getEntries());t.performanceEvents=n}));return["element","event","first-input","largest-contentful-paint","layout-shift","longtask","navigation","paint","resource"].forEach((t=>{try{e.observe({type:t,buffered:!0})}catch(t){}})),e}const ie='/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */\nfunction t(t){let e=t.length;for(;--e>=0;)t[e]=0}const e=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),a=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),i=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),n=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=new Array(576);t(s);const r=new Array(60);t(r);const o=new Array(512);t(o);const l=new Array(256);t(l);const h=new Array(29);t(h);const d=new Array(30);function _(t,e,a,i,n){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=i,this.max_length=n,this.has_stree=t&&t.length}let f,c,u;function w(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}t(d);const m=t=>t<256?o[t]:o[256+(t>>>7)],b=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},g=(t,e,a)=>{t.bi_valid>16-a?(t.bi_buf|=e<<t.bi_valid&65535,b(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=a-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)},p=(t,e,a)=>{g(t,a[2*e],a[2*e+1])},k=(t,e)=>{let a=0;do{a|=1&t,t>>>=1,a<<=1}while(--e>0);return a>>>1},v=(t,e,a)=>{const i=new Array(16);let n,s,r=0;for(n=1;n<=15;n++)r=r+a[n-1]<<1,i[n]=r;for(s=0;s<=e;s++){let e=t[2*s+1];0!==e&&(t[2*s]=k(i[e]++,e))}},y=t=>{let e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},x=t=>{t.bi_valid>8?b(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},z=(t,e,a,i)=>{const n=2*e,s=2*a;return t[n]<t[s]||t[n]===t[s]&&i[e]<=i[a]},A=(t,e,a)=>{const i=t.heap[a];let n=a<<1;for(;n<=t.heap_len&&(n<t.heap_len&&z(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!z(e,i,t.heap[n],t.depth));)t.heap[a]=t.heap[n],a=n,n<<=1;t.heap[a]=i},E=(t,i,n)=>{let s,r,o,_,f=0;if(0!==t.sym_next)do{s=255&t.pending_buf[t.sym_buf+f++],s+=(255&t.pending_buf[t.sym_buf+f++])<<8,r=t.pending_buf[t.sym_buf+f++],0===s?p(t,r,i):(o=l[r],p(t,o+256+1,i),_=e[o],0!==_&&(r-=h[o],g(t,r,_)),s--,o=m(s),p(t,o,n),_=a[o],0!==_&&(s-=d[o],g(t,s,_)))}while(f<t.sym_next);p(t,256,i)},R=(t,e)=>{const a=e.dyn_tree,i=e.stat_desc.static_tree,n=e.stat_desc.has_stree,s=e.stat_desc.elems;let r,o,l,h=-1;for(t.heap_len=0,t.heap_max=573,r=0;r<s;r++)0!==a[2*r]?(t.heap[++t.heap_len]=h=r,t.depth[r]=0):a[2*r+1]=0;for(;t.heap_len<2;)l=t.heap[++t.heap_len]=h<2?++h:0,a[2*l]=1,t.depth[l]=0,t.opt_len--,n&&(t.static_len-=i[2*l+1]);for(e.max_code=h,r=t.heap_len>>1;r>=1;r--)A(t,a,r);l=s;do{r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],A(t,a,1),o=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=o,a[2*l]=a[2*r]+a[2*o],t.depth[l]=(t.depth[r]>=t.depth[o]?t.depth[r]:t.depth[o])+1,a[2*r+1]=a[2*o+1]=l,t.heap[1]=l++,A(t,a,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const a=e.dyn_tree,i=e.max_code,n=e.stat_desc.static_tree,s=e.stat_desc.has_stree,r=e.stat_desc.extra_bits,o=e.stat_desc.extra_base,l=e.stat_desc.max_length;let h,d,_,f,c,u,w=0;for(f=0;f<=15;f++)t.bl_count[f]=0;for(a[2*t.heap[t.heap_max]+1]=0,h=t.heap_max+1;h<573;h++)d=t.heap[h],f=a[2*a[2*d+1]+1]+1,f>l&&(f=l,w++),a[2*d+1]=f,d>i||(t.bl_count[f]++,c=0,d>=o&&(c=r[d-o]),u=a[2*d],t.opt_len+=u*(f+c),s&&(t.static_len+=u*(n[2*d+1]+c)));if(0!==w){do{for(f=l-1;0===t.bl_count[f];)f--;t.bl_count[f]--,t.bl_count[f+1]+=2,t.bl_count[l]--,w-=2}while(w>0);for(f=l;0!==f;f--)for(d=t.bl_count[f];0!==d;)_=t.heap[--h],_>i||(a[2*_+1]!==f&&(t.opt_len+=(f-a[2*_+1])*a[2*_],a[2*_+1]=f),d--)}})(t,e),v(a,h,t.bl_count)},Z=(t,e,a)=>{let i,n,s=-1,r=e[1],o=0,l=7,h=4;for(0===r&&(l=138,h=3),e[2*(a+1)+1]=65535,i=0;i<=a;i++)n=r,r=e[2*(i+1)+1],++o<l&&n===r||(o<h?t.bl_tree[2*n]+=o:0!==n?(n!==s&&t.bl_tree[2*n]++,t.bl_tree[32]++):o<=10?t.bl_tree[34]++:t.bl_tree[36]++,o=0,s=n,0===r?(l=138,h=3):n===r?(l=6,h=3):(l=7,h=4))},U=(t,e,a)=>{let i,n,s=-1,r=e[1],o=0,l=7,h=4;for(0===r&&(l=138,h=3),i=0;i<=a;i++)if(n=r,r=e[2*(i+1)+1],!(++o<l&&n===r)){if(o<h)do{p(t,n,t.bl_tree)}while(0!=--o);else 0!==n?(n!==s&&(p(t,n,t.bl_tree),o--),p(t,16,t.bl_tree),g(t,o-3,2)):o<=10?(p(t,17,t.bl_tree),g(t,o-3,3)):(p(t,18,t.bl_tree),g(t,o-11,7));o=0,s=n,0===r?(l=138,h=3):n===r?(l=6,h=3):(l=7,h=4)}};let S=!1;const D=(t,e,a,i)=>{g(t,0+(i?1:0),3),x(t),b(t,a),b(t,~a),a&&t.pending_buf.set(t.window.subarray(e,e+a),t.pending),t.pending+=a};var T=(t,e,a,i)=>{let o,l,h=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,a=4093624447;for(e=0;e<=31;e++,a>>>=1)if(1&a&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),R(t,t.l_desc),R(t,t.d_desc),h=(t=>{let e;for(Z(t,t.dyn_ltree,t.l_desc.max_code),Z(t,t.dyn_dtree,t.d_desc.max_code),R(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*n[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),o=t.opt_len+3+7>>>3,l=t.static_len+3+7>>>3,l<=o&&(o=l)):o=l=a+5,a+4<=o&&-1!==e?D(t,e,a,i):4===t.strategy||l===o?(g(t,2+(i?1:0),3),E(t,s,r)):(g(t,4+(i?1:0),3),((t,e,a,i)=>{let s;for(g(t,e-257,5),g(t,a-1,5),g(t,i-4,4),s=0;s<i;s++)g(t,t.bl_tree[2*n[s]+1],3);U(t,t.dyn_ltree,e-1),U(t,t.dyn_dtree,a-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,h+1),E(t,t.dyn_ltree,t.dyn_dtree)),y(t),i&&x(t)},O={_tr_init:t=>{S||((()=>{let t,n,w,m,b;const g=new Array(16);for(w=0,m=0;m<28;m++)for(h[m]=w,t=0;t<1<<e[m];t++)l[w++]=m;for(l[w-1]=m,b=0,m=0;m<16;m++)for(d[m]=b,t=0;t<1<<a[m];t++)o[b++]=m;for(b>>=7;m<30;m++)for(d[m]=b<<7,t=0;t<1<<a[m]-7;t++)o[256+b++]=m;for(n=0;n<=15;n++)g[n]=0;for(t=0;t<=143;)s[2*t+1]=8,t++,g[8]++;for(;t<=255;)s[2*t+1]=9,t++,g[9]++;for(;t<=279;)s[2*t+1]=7,t++,g[7]++;for(;t<=287;)s[2*t+1]=8,t++,g[8]++;for(v(s,287,g),t=0;t<30;t++)r[2*t+1]=5,r[2*t]=k(t,5);f=new _(s,e,257,286,15),c=new _(r,a,0,30,15),u=new _(new Array(0),i,0,19,7)})(),S=!0),t.l_desc=new w(t.dyn_ltree,f),t.d_desc=new w(t.dyn_dtree,c),t.bl_desc=new w(t.bl_tree,u),t.bi_buf=0,t.bi_valid=0,y(t)},_tr_stored_block:D,_tr_flush_block:T,_tr_tally:(t,e,a)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=a,0===e?t.dyn_ltree[2*a]++:(t.matches++,e--,t.dyn_ltree[2*(l[a]+256+1)]++,t.dyn_dtree[2*m(e)]++),t.sym_next===t.sym_end),_tr_align:t=>{g(t,2,3),p(t,256,s),(t=>{16===t.bi_valid?(b(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}};var F=(t,e,a,i)=>{let n=65535&t|0,s=t>>>16&65535|0,r=0;for(;0!==a;){r=a>2e3?2e3:a,a-=r;do{n=n+e[i++]|0,s=s+n|0}while(--r);n%=65521,s%=65521}return n|s<<16|0};const L=new Uint32Array((()=>{let t,e=[];for(var a=0;a<256;a++){t=a;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}return e})());var N=(t,e,a,i)=>{const n=L,s=i+a;t^=-1;for(let a=i;a<s;a++)t=t>>>8^n[255&(t^e[a])];return-1^t},I={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},B={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:C,_tr_stored_block:H,_tr_flush_block:M,_tr_tally:j,_tr_align:K}=O,{Z_NO_FLUSH:P,Z_PARTIAL_FLUSH:Y,Z_FULL_FLUSH:G,Z_FINISH:X,Z_BLOCK:W,Z_OK:q,Z_STREAM_END:J,Z_STREAM_ERROR:Q,Z_DATA_ERROR:V,Z_BUF_ERROR:$,Z_DEFAULT_COMPRESSION:tt,Z_FILTERED:et,Z_HUFFMAN_ONLY:at,Z_RLE:it,Z_FIXED:nt,Z_DEFAULT_STRATEGY:st,Z_UNKNOWN:rt,Z_DEFLATED:ot}=B,lt=(t,e)=>(t.msg=I[e],e),ht=t=>2*t-(t>4?9:0),dt=t=>{let e=t.length;for(;--e>=0;)t[e]=0},_t=t=>{let e,a,i,n=t.w_size;e=t.hash_size,i=e;do{a=t.head[--i],t.head[i]=a>=n?a-n:0}while(--e);e=n,i=e;do{a=t.prev[--i],t.prev[i]=a>=n?a-n:0}while(--e)};let ft=(t,e,a)=>(e<<t.hash_shift^a)&t.hash_mask;const ct=t=>{const e=t.state;let a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+a),t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))},ut=(t,e)=>{M(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,ct(t.strm)},wt=(t,e)=>{t.pending_buf[t.pending++]=e},mt=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},bt=(t,e,a,i)=>{let n=t.avail_in;return n>i&&(n=i),0===n?0:(t.avail_in-=n,e.set(t.input.subarray(t.next_in,t.next_in+n),a),1===t.state.wrap?t.adler=F(t.adler,e,n,a):2===t.state.wrap&&(t.adler=N(t.adler,e,n,a)),t.next_in+=n,t.total_in+=n,n)},gt=(t,e)=>{let a,i,n=t.max_chain_length,s=t.strstart,r=t.prev_length,o=t.nice_match;const l=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,h=t.window,d=t.w_mask,_=t.prev,f=t.strstart+258;let c=h[s+r-1],u=h[s+r];t.prev_length>=t.good_match&&(n>>=2),o>t.lookahead&&(o=t.lookahead);do{if(a=e,h[a+r]===u&&h[a+r-1]===c&&h[a]===h[s]&&h[++a]===h[s+1]){s+=2,a++;do{}while(h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&s<f);if(i=258-(f-s),s=f-258,i>r){if(t.match_start=e,r=i,i>=o)break;c=h[s+r-1],u=h[s+r]}}}while((e=_[e&d])>l&&0!=--n);return r<=t.lookahead?r:t.lookahead},pt=t=>{const e=t.w_size;let a,i,n;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-262)&&(t.window.set(t.window.subarray(e,e+e-i),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),_t(t),i+=e),0===t.strm.avail_in)break;if(a=bt(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=a,t.lookahead+t.insert>=3)for(n=t.strstart-t.insert,t.ins_h=t.window[n],t.ins_h=ft(t,t.ins_h,t.window[n+1]);t.insert&&(t.ins_h=ft(t,t.ins_h,t.window[n+3-1]),t.prev[n&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=n,n++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<262&&0!==t.strm.avail_in)},kt=(t,e)=>{let a,i,n,s=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,r=0,o=t.strm.avail_in;do{if(a=65535,n=t.bi_valid+42>>3,t.strm.avail_out<n)break;if(n=t.strm.avail_out-n,i=t.strstart-t.block_start,a>i+t.strm.avail_in&&(a=i+t.strm.avail_in),a>n&&(a=n),a<s&&(0===a&&e!==X||e===P||a!==i+t.strm.avail_in))break;r=e===X&&a===i+t.strm.avail_in?1:0,H(t,0,0,r),t.pending_buf[t.pending-4]=a,t.pending_buf[t.pending-3]=a>>8,t.pending_buf[t.pending-2]=~a,t.pending_buf[t.pending-1]=~a>>8,ct(t.strm),i&&(i>a&&(i=a),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,a-=i),a&&(bt(t.strm,t.strm.output,t.strm.next_out,a),t.strm.next_out+=a,t.strm.avail_out-=a,t.strm.total_out+=a)}while(0===r);return o-=t.strm.avail_in,o&&(o>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=o&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-o,t.strm.next_in),t.strstart),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),r?4:e!==P&&e!==X&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(n=t.window_size-t.strstart,t.strm.avail_in>n&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,n+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),n>t.strm.avail_in&&(n=t.strm.avail_in),n&&(bt(t.strm,t.window,t.strstart,n),t.strstart+=n,t.insert+=n>t.w_size-t.insert?t.w_size-t.insert:n),t.high_water<t.strstart&&(t.high_water=t.strstart),n=t.bi_valid+42>>3,n=t.pending_buf_size-n>65535?65535:t.pending_buf_size-n,s=n>t.w_size?t.w_size:n,i=t.strstart-t.block_start,(i>=s||(i||e===X)&&e!==P&&0===t.strm.avail_in&&i<=n)&&(a=i>n?n:i,r=e===X&&0===t.strm.avail_in&&a===i?1:0,H(t,t.block_start,a,r),t.block_start+=a,ct(t.strm)),r?3:1)},vt=(t,e)=>{let a,i;for(;;){if(t.lookahead<262){if(pt(t),t.lookahead<262&&e===P)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=ft(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-262&&(t.match_length=gt(t,a)),t.match_length>=3)if(i=j(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=ft(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=ft(t,t.ins_h,t.window[t.strstart+1]);else i=j(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(ut(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===X?(ut(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(ut(t,!1),0===t.strm.avail_out)?1:2},yt=(t,e)=>{let a,i,n;for(;;){if(t.lookahead<262){if(pt(t),t.lookahead<262&&e===P)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=ft(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-262&&(t.match_length=gt(t,a),t.match_length<=5&&(t.strategy===et||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){n=t.strstart+t.lookahead-3,i=j(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=n&&(t.ins_h=ft(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,i&&(ut(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(i=j(t,0,t.window[t.strstart-1]),i&&ut(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=j(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===X?(ut(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(ut(t,!1),0===t.strm.avail_out)?1:2};function xt(t,e,a,i,n){this.good_length=t,this.max_lazy=e,this.nice_length=a,this.max_chain=i,this.func=n}const zt=[new xt(0,0,0,0,kt),new xt(4,4,8,4,vt),new xt(4,5,16,8,vt),new xt(4,6,32,32,vt),new xt(4,4,16,16,yt),new xt(8,16,32,32,yt),new xt(8,16,128,128,yt),new xt(8,32,128,256,yt),new xt(32,128,258,1024,yt),new xt(32,258,258,4096,yt)];function At(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ot,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),dt(this.dyn_ltree),dt(this.dyn_dtree),dt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),dt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),dt(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Et=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||42!==e.status&&57!==e.status&&69!==e.status&&73!==e.status&&91!==e.status&&103!==e.status&&113!==e.status&&666!==e.status?1:0},Rt=t=>{if(Et(t))return lt(t,Q);t.total_in=t.total_out=0,t.data_type=rt;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?42:113,t.adler=2===e.wrap?0:1,e.last_flush=-2,C(e),q},Zt=t=>{const e=Rt(t);var a;return e===q&&((a=t.state).window_size=2*a.w_size,dt(a.head),a.max_lazy_match=zt[a.level].max_lazy,a.good_match=zt[a.level].good_length,a.nice_match=zt[a.level].nice_length,a.max_chain_length=zt[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=2,a.match_available=0,a.ins_h=0),e},Ut=(t,e,a,i,n,s)=>{if(!t)return Q;let r=1;if(e===tt&&(e=6),i<0?(r=0,i=-i):i>15&&(r=2,i-=16),n<1||n>9||a!==ot||i<8||i>15||e<0||e>9||s<0||s>nt||8===i&&1!==r)return lt(t,Q);8===i&&(i=9);const o=new At;return t.state=o,o.strm=t,o.status=42,o.wrap=r,o.gzhead=null,o.w_bits=i,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=n+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<n+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=3*(o.lit_bufsize-1),o.level=e,o.strategy=s,o.method=a,Zt(t)};var St={deflateInit:(t,e)=>Ut(t,e,ot,15,8,st),deflateInit2:Ut,deflateReset:Zt,deflateResetKeep:Rt,deflateSetHeader:(t,e)=>Et(t)||2!==t.state.wrap?Q:(t.state.gzhead=e,q),deflate:(t,e)=>{if(Et(t)||e>W||e<0)return t?lt(t,Q):Q;const a=t.state;if(!t.output||0!==t.avail_in&&!t.input||666===a.status&&e!==X)return lt(t,0===t.avail_out?$:Q);const i=a.last_flush;if(a.last_flush=e,0!==a.pending){if(ct(t),0===t.avail_out)return a.last_flush=-1,q}else if(0===t.avail_in&&ht(e)<=ht(i)&&e!==X)return lt(t,$);if(666===a.status&&0!==t.avail_in)return lt(t,$);if(42===a.status&&0===a.wrap&&(a.status=113),42===a.status){let e=ot+(a.w_bits-8<<4)<<8,i=-1;if(i=a.strategy>=at||a.level<2?0:a.level<6?1:6===a.level?2:3,e|=i<<6,0!==a.strstart&&(e|=32),e+=31-e%31,mt(a,e),0!==a.strstart&&(mt(a,t.adler>>>16),mt(a,65535&t.adler)),t.adler=1,a.status=113,ct(t),0!==a.pending)return a.last_flush=-1,q}if(57===a.status)if(t.adler=0,wt(a,31),wt(a,139),wt(a,8),a.gzhead)wt(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),wt(a,255&a.gzhead.time),wt(a,a.gzhead.time>>8&255),wt(a,a.gzhead.time>>16&255),wt(a,a.gzhead.time>>24&255),wt(a,9===a.level?2:a.strategy>=at||a.level<2?4:0),wt(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(wt(a,255&a.gzhead.extra.length),wt(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(t.adler=N(t.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=69;else if(wt(a,0),wt(a,0),wt(a,0),wt(a,0),wt(a,0),wt(a,9===a.level?2:a.strategy>=at||a.level<2?4:0),wt(a,3),a.status=113,ct(t),0!==a.pending)return a.last_flush=-1,q;if(69===a.status){if(a.gzhead.extra){let e=a.pending,i=(65535&a.gzhead.extra.length)-a.gzindex;for(;a.pending+i>a.pending_buf_size;){let n=a.pending_buf_size-a.pending;if(a.pending_buf.set(a.gzhead.extra.subarray(a.gzindex,a.gzindex+n),a.pending),a.pending=a.pending_buf_size,a.gzhead.hcrc&&a.pending>e&&(t.adler=N(t.adler,a.pending_buf,a.pending-e,e)),a.gzindex+=n,ct(t),0!==a.pending)return a.last_flush=-1,q;e=0,i-=n}let n=new Uint8Array(a.gzhead.extra);a.pending_buf.set(n.subarray(a.gzindex,a.gzindex+i),a.pending),a.pending+=i,a.gzhead.hcrc&&a.pending>e&&(t.adler=N(t.adler,a.pending_buf,a.pending-e,e)),a.gzindex=0}a.status=73}if(73===a.status){if(a.gzhead.name){let e,i=a.pending;do{if(a.pending===a.pending_buf_size){if(a.gzhead.hcrc&&a.pending>i&&(t.adler=N(t.adler,a.pending_buf,a.pending-i,i)),ct(t),0!==a.pending)return a.last_flush=-1,q;i=0}e=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,wt(a,e)}while(0!==e);a.gzhead.hcrc&&a.pending>i&&(t.adler=N(t.adler,a.pending_buf,a.pending-i,i)),a.gzindex=0}a.status=91}if(91===a.status){if(a.gzhead.comment){let e,i=a.pending;do{if(a.pending===a.pending_buf_size){if(a.gzhead.hcrc&&a.pending>i&&(t.adler=N(t.adler,a.pending_buf,a.pending-i,i)),ct(t),0!==a.pending)return a.last_flush=-1,q;i=0}e=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,wt(a,e)}while(0!==e);a.gzhead.hcrc&&a.pending>i&&(t.adler=N(t.adler,a.pending_buf,a.pending-i,i))}a.status=103}if(103===a.status){if(a.gzhead.hcrc){if(a.pending+2>a.pending_buf_size&&(ct(t),0!==a.pending))return a.last_flush=-1,q;wt(a,255&t.adler),wt(a,t.adler>>8&255),t.adler=0}if(a.status=113,ct(t),0!==a.pending)return a.last_flush=-1,q}if(0!==t.avail_in||0!==a.lookahead||e!==P&&666!==a.status){let i=0===a.level?kt(a,e):a.strategy===at?((t,e)=>{let a;for(;;){if(0===t.lookahead&&(pt(t),0===t.lookahead)){if(e===P)return 1;break}if(t.match_length=0,a=j(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(ut(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===X?(ut(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(ut(t,!1),0===t.strm.avail_out)?1:2})(a,e):a.strategy===it?((t,e)=>{let a,i,n,s;const r=t.window;for(;;){if(t.lookahead<=258){if(pt(t),t.lookahead<=258&&e===P)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(n=t.strstart-1,i=r[n],i===r[++n]&&i===r[++n]&&i===r[++n])){s=t.strstart+258;do{}while(i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&n<s);t.match_length=258-(s-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(a=j(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=j(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(ut(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===X?(ut(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(ut(t,!1),0===t.strm.avail_out)?1:2})(a,e):zt[a.level].func(a,e);if(3!==i&&4!==i||(a.status=666),1===i||3===i)return 0===t.avail_out&&(a.last_flush=-1),q;if(2===i&&(e===Y?K(a):e!==W&&(H(a,0,0,!1),e===G&&(dt(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),ct(t),0===t.avail_out))return a.last_flush=-1,q}return e!==X?q:a.wrap<=0?J:(2===a.wrap?(wt(a,255&t.adler),wt(a,t.adler>>8&255),wt(a,t.adler>>16&255),wt(a,t.adler>>24&255),wt(a,255&t.total_in),wt(a,t.total_in>>8&255),wt(a,t.total_in>>16&255),wt(a,t.total_in>>24&255)):(mt(a,t.adler>>>16),mt(a,65535&t.adler)),ct(t),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?q:J)},deflateEnd:t=>{if(Et(t))return Q;const e=t.state.status;return t.state=null,113===e?lt(t,V):q},deflateSetDictionary:(t,e)=>{let a=e.length;if(Et(t))return Q;const i=t.state,n=i.wrap;if(2===n||1===n&&42!==i.status||i.lookahead)return Q;if(1===n&&(t.adler=F(t.adler,e,a,0)),i.wrap=0,a>=i.w_size){0===n&&(dt(i.head),i.strstart=0,i.block_start=0,i.insert=0);let t=new Uint8Array(i.w_size);t.set(e.subarray(a-i.w_size,a),0),e=t,a=i.w_size}const s=t.avail_in,r=t.next_in,o=t.input;for(t.avail_in=a,t.next_in=0,t.input=e,pt(i);i.lookahead>=3;){let t=i.strstart,e=i.lookahead-2;do{i.ins_h=ft(i,i.ins_h,i.window[t+3-1]),i.prev[t&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=t,t++}while(--e);i.strstart=t,i.lookahead=2,pt(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,t.next_in=r,t.input=o,t.avail_in=s,i.wrap=n,q},deflateInfo:"pako deflate (from Nodeca project)"};const Dt=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Tt=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const a=e.shift();if(a){if("object"!=typeof a)throw new TypeError(a+"must be non-object");for(const e in a)Dt(a,e)&&(t[e]=a[e])}}return t},Ot=t=>{let e=0;for(let a=0,i=t.length;a<i;a++)e+=t[a].length;const a=new Uint8Array(e);for(let e=0,i=0,n=t.length;e<n;e++){let n=t[e];a.set(n,i),i+=n.length}return a};let Ft=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){Ft=!1}const Lt=new Uint8Array(256);for(let t=0;t<256;t++)Lt[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Lt[254]=Lt[254]=1;var Nt=t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,a,i,n,s,r=t.length,o=0;for(n=0;n<r;n++)a=t.charCodeAt(n),55296==(64512&a)&&n+1<r&&(i=t.charCodeAt(n+1),56320==(64512&i)&&(a=65536+(a-55296<<10)+(i-56320),n++)),o+=a<128?1:a<2048?2:a<65536?3:4;for(e=new Uint8Array(o),s=0,n=0;s<o;n++)a=t.charCodeAt(n),55296==(64512&a)&&n+1<r&&(i=t.charCodeAt(n+1),56320==(64512&i)&&(a=65536+(a-55296<<10)+(i-56320),n++)),a<128?e[s++]=a:a<2048?(e[s++]=192|a>>>6,e[s++]=128|63&a):a<65536?(e[s++]=224|a>>>12,e[s++]=128|a>>>6&63,e[s++]=128|63&a):(e[s++]=240|a>>>18,e[s++]=128|a>>>12&63,e[s++]=128|a>>>6&63,e[s++]=128|63&a);return e},It=(t,e)=>{const a=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let i,n;const s=new Array(2*a);for(n=0,i=0;i<a;){let e=t[i++];if(e<128){s[n++]=e;continue}let r=Lt[e];if(r>4)s[n++]=65533,i+=r-1;else{for(e&=2===r?31:3===r?15:7;r>1&&i<a;)e=e<<6|63&t[i++],r--;r>1?s[n++]=65533:e<65536?s[n++]=e:(e-=65536,s[n++]=55296|e>>10&1023,s[n++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&Ft)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let a="";for(let i=0;i<e;i++)a+=String.fromCharCode(t[i]);return a})(s,n)},Bt=(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let a=e-1;for(;a>=0&&128==(192&t[a]);)a--;return a<0||0===a?e:a+Lt[t[a]]>e?a:e};var Ct=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Ht=Object.prototype.toString,{Z_NO_FLUSH:Mt,Z_SYNC_FLUSH:jt,Z_FULL_FLUSH:Kt,Z_FINISH:Pt,Z_OK:Yt,Z_STREAM_END:Gt,Z_DEFAULT_COMPRESSION:Xt,Z_DEFAULT_STRATEGY:Wt,Z_DEFLATED:qt}=B;function Jt(t){this.options=Tt({level:Xt,method:qt,chunkSize:16384,windowBits:15,memLevel:8,strategy:Wt},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ct,this.strm.avail_out=0;let a=St.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(a!==Yt)throw new Error(I[a]);if(e.header&&St.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?Nt(e.dictionary):"[object ArrayBuffer]"===Ht.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,a=St.deflateSetDictionary(this.strm,t),a!==Yt)throw new Error(I[a]);this._dict_set=!0}}function Qt(t,e){const a=new Jt(e);if(a.push(t,!0),a.err)throw a.msg||I[a.err];return a.result}Jt.prototype.push=function(t,e){const a=this.strm,i=this.options.chunkSize;let n,s;if(this.ended)return!1;for(s=e===~~e?e:!0===e?Pt:Mt,"string"==typeof t?a.input=Nt(t):"[object ArrayBuffer]"===Ht.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;;)if(0===a.avail_out&&(a.output=new Uint8Array(i),a.next_out=0,a.avail_out=i),(s===jt||s===Kt)&&a.avail_out<=6)this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;else{if(n=St.deflate(a,s),n===Gt)return a.next_out>0&&this.onData(a.output.subarray(0,a.next_out)),n=St.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===Yt;if(0!==a.avail_out){if(s>0&&a.next_out>0)this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;else if(0===a.avail_in)break}else this.onData(a.output)}return!0},Jt.prototype.onData=function(t){this.chunks.push(t)},Jt.prototype.onEnd=function(t){t===Yt&&(this.result=Ot(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Vt={Deflate:Jt,deflate:Qt,deflateRaw:function(t,e){return(e=e||{}).raw=!0,Qt(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,Qt(t,e)},constants:B};var $t=function(t,e){let a,i,n,s,r,o,l,h,d,_,f,c,u,w,m,b,g,p,k,v,y,x,z,A;const E=t.state;a=t.next_in,z=t.input,i=a+(t.avail_in-5),n=t.next_out,A=t.output,s=n-(e-t.avail_out),r=n+(t.avail_out-257),o=E.dmax,l=E.wsize,h=E.whave,d=E.wnext,_=E.window,f=E.hold,c=E.bits,u=E.lencode,w=E.distcode,m=(1<<E.lenbits)-1,b=(1<<E.distbits)-1;t:do{c<15&&(f+=z[a++]<<c,c+=8,f+=z[a++]<<c,c+=8),g=u[f&m];e:for(;;){if(p=g>>>24,f>>>=p,c-=p,p=g>>>16&255,0===p)A[n++]=65535&g;else{if(!(16&p)){if(0==(64&p)){g=u[(65535&g)+(f&(1<<p)-1)];continue e}if(32&p){E.mode=16191;break t}t.msg="invalid literal/length code",E.mode=16209;break t}k=65535&g,p&=15,p&&(c<p&&(f+=z[a++]<<c,c+=8),k+=f&(1<<p)-1,f>>>=p,c-=p),c<15&&(f+=z[a++]<<c,c+=8,f+=z[a++]<<c,c+=8),g=w[f&b];a:for(;;){if(p=g>>>24,f>>>=p,c-=p,p=g>>>16&255,!(16&p)){if(0==(64&p)){g=w[(65535&g)+(f&(1<<p)-1)];continue a}t.msg="invalid distance code",E.mode=16209;break t}if(v=65535&g,p&=15,c<p&&(f+=z[a++]<<c,c+=8,c<p&&(f+=z[a++]<<c,c+=8)),v+=f&(1<<p)-1,v>o){t.msg="invalid distance too far back",E.mode=16209;break t}if(f>>>=p,c-=p,p=n-s,v>p){if(p=v-p,p>h&&E.sane){t.msg="invalid distance too far back",E.mode=16209;break t}if(y=0,x=_,0===d){if(y+=l-p,p<k){k-=p;do{A[n++]=_[y++]}while(--p);y=n-v,x=A}}else if(d<p){if(y+=l+d-p,p-=d,p<k){k-=p;do{A[n++]=_[y++]}while(--p);if(y=0,d<k){p=d,k-=p;do{A[n++]=_[y++]}while(--p);y=n-v,x=A}}}else if(y+=d-p,p<k){k-=p;do{A[n++]=_[y++]}while(--p);y=n-v,x=A}for(;k>2;)A[n++]=x[y++],A[n++]=x[y++],A[n++]=x[y++],k-=3;k&&(A[n++]=x[y++],k>1&&(A[n++]=x[y++]))}else{y=n-v;do{A[n++]=A[y++],A[n++]=A[y++],A[n++]=A[y++],k-=3}while(k>2);k&&(A[n++]=A[y++],k>1&&(A[n++]=A[y++]))}break}}break}}while(a<i&&n<r);k=c>>3,a-=k,c-=k<<3,f&=(1<<c)-1,t.next_in=a,t.next_out=n,t.avail_in=a<i?i-a+5:5-(a-i),t.avail_out=n<r?r-n+257:257-(n-r),E.hold=f,E.bits=c};const te=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ee=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ae=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ie=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var ne=(t,e,a,i,n,s,r,o)=>{const l=o.bits;let h,d,_,f,c,u,w=0,m=0,b=0,g=0,p=0,k=0,v=0,y=0,x=0,z=0,A=null;const E=new Uint16Array(16),R=new Uint16Array(16);let Z,U,S,D=null;for(w=0;w<=15;w++)E[w]=0;for(m=0;m<i;m++)E[e[a+m]]++;for(p=l,g=15;g>=1&&0===E[g];g--);if(p>g&&(p=g),0===g)return n[s++]=20971520,n[s++]=20971520,o.bits=1,0;for(b=1;b<g&&0===E[b];b++);for(p<b&&(p=b),y=1,w=1;w<=15;w++)if(y<<=1,y-=E[w],y<0)return-1;if(y>0&&(0===t||1!==g))return-1;for(R[1]=0,w=1;w<15;w++)R[w+1]=R[w]+E[w];for(m=0;m<i;m++)0!==e[a+m]&&(r[R[e[a+m]]++]=m);if(0===t?(A=D=r,u=20):1===t?(A=te,D=ee,u=257):(A=ae,D=ie,u=0),z=0,m=0,w=b,c=s,k=p,v=0,_=-1,x=1<<p,f=x-1,1===t&&x>852||2===t&&x>592)return 1;for(;;){Z=w-v,r[m]+1<u?(U=0,S=r[m]):r[m]>=u?(U=D[r[m]-u],S=A[r[m]-u]):(U=96,S=0),h=1<<w-v,d=1<<k,b=d;do{d-=h,n[c+(z>>v)+d]=Z<<24|U<<16|S|0}while(0!==d);for(h=1<<w-1;z&h;)h>>=1;if(0!==h?(z&=h-1,z+=h):z=0,m++,0==--E[w]){if(w===g)break;w=e[a+r[m]]}if(w>p&&(z&f)!==_){for(0===v&&(v=p),c+=b,k=w-v,y=1<<k;k+v<g&&(y-=E[k+v],!(y<=0));)k++,y<<=1;if(x+=1<<k,1===t&&x>852||2===t&&x>592)return 1;_=z&f,n[_]=p<<24|k<<16|c-s|0}}return 0!==z&&(n[c+z]=w-v<<24|64<<16|0),o.bits=p,0};const{Z_FINISH:se,Z_BLOCK:re,Z_TREES:oe,Z_OK:le,Z_STREAM_END:he,Z_NEED_DICT:de,Z_STREAM_ERROR:_e,Z_DATA_ERROR:fe,Z_MEM_ERROR:ce,Z_BUF_ERROR:ue,Z_DEFLATED:we}=B,me=16209,be=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function ge(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const pe=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<16180||e.mode>16211?1:0},ke=t=>{if(pe(t))return _e;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=16180,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,le},ve=t=>{if(pe(t))return _e;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,ke(t)},ye=(t,e)=>{let a;if(pe(t))return _e;const i=t.state;return e<0?(a=0,e=-e):(a=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?_e:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=a,i.wbits=e,ve(t))},xe=(t,e)=>{if(!t)return _e;const a=new ge;t.state=a,a.strm=t,a.window=null,a.mode=16180;const i=ye(t,e);return i!==le&&(t.state=null),i};let ze,Ae,Ee=!0;const Re=t=>{if(Ee){ze=new Int32Array(512),Ae=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(ne(1,t.lens,0,288,ze,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;ne(2,t.lens,0,32,Ae,0,t.work,{bits:5}),Ee=!1}t.lencode=ze,t.lenbits=9,t.distcode=Ae,t.distbits=5},Ze=(t,e,a,i)=>{let n;const s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),i>=s.wsize?(s.window.set(e.subarray(a-s.wsize,a),0),s.wnext=0,s.whave=s.wsize):(n=s.wsize-s.wnext,n>i&&(n=i),s.window.set(e.subarray(a-i,a-i+n),s.wnext),(i-=n)?(s.window.set(e.subarray(a-i,a),0),s.wnext=i,s.whave=s.wsize):(s.wnext+=n,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=n))),0};var Ue={inflateReset:ve,inflateReset2:ye,inflateResetKeep:ke,inflateInit:t=>xe(t,15),inflateInit2:xe,inflate:(t,e)=>{let a,i,n,s,r,o,l,h,d,_,f,c,u,w,m,b,g,p,k,v,y,x,z=0;const A=new Uint8Array(4);let E,R;const Z=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(pe(t)||!t.output||!t.input&&0!==t.avail_in)return _e;a=t.state,16191===a.mode&&(a.mode=16192),r=t.next_out,n=t.output,l=t.avail_out,s=t.next_in,i=t.input,o=t.avail_in,h=a.hold,d=a.bits,_=o,f=l,x=le;t:for(;;)switch(a.mode){case 16180:if(0===a.wrap){a.mode=16192;break}for(;d<16;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(2&a.wrap&&35615===h){0===a.wbits&&(a.wbits=15),a.check=0,A[0]=255&h,A[1]=h>>>8&255,a.check=N(a.check,A,2,0),h=0,d=0,a.mode=16181;break}if(a.head&&(a.head.done=!1),!(1&a.wrap)||(((255&h)<<8)+(h>>8))%31){t.msg="incorrect header check",a.mode=me;break}if((15&h)!==we){t.msg="unknown compression method",a.mode=me;break}if(h>>>=4,d-=4,y=8+(15&h),0===a.wbits&&(a.wbits=y),y>15||y>a.wbits){t.msg="invalid window size",a.mode=me;break}a.dmax=1<<a.wbits,a.flags=0,t.adler=a.check=1,a.mode=512&h?16189:16191,h=0,d=0;break;case 16181:for(;d<16;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(a.flags=h,(255&a.flags)!==we){t.msg="unknown compression method",a.mode=me;break}if(57344&a.flags){t.msg="unknown header flags set",a.mode=me;break}a.head&&(a.head.text=h>>8&1),512&a.flags&&4&a.wrap&&(A[0]=255&h,A[1]=h>>>8&255,a.check=N(a.check,A,2,0)),h=0,d=0,a.mode=16182;case 16182:for(;d<32;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}a.head&&(a.head.time=h),512&a.flags&&4&a.wrap&&(A[0]=255&h,A[1]=h>>>8&255,A[2]=h>>>16&255,A[3]=h>>>24&255,a.check=N(a.check,A,4,0)),h=0,d=0,a.mode=16183;case 16183:for(;d<16;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}a.head&&(a.head.xflags=255&h,a.head.os=h>>8),512&a.flags&&4&a.wrap&&(A[0]=255&h,A[1]=h>>>8&255,a.check=N(a.check,A,2,0)),h=0,d=0,a.mode=16184;case 16184:if(1024&a.flags){for(;d<16;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}a.length=h,a.head&&(a.head.extra_len=h),512&a.flags&&4&a.wrap&&(A[0]=255&h,A[1]=h>>>8&255,a.check=N(a.check,A,2,0)),h=0,d=0}else a.head&&(a.head.extra=null);a.mode=16185;case 16185:if(1024&a.flags&&(c=a.length,c>o&&(c=o),c&&(a.head&&(y=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Uint8Array(a.head.extra_len)),a.head.extra.set(i.subarray(s,s+c),y)),512&a.flags&&4&a.wrap&&(a.check=N(a.check,i,c,s)),o-=c,s+=c,a.length-=c),a.length))break t;a.length=0,a.mode=16186;case 16186:if(2048&a.flags){if(0===o)break t;c=0;do{y=i[s+c++],a.head&&y&&a.length<65536&&(a.head.name+=String.fromCharCode(y))}while(y&&c<o);if(512&a.flags&&4&a.wrap&&(a.check=N(a.check,i,c,s)),o-=c,s+=c,y)break t}else a.head&&(a.head.name=null);a.length=0,a.mode=16187;case 16187:if(4096&a.flags){if(0===o)break t;c=0;do{y=i[s+c++],a.head&&y&&a.length<65536&&(a.head.comment+=String.fromCharCode(y))}while(y&&c<o);if(512&a.flags&&4&a.wrap&&(a.check=N(a.check,i,c,s)),o-=c,s+=c,y)break t}else a.head&&(a.head.comment=null);a.mode=16188;case 16188:if(512&a.flags){for(;d<16;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(4&a.wrap&&h!==(65535&a.check)){t.msg="header crc mismatch",a.mode=me;break}h=0,d=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),t.adler=a.check=0,a.mode=16191;break;case 16189:for(;d<32;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}t.adler=a.check=be(h),h=0,d=0,a.mode=16190;case 16190:if(0===a.havedict)return t.next_out=r,t.avail_out=l,t.next_in=s,t.avail_in=o,a.hold=h,a.bits=d,de;t.adler=a.check=1,a.mode=16191;case 16191:if(e===re||e===oe)break t;case 16192:if(a.last){h>>>=7&d,d-=7&d,a.mode=16206;break}for(;d<3;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}switch(a.last=1&h,h>>>=1,d-=1,3&h){case 0:a.mode=16193;break;case 1:if(Re(a),a.mode=16199,e===oe){h>>>=2,d-=2;break t}break;case 2:a.mode=16196;break;case 3:t.msg="invalid block type",a.mode=me}h>>>=2,d-=2;break;case 16193:for(h>>>=7&d,d-=7&d;d<32;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if((65535&h)!=(h>>>16^65535)){t.msg="invalid stored block lengths",a.mode=me;break}if(a.length=65535&h,h=0,d=0,a.mode=16194,e===oe)break t;case 16194:a.mode=16195;case 16195:if(c=a.length,c){if(c>o&&(c=o),c>l&&(c=l),0===c)break t;n.set(i.subarray(s,s+c),r),o-=c,s+=c,l-=c,r+=c,a.length-=c;break}a.mode=16191;break;case 16196:for(;d<14;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(a.nlen=257+(31&h),h>>>=5,d-=5,a.ndist=1+(31&h),h>>>=5,d-=5,a.ncode=4+(15&h),h>>>=4,d-=4,a.nlen>286||a.ndist>30){t.msg="too many length or distance symbols",a.mode=me;break}a.have=0,a.mode=16197;case 16197:for(;a.have<a.ncode;){for(;d<3;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}a.lens[Z[a.have++]]=7&h,h>>>=3,d-=3}for(;a.have<19;)a.lens[Z[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,E={bits:a.lenbits},x=ne(0,a.lens,0,19,a.lencode,0,a.work,E),a.lenbits=E.bits,x){t.msg="invalid code lengths set",a.mode=me;break}a.have=0,a.mode=16198;case 16198:for(;a.have<a.nlen+a.ndist;){for(;z=a.lencode[h&(1<<a.lenbits)-1],m=z>>>24,b=z>>>16&255,g=65535&z,!(m<=d);){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(g<16)h>>>=m,d-=m,a.lens[a.have++]=g;else{if(16===g){for(R=m+2;d<R;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(h>>>=m,d-=m,0===a.have){t.msg="invalid bit length repeat",a.mode=me;break}y=a.lens[a.have-1],c=3+(3&h),h>>>=2,d-=2}else if(17===g){for(R=m+3;d<R;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}h>>>=m,d-=m,y=0,c=3+(7&h),h>>>=3,d-=3}else{for(R=m+7;d<R;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}h>>>=m,d-=m,y=0,c=11+(127&h),h>>>=7,d-=7}if(a.have+c>a.nlen+a.ndist){t.msg="invalid bit length repeat",a.mode=me;break}for(;c--;)a.lens[a.have++]=y}}if(a.mode===me)break;if(0===a.lens[256]){t.msg="invalid code -- missing end-of-block",a.mode=me;break}if(a.lenbits=9,E={bits:a.lenbits},x=ne(1,a.lens,0,a.nlen,a.lencode,0,a.work,E),a.lenbits=E.bits,x){t.msg="invalid literal/lengths set",a.mode=me;break}if(a.distbits=6,a.distcode=a.distdyn,E={bits:a.distbits},x=ne(2,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,E),a.distbits=E.bits,x){t.msg="invalid distances set",a.mode=me;break}if(a.mode=16199,e===oe)break t;case 16199:a.mode=16200;case 16200:if(o>=6&&l>=258){t.next_out=r,t.avail_out=l,t.next_in=s,t.avail_in=o,a.hold=h,a.bits=d,$t(t,f),r=t.next_out,n=t.output,l=t.avail_out,s=t.next_in,i=t.input,o=t.avail_in,h=a.hold,d=a.bits,16191===a.mode&&(a.back=-1);break}for(a.back=0;z=a.lencode[h&(1<<a.lenbits)-1],m=z>>>24,b=z>>>16&255,g=65535&z,!(m<=d);){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(b&&0==(240&b)){for(p=m,k=b,v=g;z=a.lencode[v+((h&(1<<p+k)-1)>>p)],m=z>>>24,b=z>>>16&255,g=65535&z,!(p+m<=d);){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}h>>>=p,d-=p,a.back+=p}if(h>>>=m,d-=m,a.back+=m,a.length=g,0===b){a.mode=16205;break}if(32&b){a.back=-1,a.mode=16191;break}if(64&b){t.msg="invalid literal/length code",a.mode=me;break}a.extra=15&b,a.mode=16201;case 16201:if(a.extra){for(R=a.extra;d<R;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}a.length+=h&(1<<a.extra)-1,h>>>=a.extra,d-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=16202;case 16202:for(;z=a.distcode[h&(1<<a.distbits)-1],m=z>>>24,b=z>>>16&255,g=65535&z,!(m<=d);){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(0==(240&b)){for(p=m,k=b,v=g;z=a.distcode[v+((h&(1<<p+k)-1)>>p)],m=z>>>24,b=z>>>16&255,g=65535&z,!(p+m<=d);){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}h>>>=p,d-=p,a.back+=p}if(h>>>=m,d-=m,a.back+=m,64&b){t.msg="invalid distance code",a.mode=me;break}a.offset=g,a.extra=15&b,a.mode=16203;case 16203:if(a.extra){for(R=a.extra;d<R;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}a.offset+=h&(1<<a.extra)-1,h>>>=a.extra,d-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){t.msg="invalid distance too far back",a.mode=me;break}a.mode=16204;case 16204:if(0===l)break t;if(c=f-l,a.offset>c){if(c=a.offset-c,c>a.whave&&a.sane){t.msg="invalid distance too far back",a.mode=me;break}c>a.wnext?(c-=a.wnext,u=a.wsize-c):u=a.wnext-c,c>a.length&&(c=a.length),w=a.window}else w=n,u=r-a.offset,c=a.length;c>l&&(c=l),l-=c,a.length-=c;do{n[r++]=w[u++]}while(--c);0===a.length&&(a.mode=16200);break;case 16205:if(0===l)break t;n[r++]=a.length,l--,a.mode=16200;break;case 16206:if(a.wrap){for(;d<32;){if(0===o)break t;o--,h|=i[s++]<<d,d+=8}if(f-=l,t.total_out+=f,a.total+=f,4&a.wrap&&f&&(t.adler=a.check=a.flags?N(a.check,n,f,r-f):F(a.check,n,f,r-f)),f=l,4&a.wrap&&(a.flags?h:be(h))!==a.check){t.msg="incorrect data check",a.mode=me;break}h=0,d=0}a.mode=16207;case 16207:if(a.wrap&&a.flags){for(;d<32;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(4&a.wrap&&h!==(4294967295&a.total)){t.msg="incorrect length check",a.mode=me;break}h=0,d=0}a.mode=16208;case 16208:x=he;break t;case me:x=fe;break t;case 16210:return ce;default:return _e}return t.next_out=r,t.avail_out=l,t.next_in=s,t.avail_in=o,a.hold=h,a.bits=d,(a.wsize||f!==t.avail_out&&a.mode<me&&(a.mode<16206||e!==se))&&Ze(t,t.output,t.next_out,f-t.avail_out),_-=t.avail_in,f-=t.avail_out,t.total_in+=_,t.total_out+=f,a.total+=f,4&a.wrap&&f&&(t.adler=a.check=a.flags?N(a.check,n,f,t.next_out-f):F(a.check,n,f,t.next_out-f)),t.data_type=a.bits+(a.last?64:0)+(16191===a.mode?128:0)+(16199===a.mode||16194===a.mode?256:0),(0===_&&0===f||e===se)&&x===le&&(x=ue),x},inflateEnd:t=>{if(pe(t))return _e;let e=t.state;return e.window&&(e.window=null),t.state=null,le},inflateGetHeader:(t,e)=>{if(pe(t))return _e;const a=t.state;return 0==(2&a.wrap)?_e:(a.head=e,e.done=!1,le)},inflateSetDictionary:(t,e)=>{const a=e.length;let i,n,s;return pe(t)?_e:(i=t.state,0!==i.wrap&&16190!==i.mode?_e:16190===i.mode&&(n=1,n=F(n,e,a,0),n!==i.check)?fe:(s=Ze(t,e,a,a),s?(i.mode=16210,ce):(i.havedict=1,le)))},inflateInfo:"pako inflate (from Nodeca project)"};var Se=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const De=Object.prototype.toString,{Z_NO_FLUSH:Te,Z_FINISH:Oe,Z_OK:Fe,Z_STREAM_END:Le,Z_NEED_DICT:Ne,Z_STREAM_ERROR:Ie,Z_DATA_ERROR:Be,Z_MEM_ERROR:Ce}=B;function He(t){this.options=Tt({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ct,this.strm.avail_out=0;let a=Ue.inflateInit2(this.strm,e.windowBits);if(a!==Fe)throw new Error(I[a]);if(this.header=new Se,Ue.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=Nt(e.dictionary):"[object ArrayBuffer]"===De.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(a=Ue.inflateSetDictionary(this.strm,e.dictionary),a!==Fe)))throw new Error(I[a])}He.prototype.push=function(t,e){const a=this.strm,i=this.options.chunkSize,n=this.options.dictionary;let s,r,o;if(this.ended)return!1;for(r=e===~~e?e:!0===e?Oe:Te,"[object ArrayBuffer]"===De.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;;){for(0===a.avail_out&&(a.output=new Uint8Array(i),a.next_out=0,a.avail_out=i),s=Ue.inflate(a,r),s===Ne&&n&&(s=Ue.inflateSetDictionary(a,n),s===Fe?s=Ue.inflate(a,r):s===Be&&(s=Ne));a.avail_in>0&&s===Le&&a.state.wrap>0&&0!==t[a.next_in];)Ue.inflateReset(a),s=Ue.inflate(a,r);switch(s){case Ie:case Be:case Ne:case Ce:return this.onEnd(s),this.ended=!0,!1}if(o=a.avail_out,a.next_out&&(0===a.avail_out||s===Le))if("string"===this.options.to){let t=Bt(a.output,a.next_out),e=a.next_out-t,n=It(a.output,t);a.next_out=e,a.avail_out=i-e,e&&a.output.set(a.output.subarray(t,t+e),0),this.onData(n)}else this.onData(a.output.length===a.next_out?a.output:a.output.subarray(0,a.next_out));if(s!==Fe||0!==o){if(s===Le)return s=Ue.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(0===a.avail_in)break}}return!0},He.prototype.onData=function(t){this.chunks.push(t)},He.prototype.onEnd=function(t){t===Fe&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Ot(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};const{Deflate:Me,deflate:je,deflateRaw:Ke,gzip:Pe}=Vt;var Ye=Me,Ge=je,Xe=B;const We=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const e=this._hasEvents?",":"";this.deflate.push(e+t,Xe.Z_SYNC_FLUSH),this._hasEvents=!0}finish(){if(this.deflate.push("]",Xe.Z_FINISH),this.deflate.err)throw this.deflate.err;const t=this.deflate.result;return this._init(),t}_init(){this._hasEvents=!1,this.deflate=new Ye,this.deflate.push("[",Xe.Z_NO_FLUSH)}},qe={clear:()=>{We.clear()},addEvent:t=>We.addEvent(t),finish:()=>We.finish(),compress:t=>function(t){return Ge(t)}(t)};addEventListener("message",(function(t){const e=t.data.method,a=t.data.id,i=t.data.arg;if(e in qe&&"function"==typeof qe[e])try{const t=qe[e](i);postMessage({id:a,method:e,success:!0,response:t})}catch(t){postMessage({id:a,method:e,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function se(t){return t>9999999999?t:1e3*t}class ae{constructor(){this.events=[]}get hasEvents(){return this.events.length>0}destroy(){this.events=[]}async addEvent(t){this.events.push(t)}finish(){return new Promise((t=>{const e=this.events;this.events=[],t(JSON.stringify(e))}))}clear(){this.events=[]}getEarliestTimestamp(){const t=this.events.map((t=>t.timestamp)).sort()[0];return t?se(t):null}}class le{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise(((t,e)=>{this._worker.addEventListener("message",(({data:n})=>{n.success?t():e()}),{once:!0}),this._worker.addEventListener("error",(t=>{e(t)}),{once:!0})}))),this._ensureReadyPromise}destroy(){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.log("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(t,e){const n=this._getAndIncrementId();return new Promise(((o,r)=>{const i=({data:e})=>{const s=e;if(s.method===t&&s.id===n){if(this._worker.removeEventListener("message",i),!s.success)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.error("[Replay]",s.response),void r(new Error("Error in compression worker"));o(s.response)}};this._worker.addEventListener("message",i),this._worker.postMessage({id:n,method:t,arg:e})}))}_getAndIncrementId(){return this._id++}}class ce{constructor(t){this._worker=new le(t),this._earliestTimestamp=null}get hasEvents(){return!!this._earliestTimestamp}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const e=se(t.timestamp);return(!this._earliestTimestamp||e<this._earliestTimestamp)&&(this._earliestTimestamp=e),this._sendEventToWorker(t)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._worker.postMessage("clear")}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",JSON.stringify(t))}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,t}}class ue{constructor(t){this._fallback=new ae,this._compression=new ce(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get hasEvents(){return this._used.hasEvents}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.log("[Replay] Failed to load the compression worker, falling back to simple buffer"))}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t}=this._fallback,e=[];for(const n of t)e.push(this._compression.addEvent(n));this._used=this._compression;try{await Promise.all(e)}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.warn("[Replay] Failed to add events when switching buffers.",t)}}}function de({useCompression:t}){if(t&&window.Worker)try{const t=function(){const t=new Blob([ie]);return URL.createObjectURL(t)}();("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.log("[Replay] Using compression worker");const e=new Worker(t);return new ue(e)}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.log("[Replay] Failed to create compression worker")}return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.log("[Replay] Using simple buffer"),new ae}function pe(t){!function(){if(!("sessionStorage"in y))return;try{y.sessionStorage.removeItem(v)}catch(t){}}(),t.session=void 0}function he(t,e,n=+new Date){return null===t||void 0===e||e<0||0!==e&&t+e<=n}function fe(t,e,n=+new Date){return he(t.started,e.maxSessionLife,n)||he(t.lastActivity,e.sessionIdleExpire,n)}function ge(t){return void 0!==t&&Math.random()<t}function _e(t){if("sessionStorage"in y)try{y.sessionStorage.setItem(v,JSON.stringify(t))}catch(t){}}function me(t){const e=Date.now();return{id:t.id||(0,c.DM)(),started:t.started||e,lastActivity:t.lastActivity||e,segmentId:t.segmentId||0,sampled:t.sampled,shouldRefresh:!0}}function ye({sessionSampleRate:t,allowBuffering:e,stickySession:n=!1}){const o=function(t,e){return ge(t)?"session":!!e&&"buffer"}(t,e),r=me({sampled:o});return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.log(`[Replay] Creating new session: ${r.id}`),n&&_e(r),r}function ve({timeouts:t,currentSession:e,stickySession:n,sessionSampleRate:o,allowBuffering:r}){const i=e||n&&function(){if(!("sessionStorage"in y))return null;try{const t=y.sessionStorage.getItem(v);return t?me(JSON.parse(t)):null}catch(t){return null}}();if(i){if(!fe(i,t))return{type:"saved",session:i};if(!i.shouldRefresh){return{type:"new",session:me({sampled:!1})}}("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.log("[Replay] Session has expired")}return{type:"new",session:ye({stickySession:n,sessionSampleRate:o,allowBuffering:r})}}async function Ce(t,e,n){if(!t.eventBuffer)return null;if(t.isPaused())return null;if(se(e.timestamp)+t.timeouts.sessionIdlePause<Date.now())return null;try{return n&&t.eventBuffer.clear(),await t.eventBuffer.addEvent(e)}catch(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.error(e),await t.stop("addEvent");const n=(0,o.Gd)().getClient();n&&n.recordDroppedEvent("internal_sdk_error","replay")}}function Ee(t){return!t.type}function be(t){return"transaction"===t.type}function Se(t){const e=function(){const t=(0,o.Gd)().getClient();if(!t)return!1;const e=t.getTransport();if(!e)return!1;return e.send.__sentry__baseTransport__||!1}();return(n,o)=>{if(!Ee(n)&&!be(n))return;const r=o&&o.statusCode;if(!e||!(!r||r<200||r>=300))if(be(n)&&n.contexts&&n.contexts.trace&&n.contexts.trace.trace_id)t.getContext().traceIds.add(n.contexts.trace.trace_id);else if(Ee(n)&&(n.event_id&&t.getContext().errorIds.add(n.event_id),"buffer"===t.recordingMode&&n.exception&&n.message!==E)){if(!ge(t.getOptions().errorSampleRate))return;setTimeout((()=>{t.sendBufferedReplayOrFlush()}))}}}var we;function Oe(t){return{timestamp:Date.now()/1e3,type:"default",...t}}function Pe(t,e){"sentry.transaction"!==e.category&&(["ui.click","ui.input"].includes(e.category)?t.triggerUserActivity():t.checkAndHandleExpiredSession(),t.addUpdate((()=>(Ce(t,{type:X.Custom,timestamp:1e3*(e.timestamp||0),data:{tag:"breadcrumb",payload:(0,u.Fv)(e,10,1e3)}}),"console"===e.category))))}!function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"}(we||(we={}));const Te=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid"]);function Re(t){const e={};for(const n in t)if(Te.has(n)){let o=n;"data-testid"!==n&&"data-test-id"!==n||(o="testId"),e[o]=t[n]}return e}const De=t=>e=>{if(!t.isEnabled())return;const n=function(t){let e,n;try{n=function(t){if(e=t.event,e.target)return t.event.target;var e;return t.event}(t),e=(0,d.Rt)(n)}catch(t){e="<unknown>"}const o=n&&"__sn"in n&&n.__sn.type===we.Element?n.__sn:null;return Oe({category:`ui.${t.name}`,message:e,data:o?{nodeId:o.id,node:{id:o.id,tagName:o.tagName,textContent:n?Array.from(n.childNodes).map((t=>"__sn"in t&&t.__sn.type===we.Text&&t.__sn.textContent)).filter(Boolean).map((t=>t.trim())).join(""):"",attributes:Re(o.attributes)}}:{}})}(e);n&&Pe(t,n)};function xe(t,e=!1){const n=e?Se(t):void 0;return(e,o)=>{if(function(t){return"replay_event"===t.type}(e))return delete e.breadcrumbs,e;if(!Ee(e)&&!be(e))return e;if(function(t,e){return!(t.type||!t.exception||!t.exception.values||!t.exception.values.length)&&(!(!e.originalException||!e.originalException.__rrweb__)||t.exception.values.some((t=>!!(t.stacktrace&&t.stacktrace.frames&&t.stacktrace.frames.length)&&t.stacktrace.frames.some((t=>t.filename&&t.filename.includes("/rrweb/src/"))))))}(e,o)&&!t.getOptions()._experiments.captureExceptions)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.log("[Replay] Ignoring error from rrweb internals",e),null;if((Ee(e)||be(e)&&"session"===t.recordingMode)&&(e.tags={...e.tags,replayId:t.getSessionId()}),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.getOptions()._experiments.traceInternals&&Ee(e)){const t=function(t){return{type:"Unknown",value:"n/a",...t.exception&&t.exception.values&&t.exception.values[0]}}(e);!function(t){const{category:e,level:n,message:o,...i}=t;(0,r.n_)({category:e||"console",level:n||"debug",message:`[debug]: ${o}`,...i})}({message:`Tagging event (${e.event_id}) - ${e.message} - ${t.type}: ${t.value}`})}return n&&n(e,{statusCode:200}),e}}function Me(t,e){return e.map((({type:e,start:n,end:o,name:r,data:i})=>Ce(t,{type:X.Custom,timestamp:n,data:{tag:"performanceSpan",payload:{op:e,description:r,startTimestamp:n,endTimestamp:o,data:i}}})))}function Ae(t){return e=>{if(!t.isEnabled())return;const n=function(t){const{from:e,to:n}=t,o=Date.now()/1e3;return{type:"navigation.push",start:o,end:o,name:n,data:{previous:e}}}(e);null!==n&&(t.getContext().urls.push(n.name),t.triggerUserActivity(),t.addUpdate((()=>(Me(t,[n]),!1))))}}function Le(t,e){return("undefined"!=typeof __SENTRY_DEBUG__&&!__SENTRY_DEBUG__||!t.getOptions()._experiments.traceInternals)&&function(t){const e=(0,o.Gd)().getClient(),n=e&&e.getDsn();return!!n&&t.includes(n.host)}(e)}function Ie(t,e){t.isEnabled()&&null!==e&&(Le(t,e.name)||t.addUpdate((()=>(Me(t,[e]),!0))))}function Ne(t){return e=>{if(!t.isEnabled())return;const n=function(t){const{startTimestamp:e,endTimestamp:n,xhr:o}=t,r=o[p.xU];if(!e||!n||!r)return null;const{method:i,url:s,status_code:a}=r;return void 0===s?null:{type:"resource.xhr",name:s,start:e/1e3,end:n/1e3,data:{method:i,statusCode:a}}}(e);Ie(t,n)}}const ke=10,Fe=11,Ge=12,Be=13,Ue=14,je=15,Ve=20,We=21,He=22,$e=23,ze=["true","false","null"];function Ke(t,e){if(!e.length)return t;let n=t;const o=e.length-1;n=function(t,e){switch(e){case ke:return`${t}"~~":"~~"`;case Fe:return`${t}:"~~"`;case Ge:return`${t}~~":"~~"`;case Be:return function(t){const e=t.lastIndexOf(":"),n=t.slice(e+1);if(ze.includes(n.trim()))return`${t},"~~":"~~"`;return`${t.slice(0,e+1)}"~~"`}(t);case Ue:return`${t}~~"`;case je:return`${t},"~~":"~~"`;case Ve:return`${t}"~~"`;case We:return function(t){const e=function(t){for(let e=t.length-1;e>=0;e--){const n=t[e];if(","===n||"["===n)return e}return-1}(t);if(e>-1){const n=t.slice(e+1);return ze.includes(n.trim())?`${t},"~~"`:`${t.slice(0,e+1)}"~~"`}return t}(t);case He:return`${t}~~"`;case $e:return`${t},"~~"`}return t}(n,e[o]);for(let t=o;t>=0;t--){switch(e[t]){case ke:n=`${n}}`;break;case Ve:n=`${n}]`}}return n}function Ye(t,e,n){const o=t[t.length-1],r=e[n];if(!/\s/.test(r))if('"'!==r||Ze(e,n))switch(r){case"{":!function(t,e){if(!e)return void t.push(ke);if(e===Be)return void t.push(ke);e===We&&t.push(ke);if(e===Ve)t.push(ke)}(t,o);break;case"[":!function(t,e){if(!e)return t.push(Ve),void t.push(We);if(e===Be)return t.push(Ve),void t.push(We);e===We&&(t.push(Ve),t.push(We));if(e===Ve)t.push(Ve),t.push(We)}(t,o);break;case":":!function(t,e){e===Fe&&(t.pop(),t.push(Be))}(t,o);break;case",":!function(t,e){if(e===Be)return void t.pop();if(e===je)return t.pop(),void t.pop();if(e===We)return;if(e===$e)t.pop()}(t,o);break;case"}":!function(t,e){e===ke&&t.pop();e===Be&&(t.pop(),t.pop());e===je&&(t.pop(),t.pop(),t.pop());t[t.length-1]===Be&&t.push(je);t[t.length-1]===We&&t.push($e)}(t,o);break;case"]":!function(t,e){e===Ve&&t.pop();e===We&&(t.pop(),t.pop());e===$e&&(t.pop(),t.pop(),t.pop());t[t.length-1]===Be&&t.push(je);t[t.length-1]===We&&t.push($e)}(t,o)}else!function(t,e){if(e===Ue)return t.pop(),void t.push(je);if(e===He)return t.pop(),void t.push($e);if(e===Be)return void t.push(Ue);if(e===We)return void t.push(He);if(e===ke)return void t.push(Ge);if(e===Ge)t.pop(),t.push(Fe)}(t,o)}function Ze(t,e){return"\\"===t[e-1]&&!Ze(t,e-1)}function qe(t){return Ke(t,function(t){const e=[];for(let n=0;n<t.length;n++)Ye(e,t,n);return e}(t))}function Xe(t,e){if(t)try{if("string"==typeof t)return e.encode(t).length;if(t instanceof URLSearchParams)return e.encode(t.toString()).length;if(t instanceof FormData){const n=rn(t);return e.encode(n).length}if(t instanceof Blob)return t.size;if(t instanceof ArrayBuffer)return t.byteLength}catch(t){}}function Je(t){if(!t)return;const e=parseInt(t,10);return isNaN(e)?void 0:e}function Qe(t){return"string"==typeof t?t:t instanceof URLSearchParams?t.toString():t instanceof FormData?rn(t):void 0}function tn(t,e){if(!e)return null;const{startTimestamp:n,endTimestamp:o,url:r,method:i,statusCode:s,request:a,response:l}=e;return{type:t,start:n/1e3,end:o/1e3,name:r,data:(0,h.Jr)({method:i,statusCode:s,request:a,response:l})}}function en(t){return{headers:{},size:t,_meta:{warnings:["URL_SKIPPED"]}}}function nn(t,e,n){if(!e&&0===Object.keys(t).length)return;if(!e)return{headers:t};if(!n)return{headers:t,size:e};const o={headers:t,size:e},{body:r,warnings:i}=function(t){if(!t||"string"!=typeof t)return{body:t,warnings:[]};const e=t.length>b;if(function(t){const e=t[0],n=t[t.length-1];return"["===e&&"]"===n||"{"===e&&"}"===n}(t))try{const n=e?qe(t.slice(0,b)):t;return{body:JSON.parse(n),warnings:e?["JSON_TRUNCATED"]:[]}}catch(n){return{body:e?`${t.slice(0,b)}`:t,warnings:e?["INVALID_JSON","TEXT_TRUNCATED"]:["INVALID_JSON"]}}return{body:e?`${t.slice(0,b)}`:t,warnings:e?["TEXT_TRUNCATED"]:[]}}(n);return o.body=r,i.length>0&&(o._meta={warnings:i}),o}function on(t,e){return Object.keys(t).reduce(((n,o)=>{const r=o.toLowerCase();return e.includes(r)&&t[o]&&(n[r]=t[o]),n}),{})}function rn(t){return new URLSearchParams(t).toString()}function sn(t,e){return(0,f.U0)(t,e)}async function an(t,e,n){try{const o=await async function(t,e,n){const{startTimestamp:o,endTimestamp:r}=e,{url:i,method:s,status_code:a=0,request_body_size:l,response_body_size:c}=t.data,u=sn(i,n.networkDetailAllowUrls),d=u?function({networkCaptureBodies:t,networkRequestHeaders:e},n,o){const r=function(t,e){if(1===t.length&&"string"!=typeof t[0])return un(t[0],e);if(2===t.length)return un(t[1],e);return{}}(n,e);if(!t)return nn(r,o,void 0);const i=Qe(ln(n));return nn(r,o,i)}(n,e.input,l):en(l),p=await async function(t,{networkCaptureBodies:e,textEncoder:n,networkResponseHeaders:o},r,i){if(!t&&void 0!==i)return en(i);const s=cn(r.headers,o);if(!e&&void 0!==i)return nn(s,i,void 0);try{const o=r.clone(),a=await async function(t){try{return await t.text()}catch(t){return}}(o),l=a&&a.length&&void 0===i?Xe(a,n):i;return t?nn(s,l,e?a:void 0):en(l)}catch(t){return nn(s,i,void 0)}}(u,n,e.response,c);return{startTimestamp:o,endTimestamp:r,url:i,method:s,statusCode:a,request:d,response:p}}(t,e,n),r=tn("resource.fetch",o);Ie(n.replay,r)}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.error("[Replay] Failed to capture fetch breadcrumb",t)}}function ln(t=[]){if(2===t.length&&"object"==typeof t[1])return t[1].body}function cn(t,e){const n={};return e.forEach((e=>{t.get(e)&&(n[e]=t.get(e))})),n}function un(t,e){if(!t)return{};const n=t.headers;return n?n instanceof Headers?cn(n,e):Array.isArray(n)?{}:on(n,e):{}}async function dn(t,e,n){try{const o=function(t,e,n){const{startTimestamp:o,endTimestamp:r,input:i,xhr:s}=e,{url:a,method:l,status_code:c=0,request_body_size:u,response_body_size:d}=t.data;if(!a)return null;if(!sn(a,n.networkDetailAllowUrls)){return{startTimestamp:o,endTimestamp:r,url:a,method:l,statusCode:c,request:en(u),response:en(d)}}const h=s[p.xU],f=h?on(h.request_headers,n.networkRequestHeaders):{},g=on(function(t){const e=t.getAllResponseHeaders();if(!e)return{};return e.split("\r\n").reduce(((t,e)=>{const[n,o]=e.split(": ");return t[n.toLowerCase()]=o,t}),{})}(s),n.networkResponseHeaders),_=nn(f,u,n.networkCaptureBodies?Qe(i):void 0),m=nn(g,d,n.networkCaptureBodies?e.xhr.responseText:void 0);return{startTimestamp:o,endTimestamp:r,url:a,method:l,statusCode:c,request:_,response:m}}(t,e,n),r=tn("resource.xhr",o);Ie(n.replay,r)}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.error("[Replay] Failed to capture fetch breadcrumb",t)}}function pn(t){const e=(0,o.Gd)().getClient();try{const n=new TextEncoder,{networkDetailAllowUrls:o,networkCaptureBodies:r,networkRequestHeaders:i,networkResponseHeaders:s}=t.getOptions(),a={replay:t,textEncoder:n,networkDetailAllowUrls:o,networkCaptureBodies:r,networkRequestHeaders:i,networkResponseHeaders:s};e&&e.on?e.on("beforeAddBreadcrumb",((t,e)=>function(t,e,n){if(!e.data)return;try{(function(t){return"xhr"===t.category})(e)&&function(t){return t&&t.xhr}(n)&&(!function(t,e,n){const{xhr:o,input:r}=e,i=Xe(r,n.textEncoder),s=o.getResponseHeader("content-length")?Je(o.getResponseHeader("content-length")):Xe(o.response,n.textEncoder);void 0!==i&&(t.data.request_body_size=i),void 0!==s&&(t.data.response_body_size=s)}(e,n,t),dn(e,n,t)),function(t){return"fetch"===t.category}(e)&&function(t){return t&&t.response}(n)&&(!function(t,e,n){const{input:o,response:r}=e,i=Xe(ln(o),n.textEncoder),s=r?Je(r.headers.get("content-length")):void 0;void 0!==i&&(t.data.request_body_size=i),void 0!==s&&(t.data.response_body_size=s)}(e,n,t),an(e,n,t))}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.warn("Error when enriching network breadcrumb")}}(a,t,e))):((0,p.oq)("fetch",function(t){return e=>{if(!t.isEnabled())return;const n=function(t){const{startTimestamp:e,endTimestamp:n,fetchData:o,response:r}=t;if(!n)return null;const{method:i,url:s}=o;return{type:"resource.fetch",start:e/1e3,end:n/1e3,name:s,data:{method:i,statusCode:r&&r.status}}}(e);Ie(t,n)}}(t)),(0,p.oq)("xhr",Ne(t)))}catch(t){}}let hn=null;const fn=t=>e=>{if(!t.isEnabled())return;const n=function(t){const e=t.getLastBreadcrumb&&t.getLastBreadcrumb();if(hn===e||!e)return null;if(hn=e,e.category&&(["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")))return null;if("console"===e.category)return function(t){const e=t.data&&t.data.arguments;if(!Array.isArray(e)||0===e.length)return Oe(t);let n=!1;const o=e.map((t=>{if(!t)return t;if("string"==typeof t)return t.length>S?(n=!0,`${t.slice(0,S)}`):t;if("object"==typeof t)try{const e=(0,u.Fv)(t,7),o=JSON.stringify(e);if(o.length>S){const t=qe(o.slice(0,S)),e=JSON.parse(t);return n=!0,e}return e}catch(t){}return t}));return Oe({...t,data:{...t.data,arguments:o,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}(e);return Oe(e)}(e);n&&Pe(t,n)};function gn(t){return!(!t||!t.on)}function _n(t){const{jsHeapSizeLimit:e,totalJSHeapSize:n,usedJSHeapSize:o}=t,r=Date.now()/1e3;return{type:"memory",name:"memory",start:r,end:r,data:{memory:{jsHeapSizeLimit:e,totalJSHeapSize:n,usedJSHeapSize:o}}}}const mn={resource:function(t){const{entryType:e,initiatorType:n,name:o,responseEnd:r,startTime:i,decodedBodySize:s,encodedBodySize:a,responseStatus:l,transferSize:c}=t;if(["fetch","xmlhttprequest"].includes(n))return null;return{type:`${e}.${n}`,start:vn(i),end:vn(r),name:o,data:{size:c,statusCode:l,decodedBodySize:s,encodedBodySize:a}}},paint:function(t){const{duration:e,entryType:n,name:o,startTime:r}=t,i=vn(r);return{type:n,name:o,start:i,end:i+e,data:void 0}},navigation:function(t){const{entryType:e,name:n,decodedBodySize:o,duration:r,domComplete:i,encodedBodySize:s,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,domInteractive:c,loadEventStart:u,loadEventEnd:d,redirectCount:p,startTime:h,transferSize:f,type:g}=t;if(0===r)return null;return{type:`${e}.${g}`,start:vn(h),end:vn(i),name:n,data:{size:f,decodedBodySize:o,encodedBodySize:s,duration:r,domInteractive:c,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,loadEventStart:u,loadEventEnd:d,domComplete:i,redirectCount:p}}},"largest-contentful-paint":function(t){const{entryType:e,startTime:n,size:o}=t;let r=0;if(y.performance){const t=y.performance.getEntriesByType("navigation")[0];r=t&&t.activationStart||0}const i=Math.max(n-r,0),s=vn(r)+i/1e3;return{type:e,name:e,start:s,end:s,data:{value:i,size:o,nodeId:ee.mirror.getId(t.element)}}}};function yn(t){return void 0===mn[t.entryType]?null:mn[t.entryType](t)}function vn(t){return((g.Z1||y.performance.timeOrigin)+t)/1e3}function Cn(t){let e=!1;return(n,o)=>{if(!t.checkAndHandleExpiredSession())return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.warn("[Replay] Received replay event after session expired."));const r=o||!e;e=!0,t.addUpdate((()=>{if("buffer"===t.recordingMode&&r&&t.setInitialState(),Ce(t,n,r),!r)return!1;if(t.session&&t.session.previousSessionId)return!0;if("buffer"===t.recordingMode&&t.session&&t.eventBuffer){const e=t.eventBuffer.getEarliestTimestamp();e&&(t.session.started=e,t.getOptions().stickySession&&_e(t.session))}return"session"===t.recordingMode&&t.flushImmediate(),!0}))}}async function En({recordingData:t,replayId:e,segmentId:n,eventContext:r,timestamp:i,session:a,options:c}){const u=function({recordingData:t,headers:e}){let n;const o=`${JSON.stringify(e)}\n`;if("string"==typeof t)n=`${o}${t}`;else{const e=(new TextEncoder).encode(o);n=new Uint8Array(e.length+t.length),n.set(e),n.set(t,e.length)}return n}({recordingData:t,headers:{segment_id:n}}),{urls:d,errorIds:p,traceIds:h,initialTimestamp:f}=r,g=(0,o.Gd)(),m=g.getClient(),y=g.getScope(),v=m&&m.getTransport(),b=m&&m.getDsn();if(!(m&&y&&v&&b&&a.sampled))return;const S={type:C,replay_start_timestamp:f/1e3,timestamp:i/1e3,error_ids:p,trace_ids:h,urls:d,replay_id:e,segment_id:n,replay_type:a.sampled},w=await async function({client:t,scope:e,replayId:n,event:o}){const r="object"!=typeof t._integrations||null===t._integrations||Array.isArray(t._integrations)?void 0:Object.keys(t._integrations),i=await(0,s.R)(t.getOptions(),o,{event_id:n,integrations:r},e);if(!i)return null;i.platform=i.platform||"javascript";const a=t.getSdkMetadata&&t.getSdkMetadata(),{name:l,version:c}=a&&a.sdk||{};return i.sdk={...i.sdk,name:l||"sentry.javascript.unknown",version:c||"0.0.0"},i}({scope:y,client:m,replayId:e,event:S});if(!w)return m.recordDroppedEvent("event_processor","replay",S),void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.log("An event processor returned `null`, will not send event."));w.contexts={...w.contexts,replay:{...w.contexts&&w.contexts.replay,session_sample_rate:c.sessionSampleRate,error_sample_rate:c.errorSampleRate}};const O=function(t,e,n,o){return(0,_.Jd)((0,_.Cd)(t,(0,_.HY)(t),o,n),[[{type:"replay_event"},t],[{type:"replay_recording",length:"string"==typeof e?(new TextEncoder).encode(e).length:e.length},e]])}(w,u,b,m.getOptions().tunnel);let P;try{P=await v.send(O)}catch(t){const e=new Error(E);try{e.cause=t}catch(t){}throw e}if(!P)return P;if("number"==typeof P.statusCode&&(P.statusCode<200||P.statusCode>=300))throw new bn(P.statusCode);return P}class bn extends Error{constructor(t){super(`Transport returned status code ${t}`)}}async function Sn(t,e={count:0,interval:5e3}){const{recordingData:n,options:o}=t;if(n.length)try{return await En(t),!0}catch(n){if(n instanceof bn)throw n;if((0,r.v)("Replays",{_retryCount:e.count}),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o._experiments&&o._experiments.captureExceptions&&(0,r.Tb)(n),e.count>=3){const t=new Error(`${E} - max retries exceeded`);try{t.cause=n}catch(t){}throw t}return e.interval*=++e.count,await new Promise(((n,o)=>{setTimeout((async()=>{try{await Sn(t,e),n(!0)}catch(t){o(t)}}),e.interval)}))}}class wn{__init(){this.eventBuffer=null}__init2(){this.performanceEvents=[]}__init3(){this.recordingMode="session"}__init4(){this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5,maxSessionLife:36e5}}__init5(){this._performanceObserver=null}__init6(){this._flushLock=null}__init7(){this._lastActivity=Date.now()}__init8(){this._isEnabled=!1}__init9(){this._isPaused=!1}__init10(){this._hasInitializedCoreListeners=!1}__init11(){this._stopRecording=null}__init12(){this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""}}constructor({options:t,recordingOptions:e}){wn.prototype.__init.call(this),wn.prototype.__init2.call(this),wn.prototype.__init3.call(this),wn.prototype.__init4.call(this),wn.prototype.__init5.call(this),wn.prototype.__init6.call(this),wn.prototype.__init7.call(this),wn.prototype.__init8.call(this),wn.prototype.__init9.call(this),wn.prototype.__init10.call(this),wn.prototype.__init11.call(this),wn.prototype.__init12.call(this),wn.prototype.__init13.call(this),wn.prototype.__init14.call(this),wn.prototype.__init15.call(this),wn.prototype.__init16.call(this),wn.prototype.__init17.call(this),this._recordingOptions=e,this._options=t,this._debouncedFlush=function(t,e,n){let o,r,i;const s=n&&n.maxWait?Math.max(n.maxWait,e):0;function a(){return l(),o=t(),o}function l(){void 0!==r&&clearTimeout(r),void 0!==i&&clearTimeout(i),r=i=void 0}function c(){return r&&clearTimeout(r),r=setTimeout(a,e),s&&void 0===i&&(i=setTimeout(a,s)),o}return c.cancel=l,c.flush=function(){return void 0!==r||void 0!==i?a():o},c}((()=>this._flush()),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay})}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}getOptions(){return this._options}initializeSampling(){const{errorSampleRate:t,sessionSampleRate:e}=this._options;if(t<=0&&e<=0)return;this._loadAndCheckSession()&&(this.session?(this.session.sampled&&"session"!==this.session.sampled&&(this.recordingMode="buffer"),this._initializeRecording()):this._handleException(new Error("Unable to initialize and create session")))}start(){if(this._isEnabled&&"session"===this.recordingMode)throw new Error("Replay recording is already in progress");if(this._isEnabled&&"buffer"===this.recordingMode)throw new Error("Replay buffering is in progress, call `flush()` to save the replay");const t=this.session&&this.session.id,{session:e}=ve({timeouts:this.timeouts,stickySession:Boolean(this._options.stickySession),currentSession:this.session,sessionSampleRate:1,allowBuffering:!1});e.previousSessionId=t,this.session=e,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");const t=this.session&&this.session.id,{session:e}=ve({timeouts:this.timeouts,stickySession:Boolean(this._options.stickySession),currentSession:this.session,sessionSampleRate:0,allowBuffering:!0});e.previousSessionId=t,this.session=e,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{this._stopRecording=ee({...this._recordingOptions,..."buffer"===this.recordingMode&&{checkoutEveryNms:6e4},emit:Cn(this),onMutation:this._onMutationHandler})}catch(t){this._handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this._handleException(t),!1}}async stop(t){if(this._isEnabled)try{if("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__){const e="[Replay] Stopping Replay"+(t?` triggered by ${t}`:"");(this.getOptions()._experiments.traceInternals?console.warn:l.kg.log)(e)}this._isEnabled=!1,this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,pe(this)}catch(t){this._handleException(t)}}pause(){this._isPaused=!0,this.stopRecording()}resume(){this._loadAndCheckSession()&&(this._isPaused=!1,this.startRecording())}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if("session"===this.recordingMode)return this.flushImmediate();await this.flushImmediate();const e=this.stopRecording();t&&e&&(this.recordingMode="session",this.session&&(this.session.shouldRefresh=!1,this._maybeSaveSession()),this.startRecording())}addUpdate(t){const e=t();"buffer"!==this.recordingMode&&!0!==e&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),this._stopRecording)this.checkAndHandleExpiredSession(),this._updateSessionActivity();else{if(!this._loadAndCheckSession())return;this.resume()}}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){const t=this.getSessionId();if(this._lastActivity&&he(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled)return void this.pause();if(!this._loadAndCheckSession())return;return t===this.getSessionId()||(this._triggerFullSnapshot(),!1)}setInitialState(){const t=`${y.location.pathname}${y.location.hash}${y.location.search}`,e=`${y.location.origin}${t}`;this.performanceEvents=[],this._clearContext(),this._context.initialUrl=e,this._context.initialTimestamp=Date.now(),this._context.urls.push(e)}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=de({useCompression:this._options.useCompression}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this.startRecording()}_handleException(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.error("[Replay]",t),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&this._options._experiments&&this._options._experiments.captureExceptions&&(0,r.Tb)(t)}_loadAndCheckSession(){const{type:t,session:e}=ve({timeouts:this.timeouts,stickySession:Boolean(this._options.stickySession),currentSession:this.session,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:this._options.errorSampleRate>0});"new"===t&&this.setInitialState();const n=this.getSessionId();return e.id!==n&&(e.previousSessionId=n),this.session=e,!!this.session.sampled||(this.stop("session unsampled"),!1)}_addListeners(){try{y.document.addEventListener("visibilitychange",this._handleVisibilityChange),y.addEventListener("blur",this._handleWindowBlur),y.addEventListener("focus",this._handleWindowFocus),this._hasInitializedCoreListeners||(!function(t){const e=(0,o.Gd)().getScope(),n=(0,o.Gd)().getClient();e&&e.addScopeListener(fn(t)),(0,p.oq)("dom",De(t)),(0,p.oq)("history",Ae(t)),pn(t),(0,i.c)(xe(t,!gn(n))),gn(n)&&(n.on("afterSendEvent",Se(t)),n.on("createDsc",(e=>{const n=t.getSessionId();n&&t.isEnabled()&&"session"===t.recordingMode&&(e.replay_id=n)})))}(this),this._hasInitializedCoreListeners=!0)}catch(t){this._handleException(t)}"PerformanceObserver"in y&&(this._performanceObserver=re(this))}_removeListeners(){try{y.document.removeEventListener("visibilitychange",this._handleVisibilityChange),y.removeEventListener("blur",this._handleWindowBlur),y.removeEventListener("focus",this._handleWindowFocus),this._performanceObserver&&(this._performanceObserver.disconnect(),this._performanceObserver=null)}catch(t){this._handleException(t)}}__init13(){this._handleVisibilityChange=()=>{"visible"===y.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init14(){this._handleWindowBlur=()=>{const t=Oe({category:"ui.blur"});this._doChangeToBackgroundTasks(t)}}__init15(){this._handleWindowFocus=()=>{const t=Oe({category:"ui.focus"});this._doChangeToForegroundTasks(t)}}_doChangeToBackgroundTasks(t){if(!this.session)return;const e=fe(this.session,this.timeouts);t&&!e&&this._createCustomBreadcrumb(t),this._conditionalFlush()}_doChangeToForegroundTasks(t){if(!this.session)return;this.checkAndHandleExpiredSession()?t&&this._createCustomBreadcrumb(t):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.log("[Replay] Document has become active, but session has expired")}_triggerFullSnapshot(t=!0){try{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.log("[Replay] Taking full rrweb snapshot"),ee.takeFullSnapshot(t)}catch(t){this._handleException(t)}}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate((()=>{Ce(this,{type:X.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})}))}_addPerformanceEntries(){const t=[...this.performanceEvents];return this.performanceEvents=[],Promise.all(Me(this,function(t){return t.map(yn).filter(Boolean)}(t)))}_conditionalFlush(){"buffer"!==this.recordingMode&&this.flushImmediate()}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:e}=this;if(!t||!e)return;if(t.segmentId)return;const n=e.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){if(this.session&&this.eventBuffer){if(await this._addPerformanceEntries(),this.eventBuffer&&this.eventBuffer.hasEvents&&(await async function(t){try{return Promise.all(Me(t,[_n(y.performance.memory)]))}catch(t){return[]}}(this),this.eventBuffer))try{this._updateInitialTimestampFromEventBuffer();const t=await this.eventBuffer.finish(),e=this.session.id,n=this._popEventContext(),o=this.session.segmentId++;this._maybeSaveSession(),await Sn({replayId:e,recordingData:t,segmentId:o,eventContext:n,session:this.session,options:this.getOptions(),timestamp:Date.now()})}catch(t){this._handleException(t),this.stop("sendReplay");const e=(0,o.Gd)().getClient();e&&e.recordDroppedEvent("send_error","replay")}}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.error("[Replay] No session or eventBuffer found to flush.")}__init16(){this._flush=async({force:t=!1}={})=>{if(this._isEnabled||t)if(this.checkAndHandleExpiredSession())if(this.session){if(this._debouncedFlush.cancel(),!this._flushLock)return this._flushLock=this._runFlush(),await this._flushLock,void(this._flushLock=null);try{await this._flushLock}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.error(t)}finally{this._debouncedFlush()}}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.error("[Replay] No session found to flush.");else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.error("[Replay] Attempting to finish replay event after session expired.")}}_maybeSaveSession(){this.session&&this._options.stickySession&&_e(this.session)}__init17(){this._onMutationHandler=t=>{const e=t.length,n=this._options._experiments.mutationLimit||0,o=n&&e>n;if(e>(this._options._experiments.mutationBreadcrumbLimit||1e3)||o){const t=Oe({category:"replay.mutations",data:{count:e}});this._createCustomBreadcrumb(t)}return!o||(this._triggerFullSnapshot(!1),!1)}}}function On(t,e,n,o){const r=[...t,..."string"==typeof o?o.split(","):[],...e];return void 0!==n&&("string"==typeof n&&r.push(`.${n}`),console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")),r.join(",")}function Pn({mask:t,unmask:e,block:n,unblock:o,ignore:r,blockClass:i,blockSelector:s,maskTextClass:a,maskTextSelector:l,ignoreClass:c}){const u=On(t,[".sentry-mask","[data-sentry-mask]"],a,l),d=On(e,[".sentry-unmask","[data-sentry-unmask]"]),p={maskTextSelector:u,unmaskTextSelector:d,maskInputSelector:u,unmaskInputSelector:d,blockSelector:On(n,[".sentry-block","[data-sentry-block]",'base[href="/"]'],i,s),unblockSelector:On(o,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:On(r,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],c)};return i instanceof RegExp&&(p.blockClass=i),a instanceof RegExp&&(p.maskTextClass=a),p}function Tn(){return"undefined"!=typeof window&&(!(0,m.KV)()||"undefined"!=typeof process&&"renderer"===process.type)}const Rn='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',Dn=["content-length","content-type","accept"];let xn=!1;class Mn{static __initStatic(){this.id="Replay"}__init(){this.name=Mn.id}constructor({flushMinDelay:t=5e3,flushMaxDelay:e=5500,stickySession:n=!0,useCompression:o=!0,_experiments:r={},sessionSampleRate:i,errorSampleRate:s,maskAllText:a=!0,maskAllInputs:l=!0,blockAllMedia:c=!0,networkDetailAllowUrls:u=[],networkCaptureBodies:d=!0,networkRequestHeaders:p=[],networkResponseHeaders:h=[],mask:f=[],unmask:g=[],block:_=[],unblock:m=[],ignore:y=[],maskFn:v,blockClass:C,blockSelector:E,maskInputOptions:b,maskTextClass:S,maskTextSelector:w,ignoreClass:O}={}){if(Mn.prototype.__init.call(this),this._recordingOptions={maskAllInputs:l,maskAllText:a,maskInputOptions:{...b||{},password:!0},maskTextFn:v,maskInputFn:v,...Pn({mask:f,unmask:g,block:_,unblock:m,ignore:y,blockClass:C,blockSelector:E,maskTextClass:S,maskTextSelector:w,ignoreClass:O}),slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0},this._initialOptions={flushMinDelay:t,flushMaxDelay:e,stickySession:n,sessionSampleRate:i,errorSampleRate:s,useCompression:o,blockAllMedia:c,networkDetailAllowUrls:u,networkCaptureBodies:d,networkRequestHeaders:An(p),networkResponseHeaders:An(h),_experiments:r},"number"==typeof i&&(console.warn(`[Replay] You are passing \`sessionSampleRate\` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure \`replaysSessionSampleRate\` directly in the SDK init options, e.g.:\nSentry.init({ replaysSessionSampleRate: ${i} })`),this._initialOptions.sessionSampleRate=i),"number"==typeof s&&(console.warn(`[Replay] You are passing \`errorSampleRate\` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure \`replaysOnErrorSampleRate\` directly in the SDK init options, e.g.:\nSentry.init({ replaysOnErrorSampleRate: ${s} })`),this._initialOptions.errorSampleRate=s),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Rn}`:Rn),this._isInitialized&&Tn())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return xn}set _isInitialized(t){xn=t}setupOnce(){Tn()&&(this._setup(),setTimeout((()=>this._initialize())))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop():Promise.resolve()}flush(t){return this._replay&&this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):Promise.resolve()}getReplayId(){if(this._replay&&this._replay.isEnabled())return this._replay.getSessionId()}_initialize(){this._replay&&this._replay.initializeSampling()}_setup(){const t=function(t){const e=(0,o.Gd)().getClient(),n=e&&e.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...(0,h.Jr)(t)};if(!n)return console.warn("SDK client is not available."),r;null==t.sessionSampleRate&&null==t.errorSampleRate&&null==n.replaysSessionSampleRate&&null==n.replaysOnErrorSampleRate&&console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.");"number"==typeof n.replaysSessionSampleRate&&(r.sessionSampleRate=n.replaysSessionSampleRate);"number"==typeof n.replaysOnErrorSampleRate&&(r.errorSampleRate=n.replaysOnErrorSampleRate);return r}(this._initialOptions);this._replay=new wn({options:t,recordingOptions:this._recordingOptions})}}function An(t){return[...Dn,...t.map((t=>t.toLowerCase()))]}Mn.__initStatic()},9181:(t,e,n)=>{"use strict";n.d(e,{EN:()=>c,IQ:()=>u,bU:()=>i});var o=n(7597),r=n(2343);const i="baggage",s="sentry-",a=/^sentry-/,l=8192;function c(t){if(!(0,o.HD)(t)&&!Array.isArray(t))return;let e={};if(Array.isArray(t))e=t.reduce(((t,e)=>({...t,...d(e)})),{});else{if(!t)return;e=d(t)}const n=Object.entries(e).reduce(((t,[e,n])=>{if(e.match(a)){t[e.slice(s.length)]=n}return t}),{});return Object.keys(n).length>0?n:void 0}function u(t){return function(t){if(0===Object.keys(t).length)return;return Object.entries(t).reduce(((t,[e,n],o)=>{const i=`${encodeURIComponent(e)}=${encodeURIComponent(n)}`,s=0===o?i:`${t},${i}`;return s.length>l?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.warn(`Not adding key: ${e} with val: ${n} to baggage header due to exceeding baggage size limits.`),t):s}),"")}(Object.entries(t).reduce(((t,[e,n])=>(n&&(t[`${s}${e}`]=n),t)),{}))}function d(t){return t.split(",").map((t=>t.split("=").map((t=>decodeURIComponent(t.trim()))))).reduce(((t,[e,n])=>(t[e]=n,t)),{})}},8464:(t,e,n)=>{"use strict";n.d(e,{Rt:()=>s,l4:()=>l,qT:()=>c});var o=n(7597);const r=(0,n(1235).Rf)(),i=80;function s(t,e={}){try{let n=t;const o=5,r=[];let s=0,l=0;const c=" > ",u=c.length;let d;const p=Array.isArray(e)?e:e.keyAttrs,h=!Array.isArray(e)&&e.maxStringLength||i;for(;n&&s++<o&&(d=a(n,p),!("html"===d||s>1&&l+r.length*u+d.length>=h));)r.push(d),l+=d.length,n=n.parentNode;return r.reverse().join(c)}catch(t){return"<unknown>"}}function a(t,e){const n=t,r=[];let i,s,a,l,c;if(!n||!n.tagName)return"";r.push(n.tagName.toLowerCase());const u=e&&e.length?e.filter((t=>n.getAttribute(t))).map((t=>[t,n.getAttribute(t)])):null;if(u&&u.length)u.forEach((t=>{r.push(`[${t[0]}="${t[1]}"]`)}));else if(n.id&&r.push(`#${n.id}`),i=n.className,i&&(0,o.HD)(i))for(s=i.split(/\s+/),c=0;c<s.length;c++)r.push(`.${s[c]}`);const d=["aria-label","type","name","title","alt"];for(c=0;c<d.length;c++)a=d[c],l=n.getAttribute(a),l&&r.push(`[${a}="${l}"]`);return r.join("")}function l(){try{return r.document.location.href}catch(t){return""}}function c(t){return r.document&&r.document.querySelector?r.document.querySelector(t):null}},292:(t,e,n)=>{"use strict";n.d(e,{RA:()=>i,U4:()=>s,vK:()=>l});var o=n(409);const r=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function i(t,e=!1){const{host:n,path:o,pass:r,port:i,projectId:s,protocol:a,publicKey:l}=t;return`${a}://${l}${e&&r?`:${r}`:""}@${n}${i?`:${i}`:""}/${o?`${o}/`:o}${s}`}function s(t){const e=r.exec(t);if(!e)throw new o.b(`Invalid Sentry Dsn: ${t}`);const[n,i,s="",l,c="",u]=e.slice(1);let d="",p=u;const h=p.split("/");if(h.length>1&&(d=h.slice(0,-1).join("/"),p=h.pop()),p){const t=p.match(/^\d+/);t&&(p=t[0])}return a({host:l,pass:s,path:d,projectId:p,port:c,protocol:n,publicKey:i})}function a(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function l(t){const e="string"==typeof t?s(t):a(t);return function(t){if("undefined"!=typeof __SENTRY_DEBUG__&&!__SENTRY_DEBUG__)return;const{port:e,projectId:n,protocol:r}=t;if(["protocol","publicKey","host","projectId"].forEach((e=>{if(!t[e])throw new o.b(`Invalid Sentry Dsn: ${e} missing`)})),!n.match(/^\d+$/))throw new o.b(`Invalid Sentry Dsn: Invalid projectId ${n}`);if(!function(t){return"http"===t||"https"===t}(r))throw new o.b(`Invalid Sentry Dsn: Invalid protocol ${r}`);if(e&&isNaN(parseInt(e,10)))throw new o.b(`Invalid Sentry Dsn: Invalid port ${e}`)}(e),e}},8518:(t,e,n)=>{"use strict";function o(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}function r(){return"npm"}n.d(e,{S:()=>r,n:()=>o})},8725:(t,e,n)=>{"use strict";n.d(e,{BO:()=>a,Cd:()=>m,HY:()=>_,Jd:()=>s,R:()=>c,V$:()=>d,f4:()=>p,gv:()=>l,mL:()=>g,zQ:()=>h});var o=n(292),r=n(8007),i=n(5301);function s(t,e=[]){return[t,e]}function a(t,e){const[n,o]=t;return[n,[...o,e]]}function l(t,e){const n=t[1];for(const t of n){if(e(t,t[0].type))return!0}return!1}function c(t,e){return l(t,((t,n)=>e.includes(n)))}function u(t,e){return(e||new TextEncoder).encode(t)}function d(t,e){const[n,o]=t;let i=JSON.stringify(n);function s(t){"string"==typeof i?i="string"==typeof t?i+t:[u(i,e),t]:i.push("string"==typeof t?u(t,e):t)}for(const t of o){const[e,n]=t;if(s(`\n${JSON.stringify(e)}\n`),"string"==typeof n||n instanceof Uint8Array)s(n);else{let t;try{t=JSON.stringify(n)}catch(e){t=JSON.stringify((0,r.Fv)(n))}s(t)}}return"string"==typeof i?i:function(t){const e=t.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(e);let o=0;for(const e of t)n.set(e,o),o+=e.length;return n}(i)}function p(t,e,n){let o="string"==typeof t?e.encode(t):t;function r(t){const e=o.subarray(0,t);return o=o.subarray(t+1),e}function i(){let t=o.indexOf(10);return t<0&&(t=o.length),JSON.parse(n.decode(r(t)))}const s=i(),a=[];for(;o.length;){const t=i(),e="number"==typeof t.length?t.length:void 0;a.push([t,e?r(e):i()])}return[s,a]}function h(t,e){const n="string"==typeof t.data?u(t.data,e):t.data;return[(0,i.Jr)({type:"attachment",length:n.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),n]}const f={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor"};function g(t){return f[t]}function _(t){if(!t||!t.sdk)return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}function m(t,e,n,r){const s=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:(new Date).toISOString(),...e&&{sdk:e},...!!n&&{dsn:(0,o.RA)(r)},...s&&{trace:(0,i.Jr)({...s})}}}},409:(t,e,n)=>{"use strict";n.d(e,{b:()=>o});class o extends Error{constructor(t,e="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=e}}},2533:(t,e,n)=>{"use strict";n.d(e,{xU:()=>d,oq:()=>g});var o=n(7597),r=n(2343),i=n(5301),s=n(360),a=n(8823),l=n(1235);const c=(0,l.Rf)();const u=(0,l.Rf)(),d="__sentry_xhr_v2__",p={},h={};function f(t){if(!h[t])switch(h[t]=!0,t){case"console":!function(){if(!("console"in u))return;r.RU.forEach((function(t){t in u.console&&(0,i.hl)(u.console,t,(function(e){return function(...n){_("console",{args:n,level:t}),e&&e.apply(u.console,n)}}))}))}();break;case"dom":!function(){if(!("document"in u))return;const t=_.bind(null,"dom"),e=S(t,!0);u.document.addEventListener("click",e,!1),u.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach((e=>{const n=u[e]&&u[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,i.hl)(n,"addEventListener",(function(e){return function(n,o,r){if("click"===n||"keypress"==n)try{const o=this,i=o.__sentry_instrumentation_handlers__=o.__sentry_instrumentation_handlers__||{},s=i[n]=i[n]||{refCount:0};if(!s.handler){const o=S(t);s.handler=o,e.call(this,n,o,r)}s.refCount++}catch(t){}return e.call(this,n,o,r)}})),(0,i.hl)(n,"removeEventListener",(function(t){return function(e,n,o){if("click"===e||"keypress"==e)try{const n=this,r=n.__sentry_instrumentation_handlers__||{},i=r[e];i&&(i.refCount--,i.refCount<=0&&(t.call(this,e,i.handler,o),i.handler=void 0,delete r[e]),0===Object.keys(r).length&&delete n.__sentry_instrumentation_handlers__)}catch(t){}return t.call(this,e,n,o)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in u))return;const t=XMLHttpRequest.prototype;(0,i.hl)(t,"open",(function(t){return function(...e){const n=e[1],r=this[d]={method:(0,o.HD)(e[0])?e[0].toUpperCase():e[0],url:e[1],request_headers:{}};(0,o.HD)(n)&&"POST"===r.method&&n.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const s=()=>{const t=this[d];if(t&&4===this.readyState){try{t.status_code=this.status}catch(t){}_("xhr",{args:e,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?(0,i.hl)(this,"onreadystatechange",(function(t){return function(...e){return s(),t.apply(this,e)}})):this.addEventListener("readystatechange",s),(0,i.hl)(this,"setRequestHeader",(function(t){return function(...e){const[n,o]=e,r=this[d];return r&&(r.request_headers[n.toLowerCase()]=o),t.apply(this,e)}})),t.apply(this,e)}})),(0,i.hl)(t,"send",(function(t){return function(...e){const n=this[d];return n&&void 0!==e[0]&&(n.body=e[0]),_("xhr",{args:e,startTimestamp:Date.now(),xhr:this}),t.apply(this,e)}}))}();break;case"fetch":!function(){if(!(0,a.t$)())return;(0,i.hl)(u,"fetch",(function(t){return function(...e){const{method:n,url:o}=function(t){if(0===t.length)return{method:"GET",url:""};if(2===t.length){const[e,n]=t;return{url:y(e),method:m(n,"method")?String(n.method).toUpperCase():"GET"}}const e=t[0];return{url:y(e),method:m(e,"method")?String(e.method).toUpperCase():"GET"}}(e),r={args:e,fetchData:{method:n,url:o},startTimestamp:Date.now()};return _("fetch",{...r}),t.apply(u,e).then((t=>(_("fetch",{...r,endTimestamp:Date.now(),response:t}),t)),(t=>{throw _("fetch",{...r,endTimestamp:Date.now(),error:t}),t}))}}))}();break;case"history":!function(){if(!function(){const t=c.chrome,e=t&&t.app&&t.app.runtime,n="history"in c&&!!c.history.pushState&&!!c.history.replaceState;return!e&&n}())return;const t=u.onpopstate;function e(t){return function(...e){const n=e.length>2?e[2]:void 0;if(n){const t=v,e=String(n);v=e,_("history",{from:t,to:e})}return t.apply(this,e)}}u.onpopstate=function(...e){const n=u.location.href,o=v;if(v=n,_("history",{from:o,to:n}),t)try{return t.apply(this,e)}catch(t){}},(0,i.hl)(u.history,"pushState",e),(0,i.hl)(u.history,"replaceState",e)}();break;case"error":w=u.onerror,u.onerror=function(t,e,n,o,r){return _("error",{column:o,error:r,line:n,msg:t,url:e}),!(!w||w.__SENTRY_LOADER__)&&w.apply(this,arguments)},u.onerror.__SENTRY_INSTRUMENTED__=!0;break;case"unhandledrejection":O=u.onunhandledrejection,u.onunhandledrejection=function(t){return _("unhandledrejection",t),!(O&&!O.__SENTRY_LOADER__)||O.apply(this,arguments)},u.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0;break;default:return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.warn("unknown instrumentation type:",t))}}function g(t,e){p[t]=p[t]||[],p[t].push(e),f(t)}function _(t,e){if(t&&p[t])for(const n of p[t]||[])try{n(e)}catch(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.error(`Error while triggering instrumentation handler.\nType: ${t}\nName: ${(0,s.$P)(n)}\nError:`,e)}}function m(t,e){return!!t&&"object"==typeof t&&!!t[e]}function y(t){return"string"==typeof t?t:t?m(t,"url")?t.url:t.toString?t.toString():"":""}let v;const C=1e3;let E,b;function S(t,e=!1){return n=>{if(!n||b===n)return;if(function(t){if("keypress"!==t.type)return!1;try{const e=t.target;if(!e||!e.tagName)return!0;if("INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable)return!1}catch(t){}return!0}(n))return;const o="keypress"===n.type?"input":n.type;(void 0===E||function(t,e){if(!t)return!0;if(t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch(t){}return!1}(b,n))&&(t({event:n,name:o,global:e}),b=n),clearTimeout(E),E=u.setTimeout((()=>{E=void 0}),C)}}let w=null;let O=null},7597:(t,e,n)=>{"use strict";n.d(e,{Cy:()=>_,HD:()=>c,J8:()=>g,Kj:()=>f,PO:()=>d,TX:()=>a,V9:()=>y,VW:()=>s,VZ:()=>r,cO:()=>p,fm:()=>l,i2:()=>m,kK:()=>h,pt:()=>u});const o=Object.prototype.toString;function r(t){switch(o.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return y(t,Error)}}function i(t,e){return o.call(t)===`[object ${e}]`}function s(t){return i(t,"ErrorEvent")}function a(t){return i(t,"DOMError")}function l(t){return i(t,"DOMException")}function c(t){return i(t,"String")}function u(t){return null===t||"object"!=typeof t&&"function"!=typeof t}function d(t){return i(t,"Object")}function p(t){return"undefined"!=typeof Event&&y(t,Event)}function h(t){return"undefined"!=typeof Element&&y(t,Element)}function f(t){return i(t,"RegExp")}function g(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function _(t){return d(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function m(t){return"number"==typeof t&&t!=t}function y(t,e){try{return t instanceof e}catch(t){return!1}}},2343:(t,e,n)=>{"use strict";n.d(e,{Cf:()=>i,RU:()=>r,kg:()=>a});var o=n(1235);const r=["debug","info","warn","error","log","assert","trace"];function i(t){if(!("console"in o.n2))return t();const e=o.n2.console,n={};r.forEach((t=>{const o=e[t]&&e[t].__sentry_original__;t in e&&o&&(n[t]=e[t],e[t]=o)}));try{return t()}finally{Object.keys(n).forEach((t=>{e[t]=n[t]}))}}function s(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1}};return"undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?r.forEach((n=>{e[n]=(...e)=>{t&&i((()=>{o.n2.console[n](`Sentry Logger [${n}]:`,...e)}))}})):r.forEach((t=>{e[t]=()=>{}})),e}let a;a="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?(0,o.YO)("logger",s):s()},2844:(t,e,n)=>{"use strict";n.d(e,{DM:()=>i,Db:()=>l,EG:()=>c,YO:()=>u,jH:()=>a,lE:()=>d});var o=n(5301),r=n(1235);function i(){const t=r.n2,e=t.crypto||t.msCrypto;if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");const n=e&&e.getRandomValues?()=>e.getRandomValues(new Uint8Array(1))[0]:()=>16*Math.random();return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(t=>(t^(15&n())>>t/4).toString(16)))}function s(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function a(t){const{message:e,event_id:n}=t;if(e)return e;const o=s(t);return o?o.type&&o.value?`${o.type}: ${o.value}`:o.type||o.value||n||"<unknown>":n||"<unknown>"}function l(t,e,n){const o=t.exception=t.exception||{},r=o.values=o.values||[],i=r[0]=r[0]||{};i.value||(i.value=e||""),i.type||(i.type=n||"Error")}function c(t,e){const n=s(t);if(!n)return;const o=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...o,...e},e&&"data"in e){const t={...o&&o.data,...e.data};n.mechanism.data=t}}function u(t){if(t&&t.__sentry_captured__)return!0;try{(0,o.xp)(t,"__sentry_captured__",!0)}catch(t){}return!1}function d(t){return Array.isArray(t)?t:[t]}},1422:(t,e,n)=>{"use strict";n.d(e,{KV:()=>r,l$:()=>i});var o=n(8518);function r(){return!(0,o.n)()&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function i(t,e){return t.require(e)}t=n.hmd(t)},8007:(t,e,n)=>{"use strict";n.d(e,{Fv:()=>s,Qy:()=>a});var o=n(7597);var r=n(5301),i=n(360);function s(t,e=100,n=1/0){try{return l("",t,e,n)}catch(t){return{ERROR:`**non-serializable** (${t})`}}}function a(t,e=3,n=102400){const o=s(t,e);return r=o,function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(r))>n?a(t,e-1,n):o;var r}function l(t,e,s=1/0,a=1/0,c=function(){const t="function"==typeof WeakSet,e=t?new WeakSet:[];return[function(n){if(t)return!!e.has(n)||(e.add(n),!1);for(let t=0;t<e.length;t++)if(e[t]===n)return!0;return e.push(n),!1},function(n){if(t)e.delete(n);else for(let t=0;t<e.length;t++)if(e[t]===n){e.splice(t,1);break}}]}()){const[u,d]=c;if(null==e||["number","boolean","string"].includes(typeof e)&&!(0,o.i2)(e))return e;const p=function(t,e){try{if("domain"===t&&e&&"object"==typeof e&&e._events)return"[Domain]";if("domainEmitter"===t)return"[DomainEmitter]";if(void 0!==n.g&&e===n.g)return"[Global]";if("undefined"!=typeof window&&e===window)return"[Window]";if("undefined"!=typeof document&&e===document)return"[Document]";if((0,o.Cy)(e))return"[SyntheticEvent]";if("number"==typeof e&&e!=e)return"[NaN]";if("function"==typeof e)return`[Function: ${(0,i.$P)(e)}]`;if("symbol"==typeof e)return`[${String(e)}]`;if("bigint"==typeof e)return`[BigInt: ${String(e)}]`;const r=function(t){const e=Object.getPrototypeOf(t);return e?e.constructor.name:"null prototype"}(e);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(t){return`**non-serializable** (${t})`}}(t,e);if(!p.startsWith("[object "))return p;if(e.__sentry_skip_normalization__)return e;const h="number"==typeof e.__sentry_override_normalization_depth__?e.__sentry_override_normalization_depth__:s;if(0===h)return p.replace("object ","");if(u(e))return"[Circular ~]";const f=e;if(f&&"function"==typeof f.toJSON)try{return l("",f.toJSON(),h-1,a,c)}catch(t){}const g=Array.isArray(e)?[]:{};let _=0;const m=(0,r.Sh)(e);for(const t in m){if(!Object.prototype.hasOwnProperty.call(m,t))continue;if(_>=a){g[t]="[MaxProperties ~]";break}const e=m[t];g[t]=l(t,e,h-1,a,c),_++}return d(e),g}},5301:(t,e,n)=>{"use strict";n.d(e,{$Q:()=>l,HK:()=>c,Jr:()=>g,Sh:()=>d,_j:()=>u,hl:()=>s,xp:()=>a,zf:()=>f});var o=n(8464),r=n(7597),i=n(7321);function s(t,e,n){if(!(e in t))return;const o=t[e],r=n(o);if("function"==typeof r)try{l(r,o)}catch(t){}t[e]=r}function a(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}function l(t,e){const n=e.prototype||{};t.prototype=e.prototype=n,a(t,"__sentry_original__",e)}function c(t){return t.__sentry_original__}function u(t){return Object.keys(t).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`)).join("&")}function d(t){if((0,r.VZ)(t))return{message:t.message,name:t.name,stack:t.stack,...h(t)};if((0,r.cO)(t)){const e={type:t.type,target:p(t.target),currentTarget:p(t.currentTarget),...h(t)};return"undefined"!=typeof CustomEvent&&(0,r.V9)(t,CustomEvent)&&(e.detail=t.detail),e}return t}function p(t){try{return(0,r.kK)(t)?(0,o.Rt)(t):Object.prototype.toString.call(t)}catch(t){return"<unknown>"}}function h(t){if("object"==typeof t&&null!==t){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}return{}}function f(t,e=40){const n=Object.keys(d(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return(0,i.$G)(n[0],e);for(let t=n.length;t>0;t--){const o=n.slice(0,t).join(", ");if(!(o.length>e))return t===n.length?o:(0,i.$G)(o,e)}return""}function g(t){return _(t,new Map)}function _(t,e){if((0,r.PO)(t)){const n=e.get(t);if(void 0!==n)return n;const o={};e.set(t,o);for(const n of Object.keys(t))void 0!==t[n]&&(o[n]=_(t[n],e));return o}if(Array.isArray(t)){const n=e.get(t);if(void 0!==n)return n;const o=[];return e.set(t,o),t.forEach((t=>{o.push(_(t,e))})),o}return t}},228:(t,e,n)=>{"use strict";n.d(e,{JY:()=>r,Q:()=>i,WG:()=>s});const o=6e4;function r(t,e=Date.now()){const n=parseInt(`${t}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${t}`);return isNaN(r)?o:r-e}function i(t,e,n=Date.now()){return function(t,e){return t[e]||t.all||0}(t,e)>n}function s(t,{statusCode:e,headers:n},o=Date.now()){const i={...t},s=n&&n["x-sentry-rate-limits"],a=n&&n["retry-after"];if(s)for(const t of s.trim().split(",")){const[e,n]=t.split(":",2),r=parseInt(e,10),s=1e3*(isNaN(r)?60:r);if(n)for(const t of n.split(";"))i[t]=o+s;else i.all=o+s}else a?i.all=o+r(a,o):429===e&&(i.all=o+6e4);return i}},360:(t,e,n)=>{"use strict";n.d(e,{$P:()=>l,Sq:()=>s,pE:()=>i});const o=50,r=/\(error: (.*)\)/;function i(...t){const e=t.sort(((t,e)=>t[0]-e[0])).map((t=>t[1]));return(t,n=0)=>{const i=[],s=t.split("\n");for(let t=n;t<s.length;t++){const n=s[t];if(n.length>1024)continue;const a=r.test(n)?n.replace(r,"$1"):n;if(!a.match(/\S*Error: /)){for(const t of e){const e=t(a);if(e){i.push(e);break}}if(i.length>=o)break}}return function(t){if(!t.length)return[];const e=t.slice(0,o),n=e[e.length-1].function;n&&/sentryWrapped/.test(n)&&e.pop();e.reverse();const r=e[e.length-1].function;r&&/captureMessage|captureException/.test(r)&&e.pop();return e.map((t=>({...t,filename:t.filename||e[e.length-1].filename,function:t.function||"?"})))}(i)}}function s(t){return Array.isArray(t)?i(...t):t}const a="<anonymous>";function l(t){try{return t&&"function"==typeof t&&t.name||a}catch(t){return a}}},7321:(t,e,n)=>{"use strict";n.d(e,{$G:()=>r,U0:()=>s,nK:()=>i});var o=n(7597);function r(t,e=0){return"string"!=typeof t||0===e||t.length<=e?t:`${t.slice(0,e)}...`}function i(t,e){if(!Array.isArray(t))return"";const n=[];for(let e=0;e<t.length;e++){const o=t[e];try{n.push(String(o))}catch(t){n.push("[value cannot be serialized]")}}return n.join(e)}function s(t,e=[],n=!1){return e.some((e=>function(t,e,n=!1){return!!(0,o.HD)(t)&&((0,o.Kj)(e)?e.test(t):!!(0,o.HD)(e)&&(n?t===e:t.includes(e)))}(t,e,n)))}},8823:(t,e,n)=>{"use strict";n.d(e,{Ak:()=>i,Du:()=>s,t$:()=>a});var o=n(2343);const r=(0,n(1235).Rf)();function i(){if(!("fetch"in r))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(t){return!1}}function s(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function a(){if(!i())return!1;if(s(r.fetch))return!0;let t=!1;const e=r.document;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=s(n.contentWindow.fetch)),e.head.removeChild(n)}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return t}},6893:(t,e,n)=>{"use strict";n.d(e,{$2:()=>s,WD:()=>i,cW:()=>a});var o,r=n(7597);function i(t){return new a((e=>{e(t)}))}function s(t){return new a(((e,n)=>{n(t)}))}!function(t){t[t.PENDING=0]="PENDING";t[t.RESOLVED=1]="RESOLVED";t[t.REJECTED=2]="REJECTED"}(o||(o={}));class a{__init(){this._state=o.PENDING}__init2(){this._handlers=[]}constructor(t){a.prototype.__init.call(this),a.prototype.__init2.call(this),a.prototype.__init3.call(this),a.prototype.__init4.call(this),a.prototype.__init5.call(this),a.prototype.__init6.call(this);try{t(this._resolve,this._reject)}catch(t){this._reject(t)}}then(t,e){return new a(((n,o)=>{this._handlers.push([!1,e=>{if(t)try{n(t(e))}catch(t){o(t)}else n(e)},t=>{if(e)try{n(e(t))}catch(t){o(t)}else o(t)}]),this._executeHandlers()}))}catch(t){return this.then((t=>t),t)}finally(t){return new a(((e,n)=>{let o,r;return this.then((e=>{r=!1,o=e,t&&t()}),(e=>{r=!0,o=e,t&&t()})).then((()=>{r?n(o):e(o)}))}))}__init3(){this._resolve=t=>{this._setResult(o.RESOLVED,t)}}__init4(){this._reject=t=>{this._setResult(o.REJECTED,t)}}__init5(){this._setResult=(t,e)=>{this._state===o.PENDING&&((0,r.J8)(e)?e.then(this._resolve,this._reject):(this._state=t,this._value=e,this._executeHandlers()))}}__init6(){this._executeHandlers=()=>{if(this._state===o.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach((t=>{t[0]||(this._state===o.RESOLVED&&t[1](this._value),this._state===o.REJECTED&&t[2](this._value),t[0]=!0)}))}}}},1170:(t,e,n)=>{"use strict";n.d(e,{Z1:()=>p,ph:()=>u,yW:()=>c});var o=n(1422),r=n(1235);t=n.hmd(t);const i=(0,r.Rf)(),s={nowSeconds:()=>Date.now()/1e3};const a=(0,o.KV)()?function(){try{return(0,o.l$)(t,"perf_hooks").performance}catch(t){return}}():function(){const{performance:t}=i;if(!t||!t.now)return;return{now:()=>t.now(),timeOrigin:Date.now()-t.now()}}(),l=void 0===a?s:{nowSeconds:()=>(a.timeOrigin+a.now())/1e3},c=s.nowSeconds.bind(s),u=l.nowSeconds.bind(l);let d;const p=(()=>{const{performance:t}=i;if(!t||!t.now)return void(d="none");const e=36e5,n=t.now(),o=Date.now(),r=t.timeOrigin?Math.abs(t.timeOrigin+n-o):e,s=r<e,a=t.timing&&t.timing.navigationStart,l="number"==typeof a?Math.abs(a+n-o):e;return s||l<e?r<=l?(d="timeOrigin",t.timeOrigin):(d="navigationStart",a):(d="dateNow",o)})()},7638:(t,e,n)=>{"use strict";n.d(e,{q:()=>r});const o=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function r(t){const e=t.match(o);if(!t||!e)return;let n;return"1"===e[3]?n=!0:"0"===e[3]&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}},1235:(t,e,n)=>{"use strict";function o(t){return t&&t.Math==Math?t:void 0}n.d(e,{Rf:()=>i,YO:()=>s,n2:()=>r});const r="object"==typeof globalThis&&o(globalThis)||"object"==typeof window&&o(window)||"object"==typeof self&&o(self)||"object"==typeof n.g&&o(n.g)||function(){return this}()||{};function i(){return r}function s(t,e,n){const o=n||r,i=o.__SENTRY__=o.__SENTRY__||{};return i[t]||(i[t]=e())}},7475:(t,e,n)=>{"use strict";n.d(e,{W:()=>o});const o=["activate","mount","update"]},7444:(t,e,n)=>{"use strict";n.d(e,{W:()=>i});var o=n(5659),r=n(6566);const i=(t,e)=>{const{errorHandler:n,warnHandler:i,silent:s}=t.config;t.config.errorHandler=(a,l,c)=>{const u=(0,r.a)(l,!1),d=l?(0,r.o)(l):"",p={componentName:u,lifecycleHook:c,trace:d};if(e.attachProps&&l&&(l.$options&&l.$options.propsData?p.propsData=l.$options.propsData:l.$props&&(p.propsData=l.$props)),setTimeout((()=>{(0,o.Gd)().withScope((t=>{t.setContext("vue",p),(0,o.Gd)().captureException(a)}))})),"function"==typeof n&&n.call(t,a,l,c),e.logErrors){const t="undefined"!=typeof console,e=`Error in ${c}: "${a&&a.toString()}"`;i?i.call(null,e,l,d):t&&!s&&console.error(`[Vue warn]: ${e}${d}`)}}}},7270:(t,e,n)=>{"use strict";n.r(e),n.d(e,{Breadcrumbs:()=>L.O,BrowserClient:()=>w.R,BrowserProfilingIntegration:()=>yt,BrowserTracing:()=>G.gE,Dedupe:()=>k.I,FunctionToString:()=>i.c,GlobalHandlers:()=>M.d,HttpContext:()=>N.q,Hub:()=>a.Xb,InboundFilters:()=>s.QD,Integrations:()=>Ct,LinkedErrors:()=>I.iP,Replay:()=>F.U,SDK_VERSION:()=>l.J,Scope:()=>c.s,TryCatch:()=>A.p,WINDOW:()=>S.m9,addBreadcrumb:()=>u.n_,addGlobalEventProcessor:()=>c.c,addTracingExtensions:()=>d.T,attachErrorHandler:()=>St.W,captureEvent:()=>u.eN,captureException:()=>u.Tb,captureMessage:()=>u.uT,captureUserFeedback:()=>x.Jd,chromeStackLineParser:()=>T.$3,close:()=>x.xv,configureScope:()=>u.e,createTracingMixins:()=>wt.A,createTransport:()=>p.q,createUserFeedbackEnvelope:()=>D.r,defaultIntegrations:()=>x.SS,defaultRequestInstrumentationOptions:()=>B.k3,defaultStackLineParsers:()=>T.d8,defaultStackParser:()=>T.Dt,eventFromException:()=>R.dr,eventFromMessage:()=>R.aB,extractTraceparentData:()=>h.q,flush:()=>x.yl,forceLoad:()=>x.Eg,geckoStackLineParser:()=>T.$Q,getActiveTransaction:()=>f.x1,getCurrentHub:()=>a.Gd,getHubFromCarrier:()=>a.vi,init:()=>Et.S,instrumentOutgoingRequests:()=>B.L7,lastEventId:()=>x.eW,makeBrowserOfflineTransport:()=>Z,makeFetchTransport:()=>O.f,makeMain:()=>a.pj,makeMultiplexedTransport:()=>v,makeXHRTransport:()=>P.K,onLoad:()=>x.lA,onProfilingStartRouteTransaction:()=>gt,opera10StackLineParser:()=>T.NP,opera11StackLineParser:()=>T.HH,setContext:()=>u.v,setExtra:()=>u.sU,setExtras:()=>u.rJ,setTag:()=>u.YA,setTags:()=>u.mG,setUser:()=>u.av,showReportDialog:()=>x.jp,spanStatusfromHttpCode:()=>C.Zd,startTransaction:()=>u.Yr,trace:()=>b,vueRouterInstrumentation:()=>bt.x,winjsStackLineParser:()=>T.R2,withScope:()=>u.$e,wrap:()=>x.re});var o={};n.r(o),n.d(o,{FunctionToString:()=>i.c,InboundFilters:()=>s.QD});var r={};n.r(r),n.d(r,{Breadcrumbs:()=>L.O,Dedupe:()=>k.I,GlobalHandlers:()=>M.d,HttpContext:()=>N.q,LinkedErrors:()=>I.iP,TryCatch:()=>A.p});var i=n(9116),s=n(2422),a=n(5659),l=n(105),c=n(350),u=n(4487),d=n(6890),p=n(9604),h=n(7638),f=n(9791),g=n(8725),_=n(292),m=n(1984);function y(t,e){let n;return(0,g.gv)(t,((t,o)=>(e.includes(o)&&(n=Array.isArray(t)?t[1]:void 0),!!n))),n}function v(t,e){return n=>{const o=t(n),r={};return{send:async function(i){const s=e({envelope:i,getEvent:function(t){const e=t&&t.length?t:["event"];return y(i,e)}}).map((e=>function(e){if(!r[e]){const o=(0,m.U)((0,_.U4)(e));r[e]=t({...n,url:o})}return r[e]}(e)));return 0===s.length&&s.push(o),(await Promise.all(s.map((t=>t.send(i)))))[0]},flush:async function(t){const e=[...Object.keys(r).map((t=>r[t])),o];return(await Promise.all(e.map((e=>e.flush(t))))).every((t=>t))}}}}var C=n(8903),E=n(7597);function b(t,e,n=(()=>{})){const o={...t};void 0!==o.name&&void 0===o.description&&(o.description=o.name);const r=(0,a.Gd)(),i=r.getScope(),s=i.getSpan(),l=s?s.startChild(o):r.startTransaction(o);function c(){l&&l.finish(),r.getScope().setSpan(s)}let u;i.setSpan(l);try{u=e(l)}catch(t){throw l&&l.setStatus("internal_error"),n(t),c(),t}return(0,E.J8)(u)?Promise.resolve(u).then((()=>{c()}),(t=>{l&&l.setStatus("internal_error"),n(t),c()})):c(),u}var S=n(6891),w=n(2248),O=n(8838),P=n(8131),T=n(4469),R=n(4773),D=n(911),x=n(8620),M=n(2136),A=n(3692),L=n(7729),I=n(1634),N=n(1945),k=n(9730),F=n(3078),G=n(9553),B=n(516),U=n(2343),j=n(228);const V=100,W=5e3,H=36e5;function $(t,e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.info(`[Offline]: ${t}`,e)}function z(t){return new Promise(((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)}))}function K(t){return z(t.getAllKeys())}function Y(t){let e;function n(){return null==e&&(e=function(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const o=z(n);return t=>o.then((n=>t(n.transaction(e,"readwrite").objectStore(e))))}(t.dbName||"sentry-offline",t.storeName||"queue")),e}return{insert:async e=>{try{const o=await(0,g.V$)(e,t.textEncoder);await function(t,e,n){return t((t=>K(t).then((o=>{if(!(o.length>=n))return t.put(e,Math.max(...o,0)+1),z(t.transaction)}))))}(n(),o,t.maxQueueSize||30)}catch(t){}},pop:async()=>{try{const e=await function(t){return t((t=>K(t).then((e=>{if(0!==e.length)return z(t.get(e[0])).then((n=>(t.delete(e[0]),z(t.transaction).then((()=>n)))))}))))}(n());if(e)return(0,g.f4)(e,t.textEncoder||new TextEncoder,t.textDecoder||new TextDecoder)}catch(t){}}}}function Z(t){return function(t){return e=>t({...e,createStore:Y})}(function(t){return e=>{const n=t(e),o=e.createStore?e.createStore(e):void 0;let r,i=W;function s(t,n,o){return!(0,g.R)(t,["replay_event","replay_recording","client_report"])&&(!e.shouldStore||e.shouldStore(t,n,o))}function a(t){o&&(r&&clearTimeout(r),r=setTimeout((async()=>{r=void 0;const t=await o.pop();t&&($("Attempting to send previously queued event"),c(t).catch((t=>{$("Failed to retry sending",t)})))}),t),"number"!=typeof r&&r.unref&&r.unref())}function l(){r||(a(i),i=Math.min(2*i,H))}async function c(t){try{const e=await n.send(t);let o=V;if(e)if(e.headers&&e.headers["retry-after"])o=(0,j.JY)(e.headers["retry-after"]);else if((e.statusCode||0)>=400)return e;return a(o),i=W,e}catch(e){if(o&&await s(t,e,i))return await o.insert(t),l(),$("Error sending. Event queued",e),{};throw e}}return e.flushAtStartup&&l(),{send:c,flush:t=>n.flush(t)}}}(t))}var q=n(2844);const X=function(t){let e=[],n={};return{add(o,r){for(;e.length>=t;){const t=e.shift();void 0!==t&&delete n[t]}n[o]&&this.delete(o),e.push(o),n[o]=r},clear(){n={},e=[]},get:t=>n[t],size:()=>e.length,delete(t){if(!n[t])return!1;delete n[t];for(let n=0;n<e.length;n++)if(e[n]===t){e.splice(n,1);break}return!0}}}(20);var J=n(1131),Q=n(5301);const tt=1e6,et=String(0),nt="main";let ot="",rt="",it="",st=S.m9.navigator&&S.m9.navigator.userAgent||"",at="";const lt=S.m9.navigator&&S.m9.navigator.language||S.m9.navigator&&S.m9.navigator.languages&&S.m9.navigator.languages[0]||"";const ct=S.m9.navigator&&S.m9.navigator.userAgentData;var ut;function dt(t){return function(t){return!("thread_metadata"in t)}(t)?function(t){let e,n=0;const o={samples:[],stacks:[],frames:[],thread_metadata:{[et]:{name:nt}}};if(!t.samples.length)return o;const r=t.samples[0].timestamp;for(let i=0;i<t.samples.length;i++){const s=t.samples[i];if(void 0===s.stackId){void 0===e&&(e=n,o.stacks[e]=[],n++),o.samples[i]={elapsed_since_start_ns:((s.timestamp-r)*tt).toFixed(0),stack_id:e,thread_id:et};continue}let a=t.stacks[s.stackId];const l=[];for(;a;){l.push(a.frameId);const e=t.frames[a.frameId];void 0===o.frames[a.frameId]&&(o.frames[a.frameId]={function:e.name,file:e.resourceId?t.resources[e.resourceId]:void 0,line:e.line,column:e.column}),a=void 0===a.parentId?void 0:t.stacks[a.parentId]}const c={elapsed_since_start_ns:((s.timestamp-r)*tt).toFixed(0),stack_id:n,thread_id:et};o.stacks[n]=l,o.samples[i]=c,n++}return o}(t):t}function pt(t,e,n,o){if("transaction"!==t.type)throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");const r=t.sdkProcessingMetadata.profile;if(null==r)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${r} instead.`);if(!r.profile_id)throw new TypeError("Profile is missing profile_id");if(r.samples.length<=1)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("[Profiling] Discarding profile because it contains less than 2 samples"),null;const i=function(t){const e=t&&t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id;return"string"==typeof e&&32!==e.length&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log(`[Profiling] Invalid traceId: ${e} on profiled event`),"string"!=typeof e?"":e}(t),s=function(t){if(t&&t.sdk)return{name:t.sdk.name,version:t.sdk.version}}(n);!function(t,e){e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name||"unknown sdk",t.sdk.version=t.sdk.version||e.version||"unknown sdk version",t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]])}(t,n&&n.sdk);const a=function(t,e,n,o){const r=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:(new Date).toISOString(),...e&&{sdk:e},...!!n&&{dsn:(0,_.RA)(o)},..."transaction"===t.type&&r&&{trace:(0,Q.Jr)({...r})}}}(t,s,o,e),l=dt(r),c="number"==typeof t.start_timestamp?1e3*t.start_timestamp:Date.now(),u="number"==typeof t.timestamp?1e3*t.timestamp:Date.now(),d=[{type:"profile"},{event_id:r.profile_id,timestamp:new Date(c).toISOString(),platform:"javascript",version:"1",release:t.release||"",environment:t.environment||J.J,runtime:{name:"javascript",version:S.m9.navigator.userAgent},os:{name:ot,version:rt,build_number:st},device:{locale:lt,model:at,manufacturer:st,architecture:it,is_emulator:!1},profile:l,transactions:[{name:t.transaction||"",id:t.event_id||(0,q.DM)(),trace_id:i,active_thread_id:et,relative_start_ns:"0",relative_end_ns:(1e6*(u-c)).toFixed(0)}]}];return(0,g.Jd)(a,[d])}"object"==typeof(ut=ct)&&null!==ut&&"getHighEntropyValues"in ut&&ct.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then((t=>{if(ot=t.platform||"",it=t.architecture||"",at=t.model||"",rt=t.platformVersion||"",t.fullVersionList&&t.fullVersionList.length>0){const e=t.fullVersionList[t.fullVersionList.length-1];st=`${e.brand} ${e.version}`}})).catch((t=>{}));const ht=3e4;let ft=!1;function gt(t){return t?_t(t):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("[Profiling] Transaction is undefined, skipping profiling"),t)}function _t(t){const e=S.m9.Profiler;if("function"!=typeof e)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object."),t;if(!t.sampled)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("[Profiling] Transaction is not sampled, skipping profiling"),t;if(ft)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("[Profiling] Profiling has been disabled for the duration of the current user session."),t;const n=(0,a.Gd)().getClient(),o=n&&n.getOptions(),r=o&&o.profilesSampleRate||0;if(void 0===r)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("[Profiling] Profiling disabled, enable it by setting `profilesSampleRate` option to SDK init call."),t;if(Math.random()>r)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("[Profiling] Skip profiling transaction due to sampling."),t;const i=Math.floor(ht/10);let s;try{s=new e({sampleInterval:10,maxBufferSize:i})}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&(U.kg.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),U.kg.log("[Profiling] Disabling profiling for current user session.")),ft=!0}if(!s)return t;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log(`[Profiling] started profiling transaction: ${t.name||t.description}`);const l=(0,q.DM)();let c=null;function u(){t&&s&&(c?("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("[Profiling] profile for:",t.name||t.description,"already exists, returning early"):s.stop().then((e=>{d&&(S.m9.clearTimeout(d),d=void 0),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log(`[Profiling] stopped profiling of transaction: ${t.name||t.description}`),e?e.samples.length<2||(c={...e,profile_id:l},function(t,e){const n=X.get(t);if(!n)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("[Profiling] Couldn't find a transaction event for this profile, dropping it."));n.sdkProcessingMetadata=n.sdkProcessingMetadata||{},n.sdkProcessingMetadata&&!n.sdkProcessingMetadata.profile&&(n.sdkProcessingMetadata.profile=e);const o=(0,a.Gd)().getClient();if(!o)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("[Profiling] getClient did not return a Client, removing profile from event and forwarding to next event processors."));const r=o.getDsn();if(!r)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("[Profiling] getDsn did not return a Dsn, removing profile from event and forwarding to next event processors."));const i=o.getTransport();if(!i)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("[Profiling] getTransport did not return a Transport, removing profile from event and forwarding to next event processors."));("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("[Profiling] Preparing envelope and sending a profiling event");const s=pt(n,r);X.delete(t),s?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("[Profiling] Envelope constructed, sending it"),i.send(s).then(null,(t=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("[Profiling] Error while sending event:",t)}))):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("[Profiling] Failed to construct envelope")}(l,c)):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log(`[Profiling] profiler returned null profile for: ${t.name||t.description}`,"this may indicate an overlapping transaction or a call to stopProfiling with a profile title that was never started")})).catch((t=>(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("[Profiling] error while stopping profiler:",t),null))))}let d=S.m9.setTimeout((()=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("[Profiling] max profile duration elapsed, stopping profiling for:",t.name||t.description),u()}),ht);const p=t.finish.bind(t);return t.finish=function(){return t?(u(),t.setContext("profile",{profile_id:l}),p()):p()},t}function mt(){const t=(0,a.cu)();var e;t.__SENTRY__?(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("[Profiling] startTransaction exists, patching it with profiling functionality..."),t.__SENTRY__.extensions.startTransaction=(e=t.__SENTRY__.extensions.startTransaction,function(t,n){const o=e.call(this,t,n);return void 0===o?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("[Profiling] Transaction is undefined, skipping profiling"),o):_t(o)})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("[Profiling] startTransaction does not exists, profiling will not work. Make sure you import @sentry/tracing package before @sentry/profiling-node as import order matters.")):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("[Profiling] Can't find main carrier, profiling won't work.")}class yt{constructor(){yt.prototype.__init.call(this)}__init(){this.name="BrowserProfilingIntegration"}setupOnce(t){mt(),t(this.handleGlobalEvent.bind(this))}handleGlobalEvent(t){const e=t.contexts&&t.contexts.profile&&t.contexts.profile.profile_id;return e&&"string"==typeof e&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("[Profiling] Profiling event found, caching it."),X.add(e,t)),t}}let vt={};S.m9.Sentry&&S.m9.Sentry.Integrations&&(vt=S.m9.Sentry.Integrations);const Ct={...vt,...o,...r};var Et=n(7816),bt=n(4816),St=n(7444),wt=n(1533)},4816:(t,e,n)=>{"use strict";n.d(e,{x:()=>s});var o=n(6891),r=n(4487),i=n(1533);function s(t,e={}){return(n,s=!0,a=!0)=>{const l={"routing.instrumentation":"vue-router"};s&&o.m9&&o.m9.location&&n({name:o.m9.location.pathname,op:"pageload",tags:l,metadata:{source:"url"}}),t.onError((t=>(0,r.Tb)(t))),t.beforeEach(((t,o,r)=>{const c=null==o.name&&0===o.matched.length,u={params:t.params,query:t.query};let d=t.path,p="url";if(t.name&&"path"!==e.routeLabel?(d=t.name.toString(),p="custom"):t.matched[0]&&t.matched[0].path&&(d=t.matched[0].path,p="route"),s&&c){const t=(0,i.x)();t&&("custom"!==t.metadata.source&&t.setName(d,p),t.setData("params",u.params),t.setData("query",u.query))}a&&!c&&n({name:d,op:"navigation",tags:l,data:u,metadata:{source:p}}),r()}))}}},7816:(t,e,n)=>{"use strict";n.d(e,{S:()=>p});var o=n(105),r=n(8620),i=n(7522),s=n(1235),a=n(2844),l=n(7475),c=n(7444),u=n(1533);const d={Vue:s.n2.Vue,attachProps:!0,logErrors:!0,hooks:l.W,timeout:2e3,trackComponents:!1,_metadata:{sdk:{name:"sentry.javascript.vue",packages:[{name:"npm:@sentry/vue",version:o.J}],version:o.J}}};function p(t={}){const e={...d,...t};if((0,r.S1)(e),e.Vue||e.app)if(e.app){(0,a.lE)(e.app).forEach((t=>h(t,e)))}else e.Vue&&h(e.Vue,e);else console.warn("[@sentry/vue]: Misconfigured SDK. Vue specific errors will not be captured.\nUpdate your `Sentry.init` call with an appropriate config option:\n`app` (Application Instance - Vue 3) or `Vue` (Vue Constructor - Vue 2).")}const h=(t,e)=>{const n=t;!0===(n._instance&&n._instance.isMounted)&&console.warn("[@sentry/vue]: Misconfigured SDK. Vue app is already mounted. Make sure to call `app.mount()` after `Sentry.init()`."),(0,c.W)(t,e),(0,i.z)(e)&&t.mixin((0,u.A)({...e,...e.tracingOptions}))}},1533:(t,e,n)=>{"use strict";n.d(e,{A:()=>p,x:()=>u});var o=n(5659),r=n(2343),i=n(1170),s=n(7475),a=n(6566);const l="ui.vue",c={activate:["activated","deactivated"],create:["beforeCreate","created"],destroy:["beforeDestroy","destroyed"],mount:["beforeMount","mounted"],update:["beforeUpdate","updated"]};function u(){const t=(0,o.Gd)().getScope();return t&&t.getTransaction()}function d(t,e,n){t.$_sentryRootSpanTimer&&clearTimeout(t.$_sentryRootSpanTimer),t.$_sentryRootSpanTimer=setTimeout((()=>{t.$root&&t.$root.$_sentryRootSpan&&(t.$root.$_sentryRootSpan.finish(e),t.$root.$_sentryRootSpan=void 0)}),n)}const p=t=>{const e=(t.hooks||[]).concat(s.W).filter(((t,e,n)=>n.indexOf(t)===e)),n={};for(const o of e){const e=c[o];if(e)for(const r of e)n[r]=function(){const n=this.$root===this;if(n){const t=u();t&&(this.$_sentryRootSpan=this.$_sentryRootSpan||t.startChild({description:"Application Render",op:`${l}.render`}))}const s=(0,a.a)(this,!1),c=Array.isArray(t.trackComponents)?t.trackComponents.indexOf(s)>-1:t.trackComponents;if(n||c)if(this.$_sentrySpans=this.$_sentrySpans||{},r==e[0]){const t=this.$root&&this.$root.$_sentryRootSpan||u();if(t){const e=this.$_sentrySpans[o];e&&!e.endTimestamp&&e.finish(),this.$_sentrySpans[o]=t.startChild({description:`Vue <${s}>`,op:`${l}.${o}`})}}else{const e=this.$_sentrySpans[o];if(!e)return;e.finish(),d(this,(0,i.ph)(),t.timeout)}};else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.warn(`Unknown hook: ${o}`)}return n}},6566:(t,e,n)=>{"use strict";n.d(e,{a:()=>i,o:()=>s});const o=/(?:^|[-_])(\w)/g,r="<Anonymous>",i=(t,e)=>{if(!t)return r;if(t.$root===t)return"<Root>";if(!t.$options)return r;const n=t.$options;let i=n.name||n._componentTag;const s=n.__file;if(!i&&s){const t=s.match(/([^/\\]+)\.vue$/);t&&(i=t[1])}return(i?`<${a=i,a.replace(o,(t=>t.toUpperCase())).replace(/[-_]/g,"")}>`:r)+(s&&!1!==e?` at ${s}`:"");var a},s=t=>{if(t&&(t._isVue||t.__isVue)&&t.$parent){const e=[];let n=0;for(;t;){if(e.length>0){const o=e[e.length-1];if(o.constructor===t.constructor){n++,t=t.$parent;continue}n>0&&(e[e.length-1]=[o,n],n=0)}e.push(t),t=t.$parent}const o=e.map(((t,e)=>{return`${(0===e?"---\x3e ":(n=" ",o=5+2*e,n.repeat?n.repeat(o):n))+(Array.isArray(t)?`${i(t[0])}... (${t[1]} recursive calls)`:i(t))}`;var n,o})).join("\n");return`\n\nfound in\n\n${o}`}return`\n\n(found in ${i(t)})`}},7713:(t,e,n)=>{"use strict";n.d(e,{$R:()=>at,Gs:()=>bt,Hw:()=>Ct,P6:()=>pt,iA:()=>nt});var o=n(6252),r=n(2262),i=n(9963);const s=t=>{for(const e of Object.keys(t)){const n=t[e];n&&l(n.cancel)&&n.cancel()}},a=t=>t&&"function"==typeof t.charAt?t.charAt(0).toUpperCase()+t.slice(1):t,l=t=>"function"==typeof t,c=(t,e,n)=>{for(const r in n){const i="set"+a(r);t[i]?(0,o.YP)((()=>n[r]),((e,n)=>{t[i](e,n)})):e[i]&&(0,o.YP)((()=>n[r]),(t=>{e[i](t)}))}},u=(t,e,n={})=>{const o={...n};for(const n in t){const r=e[n],i=t[n];r&&(r&&!0===r.custom||void 0!==i&&(o[n]=i))}return o},d=t=>{const e={};for(const n in t)if(n.startsWith("on")&&!n.startsWith("onUpdate")&&"onReady"!==n){e[n.slice(2).toLocaleLowerCase()]=t[n]}return e},p=t=>{const e=(0,r.iH)(((...e)=>console.warn(`Method ${t} has been invoked without being replaced`))),n=(...t)=>e.value(...t);return n.wrapped=e,(0,o.JJ)(t,n),n},h=(t,e)=>t.wrapped.value=e,f="object"==typeof self&&self.self===self&&self||"object"==typeof n.g&&n.g.global===n.g&&n.g||globalThis,g=t=>{const e=(0,o.f3)(t);if(!e)throw new Error(`Attempt to inject ${t} before it was provided.`);return e},_=Symbol(),m=Symbol(),y=Symbol(),v=Symbol(),C=Symbol(),E=Symbol(),b=Symbol(),S=Symbol(),w=Symbol(),O=Symbol(),P=Symbol(),T=Symbol(),R={options:{type:Object,default:()=>({}),custom:!0}},D=t=>({options:t.options,methods:{}}),x={...R,pane:{type:String},attribution:{type:String},name:{type:String,custom:!0},layerType:{type:String,custom:!0},visible:{type:Boolean,custom:!0,default:!0}},M=(t,e,n)=>{const r=g(m),i=g(y),{options:s,methods:a}=D(t),c=u(t,x,s),d=()=>r({leafletObject:e.value}),p=()=>i({leafletObject:e.value}),h={...a,setAttribution(n){p(),e.value.options.attribution=n,t.visible&&d()},setName(){p(),t.visible&&d()},setLayerType(){p(),t.visible&&d()},setVisible(t){e.value&&(t?d():p())},bindPopup(t){e.value&&l(e.value.bindPopup)?e.value.bindPopup(t):console.warn("Attempt to bind popup before bindPopup method available on layer.")},bindTooltip(t){e.value&&l(e.value.bindTooltip)?e.value.bindTooltip(t):console.warn("Attempt to bind tooltip before bindTooltip method available on layer.")},unbindTooltip(){e.value&&(l(e.value.closeTooltip)&&e.value.closeTooltip(),l(e.value.unbindTooltip)&&e.value.unbindTooltip())},unbindPopup(){e.value&&(l(e.value.closePopup)&&e.value.closePopup(),l(e.value.unbindPopup)&&e.value.unbindPopup())},updateVisibleProp(t){n.emit("update:visible",t)}};return(0,o.JJ)(w,h.bindPopup),(0,o.JJ)(O,h.bindTooltip),(0,o.JJ)(P,h.unbindPopup),(0,o.JJ)(T,h.unbindTooltip),(0,o.Ah)((()=>{h.unbindPopup(),h.unbindTooltip(),p()})),{options:c,methods:h}},A=(t,e)=>{if(t&&e.default)return(0,o.h)("div",{style:{display:"none"}},e.default())},L={...x,interactive:{type:Boolean,default:void 0},bubblingMouseEvents:{type:Boolean,default:void 0}},I={...L,stroke:{type:Boolean,default:void 0},color:{type:String},weight:{type:Number},opacity:{type:Number},lineCap:{type:String},lineJoin:{type:String},dashArray:{type:String},dashOffset:{type:String},fill:{type:Boolean,default:void 0},fillColor:{type:String},fillOpacity:{type:Number},fillRule:{type:String},className:{type:String}},N=(t,e,n)=>{const{options:r,methods:i}=((t,e,n)=>{const{options:o,methods:r}=M(t,e,n);return{options:u(t,L,o),methods:r}})(t,e,n),s=u(t,I,r),a=g(y),l={...i,setStroke(t){e.value.setStyle({stroke:t})},setColor(t){e.value.setStyle({color:t})},setWeight(t){e.value.setStyle({weight:t})},setOpacity(t){e.value.setStyle({opacity:t})},setLineCap(t){e.value.setStyle({lineCap:t})},setLineJoin(t){e.value.setStyle({lineJoin:t})},setDashArray(t){e.value.setStyle({dashArray:t})},setDashOffset(t){e.value.setStyle({dashOffset:t})},setFill(t){e.value.setStyle({fill:t})},setFillColor(t){e.value.setStyle({fillColor:t})},setFillOpacity(t){e.value.setStyle({fillOpacity:t})},setFillRule(t){e.value.setStyle({fillRule:t})},setClassName(t){e.value.setStyle({className:t})}};return(0,o.Jd)((()=>{a({leafletObject:e.value})})),{options:s,methods:l}},k={...I,radius:{type:Number},latLng:{type:[Object,Array],required:!0,custom:!0}},F=(t,e,n)=>{const{options:o,methods:r}=N(t,e,n);return{options:u(t,k,o),methods:{...r,setRadius(t){e.value.setRadius(t)},setLatLng(t){e.value.setLatLng(t)}}}},G={...k,radius:{type:Number}},B=((0,o.aZ)({name:"LCircle",props:G,setup(t,e){const i=(0,r.iH)(),s=(0,r.iH)(!1),a=(0,o.f3)(_),l=g(m),{options:p,methods:h}=((t,e,n)=>{const{options:o,methods:r}=F(t,e,n);return{options:u(t,G,o),methods:{...r}}})(t,i,e);return(0,o.bv)((async()=>{const{circle:u}=a?f.L:await n.e(216).then(n.bind(n,6633));i.value=(0,r.Xl)(u(t.latLng,p));const g=d(e.attrs);i.value.on(g),c(h,i.value,t),l({...t,...h,leafletObject:i.value}),s.value=!0,(0,o.Y3)((()=>e.emit("ready",i.value)))})),{ready:s,leafletObject:i}},render(){return A(this.ready,this.$slots)}}),(0,o.aZ)({name:"LCircleMarker",props:k,setup(t,e){const i=(0,r.iH)(),s=(0,r.iH)(!1),a=(0,o.f3)(_),l=g(m),{options:u,methods:p}=F(t,i,e);return(0,o.bv)((async()=>{const{circleMarker:h}=a?f.L:await n.e(216).then(n.bind(n,6633));i.value=(0,r.Xl)(h(t.latLng,u));const g=d(e.attrs);i.value.on(g),c(p,i.value,t),l({...t,...p,leafletObject:i.value}),s.value=!0,(0,o.Y3)((()=>e.emit("ready",i.value)))})),{ready:s,leafletObject:i}},render(){return A(this.ready,this.$slots)}}),{...R,position:{type:String}}),U=(t,e)=>{const{options:n,methods:r}=D(t),i=u(t,B,n),s={...r,setPosition(t){e.value&&e.value.setPosition(t)}};return(0,o.Ah)((()=>{e.value&&e.value.remove()})),{options:i,methods:s}},j=((0,o.aZ)({name:"LControl",props:{...B,disableClickPropagation:{type:Boolean,custom:!0,default:!0},disableScrollPropagation:{type:Boolean,custom:!0,default:!1}},setup(t,e){const i=(0,r.iH)(),s=(0,r.iH)(),a=(0,o.f3)(_),l=g(v),{options:u,methods:d}=U(t,i);return(0,o.bv)((async()=>{const{Control:p,DomEvent:h}=a?f.L:await n.e(216).then(n.bind(n,6633)),g=p.extend({onAdd:()=>s.value});i.value=(0,r.Xl)(new g(u)),c(d,i.value,t),l({leafletObject:i.value}),t.disableClickPropagation&&s.value&&h.disableClickPropagation(s.value),t.disableScrollPropagation&&s.value&&h.disableScrollPropagation(s.value),(0,o.Y3)((()=>e.emit("ready",i.value)))})),{root:s,leafletObject:i}},render(){return(t=this.$slots).default?(0,o.h)("div",{ref:"root"},t.default()):null;var t}}),{...B,prefix:{type:String}}),V=((0,o.aZ)({name:"LControlAttribution",props:j,setup(t,e){const i=(0,r.iH)(),s=(0,o.f3)(_),a=g(v),{options:l,methods:d}=((t,e)=>{const{options:n,methods:o}=U(t,e);return{options:u(t,j,n),methods:{...o,setPrefix(t){e.value.setPrefix(t)}}}})(t,i);return(0,o.bv)((async()=>{const{control:u}=s?f.L:await n.e(216).then(n.bind(n,6633));i.value=(0,r.Xl)(u.attribution(l)),c(d,i.value,t),a({leafletObject:i.value}),(0,o.Y3)((()=>e.emit("ready",i.value)))})),{leafletObject:i}},render:()=>null}),{...B,collapsed:{type:Boolean,default:void 0},autoZIndex:{type:Boolean,default:void 0},hideSingleBase:{type:Boolean,default:void 0},sortLayers:{type:Boolean,default:void 0},sortFunction:{type:Function}}),W=((0,o.aZ)({name:"LControlLayers",props:V,setup(t,e){const i=(0,r.iH)(),s=(0,o.f3)(_),a=g(C),{options:l,methods:d}=((t,e)=>{const{options:n}=U(t,e);return{options:u(t,V,n),methods:{addLayer(t){"base"===t.layerType?e.value.addBaseLayer(t.leafletObject,t.name):"overlay"===t.layerType&&e.value.addOverlay(t.leafletObject,t.name)},removeLayer(t){e.value.removeLayer(t.leafletObject)}}}})(t,i);return(0,o.bv)((async()=>{const{control:u}=s?f.L:await n.e(216).then(n.bind(n,6633));i.value=(0,r.Xl)(u.layers(void 0,void 0,l)),c(d,i.value,t),a({...t,...d,leafletObject:i.value}),(0,o.Y3)((()=>e.emit("ready",i.value)))})),{leafletObject:i}},render:()=>null}),{...B,maxWidth:{type:Number},metric:{type:Boolean,default:void 0},imperial:{type:Boolean,default:void 0},updateWhenIdle:{type:Boolean,default:void 0}}),H=((0,o.aZ)({name:"LControlScale",props:W,setup(t,e){const i=(0,r.iH)(),s=(0,o.f3)(_),a=g(v),{options:l,methods:d}=((t,e)=>{const{options:n,methods:o}=U(t,e);return{options:u(t,W,n),methods:o}})(t,i);return(0,o.bv)((async()=>{const{control:u}=s?f.L:await n.e(216).then(n.bind(n,6633));i.value=(0,r.Xl)(u.scale(l)),c(d,i.value,t),a({leafletObject:i.value}),(0,o.Y3)((()=>e.emit("ready",i.value)))})),{leafletObject:i}},render:()=>null}),{...B,zoomInText:{type:String},zoomInTitle:{type:String},zoomOutText:{type:String},zoomOutTitle:{type:String}}),$=((0,o.aZ)({name:"LControlZoom",props:H,setup(t,e){const i=(0,r.iH)(),s=(0,o.f3)(_),a=g(v),{options:l,methods:d}=((t,e)=>{const{options:n,methods:o}=U(t,e);return{options:u(t,H,n),methods:o}})(t,i);return(0,o.bv)((async()=>{const{control:u}=s?f.L:await n.e(216).then(n.bind(n,6633));i.value=(0,r.Xl)(u.zoom(l)),c(d,i.value,t),a({leafletObject:i.value}),(0,o.Y3)((()=>e.emit("ready",i.value)))})),{leafletObject:i}},render:()=>null}),{...x}),z=(t,e,n)=>{const{options:r,methods:i}=M(t,e,n),s=u(t,$,r),a={...i,addLayer(t){e.value.addLayer(t.leafletObject)},removeLayer(t){e.value.removeLayer(t.leafletObject)}};return(0,o.JJ)(m,a.addLayer),(0,o.JJ)(y,a.removeLayer),{options:s,methods:a}},K={...$},Y=((0,o.aZ)({props:K,setup(t,e){const i=(0,r.iH)(),s=(0,r.iH)(!1),a=(0,o.f3)(_),l=g(m),{methods:p,options:h}=((t,e,n)=>{const{options:o,methods:r}=z(t,e,n);return{options:u(t,K,o),methods:{...r}}})(t,i,e);return(0,o.bv)((async()=>{const{featureGroup:u}=a?f.L:await n.e(216).then(n.bind(n,6633));i.value=(0,r.Xl)(u(void 0,h));const g=d(e.attrs);i.value.on(g),c(p,i.value,t),l({...t,...p,leafletObject:i.value}),s.value=!0,(0,o.Y3)((()=>e.emit("ready",i.value)))})),{ready:s,leafletObject:i}},render(){return A(this.ready,this.$slots)}}),{...$,geojson:{type:[Object,Array],custom:!0},optionsStyle:{type:Function,custom:!0}}),Z=((0,o.aZ)({props:Y,setup(t,e){const i=(0,r.iH)(),s=(0,r.iH)(!1),a=(0,o.f3)(_),l=g(m),{methods:p,options:h}=((t,e,n)=>{const{options:o,methods:r}=z(t,e,n),i=u(t,Y,o);return Object.prototype.hasOwnProperty.call(t,"optionsStyle")&&(i.style=t.optionsStyle),{options:i,methods:{...r,setGeojson(t){e.value.clearLayers(),e.value.addData(t)},setOptionsStyle(t){e.value.setStyle(t)},getGeoJSONData:()=>e.value.toGeoJSON(),getBounds:()=>e.value.getBounds()}}})(t,i,e);return(0,o.bv)((async()=>{const{geoJSON:u}=a?f.L:await n.e(216).then(n.bind(n,6633));i.value=(0,r.Xl)(u(t.geojson,h));const g=d(e.attrs);i.value.on(g),c(p,i.value,t),l({...t,...p,leafletObject:i.value}),s.value=!0,(0,o.Y3)((()=>e.emit("ready",i.value)))})),{ready:s,leafletObject:i}},render(){return A(this.ready,this.$slots)}}),{...x,opacity:{type:Number},zIndex:{type:Number},tileSize:{type:[Number,Array,Object]},noWrap:{type:Boolean,default:void 0},minZoom:{type:Number},maxZoom:{type:Number}}),q=(t,e,n)=>{const{options:r,methods:i}=M(t,e,n),s=u(t,Z,r),a={...i,setTileComponent(){var t;null==(t=e.value)||t.redraw()}};return(0,o.Ah)((()=>{e.value.off()})),{options:s,methods:a}},X=(t,e,n,r)=>t.extend({initialize(t){this.tileComponents={},this.on("tileunload",this._unloadTile),n.setOptions(this,t)},createTile(t){const n=this._tileCoordsToKey(t);this.tileComponents[n]=e.create("div");const s=(0,o.h)({setup:r,props:["coords"]},{coords:t});return(0,i.render)(s,this.tileComponents[n]),this.tileComponents[n]},_unloadTile(t){const e=this._tileCoordsToKey(t.coords);this.tileComponents[e]&&(this.tileComponents[e].innerHTML="",this.tileComponents[e]=void 0)}}),J=((0,o.aZ)({props:{...Z,childRender:{type:Function,required:!0}},setup(t,e){const i=(0,r.iH)(),s=(0,r.iH)(null),a=(0,r.iH)(!1),l=(0,o.f3)(_),u=g(m),{options:p,methods:h}=q(t,i,e);return(0,o.bv)((async()=>{const{GridLayer:s,DomUtil:g,Util:_}=l?f.L:await n.e(216).then(n.bind(n,6633)),m=X(s,g,_,t.childRender);i.value=(0,r.Xl)(new m(p));const y=d(e.attrs);i.value.on(y),c(h,i.value,t),u({...t,...h,leafletObject:i.value}),a.value=!0,(0,o.Y3)((()=>e.emit("ready",i.value)))})),{root:s,ready:a,leafletObject:i}},render(){return this.ready?(0,o.h)("div",{style:{display:"none"},ref:"root"}):null}}),{iconUrl:{type:String},iconRetinaUrl:{type:String},iconSize:{type:[Object,Array]},iconAnchor:{type:[Object,Array]},popupAnchor:{type:[Object,Array]},tooltipAnchor:{type:[Object,Array]},shadowUrl:{type:String},shadowRetinaUrl:{type:String},shadowSize:{type:[Object,Array]},shadowAnchor:{type:[Object,Array]},bgPos:{type:[Object,Array]},className:{type:String}}),Q=((0,o.aZ)({name:"LIcon",props:{...J,...R},setup(t,e){const i=(0,r.iH)(),s=(0,o.f3)(_),a=g(E),l=g(b),p=g(S);let h,m,y,v,C;const w=(n,o,r)=>{const i=n&&n.innerHTML;if(!o)return void(r&&C&&a()&&l(i));const s=d(e.attrs);C&&m(C,s);const{options:c}=D(t),f=u(t,J,c);i&&(f.html=i),C=f.html?y(f):v(f),h(C,s),p(C)},O=()=>{(0,o.Y3)((()=>w(i.value,!0,!1)))},P=()=>{(0,o.Y3)((()=>w(i.value,!1,!0)))},T={setIconUrl:O,setIconRetinaUrl:O,setIconSize:O,setIconAnchor:O,setPopupAnchor:O,setTooltipAnchor:O,setShadowUrl:O,setShadowRetinaUrl:O,setShadowAnchor:O,setBgPos:O,setClassName:O,setHtml:O};return(0,o.bv)((async()=>{const{DomEvent:e,divIcon:o,icon:r}=s?f.L:await n.e(216).then(n.bind(n,6633));h=e.on,m=e.off,y=o,v=r,c(T,{},t),new MutationObserver(P).observe(i.value,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),O()})),{root:i}},render(){const t=this.$slots.default?this.$slots.default():void 0;return(0,o.h)("div",{ref:"root"},t)}}),{...x,opacity:{type:Number},alt:{type:String},interactive:{type:Boolean,default:void 0},crossOrigin:{type:Boolean,default:void 0},errorOverlayUrl:{type:String},zIndex:{type:Number},className:{type:String},url:{type:String,required:!0,custom:!0},bounds:{type:[Array,Object],required:!0,custom:!0}});(0,o.aZ)({name:"LImageOverlay",props:Q,setup(t,e){const i=(0,r.iH)(),s=(0,r.iH)(!1),a=(0,o.f3)(_),l=g(m),{options:p,methods:h}=((t,e,n)=>{const{options:o,methods:r}=M(t,e,n);return{options:u(t,Q,o),methods:{...r,setOpacity:t=>e.value.setOpacity(t),setUrl:t=>e.value.setUrl(t),setBounds:t=>e.value.setBounds(t),getBounds:()=>e.value.getBounds(),getElement:()=>e.value.getElement(),bringToFront:()=>e.value.bringToFront(),bringToBack:()=>e.value.bringToBack(),setZIndex:t=>e.value.setZIndex(t)}}})(t,i,e);return(0,o.bv)((async()=>{const{imageOverlay:u}=a?f.L:await n.e(216).then(n.bind(n,6633));i.value=(0,r.Xl)(u(t.url,t.bounds,p));const g=d(e.attrs);i.value.on(g),c(h,i.value,t),l({...t,...h,leafletObject:i.value}),s.value=!0,(0,o.Y3)((()=>e.emit("ready",i.value)))})),{ready:s,leafletObject:i}},render(){return A(this.ready,this.$slots)}}),(0,o.aZ)({props:$,setup(t,e){const i=(0,r.iH)(),s=(0,r.iH)(!1),a=(0,o.f3)(_),l=g(m),{methods:u}=z(t,i,e);return(0,o.bv)((async()=>{const{layerGroup:p}=a?f.L:await n.e(216).then(n.bind(n,6633));i.value=(0,r.Xl)(p(void 0,t.options));const h=d(e.attrs);i.value.on(h),c(u,i.value,t),l({...t,...u,leafletObject:i.value}),s.value=!0,(0,o.Y3)((()=>e.emit("ready",i.value)))})),{ready:s,leafletObject:i}},render(){return A(this.ready,this.$slots)}});function tt(t,e,n){var o,r,i;void 0===e&&(e=50),void 0===n&&(n={});var s=null!=(o=n.isImmediate)&&o,a=null!=(r=n.callback)&&r,l=n.maxWait,c=Date.now(),u=[];var d=function(){var n=[].slice.call(arguments),o=this;return new Promise((function(r,d){var p=s&&void 0===i;if(void 0!==i&&clearTimeout(i),i=setTimeout((function(){if(i=void 0,c=Date.now(),!s){var e=t.apply(o,n);a&&a(e),u.forEach((function(t){return(0,t.resolve)(e)})),u=[]}}),function(){if(void 0!==l){var t=Date.now()-c;if(t+e>=l)return l-t}return e}()),p){var h=t.apply(o,n);return a&&a(h),r(h)}u.push({resolve:r,reject:d})}))};return d.cancel=function(t){void 0!==i&&clearTimeout(i),u.forEach((function(e){return(0,e.reject)(t)})),u=[]},d}const et={...R,center:{type:[Object,Array]},bounds:{type:[Array,Object]},maxBounds:{type:[Array,Object]},zoom:{type:Number},minZoom:{type:Number},maxZoom:{type:Number},paddingBottomRight:{type:[Object,Array]},paddingTopLeft:{type:Object},padding:{type:Object},worldCopyJump:{type:Boolean,default:void 0},crs:{type:[String,Object]},maxBoundsViscosity:{type:Number},inertia:{type:Boolean,default:void 0},inertiaDeceleration:{type:Number},inertiaMaxSpeed:{type:Number},easeLinearity:{type:Number},zoomAnimation:{type:Boolean,default:void 0},zoomAnimationThreshold:{type:Number},fadeAnimation:{type:Boolean,default:void 0},markerZoomAnimation:{type:Boolean,default:void 0},noBlockingAnimations:{type:Boolean,default:void 0},useGlobalLeaflet:{type:Boolean,default:!0,custom:!0}},nt=(0,o.aZ)({emits:["ready","update:zoom","update:center","update:bounds"],props:et,setup(t,e){const i=(0,r.iH)(),a=(0,r.qj)({ready:!1,layersToAdd:[],layersInControl:[]}),{options:l}=D(t),g=u(t,et,l),E=p(m),b=p(y),S=p(v),w=p(C);(0,o.JJ)(_,t.useGlobalLeaflet);const O=(0,o.Fl)((()=>{const e={};return t.noBlockingAnimations&&(e.animate=!1),e})),P=(0,o.Fl)((()=>{const e=O.value;return t.padding&&(e.padding=t.padding),t.paddingTopLeft&&(e.paddingTopLeft=t.paddingTopLeft),t.paddingBottomRight&&(e.paddingBottomRight=t.paddingBottomRight),e})),T={moveend:tt((t=>{a.leafletRef&&(e.emit("update:zoom",a.leafletRef.getZoom()),e.emit("update:center",a.leafletRef.getCenter()),e.emit("update:bounds",a.leafletRef.getBounds()))})),overlayadd(t){const e=a.layersInControl.find((e=>e.name===t.name));e&&e.updateVisibleProp(!0)},overlayremove(t){const e=a.layersInControl.find((e=>e.name===t.name));e&&e.updateVisibleProp(!1)}};(0,o.bv)((async()=>{t.useGlobalLeaflet&&(f.L=f.L||await Promise.resolve().then(n.t.bind(n,5243,23)));const{map:s,CRS:l,Icon:u,latLngBounds:p,latLng:_,DomEvent:m,stamp:y}=t.useGlobalLeaflet?f.L:await n.e(216).then(n.bind(n,6633));try{g.beforeMapMount&&await g.beforeMapMount()}catch(t){console.error(`The following error occurred running the provided beforeMapMount hook ${t.message}`)}await(async t=>{const e=await Promise.all([n.e(216).then(n.t.bind(n,7852,17)),n.e(216).then(n.t.bind(n,8586,17)),n.e(216).then(n.t.bind(n,3498,17))]);delete t.Default.prototype._getIconUrl,t.Default.mergeOptions({iconRetinaUrl:e[0].default,iconUrl:e[1].default,shadowUrl:e[2].default})})(u);const v="string"==typeof g.crs?l[g.crs]:g.crs;g.crs=v||l.EPSG3857;const C={addLayer(t){void 0!==t.layerType&&(void 0===a.layerControl?a.layersToAdd.push(t):a.layersInControl.find((e=>y(e.leafletObject)===y(t.leafletObject)))||(a.layerControl.addLayer(t),a.layersInControl.push(t))),!1!==t.visible&&a.leafletRef.addLayer(t.leafletObject)},removeLayer(t){void 0!==t.layerType&&(void 0===a.layerControl?a.layersToAdd=a.layersToAdd.filter((e=>e.name!==t.name)):(a.layerControl.removeLayer(t.leafletObject),a.layersInControl=a.layersInControl.filter((e=>y(e.leafletObject)!==y(t.leafletObject))))),a.leafletRef.removeLayer(t.leafletObject)},registerLayerControl(t){a.layerControl=t,a.layersToAdd.forEach((t=>{a.layerControl.addLayer(t)})),a.layersToAdd=[],S(t)},registerControl(t){a.leafletRef.addControl(t.leafletObject)},setZoom(t){t!==a.leafletRef.getZoom()&&a.leafletRef.setZoom(t,O.value)},setCrs(t){const e=a.leafletRef.getBounds();a.leafletRef.options.crs=t,a.leafletRef.fitBounds(e,{animate:!1,padding:[0,0]})},fitBounds(t){a.leafletRef.fitBounds(t,P.value)},setBounds(t){if(!t)return;const e=p(t);e.isValid()&&!(a.lastSetBounds||a.leafletRef.getBounds()).equals(e,0)&&(a.lastSetBounds=e,a.leafletRef.fitBounds(e))},setCenter(t){if(null==t)return;const e=_(t),n=a.lastSetCenter||a.leafletRef.getCenter();(n.lat!==e.lat||n.lng!==e.lng)&&(a.lastSetCenter=e,a.leafletRef.panTo(e,O.value))}};h(E,C.addLayer),h(b,C.removeLayer),h(S,C.registerControl),h(w,C.registerLayerControl),a.leafletRef=(0,r.Xl)(s(i.value,g)),c(C,a.leafletRef,t);const R=d(e.attrs);((t,e)=>{for(const n of Object.keys(e))t.on(n,e[n])})(a.leafletRef,T),m.on(a.leafletRef.getContainer(),R),a.ready=!0,(0,o.Y3)((()=>e.emit("ready",a.leafletRef)))})),(0,o.Jd)((()=>{s(T),a.leafletRef&&(a.leafletRef.off(),a.leafletRef.remove())}));const R=(0,o.Fl)((()=>a.leafletRef)),x=(0,o.Fl)((()=>a.ready));return{root:i,ready:x,leafletObject:R}},render(){return(0,o.h)("div",{style:{width:"100%",height:"100%"},ref:"root"},this.ready&&this.$slots.default?this.$slots.default():{})}}),ot=["Symbol(Comment)","Symbol(Text)"],rt=["LTooltip","LPopup"],it={...x,draggable:{type:Boolean,default:void 0},icon:{type:[Object]},zIndexOffset:{type:Number},latLng:{type:[Object,Array],custom:!0,required:!0}};function st(t){return!(ot.includes(t.type.toString())||rt.includes(t.type.name))}const at=(0,o.aZ)({name:"LMarker",props:it,setup(t,e){const i=(0,r.iH)(),a=(0,r.iH)(!1),p=(0,o.f3)(_),h=g(m);(0,o.JJ)(E,(()=>{var t;return!(null==(t=i.value)||!t.getElement())})),(0,o.JJ)(b,(t=>{var e,n;const o=l(null==(e=i.value)?void 0:e.getElement)&&(null==(n=i.value)?void 0:n.getElement());o&&(o.innerHTML=t)})),(0,o.JJ)(S,(t=>{var e;return(null==(e=i.value)?void 0:e.setIcon)&&i.value.setIcon(t)}));const{options:y,methods:v}=((t,e,n)=>{const{options:o,methods:r}=M(t,e,n);return{options:u(t,it,o),methods:{...r,setDraggable(t){e.value.dragging&&(t?e.value.dragging.enable():e.value.dragging.disable())},latLngSync(t){n.emit("update:latLng",t.latlng),n.emit("update:lat-lng",t.latlng)},setLatLng(t){if(null!=t&&e.value){const n=e.value.getLatLng();(!n||!n.equals(t))&&e.value.setLatLng(t)}}}}})(t,i,e),C={moveHandler:tt(v.latLngSync)};return(0,o.bv)((async()=>{const{marker:s,divIcon:l}=p?f.L:await n.e(216).then(n.bind(n,6633));((t,e)=>{const n=e.slots.default&&e.slots.default();return n&&n.length&&n.some(st)})(0,e)&&(y.icon=l({className:""})),i.value=(0,r.Xl)(s(t.latLng,y));const u=d(e.attrs);i.value.on(u),i.value.on("move",C.moveHandler),c(v,i.value,t),h({...t,...v,leafletObject:i.value}),a.value=!0,(0,o.Y3)((()=>e.emit("ready",i.value)))})),(0,o.Jd)((()=>s(C))),{ready:a,leafletObject:i}},render(){return A(this.ready,this.$slots)}}),lt={...I,smoothFactor:{type:Number},noClip:{type:Boolean,default:void 0},latLngs:{type:Array,required:!0,custom:!0}},ct=(t,e,n)=>{const{options:o,methods:r}=N(t,e,n);return{options:u(t,lt,o),methods:{...r,setSmoothFactor(t){e.value.setStyle({smoothFactor:t})},setNoClip(t){e.value.setStyle({noClip:t})},addLatLng(t){e.value.addLatLng(t)}}}},ut={...lt},dt=(t,e,n)=>{const{options:o,methods:r}=ct(t,e,n);return{options:u(t,ut,o),methods:{...r,toGeoJSON:t=>e.value.toGeoJSON(t)}}},pt=((0,o.aZ)({name:"LPolygon",props:ut,setup(t,e){const i=(0,r.iH)(),s=(0,r.iH)(!1),a=(0,o.f3)(_),l=g(m),{options:u,methods:p}=dt(t,i,e);return(0,o.bv)((async()=>{const{polygon:h}=a?f.L:await n.e(216).then(n.bind(n,6633));i.value=(0,r.Xl)(h(t.latLngs,u));const g=d(e.attrs);i.value.on(g),c(p,i.value,t),l({...t,...p,leafletObject:i.value}),s.value=!0,(0,o.Y3)((()=>e.emit("ready",i.value)))})),{ready:s,leafletObject:i}},render(){return A(this.ready,this.$slots)}}),(0,o.aZ)({name:"LPolyline",props:lt,setup(t,e){const i=(0,r.iH)(),s=(0,r.iH)(!1),a=(0,o.f3)(_),l=g(m),{options:u,methods:p}=ct(t,i,e);return(0,o.bv)((async()=>{const{polyline:h}=a?f.L:await n.e(216).then(n.bind(n,6633));i.value=(0,r.Xl)(h(t.latLngs,u));const g=d(e.attrs);i.value.on(g),c(p,i.value,t),l({...t,...p,leafletObject:i.value}),s.value=!0,(0,o.Y3)((()=>e.emit("ready",i.value)))})),{ready:s,leafletObject:i}},render(){return A(this.ready,this.$slots)}})),ht={...R,content:{type:String,default:null}},ft=(t,e)=>{const{options:n,methods:o}=D(t);return{options:n,methods:{...o,setContent(t){e.value&&null!=t&&e.value.setContent(t)}}}},gt=t=>t.default?(0,o.h)("div",{ref:"root"},t.default()):null,_t={...ht,latLng:{type:[Object,Array],default:()=>[]}},mt=((0,o.aZ)({name:"LPopup",props:_t,setup(t,e){const i=(0,r.iH)(),s=(0,r.iH)(null),a=(0,o.f3)(_),l=g(w),u=g(P),{options:p,methods:h}=((t,e)=>{const{options:n,methods:o}=ft(t,e);return{options:n,methods:o}})(t,i);return(0,o.bv)((async()=>{const{popup:u}=a?f.L:await n.e(216).then(n.bind(n,6633));i.value=(0,r.Xl)(u(p)),void 0!==t.latLng&&i.value.setLatLng(t.latLng),c(h,i.value,t);const g=d(e.attrs);i.value.on(g),i.value.setContent(t.content||s.value||""),l(i.value),(0,o.Y3)((()=>e.emit("ready",i.value)))})),(0,o.Jd)((()=>{u()})),{root:s,leafletObject:i}},render(){return gt(this.$slots)}}),{...ut,latLngs:{...ut.latLngs,required:!1},bounds:{type:Object,custom:!0}}),yt=((0,o.aZ)({name:"LRectangle",props:mt,setup(t,e){const i=(0,r.iH)(),s=(0,r.iH)(!1),a=(0,o.f3)(_),l=g(m),{options:p,methods:h}=((t,e,n)=>{const{options:o,methods:r}=dt(t,e,n);return{options:u(t,mt,o),methods:{...r,setBounds(t){e.value.setBounds(t)},setLatLngs(t){e.value.setBounds(t)}}}})(t,i,e);return(0,o.bv)((async()=>{const{rectangle:u,latLngBounds:g}=a?f.L:await n.e(216).then(n.bind(n,6633)),_=t.bounds?g(t.bounds):g(t.latLngs||[]);i.value=(0,r.Xl)(u(_,p));const m=d(e.attrs);i.value.on(m),c(h,i.value,t),l({...t,...h,leafletObject:i.value}),s.value=!0,(0,o.Y3)((()=>e.emit("ready",i.value)))})),{ready:s,leafletObject:i}},render(){return A(this.ready,this.$slots)}}),{...Z,tms:{type:Boolean,default:void 0},subdomains:{type:[String,Array],validator:t=>"string"==typeof t||!!Array.isArray(t)&&t.every((t=>"string"==typeof t))},detectRetina:{type:Boolean,default:void 0},url:{type:String,required:!0,custom:!0}}),vt=(t,e,n)=>{const{options:o,methods:r}=q(t,e,n);return{options:u(t,yt,o),methods:{...r}}},Ct=(0,o.aZ)({props:yt,setup(t,e){const i=(0,r.iH)(),s=(0,o.f3)(_),a=g(m),{options:l,methods:u}=vt(t,i,e);return(0,o.bv)((async()=>{const{tileLayer:p}=s?f.L:await n.e(216).then(n.bind(n,6633));i.value=(0,r.Xl)(p(t.url,l));const h=d(e.attrs);i.value.on(h),c(u,i.value,t),a({...t,...u,leafletObject:i.value}),(0,o.Y3)((()=>e.emit("ready",i.value)))})),{leafletObject:i}},render:()=>null}),Et={...ht},bt=(0,o.aZ)({name:"LTooltip",props:Et,setup(t,e){const i=(0,r.iH)(),s=(0,r.iH)(null),a=(0,o.f3)(_),l=g(O),{options:u,methods:p}=((t,e)=>{const{options:n,methods:r}=ft(t,e),i=g(T);return(0,o.Jd)((()=>{i()})),{options:n,methods:r}})(t,i);return(0,o.bv)((async()=>{const{tooltip:h}=a?f.L:await n.e(216).then(n.bind(n,6633));i.value=(0,r.Xl)(h(u)),c(p,i.value,t);const g=d(e.attrs);i.value.on(g),i.value.setContent(t.content||s.value||""),l(i.value),(0,o.Y3)((()=>e.emit("ready",i.value)))})),{root:s,leafletObject:i}},render(){return gt(this.$slots)}}),St={...yt,layers:{type:String,required:!0},styles:{type:String},format:{type:String},transparent:{type:Boolean,default:void 0},version:{type:String},crs:{type:Object},uppercase:{type:Boolean,default:void 0}};(0,o.aZ)({props:St,setup(t,e){const i=(0,r.iH)(),s=(0,o.f3)(_),a=g(m),{options:l,methods:p}=((t,e,n)=>{const{options:o,methods:r}=vt(t,e,n);return{options:u(t,St,o),methods:{...r}}})(t,i,e);return(0,o.bv)((async()=>{const{tileLayer:u}=s?f.L:await n.e(216).then(n.bind(n,6633));i.value=(0,r.Xl)(u.wms(t.url,l));const h=d(e.attrs);i.value.on(h),c(p,i.value,t),a({...t,...p,leafletObject:i.value}),(0,o.Y3)((()=>e.emit("ready",i.value)))})),{leafletObject:i}},render:()=>null})},5003:(t,e,n)=>{"use strict";n.r(e),n.d(e,{BASE_TRANSITION:()=>d,CAMELIZE:()=>N,CAPITALIZE:()=>k,CREATE_BLOCK:()=>h,CREATE_COMMENT:()=>m,CREATE_ELEMENT_BLOCK:()=>f,CREATE_ELEMENT_VNODE:()=>_,CREATE_SLOTS:()=>T,CREATE_STATIC:()=>v,CREATE_TEXT:()=>y,CREATE_VNODE:()=>g,DOMDirectiveTransforms:()=>Do,DOMNodeTransforms:()=>Ro,FRAGMENT:()=>a,GUARD_REACTIVE_PROPS:()=>L,IS_MEMO_SAME:()=>$,IS_REF:()=>W,KEEP_ALIVE:()=>u,MERGE_PROPS:()=>D,NORMALIZE_CLASS:()=>x,NORMALIZE_PROPS:()=>A,NORMALIZE_STYLE:()=>M,OPEN_BLOCK:()=>p,POP_SCOPE_ID:()=>U,PUSH_SCOPE_ID:()=>B,RENDER_LIST:()=>O,RENDER_SLOT:()=>P,RESOLVE_COMPONENT:()=>C,RESOLVE_DIRECTIVE:()=>b,RESOLVE_DYNAMIC_COMPONENT:()=>E,RESOLVE_FILTER:()=>S,SET_BLOCK_TRACKING:()=>G,SUSPENSE:()=>c,TELEPORT:()=>l,TO_DISPLAY_STRING:()=>R,TO_HANDLERS:()=>I,TO_HANDLER_KEY:()=>F,TRANSITION:()=>fo,TRANSITION_GROUP:()=>go,UNREF:()=>V,V_MODEL_CHECKBOX:()=>so,V_MODEL_DYNAMIC:()=>co,V_MODEL_RADIO:()=>io,V_MODEL_SELECT:()=>lo,V_MODEL_TEXT:()=>ao,V_ON_WITH_KEYS:()=>po,V_ON_WITH_MODIFIERS:()=>uo,V_SHOW:()=>ho,WITH_CTX:()=>j,WITH_DIRECTIVES:()=>w,WITH_MEMO:()=>H,advancePositionWithClone:()=>Ot,advancePositionWithMutation:()=>Pt,assert:()=>Tt,baseCompile:()=>oo,baseParse:()=>te,buildDirectiveArgs:()=>In,buildProps:()=>Mn,buildSlots:()=>wn,checkCompatEnabled:()=>Zt,compile:()=>xo,createArrayExpression:()=>X,createAssignmentExpression:()=>ut,createBlockStatement:()=>at,createCacheExpression:()=>st,createCallExpression:()=>ot,createCompilerError:()=>s,createCompoundExpression:()=>nt,createConditionalExpression:()=>it,createDOMCompilerError:()=>Eo,createForLoopParams:()=>vn,createFunctionExpression:()=>rt,createIfStatement:()=>ct,createInterpolation:()=>et,createObjectExpression:()=>J,createObjectProperty:()=>Q,createReturnStatement:()=>pt,createRoot:()=>Z,createSequenceExpression:()=>dt,createSimpleExpression:()=>tt,createStructuralDirectiveTransform:()=>ke,createTemplateLiteral:()=>lt,createTransformContext:()=>Le,createVNodeCall:()=>q,extractIdentifiers:()=>Qe,findDir:()=>Rt,findProp:()=>Dt,generate:()=>Ue,generateCodeFrame:()=>o.generateCodeFrame,getBaseTransformPreset:()=>no,getConstantType:()=>Te,getInnerRange:()=>wt,getMemoedVNodeCall:()=>Ht,getVNodeBlockHelper:()=>Ft,getVNodeHelper:()=>kt,hasDynamicKeyVBind:()=>Mt,hasScopeRef:()=>Wt,helperNameMap:()=>z,injectProp:()=>Ut,isBuiltInType:()=>ft,isCoreComponent:()=>gt,isFunctionType:()=>tn,isInDestructureAssignment:()=>qe,isMemberExpression:()=>St,isMemberExpressionBrowser:()=>Et,isMemberExpressionNode:()=>bt,isReferencedIdentifier:()=>Ze,isSimpleIdentifier:()=>mt,isSlotOutlet:()=>Nt,isStaticArgOf:()=>xt,isStaticExp:()=>ht,isStaticProperty:()=>en,isStaticPropertyKey:()=>nn,isTemplateNode:()=>It,isText:()=>At,isVSlot:()=>Lt,locStub:()=>Y,makeBlock:()=>$t,noopDirectiveTransform:()=>ro,parse:()=>Mo,parserOptions:()=>yo,processExpression:()=>rn,processFor:()=>hn,processIf:()=>ln,processSlotOutlet:()=>Bn,registerRuntimeHelpers:()=>K,resolveComponentType:()=>xn,stringifyExpression:()=>sn,toValidAssetId:()=>Vt,trackSlotScopes:()=>En,trackVForSlotScopes:()=>bn,transform:()=>Ie,transformBind:()=>Vn,transformElement:()=>Dn,transformExpression:()=>on,transformModel:()=>Kn,transformOn:()=>jn,transformStyle:()=>vo,traverseNode:()=>Ne,walkBlockDeclarations:()=>Je,walkFunctionParams:()=>Xe,walkIdentifiers:()=>Ye,warnDeprecation:()=>qt});var o=n(3577);function r(t){throw t}function i(t){}function s(t,e,n,o){const r=new SyntaxError(String(t));return r.code=t,r.loc=e,r}const a=Symbol(""),l=Symbol(""),c=Symbol(""),u=Symbol(""),d=Symbol(""),p=Symbol(""),h=Symbol(""),f=Symbol(""),g=Symbol(""),_=Symbol(""),m=Symbol(""),y=Symbol(""),v=Symbol(""),C=Symbol(""),E=Symbol(""),b=Symbol(""),S=Symbol(""),w=Symbol(""),O=Symbol(""),P=Symbol(""),T=Symbol(""),R=Symbol(""),D=Symbol(""),x=Symbol(""),M=Symbol(""),A=Symbol(""),L=Symbol(""),I=Symbol(""),N=Symbol(""),k=Symbol(""),F=Symbol(""),G=Symbol(""),B=Symbol(""),U=Symbol(""),j=Symbol(""),V=Symbol(""),W=Symbol(""),H=Symbol(""),$=Symbol(""),z={[a]:"Fragment",[l]:"Teleport",[c]:"Suspense",[u]:"KeepAlive",[d]:"BaseTransition",[p]:"openBlock",[h]:"createBlock",[f]:"createElementBlock",[g]:"createVNode",[_]:"createElementVNode",[m]:"createCommentVNode",[y]:"createTextVNode",[v]:"createStaticVNode",[C]:"resolveComponent",[E]:"resolveDynamicComponent",[b]:"resolveDirective",[S]:"resolveFilter",[w]:"withDirectives",[O]:"renderList",[P]:"renderSlot",[T]:"createSlots",[R]:"toDisplayString",[D]:"mergeProps",[x]:"normalizeClass",[M]:"normalizeStyle",[A]:"normalizeProps",[L]:"guardReactiveProps",[I]:"toHandlers",[N]:"camelize",[k]:"capitalize",[F]:"toHandlerKey",[G]:"setBlockTracking",[B]:"pushScopeId",[U]:"popScopeId",[j]:"withCtx",[V]:"unref",[W]:"isRef",[H]:"withMemo",[$]:"isMemoSame"};function K(t){Object.getOwnPropertySymbols(t).forEach((e=>{z[e]=t[e]}))}const Y={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function Z(t,e=Y){return{type:0,children:t,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:e}}function q(t,e,n,o,r,i,s,a=!1,l=!1,c=!1,u=Y){return t&&(a?(t.helper(p),t.helper(Ft(t.inSSR,c))):t.helper(kt(t.inSSR,c)),s&&t.helper(w)),{type:13,tag:e,props:n,children:o,patchFlag:r,dynamicProps:i,directives:s,isBlock:a,disableTracking:l,isComponent:c,loc:u}}function X(t,e=Y){return{type:17,loc:e,elements:t}}function J(t,e=Y){return{type:15,loc:e,properties:t}}function Q(t,e){return{type:16,loc:Y,key:(0,o.isString)(t)?tt(t,!0):t,value:e}}function tt(t,e=!1,n=Y,o=0){return{type:4,loc:n,content:t,isStatic:e,constType:e?3:o}}function et(t,e){return{type:5,loc:e,content:(0,o.isString)(t)?tt(t,!1,e):t}}function nt(t,e=Y){return{type:8,loc:e,children:t}}function ot(t,e=[],n=Y){return{type:14,loc:n,callee:t,arguments:e}}function rt(t,e=void 0,n=!1,o=!1,r=Y){return{type:18,params:t,returns:e,newline:n,isSlot:o,loc:r}}function it(t,e,n,o=!0){return{type:19,test:t,consequent:e,alternate:n,newline:o,loc:Y}}function st(t,e,n=!1){return{type:20,index:t,value:e,isVNode:n,loc:Y}}function at(t){return{type:21,body:t,loc:Y}}function lt(t){return{type:22,elements:t,loc:Y}}function ct(t,e,n){return{type:23,test:t,consequent:e,alternate:n,loc:Y}}function ut(t,e){return{type:24,left:t,right:e,loc:Y}}function dt(t){return{type:25,expressions:t,loc:Y}}function pt(t){return{type:26,returns:t,loc:Y}}const ht=t=>4===t.type&&t.isStatic,ft=(t,e)=>t===e||t===(0,o.hyphenate)(e);function gt(t){return ft(t,"Teleport")?l:ft(t,"Suspense")?c:ft(t,"KeepAlive")?u:ft(t,"BaseTransition")?d:void 0}const _t=/^\d|[^\$\w]/,mt=t=>!_t.test(t),yt=/[A-Za-z_$\xA0-\uFFFF]/,vt=/[\.\?\w$\xA0-\uFFFF]/,Ct=/\s+[.[]\s*|\s*[.[]\s+/g,Et=t=>{t=t.trim().replace(Ct,(t=>t.trim()));let e=0,n=[],o=0,r=0,i=null;for(let s=0;s<t.length;s++){const a=t.charAt(s);switch(e){case 0:if("["===a)n.push(e),e=1,o++;else if("("===a)n.push(e),e=2,r++;else if(!(0===s?yt:vt).test(a))return!1;break;case 1:"'"===a||'"'===a||"`"===a?(n.push(e),e=3,i=a):"["===a?o++:"]"===a&&(--o||(e=n.pop()));break;case 2:if("'"===a||'"'===a||"`"===a)n.push(e),e=3,i=a;else if("("===a)r++;else if(")"===a){if(s===t.length-1)return!1;--r||(e=n.pop())}break;case 3:a===i&&(e=n.pop(),i=null)}}return!o&&!r},bt=o.NOOP,St=Et;function wt(t,e,n){const o={source:t.source.slice(e,e+n),start:Ot(t.start,t.source,e),end:t.end};return null!=n&&(o.end=Ot(t.start,t.source,e+n)),o}function Ot(t,e,n=e.length){return Pt((0,o.extend)({},t),e,n)}function Pt(t,e,n=e.length){let o=0,r=-1;for(let t=0;t<n;t++)10===e.charCodeAt(t)&&(o++,r=t);return t.offset+=n,t.line+=o,t.column=-1===r?t.column+n:n-r,t}function Tt(t,e){if(!t)throw new Error(e||"unexpected compiler condition")}function Rt(t,e,n=!1){for(let r=0;r<t.props.length;r++){const i=t.props[r];if(7===i.type&&(n||i.exp)&&((0,o.isString)(e)?i.name===e:e.test(i.name)))return i}}function Dt(t,e,n=!1,o=!1){for(let r=0;r<t.props.length;r++){const i=t.props[r];if(6===i.type){if(n)continue;if(i.name===e&&(i.value||o))return i}else if("bind"===i.name&&(i.exp||o)&&xt(i.arg,e))return i}}function xt(t,e){return!(!t||!ht(t)||t.content!==e)}function Mt(t){return t.props.some((t=>!(7!==t.type||"bind"!==t.name||t.arg&&4===t.arg.type&&t.arg.isStatic)))}function At(t){return 5===t.type||2===t.type}function Lt(t){return 7===t.type&&"slot"===t.name}function It(t){return 1===t.type&&3===t.tagType}function Nt(t){return 1===t.type&&2===t.tagType}function kt(t,e){return t||e?g:_}function Ft(t,e){return t||e?h:f}const Gt=new Set([A,L]);function Bt(t,e=[]){if(t&&!(0,o.isString)(t)&&14===t.type){const n=t.callee;if(!(0,o.isString)(n)&&Gt.has(n))return Bt(t.arguments[0],e.concat(t))}return[t,e]}function Ut(t,e,n){let r,i,s=13===t.type?t.props:t.arguments[2],a=[];if(s&&!(0,o.isString)(s)&&14===s.type){const t=Bt(s);s=t[0],a=t[1],i=a[a.length-1]}if(null==s||(0,o.isString)(s))r=J([e]);else if(14===s.type){const t=s.arguments[0];(0,o.isString)(t)||15!==t.type?s.callee===I?r=ot(n.helper(D),[J([e]),s]):s.arguments.unshift(J([e])):jt(e,t)||t.properties.unshift(e),!r&&(r=s)}else 15===s.type?(jt(e,s)||s.properties.unshift(e),r=s):(r=ot(n.helper(D),[J([e]),s]),i&&i.callee===L&&(i=a[a.length-2]));13===t.type?i?i.arguments[0]=r:t.props=r:i?i.arguments[0]=r:t.arguments[2]=r}function jt(t,e){let n=!1;if(4===t.key.type){const o=t.key.content;n=e.properties.some((t=>4===t.key.type&&t.key.content===o))}return n}function Vt(t,e){return`_${e}_${t.replace(/[^\w]/g,((e,n)=>"-"===e?"_":t.charCodeAt(n).toString()))}`}function Wt(t,e){if(!t||0===Object.keys(e).length)return!1;switch(t.type){case 1:for(let n=0;n<t.props.length;n++){const o=t.props[n];if(7===o.type&&(Wt(o.arg,e)||Wt(o.exp,e)))return!0}return t.children.some((t=>Wt(t,e)));case 11:return!!Wt(t.source,e)||t.children.some((t=>Wt(t,e)));case 9:return t.branches.some((t=>Wt(t,e)));case 10:return!!Wt(t.condition,e)||t.children.some((t=>Wt(t,e)));case 4:return!t.isStatic&&mt(t.content)&&!!e[t.content];case 8:return t.children.some((t=>(0,o.isObject)(t)&&Wt(t,e)));case 5:case 12:return Wt(t.content,e);default:return!1}}function Ht(t){return 14===t.type&&t.callee===H?t.arguments[1].returns:t}function $t(t,{helper:e,removeHelper:n,inSSR:o}){t.isBlock||(t.isBlock=!0,n(kt(o,t.isComponent)),e(p),e(Ft(o,t.isComponent)))}const zt={COMPILER_IS_ON_ELEMENT:{message:'Platform-native elements with "is" prop will no longer be treated as components in Vue 3 unless the "is" value is explicitly prefixed with "vue:".',link:"https://v3-migration.vuejs.org/breaking-changes/custom-elements-interop.html"},COMPILER_V_BIND_SYNC:{message:t=>`.sync modifier for v-bind has been removed. Use v-model with argument instead. \`v-bind:${t}.sync\` should be changed to \`v-model:${t}\`.`,link:"https://v3-migration.vuejs.org/breaking-changes/v-model.html"},COMPILER_V_BIND_PROP:{message:".prop modifier for v-bind has been removed and no longer necessary. Vue 3 will automatically set a binding as DOM property when appropriate."},COMPILER_V_BIND_OBJECT_ORDER:{message:'v-bind="obj" usage is now order sensitive and behaves like JavaScript object spread: it will now overwrite an existing non-mergeable attribute that appears before v-bind in the case of conflict. To retain 2.x behavior, move v-bind to make it the first attribute. You can also suppress this warning if the usage is intended.',link:"https://v3-migration.vuejs.org/breaking-changes/v-bind.html"},COMPILER_V_ON_NATIVE:{message:".native modifier for v-on has been removed as is no longer necessary.",link:"https://v3-migration.vuejs.org/breaking-changes/v-on-native-modifier-removed.html"},COMPILER_V_IF_V_FOR_PRECEDENCE:{message:"v-if / v-for precedence when used on the same element has changed in Vue 3: v-if now takes higher precedence and will no longer have access to v-for scope variables. It is best to avoid the ambiguity with <template> tags or use a computed property that filters v-for data source.",link:"https://v3-migration.vuejs.org/breaking-changes/v-if-v-for.html"},COMPILER_NATIVE_TEMPLATE:{message:"<template> with no special directives will render as a native template element instead of its inner content in Vue 3."},COMPILER_INLINE_TEMPLATE:{message:'"inline-template" has been removed in Vue 3.',link:"https://v3-migration.vuejs.org/breaking-changes/inline-template-attribute.html"},COMPILER_FILTER:{message:'filters have been removed in Vue 3. The "|" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.',link:"https://v3-migration.vuejs.org/breaking-changes/filters.html"}};function Kt(t,e){const n=e.options?e.options.compatConfig:e.compatConfig,o=n&&n[t];return"MODE"===t?o||3:o}function Yt(t,e){const n=Kt("MODE",e),o=Kt(t,e);return 3===n?!0===o:!1!==o}function Zt(t,e,n,...o){return Yt(t,e)}function qt(t,e,n,...o){if("suppress-warning"===Kt(t,e))return;const{message:r,link:i}=zt[t],s=`(deprecation ${t}) ${"function"==typeof r?r(...o):r}${i?`\n  Details: ${i}`:""}`,a=new SyntaxError(s);a.code=t,n&&(a.loc=n),e.onWarn(a)}const Xt=/&(gt|lt|amp|apos|quot);/g,Jt={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},Qt={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:o.NO,isPreTag:o.NO,isCustomElement:o.NO,decodeEntities:t=>t.replace(Xt,((t,e)=>Jt[e])),onError:r,onWarn:i,comments:!1};function te(t,e={}){const n=function(t,e){const n=(0,o.extend)({},Qt);let r;for(r in e)n[r]=void 0===e[r]?Qt[r]:e[r];return{options:n,column:1,line:1,offset:0,originalSource:t,source:t,inPre:!1,inVPre:!1,onWarn:n.onWarn}}(t,e),r=fe(n);return Z(ee(n,0,[]),ge(n,r))}function ee(t,e,n){const r=_e(n),i=r?r.ns:0,s=[];for(;!be(t,e,n);){const a=t.source;let l;if(0===e||1===e)if(!t.inVPre&&me(a,t.options.delimiters[0]))l=de(t,e);else if(0===e&&"<"===a[0])if(1===a.length)Ee(t,5,1);else if("!"===a[1])me(a,"\x3c!--")?l=re(t):me(a,"<!DOCTYPE")?l=ie(t):me(a,"<![CDATA[")?0!==i?l=oe(t,n):(Ee(t,1),l=ie(t)):(Ee(t,11),l=ie(t));else if("/"===a[1])if(2===a.length)Ee(t,5,2);else{if(">"===a[2]){Ee(t,14,2),ye(t,3);continue}if(/[a-z]/i.test(a[2])){Ee(t,23),le(t,1,r);continue}Ee(t,12,2),l=ie(t)}else/[a-z]/i.test(a[1])?(l=se(t,n),Yt("COMPILER_NATIVE_TEMPLATE",t)&&l&&"template"===l.tag&&!l.props.some((t=>7===t.type&&ae(t.name)))&&(l=l.children)):"?"===a[1]?(Ee(t,21,1),l=ie(t)):Ee(t,12,1);if(l||(l=pe(t,e)),(0,o.isArray)(l))for(let t=0;t<l.length;t++)ne(s,l[t]);else ne(s,l)}let a=!1;if(2!==e&&1!==e){const e="preserve"!==t.options.whitespace;for(let n=0;n<s.length;n++){const o=s[n];if(2===o.type)if(t.inPre)o.content=o.content.replace(/\r\n/g,"\n");else if(/[^\t\r\n\f ]/.test(o.content))e&&(o.content=o.content.replace(/[\t\r\n\f ]+/g," "));else{const t=s[n-1],r=s[n+1];!t||!r||e&&(3===t.type&&3===r.type||3===t.type&&1===r.type||1===t.type&&3===r.type||1===t.type&&1===r.type&&/[\r\n]/.test(o.content))?(a=!0,s[n]=null):o.content=" "}else 3!==o.type||t.options.comments||(a=!0,s[n]=null)}if(t.inPre&&r&&t.options.isPreTag(r.tag)){const t=s[0];t&&2===t.type&&(t.content=t.content.replace(/^\r?\n/,""))}}return a?s.filter(Boolean):s}function ne(t,e){if(2===e.type){const n=_e(t);if(n&&2===n.type&&n.loc.end.offset===e.loc.start.offset)return n.content+=e.content,n.loc.end=e.loc.end,void(n.loc.source+=e.loc.source)}t.push(e)}function oe(t,e){ye(t,9);const n=ee(t,3,e);return 0===t.source.length?Ee(t,6):ye(t,3),n}function re(t){const e=fe(t);let n;const o=/--(\!)?>/.exec(t.source);if(o){o.index<=3&&Ee(t,0),o[1]&&Ee(t,10),n=t.source.slice(4,o.index);const e=t.source.slice(0,o.index);let r=1,i=0;for(;-1!==(i=e.indexOf("\x3c!--",r));)ye(t,i-r+1),i+4<e.length&&Ee(t,16),r=i+1;ye(t,o.index+o[0].length-r+1)}else n=t.source.slice(4),ye(t,t.source.length),Ee(t,7);return{type:3,content:n,loc:ge(t,e)}}function ie(t){const e=fe(t),n="?"===t.source[1]?1:2;let o;const r=t.source.indexOf(">");return-1===r?(o=t.source.slice(n),ye(t,t.source.length)):(o=t.source.slice(n,r),ye(t,r+1)),{type:3,content:o,loc:ge(t,e)}}function se(t,e){const n=t.inPre,o=t.inVPre,r=_e(e),i=le(t,0,r),s=t.inPre&&!n,a=t.inVPre&&!o;if(i.isSelfClosing||t.options.isVoidTag(i.tag))return s&&(t.inPre=!1),a&&(t.inVPre=!1),i;e.push(i);const l=t.options.getTextMode(i,r),c=ee(t,l,e);e.pop();{const e=i.props.find((t=>6===t.type&&"inline-template"===t.name));if(e&&Zt("COMPILER_INLINE_TEMPLATE",t,e.loc)){const n=ge(t,i.loc.end);e.value={type:2,content:n.source,loc:n}}}if(i.children=c,Se(t.source,i.tag))le(t,1,r);else if(Ee(t,24,0,i.loc.start),0===t.source.length&&"script"===i.tag.toLowerCase()){const e=c[0];e&&me(e.loc.source,"\x3c!--")&&Ee(t,8)}return i.loc=ge(t,i.loc.start),s&&(t.inPre=!1),a&&(t.inVPre=!1),i}const ae=(0,o.makeMap)("if,else,else-if,for,slot");function le(t,e,n){const r=fe(t),i=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(t.source),s=i[1],a=t.options.getNamespace(s,n);ye(t,i[0].length),ve(t);const l=fe(t),c=t.source;t.options.isPreTag(s)&&(t.inPre=!0);let u=ce(t,e);0===e&&!t.inVPre&&u.some((t=>7===t.type&&"pre"===t.name))&&(t.inVPre=!0,(0,o.extend)(t,l),t.source=c,u=ce(t,e).filter((t=>"v-pre"!==t.name)));let d=!1;if(0===t.source.length?Ee(t,9):(d=me(t.source,"/>"),1===e&&d&&Ee(t,4),ye(t,d?2:1)),1===e)return;let p=0;return t.inVPre||("slot"===s?p=2:"template"===s?u.some((t=>7===t.type&&ae(t.name)))&&(p=3):function(t,e,n){const o=n.options;if(o.isCustomElement(t))return!1;if("component"===t||/^[A-Z]/.test(t)||gt(t)||o.isBuiltInComponent&&o.isBuiltInComponent(t)||o.isNativeTag&&!o.isNativeTag(t))return!0;for(let t=0;t<e.length;t++){const o=e[t];if(6===o.type){if("is"===o.name&&o.value){if(o.value.content.startsWith("vue:"))return!0;if(Zt("COMPILER_IS_ON_ELEMENT",n,o.loc))return!0}}else{if("is"===o.name)return!0;if("bind"===o.name&&xt(o.arg,"is")&&Zt("COMPILER_IS_ON_ELEMENT",n,o.loc))return!0}}}(s,u,t)&&(p=1)),{type:1,ns:a,tag:s,tagType:p,props:u,isSelfClosing:d,children:[],loc:ge(t,r),codegenNode:void 0}}function ce(t,e){const n=[],o=new Set;for(;t.source.length>0&&!me(t.source,">")&&!me(t.source,"/>");){if(me(t.source,"/")){Ee(t,22),ye(t,1),ve(t);continue}1===e&&Ee(t,3);const r=ue(t,o);6===r.type&&r.value&&"class"===r.name&&(r.value.content=r.value.content.replace(/\s+/g," ").trim()),0===e&&n.push(r),/^[^\t\r\n\f />]/.test(t.source)&&Ee(t,15),ve(t)}return n}function ue(t,e){const n=fe(t),o=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(t.source)[0];e.has(o)&&Ee(t,2),e.add(o),"="===o[0]&&Ee(t,19);{const e=/["'<]/g;let n;for(;n=e.exec(o);)Ee(t,17,n.index)}let r;ye(t,o.length),/^[\t\r\n\f ]*=/.test(t.source)&&(ve(t),ye(t,1),ve(t),r=function(t){const e=fe(t);let n;const o=t.source[0],r='"'===o||"'"===o;if(r){ye(t,1);const e=t.source.indexOf(o);-1===e?n=he(t,t.source.length,4):(n=he(t,e,4),ye(t,1))}else{const e=/^[^\t\r\n\f >]+/.exec(t.source);if(!e)return;const o=/["'<=`]/g;let r;for(;r=o.exec(e[0]);)Ee(t,18,r.index);n=he(t,e[0].length,4)}return{content:n,isQuoted:r,loc:ge(t,e)}}(t),r||Ee(t,13));const i=ge(t,n);if(!t.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(o)){const e=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(o);let s,a=me(o,"."),l=e[1]||(a||me(o,":")?"bind":me(o,"@")?"on":"slot");if(e[2]){const r="slot"===l,i=o.lastIndexOf(e[2]),a=ge(t,Ce(t,n,i),Ce(t,n,i+e[2].length+(r&&e[3]||"").length));let c=e[2],u=!0;c.startsWith("[")?(u=!1,c.endsWith("]")?c=c.slice(1,c.length-1):(Ee(t,27),c=c.slice(1))):r&&(c+=e[3]||""),s={type:4,content:c,isStatic:u,constType:u?3:0,loc:a}}if(r&&r.isQuoted){const t=r.loc;t.start.offset++,t.start.column++,t.end=Ot(t.start,r.content),t.source=t.source.slice(1,-1)}const c=e[3]?e[3].slice(1).split("."):[];return a&&c.push("prop"),"bind"===l&&s&&c.includes("sync")&&Zt("COMPILER_V_BIND_SYNC",t,0,s.loc.source)&&(l="model",c.splice(c.indexOf("sync"),1)),{type:7,name:l,exp:r&&{type:4,content:r.content,isStatic:!1,constType:0,loc:r.loc},arg:s,modifiers:c,loc:i}}return!t.inVPre&&me(o,"v-")&&Ee(t,26),{type:6,name:o,value:r&&{type:2,content:r.content,loc:r.loc},loc:i}}function de(t,e){const[n,o]=t.options.delimiters,r=t.source.indexOf(o,n.length);if(-1===r)return void Ee(t,25);const i=fe(t);ye(t,n.length);const s=fe(t),a=fe(t),l=r-n.length,c=t.source.slice(0,l),u=he(t,l,e),d=u.trim(),p=u.indexOf(d);p>0&&Pt(s,c,p);return Pt(a,c,l-(u.length-d.length-p)),ye(t,o.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:d,loc:ge(t,s,a)},loc:ge(t,i)}}function pe(t,e){const n=3===e?["]]>"]:["<",t.options.delimiters[0]];let o=t.source.length;for(let e=0;e<n.length;e++){const r=t.source.indexOf(n[e],1);-1!==r&&o>r&&(o=r)}const r=fe(t);return{type:2,content:he(t,o,e),loc:ge(t,r)}}function he(t,e,n){const o=t.source.slice(0,e);return ye(t,e),2!==n&&3!==n&&o.includes("&")?t.options.decodeEntities(o,4===n):o}function fe(t){const{column:e,line:n,offset:o}=t;return{column:e,line:n,offset:o}}function ge(t,e,n){return{start:e,end:n=n||fe(t),source:t.originalSource.slice(e.offset,n.offset)}}function _e(t){return t[t.length-1]}function me(t,e){return t.startsWith(e)}function ye(t,e){const{source:n}=t;Pt(t,n,e),t.source=n.slice(e)}function ve(t){const e=/^[\t\r\n\f ]+/.exec(t.source);e&&ye(t,e[0].length)}function Ce(t,e,n){return Ot(e,t.originalSource.slice(e.offset,n),n)}function Ee(t,e,n,o=fe(t)){n&&(o.offset+=n,o.column+=n),t.options.onError(s(e,{start:o,end:o,source:""}))}function be(t,e,n){const o=t.source;switch(e){case 0:if(me(o,"</"))for(let t=n.length-1;t>=0;--t)if(Se(o,n[t].tag))return!0;break;case 1:case 2:{const t=_e(n);if(t&&Se(o,t.tag))return!0;break}case 3:if(me(o,"]]>"))return!0}return!o}function Se(t,e){return me(t,"</")&&t.slice(2,2+e.length).toLowerCase()===e.toLowerCase()&&/[\t\r\n\f />]/.test(t[2+e.length]||">")}function we(t,e){Pe(t,e,Oe(t,t.children[0]))}function Oe(t,e){const{children:n}=t;return 1===n.length&&1===e.type&&!Nt(e)}function Pe(t,e,n=!1){const{children:r}=t,i=r.length;let s=0;for(let t=0;t<r.length;t++){const o=r[t];if(1===o.type&&0===o.tagType){const t=n?0:Te(o,e);if(t>0){if(t>=2){o.codegenNode.patchFlag="-1",o.codegenNode=e.hoist(o.codegenNode),s++;continue}}else{const t=o.codegenNode;if(13===t.type){const n=Ae(t);if((!n||512===n||1===n)&&xe(o,e)>=2){const n=Me(o);n&&(t.props=e.hoist(n))}t.dynamicProps&&(t.dynamicProps=e.hoist(t.dynamicProps))}}}if(1===o.type){const t=1===o.tagType;t&&e.scopes.vSlot++,Pe(o,e),t&&e.scopes.vSlot--}else if(11===o.type)Pe(o,e,1===o.children.length);else if(9===o.type)for(let t=0;t<o.branches.length;t++)Pe(o.branches[t],e,1===o.branches[t].children.length)}s&&e.transformHoist&&e.transformHoist(r,e,t),s&&s===i&&1===t.type&&0===t.tagType&&t.codegenNode&&13===t.codegenNode.type&&(0,o.isArray)(t.codegenNode.children)&&(t.codegenNode.children=e.hoist(X(t.codegenNode.children)))}function Te(t,e){const{constantCache:n}=e;switch(t.type){case 1:if(0!==t.tagType)return 0;const r=n.get(t);if(void 0!==r)return r;const i=t.codegenNode;if(13!==i.type)return 0;if(i.isBlock&&"svg"!==t.tag&&"foreignObject"!==t.tag)return 0;if(Ae(i))return n.set(t,0),0;{let o=3;const r=xe(t,e);if(0===r)return n.set(t,0),0;r<o&&(o=r);for(let r=0;r<t.children.length;r++){const i=Te(t.children[r],e);if(0===i)return n.set(t,0),0;i<o&&(o=i)}if(o>1)for(let r=0;r<t.props.length;r++){const i=t.props[r];if(7===i.type&&"bind"===i.name&&i.exp){const r=Te(i.exp,e);if(0===r)return n.set(t,0),0;r<o&&(o=r)}}if(i.isBlock){for(let e=0;e<t.props.length;e++){if(7===t.props[e].type)return n.set(t,0),0}e.removeHelper(p),e.removeHelper(Ft(e.inSSR,i.isComponent)),i.isBlock=!1,e.helper(kt(e.inSSR,i.isComponent))}return n.set(t,o),o}case 2:case 3:return 3;case 9:case 11:case 10:default:return 0;case 5:case 12:return Te(t.content,e);case 4:return t.constType;case 8:let s=3;for(let n=0;n<t.children.length;n++){const r=t.children[n];if((0,o.isString)(r)||(0,o.isSymbol)(r))continue;const i=Te(r,e);if(0===i)return 0;i<s&&(s=i)}return s}}const Re=new Set([x,M,A,L]);function De(t,e){if(14===t.type&&!(0,o.isString)(t.callee)&&Re.has(t.callee)){const n=t.arguments[0];if(4===n.type)return Te(n,e);if(14===n.type)return De(n,e)}return 0}function xe(t,e){let n=3;const o=Me(t);if(o&&15===o.type){const{properties:t}=o;for(let o=0;o<t.length;o++){const{key:r,value:i}=t[o],s=Te(r,e);if(0===s)return s;let a;if(s<n&&(n=s),a=4===i.type?Te(i,e):14===i.type?De(i,e):0,0===a)return a;a<n&&(n=a)}}return n}function Me(t){const e=t.codegenNode;if(13===e.type)return e.props}function Ae(t){const e=t.patchFlag;return e?parseInt(e,10):void 0}function Le(t,{filename:e="",prefixIdentifiers:n=!1,hoistStatic:s=!1,cacheHandlers:a=!1,nodeTransforms:l=[],directiveTransforms:c={},transformHoist:u=null,isBuiltInComponent:d=o.NOOP,isCustomElement:p=o.NOOP,expressionPlugins:h=[],scopeId:f=null,slotted:g=!0,ssr:_=!1,inSSR:m=!1,ssrCssVars:y="",bindingMetadata:v=o.EMPTY_OBJ,inline:C=!1,isTS:E=!1,onError:b=r,onWarn:S=i,compatConfig:w}){const O=e.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),P={selfName:O&&(0,o.capitalize)((0,o.camelize)(O[1])),prefixIdentifiers:n,hoistStatic:s,cacheHandlers:a,nodeTransforms:l,directiveTransforms:c,transformHoist:u,isBuiltInComponent:d,isCustomElement:p,expressionPlugins:h,scopeId:f,slotted:g,ssr:_,inSSR:m,ssrCssVars:y,bindingMetadata:v,inline:C,isTS:E,onError:b,onWarn:S,compatConfig:w,root:t,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:t,childIndex:0,inVOnce:!1,helper(t){const e=P.helpers.get(t)||0;return P.helpers.set(t,e+1),t},removeHelper(t){const e=P.helpers.get(t);if(e){const n=e-1;n?P.helpers.set(t,n):P.helpers.delete(t)}},helperString:t=>`_${z[P.helper(t)]}`,replaceNode(t){P.parent.children[P.childIndex]=P.currentNode=t},removeNode(t){const e=P.parent.children,n=t?e.indexOf(t):P.currentNode?P.childIndex:-1;t&&t!==P.currentNode?P.childIndex>n&&(P.childIndex--,P.onNodeRemoved()):(P.currentNode=null,P.onNodeRemoved()),P.parent.children.splice(n,1)},onNodeRemoved:()=>{},addIdentifiers(t){},removeIdentifiers(t){},hoist(t){(0,o.isString)(t)&&(t=tt(t)),P.hoists.push(t);const e=tt(`_hoisted_${P.hoists.length}`,!1,t.loc,2);return e.hoisted=t,e},cache:(t,e=!1)=>st(P.cached++,t,e)};return P.filters=new Set,P}function Ie(t,e){const n=Le(t,e);Ne(t,n),e.hoistStatic&&we(t,n),e.ssr||function(t,e){const{helper:n}=e,{children:r}=t;if(1===r.length){const n=r[0];if(Oe(t,n)&&n.codegenNode){const o=n.codegenNode;13===o.type&&$t(o,e),t.codegenNode=o}else t.codegenNode=n}else if(r.length>1){let r=64;o.PatchFlagNames[64];0,t.codegenNode=q(e,n(a),void 0,t.children,r+"",void 0,void 0,!0,void 0,!1)}}(t,n),t.helpers=new Set([...n.helpers.keys()]),t.components=[...n.components],t.directives=[...n.directives],t.imports=n.imports,t.hoists=n.hoists,t.temps=n.temps,t.cached=n.cached,t.filters=[...n.filters]}function Ne(t,e){e.currentNode=t;const{nodeTransforms:n}=e,r=[];for(let i=0;i<n.length;i++){const s=n[i](t,e);if(s&&((0,o.isArray)(s)?r.push(...s):r.push(s)),!e.currentNode)return;t=e.currentNode}switch(t.type){case 3:e.ssr||e.helper(m);break;case 5:e.ssr||e.helper(R);break;case 9:for(let n=0;n<t.branches.length;n++)Ne(t.branches[n],e);break;case 10:case 11:case 1:case 0:!function(t,e){let n=0;const r=()=>{n--};for(;n<t.children.length;n++){const i=t.children[n];(0,o.isString)(i)||(e.parent=t,e.childIndex=n,e.onNodeRemoved=r,Ne(i,e))}}(t,e)}e.currentNode=t;let i=r.length;for(;i--;)r[i]()}function ke(t,e){const n=(0,o.isString)(t)?e=>e===t:e=>t.test(e);return(t,o)=>{if(1===t.type){const{props:r}=t;if(3===t.tagType&&r.some(Lt))return;const i=[];for(let s=0;s<r.length;s++){const a=r[s];if(7===a.type&&n(a.name)){r.splice(s,1),s--;const n=e(t,a,o);n&&i.push(n)}}return i}}}const Fe="/*#__PURE__*/",Ge=t=>`${z[t]}: _${z[t]}`;function Be(t,{mode:e="function",prefixIdentifiers:n="module"===e,sourceMap:o=!1,filename:r="template.vue.html",scopeId:i=null,optimizeImports:s=!1,runtimeGlobalName:a="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:c="vue/server-renderer",ssr:u=!1,isTS:d=!1,inSSR:p=!1}){const h={mode:e,prefixIdentifiers:n,sourceMap:o,filename:r,scopeId:i,optimizeImports:s,runtimeGlobalName:a,runtimeModuleName:l,ssrRuntimeModuleName:c,ssr:u,isTS:d,inSSR:p,source:t.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper:t=>`_${z[t]}`,push(t,e){h.code+=t},indent(){f(++h.indentLevel)},deindent(t=!1){t?--h.indentLevel:f(--h.indentLevel)},newline(){f(h.indentLevel)}};function f(t){h.push("\n"+"  ".repeat(t))}return h}function Ue(t,e={}){const n=Be(t,e);e.onContextCreated&&e.onContextCreated(n);const{mode:o,push:r,prefixIdentifiers:i,indent:s,deindent:a,newline:l,scopeId:c,ssr:u}=n,d=Array.from(t.helpers),p=d.length>0,h=!i&&"module"!==o,f=n;!function(t,e){const{ssr:n,prefixIdentifiers:o,push:r,newline:i,runtimeModuleName:s,runtimeGlobalName:a,ssrRuntimeModuleName:l}=e,c=a,u=Array.from(t.helpers);if(u.length>0&&(r(`const _Vue = ${c}\n`),t.hoists.length)){r(`const { ${[g,_,m,y,v].filter((t=>u.includes(t))).map(Ge).join(", ")} } = _Vue\n`)}(function(t,e){if(!t.length)return;e.pure=!0;const{push:n,newline:o,helper:r,scopeId:i,mode:s}=e;o();for(let r=0;r<t.length;r++){const i=t[r];i&&(n(`const _hoisted_${r+1} = `),He(i,e),o())}e.pure=!1})(t.hoists,e),i(),r("return ")}(t,f);if(r(`function ${u?"ssrRender":"render"}(${(u?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ")}) {`),s(),h&&(r("with (_ctx) {"),s(),p&&(r(`const { ${d.map(Ge).join(", ")} } = _Vue`),r("\n"),l())),t.components.length&&(je(t.components,"component",n),(t.directives.length||t.temps>0)&&l()),t.directives.length&&(je(t.directives,"directive",n),t.temps>0&&l()),t.filters&&t.filters.length&&(l(),je(t.filters,"filter",n),l()),t.temps>0){r("let ");for(let e=0;e<t.temps;e++)r(`${e>0?", ":""}_temp${e}`)}return(t.components.length||t.directives.length||t.temps)&&(r("\n"),l()),u||r("return "),t.codegenNode?He(t.codegenNode,n):r("null"),h&&(a(),r("}")),a(),r("}"),{ast:t,code:n.code,preamble:"",map:n.map?n.map.toJSON():void 0}}function je(t,e,{helper:n,push:o,newline:r,isTS:i}){const s=n("filter"===e?S:"component"===e?C:b);for(let n=0;n<t.length;n++){let a=t[n];const l=a.endsWith("__self");l&&(a=a.slice(0,-6)),o(`const ${Vt(a,e)} = ${s}(${JSON.stringify(a)}${l?", true":""})${i?"!":""}`),n<t.length-1&&r()}}function Ve(t,e){const n=t.length>3||!1;e.push("["),n&&e.indent(),We(t,e,n),n&&e.deindent(),e.push("]")}function We(t,e,n=!1,r=!0){const{push:i,newline:s}=e;for(let a=0;a<t.length;a++){const l=t[a];(0,o.isString)(l)?i(l):(0,o.isArray)(l)?Ve(l,e):He(l,e),a<t.length-1&&(n?(r&&i(","),s()):r&&i(", "))}}function He(t,e){if((0,o.isString)(t))e.push(t);else if((0,o.isSymbol)(t))e.push(e.helper(t));else switch(t.type){case 1:case 9:case 11:case 12:He(t.codegenNode,e);break;case 2:!function(t,e){e.push(JSON.stringify(t.content),t)}(t,e);break;case 4:$e(t,e);break;case 5:!function(t,e){const{push:n,helper:o,pure:r}=e;r&&n(Fe);n(`${o(R)}(`),He(t.content,e),n(")")}(t,e);break;case 8:ze(t,e);break;case 3:!function(t,e){const{push:n,helper:o,pure:r}=e;r&&n(Fe);n(`${o(m)}(${JSON.stringify(t.content)})`,t)}(t,e);break;case 13:!function(t,e){const{push:n,helper:o,pure:r}=e,{tag:i,props:s,children:a,patchFlag:l,dynamicProps:c,directives:u,isBlock:d,disableTracking:h,isComponent:f}=t;u&&n(o(w)+"(");d&&n(`(${o(p)}(${h?"true":""}), `);r&&n(Fe);const g=d?Ft(e.inSSR,f):kt(e.inSSR,f);n(o(g)+"(",t),We(function(t){let e=t.length;for(;e--&&null==t[e];);return t.slice(0,e+1).map((t=>t||"null"))}([i,s,a,l,c]),e),n(")"),d&&n(")");u&&(n(", "),He(u,e),n(")"))}(t,e);break;case 14:!function(t,e){const{push:n,helper:r,pure:i}=e,s=(0,o.isString)(t.callee)?t.callee:r(t.callee);i&&n(Fe);n(s+"(",t),We(t.arguments,e),n(")")}(t,e);break;case 15:!function(t,e){const{push:n,indent:o,deindent:r,newline:i}=e,{properties:s}=t;if(!s.length)return void n("{}",t);const a=s.length>1||!1;n(a?"{":"{ "),a&&o();for(let t=0;t<s.length;t++){const{key:o,value:r}=s[t];Ke(o,e),n(": "),He(r,e),t<s.length-1&&(n(","),i())}a&&r(),n(a?"}":" }")}(t,e);break;case 17:!function(t,e){Ve(t.elements,e)}(t,e);break;case 18:!function(t,e){const{push:n,indent:r,deindent:i}=e,{params:s,returns:a,body:l,newline:c,isSlot:u}=t;u&&n(`_${z[j]}(`);n("(",t),(0,o.isArray)(s)?We(s,e):s&&He(s,e);n(") => "),(c||l)&&(n("{"),r());a?(c&&n("return "),(0,o.isArray)(a)?Ve(a,e):He(a,e)):l&&He(l,e);(c||l)&&(i(),n("}"));u&&(t.isNonScopedSlot&&n(", undefined, true"),n(")"))}(t,e);break;case 19:!function(t,e){const{test:n,consequent:o,alternate:r,newline:i}=t,{push:s,indent:a,deindent:l,newline:c}=e;if(4===n.type){const t=!mt(n.content);t&&s("("),$e(n,e),t&&s(")")}else s("("),He(n,e),s(")");i&&a(),e.indentLevel++,i||s(" "),s("? "),He(o,e),e.indentLevel--,i&&c(),i||s(" "),s(": ");const u=19===r.type;u||e.indentLevel++;He(r,e),u||e.indentLevel--;i&&l(!0)}(t,e);break;case 20:!function(t,e){const{push:n,helper:o,indent:r,deindent:i,newline:s}=e;n(`_cache[${t.index}] || (`),t.isVNode&&(r(),n(`${o(G)}(-1),`),s());n(`_cache[${t.index}] = `),He(t.value,e),t.isVNode&&(n(","),s(),n(`${o(G)}(1),`),s(),n(`_cache[${t.index}]`),i());n(")")}(t,e);break;case 21:We(t.body,e,!0,!1)}}function $e(t,e){const{content:n,isStatic:o}=t;e.push(o?JSON.stringify(n):n,t)}function ze(t,e){for(let n=0;n<t.children.length;n++){const r=t.children[n];(0,o.isString)(r)?e.push(r):He(r,e)}}function Ke(t,e){const{push:n}=e;if(8===t.type)n("["),ze(t,e),n("]");else if(t.isStatic){n(mt(t.content)?t.content:JSON.stringify(t.content),t)}else n(`[${t.content}]`,t)}function Ye(t,e,n=!1,o=[],r=Object.create(null)){}function Ze(t,e,n){return!1}function qe(t,e){if(t&&("ObjectProperty"===t.type||"ArrayPattern"===t.type)){let t=e.length;for(;t--;){const n=e[t];if("AssignmentExpression"===n.type)return!0;if("ObjectProperty"!==n.type&&!n.type.endsWith("Pattern"))break}}return!1}function Xe(t,e){for(const n of t.params)for(const t of Qe(n))e(t)}function Je(t,e){for(const n of t.body)if("VariableDeclaration"===n.type){if(n.declare)continue;for(const t of n.declarations)for(const n of Qe(t.id))e(n)}else if("FunctionDeclaration"===n.type||"ClassDeclaration"===n.type){if(n.declare||!n.id)continue;e(n.id)}}function Qe(t,e=[]){switch(t.type){case"Identifier":e.push(t);break;case"MemberExpression":let n=t;for(;"MemberExpression"===n.type;)n=n.object;e.push(n);break;case"ObjectPattern":for(const n of t.properties)"RestElement"===n.type?Qe(n.argument,e):Qe(n.value,e);break;case"ArrayPattern":t.elements.forEach((t=>{t&&Qe(t,e)}));break;case"RestElement":Qe(t.argument,e);break;case"AssignmentPattern":Qe(t.left,e)}return e}const tn=t=>/Function(?:Expression|Declaration)$|Method$/.test(t.type),en=t=>t&&("ObjectProperty"===t.type||"ObjectMethod"===t.type)&&!t.computed,nn=(t,e)=>en(e)&&e.key===t;new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const on=(t,e)=>{if(5===t.type)t.content=rn(t.content,e);else if(1===t.type)for(let n=0;n<t.props.length;n++){const o=t.props[n];if(7===o.type&&"for"!==o.name){const t=o.exp,n=o.arg;!t||4!==t.type||"on"===o.name&&n||(o.exp=rn(t,e,"slot"===o.name)),n&&4===n.type&&!n.isStatic&&(o.arg=rn(n,e))}}};function rn(t,e,n=!1,o=!1,r=Object.create(e.identifiers)){return t}function sn(t){return(0,o.isString)(t)?t:4===t.type?t.content:t.children.map(sn).join("")}const an=ke(/^(if|else|else-if)$/,((t,e,n)=>ln(t,e,n,((t,e,o)=>{const r=n.parent.children;let i=r.indexOf(t),s=0;for(;i-- >=0;){const t=r[i];t&&9===t.type&&(s+=t.branches.length)}return()=>{if(o)t.codegenNode=un(e,s,n);else{const o=function(t){for(;;)if(19===t.type){if(19!==t.alternate.type)return t;t=t.alternate}else 20===t.type&&(t=t.value)}(t.codegenNode);o.alternate=un(e,s+t.branches.length-1,n)}}}))));function ln(t,e,n,o){if(!("else"===e.name||e.exp&&e.exp.content.trim())){const o=e.exp?e.exp.loc:t.loc;n.onError(s(28,e.loc)),e.exp=tt("true",!1,o)}if("if"===e.name){const r=cn(t,e),i={type:9,loc:t.loc,branches:[r]};if(n.replaceNode(i),o)return o(i,r,!0)}else{const r=n.parent.children;let i=r.indexOf(t);for(;i-- >=-1;){const a=r[i];if(a&&3===a.type)n.removeNode(a);else{if(!a||2!==a.type||a.content.trim().length){if(a&&9===a.type){"else-if"===e.name&&void 0===a.branches[a.branches.length-1].condition&&n.onError(s(30,t.loc)),n.removeNode();const r=cn(t,e);0,a.branches.push(r);const i=o&&o(a,r,!1);Ne(r,n),i&&i(),n.currentNode=null}else n.onError(s(30,t.loc));break}n.removeNode(a)}}}}function cn(t,e){const n=3===t.tagType;return{type:10,loc:t.loc,condition:"else"===e.name?void 0:e.exp,children:n&&!Rt(t,"for")?t.children:[t],userKey:Dt(t,"key"),isTemplateIf:n}}function un(t,e,n){return t.condition?it(t.condition,dn(t,e,n),ot(n.helper(m),['""',"true"])):dn(t,e,n)}function dn(t,e,n){const{helper:r}=n,i=Q("key",tt(`${e}`,!1,Y,2)),{children:s}=t,l=s[0];if(1!==s.length||1!==l.type){if(1===s.length&&11===l.type){const t=l.codegenNode;return Ut(t,i,n),t}{let e=64;o.PatchFlagNames[64];return q(n,r(a),J([i]),s,e+"",void 0,void 0,!0,!1,!1,t.loc)}}{const t=l.codegenNode,e=Ht(t);return 13===e.type&&$t(e,n),Ut(e,i,n),t}}const pn=ke("for",((t,e,n)=>{const{helper:o,removeHelper:r}=n;return hn(t,e,n,(e=>{const i=ot(o(O),[e.source]),s=It(t),l=Rt(t,"memo"),c=Dt(t,"key"),u=c&&(6===c.type?tt(c.value.content,!0):c.exp),d=c?Q("key",u):null,h=4===e.source.type&&e.source.constType>0,f=h?64:c?128:256;return e.codegenNode=q(n,o(a),void 0,i,f+"",void 0,void 0,!0,!h,!1,t.loc),()=>{let c;const{children:f}=e;const g=1!==f.length||1!==f[0].type,_=Nt(t)?t:s&&1===t.children.length&&Nt(t.children[0])?t.children[0]:null;if(_?(c=_.codegenNode,s&&d&&Ut(c,d,n)):g?c=q(n,o(a),d?J([d]):void 0,t.children,"64",void 0,void 0,!0,void 0,!1):(c=f[0].codegenNode,s&&d&&Ut(c,d,n),c.isBlock!==!h&&(c.isBlock?(r(p),r(Ft(n.inSSR,c.isComponent))):r(kt(n.inSSR,c.isComponent))),c.isBlock=!h,c.isBlock?(o(p),o(Ft(n.inSSR,c.isComponent))):o(kt(n.inSSR,c.isComponent))),l){const t=rt(vn(e.parseResult,[tt("_cached")]));t.body=at([nt(["const _memo = (",l.exp,")"]),nt(["if (_cached",...u?[" && _cached.key === ",u]:[],` && ${n.helperString($)}(_cached, _memo)) return _cached`]),nt(["const _item = ",c]),tt("_item.memo = _memo"),tt("return _item")]),i.arguments.push(t,tt("_cache"),tt(String(n.cached++)))}else i.arguments.push(rt(vn(e.parseResult),c,!0))}}))}));function hn(t,e,n,o){if(!e.exp)return void n.onError(s(31,e.loc));const r=mn(e.exp,n);if(!r)return void n.onError(s(32,e.loc));const{addIdentifiers:i,removeIdentifiers:a,scopes:l}=n,{source:c,value:u,key:d,index:p}=r,h={type:11,loc:e.loc,source:c,valueAlias:u,keyAlias:d,objectIndexAlias:p,parseResult:r,children:It(t)?t.children:[t]};n.replaceNode(h),l.vFor++;const f=o&&o(h);return()=>{l.vFor--,f&&f()}}const fn=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,gn=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,_n=/^\(|\)$/g;function mn(t,e){const n=t.loc,o=t.content,r=o.match(fn);if(!r)return;const[,i,s]=r,a={source:yn(n,s.trim(),o.indexOf(s,i.length)),value:void 0,key:void 0,index:void 0};let l=i.trim().replace(_n,"").trim();const c=i.indexOf(l),u=l.match(gn);if(u){l=l.replace(gn,"").trim();const t=u[1].trim();let e;if(t&&(e=o.indexOf(t,c+l.length),a.key=yn(n,t,e)),u[2]){const r=u[2].trim();r&&(a.index=yn(n,r,o.indexOf(r,a.key?e+t.length:c+l.length)))}}return l&&(a.value=yn(n,l,c)),a}function yn(t,e,n){return tt(e,!1,wt(t,n,e.length))}function vn({value:t,key:e,index:n},o=[]){return function(t){let e=t.length;for(;e--&&!t[e];);return t.slice(0,e+1).map(((t,e)=>t||tt("_".repeat(e+1),!1)))}([t,e,n,...o])}const Cn=tt("undefined",!1),En=(t,e)=>{if(1===t.type&&(1===t.tagType||3===t.tagType)){const n=Rt(t,"slot");if(n)return n.exp,e.scopes.vSlot++,()=>{e.scopes.vSlot--}}},bn=(t,e)=>{let n;if(It(t)&&t.props.some(Lt)&&(n=Rt(t,"for"))){const t=n.parseResult=mn(n.exp);if(t){const{value:n,key:o,index:r}=t,{addIdentifiers:i,removeIdentifiers:s}=e;return n&&i(n),o&&i(o),r&&i(r),()=>{n&&s(n),o&&s(o),r&&s(r)}}}},Sn=(t,e,n)=>rt(t,e,!1,!0,e.length?e[0].loc:n);function wn(t,e,n=Sn){e.helper(j);const{children:o,loc:r}=t,i=[],a=[];let l=e.scopes.vSlot>0||e.scopes.vFor>0;const c=Rt(t,"slot",!0);if(c){const{arg:t,exp:e}=c;t&&!ht(t)&&(l=!0),i.push(Q(t||tt("default",!0),n(e,o,r)))}let u=!1,d=!1;const p=[],h=new Set;let f=0;for(let t=0;t<o.length;t++){const r=o[t];let g;if(!It(r)||!(g=Rt(r,"slot",!0))){3!==r.type&&p.push(r);continue}if(c){e.onError(s(37,g.loc));break}u=!0;const{children:_,loc:m}=r,{arg:y=tt("default",!0),exp:v,loc:C}=g;let E;ht(y)?E=y?y.content:"default":l=!0;const b=n(v,_,m);let S,w,P;if(S=Rt(r,"if"))l=!0,a.push(it(S.exp,On(y,b,f++),Cn));else if(w=Rt(r,/^else(-if)?$/,!0)){let n,r=t;for(;r--&&(n=o[r],3===n.type););if(n&&It(n)&&Rt(n,"if")){o.splice(t,1),t--;let e=a[a.length-1];for(;19===e.alternate.type;)e=e.alternate;e.alternate=w.exp?it(w.exp,On(y,b,f++),Cn):On(y,b,f++)}else e.onError(s(30,w.loc))}else if(P=Rt(r,"for")){l=!0;const t=P.parseResult||mn(P.exp);t?a.push(ot(e.helper(O),[t.source,rt(vn(t),On(y,b),!0)])):e.onError(s(32,P.loc))}else{if(E){if(h.has(E)){e.onError(s(38,C));continue}h.add(E),"default"===E&&(d=!0)}i.push(Q(y,b))}}if(!c){const t=(t,o)=>{const i=n(t,o,r);return e.compatConfig&&(i.isNonScopedSlot=!0),Q("default",i)};u?p.length&&p.some((t=>Tn(t)))&&(d?e.onError(s(39,p[0].loc)):i.push(t(void 0,p))):i.push(t(void 0,o))}const g=l?2:Pn(t.children)?3:1;let _=J(i.concat(Q("_",tt(g+"",!1))),r);return a.length&&(_=ot(e.helper(T),[_,X(a)])),{slots:_,hasDynamicSlots:l}}function On(t,e,n){const o=[Q("name",t),Q("fn",e)];return null!=n&&o.push(Q("key",tt(String(n),!0))),J(o)}function Pn(t){for(let e=0;e<t.length;e++){const n=t[e];switch(n.type){case 1:if(2===n.tagType||Pn(n.children))return!0;break;case 9:if(Pn(n.branches))return!0;break;case 10:case 11:if(Pn(n.children))return!0}}return!1}function Tn(t){return 2!==t.type&&12!==t.type||(2===t.type?!!t.content.trim():Tn(t.content))}const Rn=new WeakMap,Dn=(t,e)=>function(){if(1!==(t=e.currentNode).type||0!==t.tagType&&1!==t.tagType)return;const{tag:n,props:r}=t,i=1===t.tagType;let s=i?xn(t,e):`"${n}"`;const a=(0,o.isObject)(s)&&s.callee===E;let d,p,h,f,g,_,m=0,y=a||s===l||s===c||!i&&("svg"===n||"foreignObject"===n);if(r.length>0){const n=Mn(t,e,void 0,i,a);d=n.props,m=n.patchFlag,g=n.dynamicPropNames;const o=n.directives;_=o&&o.length?X(o.map((t=>In(t,e)))):void 0,n.shouldUseBlock&&(y=!0)}if(t.children.length>0){s===u&&(y=!0,m|=1024);if(i&&s!==l&&s!==u){const{slots:n,hasDynamicSlots:o}=wn(t,e);p=n,o&&(m|=1024)}else if(1===t.children.length&&s!==l){const n=t.children[0],o=n.type,r=5===o||8===o;r&&0===Te(n,e)&&(m|=1),p=r||2===o?n:t.children}else p=t.children}0!==m&&(h=String(m),g&&g.length&&(f=function(t){let e="[";for(let n=0,o=t.length;n<o;n++)e+=JSON.stringify(t[n]),n<o-1&&(e+=", ");return e+"]"}(g))),t.codegenNode=q(e,s,d,p,h,f,_,!!y,!1,i,t.loc)};function xn(t,e,n=!1){let{tag:o}=t;const r=Nn(o),i=Dt(t,"is");if(i)if(r||Yt("COMPILER_IS_ON_ELEMENT",e)){const t=6===i.type?i.value&&tt(i.value.content,!0):i.exp;if(t)return ot(e.helper(E),[t])}else 6===i.type&&i.value.content.startsWith("vue:")&&(o=i.value.content.slice(4));const s=!r&&Rt(t,"is");if(s&&s.exp)return ot(e.helper(E),[s.exp]);const a=gt(o)||e.isBuiltInComponent(o);return a?(n||e.helper(a),a):(e.helper(C),e.components.add(o),Vt(o,"component"))}function Mn(t,e,n=t.props,r,i,a=!1){const{tag:l,loc:c,children:u}=t;let d=[];const p=[],h=[],f=u.length>0;let g=!1,_=0,m=!1,y=!1,v=!1,C=!1,E=!1,b=!1;const S=[],w=t=>{d.length&&(p.push(J(An(d),c)),d=[]),t&&p.push(t)},O=({key:t,value:n})=>{if(ht(t)){const s=t.content,a=(0,o.isOn)(s);if(!a||r&&!i||"onclick"===s.toLowerCase()||"onUpdate:modelValue"===s||(0,o.isReservedProp)(s)||(C=!0),a&&(0,o.isReservedProp)(s)&&(b=!0),20===n.type||(4===n.type||8===n.type)&&Te(n,e)>0)return;"ref"===s?m=!0:"class"===s?y=!0:"style"===s?v=!0:"key"===s||S.includes(s)||S.push(s),!r||"class"!==s&&"style"!==s||S.includes(s)||S.push(s)}else E=!0};for(let i=0;i<n.length;i++){const u=n[i];if(6===u.type){const{loc:t,name:n,value:o}=u;let r=!0;if("ref"===n&&(m=!0,e.scopes.vFor>0&&d.push(Q(tt("ref_for",!0),tt("true")))),"is"===n&&(Nn(l)||o&&o.content.startsWith("vue:")||Yt("COMPILER_IS_ON_ELEMENT",e)))continue;d.push(Q(tt(n,!0,wt(t,0,n.length)),tt(o?o.content:"",r,o?o.loc:t)))}else{const{name:n,arg:i,exp:_,loc:m}=u,y="bind"===n,v="on"===n;if("slot"===n){r||e.onError(s(40,m));continue}if("once"===n||"memo"===n)continue;if("is"===n||y&&xt(i,"is")&&(Nn(l)||Yt("COMPILER_IS_ON_ELEMENT",e)))continue;if(v&&a)continue;if((y&&xt(i,"key")||v&&f&&xt(i,"vue:before-update"))&&(g=!0),y&&xt(i,"ref")&&e.scopes.vFor>0&&d.push(Q(tt("ref_for",!0),tt("true"))),!i&&(y||v)){if(E=!0,_)if(y){if(w(),Yt("COMPILER_V_BIND_OBJECT_ORDER",e)){p.unshift(_);continue}p.push(_)}else w({type:14,loc:m,callee:e.helper(I),arguments:r?[_]:[_,"true"]});else e.onError(s(y?34:35,m));continue}const C=e.directiveTransforms[n];if(C){const{props:n,needRuntime:r}=C(u,t,e);!a&&n.forEach(O),v&&i&&!ht(i)?w(J(n,c)):d.push(...n),r&&(h.push(u),(0,o.isSymbol)(r)&&Rn.set(u,r))}else(0,o.isBuiltInDirective)(n)||(h.push(u),f&&(g=!0))}}let P;if(p.length?(w(),P=p.length>1?ot(e.helper(D),p,c):p[0]):d.length&&(P=J(An(d),c)),E?_|=16:(y&&!r&&(_|=2),v&&!r&&(_|=4),S.length&&(_|=8),C&&(_|=32)),g||0!==_&&32!==_||!(m||b||h.length>0)||(_|=512),!e.inSSR&&P)switch(P.type){case 15:let t=-1,n=-1,o=!1;for(let e=0;e<P.properties.length;e++){const r=P.properties[e].key;ht(r)?"class"===r.content?t=e:"style"===r.content&&(n=e):r.isHandlerKey||(o=!0)}const r=P.properties[t],i=P.properties[n];o?P=ot(e.helper(A),[P]):(r&&!ht(r.value)&&(r.value=ot(e.helper(x),[r.value])),i&&(v||4===i.value.type&&"["===i.value.content.trim()[0]||17===i.value.type)&&(i.value=ot(e.helper(M),[i.value])));break;case 14:break;default:P=ot(e.helper(A),[ot(e.helper(L),[P])])}return{props:P,directives:h,patchFlag:_,dynamicPropNames:S,shouldUseBlock:g}}function An(t){const e=new Map,n=[];for(let r=0;r<t.length;r++){const i=t[r];if(8===i.key.type||!i.key.isStatic){n.push(i);continue}const s=i.key.content,a=e.get(s);a?("style"===s||"class"===s||(0,o.isOn)(s))&&Ln(a,i):(e.set(s,i),n.push(i))}return n}function Ln(t,e){17===t.value.type?t.value.elements.push(e.value):t.value=X([t.value,e.value],t.loc)}function In(t,e){const n=[],o=Rn.get(t);o?n.push(e.helperString(o)):(e.helper(b),e.directives.add(t.name),n.push(Vt(t.name,"directive")));const{loc:r}=t;if(t.exp&&n.push(t.exp),t.arg&&(t.exp||n.push("void 0"),n.push(t.arg)),Object.keys(t.modifiers).length){t.arg||(t.exp||n.push("void 0"),n.push("void 0"));const e=tt("true",!1,r);n.push(J(t.modifiers.map((t=>Q(t,e))),r))}return X(n,t.loc)}function Nn(t){return"component"===t||"Component"===t}const kn=/-(\w)/g,Fn=(t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))})((t=>t.replace(kn,((t,e)=>e?e.toUpperCase():"")))),Gn=(t,e)=>{if(Nt(t)){const{children:n,loc:o}=t,{slotName:r,slotProps:i}=Bn(t,e),s=[e.prefixIdentifiers?"_ctx.$slots":"$slots",r,"{}","undefined","true"];let a=2;i&&(s[2]=i,a=3),n.length&&(s[3]=rt([],n,!1,!1,o),a=4),e.scopeId&&!e.slotted&&(a=5),s.splice(a),t.codegenNode=ot(e.helper(P),s,o)}};function Bn(t,e){let n,o='"default"';const r=[];for(let e=0;e<t.props.length;e++){const n=t.props[e];6===n.type?n.value&&("name"===n.name?o=JSON.stringify(n.value.content):(n.name=Fn(n.name),r.push(n))):"bind"===n.name&&xt(n.arg,"name")?n.exp&&(o=n.exp):("bind"===n.name&&n.arg&&ht(n.arg)&&(n.arg.content=Fn(n.arg.content)),r.push(n))}if(r.length>0){const{props:o,directives:i}=Mn(t,e,r,!1,!1);n=o,i.length&&e.onError(s(36,i[0].loc))}return{slotName:o,slotProps:n}}const Un=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,jn=(t,e,n,r)=>{const{loc:i,modifiers:a,arg:l}=t;let c;if(t.exp||a.length||n.onError(s(35,i)),4===l.type)if(l.isStatic){let t=l.content;t.startsWith("vue:")&&(t=`vnode-${t.slice(4)}`);c=tt(0!==e.tagType||t.startsWith("vnode")||!/[A-Z]/.test(t)?(0,o.toHandlerKey)((0,o.camelize)(t)):`on:${t}`,!0,l.loc)}else c=nt([`${n.helperString(F)}(`,l,")"]);else c=l,c.children.unshift(`${n.helperString(F)}(`),c.children.push(")");let u=t.exp;u&&!u.content.trim()&&(u=void 0);let d=n.cacheHandlers&&!u&&!n.inVOnce;if(u){const t=St(u.content),e=!(t||Un.test(u.content)),n=u.content.includes(";");0,(e||d&&t)&&(u=nt([`${e?"$event":"(...args)"} => ${n?"{":"("}`,u,n?"}":")"]))}let p={props:[Q(c,u||tt("() => {}",!1,i))]};return r&&(p=r(p)),d&&(p.props[0].value=n.cache(p.props[0].value)),p.props.forEach((t=>t.key.isHandlerKey=!0)),p},Vn=(t,e,n)=>{const{exp:r,modifiers:i,loc:a}=t,l=t.arg;return 4!==l.type?(l.children.unshift("("),l.children.push(') || ""')):l.isStatic||(l.content=`${l.content} || ""`),i.includes("camel")&&(4===l.type?l.isStatic?l.content=(0,o.camelize)(l.content):l.content=`${n.helperString(N)}(${l.content})`:(l.children.unshift(`${n.helperString(N)}(`),l.children.push(")"))),n.inSSR||(i.includes("prop")&&Wn(l,"."),i.includes("attr")&&Wn(l,"^")),!r||4===r.type&&!r.content.trim()?(n.onError(s(34,a)),{props:[Q(l,tt("",!0,a))]}):{props:[Q(l,r)]}},Wn=(t,e)=>{4===t.type?t.isStatic?t.content=e+t.content:t.content=`\`${e}\${${t.content}}\``:(t.children.unshift(`'${e}' + (`),t.children.push(")"))},Hn=(t,e)=>{if(0===t.type||1===t.type||11===t.type||10===t.type)return()=>{const n=t.children;let o,r=!1;for(let t=0;t<n.length;t++){const e=n[t];if(At(e)){r=!0;for(let r=t+1;r<n.length;r++){const i=n[r];if(!At(i)){o=void 0;break}o||(o=n[t]=nt([e],e.loc)),o.children.push(" + ",i),n.splice(r,1),r--}}}if(r&&(1!==n.length||0!==t.type&&(1!==t.type||0!==t.tagType||t.props.find((t=>7===t.type&&!e.directiveTransforms[t.name]))||"template"===t.tag)))for(let t=0;t<n.length;t++){const o=n[t];if(At(o)||8===o.type){const r=[];2===o.type&&" "===o.content||r.push(o),e.ssr||0!==Te(o,e)||r.push("1"),n[t]={type:12,content:o,loc:o.loc,codegenNode:ot(e.helper(y),r)}}}}},$n=new WeakSet,zn=(t,e)=>{if(1===t.type&&Rt(t,"once",!0)){if($n.has(t)||e.inVOnce)return;return $n.add(t),e.inVOnce=!0,e.helper(G),()=>{e.inVOnce=!1;const t=e.currentNode;t.codegenNode&&(t.codegenNode=e.cache(t.codegenNode,!0))}}},Kn=(t,e,n)=>{const{exp:r,arg:i}=t;if(!r)return n.onError(s(41,t.loc)),Yn();const a=r.loc.source,l=4===r.type?r.content:a,c=n.bindingMetadata[a];if("props"===c||"props-aliased"===c)return n.onError(s(44,r.loc)),Yn();if(!l.trim()||!St(l))return n.onError(s(42,r.loc)),Yn();const u=i||tt("modelValue",!0),d=i?ht(i)?`onUpdate:${(0,o.camelize)(i.content)}`:nt(['"onUpdate:" + ',i]):"onUpdate:modelValue";let p;p=nt([`${n.isTS?"($event: any)":"$event"} => ((`,r,") = $event)"]);const h=[Q(u,t.exp),Q(d,p)];if(t.modifiers.length&&1===e.tagType){const e=t.modifiers.map((t=>(mt(t)?t:JSON.stringify(t))+": true")).join(", "),n=i?ht(i)?`${i.content}Modifiers`:nt([i,' + "Modifiers"']):"modelModifiers";h.push(Q(n,tt(`{ ${e} }`,!1,t.loc,2)))}return Yn(h)};function Yn(t=[]){return{props:t}}const Zn=/[\w).+\-_$\]]/,qn=(t,e)=>{Yt("COMPILER_FILTER",e)&&(5===t.type&&Xn(t.content,e),1===t.type&&t.props.forEach((t=>{7===t.type&&"for"!==t.name&&t.exp&&Xn(t.exp,e)})))};function Xn(t,e){if(4===t.type)Jn(t,e);else for(let n=0;n<t.children.length;n++){const o=t.children[n];"object"==typeof o&&(4===o.type?Jn(o,e):8===o.type?Xn(t,e):5===o.type&&Xn(o.content,e))}}function Jn(t,e){const n=t.content;let o,r,i,s,a=!1,l=!1,c=!1,u=!1,d=0,p=0,h=0,f=0,g=[];for(i=0;i<n.length;i++)if(r=o,o=n.charCodeAt(i),a)39===o&&92!==r&&(a=!1);else if(l)34===o&&92!==r&&(l=!1);else if(c)96===o&&92!==r&&(c=!1);else if(u)47===o&&92!==r&&(u=!1);else if(124!==o||124===n.charCodeAt(i+1)||124===n.charCodeAt(i-1)||d||p||h){switch(o){case 34:l=!0;break;case 39:a=!0;break;case 96:c=!0;break;case 40:h++;break;case 41:h--;break;case 91:p++;break;case 93:p--;break;case 123:d++;break;case 125:d--}if(47===o){let t,e=i-1;for(;e>=0&&(t=n.charAt(e)," "===t);e--);t&&Zn.test(t)||(u=!0)}}else void 0===s?(f=i+1,s=n.slice(0,i).trim()):_();function _(){g.push(n.slice(f,i).trim()),f=i+1}if(void 0===s?s=n.slice(0,i).trim():0!==f&&_(),g.length){for(i=0;i<g.length;i++)s=Qn(s,g[i],e);t.content=s}}function Qn(t,e,n){n.helper(S);const o=e.indexOf("(");if(o<0)return n.filters.add(e),`${Vt(e,"filter")}(${t})`;{const r=e.slice(0,o),i=e.slice(o+1);return n.filters.add(r),`${Vt(r,"filter")}(${t}${")"!==i?","+i:i}`}}const to=new WeakSet,eo=(t,e)=>{if(1===t.type){const n=Rt(t,"memo");if(!n||to.has(t))return;return to.add(t),()=>{const o=t.codegenNode||e.currentNode.codegenNode;o&&13===o.type&&(1!==t.tagType&&$t(o,e),t.codegenNode=ot(e.helper(H),[n.exp,rt(void 0,o),"_cache",String(e.cached++)]))}}};function no(t){return[[zn,an,eo,pn,qn,Gn,Dn,En,Hn],{on:jn,bind:Vn,model:Kn}]}function oo(t,e={}){const n=e.onError||r,i="module"===e.mode;!0===e.prefixIdentifiers?n(s(47)):i&&n(s(48));e.cacheHandlers&&n(s(49)),e.scopeId&&!i&&n(s(50));const a=(0,o.isString)(t)?te(t,e):t,[l,c]=no();return Ie(a,(0,o.extend)({},e,{prefixIdentifiers:false,nodeTransforms:[...l,...e.nodeTransforms||[]],directiveTransforms:(0,o.extend)({},c,e.directiveTransforms||{})})),Ue(a,(0,o.extend)({},e,{prefixIdentifiers:false}))}const ro=()=>({props:[]}),io=Symbol(""),so=Symbol(""),ao=Symbol(""),lo=Symbol(""),co=Symbol(""),uo=Symbol(""),po=Symbol(""),ho=Symbol(""),fo=Symbol(""),go=Symbol("");let _o;K({[io]:"vModelRadio",[so]:"vModelCheckbox",[ao]:"vModelText",[lo]:"vModelSelect",[co]:"vModelDynamic",[uo]:"withModifiers",[po]:"withKeys",[ho]:"vShow",[fo]:"Transition",[go]:"TransitionGroup"});const mo=(0,o.makeMap)("style,iframe,script,noscript",!0),yo={isVoidTag:o.isVoidTag,isNativeTag:t=>(0,o.isHTMLTag)(t)||(0,o.isSVGTag)(t),isPreTag:t=>"pre"===t,decodeEntities:function(t,e=!1){return _o||(_o=document.createElement("div")),e?(_o.innerHTML=`<div foo="${t.replace(/"/g,"&quot;")}">`,_o.children[0].getAttribute("foo")):(_o.innerHTML=t,_o.textContent)},isBuiltInComponent:t=>ft(t,"Transition")?fo:ft(t,"TransitionGroup")?go:void 0,getNamespace(t,e){let n=e?e.ns:0;if(e&&2===n)if("annotation-xml"===e.tag){if("svg"===t)return 1;e.props.some((t=>6===t.type&&"encoding"===t.name&&null!=t.value&&("text/html"===t.value.content||"application/xhtml+xml"===t.value.content)))&&(n=0)}else/^m(?:[ions]|text)$/.test(e.tag)&&"mglyph"!==t&&"malignmark"!==t&&(n=0);else e&&1===n&&("foreignObject"!==e.tag&&"desc"!==e.tag&&"title"!==e.tag||(n=0));if(0===n){if("svg"===t)return 1;if("math"===t)return 2}return n},getTextMode({tag:t,ns:e}){if(0===e){if("textarea"===t||"title"===t)return 1;if(mo(t))return 2}return 0}},vo=t=>{1===t.type&&t.props.forEach(((e,n)=>{6===e.type&&"style"===e.name&&e.value&&(t.props[n]={type:7,name:"bind",arg:tt("style",!0,e.loc),exp:Co(e.value.content,e.loc),modifiers:[],loc:e.loc})}))},Co=(t,e)=>{const n=(0,o.parseStringStyle)(t);return tt(JSON.stringify(n),!1,e,3)};function Eo(t,e){return s(t,e)}const bo=(0,o.makeMap)("passive,once,capture"),So=(0,o.makeMap)("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),wo=(0,o.makeMap)("left,right"),Oo=(0,o.makeMap)("onkeyup,onkeydown,onkeypress",!0),Po=(t,e)=>ht(t)&&"onclick"===t.content.toLowerCase()?tt(e,!0):4!==t.type?nt(["(",t,`) === "onClick" ? "${e}" : (`,t,")"]):t;const To=(t,e)=>{1!==t.type||0!==t.tagType||"script"!==t.tag&&"style"!==t.tag||(e.onError(Eo(61,t.loc)),e.removeNode())},Ro=[vo],Do={cloak:ro,html:(t,e,n)=>{const{exp:o,loc:r}=t;return o||n.onError(Eo(51,r)),e.children.length&&(n.onError(Eo(52,r)),e.children.length=0),{props:[Q(tt("innerHTML",!0,r),o||tt("",!0))]}},text:(t,e,n)=>{const{exp:o,loc:r}=t;return o||n.onError(Eo(53,r)),e.children.length&&(n.onError(Eo(54,r)),e.children.length=0),{props:[Q(tt("textContent",!0),o?Te(o,n)>0?o:ot(n.helperString(R),[o],r):tt("",!0))]}},model:(t,e,n)=>{const o=Kn(t,e,n);if(!o.props.length||1===e.tagType)return o;t.arg&&n.onError(Eo(56,t.arg.loc));const{tag:r}=e,i=n.isCustomElement(r);if("input"===r||"textarea"===r||"select"===r||i){let s=ao,a=!1;if("input"===r||i){const o=Dt(e,"type");if(o){if(7===o.type)s=co;else if(o.value)switch(o.value.content){case"radio":s=io;break;case"checkbox":s=so;break;case"file":a=!0,n.onError(Eo(57,t.loc))}}else Mt(e)&&(s=co)}else"select"===r&&(s=lo);a||(o.needRuntime=n.helper(s))}else n.onError(Eo(55,t.loc));return o.props=o.props.filter((t=>!(4===t.key.type&&"modelValue"===t.key.content))),o},on:(t,e,n)=>jn(t,e,n,(e=>{const{modifiers:r}=t;if(!r.length)return e;let{key:i,value:s}=e.props[0];const{keyModifiers:a,nonKeyModifiers:l,eventOptionModifiers:c}=((t,e,n,o)=>{const r=[],i=[],s=[];for(let o=0;o<e.length;o++){const a=e[o];"native"===a&&Zt("COMPILER_V_ON_NATIVE",n)||bo(a)?s.push(a):wo(a)?ht(t)?Oo(t.content)?r.push(a):i.push(a):(r.push(a),i.push(a)):So(a)?i.push(a):r.push(a)}return{keyModifiers:r,nonKeyModifiers:i,eventOptionModifiers:s}})(i,r,n,t.loc);if(l.includes("right")&&(i=Po(i,"onContextmenu")),l.includes("middle")&&(i=Po(i,"onMouseup")),l.length&&(s=ot(n.helper(uo),[s,JSON.stringify(l)])),!a.length||ht(i)&&!Oo(i.content)||(s=ot(n.helper(po),[s,JSON.stringify(a)])),c.length){const t=c.map(o.capitalize).join("");i=ht(i)?tt(`${i.content}${t}`,!0):nt(["(",i,`) + "${t}"`])}return{props:[Q(i,s)]}})),show:(t,e,n)=>{const{exp:o,loc:r}=t;return o||n.onError(Eo(59,r)),{props:[],needRuntime:n.helper(ho)}}};function xo(t,e={}){return oo(t,(0,o.extend)({},yo,e,{nodeTransforms:[To,...Ro,...e.nodeTransforms||[]],directiveTransforms:(0,o.extend)({},Do,e.directiveTransforms||{}),transformHoist:null}))}function Mo(t,e={}){return te(t,(0,o.extend)({},yo,e))}},2262:(t,e,n)=>{"use strict";n.d(e,{$y:()=>Rt,B:()=>s,BK:()=>Yt,Bj:()=>i,EB:()=>c,Fl:()=>Qt,IU:()=>Mt,Jd:()=>P,OT:()=>wt,PG:()=>Tt,SU:()=>Wt,Um:()=>St,Vh:()=>qt,WL:()=>$t,X$:()=>x,X3:()=>xt,XI:()=>Bt,Xl:()=>At,YS:()=>Ot,ZM:()=>Kt,cE:()=>b,dq:()=>Ft,iH:()=>Gt,j:()=>R,lk:()=>T,nZ:()=>l,oR:()=>Vt,qj:()=>bt,qq:()=>C,sT:()=>S,yT:()=>Dt});var o=n(3577);let r;class i{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=r,!t&&r&&(this.index=(r.scopes||(r.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const e=r;try{return r=this,t()}finally{r=e}}else 0}on(){r=this}off(){r=this.parent}stop(t){if(this._active){let e,n;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].stop();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.parent=void 0,this._active=!1}}}function s(t){return new i(t)}function a(t,e=r){e&&e.active&&e.effects.push(t)}function l(){return r}function c(t){r&&r.cleanups.push(t)}const u=t=>{const e=new Set(t);return e.w=0,e.n=0,e},d=t=>(t.w&g)>0,p=t=>(t.n&g)>0,h=new WeakMap;let f=0,g=1;const _=30;let m;const y=Symbol(""),v=Symbol("");class C{constructor(t,e=null,n){this.fn=t,this.scheduler=e,this.active=!0,this.deps=[],this.parent=void 0,a(this,n)}run(){if(!this.active)return this.fn();let t=m,e=w;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=m,m=this,w=!0,g=1<<++f,f<=_?(({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=g})(this):E(this),this.fn()}finally{f<=_&&(t=>{const{deps:e}=t;if(e.length){let n=0;for(let o=0;o<e.length;o++){const r=e[o];d(r)&&!p(r)?r.delete(t):e[n++]=r,r.w&=~g,r.n&=~g}e.length=n}})(this),g=1<<--f,m=this.parent,w=e,this.parent=void 0,this.deferStop&&this.stop()}}stop(){m===this?this.deferStop=!0:this.active&&(E(this),this.onStop&&this.onStop(),this.active=!1)}}function E(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}function b(t,e){t.effect&&(t=t.effect.fn);const n=new C(t);e&&((0,o.extend)(n,e),e.scope&&a(n,e.scope)),e&&e.lazy||n.run();const r=n.run.bind(n);return r.effect=n,r}function S(t){t.effect.stop()}let w=!0;const O=[];function P(){O.push(w),w=!1}function T(){const t=O.pop();w=void 0===t||t}function R(t,e,n){if(w&&m){let e=h.get(t);e||h.set(t,e=new Map);let o=e.get(n);o||e.set(n,o=u());D(o,void 0)}}function D(t,e){let n=!1;f<=_?p(t)||(t.n|=g,n=!d(t)):n=!t.has(m),n&&(t.add(m),m.deps.push(t))}function x(t,e,n,r,i,s){const a=h.get(t);if(!a)return;let l=[];if("clear"===e)l=[...a.values()];else if("length"===n&&(0,o.isArray)(t)){const t=Number(r);a.forEach(((e,n)=>{("length"===n||n>=t)&&l.push(e)}))}else switch(void 0!==n&&l.push(a.get(n)),e){case"add":(0,o.isArray)(t)?(0,o.isIntegerKey)(n)&&l.push(a.get("length")):(l.push(a.get(y)),(0,o.isMap)(t)&&l.push(a.get(v)));break;case"delete":(0,o.isArray)(t)||(l.push(a.get(y)),(0,o.isMap)(t)&&l.push(a.get(v)));break;case"set":(0,o.isMap)(t)&&l.push(a.get(y))}if(1===l.length)l[0]&&M(l[0]);else{const t=[];for(const e of l)e&&t.push(...e);M(u(t))}}function M(t,e){const n=(0,o.isArray)(t)?t:[...t];for(const t of n)t.computed&&A(t,e);for(const t of n)t.computed||A(t,e)}function A(t,e){(t!==m||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const L=(0,o.makeMap)("__proto__,__v_isRef,__isVue"),I=new Set(Object.getOwnPropertyNames(Symbol).filter((t=>"arguments"!==t&&"caller"!==t)).map((t=>Symbol[t])).filter(o.isSymbol)),N=V(),k=V(!1,!0),F=V(!0),G=V(!0,!0),B=U();function U(){const t={};return["includes","indexOf","lastIndexOf"].forEach((e=>{t[e]=function(...t){const n=Mt(this);for(let t=0,e=this.length;t<e;t++)R(n,0,t+"");const o=n[e](...t);return-1===o||!1===o?n[e](...t.map(Mt)):o}})),["push","pop","shift","unshift","splice"].forEach((e=>{t[e]=function(...t){P();const n=Mt(this)[e].apply(this,t);return T(),n}})),t}function j(t){const e=Mt(this);return R(e,0,t),e.hasOwnProperty(t)}function V(t=!1,e=!1){return function(n,r,i){if("__v_isReactive"===r)return!t;if("__v_isReadonly"===r)return t;if("__v_isShallow"===r)return e;if("__v_raw"===r&&i===(t?e?Et:Ct:e?vt:yt).get(n))return n;const s=(0,o.isArray)(n);if(!t){if(s&&(0,o.hasOwn)(B,r))return Reflect.get(B,r,i);if("hasOwnProperty"===r)return j}const a=Reflect.get(n,r,i);return((0,o.isSymbol)(r)?I.has(r):L(r))?a:(t||R(n,0,r),e?a:Ft(a)?s&&(0,o.isIntegerKey)(r)?a:a.value:(0,o.isObject)(a)?t?wt(a):bt(a):a)}}const W=$(),H=$(!0);function $(t=!1){return function(e,n,r,i){let s=e[n];if(Rt(s)&&Ft(s)&&!Ft(r))return!1;if(!t&&(Dt(r)||Rt(r)||(s=Mt(s),r=Mt(r)),!(0,o.isArray)(e)&&Ft(s)&&!Ft(r)))return s.value=r,!0;const a=(0,o.isArray)(e)&&(0,o.isIntegerKey)(n)?Number(n)<e.length:(0,o.hasOwn)(e,n),l=Reflect.set(e,n,r,i);return e===Mt(i)&&(a?(0,o.hasChanged)(r,s)&&x(e,"set",n,r):x(e,"add",n,r)),l}}const z={get:N,set:W,deleteProperty:function(t,e){const n=(0,o.hasOwn)(t,e),r=(t[e],Reflect.deleteProperty(t,e));return r&&n&&x(t,"delete",e,void 0),r},has:function(t,e){const n=Reflect.has(t,e);return(0,o.isSymbol)(e)&&I.has(e)||R(t,0,e),n},ownKeys:function(t){return R(t,0,(0,o.isArray)(t)?"length":y),Reflect.ownKeys(t)}},K={get:F,set:(t,e)=>!0,deleteProperty:(t,e)=>!0},Y=(0,o.extend)({},z,{get:k,set:H}),Z=(0,o.extend)({},K,{get:G}),q=t=>t,X=t=>Reflect.getPrototypeOf(t);function J(t,e,n=!1,o=!1){const r=Mt(t=t.__v_raw),i=Mt(e);n||(e!==i&&R(r,0,e),R(r,0,i));const{has:s}=X(r),a=o?q:n?It:Lt;return s.call(r,e)?a(t.get(e)):s.call(r,i)?a(t.get(i)):void(t!==r&&t.get(e))}function Q(t,e=!1){const n=this.__v_raw,o=Mt(n),r=Mt(t);return e||(t!==r&&R(o,0,t),R(o,0,r)),t===r?n.has(t):n.has(t)||n.has(r)}function tt(t,e=!1){return t=t.__v_raw,!e&&R(Mt(t),0,y),Reflect.get(t,"size",t)}function et(t){t=Mt(t);const e=Mt(this);return X(e).has.call(e,t)||(e.add(t),x(e,"add",t,t)),this}function nt(t,e){e=Mt(e);const n=Mt(this),{has:r,get:i}=X(n);let s=r.call(n,t);s||(t=Mt(t),s=r.call(n,t));const a=i.call(n,t);return n.set(t,e),s?(0,o.hasChanged)(e,a)&&x(n,"set",t,e):x(n,"add",t,e),this}function ot(t){const e=Mt(this),{has:n,get:o}=X(e);let r=n.call(e,t);r||(t=Mt(t),r=n.call(e,t));o&&o.call(e,t);const i=e.delete(t);return r&&x(e,"delete",t,void 0),i}function rt(){const t=Mt(this),e=0!==t.size,n=t.clear();return e&&x(t,"clear",void 0,void 0),n}function it(t,e){return function(n,o){const r=this,i=r.__v_raw,s=Mt(i),a=e?q:t?It:Lt;return!t&&R(s,0,y),i.forEach(((t,e)=>n.call(o,a(t),a(e),r)))}}function st(t,e,n){return function(...r){const i=this.__v_raw,s=Mt(i),a=(0,o.isMap)(s),l="entries"===t||t===Symbol.iterator&&a,c="keys"===t&&a,u=i[t](...r),d=n?q:e?It:Lt;return!e&&R(s,0,c?v:y),{next(){const{value:t,done:e}=u.next();return e?{value:t,done:e}:{value:l?[d(t[0]),d(t[1])]:d(t),done:e}},[Symbol.iterator](){return this}}}}function at(t){return function(...e){return"delete"!==t&&this}}function lt(){const t={get(t){return J(this,t)},get size(){return tt(this)},has:Q,add:et,set:nt,delete:ot,clear:rt,forEach:it(!1,!1)},e={get(t){return J(this,t,!1,!0)},get size(){return tt(this)},has:Q,add:et,set:nt,delete:ot,clear:rt,forEach:it(!1,!0)},n={get(t){return J(this,t,!0)},get size(){return tt(this,!0)},has(t){return Q.call(this,t,!0)},add:at("add"),set:at("set"),delete:at("delete"),clear:at("clear"),forEach:it(!0,!1)},o={get(t){return J(this,t,!0,!0)},get size(){return tt(this,!0)},has(t){return Q.call(this,t,!0)},add:at("add"),set:at("set"),delete:at("delete"),clear:at("clear"),forEach:it(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((r=>{t[r]=st(r,!1,!1),n[r]=st(r,!0,!1),e[r]=st(r,!1,!0),o[r]=st(r,!0,!0)})),[t,n,e,o]}const[ct,ut,dt,pt]=lt();function ht(t,e){const n=e?t?pt:dt:t?ut:ct;return(e,r,i)=>"__v_isReactive"===r?!t:"__v_isReadonly"===r?t:"__v_raw"===r?e:Reflect.get((0,o.hasOwn)(n,r)&&r in e?n:e,r,i)}const ft={get:ht(!1,!1)},gt={get:ht(!1,!0)},_t={get:ht(!0,!1)},mt={get:ht(!0,!0)};const yt=new WeakMap,vt=new WeakMap,Ct=new WeakMap,Et=new WeakMap;function bt(t){return Rt(t)?t:Pt(t,!1,z,ft,yt)}function St(t){return Pt(t,!1,Y,gt,vt)}function wt(t){return Pt(t,!0,K,_t,Ct)}function Ot(t){return Pt(t,!0,Z,mt,Et)}function Pt(t,e,n,r,i){if(!(0,o.isObject)(t))return t;if(t.__v_raw&&(!e||!t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const a=(l=t).__v_skip||!Object.isExtensible(l)?0:function(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((0,o.toRawType)(l));var l;if(0===a)return t;const c=new Proxy(t,2===a?r:n);return i.set(t,c),c}function Tt(t){return Rt(t)?Tt(t.__v_raw):!(!t||!t.__v_isReactive)}function Rt(t){return!(!t||!t.__v_isReadonly)}function Dt(t){return!(!t||!t.__v_isShallow)}function xt(t){return Tt(t)||Rt(t)}function Mt(t){const e=t&&t.__v_raw;return e?Mt(e):t}function At(t){return(0,o.def)(t,"__v_skip",!0),t}const Lt=t=>(0,o.isObject)(t)?bt(t):t,It=t=>(0,o.isObject)(t)?wt(t):t;function Nt(t){w&&m&&D((t=Mt(t)).dep||(t.dep=u()))}function kt(t,e){const n=(t=Mt(t)).dep;n&&M(n)}function Ft(t){return!(!t||!0!==t.__v_isRef)}function Gt(t){return Ut(t,!1)}function Bt(t){return Ut(t,!0)}function Ut(t,e){return Ft(t)?t:new jt(t,e)}class jt{constructor(t,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:Mt(t),this._value=e?t:Lt(t)}get value(){return Nt(this),this._value}set value(t){const e=this.__v_isShallow||Dt(t)||Rt(t);t=e?t:Mt(t),(0,o.hasChanged)(t,this._rawValue)&&(this._rawValue=t,this._value=e?t:Lt(t),kt(this))}}function Vt(t){kt(t)}function Wt(t){return Ft(t)?t.value:t}const Ht={get:(t,e,n)=>Wt(Reflect.get(t,e,n)),set:(t,e,n,o)=>{const r=t[e];return Ft(r)&&!Ft(n)?(r.value=n,!0):Reflect.set(t,e,n,o)}};function $t(t){return Tt(t)?t:new Proxy(t,Ht)}class zt{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:e,set:n}=t((()=>Nt(this)),(()=>kt(this)));this._get=e,this._set=n}get value(){return this._get()}set value(t){this._set(t)}}function Kt(t){return new zt(t)}function Yt(t){const e=(0,o.isArray)(t)?new Array(t.length):{};for(const n in t)e[n]=qt(t,n);return e}class Zt{constructor(t,e,n){this._object=t,this._key=e,this._defaultValue=n,this.__v_isRef=!0}get value(){const t=this._object[this._key];return void 0===t?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return function(t,e){var n;return null===(n=h.get(t))||void 0===n?void 0:n.get(e)}(Mt(this._object),this._key)}}function qt(t,e,n){const o=t[e];return Ft(o)?o:new Zt(t,e,n)}var Xt;class Jt{constructor(t,e,n,o){this._setter=e,this.dep=void 0,this.__v_isRef=!0,this[Xt]=!1,this._dirty=!0,this.effect=new C(t,(()=>{this._dirty||(this._dirty=!0,kt(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=n}get value(){const t=Mt(this);return Nt(t),!t._dirty&&t._cacheable||(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Qt(t,e,n=!1){let r,i;const s=(0,o.isFunction)(t);s?(r=t,i=o.NOOP):(r=t.get,i=t.set);return new Jt(r,i,s||!i,n)}Xt="__v_isReadonly"},6252:(t,e,n)=>{"use strict";n.d(e,{$d:()=>l,$y:()=>o.$y,Ah:()=>jt,B:()=>o.B,BK:()=>o.BK,Bj:()=>o.Bj,Bz:()=>io,C3:()=>Cn,C_:()=>r.normalizeClass,Cn:()=>B,EB:()=>o.EB,Eo:()=>Ke,F4:()=>Tn,FN:()=>jn,Fl:()=>oo,G:()=>bo,HX:()=>U,HY:()=>on,Ho:()=>Rn,IU:()=>o.IU,JJ:()=>et,Jd:()=>Ut,KU:()=>a,Ko:()=>ne,LL:()=>Jt,MW:()=>ro,MX:()=>vo,Mr:()=>yo,Nv:()=>oe,OT:()=>o.OT,Ob:()=>Pt,P$:()=>ft,PG:()=>o.PG,Q2:()=>Qt,Q6:()=>Ct,RC:()=>St,Rh:()=>rt,Rr:()=>lo,S3:()=>c,SU:()=>o.SU,U2:()=>_t,Uc:()=>_o,Uk:()=>Dn,Um:()=>o.Um,Us:()=>ze,Vh:()=>o.Vh,WI:()=>re,WL:()=>o.WL,WY:()=>so,Wm:()=>On,Wu:()=>s,X3:()=>o.X3,XI:()=>o.XI,Xl:()=>o.Xl,Xn:()=>Gt,Y1:()=>qn,Y3:()=>v,Y8:()=>pt,YP:()=>at,YS:()=>o.YS,Yq:()=>Wt,ZK:()=>i,ZM:()=>o.ZM,Zq:()=>mo,_:()=>wn,_A:()=>r.camelize,aZ:()=>Et,b9:()=>ao,bT:()=>Ht,bv:()=>Ft,cE:()=>o.cE,d1:()=>$t,dD:()=>G,dG:()=>Nn,dl:()=>Rt,dq:()=>o.dq,ec:()=>M,eq:()=>So,f3:()=>nt,h:()=>go,hR:()=>r.toHandlerKey,i8:()=>Eo,iD:()=>_n,iH:()=>o.iH,ic:()=>Bt,j4:()=>mn,j5:()=>r.normalizeStyle,kC:()=>r.capitalize,kq:()=>Mn,l1:()=>co,lA:()=>yn,lR:()=>en,m0:()=>ot,mW:()=>R,mv:()=>fo,mx:()=>se,n4:()=>Z,nK:()=>vt,nQ:()=>Co,nZ:()=>o.nZ,oR:()=>o.oR,of:()=>Xn,p1:()=>ho,qG:()=>an,qZ:()=>fn,qb:()=>b,qj:()=>o.qj,qq:()=>o.qq,ry:()=>wo,sT:()=>o.sT,se:()=>Dt,sv:()=>sn,uE:()=>xn,u_:()=>po,up:()=>qt,vl:()=>Vt,vs:()=>r.normalizeProps,w5:()=>j,wF:()=>kt,wg:()=>un,wy:()=>zt,xv:()=>rn,yT:()=>o.yT,yX:()=>it,zw:()=>r.toDisplayString});var o=n(2262),r=n(3577);function i(t,...e){}function s(t,e){}function a(t,e,n,o){let r;try{r=o?t(...o):t()}catch(t){c(t,e,n)}return r}function l(t,e,n,o){if((0,r.isFunction)(t)){const i=a(t,e,n,o);return i&&(0,r.isPromise)(i)&&i.catch((t=>{c(t,e,n)})),i}const i=[];for(let r=0;r<t.length;r++)i.push(l(t[r],e,n,o));return i}function c(t,e,n,o=!0){e&&e.vnode;if(e){let o=e.parent;const r=e.proxy,i=n;for(;o;){const e=o.ec;if(e)for(let n=0;n<e.length;n++)if(!1===e[n](t,r,i))return;o=o.parent}const s=e.appContext.config.errorHandler;if(s)return void a(s,null,10,[t,r,i])}!function(t,e,n,o=!0){console.error(t)}(t,0,0,o)}let u=!1,d=!1;const p=[];let h=0;const f=[];let g=null,_=0;const m=Promise.resolve();let y=null;function v(t){const e=y||m;return t?e.then(this?t.bind(this):t):e}function C(t){p.length&&p.includes(t,u&&t.allowRecurse?h+1:h)||(null==t.id?p.push(t):p.splice(function(t){let e=h+1,n=p.length;for(;e<n;){const o=e+n>>>1;O(p[o])<t?e=o+1:n=o}return e}(t.id),0,t),E())}function E(){u||d||(d=!0,y=m.then(T))}function b(t){(0,r.isArray)(t)?f.push(...t):g&&g.includes(t,t.allowRecurse?_+1:_)||f.push(t),E()}function S(t,e=(u?h+1:0)){for(0;e<p.length;e++){const t=p[e];t&&t.pre&&(p.splice(e,1),e--,t())}}function w(t){if(f.length){const t=[...new Set(f)];if(f.length=0,g)return void g.push(...t);for(g=t,g.sort(((t,e)=>O(t)-O(e))),_=0;_<g.length;_++)g[_]();g=null,_=0}}const O=t=>null==t.id?1/0:t.id,P=(t,e)=>{const n=O(t)-O(e);if(0===n){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function T(t){d=!1,u=!0,p.sort(P);r.NOOP;try{for(h=0;h<p.length;h++){const t=p[h];t&&!1!==t.active&&a(t,null,14)}}finally{h=0,p.length=0,w(),u=!1,y=null,(p.length||f.length)&&T(t)}}new Set;new Map;let R,D=[],x=!1;function M(t,e){var n,o;if(R=t,R)R.enabled=!0,D.forEach((({event:t,args:e})=>R.emit(t,...e))),D=[];else if("undefined"!=typeof window&&window.HTMLElement&&!(null===(o=null===(n=window.navigator)||void 0===n?void 0:n.userAgent)||void 0===o?void 0:o.includes("jsdom"))){(e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push((t=>{M(t,e)})),setTimeout((()=>{R||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,x=!0,D=[])}),3e3)}else x=!0,D=[]}function A(t,e,...n){if(t.isUnmounted)return;const o=t.vnode.props||r.EMPTY_OBJ;let i=n;const s=e.startsWith("update:"),a=s&&e.slice(7);if(a&&a in o){const t=`${"modelValue"===a?"model":a}Modifiers`,{number:e,trim:s}=o[t]||r.EMPTY_OBJ;s&&(i=n.map((t=>(0,r.isString)(t)?t.trim():t))),e&&(i=n.map(r.looseToNumber))}let c;let u=o[c=(0,r.toHandlerKey)(e)]||o[c=(0,r.toHandlerKey)((0,r.camelize)(e))];!u&&s&&(u=o[c=(0,r.toHandlerKey)((0,r.hyphenate)(e))]),u&&l(u,t,6,i);const d=o[c+"Once"];if(d){if(t.emitted){if(t.emitted[c])return}else t.emitted={};t.emitted[c]=!0,l(d,t,6,i)}}function L(t,e,n=!1){const o=e.emitsCache,i=o.get(t);if(void 0!==i)return i;const s=t.emits;let a={},l=!1;if(!(0,r.isFunction)(t)){const o=t=>{const n=L(t,e,!0);n&&(l=!0,(0,r.extend)(a,n))};!n&&e.mixins.length&&e.mixins.forEach(o),t.extends&&o(t.extends),t.mixins&&t.mixins.forEach(o)}return s||l?((0,r.isArray)(s)?s.forEach((t=>a[t]=null)):(0,r.extend)(a,s),(0,r.isObject)(t)&&o.set(t,a),a):((0,r.isObject)(t)&&o.set(t,null),null)}function I(t,e){return!(!t||!(0,r.isOn)(e))&&(e=e.slice(2).replace(/Once$/,""),(0,r.hasOwn)(t,e[0].toLowerCase()+e.slice(1))||(0,r.hasOwn)(t,(0,r.hyphenate)(e))||(0,r.hasOwn)(t,e))}let N=null,k=null;function F(t){const e=N;return N=t,k=t&&t.type.__scopeId||null,e}function G(t){k=t}function B(){k=null}const U=t=>j;function j(t,e=N,n){if(!e)return t;if(t._n)return t;const o=(...n)=>{o._d&&fn(-1);const r=F(e);let i;try{i=t(...n)}finally{F(r),o._d&&fn(1)}return i};return o._n=!0,o._c=!0,o._d=!0,o}function V(t){const{type:e,vnode:n,proxy:o,withProxy:i,props:s,propsOptions:[a],slots:l,attrs:u,emit:d,render:p,renderCache:h,data:f,setupState:g,ctx:_,inheritAttrs:m}=t;let y,v;const C=F(t);try{if(4&n.shapeFlag){const t=i||o;y=An(p.call(t,t,h,s,g,f,_)),v=u}else{const t=e;0,y=An(t.length>1?t(s,{attrs:u,slots:l,emit:d}):t(s,null)),v=e.props?u:H(u)}}catch(e){ln.length=0,c(e,t,1),y=On(sn)}let E=y;if(v&&!1!==m){const t=Object.keys(v),{shapeFlag:e}=E;t.length&&7&e&&(a&&t.some(r.isModelListener)&&(v=$(v,a)),E=Rn(E,v))}return n.dirs&&(E=Rn(E),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&(E.transition=n.transition),y=E,F(C),y}function W(t){let e;for(let n=0;n<t.length;n++){const o=t[n];if(!yn(o))return;if(o.type!==sn||"v-if"===o.children){if(e)return;e=o}}return e}const H=t=>{let e;for(const n in t)("class"===n||"style"===n||(0,r.isOn)(n))&&((e||(e={}))[n]=t[n]);return e},$=(t,e)=>{const n={};for(const o in t)(0,r.isModelListener)(o)&&o.slice(9)in e||(n[o]=t[o]);return n};function z(t,e,n){const o=Object.keys(e);if(o.length!==Object.keys(t).length)return!0;for(let r=0;r<o.length;r++){const i=o[r];if(e[i]!==t[i]&&!I(n,i))return!0}return!1}function K({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const Y=t=>t.__isSuspense,Z={name:"Suspense",__isSuspense:!0,process(t,e,n,o,r,i,s,a,l,c){null==t?function(t,e,n,o,r,i,s,a,l){const{p:c,o:{createElement:u}}=l,d=u("div"),p=t.suspense=X(t,r,o,e,d,n,i,s,a,l);c(null,p.pendingBranch=t.ssContent,d,null,o,p,i,s),p.deps>0?(q(t,"onPending"),q(t,"onFallback"),c(null,t.ssFallback,e,n,o,null,i,s),tt(p,t.ssFallback)):p.resolve()}(e,n,o,r,i,s,a,l,c):function(t,e,n,o,r,i,s,a,{p:l,um:c,o:{createElement:u}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const p=e.ssContent,h=e.ssFallback,{activeBranch:f,pendingBranch:g,isInFallback:_,isHydrating:m}=d;if(g)d.pendingBranch=p,vn(p,g)?(l(g,p,d.hiddenContainer,null,r,d,i,s,a),d.deps<=0?d.resolve():_&&(l(f,h,n,o,r,null,i,s,a),tt(d,h))):(d.pendingId++,m?(d.isHydrating=!1,d.activeBranch=g):c(g,r,d),d.deps=0,d.effects.length=0,d.hiddenContainer=u("div"),_?(l(null,p,d.hiddenContainer,null,r,d,i,s,a),d.deps<=0?d.resolve():(l(f,h,n,o,r,null,i,s,a),tt(d,h))):f&&vn(p,f)?(l(f,p,n,o,r,d,i,s,a),d.resolve(!0)):(l(null,p,d.hiddenContainer,null,r,d,i,s,a),d.deps<=0&&d.resolve()));else if(f&&vn(p,f))l(f,p,n,o,r,d,i,s,a),tt(d,p);else if(q(e,"onPending"),d.pendingBranch=p,d.pendingId++,l(null,p,d.hiddenContainer,null,r,d,i,s,a),d.deps<=0)d.resolve();else{const{timeout:t,pendingId:e}=d;t>0?setTimeout((()=>{d.pendingId===e&&d.fallback(h)}),t):0===t&&d.fallback(h)}}(t,e,n,o,r,s,a,l,c)},hydrate:function(t,e,n,o,r,i,s,a,l){const c=e.suspense=X(e,o,n,t.parentNode,document.createElement("div"),null,r,i,s,a,!0),u=l(t,c.pendingBranch=e.ssContent,n,c,i,s);0===c.deps&&c.resolve();return u},create:X,normalize:function(t){const{shapeFlag:e,children:n}=t,o=32&e;t.ssContent=J(o?n.default:n),t.ssFallback=o?J(n.fallback):On(sn)}};function q(t,e){const n=t.props&&t.props[e];(0,r.isFunction)(n)&&n()}function X(t,e,n,o,i,s,a,l,u,d,p=!1){const{p:h,m:f,um:g,n:_,o:{parentNode:m,remove:y}}=d,v=t.props?(0,r.toNumber)(t.props.timeout):void 0;const C={vnode:t,parent:e,parentComponent:n,isSVG:a,container:o,hiddenContainer:i,anchor:s,deps:0,pendingId:0,timeout:"number"==typeof v?v:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:p,isUnmounted:!1,effects:[],resolve(t=!1){const{vnode:e,activeBranch:n,pendingBranch:o,pendingId:r,effects:i,parentComponent:s,container:a}=C;if(C.isHydrating)C.isHydrating=!1;else if(!t){const t=n&&o.transition&&"out-in"===o.transition.mode;t&&(n.transition.afterLeave=()=>{r===C.pendingId&&f(o,a,e,0)});let{anchor:e}=C;n&&(e=_(n),g(n,s,C,!0)),t||f(o,a,e,0)}tt(C,o),C.pendingBranch=null,C.isInFallback=!1;let l=C.parent,c=!1;for(;l;){if(l.pendingBranch){l.effects.push(...i),c=!0;break}l=l.parent}c||b(i),C.effects=[],q(e,"onResolve")},fallback(t){if(!C.pendingBranch)return;const{vnode:e,activeBranch:n,parentComponent:o,container:r,isSVG:i}=C;q(e,"onFallback");const s=_(n),a=()=>{C.isInFallback&&(h(null,t,r,s,o,null,i,l,u),tt(C,t))},c=t.transition&&"out-in"===t.transition.mode;c&&(n.transition.afterLeave=a),C.isInFallback=!0,g(n,o,null,!0),c||a()},move(t,e,n){C.activeBranch&&f(C.activeBranch,t,e,n),C.container=t},next:()=>C.activeBranch&&_(C.activeBranch),registerDep(t,e){const n=!!C.pendingBranch;n&&C.deps++;const o=t.vnode.el;t.asyncDep.catch((e=>{c(e,t,0)})).then((r=>{if(t.isUnmounted||C.isUnmounted||C.pendingId!==t.suspenseId)return;t.asyncResolved=!0;const{vnode:i}=t;Zn(t,r,!1),o&&(i.el=o);const s=!o&&t.subTree.el;e(t,i,m(o||t.subTree.el),o?null:_(t.subTree),C,a,u),s&&y(s),K(t,i.el),n&&0==--C.deps&&C.resolve()}))},unmount(t,e){C.isUnmounted=!0,C.activeBranch&&g(C.activeBranch,n,t,e),C.pendingBranch&&g(C.pendingBranch,n,t,e)}};return C}function J(t){let e;if((0,r.isFunction)(t)){const n=hn&&t._c;n&&(t._d=!1,un()),t=t(),n&&(t._d=!0,e=cn,dn())}if((0,r.isArray)(t)){const e=W(t);0,t=e}return t=An(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter((e=>e!==t))),t}function Q(t,e){e&&e.pendingBranch?(0,r.isArray)(t)?e.effects.push(...t):e.effects.push(t):b(t)}function tt(t,e){t.activeBranch=e;const{vnode:n,parentComponent:o}=t,r=n.el=e.el;o&&o.subTree===n&&(o.vnode.el=r,K(o,r))}function et(t,e){if(Un){let n=Un.provides;const o=Un.parent&&Un.parent.provides;o===n&&(n=Un.provides=Object.create(o)),n[t]=e}else 0}function nt(t,e,n=!1){const o=Un||N;if(o){const i=null==o.parent?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&(0,r.isFunction)(e)?e.call(o.proxy):e}else 0}function ot(t,e){return lt(t,null,e)}function rt(t,e){return lt(t,null,{flush:"post"})}function it(t,e){return lt(t,null,{flush:"sync"})}const st={};function at(t,e,n){return lt(t,e,n)}function lt(t,e,{immediate:n,deep:i,flush:s,onTrack:c,onTrigger:u}=r.EMPTY_OBJ){const d=(0,o.nZ)()===(null==Un?void 0:Un.scope)?Un:null;let p,h,f=!1,g=!1;if((0,o.dq)(t)?(p=()=>t.value,f=(0,o.yT)(t)):(0,o.PG)(t)?(p=()=>t,i=!0):(0,r.isArray)(t)?(g=!0,f=t.some((t=>(0,o.PG)(t)||(0,o.yT)(t))),p=()=>t.map((t=>(0,o.dq)(t)?t.value:(0,o.PG)(t)?dt(t):(0,r.isFunction)(t)?a(t,d,2):void 0))):p=(0,r.isFunction)(t)?e?()=>a(t,d,2):()=>{if(!d||!d.isUnmounted)return h&&h(),l(t,d,3,[m])}:r.NOOP,e&&i){const t=p;p=()=>dt(t())}let _,m=t=>{h=b.onStop=()=>{a(t,d,4)}};if(Kn){if(m=r.NOOP,e?n&&l(e,d,3,[p(),g?[]:void 0,m]):p(),"sync"!==s)return r.NOOP;{const t=mo();_=t.__watcherHandles||(t.__watcherHandles=[])}}let y=g?new Array(t.length).fill(st):st;const v=()=>{if(b.active)if(e){const t=b.run();(i||f||(g?t.some(((t,e)=>(0,r.hasChanged)(t,y[e]))):(0,r.hasChanged)(t,y)))&&(h&&h(),l(e,d,3,[t,y===st?void 0:g&&y[0]===st?[]:y,m]),y=t)}else b.run()};let E;v.allowRecurse=!!e,"sync"===s?E=v:"post"===s?E=()=>$e(v,d&&d.suspense):(v.pre=!0,d&&(v.id=d.uid),E=()=>C(v));const b=new o.qq(p,E);e?n?v():y=b.run():"post"===s?$e(b.run.bind(b),d&&d.suspense):b.run();const S=()=>{b.stop(),d&&d.scope&&(0,r.remove)(d.scope.effects,b)};return _&&_.push(S),S}function ct(t,e,n){const o=this.proxy,i=(0,r.isString)(t)?t.includes(".")?ut(o,t):()=>o[t]:t.bind(o,o);let s;(0,r.isFunction)(e)?s=e:(s=e.handler,n=e);const a=Un;Vn(this);const l=lt(i,s.bind(o),n);return a?Vn(a):Wn(),l}function ut(t,e){const n=e.split(".");return()=>{let e=t;for(let t=0;t<n.length&&e;t++)e=e[n[t]];return e}}function dt(t,e){if(!(0,r.isObject)(t)||t.__v_skip)return t;if((e=e||new Set).has(t))return t;if(e.add(t),(0,o.dq)(t))dt(t.value,e);else if((0,r.isArray)(t))for(let n=0;n<t.length;n++)dt(t[n],e);else if((0,r.isSet)(t)||(0,r.isMap)(t))t.forEach((t=>{dt(t,e)}));else if((0,r.isPlainObject)(t))for(const n in t)dt(t[n],e);return t}function pt(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ft((()=>{t.isMounted=!0})),Ut((()=>{t.isUnmounting=!0})),t}const ht=[Function,Array],ft={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ht,onEnter:ht,onAfterEnter:ht,onEnterCancelled:ht,onBeforeLeave:ht,onLeave:ht,onAfterLeave:ht,onLeaveCancelled:ht,onBeforeAppear:ht,onAppear:ht,onAfterAppear:ht,onAppearCancelled:ht},setup(t,{slots:e}){const n=jn(),r=pt();let i;return()=>{const s=e.default&&Ct(e.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){let t=!1;for(const e of s)if(e.type!==sn){0,a=e,t=!0;break}}const l=(0,o.IU)(t),{mode:c}=l;if(r.isLeaving)return mt(a);const u=yt(a);if(!u)return mt(a);const d=_t(u,l,r,n);vt(u,d);const p=n.subTree,h=p&&yt(p);let f=!1;const{getTransitionKey:g}=u.type;if(g){const t=g();void 0===i?i=t:t!==i&&(i=t,f=!0)}if(h&&h.type!==sn&&(!vn(u,h)||f)){const t=_t(h,l,r,n);if(vt(h,t),"out-in"===c)return r.isLeaving=!0,t.afterLeave=()=>{r.isLeaving=!1,!1!==n.update.active&&n.update()},mt(a);"in-out"===c&&u.type!==sn&&(t.delayLeave=(t,e,n)=>{gt(r,h)[String(h.key)]=h,t._leaveCb=()=>{e(),t._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=n})}return a}}};function gt(t,e){const{leavingVNodes:n}=t;let o=n.get(e.type);return o||(o=Object.create(null),n.set(e.type,o)),o}function _t(t,e,n,o){const{appear:i,mode:s,persisted:a=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:d,onEnterCancelled:p,onBeforeLeave:h,onLeave:f,onAfterLeave:g,onLeaveCancelled:_,onBeforeAppear:m,onAppear:y,onAfterAppear:v,onAppearCancelled:C}=e,E=String(t.key),b=gt(n,t),S=(t,e)=>{t&&l(t,o,9,e)},w=(t,e)=>{const n=e[1];S(t,e),(0,r.isArray)(t)?t.every((t=>t.length<=1))&&n():t.length<=1&&n()},O={mode:s,persisted:a,beforeEnter(e){let o=c;if(!n.isMounted){if(!i)return;o=m||c}e._leaveCb&&e._leaveCb(!0);const r=b[E];r&&vn(t,r)&&r.el._leaveCb&&r.el._leaveCb(),S(o,[e])},enter(t){let e=u,o=d,r=p;if(!n.isMounted){if(!i)return;e=y||u,o=v||d,r=C||p}let s=!1;const a=t._enterCb=e=>{s||(s=!0,S(e?r:o,[t]),O.delayedLeave&&O.delayedLeave(),t._enterCb=void 0)};e?w(e,[t,a]):a()},leave(e,o){const r=String(t.key);if(e._enterCb&&e._enterCb(!0),n.isUnmounting)return o();S(h,[e]);let i=!1;const s=e._leaveCb=n=>{i||(i=!0,o(),S(n?_:g,[e]),e._leaveCb=void 0,b[r]===t&&delete b[r])};b[r]=t,f?w(f,[e,s]):s()},clone:t=>_t(t,e,n,o)};return O}function mt(t){if(Ot(t))return(t=Rn(t)).children=null,t}function yt(t){return Ot(t)?t.children?t.children[0]:void 0:t}function vt(t,e){6&t.shapeFlag&&t.component?vt(t.component.subTree,e):128&t.shapeFlag?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Ct(t,e=!1,n){let o=[],r=0;for(let i=0;i<t.length;i++){let s=t[i];const a=null==n?s.key:String(n)+String(null!=s.key?s.key:i);s.type===on?(128&s.patchFlag&&r++,o=o.concat(Ct(s.children,e,a))):(e||s.type!==sn)&&o.push(null!=a?Rn(s,{key:a}):s)}if(r>1)for(let t=0;t<o.length;t++)o[t].patchFlag=-2;return o}function Et(t){return(0,r.isFunction)(t)?{setup:t,name:t.name}:t}const bt=t=>!!t.type.__asyncLoader;function St(t){(0,r.isFunction)(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:i,delay:s=200,timeout:a,suspensible:l=!0,onError:u}=t;let d,p=null,h=0;const f=()=>{let t;return p||(t=p=e().catch((t=>{if(t=t instanceof Error?t:new Error(String(t)),u)return new Promise(((e,n)=>{u(t,(()=>e((h++,p=null,f()))),(()=>n(t)),h+1)}));throw t})).then((e=>t!==p&&p?p:(e&&(e.__esModule||"Module"===e[Symbol.toStringTag])&&(e=e.default),d=e,e))))};return Et({name:"AsyncComponentWrapper",__asyncLoader:f,get __asyncResolved(){return d},setup(){const t=Un;if(d)return()=>wt(d,t);const e=e=>{p=null,c(e,t,13,!i)};if(l&&t.suspense||Kn)return f().then((e=>()=>wt(e,t))).catch((t=>(e(t),()=>i?On(i,{error:t}):null)));const r=(0,o.iH)(!1),u=(0,o.iH)(),h=(0,o.iH)(!!s);return s&&setTimeout((()=>{h.value=!1}),s),null!=a&&setTimeout((()=>{if(!r.value&&!u.value){const t=new Error(`Async component timed out after ${a}ms.`);e(t),u.value=t}}),a),f().then((()=>{r.value=!0,t.parent&&Ot(t.parent.vnode)&&C(t.parent.update)})).catch((t=>{e(t),u.value=t})),()=>r.value&&d?wt(d,t):u.value&&i?On(i,{error:u.value}):n&&!h.value?On(n):void 0}})}function wt(t,e){const{ref:n,props:o,children:r,ce:i}=e.vnode,s=On(t,o,r);return s.ref=n,s.ce=i,delete e.vnode.ce,s}const Ot=t=>t.type.__isKeepAlive,Pt={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=jn(),o=n.ctx;if(!o.renderer)return()=>{const t=e.default&&e.default();return t&&1===t.length?t[0]:t};const i=new Map,s=new Set;let a=null;const l=n.suspense,{renderer:{p:c,m:u,um:d,o:{createElement:p}}}=o,h=p("div");function f(t){At(t),d(t,n,l,!0)}function g(t){i.forEach(((e,n)=>{const o=eo(e.type);!o||t&&t(o)||_(n)}))}function _(t){const e=i.get(t);a&&vn(e,a)?a&&At(a):f(e),i.delete(t),s.delete(t)}o.activate=(t,e,n,o,i)=>{const s=t.component;u(t,e,n,0,l),c(s.vnode,t,e,n,s,l,o,t.slotScopeIds,i),$e((()=>{s.isDeactivated=!1,s.a&&(0,r.invokeArrayFns)(s.a);const e=t.props&&t.props.onVnodeMounted;e&&kn(e,s.parent,t)}),l)},o.deactivate=t=>{const e=t.component;u(t,h,null,1,l),$e((()=>{e.da&&(0,r.invokeArrayFns)(e.da);const n=t.props&&t.props.onVnodeUnmounted;n&&kn(n,e.parent,t),e.isDeactivated=!0}),l)},at((()=>[t.include,t.exclude]),(([t,e])=>{t&&g((e=>Tt(t,e))),e&&g((t=>!Tt(e,t)))}),{flush:"post",deep:!0});let m=null;const y=()=>{null!=m&&i.set(m,Lt(n.subTree))};return Ft(y),Bt(y),Ut((()=>{i.forEach((t=>{const{subTree:e,suspense:o}=n,r=Lt(e);if(t.type!==r.type||t.key!==r.key)f(t);else{At(r);const t=r.component.da;t&&$e(t,o)}}))})),()=>{if(m=null,!e.default)return null;const n=e.default(),o=n[0];if(n.length>1)return a=null,n;if(!(yn(o)&&(4&o.shapeFlag||128&o.shapeFlag)))return a=null,o;let r=Lt(o);const l=r.type,c=eo(bt(r)?r.type.__asyncResolved||{}:l),{include:u,exclude:d,max:p}=t;if(u&&(!c||!Tt(u,c))||d&&c&&Tt(d,c))return a=r,o;const h=null==r.key?l:r.key,f=i.get(h);return r.el&&(r=Rn(r),128&o.shapeFlag&&(o.ssContent=r)),m=h,f?(r.el=f.el,r.component=f.component,r.transition&&vt(r,r.transition),r.shapeFlag|=512,s.delete(h),s.add(h)):(s.add(h),p&&s.size>parseInt(p,10)&&_(s.values().next().value)),r.shapeFlag|=256,a=r,Y(o.type)?o:r}}};function Tt(t,e){return(0,r.isArray)(t)?t.some((t=>Tt(t,e))):(0,r.isString)(t)?t.split(",").includes(e):!!(0,r.isRegExp)(t)&&t.test(e)}function Rt(t,e){xt(t,"a",e)}function Dt(t,e){xt(t,"da",e)}function xt(t,e,n=Un){const o=t.__wdc||(t.__wdc=()=>{let e=n;for(;e;){if(e.isDeactivated)return;e=e.parent}return t()});if(It(e,o,n),n){let t=n.parent;for(;t&&t.parent;)Ot(t.parent.vnode)&&Mt(o,e,n,t),t=t.parent}}function Mt(t,e,n,o){const i=It(e,t,o,!0);jt((()=>{(0,r.remove)(o[e],i)}),n)}function At(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Lt(t){return 128&t.shapeFlag?t.ssContent:t}function It(t,e,n=Un,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...r)=>{if(n.isUnmounted)return;(0,o.Jd)(),Vn(n);const i=l(e,n,t,r);return Wn(),(0,o.lk)(),i});return r?i.unshift(s):i.push(s),s}}const Nt=t=>(e,n=Un)=>(!Kn||"sp"===t)&&It(t,((...t)=>e(...t)),n),kt=Nt("bm"),Ft=Nt("m"),Gt=Nt("bu"),Bt=Nt("u"),Ut=Nt("bum"),jt=Nt("um"),Vt=Nt("sp"),Wt=Nt("rtg"),Ht=Nt("rtc");function $t(t,e=Un){It("ec",t,e)}function zt(t,e){const n=N;if(null===n)return t;const o=to(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let t=0;t<e.length;t++){let[n,s,a,l=r.EMPTY_OBJ]=e[t];n&&((0,r.isFunction)(n)&&(n={mounted:n,updated:n}),n.deep&&dt(s),i.push({dir:n,instance:o,value:s,oldValue:void 0,arg:a,modifiers:l}))}return t}function Kt(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let a=0;a<i.length;a++){const c=i[a];s&&(c.oldValue=s[a].value);let u=c.dir[r];u&&((0,o.Jd)(),l(u,n,8,[t.el,c,t,e]),(0,o.lk)())}}const Yt="components",Zt="directives";function qt(t,e){return te(Yt,t,!0,e)||t}const Xt=Symbol();function Jt(t){return(0,r.isString)(t)?te(Yt,t,!1)||t:t||Xt}function Qt(t){return te(Zt,t)}function te(t,e,n=!0,o=!1){const i=N||Un;if(i){const n=i.type;if(t===Yt){const t=eo(n,!1);if(t&&(t===e||t===(0,r.camelize)(e)||t===(0,r.capitalize)((0,r.camelize)(e))))return n}const s=ee(i[t]||n[t],e)||ee(i.appContext[t],e);return!s&&o?n:s}}function ee(t,e){return t&&(t[e]||t[(0,r.camelize)(e)]||t[(0,r.capitalize)((0,r.camelize)(e))])}function ne(t,e,n,o){let i;const s=n&&n[o];if((0,r.isArray)(t)||(0,r.isString)(t)){i=new Array(t.length);for(let n=0,o=t.length;n<o;n++)i[n]=e(t[n],n,void 0,s&&s[n])}else if("number"==typeof t){0,i=new Array(t);for(let n=0;n<t;n++)i[n]=e(n+1,n,void 0,s&&s[n])}else if((0,r.isObject)(t))if(t[Symbol.iterator])i=Array.from(t,((t,n)=>e(t,n,void 0,s&&s[n])));else{const n=Object.keys(t);i=new Array(n.length);for(let o=0,r=n.length;o<r;o++){const r=n[o];i[o]=e(t[r],r,o,s&&s[o])}}else i=[];return n&&(n[o]=i),i}function oe(t,e){for(let n=0;n<e.length;n++){const o=e[n];if((0,r.isArray)(o))for(let e=0;e<o.length;e++)t[o[e].name]=o[e].fn;else o&&(t[o.name]=o.key?(...t)=>{const e=o.fn(...t);return e&&(e.key=o.key),e}:o.fn)}return t}function re(t,e,n={},o,r){if(N.isCE||N.parent&&bt(N.parent)&&N.parent.isCE)return"default"!==e&&(n.name=e),On("slot",n,o&&o());let i=t[e];i&&i._c&&(i._d=!1),un();const s=i&&ie(i(n)),a=mn(on,{key:n.key||s&&s.key||`_${e}`},s||(o?o():[]),s&&1===t._?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function ie(t){return t.some((t=>!yn(t)||t.type!==sn&&!(t.type===on&&!ie(t.children))))?t:null}function se(t,e){const n={};for(const o in t)n[e&&/[A-Z]/.test(o)?`on:${o}`:(0,r.toHandlerKey)(o)]=t[o];return n}const ae=t=>t?Hn(t)?to(t)||t.proxy:ae(t.parent):null,le=(0,r.extend)(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>ae(t.parent),$root:t=>ae(t.root),$emit:t=>t.emit,$options:t=>_e(t),$forceUpdate:t=>t.f||(t.f=()=>C(t.update)),$nextTick:t=>t.n||(t.n=v.bind(t.proxy)),$watch:t=>ct.bind(t)}),ce=(t,e)=>t!==r.EMPTY_OBJ&&!t.__isScriptSetup&&(0,r.hasOwn)(t,e),ue={get({_:t},e){const{ctx:n,setupState:i,data:s,props:a,accessCache:l,type:c,appContext:u}=t;let d;if("$"!==e[0]){const o=l[e];if(void 0!==o)switch(o){case 1:return i[e];case 2:return s[e];case 4:return n[e];case 3:return a[e]}else{if(ce(i,e))return l[e]=1,i[e];if(s!==r.EMPTY_OBJ&&(0,r.hasOwn)(s,e))return l[e]=2,s[e];if((d=t.propsOptions[0])&&(0,r.hasOwn)(d,e))return l[e]=3,a[e];if(n!==r.EMPTY_OBJ&&(0,r.hasOwn)(n,e))return l[e]=4,n[e];pe&&(l[e]=0)}}const p=le[e];let h,f;return p?("$attrs"===e&&(0,o.j)(t,"get",e),p(t)):(h=c.__cssModules)&&(h=h[e])?h:n!==r.EMPTY_OBJ&&(0,r.hasOwn)(n,e)?(l[e]=4,n[e]):(f=u.config.globalProperties,(0,r.hasOwn)(f,e)?f[e]:void 0)},set({_:t},e,n){const{data:o,setupState:i,ctx:s}=t;return ce(i,e)?(i[e]=n,!0):o!==r.EMPTY_OBJ&&(0,r.hasOwn)(o,e)?(o[e]=n,!0):!(0,r.hasOwn)(t.props,e)&&(("$"!==e[0]||!(e.slice(1)in t))&&(s[e]=n,!0))},has({_:{data:t,setupState:e,accessCache:n,ctx:o,appContext:i,propsOptions:s}},a){let l;return!!n[a]||t!==r.EMPTY_OBJ&&(0,r.hasOwn)(t,a)||ce(e,a)||(l=s[0])&&(0,r.hasOwn)(l,a)||(0,r.hasOwn)(o,a)||(0,r.hasOwn)(le,a)||(0,r.hasOwn)(i.config.globalProperties,a)},defineProperty(t,e,n){return null!=n.get?t._.accessCache[e]=0:(0,r.hasOwn)(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};const de=(0,r.extend)({},ue,{get(t,e){if(e!==Symbol.unscopables)return ue.get(t,e,t)},has:(t,e)=>"_"!==e[0]&&!(0,r.isGloballyWhitelisted)(e)});let pe=!0;function he(t){const e=_e(t),n=t.proxy,i=t.ctx;pe=!1,e.beforeCreate&&fe(e.beforeCreate,t,"bc");const{data:s,computed:a,methods:l,watch:c,provide:u,inject:d,created:p,beforeMount:h,mounted:f,beforeUpdate:g,updated:_,activated:m,deactivated:y,beforeDestroy:v,beforeUnmount:C,destroyed:E,unmounted:b,render:S,renderTracked:w,renderTriggered:O,errorCaptured:P,serverPrefetch:T,expose:R,inheritAttrs:D,components:x,directives:M,filters:A}=e;if(d&&function(t,e,n=r.NOOP,i=!1){(0,r.isArray)(t)&&(t=Ce(t));for(const n in t){const s=t[n];let a;a=(0,r.isObject)(s)?"default"in s?nt(s.from||n,s.default,!0):nt(s.from||n):nt(s),(0,o.dq)(a)&&i?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>a.value,set:t=>a.value=t}):e[n]=a}}(d,i,null,t.appContext.config.unwrapInjectedRef),l)for(const t in l){const e=l[t];(0,r.isFunction)(e)&&(i[t]=e.bind(n))}if(s){0;const e=s.call(n,n);0,(0,r.isObject)(e)&&(t.data=(0,o.qj)(e))}if(pe=!0,a)for(const t in a){const e=a[t],o=(0,r.isFunction)(e)?e.bind(n,n):(0,r.isFunction)(e.get)?e.get.bind(n,n):r.NOOP;0;const s=!(0,r.isFunction)(e)&&(0,r.isFunction)(e.set)?e.set.bind(n):r.NOOP,l=oo({get:o,set:s});Object.defineProperty(i,t,{enumerable:!0,configurable:!0,get:()=>l.value,set:t=>l.value=t})}if(c)for(const t in c)ge(c[t],i,n,t);if(u){const t=(0,r.isFunction)(u)?u.call(n):u;Reflect.ownKeys(t).forEach((e=>{et(e,t[e])}))}function L(t,e){(0,r.isArray)(e)?e.forEach((e=>t(e.bind(n)))):e&&t(e.bind(n))}if(p&&fe(p,t,"c"),L(kt,h),L(Ft,f),L(Gt,g),L(Bt,_),L(Rt,m),L(Dt,y),L($t,P),L(Ht,w),L(Wt,O),L(Ut,C),L(jt,b),L(Vt,T),(0,r.isArray)(R))if(R.length){const e=t.exposed||(t.exposed={});R.forEach((t=>{Object.defineProperty(e,t,{get:()=>n[t],set:e=>n[t]=e})}))}else t.exposed||(t.exposed={});S&&t.render===r.NOOP&&(t.render=S),null!=D&&(t.inheritAttrs=D),x&&(t.components=x),M&&(t.directives=M)}function fe(t,e,n){l((0,r.isArray)(t)?t.map((t=>t.bind(e.proxy))):t.bind(e.proxy),e,n)}function ge(t,e,n,o){const i=o.includes(".")?ut(n,o):()=>n[o];if((0,r.isString)(t)){const n=e[t];(0,r.isFunction)(n)&&at(i,n)}else if((0,r.isFunction)(t))at(i,t.bind(n));else if((0,r.isObject)(t))if((0,r.isArray)(t))t.forEach((t=>ge(t,e,n,o)));else{const o=(0,r.isFunction)(t.handler)?t.handler.bind(n):e[t.handler];(0,r.isFunction)(o)&&at(i,o,t)}else 0}function _e(t){const e=t.type,{mixins:n,extends:o}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,l=s.get(e);let c;return l?c=l:i.length||n||o?(c={},i.length&&i.forEach((t=>me(c,t,a,!0))),me(c,e,a)):c=e,(0,r.isObject)(e)&&s.set(e,c),c}function me(t,e,n,o=!1){const{mixins:r,extends:i}=e;i&&me(t,i,n,!0),r&&r.forEach((e=>me(t,e,n,!0)));for(const r in e)if(o&&"expose"===r);else{const o=ye[r]||n&&n[r];t[r]=o?o(t[r],e[r]):e[r]}return t}const ye={data:ve,props:be,emits:be,methods:be,computed:be,beforeCreate:Ee,created:Ee,beforeMount:Ee,mounted:Ee,beforeUpdate:Ee,updated:Ee,beforeDestroy:Ee,beforeUnmount:Ee,destroyed:Ee,unmounted:Ee,activated:Ee,deactivated:Ee,errorCaptured:Ee,serverPrefetch:Ee,components:be,directives:be,watch:function(t,e){if(!t)return e;if(!e)return t;const n=(0,r.extend)(Object.create(null),t);for(const o in e)n[o]=Ee(t[o],e[o]);return n},provide:ve,inject:function(t,e){return be(Ce(t),Ce(e))}};function ve(t,e){return e?t?function(){return(0,r.extend)((0,r.isFunction)(t)?t.call(this,this):t,(0,r.isFunction)(e)?e.call(this,this):e)}:e:t}function Ce(t){if((0,r.isArray)(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ee(t,e){return t?[...new Set([].concat(t,e))]:e}function be(t,e){return t?(0,r.extend)((0,r.extend)(Object.create(null),t),e):e}function Se(t,e,n,i){const[s,a]=t.propsOptions;let l,c=!1;if(e)for(let o in e){if((0,r.isReservedProp)(o))continue;const u=e[o];let d;s&&(0,r.hasOwn)(s,d=(0,r.camelize)(o))?a&&a.includes(d)?(l||(l={}))[d]=u:n[d]=u:I(t.emitsOptions,o)||o in i&&u===i[o]||(i[o]=u,c=!0)}if(a){const e=(0,o.IU)(n),i=l||r.EMPTY_OBJ;for(let o=0;o<a.length;o++){const l=a[o];n[l]=we(s,e,l,i[l],t,!(0,r.hasOwn)(i,l))}}return c}function we(t,e,n,o,i,s){const a=t[n];if(null!=a){const t=(0,r.hasOwn)(a,"default");if(t&&void 0===o){const t=a.default;if(a.type!==Function&&(0,r.isFunction)(t)){const{propsDefaults:r}=i;n in r?o=r[n]:(Vn(i),o=r[n]=t.call(null,e),Wn())}else o=t}a[0]&&(s&&!t?o=!1:!a[1]||""!==o&&o!==(0,r.hyphenate)(n)||(o=!0))}return o}function Oe(t,e,n=!1){const o=e.propsCache,i=o.get(t);if(i)return i;const s=t.props,a={},l=[];let c=!1;if(!(0,r.isFunction)(t)){const o=t=>{c=!0;const[n,o]=Oe(t,e,!0);(0,r.extend)(a,n),o&&l.push(...o)};!n&&e.mixins.length&&e.mixins.forEach(o),t.extends&&o(t.extends),t.mixins&&t.mixins.forEach(o)}if(!s&&!c)return(0,r.isObject)(t)&&o.set(t,r.EMPTY_ARR),r.EMPTY_ARR;if((0,r.isArray)(s))for(let t=0;t<s.length;t++){0;const e=(0,r.camelize)(s[t]);Pe(e)&&(a[e]=r.EMPTY_OBJ)}else if(s){0;for(const t in s){const e=(0,r.camelize)(t);if(Pe(e)){const n=s[t],o=a[e]=(0,r.isArray)(n)||(0,r.isFunction)(n)?{type:n}:Object.assign({},n);if(o){const t=De(Boolean,o.type),n=De(String,o.type);o[0]=t>-1,o[1]=n<0||t<n,(t>-1||(0,r.hasOwn)(o,"default"))&&l.push(e)}}}}const u=[a,l];return(0,r.isObject)(t)&&o.set(t,u),u}function Pe(t){return"$"!==t[0]}function Te(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:null===t?"null":""}function Re(t,e){return Te(t)===Te(e)}function De(t,e){return(0,r.isArray)(e)?e.findIndex((e=>Re(e,t))):(0,r.isFunction)(e)&&Re(e,t)?0:-1}const xe=t=>"_"===t[0]||"$stable"===t,Me=t=>(0,r.isArray)(t)?t.map(An):[An(t)],Ae=(t,e,n)=>{if(e._n)return e;const o=j(((...t)=>Me(e(...t))),n);return o._c=!1,o},Le=(t,e,n)=>{const o=t._ctx;for(const n in t){if(xe(n))continue;const i=t[n];if((0,r.isFunction)(i))e[n]=Ae(0,i,o);else if(null!=i){0;const t=Me(i);e[n]=()=>t}}},Ie=(t,e)=>{const n=Me(e);t.slots.default=()=>n},Ne=(t,e)=>{if(32&t.vnode.shapeFlag){const n=e._;n?(t.slots=(0,o.IU)(e),(0,r.def)(e,"_",n)):Le(e,t.slots={})}else t.slots={},e&&Ie(t,e);(0,r.def)(t.slots,En,1)},ke=(t,e,n)=>{const{vnode:o,slots:i}=t;let s=!0,a=r.EMPTY_OBJ;if(32&o.shapeFlag){const t=e._;t?n&&1===t?s=!1:((0,r.extend)(i,e),n||1!==t||delete i._):(s=!e.$stable,Le(e,i)),a=e}else e&&(Ie(t,e),a={default:1});if(s)for(const t in i)xe(t)||t in a||delete i[t]};function Fe(){return{app:null,config:{isNativeTag:r.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ge=0;function Be(t,e){return function(n,o=null){(0,r.isFunction)(n)||(n=Object.assign({},n)),null==o||(0,r.isObject)(o)||(o=null);const i=Fe(),s=new Set;let a=!1;const l=i.app={_uid:Ge++,_component:n,_props:o,_container:null,_context:i,_instance:null,version:Eo,get config(){return i.config},set config(t){0},use:(t,...e)=>(s.has(t)||(t&&(0,r.isFunction)(t.install)?(s.add(t),t.install(l,...e)):(0,r.isFunction)(t)&&(s.add(t),t(l,...e))),l),mixin:t=>(i.mixins.includes(t)||i.mixins.push(t),l),component:(t,e)=>e?(i.components[t]=e,l):i.components[t],directive:(t,e)=>e?(i.directives[t]=e,l):i.directives[t],mount(r,s,c){if(!a){0;const u=On(n,o);return u.appContext=i,s&&e?e(u,r):t(u,r,c),a=!0,l._container=r,r.__vue_app__=l,to(u.component)||u.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide:(t,e)=>(i.provides[t]=e,l)};return l}}function Ue(t,e,n,i,s=!1){if((0,r.isArray)(t))return void t.forEach(((t,o)=>Ue(t,e&&((0,r.isArray)(e)?e[o]:e),n,i,s)));if(bt(i)&&!s)return;const l=4&i.shapeFlag?to(i.component)||i.component.proxy:i.el,c=s?null:l,{i:u,r:d}=t;const p=e&&e.r,h=u.refs===r.EMPTY_OBJ?u.refs={}:u.refs,f=u.setupState;if(null!=p&&p!==d&&((0,r.isString)(p)?(h[p]=null,(0,r.hasOwn)(f,p)&&(f[p]=null)):(0,o.dq)(p)&&(p.value=null)),(0,r.isFunction)(d))a(d,u,12,[c,h]);else{const e=(0,r.isString)(d),i=(0,o.dq)(d);if(e||i){const o=()=>{if(t.f){const n=e?(0,r.hasOwn)(f,d)?f[d]:h[d]:d.value;s?(0,r.isArray)(n)&&(0,r.remove)(n,l):(0,r.isArray)(n)?n.includes(l)||n.push(l):e?(h[d]=[l],(0,r.hasOwn)(f,d)&&(f[d]=h[d])):(d.value=[l],t.k&&(h[t.k]=d.value))}else e?(h[d]=c,(0,r.hasOwn)(f,d)&&(f[d]=c)):i&&(d.value=c,t.k&&(h[t.k]=c))};c?(o.id=-1,$e(o,n)):o()}else 0}}let je=!1;const Ve=t=>/svg/.test(t.namespaceURI)&&"foreignObject"!==t.tagName,We=t=>8===t.nodeType;function He(t){const{mt:e,p:n,o:{patchProp:o,createText:i,nextSibling:s,parentNode:a,remove:l,insert:c,createComment:u}}=t,d=(n,o,r,l,u,m=!1)=>{const y=We(n)&&"["===n.data,v=()=>g(n,o,r,l,u,y),{type:C,ref:E,shapeFlag:b,patchFlag:S}=o;let w=n.nodeType;o.el=n,-2===S&&(m=!1,o.dynamicChildren=null);let O=null;switch(C){case rn:3!==w?""===o.children?(c(o.el=i(""),a(n),n),O=n):O=v():(n.data!==o.children&&(je=!0,n.data=o.children),O=s(n));break;case sn:O=8!==w||y?v():s(n);break;case an:if(y&&(w=(n=s(n)).nodeType),1===w||3===w){O=n;const t=!o.children.length;for(let e=0;e<o.staticCount;e++)t&&(o.children+=1===O.nodeType?O.outerHTML:O.data),e===o.staticCount-1&&(o.anchor=O),O=s(O);return y?s(O):O}v();break;case on:O=y?f(n,o,r,l,u,m):v();break;default:if(1&b)O=1!==w||o.type.toLowerCase()!==n.tagName.toLowerCase()?v():p(n,o,r,l,u,m);else if(6&b){o.slotScopeIds=u;const t=a(n);if(e(o,t,null,r,l,Ve(t),m),O=y?_(n):s(n),O&&We(O)&&"teleport end"===O.data&&(O=s(O)),bt(o)){let e;y?(e=On(on),e.anchor=O?O.previousSibling:t.lastChild):e=3===n.nodeType?Dn(""):On("div"),e.el=n,o.component.subTree=e}}else 64&b?O=8!==w?v():o.type.hydrate(n,o,r,l,u,m,t,h):128&b&&(O=o.type.hydrate(n,o,r,l,Ve(a(n)),u,m,t,d))}return null!=E&&Ue(E,null,l,o),O},p=(t,e,n,i,s,a)=>{a=a||!!e.dynamicChildren;const{type:c,props:u,patchFlag:d,shapeFlag:p,dirs:f}=e,g="input"===c&&f||"option"===c;if(g||-1!==d){if(f&&Kt(e,null,n,"created"),u)if(g||!a||48&d)for(const e in u)(g&&e.endsWith("value")||(0,r.isOn)(e)&&!(0,r.isReservedProp)(e))&&o(t,e,null,u[e],!1,void 0,n);else u.onClick&&o(t,"onClick",null,u.onClick,!1,void 0,n);let c;if((c=u&&u.onVnodeBeforeMount)&&kn(c,n,e),f&&Kt(e,null,n,"beforeMount"),((c=u&&u.onVnodeMounted)||f)&&Q((()=>{c&&kn(c,n,e),f&&Kt(e,null,n,"mounted")}),i),16&p&&(!u||!u.innerHTML&&!u.textContent)){let o=h(t.firstChild,e,t,n,i,s,a);for(;o;){je=!0;const t=o;o=o.nextSibling,l(t)}}else 8&p&&t.textContent!==e.children&&(je=!0,t.textContent=e.children)}return t.nextSibling},h=(t,e,o,r,i,s,a)=>{a=a||!!e.dynamicChildren;const l=e.children,c=l.length;for(let e=0;e<c;e++){const c=a?l[e]:l[e]=An(l[e]);if(t)t=d(t,c,r,i,s,a);else{if(c.type===rn&&!c.children)continue;je=!0,n(null,c,o,null,r,i,Ve(o),s)}}return t},f=(t,e,n,o,r,i)=>{const{slotScopeIds:l}=e;l&&(r=r?r.concat(l):l);const d=a(t),p=h(s(t),e,d,n,o,r,i);return p&&We(p)&&"]"===p.data?s(e.anchor=p):(je=!0,c(e.anchor=u("]"),d,p),p)},g=(t,e,o,r,i,c)=>{if(je=!0,e.el=null,c){const e=_(t);for(;;){const n=s(t);if(!n||n===e)break;l(n)}}const u=s(t),d=a(t);return l(t),n(null,e,d,u,o,r,Ve(d),i),u},_=t=>{let e=0;for(;t;)if((t=s(t))&&We(t)&&("["===t.data&&e++,"]"===t.data)){if(0===e)return s(t);e--}return t};return[(t,e)=>{if(!e.hasChildNodes())return n(null,t,e),w(),void(e._vnode=t);je=!1,d(e.firstChild,t,null,null,null),w(),e._vnode=t,je&&console.error("Hydration completed but contains mismatches.")},d]}const $e=Q;function ze(t){return Ye(t)}function Ke(t){return Ye(t,He)}function Ye(t,e){(0,r.getGlobalThis)().__VUE__=!0;const{insert:n,remove:i,patchProp:s,createElement:a,createText:l,createComment:c,setText:u,setElementText:d,parentNode:f,nextSibling:g,setScopeId:_=r.NOOP,insertStaticContent:m}=t,y=(t,e,n,o=null,r=null,i=null,s=!1,a=null,l=!!e.dynamicChildren)=>{if(t===e)return;t&&!vn(t,e)&&(o=J(t),$(t,r,i,!0),t=null),-2===e.patchFlag&&(l=!1,e.dynamicChildren=null);const{type:c,ref:u,shapeFlag:d}=e;switch(c){case rn:v(t,e,n,o);break;case sn:E(t,e,n,o);break;case an:null==t&&b(e,n,o,s);break;case on:L(t,e,n,o,r,i,s,a,l);break;default:1&d?P(t,e,n,o,r,i,s,a,l):6&d?N(t,e,n,o,r,i,s,a,l):(64&d||128&d)&&c.process(t,e,n,o,r,i,s,a,l,tt)}null!=u&&r&&Ue(u,t&&t.ref,i,e||t,!e)},v=(t,e,o,r)=>{if(null==t)n(e.el=l(e.children),o,r);else{const n=e.el=t.el;e.children!==t.children&&u(n,e.children)}},E=(t,e,o,r)=>{null==t?n(e.el=c(e.children||""),o,r):e.el=t.el},b=(t,e,n,o)=>{[t.el,t.anchor]=m(t.children,e,n,o,t.el,t.anchor)},O=({el:t,anchor:e})=>{let n;for(;t&&t!==e;)n=g(t),i(t),t=n;i(e)},P=(t,e,n,o,r,i,s,a,l)=>{s=s||"svg"===e.type,null==t?T(e,n,o,r,i,s,a,l):x(t,e,r,i,s,a,l)},T=(t,e,o,i,l,c,u,p)=>{let h,f;const{type:g,props:_,shapeFlag:m,transition:y,dirs:v}=t;if(h=t.el=a(t.type,c,_&&_.is,_),8&m?d(h,t.children):16&m&&D(t.children,h,null,i,l,c&&"foreignObject"!==g,u,p),v&&Kt(t,null,i,"created"),R(h,t,t.scopeId,u,i),_){for(const e in _)"value"===e||(0,r.isReservedProp)(e)||s(h,e,null,_[e],c,t.children,i,l,X);"value"in _&&s(h,"value",null,_.value),(f=_.onVnodeBeforeMount)&&kn(f,i,t)}v&&Kt(t,null,i,"beforeMount");const C=(!l||l&&!l.pendingBranch)&&y&&!y.persisted;C&&y.beforeEnter(h),n(h,e,o),((f=_&&_.onVnodeMounted)||C||v)&&$e((()=>{f&&kn(f,i,t),C&&y.enter(h),v&&Kt(t,null,i,"mounted")}),l)},R=(t,e,n,o,r)=>{if(n&&_(t,n),o)for(let e=0;e<o.length;e++)_(t,o[e]);if(r){if(e===r.subTree){const e=r.vnode;R(t,e,e.scopeId,e.slotScopeIds,r.parent)}}},D=(t,e,n,o,r,i,s,a,l=0)=>{for(let c=l;c<t.length;c++){const l=t[c]=a?Ln(t[c]):An(t[c]);y(null,l,e,n,o,r,i,s,a)}},x=(t,e,n,o,i,a,l)=>{const c=e.el=t.el;let{patchFlag:u,dynamicChildren:p,dirs:h}=e;u|=16&t.patchFlag;const f=t.props||r.EMPTY_OBJ,g=e.props||r.EMPTY_OBJ;let _;n&&Ze(n,!1),(_=g.onVnodeBeforeUpdate)&&kn(_,n,e,t),h&&Kt(e,t,n,"beforeUpdate"),n&&Ze(n,!0);const m=i&&"foreignObject"!==e.type;if(p?M(t.dynamicChildren,p,c,n,o,m,a):l||U(t,e,c,null,n,o,m,a,!1),u>0){if(16&u)A(c,e,f,g,n,o,i);else if(2&u&&f.class!==g.class&&s(c,"class",null,g.class,i),4&u&&s(c,"style",f.style,g.style,i),8&u){const r=e.dynamicProps;for(let e=0;e<r.length;e++){const a=r[e],l=f[a],u=g[a];u===l&&"value"!==a||s(c,a,l,u,i,t.children,n,o,X)}}1&u&&t.children!==e.children&&d(c,e.children)}else l||null!=p||A(c,e,f,g,n,o,i);((_=g.onVnodeUpdated)||h)&&$e((()=>{_&&kn(_,n,e,t),h&&Kt(e,t,n,"updated")}),o)},M=(t,e,n,o,r,i,s)=>{for(let a=0;a<e.length;a++){const l=t[a],c=e[a],u=l.el&&(l.type===on||!vn(l,c)||70&l.shapeFlag)?f(l.el):n;y(l,c,u,null,o,r,i,s,!0)}},A=(t,e,n,o,i,a,l)=>{if(n!==o){if(n!==r.EMPTY_OBJ)for(const c in n)(0,r.isReservedProp)(c)||c in o||s(t,c,n[c],null,l,e.children,i,a,X);for(const c in o){if((0,r.isReservedProp)(c))continue;const u=o[c],d=n[c];u!==d&&"value"!==c&&s(t,c,d,u,l,e.children,i,a,X)}"value"in o&&s(t,"value",n.value,o.value)}},L=(t,e,o,r,i,s,a,c,u)=>{const d=e.el=t?t.el:l(""),p=e.anchor=t?t.anchor:l("");let{patchFlag:h,dynamicChildren:f,slotScopeIds:g}=e;g&&(c=c?c.concat(g):g),null==t?(n(d,o,r),n(p,o,r),D(e.children,o,p,i,s,a,c,u)):h>0&&64&h&&f&&t.dynamicChildren?(M(t.dynamicChildren,f,o,i,s,a,c),(null!=e.key||i&&e===i.subTree)&&qe(t,e,!0)):U(t,e,o,p,i,s,a,c,u)},N=(t,e,n,o,r,i,s,a,l)=>{e.slotScopeIds=a,null==t?512&e.shapeFlag?r.ctx.activate(e,n,o,s,l):k(e,n,o,r,i,s,l):F(t,e,l)},k=(t,e,n,o,r,i,s)=>{const a=t.component=Bn(t,o,r);if(Ot(t)&&(a.ctx.renderer=tt),Yn(a),a.asyncDep){if(r&&r.registerDep(a,G),!t.el){const t=a.subTree=On(sn);E(null,t,e,n)}}else G(a,t,e,n,r,i,s)},F=(t,e,n)=>{const o=e.component=t.component;if(function(t,e,n){const{props:o,children:r,component:i}=t,{props:s,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(!(n&&l>=0))return!(!r&&!a||a&&a.$stable)||o!==s&&(o?!s||z(o,s,c):!!s);if(1024&l)return!0;if(16&l)return o?z(o,s,c):!!s;if(8&l){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e];if(s[n]!==o[n]&&!I(c,n))return!0}}return!1}(t,e,n)){if(o.asyncDep&&!o.asyncResolved)return void B(o,e,n);o.next=e,function(t){const e=p.indexOf(t);e>h&&p.splice(e,1)}(o.update),o.update()}else e.el=t.el,o.vnode=e},G=(t,e,n,i,s,a,l)=>{const c=t.effect=new o.qq((()=>{if(t.isMounted){let e,{next:n,bu:o,u:i,parent:c,vnode:u}=t,d=n;0,Ze(t,!1),n?(n.el=u.el,B(t,n,l)):n=u,o&&(0,r.invokeArrayFns)(o),(e=n.props&&n.props.onVnodeBeforeUpdate)&&kn(e,c,n,u),Ze(t,!0);const p=V(t);0;const h=t.subTree;t.subTree=p,y(h,p,f(h.el),J(h),t,s,a),n.el=p.el,null===d&&K(t,p.el),i&&$e(i,s),(e=n.props&&n.props.onVnodeUpdated)&&$e((()=>kn(e,c,n,u)),s)}else{let o;const{el:l,props:c}=e,{bm:u,m:d,parent:p}=t,h=bt(e);if(Ze(t,!1),u&&(0,r.invokeArrayFns)(u),!h&&(o=c&&c.onVnodeBeforeMount)&&kn(o,p,e),Ze(t,!0),l&&nt){const n=()=>{t.subTree=V(t),nt(l,t.subTree,t,s,null)};h?e.type.__asyncLoader().then((()=>!t.isUnmounted&&n())):n()}else{0;const o=t.subTree=V(t);0,y(null,o,n,i,t,s,a),e.el=o.el}if(d&&$e(d,s),!h&&(o=c&&c.onVnodeMounted)){const t=e;$e((()=>kn(o,p,t)),s)}(256&e.shapeFlag||p&&bt(p.vnode)&&256&p.vnode.shapeFlag)&&t.a&&$e(t.a,s),t.isMounted=!0,e=n=i=null}}),(()=>C(u)),t.scope),u=t.update=()=>c.run();u.id=t.uid,Ze(t,!0),u()},B=(t,e,n)=>{e.component=t;const i=t.vnode.props;t.vnode=e,t.next=null,function(t,e,n,i){const{props:s,attrs:a,vnode:{patchFlag:l}}=t,c=(0,o.IU)(s),[u]=t.propsOptions;let d=!1;if(!(i||l>0)||16&l){let o;Se(t,e,s,a)&&(d=!0);for(const i in c)e&&((0,r.hasOwn)(e,i)||(o=(0,r.hyphenate)(i))!==i&&(0,r.hasOwn)(e,o))||(u?!n||void 0===n[i]&&void 0===n[o]||(s[i]=we(u,c,i,void 0,t,!0)):delete s[i]);if(a!==c)for(const t in a)e&&(0,r.hasOwn)(e,t)||(delete a[t],d=!0)}else if(8&l){const n=t.vnode.dynamicProps;for(let o=0;o<n.length;o++){let i=n[o];if(I(t.emitsOptions,i))continue;const l=e[i];if(u)if((0,r.hasOwn)(a,i))l!==a[i]&&(a[i]=l,d=!0);else{const e=(0,r.camelize)(i);s[e]=we(u,c,e,l,t,!1)}else l!==a[i]&&(a[i]=l,d=!0)}}d&&(0,o.X$)(t,"set","$attrs")}(t,e.props,i,n),ke(t,e.children,n),(0,o.Jd)(),S(),(0,o.lk)()},U=(t,e,n,o,r,i,s,a,l=!1)=>{const c=t&&t.children,u=t?t.shapeFlag:0,p=e.children,{patchFlag:h,shapeFlag:f}=e;if(h>0){if(128&h)return void W(c,p,n,o,r,i,s,a,l);if(256&h)return void j(c,p,n,o,r,i,s,a,l)}8&f?(16&u&&X(c,r,i),p!==c&&d(n,p)):16&u?16&f?W(c,p,n,o,r,i,s,a,l):X(c,r,i,!0):(8&u&&d(n,""),16&f&&D(p,n,o,r,i,s,a,l))},j=(t,e,n,o,i,s,a,l,c)=>{t=t||r.EMPTY_ARR,e=e||r.EMPTY_ARR;const u=t.length,d=e.length,p=Math.min(u,d);let h;for(h=0;h<p;h++){const o=e[h]=c?Ln(e[h]):An(e[h]);y(t[h],o,n,null,i,s,a,l,c)}u>d?X(t,i,s,!0,!1,p):D(e,n,o,i,s,a,l,c,p)},W=(t,e,n,o,i,s,a,l,c)=>{let u=0;const d=e.length;let p=t.length-1,h=d-1;for(;u<=p&&u<=h;){const o=t[u],r=e[u]=c?Ln(e[u]):An(e[u]);if(!vn(o,r))break;y(o,r,n,null,i,s,a,l,c),u++}for(;u<=p&&u<=h;){const o=t[p],r=e[h]=c?Ln(e[h]):An(e[h]);if(!vn(o,r))break;y(o,r,n,null,i,s,a,l,c),p--,h--}if(u>p){if(u<=h){const t=h+1,r=t<d?e[t].el:o;for(;u<=h;)y(null,e[u]=c?Ln(e[u]):An(e[u]),n,r,i,s,a,l,c),u++}}else if(u>h)for(;u<=p;)$(t[u],i,s,!0),u++;else{const f=u,g=u,_=new Map;for(u=g;u<=h;u++){const t=e[u]=c?Ln(e[u]):An(e[u]);null!=t.key&&_.set(t.key,u)}let m,v=0;const C=h-g+1;let E=!1,b=0;const S=new Array(C);for(u=0;u<C;u++)S[u]=0;for(u=f;u<=p;u++){const o=t[u];if(v>=C){$(o,i,s,!0);continue}let r;if(null!=o.key)r=_.get(o.key);else for(m=g;m<=h;m++)if(0===S[m-g]&&vn(o,e[m])){r=m;break}void 0===r?$(o,i,s,!0):(S[r-g]=u+1,r>=b?b=r:E=!0,y(o,e[r],n,null,i,s,a,l,c),v++)}const w=E?function(t){const e=t.slice(),n=[0];let o,r,i,s,a;const l=t.length;for(o=0;o<l;o++){const l=t[o];if(0!==l){if(r=n[n.length-1],t[r]<l){e[o]=r,n.push(o);continue}for(i=0,s=n.length-1;i<s;)a=i+s>>1,t[n[a]]<l?i=a+1:s=a;l<t[n[i]]&&(i>0&&(e[o]=n[i-1]),n[i]=o)}}i=n.length,s=n[i-1];for(;i-- >0;)n[i]=s,s=e[s];return n}(S):r.EMPTY_ARR;for(m=w.length-1,u=C-1;u>=0;u--){const t=g+u,r=e[t],p=t+1<d?e[t+1].el:o;0===S[u]?y(null,r,n,p,i,s,a,l,c):E&&(m<0||u!==w[m]?H(r,n,p,2):m--)}}},H=(t,e,o,r,i=null)=>{const{el:s,type:a,transition:l,children:c,shapeFlag:u}=t;if(6&u)return void H(t.component.subTree,e,o,r);if(128&u)return void t.suspense.move(e,o,r);if(64&u)return void a.move(t,e,o,tt);if(a===on){n(s,e,o);for(let t=0;t<c.length;t++)H(c[t],e,o,r);return void n(t.anchor,e,o)}if(a===an)return void(({el:t,anchor:e},o,r)=>{let i;for(;t&&t!==e;)i=g(t),n(t,o,r),t=i;n(e,o,r)})(t,e,o);if(2!==r&&1&u&&l)if(0===r)l.beforeEnter(s),n(s,e,o),$e((()=>l.enter(s)),i);else{const{leave:t,delayLeave:r,afterLeave:i}=l,a=()=>n(s,e,o),c=()=>{t(s,(()=>{a(),i&&i()}))};r?r(s,a,c):c()}else n(s,e,o)},$=(t,e,n,o=!1,r=!1)=>{const{type:i,props:s,ref:a,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:d,dirs:p}=t;if(null!=a&&Ue(a,null,n,t,!0),256&u)return void e.ctx.deactivate(t);const h=1&u&&p,f=!bt(t);let g;if(f&&(g=s&&s.onVnodeBeforeUnmount)&&kn(g,e,t),6&u)q(t.component,n,o);else{if(128&u)return void t.suspense.unmount(n,o);h&&Kt(t,null,e,"beforeUnmount"),64&u?t.type.remove(t,e,n,r,tt,o):c&&(i!==on||d>0&&64&d)?X(c,e,n,!1,!0):(i===on&&384&d||!r&&16&u)&&X(l,e,n),o&&Y(t)}(f&&(g=s&&s.onVnodeUnmounted)||h)&&$e((()=>{g&&kn(g,e,t),h&&Kt(t,null,e,"unmounted")}),n)},Y=t=>{const{type:e,el:n,anchor:o,transition:r}=t;if(e===on)return void Z(n,o);if(e===an)return void O(t);const s=()=>{i(n),r&&!r.persisted&&r.afterLeave&&r.afterLeave()};if(1&t.shapeFlag&&r&&!r.persisted){const{leave:e,delayLeave:o}=r,i=()=>e(n,s);o?o(t.el,s,i):i()}else s()},Z=(t,e)=>{let n;for(;t!==e;)n=g(t),i(t),t=n;i(e)},q=(t,e,n)=>{const{bum:o,scope:i,update:s,subTree:a,um:l}=t;o&&(0,r.invokeArrayFns)(o),i.stop(),s&&(s.active=!1,$(a,t,e,n)),l&&$e(l,e),$e((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},X=(t,e,n,o=!1,r=!1,i=0)=>{for(let s=i;s<t.length;s++)$(t[s],e,n,o,r)},J=t=>6&t.shapeFlag?J(t.component.subTree):128&t.shapeFlag?t.suspense.next():g(t.anchor||t.el),Q=(t,e,n)=>{null==t?e._vnode&&$(e._vnode,null,null,!0):y(e._vnode||null,t,e,null,null,null,n),S(),w(),e._vnode=t},tt={p:y,um:$,m:H,r:Y,mt:k,mc:D,pc:U,pbc:M,n:J,o:t};let et,nt;return e&&([et,nt]=e(tt)),{render:Q,hydrate:et,createApp:Be(Q,et)}}function Ze({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function qe(t,e,n=!1){const o=t.children,i=e.children;if((0,r.isArray)(o)&&(0,r.isArray)(i))for(let t=0;t<o.length;t++){const e=o[t];let r=i[t];1&r.shapeFlag&&!r.dynamicChildren&&((r.patchFlag<=0||32===r.patchFlag)&&(r=i[t]=Ln(i[t]),r.el=e.el),n||qe(e,r)),r.type===rn&&(r.el=e.el)}}const Xe=t=>t&&(t.disabled||""===t.disabled),Je=t=>"undefined"!=typeof SVGElement&&t instanceof SVGElement,Qe=(t,e)=>{const n=t&&t.to;if((0,r.isString)(n)){if(e){const t=e(n);return t}return null}return n};function tn(t,e,n,{o:{insert:o},m:r},i=2){0===i&&o(t.targetAnchor,e,n);const{el:s,anchor:a,shapeFlag:l,children:c,props:u}=t,d=2===i;if(d&&o(s,e,n),(!d||Xe(u))&&16&l)for(let t=0;t<c.length;t++)r(c[t],e,n,2);d&&o(a,e,n)}const en={__isTeleport:!0,process(t,e,n,o,r,i,s,a,l,c){const{mc:u,pc:d,pbc:p,o:{insert:h,querySelector:f,createText:g,createComment:_}}=c,m=Xe(e.props);let{shapeFlag:y,children:v,dynamicChildren:C}=e;if(null==t){const t=e.el=g(""),c=e.anchor=g("");h(t,n,o),h(c,n,o);const d=e.target=Qe(e.props,f),p=e.targetAnchor=g("");d&&(h(p,d),s=s||Je(d));const _=(t,e)=>{16&y&&u(v,t,e,r,i,s,a,l)};m?_(n,c):d&&_(d,p)}else{e.el=t.el;const o=e.anchor=t.anchor,u=e.target=t.target,h=e.targetAnchor=t.targetAnchor,g=Xe(t.props),_=g?n:u,y=g?o:h;if(s=s||Je(u),C?(p(t.dynamicChildren,C,_,r,i,s,a),qe(t,e,!0)):l||d(t,e,_,y,r,i,s,a,!1),m)g||tn(e,n,o,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const t=e.target=Qe(e.props,f);t&&tn(e,t,null,c,0)}else g&&tn(e,u,h,c,1)}nn(e)},remove(t,e,n,o,{um:r,o:{remove:i}},s){const{shapeFlag:a,children:l,anchor:c,targetAnchor:u,target:d,props:p}=t;if(d&&i(u),(s||!Xe(p))&&(i(c),16&a))for(let t=0;t<l.length;t++){const o=l[t];r(o,e,n,!0,!!o.dynamicChildren)}},move:tn,hydrate:function(t,e,n,o,r,i,{o:{nextSibling:s,parentNode:a,querySelector:l}},c){const u=e.target=Qe(e.props,l);if(u){const l=u._lpa||u.firstChild;if(16&e.shapeFlag)if(Xe(e.props))e.anchor=c(s(t),e,a(t),n,o,r,i),e.targetAnchor=l;else{e.anchor=s(t);let a=l;for(;a;)if(a=s(a),a&&8===a.nodeType&&"teleport anchor"===a.data){e.targetAnchor=a,u._lpa=e.targetAnchor&&s(e.targetAnchor);break}c(l,e,u,n,o,r,i)}nn(e)}return e.anchor&&s(e.anchor)}};function nn(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n!==t.targetAnchor;)1===n.nodeType&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const on=Symbol(void 0),rn=Symbol(void 0),sn=Symbol(void 0),an=Symbol(void 0),ln=[];let cn=null;function un(t=!1){ln.push(cn=t?null:[])}function dn(){ln.pop(),cn=ln[ln.length-1]||null}let pn,hn=1;function fn(t){hn+=t}function gn(t){return t.dynamicChildren=hn>0?cn||r.EMPTY_ARR:null,dn(),hn>0&&cn&&cn.push(t),t}function _n(t,e,n,o,r,i){return gn(wn(t,e,n,o,r,i,!0))}function mn(t,e,n,o,r){return gn(On(t,e,n,o,r,!0))}function yn(t){return!!t&&!0===t.__v_isVNode}function vn(t,e){return t.type===e.type&&t.key===e.key}function Cn(t){pn=t}const En="__vInternal",bn=({key:t})=>null!=t?t:null,Sn=({ref:t,ref_key:e,ref_for:n})=>null!=t?(0,r.isString)(t)||(0,o.dq)(t)||(0,r.isFunction)(t)?{i:N,r:t,k:e,f:!!n}:t:null;function wn(t,e=null,n=null,o=0,i=null,s=(t===on?0:1),a=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&bn(e),ref:e&&Sn(e),scopeId:k,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:o,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:N};return l?(In(c,n),128&s&&t.normalize(c)):n&&(c.shapeFlag|=(0,r.isString)(n)?8:16),hn>0&&!a&&cn&&(c.patchFlag>0||6&s)&&32!==c.patchFlag&&cn.push(c),c}const On=Pn;function Pn(t,e=null,n=null,i=0,s=null,a=!1){if(t&&t!==Xt||(t=sn),yn(t)){const o=Rn(t,e,!0);return n&&In(o,n),hn>0&&!a&&cn&&(6&o.shapeFlag?cn[cn.indexOf(t)]=o:cn.push(o)),o.patchFlag|=-2,o}if(no(t)&&(t=t.__vccOpts),e){e=Tn(e);let{class:t,style:n}=e;t&&!(0,r.isString)(t)&&(e.class=(0,r.normalizeClass)(t)),(0,r.isObject)(n)&&((0,o.X3)(n)&&!(0,r.isArray)(n)&&(n=(0,r.extend)({},n)),e.style=(0,r.normalizeStyle)(n))}return wn(t,e,n,i,s,(0,r.isString)(t)?1:Y(t)?128:(t=>t.__isTeleport)(t)?64:(0,r.isObject)(t)?4:(0,r.isFunction)(t)?2:0,a,!0)}function Tn(t){return t?(0,o.X3)(t)||En in t?(0,r.extend)({},t):t:null}function Rn(t,e,n=!1){const{props:o,ref:i,patchFlag:s,children:a}=t,l=e?Nn(o||{},e):o;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&bn(l),ref:e&&e.ref?n&&i?(0,r.isArray)(i)?i.concat(Sn(e)):[i,Sn(e)]:Sn(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==on?-1===s?16:16|s:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Rn(t.ssContent),ssFallback:t.ssFallback&&Rn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Dn(t=" ",e=0){return On(rn,null,t,e)}function xn(t,e){const n=On(an,null,t);return n.staticCount=e,n}function Mn(t="",e=!1){return e?(un(),mn(sn,null,t)):On(sn,null,t)}function An(t){return null==t||"boolean"==typeof t?On(sn):(0,r.isArray)(t)?On(on,null,t.slice()):"object"==typeof t?Ln(t):On(rn,null,String(t))}function Ln(t){return null===t.el&&-1!==t.patchFlag||t.memo?t:Rn(t)}function In(t,e){let n=0;const{shapeFlag:o}=t;if(null==e)e=null;else if((0,r.isArray)(e))n=16;else if("object"==typeof e){if(65&o){const n=e.default;return void(n&&(n._c&&(n._d=!1),In(t,n()),n._c&&(n._d=!0)))}{n=32;const o=e._;o||En in e?3===o&&N&&(1===N.slots._?e._=1:(e._=2,t.patchFlag|=1024)):e._ctx=N}}else(0,r.isFunction)(e)?(e={default:e,_ctx:N},n=32):(e=String(e),64&o?(n=16,e=[Dn(e)]):n=8);t.children=e,t.shapeFlag|=n}function Nn(...t){const e={};for(let n=0;n<t.length;n++){const o=t[n];for(const t in o)if("class"===t)e.class!==o.class&&(e.class=(0,r.normalizeClass)([e.class,o.class]));else if("style"===t)e.style=(0,r.normalizeStyle)([e.style,o.style]);else if((0,r.isOn)(t)){const n=e[t],i=o[t];!i||n===i||(0,r.isArray)(n)&&n.includes(i)||(e[t]=n?[].concat(n,i):i)}else""!==t&&(e[t]=o[t])}return e}function kn(t,e,n,o=null){l(t,e,7,[n,o])}const Fn=Fe();let Gn=0;function Bn(t,e,n){const i=t.type,s=(e?e.appContext:t.appContext)||Fn,a={uid:Gn++,vnode:t,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new o.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Oe(i,s),emitsOptions:L(i,s),emit:null,emitted:null,propsDefaults:r.EMPTY_OBJ,inheritAttrs:i.inheritAttrs,ctx:r.EMPTY_OBJ,data:r.EMPTY_OBJ,props:r.EMPTY_OBJ,attrs:r.EMPTY_OBJ,slots:r.EMPTY_OBJ,refs:r.EMPTY_OBJ,setupState:r.EMPTY_OBJ,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=A.bind(null,a),t.ce&&t.ce(a),a}let Un=null;const jn=()=>Un||N,Vn=t=>{Un=t,t.scope.on()},Wn=()=>{Un&&Un.scope.off(),Un=null};function Hn(t){return 4&t.vnode.shapeFlag}let $n,zn,Kn=!1;function Yn(t,e=!1){Kn=e;const{props:n,children:i}=t.vnode,s=Hn(t);!function(t,e,n,i=!1){const s={},a={};(0,r.def)(a,En,1),t.propsDefaults=Object.create(null),Se(t,e,s,a);for(const e in t.propsOptions[0])e in s||(s[e]=void 0);n?t.props=i?s:(0,o.Um)(s):t.type.props?t.props=s:t.props=a,t.attrs=a}(t,n,s,e),Ne(t,i);const l=s?function(t,e){const n=t.type;0;t.accessCache=Object.create(null),t.proxy=(0,o.Xl)(new Proxy(t.ctx,ue)),!1;const{setup:i}=n;if(i){const n=t.setupContext=i.length>1?Qn(t):null;Vn(t),(0,o.Jd)();const s=a(i,t,0,[t.props,n]);if((0,o.lk)(),Wn(),(0,r.isPromise)(s)){if(s.then(Wn,Wn),e)return s.then((n=>{Zn(t,n,e)})).catch((e=>{c(e,t,0)}));t.asyncDep=s}else Zn(t,s,e)}else Jn(t,e)}(t,e):void 0;return Kn=!1,l}function Zn(t,e,n){(0,r.isFunction)(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:(0,r.isObject)(e)&&(t.setupState=(0,o.WL)(e)),Jn(t,n)}function qn(t){$n=t,zn=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,de))}}const Xn=()=>!$n;function Jn(t,e,n){const i=t.type;if(!t.render){if(!e&&$n&&!i.render){const e=i.template||_e(t).template;if(e){0;const{isCustomElement:n,compilerOptions:o}=t.appContext.config,{delimiters:s,compilerOptions:a}=i,l=(0,r.extend)((0,r.extend)({isCustomElement:n,delimiters:s},o),a);i.render=$n(e,l)}}t.render=i.render||r.NOOP,zn&&zn(t)}Vn(t),(0,o.Jd)(),he(t),(0,o.lk)(),Wn()}function Qn(t){const e=e=>{t.exposed=e||{}};let n;return{get attrs(){return n||(n=function(t){return new Proxy(t.attrs,{get:(e,n)=>((0,o.j)(t,"get","$attrs"),e[n])})}(t))},slots:t.slots,emit:t.emit,expose:e}}function to(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy((0,o.WL)((0,o.Xl)(t.exposed)),{get:(e,n)=>n in e?e[n]:n in le?le[n](t):void 0,has:(t,e)=>e in t||e in le}))}function eo(t,e=!0){return(0,r.isFunction)(t)?t.displayName||t.name:t.name||e&&t.__name}function no(t){return(0,r.isFunction)(t)&&"__vccOpts"in t}const oo=(t,e)=>(0,o.Fl)(t,e,Kn);function ro(){return null}function io(){return null}function so(t){0}function ao(t,e){return null}function lo(){return uo().slots}function co(){return uo().attrs}function uo(){const t=jn();return t.setupContext||(t.setupContext=Qn(t))}function po(t,e){const n=(0,r.isArray)(t)?t.reduce(((t,e)=>(t[e]={},t)),{}):t;for(const t in e){const o=n[t];o?(0,r.isArray)(o)||(0,r.isFunction)(o)?n[t]={type:o,default:e[t]}:o.default=e[t]:null===o&&(n[t]={default:e[t]})}return n}function ho(t,e){const n={};for(const o in t)e.includes(o)||Object.defineProperty(n,o,{enumerable:!0,get:()=>t[o]});return n}function fo(t){const e=jn();let n=t();return Wn(),(0,r.isPromise)(n)&&(n=n.catch((t=>{throw Vn(e),t}))),[n,()=>Vn(e)]}function go(t,e,n){const o=arguments.length;return 2===o?(0,r.isObject)(e)&&!(0,r.isArray)(e)?yn(e)?On(t,null,[e]):On(t,e):On(t,null,e):(o>3?n=Array.prototype.slice.call(arguments,2):3===o&&yn(n)&&(n=[n]),On(t,e,n))}const _o=Symbol(""),mo=()=>{{const t=nt(_o);return t}};function yo(){return void 0}function vo(t,e,n,o){const r=n[o];if(r&&Co(r,t))return r;const i=e();return i.memo=t.slice(),n[o]=i}function Co(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if((0,r.hasChanged)(n[t],e[t]))return!1;return hn>0&&cn&&cn.push(t),!0}const Eo="3.2.47",bo={createComponentInstance:Bn,setupComponent:Yn,renderComponentRoot:V,setCurrentRenderingInstance:F,isVNode:yn,normalizeVNode:An},So=null,wo=null},9963:(t,e,n)=>{"use strict";n.r(e),n.d(e,{BaseTransition:()=>r.P$,Comment:()=>r.sv,EffectScope:()=>r.Bj,Fragment:()=>r.HY,KeepAlive:()=>r.Ob,ReactiveEffect:()=>r.qq,Static:()=>r.qG,Suspense:()=>r.n4,Teleport:()=>r.lR,Text:()=>r.xv,Transition:()=>M,TransitionGroup:()=>q,VueElement:()=>w,assertNumber:()=>r.Wu,callWithAsyncErrorHandling:()=>r.$d,callWithErrorHandling:()=>r.KU,camelize:()=>r._A,capitalize:()=>r.kC,cloneVNode:()=>r.Ho,compatUtils:()=>r.ry,computed:()=>r.Fl,createApp:()=>Rt,createBlock:()=>r.j4,createCommentVNode:()=>r.kq,createElementBlock:()=>r.iD,createElementVNode:()=>r._,createHydrationRenderer:()=>r.Eo,createPropsRestProxy:()=>r.p1,createRenderer:()=>r.Us,createSSRApp:()=>Dt,createSlots:()=>r.Nv,createStaticVNode:()=>r.uE,createTextVNode:()=>r.Uk,createVNode:()=>r.Wm,customRef:()=>r.ZM,defineAsyncComponent:()=>r.RC,defineComponent:()=>r.aZ,defineCustomElement:()=>E,defineEmits:()=>r.Bz,defineExpose:()=>r.WY,defineProps:()=>r.MW,defineSSRCustomElement:()=>b,devtools:()=>r.mW,effect:()=>r.cE,effectScope:()=>r.B,getCurrentInstance:()=>r.FN,getCurrentScope:()=>r.nZ,getTransitionRawChildren:()=>r.Q6,guardReactiveProps:()=>r.F4,h:()=>r.h,handleError:()=>r.S3,hydrate:()=>Tt,initCustomFormatter:()=>r.Mr,initDirectivesForSSR:()=>At,inject:()=>r.f3,isMemoSame:()=>r.nQ,isProxy:()=>r.X3,isReactive:()=>r.PG,isReadonly:()=>r.$y,isRef:()=>r.dq,isRuntimeOnly:()=>r.of,isShallow:()=>r.yT,isVNode:()=>r.lA,markRaw:()=>r.Xl,mergeDefaults:()=>r.u_,mergeProps:()=>r.dG,nextTick:()=>r.Y3,normalizeClass:()=>r.C_,normalizeProps:()=>r.vs,normalizeStyle:()=>r.j5,onActivated:()=>r.dl,onBeforeMount:()=>r.wF,onBeforeUnmount:()=>r.Jd,onBeforeUpdate:()=>r.Xn,onDeactivated:()=>r.se,onErrorCaptured:()=>r.d1,onMounted:()=>r.bv,onRenderTracked:()=>r.bT,onRenderTriggered:()=>r.Yq,onScopeDispose:()=>r.EB,onServerPrefetch:()=>r.vl,onUnmounted:()=>r.Ah,onUpdated:()=>r.ic,openBlock:()=>r.wg,popScopeId:()=>r.Cn,provide:()=>r.JJ,proxyRefs:()=>r.WL,pushScopeId:()=>r.dD,queuePostFlushCb:()=>r.qb,reactive:()=>r.qj,readonly:()=>r.OT,ref:()=>r.iH,registerRuntimeCompiler:()=>r.Y1,render:()=>Pt,renderList:()=>r.Ko,renderSlot:()=>r.WI,resolveComponent:()=>r.up,resolveDirective:()=>r.Q2,resolveDynamicComponent:()=>r.LL,resolveFilter:()=>r.eq,resolveTransitionHooks:()=>r.U2,setBlockTracking:()=>r.qZ,setDevtoolsHook:()=>r.ec,setTransitionHooks:()=>r.nK,shallowReactive:()=>r.Um,shallowReadonly:()=>r.YS,shallowRef:()=>r.XI,ssrContextKey:()=>r.Uc,ssrUtils:()=>r.G,stop:()=>r.sT,toDisplayString:()=>r.zw,toHandlerKey:()=>r.hR,toHandlers:()=>r.mx,toRaw:()=>r.IU,toRef:()=>r.Vh,toRefs:()=>r.BK,transformVNodeArgs:()=>r.C3,triggerRef:()=>r.oR,unref:()=>r.SU,useAttrs:()=>r.l1,useCssModule:()=>O,useCssVars:()=>P,useSSRContext:()=>r.Zq,useSlots:()=>r.Rr,useTransitionState:()=>r.Y8,vModelCheckbox:()=>rt,vModelDynamic:()=>dt,vModelRadio:()=>st,vModelSelect:()=>at,vModelText:()=>ot,vShow:()=>vt,version:()=>r.i8,warn:()=>r.ZK,watch:()=>r.YP,watchEffect:()=>r.m0,watchPostEffect:()=>r.Rh,watchSyncEffect:()=>r.yX,withAsyncContext:()=>r.mv,withCtx:()=>r.w5,withDefaults:()=>r.b9,withDirectives:()=>r.wy,withKeys:()=>yt,withMemo:()=>r.MX,withModifiers:()=>_t,withScopeId:()=>r.HX});var o=n(3577),r=n(6252),i=n(2262);const s="undefined"!=typeof document?document:null,a=s&&s.createElement("template"),l={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,o)=>{const r=e?s.createElementNS("http://www.w3.org/2000/svg",t):s.createElement(t,n?{is:n}:void 0);return"select"===t&&o&&null!=o.multiple&&r.setAttribute("multiple",o.multiple),r},createText:t=>s.createTextNode(t),createComment:t=>s.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>s.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,o,r,i){const s=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),r!==i&&(r=r.nextSibling););else{a.innerHTML=o?`<svg>${t}</svg>`:t;const r=a.content;if(o){const t=r.firstChild;for(;t.firstChild;)r.appendChild(t.firstChild);r.removeChild(t)}e.insertBefore(r,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};const c=/\s*!important$/;function u(t,e,n){if((0,o.isArray)(n))n.forEach((n=>u(t,e,n)));else if(null==n&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=function(t,e){const n=p[e];if(n)return n;let r=(0,o.camelize)(e);if("filter"!==r&&r in t)return p[e]=r;r=(0,o.capitalize)(r);for(let n=0;n<d.length;n++){const o=d[n]+r;if(o in t)return p[e]=o}return e}(t,e);c.test(n)?t.setProperty((0,o.hyphenate)(r),n.replace(c,""),"important"):t[r]=n}}const d=["Webkit","Moz","ms"],p={};const h="http://www.w3.org/1999/xlink";function f(t,e,n,o){t.addEventListener(e,n,o)}function g(t,e,n,i,s=null){const a=t._vei||(t._vei={}),l=a[e];if(i&&l)l.value=i;else{const[n,c]=function(t){let e;if(_.test(t)){let n;for(e={};n=t.match(_);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}const n=":"===t[2]?t.slice(3):(0,o.hyphenate)(t.slice(2));return[n,e]}(e);if(i){const l=a[e]=function(t,e){const n=t=>{if(t._vts){if(t._vts<=n.attached)return}else t._vts=Date.now();(0,r.$d)(function(t,e){if((0,o.isArray)(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t&&t(e)))}return e}(t,n.value),e,5,[t])};return n.value=t,n.attached=v(),n}(i,s);f(t,n,l,c)}else l&&(!function(t,e,n,o){t.removeEventListener(e,n,o)}(t,n,l,c),a[e]=void 0)}}const _=/(?:Once|Passive|Capture)$/;let m=0;const y=Promise.resolve(),v=()=>m||(y.then((()=>m=0)),m=Date.now());const C=/^on[a-z]/;function E(t,e){const n=(0,r.aZ)(t);class o extends w{constructor(t){super(n,t,e)}}return o.def=n,o}const b=t=>E(t,Tt),S="undefined"!=typeof HTMLElement?HTMLElement:class{};class w extends S{constructor(t,e={},n){super(),this._def=t,this._props=e,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&n?n(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,(0,r.Y3)((()=>{this._connected||(Pt(null,this.shadowRoot),this._instance=null)}))}_resolveDef(){this._resolved=!0;for(let t=0;t<this.attributes.length;t++)this._setAttr(this.attributes[t].name);new MutationObserver((t=>{for(const e of t)this._setAttr(e.attributeName)})).observe(this,{attributes:!0});const t=(t,e=!1)=>{const{props:n,styles:r}=t;let i;if(n&&!(0,o.isArray)(n))for(const t in n){const e=n[t];(e===Number||e&&e.type===Number)&&(t in this._props&&(this._props[t]=(0,o.toNumber)(this._props[t])),(i||(i=Object.create(null)))[(0,o.camelize)(t)]=!0)}this._numberProps=i,e&&this._resolveProps(t),this._applyStyles(r),this._update()},e=this._def.__asyncLoader;e?e().then((e=>t(e,!0))):t(this._def)}_resolveProps(t){const{props:e}=t,n=(0,o.isArray)(e)?e:Object.keys(e||{});for(const t of Object.keys(this))"_"!==t[0]&&n.includes(t)&&this._setProp(t,this[t],!0,!1);for(const t of n.map(o.camelize))Object.defineProperty(this,t,{get(){return this._getProp(t)},set(e){this._setProp(t,e)}})}_setAttr(t){let e=this.getAttribute(t);const n=(0,o.camelize)(t);this._numberProps&&this._numberProps[n]&&(e=(0,o.toNumber)(e)),this._setProp(n,e,!1)}_getProp(t){return this._props[t]}_setProp(t,e,n=!0,r=!0){e!==this._props[t]&&(this._props[t]=e,r&&this._instance&&this._update(),n&&(!0===e?this.setAttribute((0,o.hyphenate)(t),""):"string"==typeof e||"number"==typeof e?this.setAttribute((0,o.hyphenate)(t),e+""):e||this.removeAttribute((0,o.hyphenate)(t))))}_update(){Pt(this._createVNode(),this.shadowRoot)}_createVNode(){const t=(0,r.Wm)(this._def,(0,o.extend)({},this._props));return this._instance||(t.ce=t=>{this._instance=t,t.isCE=!0;const e=(t,e)=>{this.dispatchEvent(new CustomEvent(t,{detail:e}))};t.emit=(t,...n)=>{e(t,n),(0,o.hyphenate)(t)!==t&&e((0,o.hyphenate)(t),n)};let n=this;for(;n=n&&(n.parentNode||n.host);)if(n instanceof w){t.parent=n._instance,t.provides=n._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach((t=>{const e=document.createElement("style");e.textContent=t,this.shadowRoot.appendChild(e)}))}}function O(t="$style"){{const e=(0,r.FN)();if(!e)return o.EMPTY_OBJ;const n=e.type.__cssModules;if(!n)return o.EMPTY_OBJ;const i=n[t];return i||o.EMPTY_OBJ}}function P(t){const e=(0,r.FN)();if(!e)return;const n=e.ut=(n=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach((t=>R(t,n)))},o=()=>{const o=t(e.proxy);T(e.subTree,o),n(o)};(0,r.Rh)(o),(0,r.bv)((()=>{const t=new MutationObserver(o);t.observe(e.subTree.el.parentNode,{childList:!0}),(0,r.Ah)((()=>t.disconnect()))}))}function T(t,e){if(128&t.shapeFlag){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push((()=>{T(n.activeBranch,e)}))}for(;t.component;)t=t.component.subTree;if(1&t.shapeFlag&&t.el)R(t.el,e);else if(t.type===r.HY)t.children.forEach((t=>T(t,e)));else if(t.type===r.qG){let{el:n,anchor:o}=t;for(;n&&(R(n,e),n!==o);)n=n.nextSibling}}function R(t,e){if(1===t.nodeType){const n=t.style;for(const t in e)n.setProperty(`--${t}`,e[t])}}const D="transition",x="animation",M=(t,{slots:e})=>(0,r.h)(r.P$,k(t),e);M.displayName="Transition";const A={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},L=M.props=(0,o.extend)({},r.P$.props,A),I=(t,e=[])=>{(0,o.isArray)(t)?t.forEach((t=>t(...e))):t&&t(...e)},N=t=>!!t&&((0,o.isArray)(t)?t.some((t=>t.length>1)):t.length>1);function k(t){const e={};for(const n in t)n in A||(e[n]=t[n]);if(!1===t.css)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=s,appearActiveClass:u=a,appearToClass:d=l,leaveFromClass:p=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=t,g=function(t){if(null==t)return null;if((0,o.isObject)(t))return[F(t.enter),F(t.leave)];{const e=F(t);return[e,e]}}(i),_=g&&g[0],m=g&&g[1],{onBeforeEnter:y,onEnter:v,onEnterCancelled:C,onLeave:E,onLeaveCancelled:b,onBeforeAppear:S=y,onAppear:w=v,onAppearCancelled:O=C}=e,P=(t,e,n)=>{B(t,e?d:l),B(t,e?u:a),n&&n()},T=(t,e)=>{t._isLeaving=!1,B(t,p),B(t,f),B(t,h),e&&e()},R=t=>(e,n)=>{const o=t?w:v,i=()=>P(e,t,n);I(o,[e,i]),U((()=>{B(e,t?c:s),G(e,t?d:l),N(o)||V(e,r,_,i)}))};return(0,o.extend)(e,{onBeforeEnter(t){I(y,[t]),G(t,s),G(t,a)},onBeforeAppear(t){I(S,[t]),G(t,c),G(t,u)},onEnter:R(!1),onAppear:R(!0),onLeave(t,e){t._isLeaving=!0;const n=()=>T(t,e);G(t,p),z(),G(t,h),U((()=>{t._isLeaving&&(B(t,p),G(t,f),N(E)||V(t,r,m,n))})),I(E,[t,n])},onEnterCancelled(t){P(t,!1),I(C,[t])},onAppearCancelled(t){P(t,!0),I(O,[t])},onLeaveCancelled(t){T(t),I(b,[t])}})}function F(t){return(0,o.toNumber)(t)}function G(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.add(e))),(t._vtc||(t._vtc=new Set)).add(e)}function B(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.remove(e)));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function U(t){requestAnimationFrame((()=>{requestAnimationFrame(t)}))}let j=0;function V(t,e,n,o){const r=t._endId=++j,i=()=>{r===t._endId&&o()};if(n)return setTimeout(i,n);const{type:s,timeout:a,propCount:l}=W(t,e);if(!s)return o();const c=s+"end";let u=0;const d=()=>{t.removeEventListener(c,p),i()},p=e=>{e.target===t&&++u>=l&&d()};setTimeout((()=>{u<l&&d()}),a+1),t.addEventListener(c,p)}function W(t,e){const n=window.getComputedStyle(t),o=t=>(n[t]||"").split(", "),r=o(`${D}Delay`),i=o(`${D}Duration`),s=H(r,i),a=o(`${x}Delay`),l=o(`${x}Duration`),c=H(a,l);let u=null,d=0,p=0;e===D?s>0&&(u=D,d=s,p=i.length):e===x?c>0&&(u=x,d=c,p=l.length):(d=Math.max(s,c),u=d>0?s>c?D:x:null,p=u?u===D?i.length:l.length:0);return{type:u,timeout:d,propCount:p,hasTransform:u===D&&/\b(transform|all)(,|$)/.test(o(`${D}Property`).toString())}}function H(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map(((e,n)=>$(e)+$(t[n]))))}function $(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function z(){return document.body.offsetHeight}const K=new WeakMap,Y=new WeakMap,Z={name:"TransitionGroup",props:(0,o.extend)({},L,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=(0,r.FN)(),o=(0,r.Y8)();let s,a;return(0,r.ic)((()=>{if(!s.length)return;const e=t.moveClass||`${t.name||"v"}-move`;if(!function(t,e,n){const o=t.cloneNode();t._vtc&&t._vtc.forEach((t=>{t.split(/\s+/).forEach((t=>t&&o.classList.remove(t)))}));n.split(/\s+/).forEach((t=>t&&o.classList.add(t))),o.style.display="none";const r=1===e.nodeType?e:e.parentNode;r.appendChild(o);const{hasTransform:i}=W(o);return r.removeChild(o),i}(s[0].el,n.vnode.el,e))return;s.forEach(X),s.forEach(J);const o=s.filter(Q);z(),o.forEach((t=>{const n=t.el,o=n.style;G(n,e),o.transform=o.webkitTransform=o.transitionDuration="";const r=n._moveCb=t=>{t&&t.target!==n||t&&!/transform$/.test(t.propertyName)||(n.removeEventListener("transitionend",r),n._moveCb=null,B(n,e))};n.addEventListener("transitionend",r)}))})),()=>{const l=(0,i.IU)(t),c=k(l);let u=l.tag||r.HY;s=a,a=e.default?(0,r.Q6)(e.default()):[];for(let t=0;t<a.length;t++){const e=a[t];null!=e.key&&(0,r.nK)(e,(0,r.U2)(e,c,o,n))}if(s)for(let t=0;t<s.length;t++){const e=s[t];(0,r.nK)(e,(0,r.U2)(e,c,o,n)),K.set(e,e.el.getBoundingClientRect())}return(0,r.Wm)(u,null,a)}}},q=Z;function X(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function J(t){Y.set(t,t.el.getBoundingClientRect())}function Q(t){const e=K.get(t),n=Y.get(t),o=e.left-n.left,r=e.top-n.top;if(o||r){const e=t.el.style;return e.transform=e.webkitTransform=`translate(${o}px,${r}px)`,e.transitionDuration="0s",t}}const tt=t=>{const e=t.props["onUpdate:modelValue"]||!1;return(0,o.isArray)(e)?t=>(0,o.invokeArrayFns)(e,t):e};function et(t){t.target.composing=!0}function nt(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ot={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t._assign=tt(i);const s=r||i.props&&"number"===i.props.type;f(t,e?"change":"input",(e=>{if(e.target.composing)return;let r=t.value;n&&(r=r.trim()),s&&(r=(0,o.looseToNumber)(r)),t._assign(r)})),n&&f(t,"change",(()=>{t.value=t.value.trim()})),e||(f(t,"compositionstart",et),f(t,"compositionend",nt),f(t,"change",nt))},mounted(t,{value:e}){t.value=null==e?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},s){if(t._assign=tt(s),t.composing)return;if(document.activeElement===t&&"range"!==t.type){if(n)return;if(r&&t.value.trim()===e)return;if((i||"number"===t.type)&&(0,o.looseToNumber)(t.value)===e)return}const a=null==e?"":e;t.value!==a&&(t.value=a)}},rt={deep:!0,created(t,e,n){t._assign=tt(n),f(t,"change",(()=>{const e=t._modelValue,n=ct(t),r=t.checked,i=t._assign;if((0,o.isArray)(e)){const t=(0,o.looseIndexOf)(e,n),s=-1!==t;if(r&&!s)i(e.concat(n));else if(!r&&s){const n=[...e];n.splice(t,1),i(n)}}else if((0,o.isSet)(e)){const t=new Set(e);r?t.add(n):t.delete(n),i(t)}else i(ut(t,r))}))},mounted:it,beforeUpdate(t,e,n){t._assign=tt(n),it(t,e,n)}};function it(t,{value:e,oldValue:n},r){t._modelValue=e,(0,o.isArray)(e)?t.checked=(0,o.looseIndexOf)(e,r.props.value)>-1:(0,o.isSet)(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=(0,o.looseEqual)(e,ut(t,!0)))}const st={created(t,{value:e},n){t.checked=(0,o.looseEqual)(e,n.props.value),t._assign=tt(n),f(t,"change",(()=>{t._assign(ct(t))}))},beforeUpdate(t,{value:e,oldValue:n},r){t._assign=tt(r),e!==n&&(t.checked=(0,o.looseEqual)(e,r.props.value))}},at={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=(0,o.isSet)(e);f(t,"change",(()=>{const e=Array.prototype.filter.call(t.options,(t=>t.selected)).map((t=>n?(0,o.looseToNumber)(ct(t)):ct(t)));t._assign(t.multiple?i?new Set(e):e:e[0])})),t._assign=tt(r)},mounted(t,{value:e}){lt(t,e)},beforeUpdate(t,e,n){t._assign=tt(n)},updated(t,{value:e}){lt(t,e)}};function lt(t,e){const n=t.multiple;if(!n||(0,o.isArray)(e)||(0,o.isSet)(e)){for(let r=0,i=t.options.length;r<i;r++){const i=t.options[r],s=ct(i);if(n)(0,o.isArray)(e)?i.selected=(0,o.looseIndexOf)(e,s)>-1:i.selected=e.has(s);else if((0,o.looseEqual)(ct(i),e))return void(t.selectedIndex!==r&&(t.selectedIndex=r))}n||-1===t.selectedIndex||(t.selectedIndex=-1)}}function ct(t){return"_value"in t?t._value:t.value}function ut(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const dt={created(t,e,n){ht(t,e,n,null,"created")},mounted(t,e,n){ht(t,e,n,null,"mounted")},beforeUpdate(t,e,n,o){ht(t,e,n,o,"beforeUpdate")},updated(t,e,n,o){ht(t,e,n,o,"updated")}};function pt(t,e){switch(t){case"SELECT":return at;case"TEXTAREA":return ot;default:switch(e){case"checkbox":return rt;case"radio":return st;default:return ot}}}function ht(t,e,n,o,r){const i=pt(t.tagName,n.props&&n.props.type)[r];i&&i(t,e,n,o)}const ft=["ctrl","shift","alt","meta"],gt={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&0!==t.button,middle:t=>"button"in t&&1!==t.button,right:t=>"button"in t&&2!==t.button,exact:(t,e)=>ft.some((n=>t[`${n}Key`]&&!e.includes(n)))},_t=(t,e)=>(n,...o)=>{for(let t=0;t<e.length;t++){const o=gt[e[t]];if(o&&o(n,e))return}return t(n,...o)},mt={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},yt=(t,e)=>n=>{if(!("key"in n))return;const r=(0,o.hyphenate)(n.key);return e.some((t=>t===r||mt[t]===r))?t(n):void 0},vt={beforeMount(t,{value:e},{transition:n}){t._vod="none"===t.style.display?"":t.style.display,n&&e?n.beforeEnter(t):Ct(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:o}){!e!=!n&&(o?e?(o.beforeEnter(t),Ct(t,!0),o.enter(t)):o.leave(t,(()=>{Ct(t,!1)})):Ct(t,e))},beforeUnmount(t,{value:e}){Ct(t,e)}};function Ct(t,e){t.style.display=e?t._vod:"none"}const Et=(0,o.extend)({patchProp:(t,e,n,r,i=!1,s,a,l,c)=>{"class"===e?function(t,e,n){const o=t._vtc;o&&(e=(e?[e,...o]:[...o]).join(" ")),null==e?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}(t,r,i):"style"===e?function(t,e,n){const r=t.style,i=(0,o.isString)(n);if(n&&!i){if(e&&!(0,o.isString)(e))for(const t in e)null==n[t]&&u(r,t,"");for(const t in n)u(r,t,n[t])}else{const o=r.display;i?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=o)}}(t,n,r):(0,o.isOn)(e)?(0,o.isModelListener)(e)||g(t,e,0,r,a):("."===e[0]?(e=e.slice(1),1):"^"===e[0]?(e=e.slice(1),0):function(t,e,n,r){if(r)return"innerHTML"===e||"textContent"===e||!!(e in t&&C.test(e)&&(0,o.isFunction)(n));if("spellcheck"===e||"draggable"===e||"translate"===e)return!1;if("form"===e)return!1;if("list"===e&&"INPUT"===t.tagName)return!1;if("type"===e&&"TEXTAREA"===t.tagName)return!1;if(C.test(e)&&(0,o.isString)(n))return!1;return e in t}(t,e,r,i))?function(t,e,n,r,i,s,a){if("innerHTML"===e||"textContent"===e)return r&&a(r,i,s),void(t[e]=null==n?"":n);if("value"===e&&"PROGRESS"!==t.tagName&&!t.tagName.includes("-")){t._value=n;const o=null==n?"":n;return t.value===o&&"OPTION"!==t.tagName||(t.value=o),void(null==n&&t.removeAttribute(e))}let l=!1;if(""===n||null==n){const r=typeof t[e];"boolean"===r?n=(0,o.includeBooleanAttr)(n):null==n&&"string"===r?(n="",l=!0):"number"===r&&(n=0,l=!0)}try{t[e]=n}catch(t){}l&&t.removeAttribute(e)}(t,e,r,s,a,l,c):("true-value"===e?t._trueValue=r:"false-value"===e&&(t._falseValue=r),function(t,e,n,r,i){if(r&&e.startsWith("xlink:"))null==n?t.removeAttributeNS(h,e.slice(6,e.length)):t.setAttributeNS(h,e,n);else{const r=(0,o.isSpecialBooleanAttr)(e);null==n||r&&!(0,o.includeBooleanAttr)(n)?t.removeAttribute(e):t.setAttribute(e,r?"":n)}}(t,e,r,i))}},l);let bt,St=!1;function wt(){return bt||(bt=(0,r.Us)(Et))}function Ot(){return bt=St?bt:(0,r.Eo)(Et),St=!0,bt}const Pt=(...t)=>{wt().render(...t)},Tt=(...t)=>{Ot().hydrate(...t)},Rt=(...t)=>{const e=wt().createApp(...t);const{mount:n}=e;return e.mount=t=>{const r=xt(t);if(!r)return;const i=e._component;(0,o.isFunction)(i)||i.render||i.template||(i.template=r.innerHTML),r.innerHTML="";const s=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),s},e},Dt=(...t)=>{const e=Ot().createApp(...t);const{mount:n}=e;return e.mount=t=>{const e=xt(t);if(e)return n(e,!0,e instanceof SVGElement)},e};function xt(t){if((0,o.isString)(t)){return document.querySelector(t)}return t}let Mt=!1;const At=()=>{Mt||(Mt=!0,ot.getSSRProps=({value:t})=>({value:t}),st.getSSRProps=({value:t},e)=>{if(e.props&&(0,o.looseEqual)(e.props.value,t))return{checked:!0}},rt.getSSRProps=({value:t},e)=>{if((0,o.isArray)(t)){if(e.props&&(0,o.looseIndexOf)(t,e.props.value)>-1)return{checked:!0}}else if((0,o.isSet)(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},dt.getSSRProps=(t,e)=>{if("string"!=typeof e.type)return;const n=pt(e.type.toUpperCase(),e.props&&e.props.type);return n.getSSRProps?n.getSSRProps(t,e):void 0},vt.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}})}},3577:(t,e,n)=>{"use strict";function o(t,e){const n=Object.create(null),o=t.split(",");for(let t=0;t<o.length;t++)n[o[t]]=!0;return e?t=>!!n[t.toLowerCase()]:t=>!!n[t]}n.r(e),n.d(e,{EMPTY_ARR:()=>B,EMPTY_OBJ:()=>G,NO:()=>j,NOOP:()=>U,PatchFlagNames:()=>r,camelize:()=>ft,capitalize:()=>mt,def:()=>Et,escapeHtml:()=>M,escapeHtmlComment:()=>L,extend:()=>$,genPropsAccessExp:()=>Tt,generateCodeFrame:()=>l,getGlobalThis:()=>Ot,hasChanged:()=>vt,hasOwn:()=>Y,hyphenate:()=>_t,includeBooleanAttr:()=>S,invokeArrayFns:()=>Ct,isArray:()=>Z,isBooleanAttr:()=>b,isBuiltInDirective:()=>dt,isDate:()=>J,isFunction:()=>tt,isGloballyWhitelisted:()=>s,isHTMLTag:()=>m,isIntegerKey:()=>ct,isKnownHtmlAttr:()=>R,isKnownSvgAttr:()=>D,isMap:()=>q,isModelListener:()=>H,isObject:()=>ot,isOn:()=>W,isPlainObject:()=>lt,isPromise:()=>rt,isRegExp:()=>Q,isReservedProp:()=>ut,isSSRSafeAttrName:()=>P,isSVGTag:()=>y,isSet:()=>X,isSpecialBooleanAttr:()=>E,isString:()=>et,isSymbol:()=>nt,isVoidTag:()=>v,looseEqual:()=>I,looseIndexOf:()=>N,looseToNumber:()=>bt,makeMap:()=>o,normalizeClass:()=>g,normalizeProps:()=>_,normalizeStyle:()=>c,objectToString:()=>it,parseStringStyle:()=>h,propsToAttrMap:()=>T,remove:()=>z,slotFlagsText:()=>i,stringifyStyle:()=>f,toDisplayString:()=>k,toHandlerKey:()=>yt,toNumber:()=>St,toRawType:()=>at,toTypeString:()=>st});const r={1:"TEXT",2:"CLASS",4:"STYLE",8:"PROPS",16:"FULL_PROPS",32:"HYDRATE_EVENTS",64:"STABLE_FRAGMENT",128:"KEYED_FRAGMENT",256:"UNKEYED_FRAGMENT",512:"NEED_PATCH",1024:"DYNAMIC_SLOTS",2048:"DEV_ROOT_FRAGMENT",[-1]:"HOISTED",[-2]:"BAIL"},i={1:"STABLE",2:"DYNAMIC",3:"FORWARDED"},s=o("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt"),a=2;function l(t,e=0,n=t.length){let o=t.split(/(\r?\n)/);const r=o.filter(((t,e)=>e%2==1));o=o.filter(((t,e)=>e%2==0));let i=0;const s=[];for(let t=0;t<o.length;t++)if(i+=o[t].length+(r[t]&&r[t].length||0),i>=e){for(let l=t-a;l<=t+a||n>i;l++){if(l<0||l>=o.length)continue;const a=l+1;s.push(`${a}${" ".repeat(Math.max(3-String(a).length,0))}|  ${o[l]}`);const c=o[l].length,u=r[l]&&r[l].length||0;if(l===t){const t=e-(i-(c+u)),o=Math.max(1,n>i?c-t:n-e);s.push("   |  "+" ".repeat(t)+"^".repeat(o))}else if(l>t){if(n>i){const t=Math.max(Math.min(n-i,c),1);s.push("   |  "+"^".repeat(t))}i+=c+u}}break}return s.join("\n")}function c(t){if(Z(t)){const e={};for(let n=0;n<t.length;n++){const o=t[n],r=et(o)?h(o):c(o);if(r)for(const t in r)e[t]=r[t]}return e}return et(t)||ot(t)?t:void 0}const u=/;(?![^(]*\))/g,d=/:([^]+)/,p=/\/\*.*?\*\//gs;function h(t){const e={};return t.replace(p,"").split(u).forEach((t=>{if(t){const n=t.split(d);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}function f(t){let e="";if(!t||et(t))return e;for(const n in t){const o=t[n],r=n.startsWith("--")?n:_t(n);(et(o)||"number"==typeof o)&&(e+=`${r}:${o};`)}return e}function g(t){let e="";if(et(t))e=t;else if(Z(t))for(let n=0;n<t.length;n++){const o=g(t[n]);o&&(e+=o+" ")}else if(ot(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function _(t){if(!t)return null;let{class:e,style:n}=t;return e&&!et(e)&&(t.class=g(e)),n&&(t.style=c(n)),t}const m=o("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot"),y=o("svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view"),v=o("area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr"),C="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",E=o(C),b=o(C+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function S(t){return!!t||""===t}const w=/[>/="'\u0009\u000a\u000c\u0020]/,O={};function P(t){if(O.hasOwnProperty(t))return O[t];const e=w.test(t);return e&&console.error(`unsafe attribute name: ${t}`),O[t]=!e}const T={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},R=o("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap"),D=o("xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan"),x=/["'&<>]/;function M(t){const e=""+t,n=x.exec(e);if(!n)return e;let o,r,i="",s=0;for(r=n.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:o="&quot;";break;case 38:o="&amp;";break;case 39:o="&#39;";break;case 60:o="&lt;";break;case 62:o="&gt;";break;default:continue}s!==r&&(i+=e.slice(s,r)),s=r+1,i+=o}return s!==r?i+e.slice(s,r):i}const A=/^-?>|<!--|-->|--!>|<!-$/g;function L(t){return t.replace(A,"")}function I(t,e){if(t===e)return!0;let n=J(t),o=J(e);if(n||o)return!(!n||!o)&&t.getTime()===e.getTime();if(n=nt(t),o=nt(e),n||o)return t===e;if(n=Z(t),o=Z(e),n||o)return!(!n||!o)&&function(t,e){if(t.length!==e.length)return!1;let n=!0;for(let o=0;n&&o<t.length;o++)n=I(t[o],e[o]);return n}(t,e);if(n=ot(t),o=ot(e),n||o){if(!n||!o)return!1;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t){const o=t.hasOwnProperty(n),r=e.hasOwnProperty(n);if(o&&!r||!o&&r||!I(t[n],e[n]))return!1}}return String(t)===String(e)}function N(t,e){return t.findIndex((t=>I(t,e)))}const k=t=>et(t)?t:null==t?"":Z(t)||ot(t)&&(t.toString===it||!tt(t.toString))?JSON.stringify(t,F,2):String(t),F=(t,e)=>e&&e.__v_isRef?F(t,e.value):q(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,n])=>(t[`${e} =>`]=n,t)),{})}:X(e)?{[`Set(${e.size})`]:[...e.values()]}:!ot(e)||Z(e)||lt(e)?e:String(e),G={},B=[],U=()=>{},j=()=>!1,V=/^on[^a-z]/,W=t=>V.test(t),H=t=>t.startsWith("onUpdate:"),$=Object.assign,z=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},K=Object.prototype.hasOwnProperty,Y=(t,e)=>K.call(t,e),Z=Array.isArray,q=t=>"[object Map]"===st(t),X=t=>"[object Set]"===st(t),J=t=>"[object Date]"===st(t),Q=t=>"[object RegExp]"===st(t),tt=t=>"function"==typeof t,et=t=>"string"==typeof t,nt=t=>"symbol"==typeof t,ot=t=>null!==t&&"object"==typeof t,rt=t=>ot(t)&&tt(t.then)&&tt(t.catch),it=Object.prototype.toString,st=t=>it.call(t),at=t=>st(t).slice(8,-1),lt=t=>"[object Object]"===st(t),ct=t=>et(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,ut=o(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),dt=o("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),pt=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},ht=/-(\w)/g,ft=pt((t=>t.replace(ht,((t,e)=>e?e.toUpperCase():"")))),gt=/\B([A-Z])/g,_t=pt((t=>t.replace(gt,"-$1").toLowerCase())),mt=pt((t=>t.charAt(0).toUpperCase()+t.slice(1))),yt=pt((t=>t?`on${mt(t)}`:"")),vt=(t,e)=>!Object.is(t,e),Ct=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Et=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},bt=t=>{const e=parseFloat(t);return isNaN(e)?t:e},St=t=>{const e=et(t)?Number(t):NaN;return isNaN(e)?t:e};let wt;const Ot=()=>wt||(wt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{}),Pt=/^[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*$/;function Tt(t){return Pt.test(t)?`__props.${t}`:`__props[${JSON.stringify(t)}]`}},1731:(t,e,n)=>{"use strict";function o(t){return null==t||""===t?null:t}function r(t,e){return void 0===e&&(e=!1),null!=t&&(""!==t||e)}function i(t){return!r(t)}function s(t){return null==t||0===t.length}function a(t){return null!=t&&"function"==typeof t.toString?t.toString():null}function l(t){if(void 0!==t){if(null===t||""===t)return null;if("number"==typeof t)return isNaN(t)?void 0:t;var e=parseInt(t,10);return isNaN(e)?void 0:e}}function c(t){if(void 0!==t)return null!==t&&""!==t&&("boolean"==typeof t?t:/true/i.test(t))}function u(t){if(t instanceof Set||t instanceof Map){var e=[];return t.forEach((function(t){return e.push(t)})),e}return Object.values(t)}n.d(e,{$j7:()=>W,$zI:()=>Hp,AGU:()=>kr,AS9:()=>Ut,BxR:()=>Tp,CPJ:()=>sh,Cvn:()=>Qa,D_6:()=>Rr,Dkq:()=>Zd,EHG:()=>rm,Ekq:()=>Il,F$j:()=>im,FXL:()=>$,FiY:()=>Y,Fxk:()=>Ss,GXE:()=>J,Gxm:()=>Lr,H1u:()=>vp,IFn:()=>Z_,INo:()=>Pi,IUB:()=>em,J8Z:()=>jr,KTm:()=>dt,LQq:()=>oi,Lm6:()=>ll,MQo:()=>Hr,Nk3:()=>Zg,NlK:()=>Xd,NqP:()=>H,O3h:()=>ot,O_3:()=>Mp,POd:()=>et,QVL:()=>Bi,Qk6:()=>vd,RXH:()=>ss,StC:()=>cl,VDZ:()=>Wo,Vu6:()=>z,WD6:()=>yd,WKU:()=>W_,WU2:()=>Jg,YaM:()=>J_,ZST:()=>Br,_:()=>or,aCu:()=>c_,aVm:()=>H_,at1:()=>rr,cqo:()=>_r,d2Z:()=>Qg,eHy:()=>ge,fKL:()=>ep,fQL:()=>eu,fsG:()=>K,h7_:()=>_p,hhW:()=>qg,jMC:()=>Q_,jUB:()=>As,j_S:()=>sr,jkc:()=>ei,nN0:()=>cp,nPL:()=>Ms,plv:()=>Qt,rjZ:()=>Kg,rvo:()=>Ai,rwP:()=>Zi,sJC:()=>Fp,sO1:()=>Xg,sgG:()=>ct,vA3:()=>ch,wA2:()=>gr,wGv:()=>qr,wSp:()=>Up,z0n:()=>V_,zW2:()=>zt});var d=Object.freeze({__proto__:null,makeNull:o,exists:r,missing:i,missingOrEmpty:s,toStringOrNull:a,attrToNumber:l,attrToBoolean:c,attrToString:function(t){if(null!=t&&""!==t)return t},referenceCompare:function(t,e){return null==t&&null==e||(null!=t||null==e)&&((null==t||null!=e)&&t===e)},jsonEquals:function(t,e){return(t?JSON.stringify(t):null)===(e?JSON.stringify(e):null)},defaultComparator:function(t,e,n){void 0===n&&(n=!1);var o=null==t,r=null==e;if(t&&t.toNumber&&(t=t.toNumber()),e&&e.toNumber&&(e=e.toNumber()),o&&r)return 0;if(o)return-1;if(r)return 1;function i(t,e){return t>e?1:t<e?-1:0}if("string"!=typeof t)return i(t,e);if(!n)return i(t,e);try{return t.localeCompare(e)}catch(n){return i(t,e)}},values:u}),p=function(){function t(){this.existingKeys={}}return t.prototype.addExistingKeys=function(t){for(var e=0;e<t.length;e++)this.existingKeys[t[e]]=!0},t.prototype.getUniqueKey=function(t,e){t=a(t);for(var n=0;;){var o=void 0;if(t?(o=t,0!==n&&(o+="_"+n)):e?(o=e,0!==n&&(o+="_"+n)):o=""+n,!this.existingKeys[o])return this.existingKeys[o]=!0,o;n++}},t}();function h(t,e){null!=t&&(Array.isArray(t)?t.forEach((function(t,n){return e(""+n,t)})):Object.keys(t).forEach((function(n){return e(n,t[n])})))}function f(t){for(var e={},n=Object.keys(t),o=0;o<n.length;o++){var r=n[o],i=t[r];e[r]=i}return e}function g(t,e){if(t){var n=t,o={};return Object.keys(n).forEach((function(t){if(!(e&&e.indexOf(t)>=0)){var r=n[t],i=w(r)&&r.constructor===Object;o[t]=i?g(r):r}})),o}}function _(t,e){return t[e]}function m(t,e,n){t[e]=n}function y(t,e,n,o){var r=_(t,n);void 0!==r&&m(e,n,o?o(r):r)}function v(t){var e={};return t.filter((function(t){return null!=t})).forEach((function(t){Object.keys(t).forEach((function(t){return e[t]=null}))})),Object.keys(e)}function C(t){if(!t)return[];var e=Object;if("function"==typeof e.values)return e.values(t);var n=[];for(var o in t)t.hasOwnProperty(o)&&t.propertyIsEnumerable(o)&&n.push(t[o]);return n}function E(t,e,n,o){void 0===n&&(n=!0),void 0===o&&(o=!1),r(e)&&h(e,(function(e,r){var i=t[e];if(i!==r){if(o)if(null==i&&null!=r)"object"==typeof r&&r.constructor===Object&&(i={},t[e]=i);w(r)&&w(i)&&!Array.isArray(i)?E(i,r,n,o):(n||void 0!==r)&&(t[e]=r)}}))}function b(t,e,n){if(e&&t){if(!n)return t[e];for(var o=e.split("."),r=t,i=0;i<o.length;i++){if(null==r)return;r=r[o[i]]}return r}}function S(t,e){Object.keys(t).forEach((function(e){"object"==typeof t[e]&&(t[e]=void 0)}));var n=Object.getPrototypeOf(t),o={};Object.keys(n).forEach((function(t){if("function"==typeof n[t]){o[t]={value:function(){console.warn("AG Grid: "+e+" function "+t+"() cannot be called as the grid has been destroyed.\n                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't\n                     be keeping the API reference, your application has a memory leak! Remove the API reference\n                     when the grid is destroyed.")},writable:!0}}})),Object.defineProperties(t,o)}function w(t){return"object"==typeof t&&null!==t}var O=Object.freeze({__proto__:null,iterateObject:h,cloneObject:f,deepCloneObject:function(t){return JSON.parse(JSON.stringify(t))},deepCloneDefinition:g,getProperty:_,setProperty:m,copyPropertiesIfPresent:function(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];n.forEach((function(n){return y(t,e,n)}))},copyPropertyIfPresent:y,getAllKeysInObjects:v,getAllValuesInObject:C,mergeDeep:E,missingOrEmptyObject:function(t){return i(t)||0===Object.keys(t).length},get:function(t,e,n){if(null==t)return n;for(var o=e.split("."),r=t;o.length>1;)if(null==(r=r[o.shift()]))return n;var i=r[o[0]];return null!=i?i:n},set:function(t,e,n){if(null!=t){var o=e.split("."),r=t;o.forEach((function(t,e){r[t]||(r[t]={}),e<o.length-1&&(r=r[t])})),r[o[o.length-1]]=n}},getValueUsingField:b,removeAllReferences:S,isNonNullObject:w}),P={};function T(t,e){P[e]||(t(),P[e]=!0)}function R(t){if(t.name)return t.name;var e=/function\s+([^\(]+)/.exec(t.toString());return e&&2===e.length?e[1].trim():null}function D(t){return!!(t&&t.constructor&&t.call&&t.apply)}function x(t){I(t,400)}var M=[],A=!1;function L(t){M.push(t),A||(A=!0,window.setTimeout((function(){var t=M.slice();M.length=0,A=!1,t.forEach((function(t){return t()}))}),0))}function I(t,e){void 0===e&&(e=0),t.length>0&&window.setTimeout((function(){return t.forEach((function(t){return t()}))}),e)}function N(t,e){var n;return function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];var i=this;window.clearTimeout(n),n=window.setTimeout((function(){t.apply(i,o)}),e)}}function k(t,e){var n=0;return function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];var i=(new Date).getTime();i-n<e||(n=i,t.apply(this,o))}}function F(t,e,n,o){void 0===n&&(n=100);var r=(new Date).getTime(),i=null,s=!1,a=function(){var a=(new Date).getTime()-r>n;(t()||a)&&(e(),s=!0,null!=i&&(window.clearInterval(i),i=null),a&&o&&console.warn(o))};a(),s||(i=window.setInterval(a,10))}function G(t){t&&t()}var B=Object.freeze({__proto__:null,doOnce:T,getFunctionName:R,isFunction:D,executeInAWhile:x,executeNextVMTurn:L,executeAfter:I,debounce:N,throttle:k,waitUntil:F,compose:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return t.reduce((function(t,e){return e(t)}),e)}},callIfPresent:G,noop:function(){}}),U=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},j=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(U(arguments[e]));return t},V=function(){function t(t,e){if(this.beanWrappers={},this.destroyed=!1,t&&t.beanClasses){this.contextParams=t,this.logger=e,this.logger.log(">> creating ag-Application Context"),this.createBeans();var n=this.getBeanInstances();this.wireBeans(n),this.logger.log(">> ag-Application Context ready - component is alive")}}return t.prototype.getBeanInstances=function(){return u(this.beanWrappers).map((function(t){return t.beanInstance}))},t.prototype.createBean=function(t,e){if(!t)throw Error("Can't wire to bean since it is null");return this.wireBeans([t],e),t},t.prototype.wireBeans=function(t,e){this.autoWireBeans(t),this.methodWireBeans(t),this.callLifeCycleMethods(t,"preConstructMethods"),r(e)&&t.forEach(e),this.callLifeCycleMethods(t,"postConstructMethods")},t.prototype.createBeans=function(){var t=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),h(this.beanWrappers,(function(e,n){var o;n.bean.__agBeanMetaData&&n.bean.__agBeanMetaData.autowireMethods&&n.bean.__agBeanMetaData.autowireMethods.agConstructor&&(o=n.bean.__agBeanMetaData.autowireMethods.agConstructor);var r=t.getBeansForParameters(o,n.bean.name),i=new(n.bean.bind.apply(n.bean,j([null],r)));n.beanInstance=i}));var e=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+e)},t.prototype.createBeanWrapper=function(t){var e=t.__agBeanMetaData;if(!e){var n=void 0;return n=t.prototype.constructor?R(t.prototype.constructor):""+t,void console.error("Context item "+n+" is not a bean")}var o={bean:t,beanInstance:null,beanName:e.beanName};this.beanWrappers[e.beanName]=o},t.prototype.autoWireBeans=function(t){var e=this;t.forEach((function(t){e.forEachMetaDataInHierarchy(t,(function(n,o){var r=n.agClassAttributes;r&&r.forEach((function(n){var r=e.lookupBeanInstance(o,n.beanName,n.optional);t[n.attributeName]=r}))}))}))},t.prototype.methodWireBeans=function(t){var e=this;t.forEach((function(t){e.forEachMetaDataInHierarchy(t,(function(n,o){h(n.autowireMethods,(function(n,r){if("agConstructor"!==n){var i=e.getBeansForParameters(r,o);t[n].apply(t,i)}}))}))}))},t.prototype.forEachMetaDataInHierarchy=function(t,e){for(var n=Object.getPrototypeOf(t);null!=n;){var o=n.constructor;if(o.hasOwnProperty("__agBeanMetaData"))e(o.__agBeanMetaData,this.getBeanName(o));n=Object.getPrototypeOf(n)}},t.prototype.getBeanName=function(t){if(t.__agBeanMetaData&&t.__agBeanMetaData.beanName)return t.__agBeanMetaData.beanName;var e=t.toString();return e.substring(9,e.indexOf("("))},t.prototype.getBeansForParameters=function(t,e){var n=this,o=[];return t&&h(t,(function(t,r){var i=n.lookupBeanInstance(e,r);o[Number(t)]=i})),o},t.prototype.lookupBeanInstance=function(t,e,n){if(void 0===n&&(n=!1),"context"===e)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(e))return this.contextParams.providedBeanInstances[e];var o=this.beanWrappers[e];return o?o.beanInstance:(n||console.error("AG Grid: unable to find bean reference "+e+" while initialising "+t),null)},t.prototype.callLifeCycleMethods=function(t,e){var n=this;t.forEach((function(t){return n.callLifeCycleMethodsOnBean(t,e)}))},t.prototype.callLifeCycleMethodsOnBean=function(t,e,n){var o={};this.forEachMetaDataInHierarchy(t,(function(t){var r=t[e];r&&r.forEach((function(t){t!=n&&(o[t]=!0)}))})),Object.keys(o).forEach((function(e){return t[e]()}))},t.prototype.getBean=function(t){return this.lookupBeanInstance("getBean",t,!0)},t.prototype.destroy=function(){if(!this.destroyed){this.logger.log(">> Shutting down ag-Application Context");var t=this.getBeanInstances();this.destroyBeans(t),this.contextParams.providedBeanInstances=null,this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead")}},t.prototype.destroyBean=function(t){t&&this.destroyBeans([t])},t.prototype.destroyBeans=function(t){var e=this;return t?(t.forEach((function(t){e.callLifeCycleMethodsOnBean(t,"preDestroyMethods","destroy");var n=t;"function"==typeof n.destroy&&n.destroy()})),[]):[]},t}();function W(t,e,n){var o=X(t.constructor);o.preConstructMethods||(o.preConstructMethods=[]),o.preConstructMethods.push(e)}function H(t,e,n){var o=X(t.constructor);o.postConstructMethods||(o.postConstructMethods=[]),o.postConstructMethods.push(e)}function $(t,e,n){var o=X(t.constructor);o.preDestroyMethods||(o.preDestroyMethods=[]),o.preDestroyMethods.push(e)}function z(t){return function(e){X(e).beanName=t}}function K(t){return function(e,n,o){Z(e,t,!1,e,n,null)}}function Y(t){return function(e,n,o){Z(e,t,!0,e,n,null)}}function Z(t,e,n,o,r,i){if(null!==e)if("number"!=typeof i){var s=X(t.constructor);s.agClassAttributes||(s.agClassAttributes=[]),s.agClassAttributes.push({attributeName:r,beanName:e,optional:n})}else console.error("AG Grid: Autowired should be on an attribute");else console.error("AG Grid: Autowired name should not be null")}function q(t){return function(e,n,o){var r,i="function"==typeof e?e:e.constructor;if("number"==typeof o){var s=void 0;n?(r=X(i),s=n):(r=X(i),s="agConstructor"),r.autowireMethods||(r.autowireMethods={}),r.autowireMethods[s]||(r.autowireMethods[s]={}),r.autowireMethods[s][o]=t}}}function X(t){return t.hasOwnProperty("__agBeanMetaData")||(t.__agBeanMetaData={}),t.__agBeanMetaData}var J,Q=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},tt=function(t,e){return function(n,o){e(n,o,t)}},et=function(){function t(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return t.prototype.setBeans=function(t,e,n,o){if(void 0===o&&(o=null),this.frameworkOverrides=n,this.gridOptionsService=e,o){var r=e.useAsyncEvents();this.addGlobalListener(o,r)}},t.prototype.getListeners=function(t,e,n){var o=e?this.allAsyncListeners:this.allSyncListeners,r=o.get(t);return!r&&n&&(r=new Set,o.set(t,r)),r},t.prototype.noRegisteredListenersExist=function(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size},t.prototype.addEventListener=function(t,e,n){void 0===n&&(n=!1),this.getListeners(t,n,!0).add(e)},t.prototype.removeEventListener=function(t,e,n){void 0===n&&(n=!1);var o=this.getListeners(t,n,!1);o&&(o.delete(e),0===o.size&&(n?this.allAsyncListeners:this.allSyncListeners).delete(t))},t.prototype.addGlobalListener=function(t,e){void 0===e&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).add(t)},t.prototype.removeGlobalListener=function(t,e){void 0===e&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).delete(t)},t.prototype.dispatchEvent=function(t){var e=t;if(this.gridOptionsService){var n=this.gridOptionsService,o=n.api,r=n.columnApi,i=n.context;e.api=o,e.columnApi=r,e.context=i}this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0},t.prototype.dispatchEventOnce=function(t){this.firedEvents[t.type]||this.dispatchEvent(t)},t.prototype.dispatchToListeners=function(t,e){var n=this,o=t.type;if(e&&"event"in t){var r=t.event;r instanceof Event&&(t.eventPath=r.composedPath())}var i=this.getListeners(o,e,!1);i&&function(o){o.forEach((function(o){e?n.dispatchAsync((function(){return o(t)})):o(t)}))}(i),(e?this.globalAsyncListeners:this.globalSyncListeners).forEach((function(r){e?n.dispatchAsync((function(){return n.frameworkOverrides.dispatchEvent(o,(function(){return r(o,t)}),!0)})):n.frameworkOverrides.dispatchEvent(o,(function(){return r(o,t)}),!0)}))},t.prototype.dispatchAsync=function(t){this.asyncFunctionsQueue.push(t),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},t.prototype.flushAsyncQueue=function(){this.scheduled=!1;var t=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],t.forEach((function(t){return t()}))},Q([tt(0,q("loggerFactory")),tt(1,q("gridOptionsService")),tt(2,q("frameworkOverrides")),tt(3,q("globalEventListener"))],t.prototype,"setBeans",null),t=Q([z("eventService")],t)}();!function(t){t.CommunityCoreModule="@ag-grid-community/core",t.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",t.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",t.CsvExportModule="@ag-grid-community/csv-export",t.EnterpriseCoreModule="@ag-grid-enterprise/core",t.RowGroupingModule="@ag-grid-enterprise/row-grouping",t.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",t.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",t.MenuModule="@ag-grid-enterprise/menu",t.SetFilterModule="@ag-grid-enterprise/set-filter",t.MultiFilterModule="@ag-grid-enterprise/multi-filter",t.StatusBarModule="@ag-grid-enterprise/status-bar",t.SideBarModule="@ag-grid-enterprise/side-bar",t.RangeSelectionModule="@ag-grid-enterprise/range-selection",t.MasterDetailModule="@ag-grid-enterprise/master-detail",t.RichSelectModule="@ag-grid-enterprise/rich-select",t.GridChartsModule="@ag-grid-enterprise/charts",t.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",t.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",t.ExcelExportModule="@ag-grid-enterprise/excel-export",t.ClipboardModule="@ag-grid-enterprise/clipboard",t.SparklinesModule="@ag-grid-enterprise/sparklines",t.AngularModule="@ag-grid-community/angular",t.ReactModule="@ag-grid-community/react",t.VueModule="@ag-grid-community/vue"}(J||(J={}));var nt=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},ot=function(){function t(){}return t.register=function(e,n){void 0===n&&(n=!0),t.runVersionChecks(e),t.modulesMap[e.moduleName]=e,t.setModuleBased(n)},t.runVersionChecks=function(e){if(t.currentModuleVersion||(t.currentModuleVersion=e.version),e.version?e.version!==t.currentModuleVersion&&console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '"+e.moduleName+"' is version "+e.version+" but the other modules are version "+this.currentModuleVersion+". Please update all modules to the same version."):console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '"+e.moduleName+"' is incompatible. Please update all modules to the same version."),e.validate){var n=e.validate();if(!n.isValid){var o=n;console.error("AG Grid: "+o.message)}}},t.setModuleBased=function(e){void 0===t.moduleBased?t.moduleBased=e:t.moduleBased!==e&&T((function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")}),"ModulePackageCheck")},t.setIsBundled=function(){t.isBundled=!0},t.registerModules=function(e,n){void 0===n&&(n=!0),t.setModuleBased(n),e&&e.forEach((function(e){return t.register(e,n)}))},t.assertRegistered=function(e,n){var o;if(this.isRegistered(e))return!0;var r,i=n+e;if(t.isBundled)r="AG Grid: unable to use "+n+" as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:\n        \n        <script src=\"https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js\"><\/script>\n        \nFor more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise";else if(t.moduleBased||void 0===t.moduleBased){var s=null===(o=Object.entries(J).find((function(t){var n=nt(t,2);return n[0],n[1]===e})))||void 0===o?void 0:o[0];r="AG Grid: unable to use "+n+" as the "+s+" is not registered. Check if you have registered the module:\n           \n    import { ModuleRegistry } from '@ag-grid-community/core';\n    import { "+s+" } from '"+e+"';\n    \n    ModuleRegistry.registerModules([ "+s+" ]);\n\nFor more info see: https://www.ag-grid.com/javascript-grid/modules/"}else r="AG Grid: unable to use "+n+" as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:\n            \n    import 'ag-grid-enterprise';\n            \nFor more info see: https://www.ag-grid.com/javascript-grid/packages/";return T((function(){console.warn(r)}),i),!1},t.isRegistered=function(e){return!!t.modulesMap[e]},t.getRegisteredModules=function(){return u(t.modulesMap)},t.isPackageBased=function(){return!t.moduleBased},t.modulesMap={},t}(),rt=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},it=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},st=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(it(arguments[e]));return t},at=0;function lt(){return at++}var ct=function(){function t(t,e,n,o){this.instanceId=lt(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new et,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=t,this.userProvidedColDef=e,this.colId=n,this.primary=o,this.setState(t)}return t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setState=function(t){void 0!==t.sort?"asc"!==t.sort&&"desc"!==t.sort||(this.sort=t.sort):"asc"!==t.initialSort&&"desc"!==t.initialSort||(this.sort=t.initialSort);var e=l(t.sortIndex),n=l(t.initialSortIndex);void 0!==e?null!==e&&(this.sortIndex=e):null!==n&&(this.sortIndex=n);var o=c(t.hide),r=c(t.initialHide);this.visible=void 0!==o?!o:!r,void 0!==t.pinned?this.setPinned(t.pinned):this.setPinned(t.initialPinned);var i=l(t.flex),s=l(t.initialFlex);void 0!==i?this.flex=i:void 0!==s&&(this.flex=s)},t.prototype.setColDef=function(t,e){this.colDef=t,this.userProvidedColDef=e,this.initMinAndMaxWidths(),this.initDotNotation(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged","api"))},t.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},t.prototype.setParent=function(t){this.parent=t},t.prototype.getParent=function(){return this.parent},t.prototype.setOriginalParent=function(t){this.originalParent=t},t.prototype.getOriginalParent=function(){return this.originalParent},t.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.validate()},t.prototype.initDotNotation=function(){var t=this.gridOptionsService.is("suppressFieldDotNotation");this.fieldContainsDots=r(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!t,this.tooltipFieldContainsDots=r(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!t},t.prototype.initMinAndMaxWidths=function(){var t=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(t),this.maxWidth=this.columnUtils.calculateColMaxWidth(t)},t.prototype.initTooltip=function(){this.tooltipEnabled=r(this.colDef.tooltipField)||r(this.colDef.tooltipValueGetter)||r(this.colDef.tooltipComponent)||r(this.colDef.tooltipComponentFramework)},t.prototype.resetActualWidth=function(t){void 0===t&&(t="api");var e=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(e,t,!0)},t.prototype.isEmptyGroup=function(){return!1},t.prototype.isRowGroupDisplayed=function(t){if(i(this.colDef)||i(this.colDef.showRowGroup))return!1;var e=!0===this.colDef.showRowGroup,n=this.colDef.showRowGroup===t;return e||n},t.prototype.isPrimary=function(){return this.primary},t.prototype.isFilterAllowed=function(){return!!this.colDef.filter||!!this.colDef.filterFramework},t.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},t.prototype.isTooltipEnabled=function(){return this.tooltipEnabled},t.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},t.prototype.validate=function(){var t=this.colDef;function e(t,e,n){T((function(){n?console.warn(t,n):T((function(){return console.warn(t)}),e)}),e)}if(this.gridOptionsService.isRowModelType("clientSide")&&!ot.isRegistered(J.RowGroupingModule)){(n=["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"].filter((function(e){return r(t[e])}))).length>0&&ot.assertRegistered(J.RowGroupingModule,n.map((function(t){return"colDef."+t})).join(", "))}if("agRichSelect"!==this.colDef.cellEditor&&"agRichSelectCellEditor"!==this.colDef.cellEditor||ot.assertRegistered(J.RichSelectModule,this.colDef.cellEditor),this.gridOptionsService.isTreeData()){(n=["rowGroup","rowGroupIndex","pivot","pivotIndex"].filter((function(e){return r(t[e])}))).length>0&&e("AG Grid: "+n.join()+" is not possible when doing tree data, your column definition should not have "+n.join(),"TreeDataCannotRowGroup")}if(r(t.menuTabs))if(Array.isArray(t.menuTabs)){var n,o=["filterMenuTab"],i=["columnsMenuTab","generalMenuTab"];(n=i.filter((function(e){return t.menuTabs.includes(e)}))).length>0&&ot.assertRegistered(J.MenuModule,"menuTab(s): "+n.map((function(t){return"'"+t+"'"})).join()),t.menuTabs.forEach((function(t){i.includes(t)||o.includes(t)||e("AG Grid: '"+t+"' is not valid for 'colDef.menuTabs'. Valid values are: "+st(o,i).map((function(t){return"'"+t+"'"})).join()+".","wrongValue_menuTabs_"+t)}))}else e("AG Grid: The typeof 'colDef.menuTabs' should be an array not:"+typeof t.menuTabs,"wrongType_menuTabs");r(t.columnsMenuParams)&&ot.assertRegistered(J.MenuModule,"columnsMenuParams"),r(t.columnsMenuParams)&&ot.assertRegistered(J.ColumnsToolPanelModule,"columnsMenuParams"),r(this.colDef.width)&&"number"!=typeof this.colDef.width&&e("AG Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck"),(t.pinnedRowCellRenderer||t.pinnedRowCellRendererParams||t.pinnedRowCellRendererFramework)&&e("AG Grid: pinnedRowCellRenderer[Params,Framework] no longer exist. Use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned.","colDef.pinnedRowCellRenderer-deprecated"),r(t.columnGroupShow)&&"closed"!==t.columnGroupShow&&"open"!==t.columnGroupShow&&e("AG Grid: '"+t.columnGroupShow+"' is not valid for columnGroupShow. Valid values are 'open', 'closed', undefined, null","columnGroupShow_invalid")},t.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},t.prototype.createColumnFunctionCallbackParams=function(t){return{node:t,data:t.data,column:this,colDef:this.colDef,context:this.gridOptionsService.context,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi}},t.prototype.isSuppressNavigable=function(t){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){var e=this.createColumnFunctionCallbackParams(t);return(0,this.colDef.suppressNavigable)(e)}return!1},t.prototype.isCellEditable=function(t){return!(t.group&&!this.gridOptionsService.is("enableGroupEdit"))&&this.isColumnFunc(t,this.colDef.editable)},t.prototype.isSuppressFillHandle=function(){return!!c(this.colDef.suppressFillHandle)},t.prototype.isAutoHeight=function(){return!!c(this.colDef.autoHeight)},t.prototype.isAutoHeaderHeight=function(){return!!c(this.colDef.autoHeaderHeight)},t.prototype.isRowDrag=function(t){return this.isColumnFunc(t,this.colDef.rowDrag)},t.prototype.isDndSource=function(t){return this.isColumnFunc(t,this.colDef.dndSource)},t.prototype.isCellCheckboxSelection=function(t){return this.isColumnFunc(t,this.colDef.checkboxSelection)},t.prototype.isSuppressPaste=function(t){return this.isColumnFunc(t,this.colDef?this.colDef.suppressPaste:null)},t.prototype.isResizable=function(){return!!c(this.colDef.resizable)},t.prototype.isColumnFunc=function(t,e){return"boolean"==typeof e?e:"function"==typeof e&&e(this.createColumnFunctionCallbackParams(t))},t.prototype.setMoving=function(t,e){void 0===e&&(e="api"),this.moving=t,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",e))},t.prototype.createColumnEvent=function(t,e){return{type:t,column:this,columns:[this],source:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}},t.prototype.isMoving=function(){return this.moving},t.prototype.getSort=function(){return this.sort},t.prototype.setSort=function(t,e){void 0===e&&(e="api"),this.sort!==t&&(this.sort=t,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",e)))},t.prototype.setMenuVisible=function(t,e){void 0===e&&(e="api"),this.menuVisible!==t&&(this.menuVisible=t,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",e)))},t.prototype.isMenuVisible=function(){return this.menuVisible},t.prototype.isSortAscending=function(){return"asc"===this.sort},t.prototype.isSortDescending=function(){return"desc"===this.sort},t.prototype.isSortNone=function(){return i(this.sort)},t.prototype.isSorting=function(){return r(this.sort)},t.prototype.getSortIndex=function(){return this.sortIndex},t.prototype.setSortIndex=function(t){this.sortIndex=t},t.prototype.setAggFunc=function(t){this.aggFunc=t},t.prototype.getAggFunc=function(){return this.aggFunc},t.prototype.getLeft=function(){return this.left},t.prototype.getOldLeft=function(){return this.oldLeft},t.prototype.getRight=function(){return this.left+this.actualWidth},t.prototype.setLeft=function(t,e){void 0===e&&(e="api"),this.oldLeft=this.left,this.left!==t&&(this.left=t,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",e)))},t.prototype.isFilterActive=function(){return this.filterActive},t.prototype.setFilterActive=function(t,e,n){void 0===e&&(e="api"),this.filterActive!==t&&(this.filterActive=t,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",e)));var o=this.createColumnEvent("filterChanged",e);n&&E(o,n),this.eventService.dispatchEvent(o)},t.prototype.isHovered=function(){return this.columnHoverService.isHovered(this)},t.prototype.setPinned=function(t){this.pinned=!0===t||"left"===t?"left":"right"===t?"right":null},t.prototype.setFirstRightPinned=function(t,e){void 0===e&&(e="api"),this.firstRightPinned!==t&&(this.firstRightPinned=t,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",e)))},t.prototype.setLastLeftPinned=function(t,e){void 0===e&&(e="api"),this.lastLeftPinned!==t&&(this.lastLeftPinned=t,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",e)))},t.prototype.isFirstRightPinned=function(){return this.firstRightPinned},t.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},t.prototype.isPinned=function(){return"left"===this.pinned||"right"===this.pinned},t.prototype.isPinnedLeft=function(){return"left"===this.pinned},t.prototype.isPinnedRight=function(){return"right"===this.pinned},t.prototype.getPinned=function(){return this.pinned},t.prototype.setVisible=function(t,e){void 0===e&&(e="api");var n=!0===t;this.visible!==n&&(this.visible=n,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",e)))},t.prototype.isVisible=function(){return this.visible},t.prototype.isSpanHeaderHeight=function(){return!!this.getColDef().spanHeaderHeight},t.prototype.getColDef=function(){return this.colDef},t.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},t.prototype.getColId=function(){return this.colId},t.prototype.getId=function(){return this.colId},t.prototype.getUniqueId=function(){return this.colId},t.prototype.getDefinition=function(){return this.colDef},t.prototype.getActualWidth=function(){return this.actualWidth},t.prototype.getAutoHeaderHeight=function(){return this.autoHeaderHeight},t.prototype.setAutoHeaderHeight=function(t){var e=t!==this.autoHeaderHeight;return this.autoHeaderHeight=t,e},t.prototype.createBaseColDefParams=function(t){return{node:t,data:t.data,colDef:this.colDef,column:this,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}},t.prototype.getColSpan=function(t){if(i(this.colDef.colSpan))return 1;var e=this.createBaseColDefParams(t),n=this.colDef.colSpan(e);return Math.max(n,1)},t.prototype.getRowSpan=function(t){if(i(this.colDef.rowSpan))return 1;var e=this.createBaseColDefParams(t),n=this.colDef.rowSpan(e);return Math.max(n,1)},t.prototype.setActualWidth=function(t,e,n){void 0===e&&(e="api"),void 0===n&&(n=!1),null!=this.minWidth&&(t=Math.max(t,this.minWidth)),null!=this.maxWidth&&(t=Math.min(t,this.maxWidth)),this.actualWidth!==t&&(this.actualWidth=t,this.flex&&"flex"!==e&&"gridInitializing"!==e&&(this.flex=null),n||this.fireColumnWidthChangedEvent(e))},t.prototype.fireColumnWidthChangedEvent=function(t){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",t))},t.prototype.isGreaterThanMax=function(t){return null!=this.maxWidth&&t>this.maxWidth},t.prototype.getMinWidth=function(){return this.minWidth},t.prototype.getMaxWidth=function(){return this.maxWidth},t.prototype.getFlex=function(){return this.flex||0},t.prototype.setFlex=function(t){this.flex!==t&&(this.flex=t)},t.prototype.setMinimum=function(t){void 0===t&&(t="api"),r(this.minWidth)&&this.setActualWidth(this.minWidth,t)},t.prototype.setRowGroupActive=function(t,e){void 0===e&&(e="api"),this.rowGroupActive!==t&&(this.rowGroupActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",e)))},t.prototype.isRowGroupActive=function(){return this.rowGroupActive},t.prototype.setPivotActive=function(t,e){void 0===e&&(e="api"),this.pivotActive!==t&&(this.pivotActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",e)))},t.prototype.isPivotActive=function(){return this.pivotActive},t.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},t.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},t.prototype.setValueActive=function(t,e){void 0===e&&(e="api"),this.aggregationActive!==t&&(this.aggregationActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",e)))},t.prototype.isValueActive=function(){return this.aggregationActive},t.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},t.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},t.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},t.prototype.getMenuTabs=function(t){var e=this.getColDef().menuTabs;return null==e&&(e=t),e},t.EVENT_MOVING_CHANGED="movingChanged",t.EVENT_LEFT_CHANGED="leftChanged",t.EVENT_WIDTH_CHANGED="widthChanged",t.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",t.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",t.EVENT_VISIBLE_CHANGED="visibleChanged",t.EVENT_FILTER_CHANGED="filterChanged",t.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",t.EVENT_SORT_CHANGED="sortChanged",t.EVENT_COL_DEF_CHANGED="colDefChanged",t.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",t.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",t.EVENT_PIVOT_CHANGED="columnPivotChanged",t.EVENT_VALUE_CHANGED="columnValueChanged",rt([K("gridOptionsService")],t.prototype,"gridOptionsService",void 0),rt([K("columnUtils")],t.prototype,"columnUtils",void 0),rt([K("columnHoverService")],t.prototype,"columnHoverService",void 0),rt([H],t.prototype,"initialise",null),t}(),ut=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},dt=function(){function t(t,e,n,o){this.localEventService=new et,this.expandable=!1,this.instanceId=lt(),this.expandableListenerRemoveCallback=null,this.colGroupDef=t,this.groupId=e,this.expanded=!!t&&!!t.openByDefault,this.padding=n,this.level=o}return t.prototype.destroy=function(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)},t.prototype.reset=function(t,e){this.colGroupDef=t,this.level=e,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setOriginalParent=function(t){this.originalParent=t},t.prototype.getOriginalParent=function(){return this.originalParent},t.prototype.getLevel=function(){return this.level},t.prototype.isVisible=function(){return!!this.children&&this.children.some((function(t){return t.isVisible()}))},t.prototype.isPadding=function(){return this.padding},t.prototype.setExpanded=function(e){this.expanded=void 0!==e&&e;var n={type:t.EVENT_EXPANDED_CHANGED};this.localEventService.dispatchEvent(n)},t.prototype.isExpandable=function(){return this.expandable},t.prototype.isExpanded=function(){return this.expanded},t.prototype.getGroupId=function(){return this.groupId},t.prototype.getId=function(){return this.getGroupId()},t.prototype.setChildren=function(t){this.children=t},t.prototype.getChildren=function(){return this.children},t.prototype.getColGroupDef=function(){return this.colGroupDef},t.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},t.prototype.addLeafColumns=function(e){this.children&&this.children.forEach((function(n){n instanceof ct?e.push(n):n instanceof t&&n.addLeafColumns(e)}))},t.prototype.getColumnGroupShow=function(){var t=this.colGroupDef;if(t)return t.columnGroupShow},t.prototype.setupExpandable=function(){var t=this;this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();var e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach((function(t){return t.addEventListener("visibleChanged",e)})),this.expandableListenerRemoveCallback=function(){t.getLeafColumns().forEach((function(t){return t.removeEventListener("visibleChanged",e)})),t.expandableListenerRemoveCallback=null}},t.prototype.setExpandable=function(){if(!this.isPadding()){for(var e=!1,n=!1,o=!1,r=this.findChildrenRemovingPadding(),i=0,s=r.length;i<s;i++){var a=r[i];if(a.isVisible()){var l=a.getColumnGroupShow();"open"===l?(e=!0,o=!0):"closed"===l?(n=!0,o=!0):(e=!0,n=!0)}}var c=e&&n&&o;if(this.expandable!==c){this.expandable=c;var u={type:t.EVENT_EXPANDABLE_CHANGED};this.localEventService.dispatchEvent(u)}}},t.prototype.findChildrenRemovingPadding=function(){var e=[],n=function(o){o.forEach((function(o){o instanceof t&&o.isPadding()?n(o.children):e.push(o)}))};return n(this.children),e},t.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},t.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},t.EVENT_EXPANDED_CHANGED="expandedChanged",t.EVENT_EXPANDABLE_CHANGED="expandableChanged",ut([$],t.prototype,"destroy",null),t}(),pt={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function ht(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;n++){var o=t[n];if(r(o))return o}return null}function ft(t){if(t&&t.length)return t[t.length-1]}function gt(t,e,n){return null==t&&null==e||null!=t&&null!=e&&t.length===e.length&&t.every((function(t,o){return n?n(t,e[o]):e[o]===t}))}function _t(t){return t.sort((function(t,e){return t-e}))}function mt(t,e){var n=t.indexOf(e);n>=0&&t.splice(n,1)}function yt(t,e){e.forEach((function(e){return mt(t,e)}))}function vt(t,e,n){t.splice(n,0,e)}function Ct(t,e,n){yt(t,e),e.slice().reverse().forEach((function(e){return vt(t,e,n)}))}function Et(t,e){return t.indexOf(e)>-1}function bt(t){return[].concat.apply([],t)}function St(t,e){null!=e&&null!=t&&e.forEach((function(e){return t.push(e)}))}var wt=Object.freeze({__proto__:null,firstExistingValue:ht,existsAndNotEmpty:function(t){return null!=t&&t.length>0},last:ft,areEqual:gt,shallowCompare:function(t,e){return gt(t,e)},sortNumerically:_t,removeRepeatsFromArray:function(t,e){if(t)for(var n=t.length-2;n>=0;n--){var o=t[n]===e,r=t[n+1]===e;o&&r&&t.splice(n+1,1)}},removeFromArray:mt,removeAllFromArray:yt,insertIntoArray:vt,insertArrayIntoArray:function(t,e,n){if(null!=t&&null!=e)for(var o=e.length-1;o>=0;o--){vt(t,e[o],n)}},moveInArray:Ct,includes:Et,flatten:bt,pushAll:St,toStrings:function(t){return t.map(a)},forEachReverse:function(t,e){if(null!=t)for(var n=t.length-1;n>=0;n--)e(t[n],n)}}),Ot="__ag_Grid_Stop_Propagation",Pt=["touchstart","touchend","touchmove","touchcancel","scroll"],Tt={};function Rt(t){t[Ot]=!0}function Dt(t){return!0===t[Ot]}var xt,Mt=(xt={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},function(t){if("boolean"==typeof Tt[t])return Tt[t];var e=document.createElement(xt[t]||"div");return Tt[t="on"+t]=t in e});function At(t,e,n){for(var o=e;o;){var r=t.getDomData(o,n);if(r)return r;o=o.parentElement}return null}function Lt(t,e){return!(!e||!t)&&Nt(e).indexOf(t)>=0}function It(t){for(var e=[],n=t.target;n;)e.push(n),n=n.parentElement;return e}function Nt(t){var e=t;return e.path?e.path:e.composedPath?e.composedPath():It(e)}function kt(t,e,n,o){var r=Et(Pt,n)?{passive:!0}:void 0;t&&t.addEventListener&&t.addEventListener(e,n,o,r)}var Ft,Gt=Object.freeze({__proto__:null,stopPropagationForAgGrid:Rt,isStopPropagationForAgGrid:Dt,isEventSupported:Mt,getCtrlForEventTarget:At,isElementInEventPath:Lt,createEventPath:It,getEventPath:Nt,addSafePassiveEventListener:kt}),Bt=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ut=function(){function t(){var t=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.isAlive=function(){return!t.destroyed}}return t.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},t.prototype.getContext=function(){return this.context},t.prototype.destroy=function(){this.destroyFunctions.forEach((function(t){return t()})),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:t.EVENT_DESTROYED})},t.prototype.addEventListener=function(t,e){this.localEventService||(this.localEventService=new et),this.localEventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.localEventService&&this.localEventService.removeEventListener(t,e)},t.prototype.dispatchEventAsync=function(t){var e=this;window.setTimeout((function(){return e.dispatchEvent(t)}),0)},t.prototype.dispatchEvent=function(t){this.localEventService&&this.localEventService.dispatchEvent(t)},t.prototype.addManagedListener=function(t,e,n){var o=this;if(!this.destroyed){t instanceof HTMLElement?kt(this.getFrameworkOverrides(),t,e,n):t.addEventListener(e,n);var r=function(){return t.removeEventListener(e,n),o.destroyFunctions=o.destroyFunctions.filter((function(t){return t!==r})),null};return this.destroyFunctions.push(r),r}},t.prototype.addManagedPropertyListener=function(t,e){var n=this;if(!this.destroyed){this.gridOptionsService.addEventListener(t,e);var o=function(){return n.gridOptionsService.removeEventListener(t,e),n.destroyFunctions=n.destroyFunctions.filter((function(t){return t!==o})),null};return this.destroyFunctions.push(o),o}},t.prototype.addDestroyFunc=function(t){this.isAlive()?this.destroyFunctions.push(t):t()},t.prototype.createManagedBean=function(t,e){var n=this.createBean(t,e);return this.addDestroyFunc(this.destroyBean.bind(this,t,e)),n},t.prototype.createBean=function(t,e,n){return(e||this.getContext()).createBean(t,n)},t.prototype.destroyBean=function(t,e){return(e||this.getContext()).destroyBean(t)},t.prototype.destroyBeans=function(t,e){var n=this;return t&&t.forEach((function(t){return n.destroyBean(t,e)})),[]},t.EVENT_DESTROYED="destroyed",Bt([K("frameworkOverrides")],t.prototype,"frameworkOverrides",void 0),Bt([K("context")],t.prototype,"context",void 0),Bt([K("eventService")],t.prototype,"eventService",void 0),Bt([K("gridOptionsService")],t.prototype,"gridOptionsService",void 0),Bt([K("localeService")],t.prototype,"localeService",void 0),Bt([K("environment")],t.prototype,"environment",void 0),Bt([$],t.prototype,"destroy",null),t}(),jt=(Ft=function(t,e){return Ft=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Ft(t,e)},function(t,e){function n(){this.constructor=t}Ft(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Vt=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Wt=function(t,e){return function(n,o){e(n,o,t)}},Ht=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return jt(e,t),e.prototype.setBeans=function(t){this.logger=t.create("ColumnFactory")},e.prototype.createColumnTree=function(t,e,n){var o=new p,r=this.extractExistingTreeData(n),i=r.existingCols,s=r.existingGroups,a=r.existingColKeys;o.addExistingKeys(a);var l=this.recursivelyCreateColumns(t,0,e,i,o,s),c=this.findMaxDept(l,0);this.logger.log("Number of levels for grouped columns is "+c);var u=this.balanceColumnTree(l,0,c,o);return this.columnUtils.depthFirstOriginalTreeSearch(null,u,(function(t,e){t instanceof dt&&t.setupExpandable(),t.setOriginalParent(e)})),{columnTree:u,treeDept:c}},e.prototype.extractExistingTreeData=function(t){var e=[],n=[],o=[];return t&&this.columnUtils.depthFirstOriginalTreeSearch(null,t,(function(t){if(t instanceof dt){var r=t;n.push(r)}else{var i=t;o.push(i.getId()),e.push(i)}})),{existingCols:e,existingGroups:n,existingColKeys:o}},e.prototype.createForAutoGroups=function(t,e){var n=this;return t.map((function(t){return n.createAutoGroupTreeItem(e,t)}))},e.prototype.createAutoGroupTreeItem=function(t,e){for(var n=e,o=this.findDepth(t)-1;o>=0;o--){var r=new dt(null,"FAKE_PATH_"+e.getId()+"}_"+o,!0,o);this.createBean(r),r.setChildren([n]),n.setOriginalParent(r),n=r}return n},e.prototype.findDepth=function(t){for(var e=0,n=t;n&&n[0]&&n[0]instanceof dt;)e++,n=n[0].getChildren();return e},e.prototype.balanceColumnTree=function(t,e,n,o){for(var r=[],i=0;i<t.length;i++){var s=t[i];if(s instanceof dt){var a=s,l=this.balanceColumnTree(a.getChildren(),e+1,n,o);a.setChildren(l),r.push(a)}else{for(var c=void 0,u=void 0,d=n-1;d>=e;d--){var p=o.getUniqueKey(null,null),h=this.createMergedColGroupDef(null),f=new dt(h,p,!0,e);this.createBean(f),u&&u.setChildren([f]),u=f,c||(c=u)}if(c&&u){if(r.push(c),t.some((function(t){return t instanceof dt}))){u.setChildren([s]);continue}u.setChildren(t);break}r.push(s)}}return r},e.prototype.findMaxDept=function(t,e){for(var n=e,o=0;o<t.length;o++){var r=t[o];if(r instanceof dt){var i=r,s=this.findMaxDept(i.getChildren(),e+1);n<s&&(n=s)}}return n},e.prototype.recursivelyCreateColumns=function(t,e,n,o,r,i){var s=this;return(t||[]).map((function(t){return s.isColumnGroup(t)?s.createColumnGroup(n,t,e,o,r,i):s.createColumn(n,t,o,r)}))},e.prototype.createColumnGroup=function(t,e,n,o,r,i){var s=this.createMergedColGroupDef(e),a=r.getUniqueKey(s.groupId||null,null),l=new dt(s,a,!1,n);this.createBean(l);var c=this.findExistingGroup(e,i);c&&mt(i,c),c&&c.isExpanded()&&l.setExpanded(!0);var u=this.recursivelyCreateColumns(s.children,n+1,t,o,r,i);return l.setChildren(u),l},e.prototype.createMergedColGroupDef=function(t){var e={};return Object.assign(e,this.gridOptionsService.get("defaultColGroupDef")),Object.assign(e,t),e},e.prototype.createColumn=function(t,e,n,o){var r=this.mergeColDefs(e),i=this.findExistingColumn(e,n);if(n&&i&&mt(n,i),i)i.setColDef(r,e),this.applyColumnState(i,r);else{var s=o.getUniqueKey(r.colId,r.field);i=new ct(r,e,s,t),this.context.createBean(i)}return i},e.prototype.applyColumnState=function(t,e){var n=l(e.flex);if(void 0!==n&&t.setFlex(n),t.getFlex()<=0){var o=l(e.width);if(null!=o)t.setActualWidth(o);else{var r=t.getActualWidth();t.setActualWidth(r)}}void 0!==e.sort&&("asc"==e.sort||"desc"==e.sort?t.setSort(e.sort):t.setSort(void 0));var i=l(e.sortIndex);void 0!==i&&t.setSortIndex(i);var s=c(e.hide);void 0!==s&&t.setVisible(!s),void 0!==e.pinned&&t.setPinned(e.pinned)},e.prototype.findExistingColumn=function(t,e){return(e||[]).find((function(e){var n=e.getUserProvidedColDef();if(!n)return!1;var o=null!=t.colId,r=null!=t.field;return o?e.getId()===t.colId:r?n.field===t.field:n===t}))},e.prototype.findExistingGroup=function(t,e){return e.find((function(e){return!!e.getColGroupDef()&&(!(null==t.groupId)&&e.getId()===t.groupId)}))},e.prototype.mergeColDefs=function(t){var e={},n=this.gridOptionsService.get("defaultColDef");E(e,n,!1,!0);var o=t.type;o||(o=n&&n.type),o&&this.assignColumnTypes(o,e),E(e,t,!1,!0);var r=this.gridOptionsService.get("autoGroupColumnDef"),i=this.gridOptionsService.isColumnsSortingCoupledToGroup();return t.rowGroup&&r&&i&&E(e,{sort:r.sort,initialSort:r.initialSort},!1,!0),e},e.prototype.assignColumnTypes=function(t,e){var n=[];if(t instanceof Array){t.some((function(t){return"string"!=typeof t}))?console.warn("AG Grid: if colDef.type is supplied an array it should be of type 'string[]'"):n=t}else{if("string"!=typeof t)return void console.warn("AG Grid: colDef.type should be of type 'string' | 'string[]'");n=t.split(",")}var o=Object.assign({},pt);h(this.gridOptionsService.get("columnTypes")||{},(function(t,e){t in o?console.warn("AG Grid: the column type '"+t+"' is a default column type and cannot be overridden."):o[t]=e})),n.forEach((function(t){var n=o[t.trim()];n?E(e,n,!1,!0):console.warn("AG Grid: colDef.type '"+t+"' does not correspond to defined gridOptions.columnTypes")}))},e.prototype.isColumnGroup=function(t){return void 0!==t.children},Vt([K("columnUtils")],e.prototype,"columnUtils",void 0),Vt([Wt(0,q("loggerFactory"))],e.prototype,"setBeans",null),e=Vt([z("columnFactory")],e)}(Ut),$t=function(){function t(){}return t.ColDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentFramework:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellRendererFramework:void 0,cellEditor:void 0,cellEditorFramework:void 0,cellEditorParams:void 0,filterFramework:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentFramework:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,floatingFilterComponentFramework:void 0,tooltipComponentParams:void 0,tooltipComponentFramework:void 0,refData:void 0,columnsMenuParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,stickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,spanHeaderHeight:void 0},t.ALL_PROPERTIES=Object.keys(t.ColDefPropertyMap),t.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],t}(),zt=function(){function t(){}return t.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",t.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",t.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",t.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",t.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",t.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",t.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",t.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",t.EVENT_COLUMN_MOVED="columnMoved",t.EVENT_COLUMN_VISIBLE="columnVisible",t.EVENT_COLUMN_PINNED="columnPinned",t.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",t.EVENT_COLUMN_RESIZED="columnResized",t.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",t.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",t.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",t.EVENT_ROW_GROUP_OPENED="rowGroupOpened",t.EVENT_ROW_DATA_CHANGED="rowDataChanged",t.EVENT_ROW_DATA_UPDATED="rowDataUpdated",t.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",t.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",t.EVENT_CHART_CREATED="chartCreated",t.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",t.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",t.EVENT_CHART_DESTROYED="chartDestroyed",t.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",t.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged",t.EVENT_INTERNAL_TOOL_PANEL_VISIBLE_CHANGED="internalToolPanelVisibleChanged",t.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",t.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",t.EVENT_MODEL_UPDATED="modelUpdated",t.EVENT_PASTE_START="pasteStart",t.EVENT_PASTE_END="pasteEnd",t.EVENT_FILL_START="fillStart",t.EVENT_FILL_END="fillEnd",t.EVENT_UNDO_STARTED="undoStarted",t.EVENT_UNDO_ENDED="undoEnded",t.EVENT_REDO_STARTED="redoStarted",t.EVENT_REDO_ENDED="redoEnded",t.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart",t.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd",t.EVENT_CELL_CLICKED="cellClicked",t.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",t.EVENT_CELL_MOUSE_DOWN="cellMouseDown",t.EVENT_CELL_CONTEXT_MENU="cellContextMenu",t.EVENT_CELL_VALUE_CHANGED="cellValueChanged",t.EVENT_CELL_EDIT_REQUEST="cellEditRequest",t.EVENT_ROW_VALUE_CHANGED="rowValueChanged",t.EVENT_CELL_FOCUSED="cellFocused",t.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared",t.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",t.EVENT_ROW_SELECTED="rowSelected",t.EVENT_SELECTION_CHANGED="selectionChanged",t.EVENT_CELL_KEY_DOWN="cellKeyDown",t.EVENT_CELL_KEY_PRESS="cellKeyPress",t.EVENT_CELL_MOUSE_OVER="cellMouseOver",t.EVENT_CELL_MOUSE_OUT="cellMouseOut",t.EVENT_FILTER_CHANGED="filterChanged",t.EVENT_FILTER_MODIFIED="filterModified",t.EVENT_FILTER_OPENED="filterOpened",t.EVENT_SORT_CHANGED="sortChanged",t.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",t.EVENT_ROW_CLICKED="rowClicked",t.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",t.EVENT_GRID_READY="gridReady",t.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",t.EVENT_VIEWPORT_CHANGED="viewportChanged",t.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",t.EVENT_FIRST_DATA_RENDERED="firstDataRendered",t.EVENT_DRAG_STARTED="dragStarted",t.EVENT_DRAG_STOPPED="dragStopped",t.EVENT_CHECKBOX_CHANGED="checkboxChanged",t.EVENT_ROW_EDITING_STARTED="rowEditingStarted",t.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",t.EVENT_CELL_EDITING_STARTED="cellEditingStarted",t.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",t.EVENT_BODY_SCROLL="bodyScroll",t.EVENT_BODY_SCROLL_END="bodyScrollEnd",t.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",t.EVENT_PAGINATION_CHANGED="paginationChanged",t.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",t.EVENT_STORE_REFRESHED="storeRefreshed",t.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",t.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",t.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",t.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",t.EVENT_FLASH_CELLS="flashCells",t.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",t.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",t.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",t.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",t.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",t.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",t.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged",t.EVENT_ROW_DRAG_ENTER="rowDragEnter",t.EVENT_ROW_DRAG_MOVE="rowDragMove",t.EVENT_ROW_DRAG_LEAVE="rowDragLeave",t.EVENT_ROW_DRAG_END="rowDragEnd",t.EVENT_GRID_STYLES_CHANGED="gridStylesChanged",t.EVENT_POPUP_TO_FRONT="popupToFront",t.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",t.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",t.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",t.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",t.EVENT_KEYBOARD_FOCUS="keyboardFocus",t.EVENT_MOUSE_FOCUS="mouseFocus",t.EVENT_STORE_UPDATED="storeUpdated",t.EVENT_FILTER_DESTROYED="filterDestroyed",t}(),Kt=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Yt=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Kt(arguments[e]));return t},Zt=function(){function t(){}return t.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType","groupDisplayType","treeDataDisplayType","colResizeDefault"],t.OBJECT_PROPERTIES=["components","frameworkComponents","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef"],t.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass"],t.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],t.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellSelection","suppressCellFocus","suppressHorizontalScroll","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDownAfterEdit","enterMovesDown","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","immutableData","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","serverSideSortingAlwaysResets","serverSideSortAllLevels","serverSideFilterAllLevels","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","reactUi","suppressReactUi","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","groupRowsSticky","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","suppressCutToClipboard"],t.FUNCTIONAL_PROPERTIES=["localeTextFunc","doesExternalFilterPass","groupRowAggNodes","isFullWidthCell","processSecondaryColDef","processSecondaryColGroupDef","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","postSort","defaultGroupOrderComparator","rowDragText","groupRowRenderer","groupRowRendererFramework","fullWidthCellRenderer","fullWidthCellRendererFramework","loadingCellRenderer","loadingCellRendererFramework","loadingOverlayComponent","loadingOverlayComponentFramework","noRowsOverlayComponent","noRowsOverlayComponentFramework","detailCellRenderer","detailCellRendererFramework"],t.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","getRowNodeId","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","groupAggFiltering"],t.FUNCTION_PROPERTIES=Yt(t.FUNCTIONAL_PROPERTIES,t.CALLBACK_PROPERTIES),t.ALL_PROPERTIES=Yt(t.ARRAY_PROPERTIES,t.OBJECT_PROPERTIES,t.STRING_PROPERTIES,t.NUMBER_PROPERTIES,t.FUNCTION_PROPERTIES,t.BOOLEAN_PROPERTIES),t.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],t}(),qt=function(){return qt=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},qt.apply(this,arguments)},Xt=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Jt=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Xt(arguments[e]));return t},Qt=function(){function t(){}return t.getCallbackForEvent=function(t){return!t||t.length<2?t:"on"+t[0].toUpperCase()+t.substr(1)},t.getCoercionLookup=function(){var e={};return Jt(t.ARRAY_PROPERTIES,t.OBJECT_PROPERTIES,t.STRING_PROPERTIES,t.FUNCTION_PROPERTIES,t.EVENT_CALLBACKS).forEach((function(t){return e[t]="none"})),t.BOOLEAN_PROPERTIES.forEach((function(t){return e[t]="boolean"})),t.NUMBER_PROPERTIES.forEach((function(t){return e[t]="number"})),e},t.getValue=function(e,n){var o=t.coercionLookup[e];if(o){var r=n;switch(o){case"number":r=t.toNumber(n);break;case"boolean":r=t.toBoolean(n);break;case"none":"groupAggFiltering"===e&&"function"!=typeof n&&(r=t.toBoolean(n))}return r}},t.getGridOptionKeys=function(e,n){return n?Object.keys(t.coercionLookup):Object.keys(e)},t.copyAttributesToGridOptions=function(e,n,o){void 0===o&&(o=!1),"object"!=typeof e&&(e={});var r=e;return t.getGridOptionKeys(n,o).forEach((function(e){var o=n[e];if(void 0!==o){var i=t.getValue(e,o);void 0!==i&&(r[e]=i)}})),e},t.processOnChange=function(e,n){if(e&&0!==Object.keys(e).length){var o=qt({},e);o.columnTypes&&(n.setColumnTypes(o.columnTypes.currentValue,"gridOptionsChanged"),delete o.columnTypes),o.autoGroupColumnDef&&(n.setAutoGroupColumnDef(o.autoGroupColumnDef.currentValue,"gridOptionsChanged"),delete o.autoGroupColumnDef),o.defaultColDef&&(n.setDefaultColDef(o.defaultColDef.currentValue,"gridOptionsChanged"),delete o.defaultColDef),o.columnDefs&&(n.setColumnDefs(o.columnDefs.currentValue,"gridOptionsChanged"),delete o.columnDefs),Object.keys(o).forEach((function(e){var r=e,i=t.getValue(r,o[r].currentValue);n.__setProperty(r,i)}));var r={type:zt.EVENT_COMPONENT_STATE_CHANGED};h(e,(function(t,e){r[t]=e})),n.dispatchEvent(r)}},t.toBoolean=function(t){return"boolean"==typeof t?t:"string"==typeof t&&("TRUE"===t.toUpperCase()||""==t)},t.toNumber=function(t){return"number"==typeof t?t:"string"==typeof t?Number(t):void 0},t.EVENTS=u(zt),t.EXCLUDED_INTERNAL_EVENTS=[zt.EVENT_SCROLLBAR_WIDTH_CHANGED,zt.EVENT_CHECKBOX_CHANGED,zt.EVENT_HEIGHT_SCALE_CHANGED,zt.EVENT_BODY_HEIGHT_CHANGED,zt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,zt.EVENT_SCROLL_VISIBILITY_CHANGED,zt.EVENT_COLUMN_HOVER_CHANGED,zt.EVENT_FLASH_CELLS,zt.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,zt.EVENT_DISPLAYED_ROWS_CHANGED,zt.EVENT_LEFT_PINNED_WIDTH_CHANGED,zt.EVENT_RIGHT_PINNED_WIDTH_CHANGED,zt.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,zt.EVENT_POPUP_TO_FRONT,zt.EVENT_KEYBOARD_FOCUS,zt.EVENT_MOUSE_FOCUS,zt.EVENT_STORE_UPDATED,zt.EVENT_COLUMN_PANEL_ITEM_DRAG_START,zt.EVENT_COLUMN_PANEL_ITEM_DRAG_END,zt.EVENT_FILL_START,zt.EVENT_FILL_END,zt.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,zt.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,zt.EVENT_FULL_WIDTH_ROW_FOCUSED,zt.EVENT_HEADER_HEIGHT_CHANGED,zt.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,zt.EVENT_INTERNAL_TOOL_PANEL_VISIBLE_CHANGED,zt.EVENT_CELL_FOCUS_CLEARED,zt.EVENT_GRID_STYLES_CHANGED,zt.EVENT_FILTER_DESTROYED],t.PUBLIC_EVENTS=t.EVENTS.filter((function(e){return!Et(t.EXCLUDED_INTERNAL_EVENTS,e)})),t.EVENT_CALLBACKS=t.EVENTS.map((function(e){return t.getCallbackForEvent(e)})),t.STRING_PROPERTIES=Zt.STRING_PROPERTIES,t.OBJECT_PROPERTIES=Zt.OBJECT_PROPERTIES,t.ARRAY_PROPERTIES=Zt.ARRAY_PROPERTIES,t.NUMBER_PROPERTIES=Zt.NUMBER_PROPERTIES,t.BOOLEAN_PROPERTIES=Zt.BOOLEAN_PROPERTIES,t.FUNCTION_PROPERTIES=Zt.FUNCTION_PROPERTIES,t.ALL_PROPERTIES=Zt.ALL_PROPERTIES,t.ALL_PROPERTIES_SET=new Set(Zt.ALL_PROPERTIES),t.coercionLookup=t.getCoercionLookup(),t}();function te(t,e,n){var o={},r=t.filter((function(t){return!e.some((function(e){return e===t}))}));return r.length>0&&r.forEach((function(t){return o[t]=ee(t,n)})),o}function ee(t,e,n,o){var r=e.map((function(e){return{value:e,relevance:ne(t.toLowerCase(),e.toLocaleLowerCase())}}));if(r.sort((function(t,e){return e.relevance-t.relevance})),n&&(r=r.filter((function(t){return 0!==t.relevance}))),o&&o>0){var i=r[0].relevance*o;r=r.filter((function(t){return i-t.relevance<0}))}return r.map((function(t){return t.value}))}function ne(t,e){for(var n=t.replace(/\s/g,""),o=e.replace(/\s/g,""),r=0,i=-1,s=0;s<n.length;s++){var a=o.indexOf(n[s],i+1);-1!==a&&(r+=100-100*(i=a)/1e4*100)}return r}var oe=Object.freeze({__proto__:null,fuzzyCheckStrings:te,fuzzySuggestions:ee}),re=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ie=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},se=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ie(arguments[e]));return t};function ae(t,e,n,o){var r=n?"Please use '"+n+"' instead. ":"";T((function(){return console.warn("AG Grid: since v"+t+", '"+e+"' is deprecated. "+r+(null!=o?o:""))}),"Deprecated_"+e)}var le=function(){function t(){this.deprecatedProperties={serverSideInfiniteScroll:{version:"29",message:"Infinite Scrolling is now the default behaviour. This can be suppressed with `suppressServerSideInfiniteScroll`."},rememberGroupStateWhenNewData:{version:"24",message:"Now that transaction updates are possible and they keep group state, this feature is no longer needed."},suppressEnterpriseResetOnNewColumns:{version:"25",message:"Now that it is possible to dynamically change columns in the grid, this is no longer needed."},suppressColumnStateEvents:{version:"25",message:'Events should be ignored based on the `event.source`, which will be "api" if the event was due to setting column state via the API.'},defaultExportParams:{version:"25.2",message:"The property `defaultExportParams` has been replaced by `defaultCsvExportParams` and `defaultExcelExportParams`"},stopEditingWhenGridLosesFocus:{version:"25.2.2",newProp:"stopEditingWhenCellsLoseFocus",copyToNewProp:!0},applyColumnDefOrder:{version:"26",message:"The property `applyColumnDefOrder` is no longer needed, as this is the default behaviour. To turn this behaviour off, set maintainColumnOrder=true"},groupMultiAutoColumn:{version:"26",newProp:"groupDisplayType",copyToNewProp:!0,newPropValue:"multipleColumns"},groupUseEntireRow:{version:"26",newProp:"groupDisplayType",copyToNewProp:!0,newPropValue:"groupRows"},defaultGroupSortComparator:{version:"26",newProp:"initialGroupOrderComparator"},enableMultiRowDragging:{version:"26.1",newProp:"rowDragMultiRow",copyToNewProp:!0},colWidth:{version:"26.1",newProp:"defaultColDef.width"},minColWidth:{version:"26.1",newProp:"defaultColDef.minWidth"},maxColWidth:{version:"26.1",newProp:"defaultColDef.maxWidth"},reactUi:{version:"26.1",message:"React UI is on by default, so no need for reactUi=true. To turn it off, set suppressReactUi=true."},suppressCellSelection:{version:"27",newProp:"suppressCellFocus",copyToNewProp:!0},clipboardDeliminator:{version:"27.1",newProp:"clipboardDelimiter",copyToNewProp:!0},getRowNodeId:{version:"27.1",newProp:"getRowId",message:"The difference: if getRowId() is implemented then immutable data is enabled by default."},defaultGroupOrderComparator:{version:"27.2",newProp:"initialGroupOrderComparator"},groupRowAggNodes:{version:"27.2",newProp:"getGroupRowAgg"},postSort:{version:"27.2",newProp:"postSortRows"},isFullWidthCell:{version:"27.2",newProp:"isFullWidthRow"},localeTextFunc:{version:"27.2",newProp:"getLocaleText"},serverSideFilteringAlwaysResets:{version:"28.0",newProp:"serverSideFilterAllLevels",copyToNewProp:!0},serverSideSortingAlwaysResets:{version:"28.0",newProp:"serverSideSortAllLevels",copyToNewProp:!0},suppressReactUi:{version:"28",message:"The legacy React rendering engine is deprecated and will be removed in the next major version of the grid."},processSecondaryColDef:{version:"28",newProp:"processPivotResultColDef",copyToNewProp:!0},processSecondaryColGroupDef:{version:"28",newProp:"processPivotResultColGroupDef",copyToNewProp:!0},getServerSideStoreParams:{version:"28",newProp:"getServerSideGroupLevelParams",copyToNewProp:!0},enableChartToolPanelsButton:{version:"29",message:"The Chart Tool Panels button is now enabled by default. To hide the Chart Tool Panels button and display the hamburger button instead, set suppressChartToolPanelsButton=true."},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"}}}return t.prototype.pickOneWarning=function(t,e){console.warn("AG Grid: "+t+" and "+e+" do not work with each other, you need to pick one.")},t.prototype.init=function(){var t=this;if(this.checkForDeprecated(),this.checkForViolations(),!0!==this.gridOptions.suppressPropertyNamesCheck&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),this.checkColumnDefViolations(),this.gridOptionsService.is("groupSelectsChildren")&&this.gridOptionsService.is("suppressParentsInRowNodes")&&console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.gridOptionsService.is("groupSelectsChildren")&&"multiple"!==this.gridOptionsService.get("rowSelection")&&console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.gridOptionsService.is("groupRemoveSingleChildren")&&this.gridOptionsService.is("groupHideOpenParents")&&this.pickOneWarning("groupRemoveSingleChildren","groupHideOpenParents"),"autoHeight"!==this.gridOptionsService.get("domLayout")||this.gridOptionsService.isRowModelType("clientSide")||this.gridOptionsService.is("pagination")||(console.warn("AG Grid: domLayout='autoHeight' was ignored as it is only supported by the Client-Side row model, unless using pagination."),this.gridOptions.domLayout="normal"),this.gridOptionsService.isRowModelType("serverSide")){var e=function(t,e){return"AG Grid: '"+t+"' is not supported on the Server-Side Row Model."+(e?" Please use "+e+" instead.":"")};this.gridOptionsService.exists("groupDefaultExpanded")&&console.warn(e("groupDefaultExpanded","isServerSideGroupOpenByDefault callback")),this.gridOptionsService.exists("groupIncludeFooter")&&console.warn(e("groupIncludeFooter")),this.gridOptionsService.exists("groupIncludeTotalFooter")&&console.warn(e("groupIncludeTotalFooter"))}this.gridOptionsService.is("enableRangeSelection")?ot.assertRegistered(J.RangeSelectionModule,"enableRangeSelection"):(this.gridOptionsService.is("enableRangeHandle")||this.gridOptionsService.is("enableFillHandle"))&&console.warn("AG Grid: 'enableRangeHandle' or 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");var n=function(e,n){return t.gridOptionsService.exists(e)&&ot.assertRegistered(n,e)};n("sideBar",J.SideBarModule),n("statusBar",J.StatusBarModule),n("enableCharts",J.GridChartsModule),n("getMainMenuItems",J.MenuModule),n("getContextMenuItems",J.MenuModule),n("allowContextMenuWithControlKey",J.MenuModule),this.gridOptionsService.is("groupRowsSticky")&&(this.gridOptionsService.is("groupHideOpenParents")&&this.pickOneWarning("groupRowsSticky","groupHideOpenParents"),this.gridOptionsService.is("masterDetail")&&this.pickOneWarning("groupRowsSticky","masterDetail"),this.gridOptionsService.is("pagination")&&this.pickOneWarning("groupRowsSticky","pagination"))},t.prototype.checkColumnDefProperties=function(){var t=this;if(null!=this.gridOptions.columnDefs){var e=se($t.ALL_PROPERTIES,$t.FRAMEWORK_PROPERTIES),n=function(o,r){var i=Object.getOwnPropertyNames(o);t.checkProperties(i,e,e,r,"https://www.ag-grid.com/javascript-data-grid/column-properties/"),o.children&&o.children.forEach((function(t){return n(t,"columnDefs.children")}))};this.gridOptions.columnDefs.forEach((function(t){return n(t,"columnDefs")})),this.gridOptions.defaultColDef&&n(this.gridOptions.defaultColDef,"defaultColDef")}},t.prototype.checkColumnDefViolations=function(){var t,e=null!==(t=this.gridOptionsService.get("rowModelType"))&&void 0!==t?t:"clientSide",n={infinite:["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],viewport:["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],serverSide:["headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],clientSide:[]}[e];if(null==n?void 0:n.length){var o=function(t){n.forEach((function(n){n in t&&t[n]&&console.warn("AG Grid: Column property "+n+" is not supported with the row model type "+e+".")}))};null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach((function(t){return o(t)})),null!=this.gridOptions.autoGroupColumnDef&&o(this.gridOptions.autoGroupColumnDef),null!=this.gridOptions.defaultColDef&&o(this.gridOptions.defaultColDef)}},t.prototype.checkGridOptionsProperties=function(){var t=Object.getOwnPropertyNames(this.gridOptions),e=se(Zt.ALL_PROPERTIES,Zt.FRAMEWORK_PROPERTIES,Qt.EVENT_CALLBACKS),n=se(e,["api","columnApi"],Object.keys(this.deprecatedProperties));this.checkProperties(t,n,e,"gridOptions","https://www.ag-grid.com/javascript-data-grid/grid-options/")},t.prototype.checkProperties=function(t,e,n,o,r){var i=te(t,e,n);h(i,(function(t,e){T((function(){return console.warn("AG Grid: invalid "+o+" property '"+t+"' did you mean any of these: "+e.slice(0,8).join(", "))}),"invalidProperty"+o+t)})),Object.keys(i).length>0&&T((function(){return console.warn("AG Grid: to see all the valid "+o+" properties please check: "+r)}),"invalidProperties"+o+r)},t.prototype.checkForDeprecated=function(){var t=this.gridOptions;if(Object.entries(this.deprecatedProperties).forEach((function(e){var n,o=ie(e,2),r=o[0],i=o[1],s=t[r];s&&(ae(i.version,r,i.newProp,i.message),i.copyToNewProp&&i.newProp&&null==t[i.newProp]&&(t[i.newProp]=null!==(n=i.newPropValue)&&void 0!==n?n:s))})),t.groupSuppressAutoColumn){var e=t.treeData?"treeDataDisplayType":"groupDisplayType";console.warn("AG Grid: since v26.0, the grid property `groupSuppressAutoColumn` has been replaced by `"+e+" = 'custom'`"),t[e]="custom"}t.immutableData&&(t.getRowId?console.warn("AG Grid: since v27.1, `immutableData` is deprecated. With the `getRowId` callback implemented, immutable data is enabled by default so you can remove `immutableData=true`."):console.warn("AG Grid: since v27.1, `immutableData` is deprecated. To enable immutable data you must implement the `getRowId()` callback.")),t.serverSideStoreType&&(console.warn("AG Grid: since v29.0, `serverSideStoreType` has been replaced by `suppressServerSideInfiniteScroll`. Set to false to use Partial Store, and true to use Full Store."),t.suppressServerSideInfiniteScroll="partial"!==t.serverSideStoreType)},t.prototype.checkForViolations=function(){this.gridOptionsService.is("treeData")&&this.treeDataViolations()},t.prototype.treeDataViolations=function(){this.gridOptionsService.isRowModelType("clientSide")&&(this.gridOptionsService.exists("getDataPath")||console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data.")),this.gridOptionsService.isRowModelType("serverSide")&&(this.gridOptionsService.exists("isServerSideGroup")||console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),this.gridOptionsService.exists("getServerSideGroupKey")||console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},re([K("gridOptions")],t.prototype,"gridOptions",void 0),re([K("gridOptionsService")],t.prototype,"gridOptionsService",void 0),re([H],t.prototype,"init",null),t=re([z("gridOptionsValidator")],t)}();function ce(t,e){var n=["groupRows","multipleColumns","custom","singleColumn"];return n.indexOf(e)<0?(console.warn("AG Grid: '"+e+"' is not a valid groupDisplayType value - possible values are: '"+n.join("', '")+"'"),!1):e===t}var ue=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},de=function(){function t(t,e,n,o){this.displayedChildren=[],this.localEventService=new et,this.groupId=e,this.partId=n,this.providedColumnGroup=t,this.pinned=o}return t.createUniqueId=function(t,e){return t+"_"+e},t.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},t.prototype.getParent=function(){return this.parent},t.prototype.setParent=function(t){this.parent=t},t.prototype.getUniqueId=function(){return t.createUniqueId(this.groupId,this.partId)},t.prototype.isEmptyGroup=function(){return 0===this.displayedChildren.length},t.prototype.isMoving=function(){var t=this.getProvidedColumnGroup().getLeafColumns();return!(!t||0===t.length)&&t.every((function(t){return t.isMoving()}))},t.prototype.checkLeft=function(){if(this.displayedChildren.forEach((function(e){e instanceof t&&e.checkLeft()})),this.displayedChildren.length>0)if(this.gridOptionsService.is("enableRtl")){var e=ft(this.displayedChildren).getLeft();this.setLeft(e)}else{var n=this.displayedChildren[0].getLeft();this.setLeft(n)}else this.setLeft(null)},t.prototype.getLeft=function(){return this.left},t.prototype.getOldLeft=function(){return this.oldLeft},t.prototype.setLeft=function(e){this.oldLeft=e,this.left!==e&&(this.left=e,this.localEventService.dispatchEvent(this.createAgEvent(t.EVENT_LEFT_CHANGED)))},t.prototype.getPinned=function(){return this.pinned},t.prototype.createAgEvent=function(t){return{type:t}},t.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},t.prototype.getGroupId=function(){return this.groupId},t.prototype.getPartId=function(){return this.partId},t.prototype.isChildInThisGroupDeepSearch=function(e){var n=!1;return this.children.forEach((function(o){e===o&&(n=!0),o instanceof t&&o.isChildInThisGroupDeepSearch(e)&&(n=!0)})),n},t.prototype.getActualWidth=function(){var t=0;return this.displayedChildren&&this.displayedChildren.forEach((function(e){t+=e.getActualWidth()})),t},t.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var t=!1;return this.displayedChildren.forEach((function(e){e.isResizable()&&(t=!0)})),t},t.prototype.getMinWidth=function(){var t=0;return this.displayedChildren.forEach((function(e){t+=e.getMinWidth()||0})),t},t.prototype.addChild=function(t){this.children||(this.children=[]),this.children.push(t)},t.prototype.getDisplayedChildren=function(){return this.displayedChildren},t.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},t.prototype.getDisplayedLeafColumns=function(){var t=[];return this.addDisplayedLeafColumns(t),t},t.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},t.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},t.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},t.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},t.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},t.prototype.setExpanded=function(t){this.providedColumnGroup.setExpanded(t)},t.prototype.addDisplayedLeafColumns=function(e){this.displayedChildren.forEach((function(n){n instanceof ct?e.push(n):n instanceof t&&n.addDisplayedLeafColumns(e)}))},t.prototype.addLeafColumns=function(e){this.children.forEach((function(n){n instanceof ct?e.push(n):n instanceof t&&n.addLeafColumns(e)}))},t.prototype.getChildren=function(){return this.children},t.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},t.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},t.prototype.getOriginalColumnGroup=function(){return ae("27","getOriginalColumnGroup","getProvidedColumnGroup"),this.getProvidedColumnGroup()},t.prototype.getPaddingLevel=function(){var t=this.getParent();return this.isPadding()&&t&&t.isPadding()?1+t.getPaddingLevel():0},t.prototype.calculateDisplayedColumns=function(){var e=this;this.displayedChildren=[];for(var n=this;null!=n&&n.isPadding();)n=n.getParent();if(!(!!n&&n.providedColumnGroup.isExpandable()))return this.displayedChildren=this.children,void this.localEventService.dispatchEvent(this.createAgEvent(t.EVENT_DISPLAYED_CHILDREN_CHANGED));this.children.forEach((function(o){if(!(o instanceof t&&(!o.displayedChildren||!o.displayedChildren.length)))switch(o.getColumnGroupShow()){case"open":n.providedColumnGroup.isExpanded()&&e.displayedChildren.push(o);break;case"closed":n.providedColumnGroup.isExpanded()||e.displayedChildren.push(o);break;default:e.displayedChildren.push(o)}})),this.localEventService.dispatchEvent(this.createAgEvent(t.EVENT_DISPLAYED_CHILDREN_CHANGED))},t.EVENT_LEFT_CHANGED="leftChanged",t.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",ue([K("gridOptionsService")],t.prototype,"gridOptionsService",void 0),t}(),pe=function(){function t(){this.existingIds={}}return t.prototype.getInstanceIdForKey=function(t){var e,n=this.existingIds[t];return e="number"!=typeof n?0:n+1,this.existingIds[t]=e,e},t}(),he=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),fe=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ge="ag-Grid-AutoColumn",_e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return he(e,t),e.prototype.createAutoGroupColumns=function(t,e){var n=this,o=[],r=this.gridOptionsService.isTreeData(),i=this.gridOptionsService.isGroupMultiAutoColumn();return r&&i&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),i=!1),i?e.forEach((function(e,r){o.push(n.createOneAutoGroupColumn(t,e,r))})):o.push(this.createOneAutoGroupColumn(t)),o},e.prototype.createOneAutoGroupColumn=function(t,e,n){var o,r=this.generateDefaultColDef(e);(o=e?ge+"-"+e.getId():ge,E(r,this.gridOptionsService.get("autoGroupColumnDef")),(r=this.columnFactory.mergeColDefs(r)).colId=o,this.gridOptionsService.isTreeData())||i(r.field)&&i(r.valueGetter)&&i(r.filterValueGetter)&&"agGroupColumnFilter"!==r.filter&&(r.filter=!1);n&&n>0&&(r.headerCheckboxSelection=!1);var s=t.find((function(t){return t.getId()==o}));if(s)return s.setColDef(r,null),this.columnFactory.applyColumnState(s,r),s;this.gridOptionsService.isColumnsSortingCoupledToGroup()&&(r.sort||r.initialSort)&&!r.field&&E(r,{sort:null,initialSort:null},!0,!0);var a=new ct(r,null,o,!0);return this.context.createBean(a),a},e.prototype.generateDefaultColDef=function(t){var e=this.gridOptionsService.get("autoGroupColumnDef"),n={headerName:this.localeService.getLocaleTextFunc()("group","Group")};if(e&&(e.cellRenderer||e.cellRendererFramework||e.cellRendererSelector)||(n.cellRenderer="agGroupCellRenderer"),t){var o=t.getColDef();Object.assign(n,{headerName:this.columnModel.getDisplayNameForColumn(t,"header"),headerValueGetter:o.headerValueGetter}),(o.cellRenderer||o.cellRendererFramework)&&Object.assign(n,{cellRendererParams:{innerRenderer:o.cellRenderer,innerRendererFramework:o.cellRendererFramework,innerRendererParams:o.cellRendererParams}}),n.showRowGroup=t.getColId()}else n.showRowGroup=!0;return n},fe([K("columnModel")],e.prototype,"columnModel",void 0),fe([K("columnFactory")],e.prototype,"columnFactory",void 0),e=fe([z("autoGroupColService")],e)}(Ut),me=/[&<>"']/g,ye={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function ve(t){return t[0].toUpperCase()+t.substr(1).toLowerCase()}function Ce(t,e){if(null==t)return null;var n=t.toString().toString();return e?n:n.replace(me,(function(t){return ye[t]}))}function Ee(t){if(!t||null==t)return null;return t.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([A-Z]+)([A-Z])([a-z])/g,"$1 $2$3").replace(/\./g," ").split(" ").map((function(t){return t.substring(0,1).toUpperCase()+(t.length>1?t.substring(1,t.length):"")})).join(" ")}var be=Object.freeze({__proto__:null,utf8_encode:function(t){var e=String.fromCharCode;function n(t,n){return e(t>>n&63|128)}function o(t){if(t>=0&&t<=31&&10!==t)return"_x"+t.toString(16).toUpperCase().padStart(4,"0")+"_";if(0==(4294967168&t))return e(t);var o="";return 0==(4294965248&t)?o=e(t>>6&31|192):0==(4294901760&t)?(!function(t){if(t>=55296&&t<=57343)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}(t),o=e(t>>12&15|224),o+=n(t,6)):0==(4292870144&t)&&(o=e(t>>18&7|240),o+=n(t,12),o+=n(t,6)),o+=e(63&t|128)}for(var r=function(t){var e=[];if(!t)return[];for(var n,o,r=t.length,i=0;i<r;)(n=t.charCodeAt(i++))>=55296&&n<=56319&&i<r?56320==(64512&(o=t.charCodeAt(i++)))?e.push(((1023&n)<<10)+(1023&o)+65536):(e.push(n),i--):e.push(n);return e}(t),i=r.length,s=-1,a="";++s<i;)a+=o(r[s]);return a},capitalise:ve,escapeString:Ce,camelCaseToHumanText:Ee});function Se(t){var e=new Map;return t.forEach((function(t){return e.set(t[0],t[1])})),e}var we=Object.freeze({__proto__:null,convertToMap:Se,mapById:function(t,e){var n=new Map;return t.forEach((function(t){return n.set(e(t),t)})),n},keys:function(t){var e=[];return t.forEach((function(t,n){return e.push(n)})),e}}),Oe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Pe=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Te=function(t,e){return function(n,o){e(n,o,t)}},Re=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]])}return n},De=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xe=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Me=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(xe(arguments[e]));return t},Ae=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.primaryHeaderRowCount=0,e.secondaryHeaderRowCount=0,e.gridHeaderRowCount=0,e.displayedColumnsLeft=[],e.displayedColumnsRight=[],e.displayedColumnsCenter=[],e.displayedColumns=[],e.displayedColumnsAndGroupsMap={},e.viewportColumns=[],e.viewportColumnsHash="",e.headerViewportColumns=[],e.viewportColumnsCenter=[],e.headerViewportColumnsCenter=[],e.autoHeightActiveAtLeastOnce=!1,e.rowGroupColumns=[],e.valueColumns=[],e.pivotColumns=[],e.ready=!1,e.autoGroupsNeedBuilding=!1,e.forceRecreateAutoGroups=!1,e.pivotMode=!1,e.bodyWidth=0,e.leftWidth=0,e.rightWidth=0,e.bodyWidthDirty=!0,e}return Oe(e,t),e.prototype.init=function(){var t=this;this.suppressColumnVirtualisation=this.gridOptionsService.is("suppressColumnVirtualisation");var e=this.gridOptionsService.is("pivotMode");this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.usingTreeData=this.gridOptionsService.isTreeData(),this.addManagedPropertyListener("groupDisplayType",(function(){return t.onAutoGroupColumnDefChanged()})),this.addManagedPropertyListener("autoGroupColumnDef",(function(){return t.onAutoGroupColumnDefChanged()})),this.addManagedPropertyListener("defaultColDef",(function(e){return t.onSharedColDefChanged(e.source)})),this.addManagedPropertyListener("columnTypes",(function(e){return t.onSharedColDefChanged(e.source)}))},e.prototype.onAutoGroupColumnDefChanged=function(){this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged")},e.prototype.onSharedColDefChanged=function(t){void 0===t&&(t="api"),this.forceRecreateAutoGroups=!0,this.createColumnsFromColumnDefs(!0,t)},e.prototype.setColumnDefs=function(t,e){void 0===e&&(e="api");var n=!!this.columnDefs;this.columnDefs=t,this.createColumnsFromColumnDefs(n,e)},e.prototype.destroyOldColumns=function(t,e){var n={};if(t){this.columnUtils.depthFirstOriginalTreeSearch(null,t,(function(t){n[t.getInstanceId()]=t})),e&&this.columnUtils.depthFirstOriginalTreeSearch(null,e,(function(t){n[t.getInstanceId()]=null}));var o=Object.values(n).filter((function(t){return null!=t}));this.destroyBeans(o)}},e.prototype.destroyColumns=function(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)},e.prototype.createColumnsFromColumnDefs=function(t,e){var n=this;void 0===e&&(e="api");var o=t?this.compareColumnStatesAndDispatchEvents(e):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var r=this.primaryColumns,i=this.primaryColumnTree,s=this.columnFactory.createColumnTree(this.columnDefs,!0,i);this.destroyOldColumns(this.primaryColumnTree,s.columnTree),this.primaryColumnTree=s.columnTree,this.primaryHeaderRowCount=s.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach((function(t){return n.primaryColumnsMap[t.getId()]=t})),this.extractRowGroupColumns(e,r),this.extractPivotColumns(e,r),this.extractValueColumns(e,r),this.ready=!0;var a=void 0===this.gridColsArePrimary;(this.gridColsArePrimary||a)&&(this.updateGridColumns(),t&&!this.gridOptionsService.is("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(e),this.checkViewportColumns()),this.dispatchEverythingChanged(e),o&&o(),this.dispatchNewColumnsLoaded()},e.prototype.dispatchNewColumnsLoaded=function(){var t={type:zt.EVENT_NEW_COLUMNS_LOADED};this.eventService.dispatchEvent(t)},e.prototype.dispatchEverythingChanged=function(t){void 0===t&&(t="api");var e={type:zt.EVENT_COLUMN_EVERYTHING_CHANGED,source:t};this.eventService.dispatchEvent(e)},e.prototype.orderGridColumnsLikePrimary=function(){var t=this,e=this.primaryColumns;e&&(this.gridColumns.sort((function(n,o){var r=e.indexOf(n),i=e.indexOf(o),s=r>=0,a=i>=0;return s&&a?r-i:s?1:a?-1:t.gridColumns.indexOf(n)-t.gridColumns.indexOf(o)})),this.gridColumns=this.placeLockedColumns(this.gridColumns))},e.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},e.prototype.setViewport=function(){this.gridOptionsService.is("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},e.prototype.getDisplayedColumnsStartingAt=function(t){for(var e=t,n=[];null!=e;)n.push(e),e=this.getDisplayedColAfter(e);return n},e.prototype.checkViewportColumns=function(){if(null!=this.displayedColumnsCenter&&this.extractViewport()){var t={type:zt.EVENT_VIRTUAL_COLUMNS_CHANGED};this.eventService.dispatchEvent(t)}},e.prototype.setViewportPosition=function(t,e){(t!==this.scrollWidth||e!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=t,this.scrollPosition=e,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns())},e.prototype.isPivotMode=function(){return this.pivotMode},e.prototype.isPivotSettingAllowed=function(t){return!t||!this.gridOptionsService.isTreeData()||(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)},e.prototype.setPivotMode=function(t,e){if(void 0===e&&(e="api"),t!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)){this.pivotMode=t,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(e);var n={type:zt.EVENT_COLUMN_PIVOT_MODE_CHANGED};this.eventService.dispatchEvent(n)}},e.prototype.getSecondaryPivotColumn=function(t,e){if(i(this.secondaryColumns))return null;var n=this.getPrimaryColumn(e),o=null;return this.secondaryColumns.forEach((function(e){var r=e.getColDef().pivotKeys,i=e.getColDef().pivotValueColumn;gt(r,t)&&i===n&&(o=e)})),o},e.prototype.setBeans=function(t){this.logger=t.create("columnModel")},e.prototype.setFirstRightAndLastLeftPinned=function(t){var e,n;this.gridOptionsService.is("enableRtl")?(e=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,n=this.displayedColumnsRight?ft(this.displayedColumnsRight):null):(e=this.displayedColumnsLeft?ft(this.displayedColumnsLeft):null,n=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach((function(o){o.setLastLeftPinned(o===e,t),o.setFirstRightPinned(o===n,t)}))},e.prototype.autoSizeColumns=function(t){var e=this,n=t.columns,o=t.skipHeader,r=t.skipHeaderGroups,i=t.stopAtGroup,s=t.source,a=void 0===s?"api":s;this.animationFrameService.flushAllFrames();for(var l=[],c=-1,u=null!=o?o:this.gridOptionsService.is("skipHeaderOnAutoSize"),d=null!=r?r:u;0!==c;)c=0,this.actionOnGridColumns(n,(function(t){if(l.indexOf(t)>=0)return!1;var n=e.autoWidthCalculator.getPreferredWidthForColumn(t,u);if(n>0){var o=e.normaliseColumnWidth(t,n);t.setActualWidth(o,a),l.push(t),c++}return!0}),a);d||this.autoSizeColumnGroupsByColumns(n,a,i),this.dispatchColumnResizedEvent(l,!0,"autosizeColumns")},e.prototype.dispatchColumnResizedEvent=function(t,e,n,o){if(void 0===o&&(o=null),t&&t.length){var r={type:zt.EVENT_COLUMN_RESIZED,columns:t,column:1===t.length?t[0]:null,flexColumns:o,finished:e,source:n};this.eventService.dispatchEvent(r)}},e.prototype.dispatchColumnChangedEvent=function(t,e,n){var o={type:t,columns:e,column:e&&1==e.length?e[0]:null,source:n};this.eventService.dispatchEvent(o)},e.prototype.dispatchColumnMovedEvent=function(t){var e=t.movedColumns,n=t.source,o=t.toIndex,r=t.finished,i={type:zt.EVENT_COLUMN_MOVED,columns:e,column:e&&1===e.length?e[0]:null,toIndex:o,finished:r,source:n};this.eventService.dispatchEvent(i)},e.prototype.dispatchColumnPinnedEvent=function(t,e){if(t.length){var n=1===t.length?t[0]:null,o=this.getCommonValue(t,(function(t){return t.getPinned()})),r={type:zt.EVENT_COLUMN_PINNED,pinned:null!=o?o:null,columns:t,column:n,source:e};this.eventService.dispatchEvent(r)}},e.prototype.dispatchColumnVisibleEvent=function(t,e){if(t.length){var n=1===t.length?t[0]:null,o=this.getCommonValue(t,(function(t){return t.isVisible()})),r={type:zt.EVENT_COLUMN_VISIBLE,visible:o,columns:t,column:n,source:e};this.eventService.dispatchEvent(r)}},e.prototype.autoSizeColumn=function(t,e,n){void 0===n&&(n="api"),t&&this.autoSizeColumns({columns:[t],skipHeader:e,skipHeaderGroups:!0,source:n})},e.prototype.autoSizeColumnGroupsByColumns=function(t,e,n){var o,r,i,s,a,l=new Set;this.getGridColumns(t).forEach((function(t){for(var e=t.getParent();e&&e!=n;)e.isPadding()||l.add(e),e=e.getParent()}));try{for(var c=De(l),u=c.next();!u.done;u=c.next()){var d=u.value;try{for(var p=(i=void 0,De(this.ctrlsService.getHeaderRowContainerCtrls())),h=p.next();!h.done;h=p.next()){if(a=h.value.getHeaderCtrlForColumn(d))break}}catch(t){i={error:t}}finally{try{h&&!h.done&&(s=p.return)&&s.call(p)}finally{if(i)throw i.error}}a&&a.resizeLeafColumnsToFit(e)}}catch(t){o={error:t}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(o)throw o.error}}return[]},e.prototype.autoSizeAllColumns=function(t,e){void 0===e&&(e="api");var n=this.getAllDisplayedColumns();this.autoSizeColumns({columns:n,skipHeader:t,source:e})},e.prototype.getColumnsFromTree=function(t){var e=[],n=function(t){for(var o=0;o<t.length;o++){var r=t[o];r instanceof ct?e.push(r):r instanceof dt&&n(r.getChildren())}};return n(t),e},e.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},e.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},e.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},e.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},e.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},e.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},e.prototype.isColumnDisplayed=function(t){return this.getAllDisplayedColumns().indexOf(t)>=0},e.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},e.prototype.getViewportColumns=function(){return this.viewportColumns},e.prototype.getDisplayedLeftColumnsForRow=function(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedColumnsLeft):this.displayedColumnsLeft},e.prototype.getDisplayedRightColumnsForRow=function(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedColumnsRight):this.displayedColumnsRight},e.prototype.isColSpanActive=function(){return this.colSpanActive},e.prototype.getDisplayedColumnsForRow=function(t,e,n,o){for(var r,i=[],s=null,a=function(a){var l,c=e[a],u=e.length-a,d=Math.min(c.getColSpan(t),u),p=[c];if(d>1){for(var h=d-1,f=1;f<=h;f++)p.push(e[a+f]);a+=h}if(n?(l=!1,p.forEach((function(t){n(t)&&(l=!0)}))):l=!0,l){if(0===i.length&&s)!!o&&o(c)&&i.push(s);i.push(c)}s=c,r=a},l=0;l<e.length;l++)a(l),l=r;return i},e.prototype.getViewportCenterColumnsForRow=function(t){var e=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var n=this.suppressColumnVirtualisation?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(t,this.displayedColumnsCenter,n,(function(t){var n=t.getLeft();return r(n)&&n>e.viewportLeft}))},e.prototype.getAriaColumnIndex=function(t){return this.getAllGridColumns().indexOf(t)+1},e.prototype.isColumnInHeaderViewport=function(t){return!!t.isAutoHeaderHeight()||this.isColumnInRowViewport(t)},e.prototype.isColumnInRowViewport=function(t){if(t.isAutoHeight())return!0;var e=t.getLeft()||0,n=e+t.getActualWidth(),o=this.viewportLeft-200,r=this.viewportRight+200;return!(e<o&&n<o)&&!(e>r&&n>r)},e.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},e.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},e.prototype.updatePrimaryColumnList=function(t,e,n,o,r,i){var a=this;if(void 0===i&&(i="api"),t&&!s(t)){var l=!1;if(t.forEach((function(t){var r=a.getPrimaryColumn(t);if(r){if(n){if(e.indexOf(r)>=0)return;e.push(r)}else{if(e.indexOf(r)<0)return;mt(e,r)}o(r),l=!0}})),l){this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(i);var c={type:r,columns:e,column:1===e.length?e[0]:null,source:i};this.eventService.dispatchEvent(c)}}},e.prototype.setRowGroupColumns=function(t,e){void 0===e&&(e="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(t,this.rowGroupColumns,zt.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),e)},e.prototype.setRowGroupActive=function(t,e,n){t!==e.isRowGroupActive()&&(e.setRowGroupActive(t,n),t&&!this.gridOptionsService.is("suppressRowGroupHidesColumns")&&this.setColumnVisible(e,!1,n),t||this.gridOptionsService.is("suppressMakeColumnVisibleAfterUnGroup")||this.setColumnVisible(e,!0,n))},e.prototype.addRowGroupColumn=function(t,e){void 0===e&&(e="api"),t&&this.addRowGroupColumns([t],e)},e.prototype.addRowGroupColumns=function(t,e){void 0===e&&(e="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),zt.EVENT_COLUMN_ROW_GROUP_CHANGED,e)},e.prototype.removeRowGroupColumns=function(t,e){void 0===e&&(e="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),zt.EVENT_COLUMN_ROW_GROUP_CHANGED,e)},e.prototype.removeRowGroupColumn=function(t,e){void 0===e&&(e="api"),t&&this.removeRowGroupColumns([t],e)},e.prototype.addPivotColumns=function(t,e){void 0===e&&(e="api"),this.updatePrimaryColumnList(t,this.pivotColumns,!0,(function(t){return t.setPivotActive(!0,e)}),zt.EVENT_COLUMN_PIVOT_CHANGED,e)},e.prototype.setPivotColumns=function(t,e){void 0===e&&(e="api"),this.setPrimaryColumnList(t,this.pivotColumns,zt.EVENT_COLUMN_PIVOT_CHANGED,(function(t,n){n.setPivotActive(t,e)}),e)},e.prototype.addPivotColumn=function(t,e){void 0===e&&(e="api"),this.addPivotColumns([t],e)},e.prototype.removePivotColumns=function(t,e){void 0===e&&(e="api"),this.updatePrimaryColumnList(t,this.pivotColumns,!1,(function(t){return t.setPivotActive(!1,e)}),zt.EVENT_COLUMN_PIVOT_CHANGED,e)},e.prototype.removePivotColumn=function(t,e){void 0===e&&(e="api"),this.removePivotColumns([t],e)},e.prototype.setPrimaryColumnList=function(t,e,n,o,i){var s=this;e.length=0,r(t)&&t.forEach((function(t){var n=s.getPrimaryColumn(t);n&&e.push(n)})),(this.primaryColumns||[]).forEach((function(t){var n=e.indexOf(t)>=0;o(n,t)})),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(i),this.dispatchColumnChangedEvent(n,e,i)},e.prototype.setValueColumns=function(t,e){void 0===e&&(e="api"),this.setPrimaryColumnList(t,this.valueColumns,zt.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),e)},e.prototype.setValueActive=function(t,e,n){if(t!==e.isValueActive()&&(e.setValueActive(t,n),t&&!e.getAggFunc())){var o=this.aggFuncService.getDefaultAggFunc(e);e.setAggFunc(o)}},e.prototype.addValueColumns=function(t,e){void 0===e&&(e="api"),this.updatePrimaryColumnList(t,this.valueColumns,!0,this.setValueActive.bind(this,!0),zt.EVENT_COLUMN_VALUE_CHANGED,e)},e.prototype.addValueColumn=function(t,e){void 0===e&&(e="api"),t&&this.addValueColumns([t],e)},e.prototype.removeValueColumn=function(t,e){void 0===e&&(e="api"),this.removeValueColumns([t],e)},e.prototype.removeValueColumns=function(t,e){void 0===e&&(e="api"),this.updatePrimaryColumnList(t,this.valueColumns,!1,this.setValueActive.bind(this,!1),zt.EVENT_COLUMN_VALUE_CHANGED,e)},e.prototype.normaliseColumnWidth=function(t,e){var n=t.getMinWidth();r(n)&&e<n&&(e=n);var o=t.getMaxWidth();return r(o)&&t.isGreaterThanMax(e)&&(e=o),e},e.prototype.getPrimaryOrGridColumn=function(t){return this.getPrimaryColumn(t)||this.getGridColumn(t)},e.prototype.setColumnWidths=function(t,e,n,o){var r=this;void 0===o&&(o="api");var i=[];t.forEach((function(t){var n=r.getPrimaryOrGridColumn(t.key);if(n&&(i.push({width:t.newWidth,ratios:[1],columns:[n]}),"shift"===r.gridOptionsService.get("colResizeDefault")&&(e=!e),e)){var o=r.getDisplayedColAfter(n);if(!o)return;var s=n.getActualWidth()-t.newWidth,a=o.getActualWidth()+s;i.push({width:a,ratios:[1],columns:[o]})}})),0!==i.length&&this.resizeColumnSets({resizeSets:i,finished:n,source:o})},e.prototype.checkMinAndMaxWidthsForSet=function(t){var e=t.columns,n=t.width,o=0,i=0,s=!0;return e.forEach((function(t){var e=t.getMinWidth();o+=e||0;var n=t.getMaxWidth();r(n)&&n>0?i+=n:s=!1})),n>=o&&(!s||n<=i)},e.prototype.resizeColumnSets=function(t){var e=this,n=t.resizeSets,o=t.finished,i=t.source;if(!n||n.every((function(t){return e.checkMinAndMaxWidthsForSet(t)}))){var s=[],a=[];n.forEach((function(t){var e=t.width,n=t.columns,o=t.ratios,l={},c={};n.forEach((function(t){return a.push(t)}));for(var u=!0,d=0,p=function(){if(++d>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";u=!1;var t=[],i=0,s=e;n.forEach((function(e,n){if(c[e.getId()])s-=l[e.getId()];else{t.push(e);var r=o[n];i+=r}}));var a=1/i;t.forEach((function(n,i){var d;i===t.length-1?d=s:(d=Math.round(o[i]*e*a),s-=d);var p=n.getMinWidth(),h=n.getMaxWidth();r(p)&&d<p?(d=p,c[n.getId()]=!0,u=!0):r(h)&&h>0&&d>h&&(d=h,c[n.getId()]=!0,u=!0),l[n.getId()]=d}))};u;){if("break"===p())break}n.forEach((function(t){var e=l[t.getId()];t.getActualWidth()!==e&&(t.setActualWidth(e,i),s.push(t))}))}));var l=s.length>0,c=[];l&&(c=this.refreshFlexedColumns({resizingCols:a,skipSetLeft:!0}),this.setLeftValues(i),this.updateBodyWidths(),this.checkViewportColumns());var u=a.concat(c);(l||o)&&this.dispatchColumnResizedEvent(u,o,i,c)}else if(o){var d=n&&n.length>0?n[0].columns:null;this.dispatchColumnResizedEvent(d,o,i)}},e.prototype.setColumnAggFunc=function(t,e,n){if(void 0===n&&(n="api"),t){var o=this.getPrimaryColumn(t);o&&(o.setAggFunc(e),this.dispatchColumnChangedEvent(zt.EVENT_COLUMN_VALUE_CHANGED,[o],n))}},e.prototype.moveRowGroupColumn=function(t,e,n){void 0===n&&(n="api");var o=this.rowGroupColumns[t];this.rowGroupColumns.splice(t,1),this.rowGroupColumns.splice(e,0,o);var r={type:zt.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:1===this.rowGroupColumns.length?this.rowGroupColumns[0]:null,source:n};this.eventService.dispatchEvent(r)},e.prototype.moveColumns=function(t,e,n,o){if(void 0===n&&(n="api"),void 0===o&&(o=!0),this.columnAnimationService.start(),e>this.gridColumns.length-t.length)return console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+e),void console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");var r=this.getGridColumns(t);!this.doesMovePassRules(r,e)||(Ct(this.gridColumns,r,e),this.updateDisplayedColumns(n),this.dispatchColumnMovedEvent({movedColumns:r,source:n,toIndex:e,finished:o}),this.columnAnimationService.finish())},e.prototype.doesMovePassRules=function(t,e){var n=this.getProposedColumnOrder(t,e);return this.doesOrderPassRules(n)},e.prototype.doesOrderPassRules=function(t){return!!this.doesMovePassMarryChildren(t)&&!!this.doesMovePassLockedPositions(t)},e.prototype.getProposedColumnOrder=function(t,e){var n=this.gridColumns.slice();return Ct(n,t,e),n},e.prototype.sortColumnsLikeGridColumns=function(t){var e=this;!t||t.length<=1||(t.filter((function(t){return e.gridColumns.indexOf(t)<0})).length>0||t.sort((function(t,n){return e.gridColumns.indexOf(t)-e.gridColumns.indexOf(n)})))},e.prototype.doesMovePassLockedPositions=function(t){var e=0,n=!0;return t.forEach((function(t){var o,r=(o=t.getColDef().lockPosition)?!0===o||"left"===o?0:2:1;r<e&&(n=!1),e=r})),n},e.prototype.doesMovePassMarryChildren=function(t){var e=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(n){if(n instanceof dt){var o=n,r=o.getColGroupDef();if(r&&r.marryChildren){var i=[];o.getLeafColumns().forEach((function(e){var n=t.indexOf(e);i.push(n)})),Math.max.apply(Math,i)-Math.min.apply(Math,i)>o.getLeafColumns().length-1&&(e=!1)}}})),e},e.prototype.moveColumn=function(t,e,n){void 0===n&&(n="api"),this.moveColumns([t],e,n)},e.prototype.moveColumnByIndex=function(t,e,n){void 0===n&&(n="api");var o=this.gridColumns[t];this.moveColumn(o,e,n)},e.prototype.getColumnDefs=function(){var t=this;if(this.primaryColumns){var e=this.primaryColumns.slice();return this.gridColsArePrimary?e.sort((function(e,n){return t.gridColumns.indexOf(e)-t.gridColumns.indexOf(n)})):this.lastPrimaryOrder&&e.sort((function(e,n){return t.lastPrimaryOrder.indexOf(e)-t.lastPrimaryOrder.indexOf(n)})),this.columnDefFactory.buildColumnDefs(e,this.rowGroupColumns,this.pivotColumns)}},e.prototype.getBodyContainerWidth=function(){return this.bodyWidth},e.prototype.getContainerWidth=function(t){switch(t){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}},e.prototype.updateBodyWidths=function(){var t=this.getWidthOfColsInList(this.displayedColumnsCenter),e=this.getWidthOfColsInList(this.displayedColumnsLeft),n=this.getWidthOfColsInList(this.displayedColumnsRight);if(this.bodyWidthDirty=this.bodyWidth!==t,this.bodyWidth!==t||this.leftWidth!==e||this.rightWidth!==n){this.bodyWidth=t,this.leftWidth=e,this.rightWidth=n;var o={type:zt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED};this.eventService.dispatchEvent(o)}},e.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},e.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},e.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},e.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},e.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},e.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},e.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},e.prototype.getDisplayedColumns=function(t){switch(t){case"left":return this.getDisplayedLeftColumns();case"right":return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},e.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},e.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},e.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},e.prototype.getAllGridColumns=function(){return this.gridColumns},e.prototype.isEmpty=function(){return s(this.gridColumns)},e.prototype.isRowGroupEmpty=function(){return s(this.rowGroupColumns)},e.prototype.setColumnVisible=function(t,e,n){void 0===n&&(n="api"),this.setColumnsVisible([t],e,n)},e.prototype.setColumnsVisible=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n="api"),this.applyColumnState({state:t.map((function(t){return{colId:"string"==typeof t?t:t.getColId(),hide:!e}}))},n)},e.prototype.setColumnPinned=function(t,e,n){void 0===n&&(n="api"),t&&this.setColumnsPinned([t],e,n)},e.prototype.setColumnsPinned=function(t,e,n){var o;(void 0===n&&(n="api"),this.gridOptionsService.isDomLayout("print"))?console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'"):(this.columnAnimationService.start(),o=!0===e||"left"===e?"left":"right"===e?"right":null,this.actionOnGridColumns(t,(function(t){return t.getPinned()!==o&&(t.setPinned(o),!0)}),n,(function(){return{type:zt.EVENT_COLUMN_PINNED,pinned:o,column:null,columns:null,source:n}})),this.columnAnimationService.finish())},e.prototype.actionOnGridColumns=function(t,e,n,o){var i=this;if(!s(t)){var a=[];if(t.forEach((function(t){var n=i.getGridColumn(t);n&&(!1!==e(n)&&a.push(n))})),a.length&&(this.updateDisplayedColumns(n),r(o)&&o)){var l=o();l.columns=a,l.column=1===a.length?a[0]:null,this.eventService.dispatchEvent(l)}}},e.prototype.getDisplayedColBefore=function(t){var e=this.getAllDisplayedColumns(),n=e.indexOf(t);return n>0?e[n-1]:null},e.prototype.getDisplayedColAfter=function(t){var e=this.getAllDisplayedColumns(),n=e.indexOf(t);return n<e.length-1?e[n+1]:null},e.prototype.getDisplayedGroupAfter=function(t){return this.getDisplayedGroupAtDirection(t,"After")},e.prototype.getDisplayedGroupBefore=function(t){return this.getDisplayedGroupAtDirection(t,"Before")},e.prototype.getDisplayedGroupAtDirection=function(t,e){for(var n=t.getProvidedColumnGroup().getLevel()+t.getPaddingLevel(),o=t.getDisplayedLeafColumns(),r="After"===e?ft(o):o[0],i="getDisplayedCol"+e;;){var s=this[i](r);if(!s)return null;var a=this.getColumnGroupAtLevel(s,n);if(a!==t)return a}},e.prototype.getColumnGroupAtLevel=function(t,e){for(var n=t.getParent();;){if(n.getProvidedColumnGroup().getLevel()+n.getPaddingLevel()<=e)break;n=n.getParent()}return n},e.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},e.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},e.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var t;return(t=[]).concat.apply(t,Me([this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[]]))},e.prototype.createStateItemFromColumn=function(t){var e=t.isRowGroupActive()?this.rowGroupColumns.indexOf(t):null,n=t.isPivotActive()?this.pivotColumns.indexOf(t):null,o=t.isValueActive()?t.getAggFunc():null,r=null!=t.getSort()?t.getSort():null,i=null!=t.getSortIndex()?t.getSortIndex():null,s=null!=t.getFlex()&&t.getFlex()>0?t.getFlex():null;return{colId:t.getColId(),width:t.getActualWidth(),hide:!t.isVisible(),pinned:t.getPinned(),sort:r,sortIndex:i,aggFunc:o,rowGroup:t.isRowGroupActive(),rowGroupIndex:e,pivot:t.isPivotActive(),pivotIndex:n,flex:s}},e.prototype.getColumnState=function(){if(i(this.primaryColumns)||!this.isAlive())return[];var t=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(t),t},e.prototype.orderColumnStateList=function(t){var e=Se(this.gridColumns.map((function(t,e){return[t.getColId(),e]})));t.sort((function(t,n){return(e.has(t.colId)?e.get(t.colId):-1)-(e.has(n.colId)?e.get(n.colId):-1)}))},e.prototype.resetColumnState=function(t){void 0===t&&(t="api");var e=this.getColumnsFromTree(this.primaryColumnTree),n=[],o=1e3,r=1e3,s=[];this.groupAutoColumns&&(s=s.concat(this.groupAutoColumns)),e&&(s=s.concat(e)),s.forEach((function(t){var e=function(t,e){return null!=t?t:null!=e?e:null},s=t.getColDef(),a=e(s.sort,s.initialSort),l=e(s.sortIndex,s.initialSortIndex),c=e(s.hide,s.initialHide),u=e(s.pinned,s.initialPinned),d=e(s.width,s.initialWidth),p=e(s.flex,s.initialFlex),h=e(s.rowGroupIndex,s.initialRowGroupIndex),f=e(s.rowGroup,s.initialRowGroup);null!=h||null!=f&&0!=f||(h=null,f=null);var g=e(s.pivotIndex,s.initialPivotIndex),_=e(s.pivot,s.initialPivot);null!=g||null!=_&&0!=_||(g=null,_=null);var m=e(s.aggFunc,s.initialAggFunc),y={colId:t.getColId(),sort:a,sortIndex:l,hide:c,pinned:u,width:d,flex:p,rowGroup:f,rowGroupIndex:h,pivot:_,pivotIndex:g,aggFunc:m};i(h)&&f&&(y.rowGroupIndex=o++),i(g)&&_&&(y.pivotIndex=r++),n.push(y)})),this.applyColumnState({state:n,applyOrder:!0},t)},e.prototype.applyColumnState=function(t,e){var n=this;if(s(this.primaryColumns))return!1;if(t&&t.state&&!t.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;var o=function(o,r,i){var s=n.compareColumnStatesAndDispatchEvents(e);n.autoGroupsNeedBuilding=!0;var a=r.slice(),l={},c={},u=[],d=[],p=0,h=n.rowGroupColumns.slice(),f=n.pivotColumns.slice();o.forEach((function(o){var r=o.colId||"";if(r.startsWith(ge))return u.push(o),void d.push(o);var s=i(r);s?(n.syncColumnWithStateItem(s,o,t.defaultState,l,c,!1,e),mt(a,s)):(d.push(o),p+=1)}));var g=function(o){return n.syncColumnWithStateItem(o,null,t.defaultState,l,c,!1,e)};a.forEach(g);var _=function(t,e,n,o){var r=t[n.getId()],i=t[o.getId()],s=null!=r,a=null!=i;if(s&&a)return r-i;if(s)return-1;if(a)return 1;var l=e.indexOf(n),c=e.indexOf(o),u=l>=0;return u&&c>=0?l-c:u?-1:1};n.rowGroupColumns.sort(_.bind(n,l,h)),n.pivotColumns.sort(_.bind(n,c,f)),n.updateGridColumns();var m=n.groupAutoColumns?n.groupAutoColumns.slice():[];return u.forEach((function(o){var r=n.getAutoColumn(o.colId);mt(m,r),n.syncColumnWithStateItem(r,o,t.defaultState,null,null,!0,e)})),m.forEach(g),n.applyOrderAfterApplyState(t),n.updateDisplayedColumns(e),n.dispatchEverythingChanged(e),s(),{unmatchedAndAutoStates:d,unmatchedCount:p}};this.columnAnimationService.start();var i=o(t.state||[],this.primaryColumns||[],(function(t){return n.getPrimaryColumn(t)})),a=i.unmatchedAndAutoStates,l=i.unmatchedCount;return(a.length>0||r(t.defaultState))&&(l=o(a,this.secondaryColumns||[],(function(t){return n.getSecondaryColumn(t)})).unmatchedCount),this.columnAnimationService.finish(),0===l},e.prototype.applyOrderAfterApplyState=function(t){var e=this;if(t.applyOrder&&t.state){var n=[],o={};t.state.forEach((function(t){if(t.colId&&!o[t.colId]){var r=e.gridColumnsMap[t.colId];r&&(n.push(r),o[t.colId]=!0)}}));var r=0;this.gridColumns.forEach((function(t){var e=t.getColId();null!=o[e]||(e.startsWith(ge)?vt(n,t,r++):n.push(t))})),n=this.placeLockedColumns(n),this.doesMovePassMarryChildren(n)?this.gridColumns=n:console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.")}},e.prototype.compareColumnStatesAndDispatchEvents=function(t){var e=this,n={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},o=this.getColumnState(),r={};return o.forEach((function(t){r[t.colId]=t})),function(){var i=e.getPrimaryAndSecondaryAndAutoColumns(),s=function(n,o,r,i){if(!gt(o.map(i),r.map(i))){var s={type:n,columns:r,column:1===r.length?r[0]:null,source:t};e.eventService.dispatchEvent(s)}},a=function(t){var e=[];return i.forEach((function(n){var o=r[n.getColId()];o&&t(o,n)&&e.push(n)})),e},l=function(t){return t.getColId()};s(zt.EVENT_COLUMN_ROW_GROUP_CHANGED,n.rowGroupColumns,e.rowGroupColumns,l),s(zt.EVENT_COLUMN_PIVOT_CHANGED,n.pivotColumns,e.pivotColumns,l);a((function(t,e){var n=null!=t.aggFunc,o=n!=e.isValueActive(),r=n&&t.aggFunc!=e.getAggFunc();return o||r})).length>0&&e.dispatchColumnChangedEvent(zt.EVENT_COLUMN_VALUE_CHANGED,e.valueColumns,t);e.dispatchColumnResizedEvent(a((function(t,e){return t.width!=e.getActualWidth()})),!0,t);e.dispatchColumnPinnedEvent(a((function(t,e){return t.pinned!=e.getPinned()})),t);e.dispatchColumnVisibleEvent(a((function(t,e){return t.hide==e.isVisible()})),t);a((function(t,e){return t.sort!=e.getSort()||t.sortIndex!=e.getSortIndex()})).length>0&&e.sortController.dispatchSortChangedEvents(t),e.normaliseColumnMovedEventForColumnState(o,t)}},e.prototype.getCommonValue=function(t,e){if(t&&0!=t.length){for(var n=e(t[0]),o=1;o<t.length;o++)if(n!==e(t[o]))return;return n}},e.prototype.normaliseColumnMovedEventForColumnState=function(t,e){var n=this,o=this.getColumnState(),r={};o.forEach((function(t){return r[t.colId]=t}));var i={};t.forEach((function(t){r[t.colId]&&(i[t.colId]=!0)}));var s=t.filter((function(t){return i[t.colId]})),a=o.filter((function(t){return i[t.colId]})),l=[];a.forEach((function(t,e){var o=s&&s[e];if(o&&o.colId!==t.colId){var r=n.getGridColumn(o.colId);r&&l.push(r)}})),l.length&&this.dispatchColumnMovedEvent({movedColumns:l,source:e,finished:!0})},e.prototype.syncColumnWithStateItem=function(t,e,n,o,i,s,a){if(t){var l=function(t,o){var i={value1:void 0,value2:void 0},s=!1;return e&&(void 0!==e[t]&&(i.value1=e[t],s=!0),r(o)&&void 0!==e[o]&&(i.value2=e[o],s=!0)),!s&&n&&(void 0!==n[t]&&(i.value1=n[t]),r(o)&&void 0!==n[o]&&(i.value2=n[o])),i},c=l("hide").value1;void 0!==c&&t.setVisible(!c,a);var u=l("pinned").value1;void 0!==u&&t.setPinned(u);var d=this.columnUtils.calculateColMinWidth(t.getColDef()),p=l("flex").value1;if(void 0!==p&&t.setFlex(p),t.getFlex()<=0){var h=l("width").value1;null!=h&&null!=d&&h>=d&&t.setActualWidth(h,a)}var f=l("sort").value1;void 0!==f&&("desc"===f||"asc"===f?t.setSort(f,a):t.setSort(void 0,a));var g=l("sortIndex").value1;if(void 0!==g&&t.setSortIndex(g),!s&&t.isPrimary()){var _=l("aggFunc").value1;void 0!==_&&("string"==typeof _?(t.setAggFunc(_),t.isValueActive()||(t.setValueActive(!0,a),this.valueColumns.push(t))):(r(_)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),t.isValueActive()&&(t.setValueActive(!1,a),mt(this.valueColumns,t))));var m=l("rowGroup","rowGroupIndex"),y=m.value1,v=m.value2;void 0===y&&void 0===v||("number"==typeof v||y?(t.isRowGroupActive()||(t.setRowGroupActive(!0,a),this.rowGroupColumns.push(t)),o&&"number"==typeof v&&(o[t.getId()]=v)):t.isRowGroupActive()&&(t.setRowGroupActive(!1,a),mt(this.rowGroupColumns,t)));var C=l("pivot","pivotIndex"),E=C.value1,b=C.value2;void 0===E&&void 0===b||("number"==typeof b||E?(t.isPivotActive()||(t.setPivotActive(!0,a),this.pivotColumns.push(t)),i&&"number"==typeof b&&(i[t.getId()]=b)):t.isPivotActive()&&(t.setPivotActive(!1,a),mt(this.pivotColumns,t)))}}},e.prototype.getGridColumns=function(t){return this.getColumns(t,this.getGridColumn.bind(this))},e.prototype.getColumns=function(t,e){var n=[];return t&&t.forEach((function(t){var o=e(t);o&&n.push(o)})),n},e.prototype.getColumnWithValidation=function(t){if(null==t)return null;var e=this.getGridColumn(t);return e||console.warn("AG Grid: could not find column "+t),e},e.prototype.getPrimaryColumn=function(t){return this.primaryColumns?this.getColumn(t,this.primaryColumns,this.primaryColumnsMap):null},e.prototype.getGridColumn=function(t){return this.getColumn(t,this.gridColumns,this.gridColumnsMap)},e.prototype.getSecondaryColumn=function(t){return this.secondaryColumns?this.getColumn(t,this.secondaryColumns,this.secondaryColumnsMap):null},e.prototype.getColumn=function(t,e,n){if(!t)return null;if("string"==typeof t&&n[t])return n[t];for(var o=0;o<e.length;o++)if(this.columnsMatch(e[o],t))return e[o];return this.getAutoColumn(t)},e.prototype.getSourceColumnsForGroupColumn=function(t){var e=t.getColDef().showRowGroup;if(!e)return null;if(!0===e)return this.rowGroupColumns.slice(0);var n=this.getPrimaryColumn(e);return n?[n]:null},e.prototype.getAutoColumn=function(t){var e=this;return this.groupAutoColumns&&r(this.groupAutoColumns)&&!i(this.groupAutoColumns)&&this.groupAutoColumns.find((function(n){return e.columnsMatch(n,t)}))||null},e.prototype.columnsMatch=function(t,e){var n=t===e,o=t.getColDef()===e,r=t.getColId()==e;return n||o||r},e.prototype.getDisplayNameForColumn=function(t,e,n){if(void 0===n&&(n=!1),!t)return null;var o=this.getHeaderName(t.getColDef(),t,null,null,e);return n?this.wrapHeaderNameWithAggFunc(t,o):o},e.prototype.getDisplayNameForProvidedColumnGroup=function(t,e,n){var o=e?e.getColGroupDef():null;return o?this.getHeaderName(o,null,t,e,n):null},e.prototype.getDisplayNameForColumnGroup=function(t,e){return this.getDisplayNameForProvidedColumnGroup(t,t.getProvidedColumnGroup(),e)},e.prototype.getHeaderName=function(t,e,n,o,r){var i=t.headerValueGetter;if(i){var s={colDef:t,column:e,columnGroup:n,providedColumnGroup:o,location:r,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return"function"==typeof i?i(s):"string"==typeof i?this.expressionService.evaluate(i,s):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}return null!=t.headerName?t.headerName:t.field?Ee(t.field):""},e.prototype.wrapHeaderNameWithAggFunc=function(t,e){if(this.gridOptionsService.is("suppressAggFuncInHeader"))return e;var n,o=t.getColDef().pivotValueColumn,i=null;if(r(o)){var s=this.gridOptionsService.is("removePivotHeaderRowWhenSingleValueColumn")&&1===this.valueColumns.length,a=void 0!==t.getColDef().pivotTotalColumnIds;if(s&&!a)return e;i=o?o.getAggFunc():null,n=!0}else{var l=t.isValueActive(),c=this.pivotMode||!this.isRowGroupEmpty();l&&c?(i=t.getAggFunc(),n=!0):n=!1}if(n){var u="string"==typeof i?i:"func";return this.localeService.getLocaleTextFunc()(u,u)+"("+e+")"}return e},e.prototype.getColumnGroup=function(t,e){if(!t)return null;if(t instanceof de)return t;var n=this.getAllDisplayedTrees(),o="number"==typeof e,r=null;return this.columnUtils.depthFirstAllColumnTreeSearch(n,(function(n){if(n instanceof de){var i=n;(o?t===i.getGroupId()&&e===i.getPartId():t===i.getGroupId())&&(r=i)}})),r},e.prototype.isReady=function(){return this.ready},e.prototype.extractValueColumns=function(t,e){this.valueColumns=this.extractColumns(e,this.valueColumns,(function(e,n){return e.setValueActive(n,t)}),(function(){}),(function(){}),(function(t){var e=t.aggFunc;return null===e||""===e?null:void 0!==e?!!e:void 0}),(function(t){return null!=t.initialAggFunc&&""!=t.initialAggFunc})),this.valueColumns.forEach((function(t){var e=t.getColDef();null!=e.aggFunc&&""!=e.aggFunc?t.setAggFunc(e.aggFunc):t.getAggFunc()||t.setAggFunc(e.initialAggFunc)}))},e.prototype.extractRowGroupColumns=function(t,e){this.rowGroupColumns=this.extractColumns(e,this.rowGroupColumns,(function(e,n){return e.setRowGroupActive(n,t)}),(function(t){return t.rowGroupIndex}),(function(t){return t.initialRowGroupIndex}),(function(t){return t.rowGroup}),(function(t){return t.initialRowGroup}))},e.prototype.extractColumns=function(t,e,n,o,r,i,s){void 0===t&&(t=[]),void 0===e&&(e=[]);var a=[],u=[];(this.primaryColumns||[]).forEach((function(n){var d=t.indexOf(n)<0,p=n.getColDef(),h=c(i(p)),f=c(s(p)),g=l(o(p)),_=l(r(p));(void 0!==h?h:void 0!==g?null!==g&&g>=0:d?void 0!==f?f:!!(void 0!==_)&&(null!=_&&_>=0):e.indexOf(n)>=0)&&((d?null!=g||null!=_:null!=g)?a.push(n):u.push(n))}));var d=function(t){var e=o(t.getColDef()),n=r(t.getColDef());return null!=e?e:n};a.sort((function(t,e){var n=d(t),o=d(e);return n===o?0:n<o?-1:1}));var p=[].concat(a);return e.forEach((function(t){u.indexOf(t)>=0&&p.push(t)})),u.forEach((function(t){p.indexOf(t)<0&&p.push(t)})),e.forEach((function(t){p.indexOf(t)<0&&n(t,!1)})),p.forEach((function(t){e.indexOf(t)<0&&n(t,!0)})),p},e.prototype.extractPivotColumns=function(t,e){this.pivotColumns=this.extractColumns(e,this.pivotColumns,(function(e,n){return e.setPivotActive(n,t)}),(function(t){return t.pivotIndex}),(function(t){return t.initialPivotIndex}),(function(t){return t.pivot}),(function(t){return t.initialPivot}))},e.prototype.resetColumnGroupState=function(t){void 0===t&&(t="api");var e=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,(function(t){if(t instanceof dt){var n=t.getColGroupDef(),o={groupId:t.getGroupId(),open:n?n.openByDefault:void 0};e.push(o)}})),this.setColumnGroupState(e,t)},e.prototype.getColumnGroupState=function(){var t=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(e){e instanceof dt&&t.push({groupId:e.getGroupId(),open:e.isExpanded()})})),t},e.prototype.setColumnGroupState=function(t,e){var n=this;void 0===e&&(e="api"),this.columnAnimationService.start();var o=[];t.forEach((function(t){var e=t.groupId,r=t.open,i=n.getProvidedColumnGroup(e);i&&i.isExpanded()!==r&&(n.logger.log("columnGroupOpened("+i.getGroupId()+","+r+")"),i.setExpanded(r),o.push(i))})),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e),o.forEach((function(t){var e={type:zt.EVENT_COLUMN_GROUP_OPENED,columnGroup:t};n.eventService.dispatchEvent(e)})),this.columnAnimationService.finish()},e.prototype.setColumnGroupOpened=function(t,e,n){var o;void 0===n&&(n="api"),o=t instanceof dt?t.getId():t||"",this.setColumnGroupState([{groupId:o,open:e}],n)},e.prototype.getProvidedColumnGroup=function(t){"string"!=typeof t&&console.error("AG Grid: group key must be a string");var e=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(n){n instanceof dt&&n.getId()===t&&(e=n)})),e},e.prototype.calculateColumnsForDisplay=function(){var t=this;return this.pivotMode&&i(this.secondaryColumns)?this.gridColumns.filter((function(e){var n=t.groupAutoColumns&&Et(t.groupAutoColumns,e),o=t.valueColumns&&Et(t.valueColumns,e);return n||o})):this.gridColumns.filter((function(e){return t.groupAutoColumns&&Et(t.groupAutoColumns,e)||e.isVisible()}))},e.prototype.checkColSpanActiveInCols=function(t){var e=!1;return t.forEach((function(t){r(t.getColDef().colSpan)&&(e=!0)})),e},e.prototype.calculateColumnsForGroupDisplay=function(){var t=this;this.groupDisplayColumns=[],this.groupDisplayColumnsMap={};var e=function(e){var n=e.getColDef(),o=n.showRowGroup;n&&r(o)&&(t.groupDisplayColumns.push(e),"string"==typeof o?t.groupDisplayColumnsMap[o]=e:!0===o&&t.getRowGroupColumns().forEach((function(n){t.groupDisplayColumnsMap[n.getId()]=e})))};this.gridColumns.forEach(e),this.groupAutoColumns&&this.groupAutoColumns.forEach(e)},e.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},e.prototype.getGroupDisplayColumnForGroup=function(t){return this.groupDisplayColumnsMap[t]},e.prototype.updateDisplayedColumns=function(t){var e=this.calculateColumnsForDisplay();this.buildDisplayedTrees(e),this.calculateColumnsForGroupDisplay(),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t)},e.prototype.isSecondaryColumnsPresent=function(){return r(this.secondaryColumns)},e.prototype.setSecondaryColumns=function(t,e){var n=this;void 0===e&&(e="api");var o=t&&t.length>0;if(o||!i(this.secondaryColumns)){if(o){this.processSecondaryColumnDefinitions(t);var r=this.columnFactory.createColumnTree(t,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0);this.destroyOldColumns(this.secondaryBalancedTree,r.columnTree),this.secondaryBalancedTree=r.columnTree,this.secondaryHeaderRowCount=r.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach((function(t){return n.secondaryColumnsMap[t.getId()]=t})),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(e)}},e.prototype.processSecondaryColumnDefinitions=function(t){var e=this.gridOptionsService.get("processPivotResultColDef")||this.gridOptionsService.get("processSecondaryColDef"),n=this.gridOptionsService.get("processPivotResultColGroupDef")||this.gridOptionsService.get("processSecondaryColGroupDef");if(e||n){var o=function(t){t.forEach((function(t){if(r(t.children)){var i=t;n&&n(i),o(i.children)}else{e&&e(t)}}))};t&&o(t)}},e.prototype.updateGridColumns=function(){var t,e=this,n=this.gridBalancedTree;if(this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns,this.secondaryColumns&&this.secondaryBalancedTree){var o=this.secondaryColumns.every((function(t){return void 0!==e.gridColumnsMap[t.getColId()]}));this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,o&&(t=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,t=this.lastPrimaryOrder);if(this.createGroupAutoColumnsIfNeeded()&&t){var r=Se(this.groupAutoColumns.map((function(t){return[t,!0]})));t=t.filter((function(t){return!r.has(t)})),t=Me(this.groupAutoColumns,t)}if(this.addAutoGroupToGridColumns(),this.orderGridColsLike(t),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach((function(t){return e.gridColumnsMap[t.getId()]=t})),this.setAutoHeightActive(),!gt(n,this.gridBalancedTree)){var i={type:zt.EVENT_GRID_COLUMNS_CHANGED};this.eventService.dispatchEvent(i)}},e.prototype.setAutoHeightActive=function(){if((this.autoHeightActive=this.gridColumns.filter((function(t){return t.isAutoHeight()})).length>0,this.autoHeightActive)&&(this.autoHeightActiveAtLeastOnce=!0,!(this.gridOptionsService.isRowModelType("clientSide")||this.gridOptionsService.isRowModelType("serverSide")))){T((function(){return console.warn("AG Grid - autoHeight columns only work with Client Side Row Model and Server Side Row Model.")}),"autoHeightActive.wrongRowModel")}},e.prototype.orderGridColsLike=function(t){if(!i(t)){var e=Se(t.map((function(t,e){return[t,e]}))),n=!0;if(this.gridColumns.forEach((function(t){e.has(t)&&(n=!1)})),!n){var o=Se(this.gridColumns.map((function(t){return[t,!0]}))),r=t.filter((function(t){return o.has(t)})),s=Se(r.map((function(t){return[t,!0]}))),a=this.gridColumns.filter((function(t){return!s.has(t)})),l=r.slice();a.forEach((function(t){var e=t.getOriginalParent();if(e){for(var n=[];!n.length&&e;){e.getLeafColumns().forEach((function(t){var e=l.indexOf(t)>=0,o=n.indexOf(t)<0;e&&o&&n.push(t)})),e=e.getOriginalParent()}if(n.length){var o=n.map((function(t){return l.indexOf(t)})),r=Math.max.apply(Math,Me(o));vt(l,t,r+1)}else l.push(t)}else l.push(t)})),this.gridColumns=l}}},e.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},e.prototype.refreshQuickFilterColumns=function(){var t,e;this.groupAutoColumns?e=(null!==(t=this.primaryColumns)&&void 0!==t?t:[]).concat(this.groupAutoColumns):this.primaryColumns&&(e=this.primaryColumns),e=null!=e?e:[],this.columnsForQuickFilter=this.gridOptionsService.is("excludeHiddenColumnsFromQuickFilter")?e.filter((function(t){return t.isVisible()||t.isRowGroupActive()})):e},e.prototype.placeLockedColumns=function(t){var e=[],n=[],o=[];return t.forEach((function(t){var r=t.getColDef().lockPosition;"right"===r?o.push(t):"left"===r||!0===r?e.push(t):n.push(t)})),Me(e,n,o)},e.prototype.addAutoGroupToGridColumns=function(){if(i(this.groupAutoColumns))return this.destroyOldColumns(this.groupAutoColsBalancedTree),void(this.groupAutoColsBalancedTree=null);this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var t=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,t),this.groupAutoColsBalancedTree=t,this.gridBalancedTree=t.concat(this.gridBalancedTree)},e.prototype.clearDisplayedAndViewportColumns=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""},e.prototype.updateGroupsAndDisplayedColumns=function(t){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(t),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths();var e={type:zt.EVENT_DISPLAYED_COLUMNS_CHANGED};this.eventService.dispatchEvent(e)},e.prototype.deriveDisplayedColumns=function(t){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(t),this.displayedAutoHeightCols=this.displayedColumns.filter((function(t){return t.isAutoHeight()}))},e.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},e.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},e.prototype.joinDisplayedColumns=function(){this.gridOptionsService.is("enableRtl")?this.displayedColumns=this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumns=this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},e.prototype.setLeftValues=function(t){this.setLeftValuesOfColumns(t),this.setLeftValuesOfGroups()},e.prototype.setLeftValuesOfColumns=function(t){var e=this;if(this.primaryColumns){var n=this.primaryColumns.slice(0),o=this.gridOptionsService.is("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach((function(r){if(o){var i=e.getWidthOfColsInList(r);r.forEach((function(e){i-=e.getActualWidth(),e.setLeft(i,t)}))}else{var s=0;r.forEach((function(e){e.setLeft(s,t),s+=e.getActualWidth()}))}yt(n,r)})),n.forEach((function(e){e.setLeft(null,t)}))}},e.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach((function(t){t.forEach((function(t){t instanceof de&&t.checkLeft()}))}))},e.prototype.derivedDisplayedColumnsFromDisplayedTree=function(t,e){e.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(t,(function(t){t instanceof ct&&e.push(t)}))},e.prototype.extractViewportColumns=function(){this.suppressColumnVirtualisation?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},e.prototype.getVirtualHeaderGroupRow=function(t,e){var n;switch(t){case"left":n=this.viewportRowLeft[e];break;case"right":n=this.viewportRowRight[e];break;default:n=this.viewportRowCenter[e]}return i(n)&&(n=[]),n},e.prototype.calculateHeaderRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var t={};this.headerViewportColumns.forEach((function(e){return t[e.getId()]=!0}));var e=function(n,o,r){for(var i=!1,s=0;s<n.length;s++){var a=n[s],l=!1;if(a instanceof ct)l=!0===t[a.getId()];else{var c=a.getDisplayedChildren();c&&(l=e(c,o,r+1))}l&&(i=!0,o[r]||(o[r]=[]),o[r].push(a))}return i};e(this.displayedTreeLeft,this.viewportRowLeft,0),e(this.displayedTreeRight,this.viewportRowRight,0),e(this.displayedTreeCentre,this.viewportRowCenter,0)},e.prototype.extractViewport=function(){this.extractViewportColumns();var t=this.viewportColumns.map((function(t){return t.getId()+"-"+(t.getPinned()||"normal")})).join("#"),e=this.viewportColumnsHash!==t;return e&&(this.viewportColumnsHash=t,this.calculateHeaderRows()),e},e.prototype.refreshFlexedColumns=function(t){var e=this;void 0===t&&(t={});var n=t.source?t.source:"flex";if(null!=t.viewportWidth&&(this.flexViewportWidth=t.viewportWidth),!this.flexViewportWidth)return[];var o=-1;t.resizingCols&&t.resizingCols.forEach((function(t){var n=e.displayedColumnsCenter.indexOf(t);o<n&&(o=n)}));var i=function(t){var n=e.displayedColumnsCenter.indexOf(t)>o;return t.getFlex()&&n},s=this.displayedColumnsCenter.filter((function(t){return!i(t)})),a=this.displayedColumnsCenter.filter((function(t){return i(t)})),l=[];if(!a.length)return[];var c,u=[];t:for(;;){var d=a.reduce((function(t,e){return t+e.getFlex()}),0);c=this.flexViewportWidth-this.getWidthOfColsInList(s);for(var p=0;p<a.length;p++){var h=a[p],f=c*h.getFlex()/d,g=0,_=h.getMinWidth(),m=h.getMaxWidth();if(r(_)&&f<_?g=_:r(m)&&f>m&&(g=m),g){h.setActualWidth(g,n),mt(a,h),l.push(h),s.push(h);continue t}u[p]=Math.round(f)}break}var y=c;return a.forEach((function(t,e){t.setActualWidth(Math.min(u[e],y),n),l.push(t),y-=u[e]})),t.skipSetLeft||this.setLeftValues(n),t.updateBodyWidths&&this.updateBodyWidths(),t.fireResizedEvent&&this.dispatchColumnResizedEvent(l,!0,n,a),a},e.prototype.sizeColumnsToFit=function(t,e,n,o){var i,s,a,l,c;void 0===e&&(e="sizeColumnsToFit");var u={};o&&(null===(i=null==o?void 0:o.columnLimits)||void 0===i||i.forEach((function(t){var e=t.key,n=Re(t,["key"]);u["string"==typeof e?e:e.getColId()]=n})));var d=this.getAllDisplayedColumns(),p=t===this.getWidthOfColsInList(d);if(!(t<=0||!d.length||p)){var h=[],f=[];d.forEach((function(t){!0===t.getColDef().suppressSizeToFit?f.push(t):h.push(t)}));var g=h.slice(0),_=!1,m=function(t){mt(h,t),f.push(t)};for(h.forEach((function(t){return t.resetActualWidth(e)}));!_;){_=!0;var y=t-this.getWidthOfColsInList(f);if(y<=0)h.forEach((function(t){var n,r,i=null!==(r=null===(n=null==u?void 0:u[t.getId()])||void 0===n?void 0:n.minWidth)&&void 0!==r?r:null==o?void 0:o.defaultMinWidth;"number"!=typeof i?t.setMinimum(e):t.setActualWidth(i)}));else for(var v=y/this.getWidthOfColsInList(h),C=y,E=h.length-1;E>=0;E--){var b=h[E],S=null==u?void 0:u[b.getId()],w=null!==(s=null==S?void 0:S.minWidth)&&void 0!==s?s:null==o?void 0:o.defaultMinWidth,O=null!==(a=null==S?void 0:S.maxWidth)&&void 0!==a?a:null==o?void 0:o.defaultMaxWidth,P=null!==(l=b.getMinWidth())&&void 0!==l?l:0,T=null!==(c=b.getMaxWidth())&&void 0!==c?c:Number.MAX_VALUE,R="number"==typeof w&&w>P?w:b.getMinWidth(),D="number"==typeof O&&O<T?O:b.getMaxWidth(),x=Math.round(b.getActualWidth()*v);r(R)&&x<R?(x=R,m(b),_=!1):r(D)&&x>D?(x=D,m(b),_=!1):0===E&&(x=C),b.setActualWidth(x,e,!0),C-=x}}g.forEach((function(t){t.fireColumnWidthChangedEvent(e)})),this.setLeftValues(e),this.updateBodyWidths(),n||this.dispatchColumnResizedEvent(g,!0,e)}},e.prototype.buildDisplayedTrees=function(t){var e=[],n=[],o=[];t.forEach((function(t){switch(t.getPinned()){case"left":e.push(t);break;case"right":n.push(t);break;default:o.push(t)}}));var r=new pe;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(e,this.gridBalancedTree,r,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(n,this.gridBalancedTree,r,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(o,this.gridBalancedTree,r,null,this.displayedTreeCentre),this.updateDisplayedMap()},e.prototype.updateDisplayedMap=function(){var t=this;this.displayedColumnsAndGroupsMap={};var e=function(e){t.displayedColumnsAndGroupsMap[e.getUniqueId()]=e};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,e),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,e),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,e)},e.prototype.isDisplayed=function(t){return this.displayedColumnsAndGroupsMap[t.getUniqueId()]===t},e.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var t=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(t,(function(t){t instanceof de&&t.calculateDisplayedColumns()}))},e.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},e.prototype.createGroupAutoColumnsIfNeeded=function(){if(!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;var t=this.gridOptionsService.isGroupUseEntireRow(this.pivotMode),e=this.pivotMode?this.gridOptionsService.is("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn();if((this.rowGroupColumns.length>0||this.usingTreeData)&&!e&&!t){var n=this.groupAutoColumns||[],o=this.autoGroupColService.createAutoGroupColumns(n,this.rowGroupColumns);if(!this.autoColsEqual(o,this.groupAutoColumns)||this.forceRecreateAutoGroups)return this.groupAutoColumns=o,!0}else this.groupAutoColumns=null;return!1},e.prototype.isGroupSuppressAutoColumn=function(){var t=this.gridOptionsService.get("groupDisplayType");if(!!t&&ce("custom",t))return!0;var e,n,o,r=this.gridOptionsService.get("treeDataDisplayType");return!!r&&(e="custom",(o=["auto","custom"]).indexOf(n=r)<0?(console.warn("AG Grid: '"+n+"' is not a valid treeDataDisplayType value - possible values are: '"+o.join("', '")+"'"),!1):n===e)},e.prototype.autoColsEqual=function(t,e){return gt(t,e,(function(t,e){return t.getColId()===e.getColId()}))},e.prototype.getWidthOfColsInList=function(t){return t.reduce((function(t,e){return t+e.getActualWidth()}),0)},e.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},e.prototype.hasFloatingFilters=function(){return!!this.gridColumns&&this.gridColumns.some((function(t){return t.getColDef().floatingFilter}))},e.prototype.getFirstDisplayedColumn=function(){var t=this.gridOptionsService.is("enableRtl"),e=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];t&&e.reverse();for(var n=0;n<e.length;n++){var o=this[e[n]]();if(o.length)return t?ft(o):o[0]}return null},e.prototype.setColumnHeaderHeight=function(t,e){if(t.setAutoHeaderHeight(e)){var n={type:zt.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:t,columns:[t],source:"autosizeColumnHeaderHeight"};this.eventService.dispatchEvent(n)}},e.prototype.getColumnGroupHeaderRowHeight=function(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()},e.prototype.getColumnHeaderRowHeight=function(){var t=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),e=this.getAllDisplayedColumns().filter((function(t){return t.isAutoHeaderHeight()})).map((function(t){return t.getAutoHeaderHeight()||0}));return Math.max.apply(Math,Me([t],e))},e.prototype.getHeaderHeight=function(){var t;return null!==(t=this.gridOptionsService.getNum("headerHeight"))&&void 0!==t?t:this.environment.getFromTheme(25,"headerHeight")},e.prototype.getFloatingFiltersHeight=function(){var t;return null!==(t=this.gridOptionsService.getNum("floatingFiltersHeight"))&&void 0!==t?t:this.getHeaderHeight()},e.prototype.getGroupHeaderHeight=function(){var t;return null!==(t=this.gridOptionsService.getNum("groupHeaderHeight"))&&void 0!==t?t:this.getHeaderHeight()},e.prototype.getPivotHeaderHeight=function(){var t;return null!==(t=this.gridOptionsService.getNum("pivotHeaderHeight"))&&void 0!==t?t:this.getHeaderHeight()},e.prototype.getPivotGroupHeaderHeight=function(){var t;return null!==(t=this.gridOptionsService.getNum("pivotGroupHeaderHeight"))&&void 0!==t?t:this.getGroupHeaderHeight()},Pe([K("expressionService")],e.prototype,"expressionService",void 0),Pe([K("columnFactory")],e.prototype,"columnFactory",void 0),Pe([K("displayedGroupCreator")],e.prototype,"displayedGroupCreator",void 0),Pe([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Pe([K("autoWidthCalculator")],e.prototype,"autoWidthCalculator",void 0),Pe([K("columnUtils")],e.prototype,"columnUtils",void 0),Pe([K("columnAnimationService")],e.prototype,"columnAnimationService",void 0),Pe([K("autoGroupColService")],e.prototype,"autoGroupColService",void 0),Pe([Y("aggFuncService")],e.prototype,"aggFuncService",void 0),Pe([Y("valueCache")],e.prototype,"valueCache",void 0),Pe([Y("animationFrameService")],e.prototype,"animationFrameService",void 0),Pe([K("sortController")],e.prototype,"sortController",void 0),Pe([K("columnDefFactory")],e.prototype,"columnDefFactory",void 0),Pe([H],e.prototype,"init",null),Pe([$],e.prototype,"destroyColumns",null),Pe([Te(0,q("loggerFactory"))],e.prototype,"setBeans",null),e=Pe([z("columnModel")],e)}(Ut),Le=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ie=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ne=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Le(e,t),e.prototype.calculateColMinWidth=function(t){return null!=t.minWidth?t.minWidth:this.environment.getMinColWidth()},e.prototype.calculateColMaxWidth=function(t){return null!=t.maxWidth?t.maxWidth:Number.MAX_SAFE_INTEGER},e.prototype.calculateColInitialWidth=function(t){var e,n=this.calculateColMinWidth(t),o=this.calculateColMaxWidth(t),r=l(t.width),i=l(t.initialWidth);return e=null!=r?r:null!=i?i:200,Math.max(Math.min(e,o),n)},e.prototype.getOriginalPathForColumn=function(t,e){var n=[],o=!1,r=function(e,i){for(var s=0;s<e.length;s++){if(o)return;var a=e[s];if(a instanceof dt)r(a.getChildren(),i+1),n[i]=a;else a===t&&(o=!0)}};return r(e,0),o?n:null},e.prototype.depthFirstOriginalTreeSearch=function(t,e,n){var o=this;e&&e.forEach((function(e){e instanceof dt&&o.depthFirstOriginalTreeSearch(e,e.getChildren(),n),n(e,t)}))},e.prototype.depthFirstAllColumnTreeSearch=function(t,e){var n=this;t&&t.forEach((function(t){t instanceof de&&n.depthFirstAllColumnTreeSearch(t.getChildren(),e),e(t)}))},e.prototype.depthFirstDisplayedColumnTreeSearch=function(t,e){var n=this;t&&t.forEach((function(t){t instanceof de&&n.depthFirstDisplayedColumnTreeSearch(t.getDisplayedChildren(),e),e(t)}))},e=Ie([z("columnUtils")],e)}(Ut),ke=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Fe=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ge=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ke(e,t),e.prototype.createDisplayedGroups=function(t,e,n,o,r){var i,s,a=this,l=[],c=this.mapOldGroupsById(r);return t.forEach((function(t){for(var r=a.getOriginalPathForColumn(e,t),u=[],d=!s,p=0;p<r.length;p++)if(d||r[p]!==s[p]){var h=a.createColumnGroup(r[p],n,c,o);u[p]=h,0==p?l.push(h):u[p-1].addChild(h)}else u[p]=i[p];0===u.length?l.push(t):ft(u).addChild(t);i=u,s=r})),this.setupParentsIntoColumns(l,null),l},e.prototype.createColumnGroup=function(t,e,n,o){var i=t.getGroupId(),s=e.getInstanceIdForKey(i),a=n[de.createUniqueId(i,s)];return a&&a.getProvidedColumnGroup()!==t&&(a=null),r(a)?a.reset():(a=new de(t,i,s,o),this.context.createBean(a)),a},e.prototype.mapOldGroupsById=function(t){var e={},n=function(t){t.forEach((function(t){if(t instanceof de){var o=t;e[t.getUniqueId()]=o,n(o.getChildren())}}))};return t&&n(t),e},e.prototype.setupParentsIntoColumns=function(t,e){var n=this;t.forEach((function(t){if(t.setParent(e),t instanceof de){var o=t;n.setupParentsIntoColumns(o.getChildren(),o)}}))},e.prototype.getOriginalPathForColumn=function(t,e){var n=[],o=!1,r=function(t,i){for(var s=0;s<t.length;s++){if(o)return;var a=t[s];a instanceof dt?(r(a.getChildren(),i+1),n[i]=a):a===e&&(o=!0)}};return r(t,0),o?n:(console.warn("AG Grid: could not get path"),null)},e=Fe([z("displayedGroupCreator")],e)}(Ut),Be=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ue=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},je=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.componentsMappedByName={},e}return Be(e,t),e.prototype.setupComponents=function(t){var e=this;t&&t.forEach((function(t){return e.addComponent(t)}))},e.prototype.addComponent=function(t){var e=t.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[e]=t.componentClass},e.prototype.getComponentClass=function(t){return this.componentsMappedByName[t]},e=Ue([z("agStackComponentsRegistry")],e)}(Ut);function Ve(t,e,n){null==n||""==n?He(t,e):We(t,e,n)}function We(t,e,n){t.setAttribute($e(e),n.toString())}function He(t,e){t.removeAttribute($e(e))}function $e(t){return"aria-"+t}function ze(t,e){e?t.setAttribute("role",e):t.removeAttribute("role")}function Ke(t){return"asc"===t?"ascending":"desc"===t?"descending":"mixed"===t?"other":"none"}function Ye(t){return parseInt(t.getAttribute("aria-level"),10)}function Ze(t){return parseInt(t.getAttribute("aria-posinset"),10)}function qe(t,e){Ve(t,"label",e)}function Xe(t,e){Ve(t,"labelledby",e)}function Je(t,e){Ve(t,"description",e)}function Qe(t,e){Ve(t,"describedby",e)}function tn(t,e){Ve(t,"level",e)}function en(t,e){Ve(t,"disabled",e)}function nn(t,e){Ve(t,"hidden",e)}function on(t,e){We(t,"expanded",e)}function rn(t){He(t,"expanded")}function sn(t,e){We(t,"setsize",e)}function an(t,e){We(t,"posinset",e)}function ln(t,e){We(t,"multiselectable",e)}function cn(t,e){We(t,"rowcount",e)}function un(t,e){We(t,"rowindex",e)}function dn(t,e){We(t,"colcount",e)}function pn(t,e){We(t,"colindex",e)}function hn(t,e){We(t,"colspan",e)}function fn(t,e){We(t,"sort",e)}function gn(t){He(t,"sort")}function _n(t,e){Ve(t,"selected",e)}function mn(t,e){We(t,"checked",void 0===e?"mixed":e)}var yn,vn,Cn,En,bn,Sn,wn,On,Pn=Object.freeze({__proto__:null,setAriaRole:ze,getAriaSortState:Ke,getAriaLevel:Ye,getAriaPosInSet:Ze,getAriaDescribedBy:function(t){return t.getAttribute("aria-describedby")||""},setAriaLabel:qe,setAriaLabelledBy:Xe,setAriaDescription:Je,setAriaDescribedBy:Qe,setAriaLive:function(t,e){Ve(t,"live",e)},setAriaLevel:tn,setAriaDisabled:en,setAriaHidden:nn,setAriaExpanded:on,removeAriaExpanded:rn,setAriaSetSize:sn,setAriaPosInSet:an,setAriaMultiSelectable:ln,setAriaRowCount:cn,setAriaRowIndex:un,setAriaColCount:dn,setAriaColIndex:pn,setAriaColSpan:hn,setAriaSort:fn,removeAriaSort:gn,setAriaSelected:_n,setAriaChecked:mn});function Tn(){return void 0===yn&&(yn=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),yn}function Rn(){if(void 0===vn)if(Tn()){var t=navigator.userAgent.match(/version\/(\d+)/i);t&&(vn=null!=t[1]?parseFloat(t[1]):0)}else vn=0;return vn}function Dn(){if(void 0===Cn){var t=window;Cn=!!t.chrome&&(!!t.chrome.webstore||!!t.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return Cn}function xn(){return void 0===En&&(En=/(firefox)/i.test(navigator.userAgent)),En}function Mn(){return void 0===bn&&(bn=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),bn}function An(){return void 0===Sn&&(Sn=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),Sn}function Ln(){return!Tn()||Rn()>=15}function In(t){if(!t)return null;var e=t.tabIndex,n=t.getAttribute("tabIndex");return-1!==e||null!==n&&(""!==n||xn())?e.toString():null}function Nn(){if(!document.body)return-1;var t=1e6,e=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){var o=2*t;if(n.style.height=o+"px",o>e||n.clientHeight!==o)break;t=o}return document.body.removeChild(n),t}function kn(){var t,e,n;return null!==(e=null===(t=document.body)||void 0===t?void 0:t.clientWidth)&&void 0!==e?e:window.innerHeight||(null===(n=document.documentElement)||void 0===n?void 0:n.clientWidth)||-1}function Fn(){var t,e,n;return null!==(e=null===(t=document.body)||void 0===t?void 0:t.clientHeight)&&void 0!==e?e:window.innerHeight||(null===(n=document.documentElement)||void 0===n?void 0:n.clientHeight)||-1}function Gn(){return null==On&&Bn(),On}function Bn(){var t=document.body,e=document.createElement("div");e.style.width=e.style.height="100px",e.style.opacity="0",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",e.style.position="absolute",t.appendChild(e);var n=e.offsetWidth-e.clientWidth;0===n&&0===e.clientWidth&&(n=null),e.parentNode&&e.parentNode.removeChild(e),null!=n&&(On=n,wn=0===n)}function Un(){return null==wn&&Bn(),wn}var jn=Object.freeze({__proto__:null,isBrowserSafari:Tn,getSafariVersion:Rn,isBrowserChrome:Dn,isBrowserFirefox:xn,isMacOsUserAgent:Mn,isIOSUserAgent:An,browserSupportsPreventScroll:Ln,getTabIndex:In,getMaxDivHeight:Nn,getBodyWidth:kn,getBodyHeight:Fn,getScrollbarWidth:Gn,isInvisibleScrollbar:Un});function Vn(t,e){return t.toString().padStart(e,"0")}function Wn(t,e){for(var n=[],o=t;o<=e;o++)n.push(o);return n}function Hn(t,e,n){return"number"!=typeof t?"":t.toString().replace(".",n).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+e)}var $n=Object.freeze({__proto__:null,padStartWidthZeros:Vn,createArrayOfNumbers:Wn,cleanNumber:function(t){return"string"==typeof t&&(t=parseInt(t,10)),"number"==typeof t?Math.floor(t):null},decToHex:function(t,e){for(var n="",o=0;o<e;o++)n+=String.fromCharCode(255&t),t>>>=8;return n},formatNumberTwoDecimalPlacesAndCommas:function(t,e,n){return"number"!=typeof t?"":Hn(Math.round(100*t)/100,e,n)},formatNumberCommas:Hn,sum:function(t){return null==t?null:t.reduce((function(t,e){return t+e}),0)},zeroOrGreater:function(t,e){return t>=0?t:e},oneOrGreater:function(t,e){var n=parseInt(t,10);return!isNaN(n)&&isFinite(n)&&n>0?n:e}}),zn=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s};function Kn(t,e,n){if(void 0===e&&(e=!0),void 0===n&&(n="-"),!t)return null;var o=[t.getFullYear(),t.getMonth()+1,t.getDate()].map((function(t){return Vn(t,2)})).join(n);return e&&(o+=" "+[t.getHours(),t.getMinutes(),t.getSeconds()].map((function(t){return Vn(t,2)})).join(":")),o}var Yn=function(t){if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function Zn(t,e){void 0===e&&(e="YYYY-MM-DD");var n=Vn(t.getFullYear(),4),o=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i={YYYY:function(){return n.slice(n.length-4,n.length)},YY:function(){return n.slice(n.length-2,n.length)},Y:function(){return""+t.getFullYear()},MMMM:function(){return o[t.getMonth()]},MMM:function(){return o[t.getMonth()].slice(0,3)},MM:function(){return Vn(t.getMonth()+1,2)},Mo:function(){return""+(t.getMonth()+1)+Yn(t.getMonth()+1)},M:function(){return""+(t.getMonth()+1)},Do:function(){return""+t.getDate()+Yn(t.getDate())},DD:function(){return Vn(t.getDate(),2)},D:function(){return""+t.getDate()},dddd:function(){return r[t.getDay()]},ddd:function(){return r[t.getDay()].slice(0,3)},dd:function(){return r[t.getDay()].slice(0,2)},do:function(){return""+t.getDay()+Yn(t.getDay())},d:function(){return""+t.getDay()}},s=new RegExp(Object.keys(i).join("|"),"g");return e.replace(s,(function(t){return t in i?i[t]():t}))}function qn(t){if(!t)return null;var e=zn(t.split(" "),2),n=e[0],o=e[1];if(!n)return null;var r=n.split("-").map((function(t){return parseInt(t,10)}));if(3!==r.filter((function(t){return!isNaN(t)})).length)return null;var i=zn(r,3),s=i[0],a=i[1],l=i[2],c=new Date(s,a-1,l);if(c.getFullYear()!==s||c.getMonth()!==a-1||c.getDate()!==l)return null;if(!o||"00:00:00"===o)return c;var u=zn(o.split(":").map((function(t){return parseInt(t,10)})),3),d=u[0],p=u[1],h=u[2];return d>=0&&d<24&&c.setHours(d),p>=0&&p<60&&c.setMinutes(p),h>=0&&h<60&&c.setSeconds(h),c}var Xn,Jn=Object.freeze({__proto__:null,serialiseDate:Kn,dateToFormattedString:Zn,parseDateTimeFromString:qn}),Qn=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},to=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s};var eo="[tabindex], input, select, button, textarea, [href]",no=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled, .ag-disabled *";function oo(t){var e=Element.prototype.matches||Element.prototype.msMatchesSelector,n=e.call(t,"input, select, button, textarea"),o=e.call(t,no),r=vo(t);return n&&!o&&r}function ro(t,e,n){void 0===n&&(n={});var o=n.skipAriaHidden;t.classList.toggle("ag-hidden",!e),o||nn(t,!e)}function io(t,e,n){void 0===n&&(n={});var o=n.skipAriaHidden;t.classList.toggle("ag-invisible",!e),o||nn(t,!e)}function so(t,e){var n="disabled",o=e?function(t){return t.setAttribute(n,"")}:function(t){return t.removeAttribute(n)};o(t),Fo(t.querySelectorAll("input"),(function(t){return o(t)}))}function ao(t,e,n){for(var o=0;t;){if(t.classList.contains(e))return!0;if(t=t.parentElement,"number"==typeof n){if(++o>n)break}else if(t===n)break}return!1}function lo(t){var e=window.getComputedStyle(t),n=e.height,o=e.width,r=e.borderTopWidth,i=e.borderRightWidth,s=e.borderBottomWidth,a=e.borderLeftWidth,l=e.paddingTop,c=e.paddingRight,u=e.paddingBottom,d=e.paddingLeft,p=e.marginTop,h=e.marginRight,f=e.marginBottom,g=e.marginLeft,_=e.boxSizing;return{height:parseFloat(n),width:parseFloat(o),borderTopWidth:parseFloat(r),borderRightWidth:parseFloat(i),borderBottomWidth:parseFloat(s),borderLeftWidth:parseFloat(a),paddingTop:parseFloat(l),paddingRight:parseFloat(c),paddingBottom:parseFloat(u),paddingLeft:parseFloat(d),marginTop:parseFloat(p),marginRight:parseFloat(h),marginBottom:parseFloat(f),marginLeft:parseFloat(g),boxSizing:_}}function co(t){var e=lo(t);return"border-box"===e.boxSizing?e.height-e.paddingTop-e.paddingBottom:e.height}function uo(t){var e=lo(t);return"border-box"===e.boxSizing?e.width-e.paddingLeft-e.paddingRight:e.width}function po(t){var e=lo(t),n=e.marginBottom+e.marginTop;return Math.ceil(t.offsetHeight+n)}function ho(t){var e=lo(t),n=e.marginLeft+e.marginRight;return Math.ceil(t.offsetWidth+n)}function fo(){if("boolean"==typeof Xn)return Xn;var t=document.createElement("div");return t.style.direction="rtl",t.style.width="1px",t.style.height="1px",t.style.position="fixed",t.style.top="0px",t.style.overflow="hidden",t.dir="rtl",t.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(t),t.scrollLeft=1,Xn=0===Math.floor(t.scrollLeft),document.body.removeChild(t),Xn}function go(t,e){var n=t.scrollLeft;return e&&(n=Math.abs(n),Dn()&&!fo()&&(n=t.scrollWidth-t.clientWidth-n)),n}function _o(t,e,n){n&&(fo()?e*=-1:(Tn()||Dn())&&(e=t.scrollWidth-t.clientWidth-e)),t.scrollLeft=e}function mo(t){for(;t&&t.firstChild;)t.removeChild(t.firstChild)}function yo(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function vo(t){return null!==t.offsetParent}function Co(t){var e=document.createElement("div");return e.innerHTML=(t||"").trim(),e.firstChild}function Eo(t){return t&&t.clientHeight?t.clientHeight:0}function bo(t){return t&&t.clientWidth?t.clientWidth:0}function So(t,e,n){if(!n||n.nextSibling!==e){var o=document.activeElement,r=e.contains(o);n?n.nextSibling?t.insertBefore(e,n.nextSibling):t.appendChild(e):t.firstChild&&t.firstChild!==e&&t.insertAdjacentElement("afterbegin",e),r&&o&&Ln()&&o.focus({preventScroll:!0})}}function wo(t,e){for(var n=0;n<e.length;n++){var o=e[n],r=t.children[n];r!==o&&t.insertBefore(o,r)}}function Oo(t,e,n){n?n.insertAdjacentElement("afterend",e):t.firstChild?t.insertAdjacentElement("afterbegin",e):t.appendChild(e)}function Po(t,e){var n,o;if(e)try{for(var r=Qn(Object.entries(e)),i=r.next();!i.done;i=r.next()){var s=to(i.value,2),a=s[0],l=s[1];if(a&&a.length&&null!=l){var c=a.replace(/[A-Z]/g,(function(t){return"-"+t.toLocaleLowerCase()})),u=l.toString(),d=u.replace(/\s*!important/g,"").length!=u.length?"important":void 0;t.style.setProperty(c,l,d)}}}catch(t){n={error:t}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}}function To(t){return t.clientWidth<t.scrollWidth}function Ro(t){return t.clientHeight<t.scrollHeight}function Do(t,e){"flex"===e?(t.style.removeProperty("width"),t.style.removeProperty("minWidth"),t.style.removeProperty("maxWidth"),t.style.flex="1 1 auto"):xo(t,e)}function xo(t,e){e=Ao(e),t.style.width=e.toString(),t.style.maxWidth=e.toString(),t.style.minWidth=e.toString()}function Mo(t,e){e=Ao(e),t.style.height=e.toString(),t.style.maxHeight=e.toString(),t.style.minHeight=e.toString()}function Ao(t){return"number"==typeof t?t+"px":t}function Lo(t){return t instanceof Node||t instanceof HTMLElement}function Io(t){if(null==t)return[];var e=[];return Fo(t,(function(t){return e.push(t)})),e}function No(t,e){if(t)for(var n=0;n<t.length;n++){var o=t[n];e(o.name,o.value)}}function ko(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n.toString())}function Fo(t,e){if(null!=t)for(var n=0;n<t.length;n++)e(t[n])}var Go=Object.freeze({__proto__:null,radioCssClass:function(t,e,n){for(var o=t.parentElement,r=o&&o.firstChild;r;)e&&r.classList.toggle(e,r===t),n&&r.classList.toggle(n,r!==t),r=r.nextSibling},FOCUSABLE_SELECTOR:eo,FOCUSABLE_EXCLUDE:no,isFocusableFormField:oo,setDisplayed:ro,setVisible:io,setDisabled:so,isElementChildOfClass:ao,getElementSize:lo,getInnerHeight:co,getInnerWidth:uo,getAbsoluteHeight:po,getAbsoluteWidth:ho,isRtlNegativeScroll:fo,getScrollLeft:go,setScrollLeft:_o,clearElement:mo,removeElement:function(t,e){yo(t.querySelector(e))},removeFromParent:yo,isVisible:vo,loadTemplate:Co,appendHtml:function(t,e){t.lastChild?t.insertAdjacentHTML("afterbegin",e):t.innerHTML=e},getElementAttribute:function(t,e){return t.attributes&&t.attributes[e]?t.attributes[e].value:null},offsetHeight:Eo,offsetWidth:bo,ensureDomOrder:So,setDomChildOrder:wo,insertWithDomOrder:Oo,prependDC:function(t,e){r(t.firstChild)?t.insertBefore(e,t.firstChild):t.appendChild(e)},addStylesToElement:Po,isHorizontalScrollShowing:To,isVerticalScrollShowing:Ro,setElementWidth:Do,setFixedWidth:xo,setElementHeight:function(t,e){"flex"===e?(t.style.removeProperty("height"),t.style.removeProperty("minHeight"),t.style.removeProperty("maxHeight"),t.style.flex="1 1 auto"):Mo(t,e)},setFixedHeight:Mo,formatSize:Ao,isNodeOrElement:Lo,copyNodeList:Io,iterateNamedNodeMap:No,addOrRemoveAttribute:ko,nodeListForEach:Fo}),Bo={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"};function Uo(t,e,n){var o=jo(t,e,n);if(o){var r=o.className;if("string"==typeof r&&r.indexOf("ag-icon")>-1||"object"==typeof r&&r["ag-icon"])return o}var i=document.createElement("span");return i.appendChild(o),i}function jo(t,e,n,o){var r=null,i=n&&n.getColDef().icons;if(i&&(r=i[t]),e&&!r){var s=e.get("icons");s&&(r=s[t])}if(!r){var a=document.createElement("span"),l=Bo[t];return l||(o?l=t:(console.warn("AG Grid: Did not find icon "+t),l="")),a.setAttribute("class","ag-icon ag-icon-"+l),a.setAttribute("unselectable","on"),ze(a,"presentation"),a}var c=void 0;if("function"==typeof r)c=r();else{if("string"!=typeof r)throw new Error("icon from grid options needs to be a string or a function");c=r}return"string"==typeof c?Co(c):Lo(c)?c:void console.warn("AG Grid: iconRenderer should return back a string or a dom object")}var Vo=Object.freeze({__proto__:null,iconNameClassMap:Bo,createIcon:Uo,createIconNoSpan:jo}),Wo=function(){function t(){}return t.BACKSPACE="Backspace",t.TAB="Tab",t.ENTER="Enter",t.ESCAPE="Escape",t.SPACE=" ",t.LEFT="ArrowLeft",t.UP="ArrowUp",t.RIGHT="ArrowRight",t.DOWN="ArrowDown",t.DELETE="Delete",t.F2="F2",t.PAGE_UP="PageUp",t.PAGE_DOWN="PageDown",t.PAGE_HOME="Home",t.PAGE_END="End",t.A="KeyA",t.C="KeyC",t.D="KeyD",t.V="KeyV",t.X="KeyX",t.Y="KeyY",t.Z="KeyZ",t}();function Ho(t){return!(t.altKey||t.ctrlKey||t.metaKey)&&1===t.key.length}function $o(t,e,n,o,r){var i=o?o.getColDef().suppressKeyboardEvent:void 0;if(!i)return!1;var s={event:e,editing:r,column:o,api:t.api,node:n,data:n.data,colDef:o.getColDef(),context:t.context,columnApi:t.columnApi};if(i&&i(s))return!0;return!1}function zo(t,e,n,o){var i=o.getDefinition(),s=i&&i.suppressHeaderKeyboardEvent;return!!r(s)&&!!s({api:t.api,columnApi:t.columnApi,context:t.context,colDef:i,column:o,headerRowIndex:n,event:e})}function Ko(t){var e;switch(t.keyCode){case 65:e=Wo.A;break;case 67:e=Wo.C;break;case 86:e=Wo.V;break;case 68:e=Wo.D;break;case 90:e=Wo.Z;break;case 89:e=Wo.Y;break;default:e=t.code}return e}function Yo(t,e){return void 0===e&&(e=!1),t===Wo.DELETE||!e&&t===Wo.BACKSPACE&&Mn()}var Zo=Object.freeze({__proto__:null,isEventFromPrintableCharacter:Ho,isUserSuppressingKeyboardEvent:$o,isUserSuppressingHeaderKeyboardEvent:zo,normaliseQwertyAzerty:Ko,isDeleteKey:Yo});function qo(t,e,n){if(0===n)return!1;var o=Math.abs(t.clientX-e.clientX),r=Math.abs(t.clientY-e.clientY);return Math.max(o,r)<=n}var Xo=Object.freeze({__proto__:null,areEventsNear:qo});var Jo=Object.freeze({__proto__:null,sortRowNodesByOrder:function(t,e){if(!t)return!1;for(var n=function(t,n){var o=e[t.id],r=e[n.id],i=void 0!==o,s=void 0!==r;return i&&s?o-r:!i&&!s?t.__objectId-n.__objectId:i?1:-1},o=!1,r=0;r<t.length-1;r++)if(n(t[r],t[r+1])>0){o=!0;break}return!!o&&(t.sort(n),!0)},traverseNodesWithKey:function(t,e){var n=[];!function t(o){if(!o)return;o.forEach((function(o){if(o.group||o.hasChildren()){n.push(o.key);var r=n.join("|");e(o,r),t(o.childrenAfterGroup),n.pop()}}))}(t)}});function Qo(t){var e=new Set;return t.forEach((function(t){return e.add(t)})),e}var tr,er=Object.freeze({__proto__:null,convertToSet:Qo}),nr=function(){return nr=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},nr.apply(this,arguments)},or=nr(nr(nr(nr(nr(nr(nr(nr(nr(nr(nr(nr(nr(nr(nr(nr(nr(nr({},Pn),wt),jn),Jn),Go),Gt),B),oe),d),Vo),Zo),we),Xo),$n),O),Jo),er),be),rr=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=1),this.nextValue=t,this.step=e}return t.prototype.next=function(){var t=this.nextValue;return this.nextValue+=this.step,t},t.prototype.peek=function(){return this.nextValue},t.prototype.skip=function(t){this.nextValue+=t},t}();!function(t){t[t.IN_PROGRESS=0]="IN_PROGRESS",t[t.RESOLVED=1]="RESOLVED"}(tr||(tr={}));var ir,sr=function(){function t(t){var e=this;this.status=tr.IN_PROGRESS,this.resolution=null,this.waiters=[],t((function(t){return e.onDone(t)}),(function(t){return e.onReject(t)}))}return t.all=function(e){return new t((function(t){var n=e.length,o=new Array(n);e.forEach((function(e,r){e.then((function(e){o[r]=e,0===--n&&t(o)}))}))}))},t.resolve=function(e){return void 0===e&&(e=null),new t((function(t){return t(e)}))},t.prototype.then=function(e){var n=this;return new t((function(t){n.status===tr.RESOLVED?t(e(n.resolution)):n.waiters.push((function(n){return t(e(n))}))}))},t.prototype.resolveNow=function(t,e){return this.status===tr.RESOLVED?e(this.resolution):t},t.prototype.onDone=function(t){this.status=tr.RESOLVED,this.resolution=t,this.waiters.forEach((function(e){return e(t)}))},t.prototype.onReject=function(t){console.warn("TBI")},t}(),ar=(function(){function t(){this.timestamp=(new Date).getTime()}t.prototype.print=function(t){var e=(new Date).getTime()-this.timestamp;console.info(t+" = "+e),this.timestamp=(new Date).getTime()}}(),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),lr=function(){return lr=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},lr.apply(this,arguments)},cr=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.NOTHING=0]="NOTHING",t[t.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",t[t.SHOWING=2]="SHOWING"}(ir||(ir={}));var ur=function(t){function e(e){var n=t.call(this)||this;return n.DEFAULT_SHOW_TOOLTIP_DELAY=2e3,n.DEFAULT_HIDE_TOOLTIP_DELAY=1e4,n.SHOW_QUICK_TOOLTIP_DIFF=1e3,n.FADE_OUT_TOOLTIP_TIMEOUT=1e3,n.state=ir.NOTHING,n.tooltipInstanceCount=0,n.tooltipMouseTrack=!1,n.parentComp=e,n}return ar(e,t),e.prototype.postConstruct=function(){this.tooltipShowDelay=this.getTooltipDelay("show")||this.DEFAULT_SHOW_TOOLTIP_DELAY,this.tooltipHideDelay=this.getTooltipDelay("hide")||this.DEFAULT_HIDE_TOOLTIP_DELAY,this.tooltipMouseTrack=this.gridOptionsService.is("tooltipMouseTrack");var t=this.parentComp.getGui();this.addManagedListener(t,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(t,"mouseleave",this.onMouseLeave.bind(this)),this.addManagedListener(t,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(t,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(t,"keydown",this.onKeyDown.bind(this))},e.prototype.destroy=function(){this.setToDoNothing(),t.prototype.destroy.call(this)},e.prototype.onMouseEnter=function(t){if(!An()&&this.state==ir.NOTHING){var e=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),e),this.lastMouseEvent=t,this.state=ir.WAITING_TO_SHOW}},e.prototype.onMouseLeave=function(){this.setToDoNothing()},e.prototype.onKeyDown=function(){this.setToDoNothing()},e.prototype.setToDoNothing=function(){this.state===ir.SHOWING&&this.hideTooltip(),this.clearTimeouts(),this.state=ir.NOTHING},e.prototype.onMouseMove=function(t){this.lastMouseEvent=t,this.tooltipMouseTrack&&this.state===ir.SHOWING&&this.tooltipComp&&this.positionTooltipUnderLastMouseEvent()},e.prototype.onMouseDown=function(){this.setToDoNothing()},e.prototype.getTooltipDelay=function(t){var e=this.gridOptionsService.getNum("tooltipShowDelay"),n=this.gridOptionsService.getNum("tooltipHideDelay"),o="show"===t?e:n,i=ve(t);return r(o)?(o<0&&T((function(){return console.warn("AG Grid: tooltip"+i+"Delay should not be lower than 0")}),"tooltip"+i+"DelayWarn"),Math.max(200,o)):null},e.prototype.hideTooltip=function(){this.tooltipComp&&(this.destroyTooltipComp(),e.lastTooltipHideTime=(new Date).getTime()),this.state=ir.NOTHING},e.prototype.destroyTooltipComp=function(){var t=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var e=this.tooltipPopupDestroyFunc,n=this.tooltipComp;window.setTimeout((function(){e(),t.getContext().destroyBean(n)}),this.FADE_OUT_TOOLTIP_TIMEOUT),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},e.prototype.isLastTooltipHiddenRecently=function(){return(new Date).getTime()-e.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF},e.prototype.showTooltip=function(){var t=lr({},this.parentComp.getTooltipParams());if(r(t.value)){this.state=ir.SHOWING,this.tooltipInstanceCount++;var e=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(t).newAgStackInstance().then(e)}else this.setToDoNothing()},e.prototype.newTooltipComponentCallback=function(t,e){if(this.state!==ir.SHOWING||this.tooltipInstanceCount!==t)this.getContext().destroyBean(e);else{var n=e.getGui();this.tooltipComp=e,n.classList.contains("ag-tooltip")||n.classList.add("ag-tooltip-custom");var o=this.localeService.getLocaleTextFunc(),r=this.popupService.addPopup({eChild:n,ariaLabel:o("ariaLabelTooltip","Tooltip")});r&&(this.tooltipPopupDestroyFunc=r.hideFunc),this.positionTooltipUnderLastMouseEvent(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.tooltipHideDelay)}},e.prototype.positionTooltipUnderLastMouseEvent=function(){this.popupService.positionPopupUnderMouseEvent({type:"tooltip",mouseEvent:this.lastMouseEvent,ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack})},e.prototype.clearTimeouts=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0),this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},cr([K("popupService")],e.prototype,"popupService",void 0),cr([K("userComponentFactory")],e.prototype,"userComponentFactory",void 0),cr([H],e.prototype,"postConstruct",null),e}(Ut),dr=function(){function t(t){this.cssClassStates={},this.getGui=t}return t.prototype.addCssClass=function(t){var e=this,n=(t||"").split(" ");if(n.length>1)n.forEach((function(t){return e.addCssClass(t)}));else if(!0!==this.cssClassStates[t]&&t.length){var o=this.getGui();o&&o.classList.add(t),this.cssClassStates[t]=!0}},t.prototype.removeCssClass=function(t){var e=this,n=(t||"").split(" ");if(n.length>1)n.forEach((function(t){return e.removeCssClass(t)}));else if(!1!==this.cssClassStates[t]&&t.length){var o=this.getGui();o&&o.classList.remove(t),this.cssClassStates[t]=!1}},t.prototype.containsCssClass=function(t){var e=this.getGui();return!!e&&e.classList.contains(t)},t.prototype.addOrRemoveCssClass=function(t,e){var n=this;if(t){if(t.indexOf(" ")>=0){var o=(t||"").split(" ");if(o.length>1)return void o.forEach((function(t){return n.addOrRemoveCssClass(t,e)}))}if(this.cssClassStates[t]!==e&&t.length){var r=this.getGui();r&&r.classList.toggle(t,e),this.cssClassStates[t]=e}}},t}(),pr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),hr=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},fr=new rr,gr=function(t){function e(e){var n=t.call(this)||this;return n.displayed=!0,n.visible=!0,n.compId=fr.next(),n.cssClassManager=new dr((function(){return n.eGui})),e&&n.setTemplate(e),n}return pr(e,t),e.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsService.is("enableBrowserTooltips")},e.prototype.getCompId=function(){return this.compId},e.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},e.prototype.setTooltip=function(t){var e=this;this.tooltipText!=t&&(this.tooltipText&&(e.usingBrowserTooltips?e.getGui().removeAttribute("title"):e.tooltipFeature=e.destroyBean(e.tooltipFeature)),null!=t&&(this.tooltipText=t,this.tooltipText&&(e.usingBrowserTooltips?e.getGui().setAttribute("title",e.tooltipText):e.tooltipFeature=e.createBean(new ur(e)))))},e.prototype.createChildComponentsFromTags=function(t,e){var n=this;Io(t.childNodes).forEach((function(o){if(o instanceof HTMLElement){var r=n.createComponentFromElement(o,(function(t){t.getGui()&&n.copyAttributesFromNode(o,t.getGui())}),e);if(r){if(r.addItems&&o.children.length){n.createChildComponentsFromTags(o,e);var i=Array.prototype.slice.call(o.children);r.addItems(i)}n.swapComponentForNode(r,t,o)}else o.childNodes&&n.createChildComponentsFromTags(o,e)}}))},e.prototype.createComponentFromElement=function(t,n,o){var r=t.nodeName,i=o?o[t.getAttribute("ref")]:void 0,s=this.agStackComponentsRegistry.getComponentClass(r);if(s){e.elementGettingCreated=t;var a=new s(i);return a.setParentComponent(this),this.createBean(a,null,n),a}return null},e.prototype.copyAttributesFromNode=function(t,e){No(t.attributes,(function(t,n){return e.setAttribute(t,n)}))},e.prototype.swapComponentForNode=function(t,e,n){var o=t.getGui();e.replaceChild(o,n),e.insertBefore(document.createComment(n.nodeName),o),this.addDestroyFunc(this.destroyBean.bind(this,t)),this.swapInComponentForQuerySelectors(t,n)},e.prototype.swapInComponentForQuerySelectors=function(t,e){var n=this;this.iterateOverQuerySelectors((function(o){n[o.attributeName]===e&&(n[o.attributeName]=t)}))},e.prototype.iterateOverQuerySelectors=function(t){for(var e=Object.getPrototypeOf(this);null!=e;){var n=e.__agComponentMetaData,o=R(e.constructor);n&&n[o]&&n[o].querySelectors&&n[o].querySelectors.forEach((function(e){return t(e)})),e=Object.getPrototypeOf(e)}},e.prototype.setTemplate=function(t,e){var n=Co(t);this.setTemplateFromElement(n,e)},e.prototype.setTemplateFromElement=function(t,e){this.eGui=t,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),e)},e.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},e.prototype.wireQuerySelectors=function(){var t=this;if(this.eGui){var e=this;this.iterateOverQuerySelectors((function(n){var o=function(t){return e[n.attributeName]=t};if(n.refSelector&&t.eGui.getAttribute("ref")===n.refSelector)o(t.eGui);else{var r=t.eGui.querySelector(n.querySelector);r&&o(r.__agComponent||r)}}))}},e.prototype.getGui=function(){return this.eGui},e.prototype.getFocusableElement=function(){return this.eGui},e.prototype.setParentComponent=function(t){this.parentComponent=t},e.prototype.getParentComponent=function(){return this.parentComponent},e.prototype.setGui=function(t){this.eGui=t},e.prototype.queryForHtmlElement=function(t){return this.eGui.querySelector(t)},e.prototype.queryForHtmlInputElement=function(t){return this.eGui.querySelector(t)},e.prototype.appendChild=function(t,e){if(null!=t)if(e||(e=this.eGui),Lo(t))e.appendChild(t);else{var n=t;e.appendChild(n.getGui())}},e.prototype.isDisplayed=function(){return this.displayed},e.prototype.setVisible=function(t,e){if(void 0===e&&(e={}),t!==this.visible){this.visible=t;var n=e.skipAriaHidden;io(this.eGui,t,{skipAriaHidden:n})}},e.prototype.setDisplayed=function(t,n){if(void 0===n&&(n={}),t!==this.displayed){this.displayed=t;var o=n.skipAriaHidden;ro(this.eGui,t,{skipAriaHidden:o});var r={type:e.EVENT_DISPLAYED_CHANGED,visible:this.displayed};this.dispatchEvent(r)}},e.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.parentComponent&&(this.parentComponent=void 0);var e=this.eGui;e&&e.__agComponent&&(e.__agComponent=void 0),t.prototype.destroy.call(this)},e.prototype.addGuiEventListener=function(t,e,n){var o=this;this.eGui.addEventListener(t,e,n),this.addDestroyFunc((function(){return o.eGui.removeEventListener(t,e)}))},e.prototype.addCssClass=function(t){this.cssClassManager.addCssClass(t)},e.prototype.removeCssClass=function(t){this.cssClassManager.removeCssClass(t)},e.prototype.containsCssClass=function(t){return this.cssClassManager.containsCssClass(t)},e.prototype.addOrRemoveCssClass=function(t,e){this.cssClassManager.addOrRemoveCssClass(t,e)},e.prototype.getAttribute=function(t){var e=this.eGui;return e?e.getAttribute(t):null},e.prototype.getRefElement=function(t){return this.queryForHtmlElement('[ref="'+t+'"]')},e.EVENT_DISPLAYED_CHANGED="displayedChanged",hr([K("agStackComponentsRegistry")],e.prototype,"agStackComponentsRegistry",void 0),hr([W],e.prototype,"preConstructOnComponent",null),hr([W],e.prototype,"createChildComponentsPreConstruct",null),e}(Ut);function _r(t){return mr.bind(this,"[ref="+t+"]",t)}function mr(t,e,n,o,r){null!==t?"number"!=typeof r?function(t,e,n){var o=function(t,e){t.__agComponentMetaData||(t.__agComponentMetaData={});t.__agComponentMetaData[e]||(t.__agComponentMetaData[e]={});return t.__agComponentMetaData[e]}(t,R(t.constructor));o[e]||(o[e]=[]);o[e].push(n)}(n,"querySelectors",{attributeName:o,querySelector:t,refSelector:e}):console.error("AG Grid: QuerySelector should be on an attribute"):console.error("AG Grid: QuerySelector selector should not be null")}var yr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),vr=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Cr=function(t){function e(){return t.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this}return yr(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){this.params=t;var e=this.columnModel.getDisplayNameForColumn(t.column,"header",!0),n=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(e+" "+n("ariaFilterInput","Filter Input"))},e.prototype.onParentModelChanged=function(t){var e=this;t?this.params.parentFilterInstance((function(n){if(n.getModelAsString){var o=n.getModelAsString(t);e.eFloatingFilterText.setValue(o)}})):this.eFloatingFilterText.setValue("")},vr([_r("eFloatingFilterText")],e.prototype,"eFloatingFilterText",void 0),vr([K("columnModel")],e.prototype,"columnModel",void 0),e}(gr),Er=function(){function t(t,e,n,o){var r=this;this.alive=!0,this.context=t,this.eParent=o,e.getDateCompDetails(n).newAgStackInstance().then((function(e){r.alive?(r.dateComp=e,e&&(o.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached(),r.tempValue&&e.setDate(r.tempValue),null!=r.disabled&&r.setDateCompDisabled(r.disabled))):t.destroyBean(e)}))}return t.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},t.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},t.prototype.setDate=function(t){this.dateComp?this.dateComp.setDate(t):this.tempValue=t},t.prototype.setDisabled=function(t){this.dateComp?this.setDateCompDisabled(t):this.disabled=t},t.prototype.setDisplayed=function(t){ro(this.eParent,t)},t.prototype.setInputPlaceholder=function(t){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(t)},t.prototype.setInputAriaLabel=function(t){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(t)},t.prototype.afterGuiAttached=function(t){this.dateComp&&"function"==typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(t)},t.prototype.setDateCompDisabled=function(t){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(t)},t}(),br=function(){return br=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},br.apply(this,arguments)},Sr=function(){function t(){this.customFilterOptions={}}return t.prototype.init=function(t,e){this.filterOptions=t.filterOptions||e,this.mapCustomOptions(),this.selectDefaultItem(t),this.checkForDeprecatedParams()},t.prototype.checkForDeprecatedParams=function(){this.filterOptions.some((function(t){return"string"!=typeof t&&null!=t.test}))&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, test() has been replaced with predicate()."),this.filterOptions.some((function(t){return"string"!=typeof t&&null!=t.hideFilterInput}))&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, useOfHideFilterInput has been replaced with numberOfInputs.")},t.prototype.getFilterOptions=function(){return this.filterOptions},t.prototype.mapCustomOptions=function(){var t=this;this.filterOptions&&this.filterOptions.forEach((function(e){if("string"!=typeof e){if([["displayKey"],["displayName"],["predicate","test"]].every((function(t){return!!t.some((function(t){return null!=e[t]}))||(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '"+t+"'"),!1)}))){var n=e.test,o=br({},e);null!=n&&null==e.predicate&&(o.predicate=function(t,e){return n(t[0],e)},delete o.test),o.hideFilterInput&&null==o.numberOfInputs&&(o.numberOfInputs=0,delete o.hideFilterInput),t.customFilterOptions[e.displayKey]=o}else t.filterOptions=t.filterOptions.filter((function(t){return t===e}))||[]}}))},t.prototype.selectDefaultItem=function(t){if(t.defaultOption)this.defaultOption=t.defaultOption;else if(this.filterOptions.length>=1){var e=this.filterOptions[0];"string"==typeof e?this.defaultOption=e:e.displayKey?this.defaultOption=e.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},t.prototype.getDefaultOption=function(){return this.defaultOption},t.prototype.getCustomOption=function(t){return this.customFilterOptions[t]},t}(),wr={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},Or=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Pr=function(){return Pr=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Pr.apply(this,arguments)},Tr=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Rr=function(t){function e(e,n){void 0===n&&(n={});var o=t.call(this)||this;return o.eFocusableElement=e,o.callbacks=n,o.callbacks=Pr({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(t){if(!t.defaultPrevented){var e=o.focusService.findNextFocusableElement(o.eFocusableElement,!1,t.shiftKey);e&&(e.focus(),t.preventDefault())}}},n),o}return Or(e,t),e.prototype.postConstruct=function(){this.eFocusableElement.classList.add(e.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},e.prototype.addKeyDownListeners=function(t){var e=this;this.addManagedListener(t,"keydown",(function(t){t.defaultPrevented||Dt(t)||(e.callbacks.shouldStopEventPropagation(t)?Rt(t):t.key===Wo.TAB?e.callbacks.onTabKeyDown(t):e.callbacks.handleKeyDown&&e.callbacks.handleKeyDown(t))}))},e.FOCUS_MANAGED_CLASS="ag-focus-managed",Tr([K("focusService")],e.prototype,"focusService",void 0),Tr([H],e.prototype,"postConstruct",null),e}(Ut),Dr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),xr=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Mr="ag-resizer-wrapper",Ar='<div class="'+Mr+'">\n        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>',Lr=function(t){function e(e,n){var o=t.call(this)||this;return o.element=e,o.dragStartPosition={x:0,y:0},o.position={x:0,y:0},o.lastSize={width:-1,height:-1},o.positioned=!1,o.resizersAdded=!1,o.resizeListeners=[],o.boundaryEl=null,o.isResizing=!1,o.isMoving=!1,o.resizable={},o.movable=!1,o.currentResizer=null,o.config=Object.assign({},{popup:!1},n),o}return Dr(e,t),e.prototype.center=function(){var t=this.offsetParent,e=t.clientHeight,n=t.clientWidth/2-this.getWidth()/2,o=e/2-this.getHeight()/2;this.offsetElement(n,o)},e.prototype.initialisePosition=function(){if(!this.positioned){var t=this.config,e=t.centered,n=t.forcePopupParentAsOffsetParent,o=t.minWidth,r=t.width,i=t.minHeight,s=t.height,a=t.x,l=t.y;this.offsetParent||this.setOffsetParent();var c=0,u=0,d=!!this.element.offsetParent;if(d){var p=this.findBoundaryElement(),h=window.getComputedStyle(p);if(null!=h.minWidth){var f=p.offsetWidth-this.element.offsetWidth;u=parseInt(h.minWidth,10)-f}if(null!=h.minHeight){var g=p.offsetHeight-this.element.offsetHeight;c=parseInt(h.minHeight,10)-g}}if(this.minHeight=i||c,this.minWidth=o||u,r&&this.setWidth(r),s&&this.setHeight(s),r&&s||this.refreshSize(),e)this.center();else if(a||l)this.offsetElement(a,l);else if(d&&n&&this.boundaryEl){var _=parseFloat(this.boundaryEl.style.top),m=parseFloat(this.boundaryEl.style.left);this.offsetElement(isNaN(m)?0:m,isNaN(_)?0:_)}this.positioned=!!this.offsetParent}},e.prototype.isPositioned=function(){return this.positioned},e.prototype.getPosition=function(){return this.position},e.prototype.setMovable=function(t,e){if(this.config.popup&&t!==this.movable){this.movable=t;var n=this.moveElementDragListener||{eElement:e,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};t?(this.dragService.addDragSource(n),this.moveElementDragListener=n):(this.dragService.removeDragSource(n),this.moveElementDragListener=void 0)}},e.prototype.setResizable=function(t){var e=this;if(this.clearResizeListeners(),t?this.addResizers():this.removeResizers(),"boolean"==typeof t){if(!1===t)return;t={topLeft:t,top:t,topRight:t,right:t,bottomRight:t,bottom:t,bottomLeft:t,left:t}}Object.keys(t).forEach((function(n){var o=!!t[n],r=e.getResizerElement(n),i={dragStartPixels:0,eElement:r,onDragStart:function(t){return e.onResizeStart(t,n)},onDragging:e.onResize.bind(e),onDragStop:function(t){return e.onResizeEnd(t,n)}};(o||!e.isAlive()&&!o)&&(o?(e.dragService.addDragSource(i),e.resizeListeners.push(i),r.style.pointerEvents="all"):r.style.pointerEvents="none",e.resizable[n]=o)}))},e.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},e.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var t=this.lastSize,e=t.height,n=t.width;-1!==n&&(this.element.style.width=n+"px"),-1!==e&&(this.element.style.height=e+"px")},e.prototype.getHeight=function(){return this.element.offsetHeight},e.prototype.setHeight=function(t){var e=this.config.popup,n=this.element,o=!1;if("string"==typeof t&&-1!==t.indexOf("%"))Mo(n,t),t=po(n),o=!0;else if(this.positioned){t=Math.max(this.minHeight,t);var r=this.getAvailableHeight();r&&t>r&&(t=r)}this.getHeight()!==t&&(o?(n.style.maxHeight="unset",n.style.minHeight="unset"):e?Mo(n,t):(n.style.height=t+"px",n.style.flex="0 0 auto",this.lastSize.height="number"==typeof t?t:parseFloat(t)))},e.prototype.getAvailableHeight=function(){var t=this.config,e=t.popup,n=t.forcePopupParentAsOffsetParent;this.positioned||this.initialisePosition();var o=this.offsetParent.clientHeight;if(!o)return null;var r=this.element.getBoundingClientRect(),i=this.offsetParent.getBoundingClientRect(),s=e?this.position.y:r.top,a=e?0:i.top,l=0;if(n){var c=this.element.parentElement;if(c)l=c.getBoundingClientRect().bottom-r.bottom}return o+a-s-l},e.prototype.getWidth=function(){return this.element.offsetWidth},e.prototype.setWidth=function(t){var e=this.element,n=this.config.popup,o=!1;if("string"==typeof t&&-1!==t.indexOf("%"))xo(e,t),t=ho(e),o=!0;else if(this.positioned){t=Math.max(this.minWidth,t);var r=this.offsetParent.clientWidth,i=n?this.position.x:this.element.getBoundingClientRect().left;r&&t+i>r&&(t=r-i)}this.getWidth()!==t&&(o?(e.style.maxWidth="unset",e.style.minWidth="unset"):this.config.popup?xo(e,t):(e.style.width=t+"px",e.style.flex=" unset",this.lastSize.width="number"==typeof t?t:parseFloat(t)))},e.prototype.offsetElement=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n=this.config.forcePopupParentAsOffsetParent?this.boundaryEl:this.element;this.popupService.positionPopup({ePopup:n,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:function(){return{x:t,y:e}}}),this.setPosition(parseFloat(n.style.left),parseFloat(n.style.top))},e.prototype.constrainSizeToAvailableHeight=function(t){var e=this;if(this.config.forcePopupParentAsOffsetParent){t?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),(function(){var t=e.getAvailableHeight();e.element.style.setProperty("max-height",t+"px")})):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}},e.prototype.setPosition=function(t,e){this.position.x=t,this.position.y=e},e.prototype.updateDragStartPosition=function(t,e){this.dragStartPosition={x:t,y:e}},e.prototype.calculateMouseMovement=function(t){var e=t.e,n=t.isLeft,o=t.isTop,r=t.anywhereWithin,i=t.topBuffer,s=e.clientX-this.dragStartPosition.x,a=e.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(e,!!n,!!r,s)?0:s,movementY:this.shouldSkipY(e,!!o,i,a)?0:a}},e.prototype.shouldSkipX=function(t,e,n,o){var r=this.element.getBoundingClientRect(),i=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:r.left,l=a<=0&&i.left>=t.clientX||i.right<=t.clientX&&i.right<=s.right;return!!l||(l=e?o<0&&t.clientX>a+i.left||o>0&&t.clientX<a+i.left:n?o<0&&t.clientX>s.right||o>0&&t.clientX<a+i.left:o<0&&t.clientX>s.right||o>0&&t.clientX<s.right)},e.prototype.shouldSkipY=function(t,e,n,o){void 0===n&&(n=0);var r=this.element.getBoundingClientRect(),i=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:r.top,l=a<=0&&i.top>=t.clientY||i.bottom<=t.clientY&&i.bottom<=s.bottom;return!!l||(l=e?o<0&&t.clientY>a+i.top+n||o>0&&t.clientY<a+i.top:o<0&&t.clientY>s.bottom||o>0&&t.clientY<s.bottom)},e.prototype.createResizeMap=function(){var t=this.element;this.resizerMap={topLeft:{element:t.querySelector("[ref=eTopLeftResizer]")},top:{element:t.querySelector("[ref=eTopResizer]")},topRight:{element:t.querySelector("[ref=eTopRightResizer]")},right:{element:t.querySelector("[ref=eRightResizer]")},bottomRight:{element:t.querySelector("[ref=eBottomRightResizer]")},bottom:{element:t.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:t.querySelector("[ref=eBottomLeftResizer]")},left:{element:t.querySelector("[ref=eLeftResizer]")}}},e.prototype.addResizers=function(){if(!this.resizersAdded){var t=this.element;if(t){var e=(new DOMParser).parseFromString(Ar,"text/html").body;t.appendChild(e.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},e.prototype.removeResizers=function(){this.resizerMap=void 0;var t=this.element.querySelector("."+Mr);t&&this.element.removeChild(t),this.resizersAdded=!1},e.prototype.getResizerElement=function(t){return this.resizerMap[t].element},e.prototype.onResizeStart=function(t,e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!e.match(/top/i),isRight:!!e.match(/right/i),isBottom:!!e.match(/bottom/i),isLeft:!!e.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[e].element.classList.add("ag-active");var n=this.config,o=n.popup,r=n.forcePopupParentAsOffsetParent;o||r||this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(t.clientX,t.clientY)},e.prototype.getSiblings=function(){var t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter((function(t){return!t.classList.contains("ag-hidden")})):null},e.prototype.getMinSizeOfSiblings=function(){for(var t=this.getSiblings()||[],e=0,n=0,o=0;o<t.length;o++){var r=t[o],i=!!r.style.flex&&"0 0 auto"!==r.style.flex;if(r!==this.element){var s=this.minHeight||0,a=this.minWidth||0;if(i){var l=window.getComputedStyle(r);l.minHeight&&(s=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10))}else s=r.offsetHeight,a=r.offsetWidth;e+=s,n+=a}}return{height:e,width:n}},e.prototype.applySizeToSiblings=function(t){var e=null,n=this.getSiblings();if(n){for(var o=0;o<n.length;o++){var r=n[o];r!==e&&(t?r.style.height=r.offsetHeight+"px":r.style.width=r.offsetWidth+"px",r.style.flex="0 0 auto",r===this.element&&(e=n[o+1]))}e&&(e.style.removeProperty("height"),e.style.removeProperty("min-height"),e.style.removeProperty("max-height"),e.style.flex="1 1 auto")}},e.prototype.isResizable=function(){return Object.values(this.resizable).some((function(t){return t}))},e.prototype.onResize=function(t){if(this.isResizing&&this.currentResizer){var e=this.config,n=e.popup,o=e.forcePopupParentAsOffsetParent,r=this.currentResizer,i=r.isTop,s=r.isRight,a=r.isBottom,l=r.isLeft,c=s||l,u=a||i,d=this.calculateMouseMovement({e:t,isLeft:l,isTop:i}),p=d.movementX,h=d.movementY,f=this.position.x,g=this.position.y,_=0,m=0;if(c&&p){var y=l?-1:1,v=this.getWidth(),C=v+p*y,E=!1;l&&(f+(_=v-C)<=0||C<=this.minWidth)&&(E=!0,_=0),E||this.setWidth(C)}if(u&&h){y=i?-1:1;var b=this.getHeight(),S=b+h*y,w=!1;i?(g+(m=b-S)<=0||S<=this.minHeight)&&(w=!0,m=0):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&b<S&&this.getMinSizeOfSiblings().height+S>this.element.parentElement.offsetHeight&&(w=!0),w||this.setHeight(S)}this.updateDragStartPosition(t.clientX,t.clientY),((n||o)&&_||m)&&this.offsetElement(f+_,g+m)}},e.prototype.onResizeEnd=function(t,e){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var n={type:"resize",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi};this.element.classList.remove("ag-resizing"),this.resizerMap[e].element.classList.remove("ag-active"),this.dispatchEvent(n)},e.prototype.refreshSize=function(){var t=this.element;this.config.popup&&(this.config.width||this.setWidth(t.offsetWidth),this.config.height||this.setHeight(t.offsetHeight))},e.prototype.onMoveStart=function(t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(t.clientX,t.clientY)},e.prototype.onMove=function(t){if(this.isMoving){var e,n=this.position,o=n.x,r=n.y;this.config.calculateTopBuffer&&(e=this.config.calculateTopBuffer());var i=this.calculateMouseMovement({e:t,isTop:!0,anywhereWithin:!0,topBuffer:e}),s=i.movementX,a=i.movementY;this.offsetElement(o+s,r+a),this.updateDragStartPosition(t.clientX,t.clientY)}},e.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},e.prototype.setOffsetParent=function(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent},e.prototype.findBoundaryElement=function(){for(var t=this.element;t;){if("static"!==window.getComputedStyle(t).position)return t;t=t.parentElement}return this.element},e.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var t=this.resizeListeners.pop();this.dragService.removeDragSource(t)}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()},xr([K("popupService")],e.prototype,"popupService",void 0),xr([K("resizeObserverService")],e.prototype,"resizeObserverService",void 0),xr([K("dragService")],e.prototype,"dragService",void 0),e}(Ut),Ir=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Nr=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},kr=function(t){function e(e){var n=t.call(this)||this;return n.filterNameKey=e,n.applyActive=!1,n.hidePopup=null,n.debouncePending=!1,n.appliedModel=null,n}return Ir(e,t),e.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new Rr(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new Lr(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)},e.prototype.handleKeyDown=function(t){},e.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},e.prototype.isFilterActive=function(){return!!this.appliedModel},e.prototype.resetTemplate=function(t){var e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit);var n='\n            <form class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-'+this.getCssIdentifier()+'-body-wrapper" ref="eFilterBody">\n                    '+this.createBodyTemplate()+"\n                </div>\n            </form>";this.setTemplate(n,t),(e=this.getGui())&&e.addEventListener("submit",this.onFormSubmit)},e.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},e.prototype.init=function(t){var e=this;this.setParams(t),this.resetUiToDefaults(!0).then((function(){e.updateUiVisibility(),e.setupOnBtApplyDebounce()}))},e.prototype.setParams=function(t){this.providedFilterParams=t,this.applyActive=e.isUseApplyButton(t),this.createButtonPanel()},e.prototype.createButtonPanel=function(){var t=this,e=this.providedFilterParams.buttons;if(!(!e||e.length<1||this.isReadOnly())){var n=document.createElement("div");n.classList.add("ag-filter-apply-panel");Qo(e).forEach((function(e){return function(e){var o,r;switch(e){case"apply":o=t.translate("applyFilter"),r=function(e){return t.onBtApply(!1,!1,e)};break;case"clear":o=t.translate("clearFilter"),r=function(){return t.onBtClear()};break;case"reset":o=t.translate("resetFilter"),r=function(){return t.onBtReset()};break;case"cancel":o=t.translate("cancelFilter"),r=function(e){t.onBtCancel(e)};break;default:return void console.warn("AG Grid: Unknown button type specified")}var i=Co('<button\n                    type="'+("apply"===e?"submit":"button")+'"\n                    ref="'+e+'FilterButton"\n                    class="ag-standard-button ag-filter-apply-panel-button"\n                >'+o+"\n                </button>");n.appendChild(i),t.addManagedListener(i,"click",r)}(e)})),this.getGui().appendChild(n)}},e.prototype.getDefaultDebounceMs=function(){return 0},e.prototype.setupOnBtApplyDebounce=function(){var t=this,n=e.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),o=N(this.checkApplyDebounce.bind(this),n);this.onBtApplyDebounce=function(){t.debouncePending=!0,o()}},e.prototype.checkApplyDebounce=function(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())},e.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},e.prototype.setModel=function(t){var e=this;return(null!=t?this.setModelIntoUi(t):this.resetUiToDefaults()).then((function(){e.updateUiVisibility(),e.applyModel("api")}))},e.prototype.onBtCancel=function(t){var e=this;this.resetUiToActiveModel(this.getModel(),(function(){e.handleCancelEnd(t)}))},e.prototype.handleCancelEnd=function(t){this.providedFilterParams.closeOnApply&&this.close(t)},e.prototype.resetUiToActiveModel=function(t,e){var n=this,o=function(){n.onUiChanged(!1,"prevent"),null==e||e()};null!=t?this.setModelIntoUi(t).then(o):this.resetUiToDefaults().then(o)},e.prototype.onBtClear=function(){var t=this;this.resetUiToDefaults().then((function(){return t.onUiChanged()}))},e.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},e.prototype.applyModel=function(t){var e=this.getModelFromUi();if(!this.isModelValid(e))return!1;var n=this.appliedModel;return this.appliedModel=e,!this.areModelsEqual(n,e)},e.prototype.isModelValid=function(t){return!0},e.prototype.onFormSubmit=function(t){t.preventDefault()},e.prototype.onBtApply=function(t,e,n){void 0===t&&(t=!1),void 0===e&&(e=!1),n&&n.preventDefault(),this.applyModel(e?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:t,afterDataChange:e}),this.providedFilterParams.closeOnApply&&this.applyActive&&!t&&!e&&this.close(n)},e.prototype.onNewRowsLoaded=function(){},e.prototype.close=function(t){if(this.hidePopup){var e,n=t,o=n&&n.key;"Enter"!==o&&"Space"!==o||(e={keyboardEvent:n}),this.hidePopup(e),this.hidePopup=null}},e.prototype.onUiChanged=function(t,e){if(void 0===t&&(t=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){var n=this.isModelValid(this.getModelFromUi());so(this.getRefElement("applyFilterButton"),!n)}t&&!e||"immediately"===e?this.onBtApply(t):(this.applyActive||e)&&"debounce"!==e||this.onBtApplyDebounce()},e.prototype.afterGuiAttached=function(t){t&&(this.hidePopup=t.hidePopup),this.refreshFilterResizer(null==t?void 0:t.container)},e.prototype.refreshFilterResizer=function(t){if(this.positionableFeature&&"toolPanel"!==t){var e="floatingFilter"===t,n=this.positionableFeature,o=this.gridOptionsService;e?(n.restoreLastSize(),n.setResizable(o.is("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}},e.prototype.afterGuiDetached=function(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)},e.getDebounceMs=function(t,n){return e.isUseApplyButton(t)?(null!=t.debounceMs&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):null!=t.debounceMs?t.debounceMs:n},e.isUseApplyButton=function(t){return!!t.buttons&&t.buttons.indexOf("apply")>=0},e.prototype.destroy=function(){var e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),t.prototype.destroy.call(this)},e.prototype.translate=function(t){return this.localeService.getLocaleTextFunc()(t,wr[t])},e.prototype.getCellValue=function(t){var e=this.providedFilterParams,n=e.api,o=e.colDef,r=e.column,i=e.columnApi,s=e.context;return this.providedFilterParams.valueGetter({api:n,colDef:o,column:r,columnApi:i,context:s,data:t.data,getValue:function(e){return t.data[e]},node:t})},e.prototype.getPositionableElement=function(){return this.eFilterBody},Nr([K("rowModel")],e.prototype,"rowModel",void 0),Nr([_r("eFilterBody")],e.prototype,"eFilterBody",void 0),Nr([H],e.prototype,"postConstruct",null),e}(gr),Fr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Gr=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Br=function(t){function e(e,n){var o=t.call(this,n)||this;return o.labelSeparator="",o.labelAlignment="left",o.disabled=!1,o.label="",o.config=e||{},o}return Fr(e,t),e.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var t=this.config,e=t.labelSeparator,n=t.label,o=t.labelWidth,r=t.labelAlignment;null!=e&&this.setLabelSeparator(e),null!=n&&this.setLabel(n),null!=o&&this.setLabelWidth(o),this.setLabelAlignment(r||this.labelAlignment),this.refreshLabel()},e.prototype.refreshLabel=function(){mo(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(ro(this.eLabel,!1),ze(this.eLabel,"presentation")):(ro(this.eLabel,!0),ze(this.eLabel,null))},e.prototype.setLabelSeparator=function(t){return this.labelSeparator===t||(this.labelSeparator=t,null!=this.label&&this.refreshLabel()),this},e.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-"+this.getCompId()+"-label",this.eLabel.id},e.prototype.getLabel=function(){return this.label},e.prototype.setLabel=function(t){return this.label===t||(this.label=t,this.refreshLabel()),this},e.prototype.setLabelAlignment=function(t){var e=this.getGui().classList;return e.toggle("ag-label-align-left","left"===t),e.toggle("ag-label-align-right","right"===t),e.toggle("ag-label-align-top","top"===t),this},e.prototype.setLabelEllipsis=function(t){return this.eLabel.classList.toggle("ag-label-ellipsis",t),this},e.prototype.setLabelWidth=function(t){return null==this.label||Do(this.eLabel,t),this},e.prototype.setDisabled=function(t){t=!!t;var e=this.getGui();return so(e,t),e.classList.toggle("ag-disabled",t),this.disabled=t,this},e.prototype.isDisabled=function(){return!!this.disabled},Gr([H],e.prototype,"postConstruct",null),e}(gr),Ur=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),jr=function(t){function e(e,n,o){var r=t.call(this,e,n)||this;return r.className=o,r}return Ur(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className)},e.prototype.onValueChange=function(t){var n=this;return this.addManagedListener(this,e.EVENT_CHANGED,(function(){return t(n.getValue())})),this},e.prototype.getWidth=function(){return this.getGui().clientWidth},e.prototype.setWidth=function(t){return xo(this.getGui(),t),this},e.prototype.getPreviousValue=function(){return this.previousValue},e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(t,n){return this.value===t||(this.previousValue=this.value,this.value=t,n||this.dispatchEvent({type:e.EVENT_CHANGED})),this},e.EVENT_CHANGED="valueChange",e}(Br),Vr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Wr=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Hr=function(t){function e(e,n,o,r){var i=t.call(this,e,'<div class="ag-picker-field" role="presentation">\n                <div ref="eLabel"></div>\n                <div ref="eWrapper"\n                    class="ag-wrapper ag-picker-field-wrapper"\n                    tabIndex="-1"\n                    aria-expanded="false"\n                    '+(r?'role="'+r+'"':"")+'\n                >\n                    <div ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>',n)||this;return i.pickerIcon=o,i.isPickerDisplayed=!1,i.isDestroyingPicker=!1,i.skipClick=!1,i}return Vr(e,t),e.prototype.postConstruct=function(){var e=this;t.prototype.postConstruct.call(this);var n=this.getCompId()+"-display";this.eDisplayField.setAttribute("id",n),Qe(this.eWrapper,n);var o=function(){e.skipClick?e.skipClick=!1:e.isDisabled()||(e.pickerComponent=e.showPicker())},r=this.getGui();if(this.addManagedListener(r,"mousedown",(function(t){!e.skipClick&&e.pickerComponent&&e.pickerComponent.isAlive()&&vo(e.pickerComponent.getGui())&&r.contains(t.target)&&(e.skipClick=!0)})),this.addManagedListener(r,"keydown",(function(t){switch(t.key){case Wo.UP:case Wo.DOWN:case Wo.ENTER:case Wo.SPACE:o();case Wo.ESCAPE:e.isPickerDisplayed&&t.preventDefault()}})),this.addManagedListener(this.eWrapper,"click",o),this.addManagedListener(this.eLabel,"click",o),this.pickerIcon){var i=jo(this.pickerIcon,this.gridOptionsService);i&&this.eIcon.appendChild(i)}},e.prototype.refreshLabel=function(){r(this.getLabel())?Xe(this.eWrapper,this.getLabelId()):this.eWrapper.removeAttribute("aria-labelledby"),t.prototype.refreshLabel.call(this)},e.prototype.setAriaLabel=function(t){return qe(this.eWrapper,t),this},e.prototype.setInputWidth=function(t){return Do(this.eWrapper,t),this},e.prototype.getFocusableElement=function(){return this.eWrapper},Wr([_r("eLabel")],e.prototype,"eLabel",void 0),Wr([_r("eWrapper")],e.prototype,"eWrapper",void 0),Wr([_r("eDisplayField")],e.prototype,"eDisplayField",void 0),Wr([_r("eIcon")],e.prototype,"eIcon",void 0),e}(jr),$r=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),zr=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Kr=function(t){function e(e){void 0===e&&(e="default");var n=t.call(this,'<div class="ag-list ag-'+e+'-list" role="listbox"></div>')||this;return n.cssIdentifier=e,n.options=[],n.itemEls=[],n}return $r(e,t),e.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},e.prototype.handleKeyDown=function(t){var e=t.key;switch(e){case Wo.ENTER:if(this.highlightedEl){var n=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(n)}else this.setValue(this.getValue());break;case Wo.DOWN:case Wo.UP:var o=e===Wo.DOWN,r=void 0;if(t.preventDefault(),this.highlightedEl){var i=this.itemEls.indexOf(this.highlightedEl)+(o?1:-1);i=Math.min(Math.max(i,0),this.itemEls.length-1),r=this.itemEls[i]}else r=this.itemEls[o?0:this.itemEls.length-1];this.highlightItem(r)}},e.prototype.addOptions=function(t){var e=this;return t.forEach((function(t){return e.addOption(t)})),this},e.prototype.addOption=function(t){var e=t.value,n=Ce(t.text||e);return this.options.push({value:e,text:n}),this.renderOption(e,n),this.updateIndices(),this},e.prototype.updateIndices=function(){var t=this.getGui().querySelectorAll(".ag-list-item");t.forEach((function(e,n){an(e,n+1),sn(e,t.length)}))},e.prototype.renderOption=function(t,e){var n=this,o=document.createElement("div");ze(o,"option"),o.classList.add("ag-list-item","ag-"+this.cssIdentifier+"-list-item"),o.innerHTML="<span>"+e+"</span>",o.tabIndex=-1,this.itemEls.push(o),this.addManagedListener(o,"mouseover",(function(){return n.highlightItem(o)})),this.addManagedListener(o,"mouseleave",(function(){return n.clearHighlighted()})),this.addManagedListener(o,"click",(function(){return n.setValue(t)})),this.getGui().appendChild(o)},e.prototype.setValue=function(t,e){if(this.value===t)return this.fireItemSelected(),this;if(null==t)return this.reset(),this;var n=this.options.findIndex((function(e){return e.value===t}));if(-1!==n){var o=this.options[n];this.value=o.value,this.displayValue=null!=o.text?o.text:o.value,this.highlightItem(this.itemEls[n]),e||this.fireChangeEvent()}return this},e.prototype.setValueByIndex=function(t){return this.setValue(this.options[t].value)},e.prototype.getValue=function(){return this.value},e.prototype.getDisplayValue=function(){return this.displayValue},e.prototype.refreshHighlighted=function(){var t=this;this.clearHighlighted();var e=this.options.findIndex((function(e){return e.value===t.value}));-1!==e&&this.highlightItem(this.itemEls[e])},e.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},e.prototype.highlightItem=function(t){t.offsetParent&&(this.clearHighlighted(),this.highlightedEl=t,this.highlightedEl.classList.add(e.ACTIVE_CLASS),_n(this.highlightedEl,!0),this.highlightedEl.focus())},e.prototype.clearHighlighted=function(){this.highlightedEl&&this.highlightedEl.offsetParent&&(this.highlightedEl.classList.remove(e.ACTIVE_CLASS),_n(this.highlightedEl,!1),this.highlightedEl=null)},e.prototype.fireChangeEvent=function(){this.dispatchEvent({type:jr.EVENT_CHANGED}),this.fireItemSelected()},e.prototype.fireItemSelected=function(){this.dispatchEvent({type:e.EVENT_ITEM_SELECTED})},e.EVENT_ITEM_SELECTED="selectedItem",e.ACTIVE_CLASS="ag-active-item",zr([H],e.prototype,"init",null),e}(gr),Yr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Zr=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},qr=function(t){function e(e){return t.call(this,e,"ag-select","smallDown","listbox")||this}return Yr(e,t),e.prototype.init=function(){var t=this;this.listComponent=this.createBean(new Kr("select")),this.listComponent.setParentComponent(this),this.eWrapper.tabIndex=0,this.listComponent.addManagedListener(this.listComponent,Kr.EVENT_ITEM_SELECTED,(function(){t.hideList&&t.hideList(),t.dispatchEvent({type:e.EVENT_ITEM_SELECTED})})),this.listComponent.addManagedListener(this.listComponent,jr.EVENT_CHANGED,(function(){t.setValue(t.listComponent.getValue(),!1,!0),t.hideList&&t.hideList()}))},e.prototype.showPicker=function(){var t=this,e=this.listComponent.getGui(),n=this.gridOptionsService.getDocument(),o=this.addManagedListener(n.body,"wheel",(function(n){!e.contains(n.target)&&t.hideList&&t.hideList()})),r=this.addManagedListener(e,"focusout",(function(n){!e.contains(n.relatedTarget)&&t.hideList&&t.hideList()})),i=this.localeService.getLocaleTextFunc(),s=this.popupService.addPopup({modal:!0,eChild:e,closeOnEsc:!0,closedCallback:function(){t.hideList=null,t.isPickerDisplayed=!1,r(),o(),t.isAlive()&&(on(t.eWrapper,!1),t.getFocusableElement().focus())},ariaLabel:i("ariaLabelSelectField","Select Field")});return s&&(this.hideList=s.hideFunc),this.isPickerDisplayed=!0,Do(e,ho(this.eWrapper)),on(this.eWrapper,!0),e.style.maxHeight=co(this.popupService.getPopupParent())+"px",e.style.position="absolute",this.popupService.positionPopupByComponent({type:"ag-list",eventSource:this.eWrapper,ePopup:e,position:"under",keepWithinBounds:!0}),this.listComponent.refreshHighlighted(),this.listComponent},e.prototype.addOptions=function(t){var e=this;return t.forEach((function(t){return e.addOption(t)})),this},e.prototype.addOption=function(t){return this.listComponent.addOption(t),this},e.prototype.setValue=function(e,n,o){return this.value===e?this:(o||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),t.prototype.setValue.call(this,e,n)))},e.prototype.destroy=function(){this.hideList&&this.hideList(),this.destroyBean(this.listComponent),t.prototype.destroy.call(this)},e.EVENT_ITEM_SELECTED="selectedItem",Zr([K("popupService")],e.prototype,"popupService",void 0),Zr([H],e.prototype,"init",null),e}(Hr),Xr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Jr=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Qr=function(t){function e(e,n,o,r){void 0===o&&(o="text"),void 0===r&&(r="input");var i=t.call(this,e,'\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <'+r+' ref="eInput" class="ag-input-field-input"></'+r+">\n                </div>\n            </div>",n)||this;return i.inputType=o,i.displayFieldTag=r,i}return Xr(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add(this.className+"-label"),this.eWrapper.classList.add(this.className+"-input-wrapper"),this.eInput.classList.add(this.className+"-input"),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-"+this.getCompId()+"-input";var e=this.config,n=e.width,o=e.value;null!=n&&this.setWidth(n),null!=o&&this.setValue(o),this.addInputListeners()},e.prototype.refreshLabel=function(){r(this.getLabel())?Xe(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),t.prototype.refreshLabel.call(this)},e.prototype.addInputListeners=function(){var t=this;this.addManagedListener(this.eInput,"input",(function(e){return t.setValue(e.target.value)}))},e.prototype.setInputType=function(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)},e.prototype.getInputElement=function(){return this.eInput},e.prototype.setInputWidth=function(t){return Do(this.eWrapper,t),this},e.prototype.setInputName=function(t){return this.getInputElement().setAttribute("name",t),this},e.prototype.getFocusableElement=function(){return this.eInput},e.prototype.setMaxLength=function(t){return this.eInput.maxLength=t,this},e.prototype.setInputPlaceholder=function(t){return ko(this.eInput,"placeholder",t),this},e.prototype.setInputAriaLabel=function(t){return qe(this.eInput,t),this},e.prototype.setDisabled=function(e){return so(this.eInput,e),t.prototype.setDisabled.call(this,e)},Jr([_r("eLabel")],e.prototype,"eLabel",void 0),Jr([_r("eWrapper")],e.prototype,"eWrapper",void 0),Jr([_r("eInput")],e.prototype,"eInput",void 0),e}(jr),ti=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ei=function(t){function e(e,n,o){void 0===n&&(n="ag-checkbox"),void 0===o&&(o="checkbox");var r=t.call(this,e,n,o)||this;return r.labelAlignment="right",r.selected=!1,r.readOnly=!1,r.passive=!1,r}return ti(e,t),e.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},e.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},e.prototype.setPassive=function(t){this.passive=t},e.prototype.isReadOnly=function(){return this.readOnly},e.prototype.setReadOnly=function(t){this.eWrapper.classList.toggle("ag-disabled",t),this.eInput.disabled=t,this.readOnly=t},e.prototype.setDisabled=function(e){return this.eWrapper.classList.toggle("ag-disabled",e),t.prototype.setDisabled.call(this,e)},e.prototype.toggle=function(){if(!this.eInput.disabled){var t=this.isSelected(),e=this.getNextValue();this.passive?this.dispatchChange(e,t):this.setValue(e)}},e.prototype.getValue=function(){return this.isSelected()},e.prototype.setValue=function(t,e){return this.refreshSelectedClass(t),this.setSelected(t,e),this},e.prototype.setName=function(t){return this.getInputElement().name=t,this},e.prototype.isSelected=function(){return this.selected},e.prototype.setSelected=function(t,e){this.isSelected()!==t&&(this.previousValue=this.isSelected(),t=this.selected="boolean"==typeof t?t:void 0,this.eInput.checked=t,this.eInput.indeterminate=void 0===t,e||this.dispatchChange(this.selected,this.previousValue))},e.prototype.dispatchChange=function(t,n,o){this.dispatchEvent({type:e.EVENT_CHANGED,selected:t,previousValue:n,event:o});var r=this.getInputElement(),i={type:zt.EVENT_CHECKBOX_CHANGED,id:r.id,name:r.name,selected:t,previousValue:n};this.eventService.dispatchEvent(i)},e.prototype.onCheckboxClick=function(t){if(!this.passive&&!this.eInput.disabled){var e=this.isSelected(),n=this.selected=t.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,e,t)}},e.prototype.refreshSelectedClass=function(t){this.eWrapper.classList.toggle("ag-checked",!0===t),this.eWrapper.classList.toggle("ag-indeterminate",null==t)},e}(Qr),ni=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),oi=function(t){function e(e){return t.call(this,e,"ag-radio-button","radio")||this}return ni(e,t),e.prototype.isSelected=function(){return this.eInput.checked},e.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},e.prototype.addInputListeners=function(){t.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,zt.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},e.prototype.onChange=function(t){t.selected&&t.name&&this.eInput.name&&this.eInput.name===t.name&&t.id&&this.eInput.id!==t.id&&this.setValue(!1,!0)},e}(ei),ri=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ii=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},si=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ii(arguments[e]));return t},ai=function(){function t(t,e){this.localeService=t,this.optionsFactory=e}return t.prototype.getModelAsString=function(t){var e=this;if(!t)return null;var n=null!=t.operator,o=this.localeService.getLocaleTextFunc();if(n){var r=t,i=r.conditions;if(!i)i=[r.condition1,r.condition2];var s=i.map((function(t){return e.getModelAsString(t)})),a="AND"===r.operator?"andCondition":"orCondition";return s.join(" "+o(a,wr[a])+" ")}if(t.type===li.BLANK||t.type===li.NOT_BLANK)return o(t.type,t.type);var l=t,c=this.optionsFactory.getCustomOption(l.type),u=c||{},d=u.displayKey,p=u.displayName,h=u.numberOfInputs;return d&&p&&0===h?(o(d,p),p):this.conditionToString(l,c)},t}(),li=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.eTypes=[],e.eJoinOperatorPanels=[],e.eJoinOperatorsAnd=[],e.eJoinOperatorsOr=[],e.eConditionBodies=[],e.listener=function(){return e.onUiChanged()},e.lastUiCompletePosition=null,e.joinOperatorId=0,e}return ri(e,t),e.prototype.getNumberOfInputs=function(t){var n=this.optionsFactory.getCustomOption(t);if(n){var o=n.numberOfInputs;return null!=o?o:1}var r=[e.EMPTY,e.NOT_BLANK,e.BLANK];return t&&r.indexOf(t)>=0?0:t===e.IN_RANGE?2:1},e.prototype.onFloatingFilterChanged=function(t,e){this.setTypeFromFloatingFilter(t),this.setValueFromFloatingFilter(e),this.onUiChanged(!0)},e.prototype.setTypeFromFloatingFilter=function(t){var e=this;this.eTypes.forEach((function(n,o){0===o?n.setValue(t,!0):n.setValue(e.optionsFactory.getDefaultOption(),!0)}))},e.prototype.getModelFromUi=function(){var t=this.getUiCompleteConditions();return 0===t.length?null:this.maxNumConditions>1&&t.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:t[0],condition2:t[1],conditions:t}:t[0]},e.prototype.getConditionTypes=function(){return this.eTypes.map((function(t){return t.getValue()}))},e.prototype.getConditionType=function(t){return this.eTypes[t].getValue()},e.prototype.getJoinOperator=function(){return 0===this.eJoinOperatorsOr.length?this.defaultJoinOperator:!0===this.eJoinOperatorsOr[0].getValue()?"OR":"AND"},e.prototype.areModelsEqual=function(t,e){var n=this;if(!t&&!e)return!0;if(!t&&e||t&&!e)return!1;var o,r=!t.operator,i=!e.operator;if(!r&&i||r&&!i)return!1;if(r){var s=t,a=e;o=this.areSimpleModelsEqual(s,a)}else{var l=t,c=e;o=l.operator===c.operator&&gt(l.conditions,c.conditions,(function(t,e){return n.areSimpleModelsEqual(t,e)}))}return o},e.prototype.setModelIntoUi=function(t){var e=this;if(t.operator){var n=t;n.conditions||(n.conditions=[n.condition1,n.condition2]);var o=this.validateAndUpdateConditions(n.conditions),r=this.getNumConditions();if(o<r)this.removeConditionsAndOperators(o);else if(o>r)for(var i=r;i<o;i++)this.createJoinOperatorPanel(),this.createOption();var s="OR"===n.operator;this.eJoinOperatorsAnd.forEach((function(t){return t.setValue(!s,!0)})),this.eJoinOperatorsOr.forEach((function(t){return t.setValue(s,!0)})),n.conditions.forEach((function(t,n){e.eTypes[n].setValue(t.type,!0),e.setConditionIntoUi(t,n)}))}else{var a=t;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(a.type,!0),this.setConditionIntoUi(a,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),sr.resolve()},e.prototype.validateAndUpdateConditions=function(t){var e=t.length;return e>this.maxNumConditions&&(t.splice(this.maxNumConditions),T((function(){return console.warn('AG Grid: Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.')}),"simpleFilterSetModelMaxNumConditions"),e=this.maxNumConditions),e},e.prototype.doesFilterPass=function(t){var e,n=this,o=this.getModel();if(null==o)return!0;var r=o.operator,i=[];if(r){var s=o;i.push.apply(i,si(null!==(e=s.conditions)&&void 0!==e?e:[]))}else i.push(o);return i[r&&"OR"===r?"some":"every"]((function(e){return n.individualConditionPasses(t,e)}))},e.prototype.setParams=function(e){t.prototype.setParams.call(this,e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new Sr,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createOption(),this.createMissingConditionsAndOperators()},e.prototype.setNumConditions=function(t){var e,n;null!=t.suppressAndOrCondition&&T((function(){return console.warn('AG Grid: Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.')}),"simpleFilterSuppressAndOrCondition"),null!=t.alwaysShowBothConditions&&T((function(){return console.warn('AG Grid: Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.')}),"simpleFilterAlwaysShowBothConditions"),this.maxNumConditions=null!==(e=t.maxNumConditions)&&void 0!==e?e:t.suppressAndOrCondition?1:2,this.maxNumConditions<1&&(T((function(){return console.warn('AG Grid: "filterParams.maxNumConditions" must be greater than or equal to zero.')}),"simpleFilterMaxNumConditions"),this.maxNumConditions=1),this.numAlwaysVisibleConditions=null!==(n=t.numAlwaysVisibleConditions)&&void 0!==n?n:t.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&(T((function(){return console.warn('AG Grid: "filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.')}),"simpleFilterNumAlwaysVisibleConditions"),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(T((function(){return console.warn('AG Grid: "filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".')}),"simpleFilterNumAlwaysVisibleGreaterThanMaxNumConditions"),this.numAlwaysVisibleConditions=this.maxNumConditions)},e.prototype.createOption=function(){var t=this,e=this.createManagedBean(new qr);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());var n=this.createValueElement();this.eConditionBodies.push(n),this.eFilterBody.appendChild(n),this.putOptionsIntoDropdown(e),this.resetType(e);var o=this.getNumConditions()-1;this.forEachPositionInput(o,(function(e){return t.resetInput(e)})),this.addChangedListeners(e,o)},e.prototype.createJoinOperatorPanel=function(){var t=document.createElement("div");this.eJoinOperatorPanels.push(t),t.classList.add("ag-filter-condition");var e=this.createJoinOperator(this.eJoinOperatorsAnd,t,"and"),n=this.createJoinOperator(this.eJoinOperatorsOr,t,"or");this.eFilterBody.appendChild(t);var o=this.eJoinOperatorPanels.length-1,r=this.joinOperatorId++;this.resetJoinOperatorAnd(e,o,r),this.resetJoinOperatorOr(n,o,r),this.isReadOnly()||(e.onValueChange(this.listener),n.onValueChange(this.listener))},e.prototype.createJoinOperator=function(t,e,n){var o=this.createManagedBean(new oi);return t.push(o),o.addCssClass("ag-filter-condition-operator"),o.addCssClass("ag-filter-condition-operator-"+n),e.appendChild(o.getGui()),o},e.prototype.getDefaultJoinOperator=function(t){return"AND"===t||"OR"===t?t:"AND"},e.prototype.putOptionsIntoDropdown=function(t){var e=this,n=this.optionsFactory.getFilterOptions();n.forEach((function(n){var o="string"==typeof n?e.createBoilerplateListOption(n):e.createCustomListOption(n);t.addOption(o)})),t.setDisabled(n.length<=1)},e.prototype.createBoilerplateListOption=function(t){return{value:t,text:this.translate(t)}},e.prototype.createCustomListOption=function(t){var e=t.displayKey,n=this.optionsFactory.getCustomOption(t.displayKey);return{value:e,text:n?this.localeService.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(e)}},e.prototype.isAllowTwoConditions=function(){return this.maxNumConditions>=2},e.prototype.createBodyTemplate=function(){return""},e.prototype.getCssIdentifier=function(){return"simple-filter"},e.prototype.updateUiVisibility=function(){var t=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,t)},e.prototype.updateNumConditions=function(){for(var t,e=-1,n=!0,o=0;o<this.getNumConditions();o++)this.isConditionUiComplete(o)?e=o:n=!1;if(this.shouldAddNewConditionAtEnd(n))this.createJoinOperatorPanel(),this.createOption();else{var r=null!==(t=this.lastUiCompletePosition)&&void 0!==t?t:this.getNumConditions()-2;if(e<r){this.removeConditionsAndOperators(r+1);var i=e+1,s=r-i;s>0&&this.removeConditionsAndOperators(i,s),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e},e.prototype.updateConditionStatusesAndValues=function(t,e){var n=this;this.eTypes.forEach((function(e,o){var r=n.isConditionDisabled(o,t);(1===o?[e,n.eJoinOperatorPanels[0],n.eJoinOperatorsAnd[0],n.eJoinOperatorsOr[0]]:[e]).forEach((function(t){t instanceof Qr||t instanceof qr?t.setDisabled(r):so(t,r)}))})),this.eConditionBodies.forEach((function(t,e){ro(t,n.isConditionBodyVisible(e))}));var o="OR"===(null!=e?e:this.getJoinOperator());this.eJoinOperatorsAnd.forEach((function(t,e){t.setValue(!o,!0)})),this.eJoinOperatorsOr.forEach((function(t,e){t.setValue(o,!0)})),this.forEachInput((function(e,o,r,i){n.setElementDisplayed(e,o<i),n.setElementDisabled(e,n.isConditionDisabled(r,t))})),this.resetPlaceholder()},e.prototype.shouldAddNewConditionAtEnd=function(t){return t&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()},e.prototype.removeConditionsAndOperators=function(t,e){if(!(t>=this.getNumConditions())){this.removeComponents(this.eTypes,t,e),this.removeElements(this.eConditionBodies,t,e),this.removeValueElements(t,e);var n=Math.max(t-1,0);this.removeElements(this.eJoinOperatorPanels,n,e),this.removeComponents(this.eJoinOperatorsAnd,n,e),this.removeComponents(this.eJoinOperatorsOr,n,e)}},e.prototype.removeElements=function(t,e,n){this.removeItems(t,e,n).forEach((function(t){return yo(t)}))},e.prototype.removeComponents=function(t,e,n){var o=this;this.removeItems(t,e,n).forEach((function(t){yo(t.getGui()),o.destroyBean(t)}))},e.prototype.removeItems=function(t,e,n){return null==n?t.splice(e):t.splice(e,n)},e.prototype.afterGuiAttached=function(e){if(t.prototype.afterGuiAttached.call(this,e),this.resetPlaceholder(),!e||!e.suppressFocus&&!this.isReadOnly()){var n=this.getInputs(0)[0];if(!n)return;n instanceof Qr&&n.getInputElement().focus()}},e.prototype.afterGuiDetached=function(){t.prototype.afterGuiDetached.call(this);var e=this.getModel();this.areModelsEqual(e,this.getModelFromUi())||this.resetUiToActiveModel(e);for(var n=-1,o=-1,r=!1,i=this.getJoinOperator(),s=this.getNumConditions()-1;s>=0;s--)if(this.isConditionUiComplete(s))-1===n&&(n=s,o=s);else{var a=s<n;(s>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(s-1)||a)&&(this.removeConditionsAndOperators(s,1),r=!0,a&&o--)}var l=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),l=!0),this.shouldAddNewConditionAtEnd(o===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),l=!0),l&&this.updateConditionStatusesAndValues(o,i),r&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=o},e.prototype.getPlaceholderText=function(t,e){var n=this.translate(t);if(D(this.filterPlaceholder)){var o=this.filterPlaceholder,r=this.eTypes[e].getValue();n=o({filterOptionKey:r,filterOption:this.translate(r),placeholder:n})}else"string"==typeof this.filterPlaceholder&&(n=this.filterPlaceholder);return n},e.prototype.resetPlaceholder=function(){var t=this,e=this.localeService.getLocaleTextFunc();this.forEachInput((function(n,o,r,i){if(n instanceof Qr){var s=0===o&&i>1?"inRangeStart":0===o?"filterOoo":"inRangeEnd",a=0===o&&i>1?e("ariaFilterFromValue","Filter from value"):0===o?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");n.setInputPlaceholder(t.getPlaceholderText(s,r)),n.setInputAriaLabel(a)}}))},e.prototype.setElementValue=function(t,e){t instanceof Qr&&t.setValue(null!=e?String(e):null,!0)},e.prototype.setElementDisplayed=function(t,e){t instanceof gr&&ro(t.getGui(),e)},e.prototype.setElementDisabled=function(t,e){t instanceof gr&&so(t.getGui(),e)},e.prototype.attachElementOnChange=function(t,e){t instanceof Qr&&t.onValueChange(e)},e.prototype.forEachInput=function(t){var e=this;this.getConditionTypes().forEach((function(n,o){e.forEachPositionTypeInput(o,n,t)}))},e.prototype.forEachPositionInput=function(t,e){var n=this.getConditionType(t);this.forEachPositionTypeInput(t,n,e)},e.prototype.forEachPositionTypeInput=function(t,e,n){for(var o=this.getNumberOfInputs(e),r=this.getInputs(t),i=0;i<r.length;i++){var s=r[i];null!=s&&n(s,i,t,o)}},e.prototype.isConditionDisabled=function(t,e){return!!this.isReadOnly()||0!==t&&t>e+1},e.prototype.isConditionBodyVisible=function(t){var e=this.getConditionType(t);return this.getNumberOfInputs(e)>0},e.prototype.isConditionUiComplete=function(t){return!(t>=this.getNumConditions())&&(this.getConditionType(t)!==e.EMPTY&&!this.getValues(t).some((function(t){return null==t})))},e.prototype.getNumConditions=function(){return this.eTypes.length},e.prototype.getUiCompleteConditions=function(){for(var t=[],e=0;e<this.getNumConditions();e++)this.isConditionUiComplete(e)&&t.push(this.createCondition(e));return t},e.prototype.createMissingConditionsAndOperators=function(){if(!this.isReadOnly())for(var t=this.getNumConditions();t<this.numAlwaysVisibleConditions;t++)this.createJoinOperatorPanel(),this.createOption()},e.prototype.resetUiToDefaults=function(t){var e=this;return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach((function(t){return e.resetType(t)})),this.eJoinOperatorsAnd.forEach((function(t,n){return e.resetJoinOperatorAnd(t,n,e.joinOperatorId+n)})),this.eJoinOperatorsOr.forEach((function(t,n){return e.resetJoinOperatorOr(t,n,e.joinOperatorId+n)})),this.joinOperatorId++,this.forEachInput((function(t){return e.resetInput(t)})),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,t||this.onUiChanged(),sr.resolve()},e.prototype.resetType=function(t){var e=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");t.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(e).setDisabled(this.isReadOnly())},e.prototype.resetJoinOperatorAnd=function(t,e,n){this.resetJoinOperator(t,e,this.isDefaultOperator("AND"),this.translate("andCondition"),n)},e.prototype.resetJoinOperatorOr=function(t,e,n){this.resetJoinOperator(t,e,this.isDefaultOperator("OR"),this.translate("orCondition"),n)},e.prototype.resetJoinOperator=function(t,e,n,o,r){this.updateJoinOperatorDisabled(t.setValue(n,!0).setName("ag-simple-filter-and-or-"+this.getCompId()+"-"+r).setLabel(o),e)},e.prototype.updateJoinOperatorsDisabled=function(){var t=this;this.eJoinOperatorsAnd.forEach((function(e,n){return t.updateJoinOperatorDisabled(e,n)})),this.eJoinOperatorsOr.forEach((function(e,n){return t.updateJoinOperatorDisabled(e,n)}))},e.prototype.updateJoinOperatorDisabled=function(t,e){t.setDisabled(this.isReadOnly()||e>0)},e.prototype.resetInput=function(t){this.setElementValue(t,null),this.setElementDisabled(t,this.isReadOnly())},e.prototype.setConditionIntoUi=function(t,e){var n=this,o=this.mapValuesFromModel(t);this.forEachInput((function(t,r,i,s){i===e&&n.setElementValue(t,null!=o[r]?o[r]:null)}))},e.prototype.setValueFromFloatingFilter=function(t){var e=this;this.forEachInput((function(n,o,r,i){e.setElementValue(n,0===o&&0===r?t:null)}))},e.prototype.isDefaultOperator=function(t){return t===this.defaultJoinOperator},e.prototype.addChangedListeners=function(t,e){var n=this;this.isReadOnly()||(t.onValueChange(this.listener),this.forEachPositionInput(e,(function(t){n.attachElementOnChange(t,n.listener)})))},e.prototype.individualConditionPasses=function(t,e){var n=this.getCellValue(t.node),o=this.mapValuesFromModel(e),r=this.optionsFactory.getCustomOption(e.type),i=this.evaluateCustomFilter(r,o,n);return null!=i?i:null==n?this.evaluateNullValue(e.type):this.evaluateNonNullValue(o,n,e,t)},e.prototype.evaluateCustomFilter=function(t,e,n){if(null!=t){var o=t.predicate;return null==o||e.some((function(t){return null==t}))?void 0:o(e,n)}},e.prototype.isBlank=function(t){return null==t||"string"==typeof t&&0===t.trim().length},e.EMPTY="empty",e.BLANK="blank",e.NOT_BLANK="notBlank",e.EQUALS="equals",e.NOT_EQUAL="notEqual",e.LESS_THAN="lessThan",e.LESS_THAN_OR_EQUAL="lessThanOrEqual",e.GREATER_THAN="greaterThan",e.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",e.IN_RANGE="inRange",e.CONTAINS="contains",e.NOT_CONTAINS="notContains",e.STARTS_WITH="startsWith",e.ENDS_WITH="endsWith",e}(kr),ci=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ui=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ci(e,t),e.prototype.setParams=function(e){t.prototype.setParams.call(this,e),this.scalarFilterParams=e},e.prototype.evaluateNullValue=function(t){switch(t){case e.EQUALS:case e.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case e.GREATER_THAN:case e.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case e.LESS_THAN:case e.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case e.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case e.BLANK:return!0;case e.NOT_BLANK:return!1}return!1},e.prototype.evaluateNonNullValue=function(t,n,o){var r=this.comparator(),i=null!=t[0]?r(t[0],n):0;switch(o.type){case e.EQUALS:return 0===i;case e.NOT_EQUAL:return 0!==i;case e.GREATER_THAN:return i>0;case e.GREATER_THAN_OR_EQUAL:return i>=0;case e.LESS_THAN:return i<0;case e.LESS_THAN_OR_EQUAL:return i<=0;case e.IN_RANGE:var s=r(t[1],n);return this.scalarFilterParams.inRangeInclusive?i>=0&&s<=0:i>0&&s<0;case e.BLANK:return this.isBlank(n);case e.NOT_BLANK:return!this.isBlank(n);default:return console.warn('AG Grid: Unexpected type of filter "'+o.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},e}(li),di=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),pi=function(){return pi=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},pi.apply(this,arguments)},hi=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},fi=1/0,gi=function(t){function e(e,n,o){var r=t.call(this,n,o)||this;return r.dateFilterParams=e,r}return di(e,t),e.prototype.conditionToString=function(t,e){var n=t.type,o=(e||{}).numberOfInputs,r=n==li.IN_RANGE||2===o,i=qn(t.dateFrom),s=qn(t.dateTo),a=this.dateFilterParams.inRangeFloatingFilterDateFormat;return r?(null!==i?Zn(i,a):"null")+"-"+(null!==s?Zn(s,a):"null"):null!=i?Zn(i,a):""+n},e}(ai),_i=function(t){function e(){var e=t.call(this,"dateFilter")||this;return e.eConditionPanelsFrom=[],e.eConditionPanelsTo=[],e.dateConditionFromComps=[],e.dateConditionToComps=[],e.minValidYear=1e3,e.maxValidYear=fi,e}return di(e,t),e.prototype.afterGuiAttached=function(e){t.prototype.afterGuiAttached.call(this,e),this.dateConditionFromComps[0].afterGuiAttached(e)},e.prototype.mapValuesFromModel=function(t){var e=t||{},n=e.dateFrom,o=e.dateTo,r=e.type;return[n&&qn(n)||null,o&&qn(o)||null].slice(0,this.getNumberOfInputs(r))},e.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},e.prototype.defaultComparator=function(t,e){return null==e||e<t?-1:e>t?1:0},e.prototype.setParams=function(e){this.dateFilterParams=e,t.prototype.setParams.call(this,e);var n=function(t,n){if(null!=e[t]){if(!isNaN(e[t]))return null==e[t]?n:Number(e[t]);console.warn("AG Grid: DateFilter "+t+" is not a number")}return n};this.minValidYear=n("minValidYear",1e3),this.maxValidYear=n("maxValidYear",fi),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),this.filterModelFormatter=new gi(this.dateFilterParams,this.localeService,this.optionsFactory)},e.prototype.createDateCompWrapper=function(t){var e=this,n=new Er(this.getContext(),this.userComponentFactory,{onDateChanged:function(){return e.onUiChanged()},filterParams:this.dateFilterParams},t);return this.addDestroyFunc((function(){return n.destroy()})),n},e.prototype.setElementValue=function(t,e){t.setDate(e)},e.prototype.setElementDisplayed=function(t,e){t.setDisplayed(e)},e.prototype.setElementDisabled=function(t,e){t.setDisabled(e)},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueElement=function(){var t=document.createElement("div");return t.classList.add("ag-filter-body"),this.createFromToElement(t,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(t,this.eConditionPanelsTo,this.dateConditionToComps,"to"),t},e.prototype.createFromToElement=function(t,e,n,o){var r=document.createElement("div");r.classList.add("ag-filter-"+o),r.classList.add("ag-filter-date-"+o),e.push(r),t.appendChild(r),n.push(this.createDateCompWrapper(r))},e.prototype.removeValueElements=function(t,e){this.removeDateComps(this.dateConditionFromComps,t,e),this.removeDateComps(this.dateConditionToComps,t,e),this.removeItems(this.eConditionPanelsFrom,t,e),this.removeItems(this.eConditionPanelsTo,t,e)},e.prototype.removeDateComps=function(t,e,n){this.removeItems(t,e,n).forEach((function(t){return t.destroy()}))},e.prototype.isConditionUiComplete=function(e){var n=this;if(!t.prototype.isConditionUiComplete.call(this,e))return!1;var o=!0;return this.forEachInput((function(t,r,i,s){var a;i!==e||!o||r>=s||(o=o&&(null!=(a=t.getDate())&&a.getUTCFullYear()>=n.minValidYear&&a.getUTCFullYear()<=n.maxValidYear))})),o},e.prototype.areSimpleModelsEqual=function(t,e){return t.dateFrom===e.dateFrom&&t.dateTo===e.dateTo&&t.type===e.type},e.prototype.getFilterType=function(){return"date"},e.prototype.createCondition=function(t){var e=this.getConditionType(t),n={},o=this.getValues(t);return o.length>0&&(n.dateFrom=Kn(o[0])),o.length>1&&(n.dateTo=Kn(o[1])),pi({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:e},n)},e.prototype.resetPlaceholder=function(){var t=this.localeService.getLocaleTextFunc(),e=this.translate("dateFormatOoo"),n=t("ariaFilterValue","Filter Value");this.forEachInput((function(t){t.setInputPlaceholder(e),t.setInputAriaLabel(n)}))},e.prototype.getInputs=function(t){return t>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[t],this.dateConditionToComps[t]]},e.prototype.getValues=function(t){var e=[];return this.forEachPositionInput(t,(function(t,n,o,r){n<r&&e.push(t.getDate())})),e},e.prototype.getModelAsString=function(t){var e;return null!==(e=this.filterModelFormatter.getModelAsString(t))&&void 0!==e?e:""},e.DEFAULT_FILTER_OPTIONS=[ui.EQUALS,ui.GREATER_THAN,ui.LESS_THAN,ui.NOT_EQUAL,ui.IN_RANGE,ui.BLANK,ui.NOT_BLANK],hi([K("userComponentFactory")],e.prototype,"userComponentFactory",void 0),e}(ui),mi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),yi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return mi(e,t),e.prototype.getDefaultDebounceMs=function(){return 0},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.isEventFromFloatingFilter=function(t){return t&&t.afterFloatingFilter},e.prototype.isEventFromDataChange=function(t){return null==t?void 0:t.afterDataChange},e.prototype.getLastType=function(){return this.lastType},e.prototype.isReadOnly=function(){return this.readOnly},e.prototype.setLastTypeFromModel=function(t){if(t){var e;if(t.operator)e=t.conditions[0];else e=t;this.lastType=e.type}else this.lastType=this.optionsFactory.getDefaultOption()},e.prototype.canWeEditAfterModelFromParentFilter=function(t){if(!t)return this.isTypeEditable(this.lastType);if(t.operator)return!1;var e=t;return this.isTypeEditable(e.type)},e.prototype.init=function(t){this.optionsFactory=new Sr,this.optionsFactory.init(t.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption(),this.readOnly=!!t.filterParams.readOnly;var e=this.isTypeEditable(this.lastType);this.setEditable(e)},e.prototype.doesFilterHaveSingleInput=function(t){var e=(this.optionsFactory.getCustomOption(t)||{}).numberOfInputs;return null==e||1==e},e.prototype.isTypeEditable=function(t){var e=[li.IN_RANGE,li.EMPTY,li.BLANK,li.NOT_BLANK];return!!t&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(t)&&e.indexOf(t)<0},e}(gr),vi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ci=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ei=function(t){function e(){return t.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')||this}return vi(e,t),e.prototype.getDefaultFilterOptions=function(){return _i.DEFAULT_FILTER_OPTIONS},e.prototype.init=function(e){t.prototype.init.call(this,e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent();var n=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(n("ariaDateFilterInput","Date Filter Input")),this.filterModelFormatter=new gi(this.filterParams,this.localeService,this.optionsFactory)},e.prototype.setEditable=function(t){ro(this.eDateWrapper,t),ro(this.eReadOnlyText.getGui(),!t)},e.prototype.onParentModelChanged=function(e,n){if(!this.isEventFromFloatingFilter(n)&&!this.isEventFromDataChange(n)){t.prototype.setLastTypeFromModel.call(this,e);var o=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(o),o){if(e){var r=e;this.dateComp.setDate(qn(r.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}},e.prototype.onDateChanged=function(){var t=this,e=Kn(this.dateComp.getDate());this.params.parentFilterInstance((function(n){if(n){var o=qn(e);n.onFloatingFilterChanged(t.getLastType()||null,o)}}))},e.prototype.createDateComponent=function(){var t=this,e=kr.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),n={onDateChanged:N(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new Er(this.getContext(),this.userComponentFactory,n,this.eDateWrapper),this.addDestroyFunc((function(){return t.dateComp.destroy()}))},e.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},Ci([K("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Ci([_r("eReadOnlyText")],e.prototype,"eReadOnlyText",void 0),Ci([_r("eDateWrapper")],e.prototype,"eDateWrapper",void 0),e}(yi),bi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Si=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},wi=function(t){function e(){return t.call(this,'\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')||this}return bi(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){var e=this,n=this.gridOptionsService.getDocument(),o=this.eDateInput.getInputElement(),r=this.shouldUseBrowserDatePicker(t);r&&(o.type="date");var i=r&&Tn();this.addManagedListener(o,"mousedown",(function(){e.eDateInput.isDisabled()||i||o.focus()})),this.addManagedListener(o,"input",(function(o){o.target===n.activeElement&&(e.eDateInput.isDisabled()||t.onDateChanged())}));var s=t.filterParams||{},a=s.minValidYear,l=s.maxValidYear;a&&(o.min=a+"-01-01"),l&&(o.max=l+"-12-31")},e.prototype.getDate=function(){return qn(this.eDateInput.getValue())},e.prototype.setDate=function(t){this.eDateInput.setValue(Kn(t,!1))},e.prototype.setInputPlaceholder=function(t){this.eDateInput.setInputPlaceholder(t)},e.prototype.setDisabled=function(t){this.eDateInput.setDisabled(t)},e.prototype.afterGuiAttached=function(t){t&&t.suppressFocus||this.eDateInput.getInputElement().focus()},e.prototype.shouldUseBrowserDatePicker=function(t){return t.filterParams&&null!=t.filterParams.browserDatePicker?t.filterParams.browserDatePicker:Dn()||xn()||Tn()&&Rn()>=14.1},Si([_r("eDateInput")],e.prototype,"eDateInput",void 0),e}(gr),Oi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Pi=function(t){function e(e,n,o){return void 0===n&&(n="ag-text-field"),void 0===o&&(o="text"),t.call(this,e,n,o)||this}return Oi(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},e.prototype.setValue=function(e,n){var o=t.prototype.setValue.call(this,e,n);return this.eInput.value!==e&&(this.eInput.value=r(e)?e:""),o},e.prototype.preventDisallowedCharacters=function(){var t=new RegExp("["+this.config.allowedCharPattern+"]");this.addManagedListener(this.eInput,"keypress",(function(e){e.ctrlKey||e.metaKey||e.key&&!t.test(e.key)&&e.preventDefault()})),this.addManagedListener(this.eInput,"paste",(function(e){var n,o=null===(n=e.clipboardData)||void 0===n?void 0:n.getData("text");o&&o.split("").some((function(e){return!t.test(e)}))&&e.preventDefault()}))},e}(Qr),Ti=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ri=function(t){function e(e){return t.call(this,e,"ag-number-field","number")||this}return Ti(e,t),e.prototype.postConstruct=function(){var e=this;t.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",(function(){var t=parseFloat(e.eInput.value),n=isNaN(t)?"":e.normalizeValue(t.toString());e.value!==n&&e.setValue(n)})),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any"},e.prototype.onWheel=function(t){document.activeElement===this.eInput&&t.preventDefault()},e.prototype.normalizeValue=function(t){if(""===t)return"";this.precision&&(t=this.adjustPrecision(t));var e=parseFloat(t);return null!=this.min&&e<this.min?t=this.min.toString():null!=this.max&&e>this.max&&(t=this.max.toString()),t},e.prototype.adjustPrecision=function(t){if(this.precision){var e=parseFloat(t).toFixed(this.precision);t=parseFloat(e).toString()}return t},e.prototype.setMin=function(t){return this.min===t||(this.min=t,ko(this.eInput,"min",t)),this},e.prototype.setMax=function(t){return this.max===t||(this.max=t,ko(this.eInput,"max",t)),this},e.prototype.setPrecision=function(t){return this.precision=t,this},e.prototype.setStep=function(t){return this.step===t||(this.step=t,ko(this.eInput,"step",t)),this},e.prototype.setValue=function(e,n){if(null!=e&&(e=this.adjustPrecision(e))!=this.normalizeValue(e))return this;return t.prototype.setValue.call(this,e,n)},e}(Pi),Di=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),xi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Di(e,t),e.prototype.conditionToString=function(t,e){var n=(e||{}).numberOfInputs;return t.type==li.IN_RANGE||2===n?t.filter+"-"+t.filterTo:null!=t.filter?""+t.filter:""+t.type},e}(ai);function Mi(t){var e=(null!=t?t:{}).allowedCharPattern;return e||(Dn()?null:"\\d\\-\\.")}var Ai,Li,Ii,Ni=function(t){function e(){var e=t.call(this,"numberFilter")||this;return e.eValuesFrom=[],e.eValuesTo=[],e}return Di(e,t),e.prototype.mapValuesFromModel=function(t){var e=t||{},n=e.filter,o=e.filterTo,r=e.type;return[this.processValue(n),this.processValue(o)].slice(0,this.getNumberOfInputs(r))},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.comparator=function(){return function(t,e){return t===e?0:t<e?1:-1}},e.prototype.setParams=function(e){this.numberFilterParams=e,t.prototype.setParams.call(this,e),this.filterModelFormatter=new xi(this.localeService,this.optionsFactory)},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueElement=function(){var t=Mi(this.numberFilterParams),e=document.createElement("div");return e.classList.add("ag-filter-body"),ze(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from",t),this.createFromToElement(e,this.eValuesTo,"to",t),e},e.prototype.createFromToElement=function(t,e,n,o){var r=this.createManagedBean(o?new Pi({allowedCharPattern:o}):new Ri);r.addCssClass("ag-filter-"+n),r.addCssClass("ag-filter-filter"),e.push(r),t.appendChild(r.getGui())},e.prototype.removeValueElements=function(t,e){this.removeComponents(this.eValuesFrom,t,e),this.removeComponents(this.eValuesTo,t,e)},e.prototype.getValues=function(t){var e=this,n=[];return this.forEachPositionInput(t,(function(t,o,r,i){o<i&&n.push(e.processValue(e.stringToFloat(t.getValue())))})),n},e.prototype.areSimpleModelsEqual=function(t,e){return t.filter===e.filter&&t.filterTo===e.filterTo&&t.type===e.type},e.prototype.getFilterType=function(){return"number"},e.prototype.processValue=function(t){return null==t||isNaN(t)?null:t},e.prototype.stringToFloat=function(t){if("number"==typeof t)return t;var e=o(t);return null!=e&&""===e.trim()&&(e=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(e):null==e||"-"===e.trim()?null:parseFloat(e)},e.prototype.createCondition=function(t){var e=this.getConditionType(t),n={filterType:this.getFilterType(),type:e},o=this.getValues(t);return o.length>0&&(n.filter=o[0]),o.length>1&&(n.filterTo=o[1]),n},e.prototype.getInputs=function(t){return t>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[t],this.eValuesTo[t]]},e.prototype.getModelAsString=function(t){var e;return null!==(e=this.filterModelFormatter.getModelAsString(t))&&void 0!==e?e:""},e.DEFAULT_FILTER_OPTIONS=[ui.EQUALS,ui.NOT_EQUAL,ui.LESS_THAN,ui.LESS_THAN_OR_EQUAL,ui.GREATER_THAN,ui.GREATER_THAN_OR_EQUAL,ui.IN_RANGE,ui.BLANK,ui.NOT_BLANK],e}(ui),ki=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Fi=function(){return Fi=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Fi.apply(this,arguments)},Gi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ki(e,t),e.prototype.conditionToString=function(t,e){var n=(e||{}).numberOfInputs;return t.type==li.IN_RANGE||2===n?t.filter+"-"+t.filterTo:null!=t.filter?""+t.filter:""+t.type},e}(ai),Bi=function(t){function e(){var e=t.call(this,"textFilter")||this;return e.eValuesFrom=[],e.eValuesTo=[],e}return ki(e,t),e.trimInput=function(t){var e=t&&t.trim();return""===e?t:e},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.setParams=function(n){this.textFilterParams=n,t.prototype.setParams.call(this,n),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?e.DEFAULT_FORMATTER:e.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new Gi(this.localeService,this.optionsFactory)},e.prototype.getTextMatcher=function(){var t=this.textFilterParams.textCustomComparator;return t?(or.doOnce((function(){return console.warn("AG Grid - textCustomComparator is deprecated, use textMatcher instead.")}),"textCustomComparator.deprecated"),function(e){var n=e.filterOption,o=e.value,r=e.filterText;return t(n,o,r)}):this.textFilterParams.textMatcher||e.DEFAULT_MATCHER},e.prototype.createCondition=function(t){var e=this.getConditionType(t),n={filterType:this.getFilterType(),type:e},o=this.getValues(t);return o.length>0&&(n.filter=o[0]),o.length>1&&(n.filterTo=o[1]),n},e.prototype.getFilterType=function(){return"text"},e.prototype.areSimpleModelsEqual=function(t,e){return t.filter===e.filter&&t.filterTo===e.filterTo&&t.type===e.type},e.prototype.getInputs=function(t){return t>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[t],this.eValuesTo[t]]},e.prototype.getValues=function(t){var n=this,r=[];return this.forEachPositionInput(t,(function(t,i,s,a){if(i<a){var l=o(t.getValue()),c=(n.textFilterParams.trimInput?e.trimInput(l):l)||null;r.push(c),t.setValue(c,!0)}})),r},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueElement=function(){var t=document.createElement("div");return t.classList.add("ag-filter-body"),ze(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from"),this.createFromToElement(t,this.eValuesTo,"to"),t},e.prototype.createFromToElement=function(t,e,n){var o=this.createManagedBean(new Pi);o.addCssClass("ag-filter-"+n),o.addCssClass("ag-filter-filter"),e.push(o),t.appendChild(o.getGui())},e.prototype.removeValueElements=function(t,e){this.removeComponents(this.eValuesFrom,t,e),this.removeComponents(this.eValuesTo,t,e)},e.prototype.mapValuesFromModel=function(t){var e=t||{},n=e.filter,o=e.filterTo,r=e.type;return[n||null,o||null].slice(0,this.getNumberOfInputs(r))},e.prototype.evaluateNullValue=function(t){var e=[li.NOT_EQUAL,li.NOT_CONTAINS,li.BLANK];return!!t&&e.indexOf(t)>=0},e.prototype.evaluateNonNullValue=function(t,e,n,o){var r=this,i=t.map((function(t){return r.formatter(t)}))||[],s=this.formatter(e),a=this.textFilterParams,l=a.api,c=a.colDef,u=a.column,d=a.columnApi,p=a.context,h=a.textFormatter;if(n.type===li.BLANK)return this.isBlank(e);if(n.type===li.NOT_BLANK)return!this.isBlank(e);var f={api:l,colDef:c,column:u,columnApi:d,context:p,node:o.node,data:o.data,filterOption:n.type,value:s,textFormatter:h};return i.some((function(t){return r.matcher(Fi(Fi({},f),{filterText:t}))}))},e.prototype.getModelAsString=function(t){var e;return null!==(e=this.filterModelFormatter.getModelAsString(t))&&void 0!==e?e:""},e.DEFAULT_FILTER_OPTIONS=[li.CONTAINS,li.NOT_CONTAINS,li.EQUALS,li.NOT_EQUAL,li.STARTS_WITH,li.ENDS_WITH,li.BLANK,li.NOT_BLANK],e.DEFAULT_FORMATTER=function(t){return t},e.DEFAULT_LOWERCASE_FORMATTER=function(t){return null==t?null:t.toString().toLowerCase()},e.DEFAULT_MATCHER=function(t){var n=t.filterOption,o=t.value,r=t.filterText;if(null==r)return!1;switch(n){case e.CONTAINS:return o.indexOf(r)>=0;case e.NOT_CONTAINS:return o.indexOf(r)<0;case e.EQUALS:return o===r;case e.NOT_EQUAL:return o!=r;case e.STARTS_WITH:return 0===o.indexOf(r);case e.ENDS_WITH:var i=o.lastIndexOf(r);return i>=0&&i===o.length-r.length;default:return!1}},e}(li),Ui=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ji=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Vi=function(t){function e(e){var n=t.call(this)||this;return n.params=e,n}return Ui(e,t),e.prototype.setupGui=function(t){this.eFloatingFilterTextInput=this.createManagedBean(new Pi(this.params.config)),this.eFloatingFilterTextInput.setInputAriaLabel(this.params.ariaLabel),t.appendChild(this.eFloatingFilterTextInput.getGui())},e.prototype.setEditable=function(t){this.eFloatingFilterTextInput.setDisabled(!t)},e.prototype.getValue=function(){return this.eFloatingFilterTextInput.getValue()},e.prototype.setValue=function(t,e){this.eFloatingFilterTextInput.setValue(t,e)},e.prototype.addValueChangedListener=function(t){var e=this.eFloatingFilterTextInput.getGui();this.addManagedListener(e,"input",t),this.addManagedListener(e,"keypress",t),this.addManagedListener(e,"keydown",t)},e}(Ut),Wi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ui(e,t),e.prototype.postConstruct=function(){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>\n        ')},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.onParentModelChanged=function(t,e){this.isEventFromFloatingFilter(e)||this.isEventFromDataChange(e)||(this.setLastTypeFromModel(t),this.setEditable(this.canWeEditAfterModelFromParentFilter(t)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(t)))},e.prototype.init=function(e){this.params=e;var n=this.columnModel.getDisplayNameForColumn(e.column,"header",!0)+" "+this.localeService.getLocaleTextFunc()("ariaFilterInput","Filter Input");if(this.floatingFilterInputService=this.createFloatingFilterInputService(n),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer),t.prototype.init.call(this,e),this.applyActive=kr.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){var o=kr.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),r=N(this.syncUpWithParentFilter.bind(this),o);this.floatingFilterInputService.addValueChangedListener(r)}},e.prototype.syncUpWithParentFilter=function(t){var e=this,n=t.key===Wo.ENTER;if(!this.applyActive||n){var o=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(o=Bi.trimInput(o),this.floatingFilterInputService.setValue(o,!0)),this.params.parentFilterInstance((function(t){t&&t.onFloatingFilterChanged(e.getLastType()||null,o||null)}))}},e.prototype.setEditable=function(t){this.floatingFilterInputService.setEditable(t)},ji([K("columnModel")],e.prototype,"columnModel",void 0),ji([_r("eFloatingFilterInputContainer")],e.prototype,"eFloatingFilterInputContainer",void 0),ji([H],e.prototype,"postConstruct",null),e}(yi),Hi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),$i=function(t){function e(e){var n=t.call(this)||this;return n.params=e,n.numberInputActive=!0,n}return Hi(e,t),e.prototype.setupGui=function(t){this.eFloatingFilterNumberInput=this.createManagedBean(new Ri),this.eFloatingFilterTextInput=this.createManagedBean(new Pi),this.eFloatingFilterTextInput.setDisabled(!0),this.eFloatingFilterNumberInput.setInputAriaLabel(this.params.ariaLabel),this.eFloatingFilterTextInput.setInputAriaLabel(this.params.ariaLabel),t.appendChild(this.eFloatingFilterNumberInput.getGui()),t.appendChild(this.eFloatingFilterTextInput.getGui())},e.prototype.setEditable=function(t){this.numberInputActive=t,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)},e.prototype.getValue=function(){return this.getActiveInputElement().getValue()},e.prototype.setValue=function(t,e){this.getActiveInputElement().setValue(t,e)},e.prototype.getActiveInputElement=function(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput},e.prototype.addValueChangedListener=function(t){this.setupListeners(this.eFloatingFilterNumberInput.getGui(),t),this.setupListeners(this.eFloatingFilterTextInput.getGui(),t)},e.prototype.setupListeners=function(t,e){this.addManagedListener(t,"input",e),this.addManagedListener(t,"keypress",e),this.addManagedListener(t,"keydown",e)},e}(Ut),zi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Hi(e,t),e.prototype.init=function(e){t.prototype.init.call(this,e),this.filterModelFormatter=new xi(this.localeService,this.optionsFactory)},e.prototype.getDefaultFilterOptions=function(){return Ni.DEFAULT_FILTER_OPTIONS},e.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},e.prototype.createFloatingFilterInputService=function(t){var e=Mi(this.params.filterParams);return e?this.createManagedBean(new Vi({config:{allowedCharPattern:e},ariaLabel:t})):this.createManagedBean(new $i({ariaLabel:t}))},e}(Wi),Ki=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Yi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ki(e,t),e.prototype.init=function(e){t.prototype.init.call(this,e),this.filterModelFormatter=new Gi(this.localeService,this.optionsFactory)},e.prototype.getDefaultFilterOptions=function(){return Bi.DEFAULT_FILTER_OPTIONS},e.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},e.prototype.createFloatingFilterInputService=function(t){return this.createManagedBean(new Vi({ariaLabel:t}))},e}(Wi),Zi=function(){function t(t,e){var n=this;void 0===e&&(e=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new et,this.eElement=t,this.preventMouseClick=e;var o=this.onTouchStart.bind(this),r=this.onTouchMove.bind(this),i=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",o,{passive:!0}),this.eElement.addEventListener("touchmove",r,{passive:!0}),this.eElement.addEventListener("touchend",i,{passive:!1}),this.destroyFuncs.push((function(){n.eElement.removeEventListener("touchstart",o,{passive:!0}),n.eElement.removeEventListener("touchmove",r,{passive:!0}),n.eElement.removeEventListener("touchend",i,{passive:!1})}))}return t.prototype.getActiveTouch=function(t){for(var e=0;e<t.length;e++){if(t[e].identifier===this.touchStart.identifier)return t[e]}return null},t.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},t.prototype.onTouchStart=function(e){var n=this;if(!this.touching){this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;var o=this.touchStart;window.setTimeout((function(){var r=n.touchStart===o;if(n.touching&&r&&!n.moved){n.moved=!0;var i={type:t.EVENT_LONG_TAP,touchStart:n.touchStart,touchEvent:e};n.eventService.dispatchEvent(i)}}),500)}},t.prototype.onTouchMove=function(t){if(this.touching){var e=this.getActiveTouch(t.touches);if(e)!qo(e,this.touchStart,4)&&(this.moved=!0)}},t.prototype.onTouchEnd=function(e){if(this.touching){if(!this.moved){var n={type:t.EVENT_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(n),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}},t.prototype.checkForDoubleTap=function(){var e=(new Date).getTime();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>t.DOUBLE_TAP_MILLIS){var n={type:t.EVENT_DOUBLE_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(n),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e},t.prototype.destroy=function(){this.destroyFuncs.forEach((function(t){return t()}))},t.EVENT_TAP="tap",t.EVENT_DOUBLE_TAP="doubleTap",t.EVENT_LONG_TAP="longTap",t.DOUBLE_TAP_MILLIS=500,t}(),qi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Xi=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ji=function(t){function e(n){var o=t.call(this)||this;return n||o.setTemplate(e.TEMPLATE),o}return qi(e,t),e.prototype.attachCustomElements=function(t,e,n,o,r){this.eSortOrder=t,this.eSortAsc=e,this.eSortDesc=n,this.eSortMixed=o,this.eSortNone=r},e.prototype.setupSort=function(t,e){var n=this;void 0===e&&(e=!1),this.column=t,this.suppressOrder=e,this.setupMultiSortIndicator(),!!this.column.getColDef().sortable&&(this.addInIcon("sortAscending",this.eSortAsc,t),this.addInIcon("sortDescending",this.eSortDesc,t),this.addInIcon("sortUnSort",this.eSortNone,t),this.addManagedListener(this.eventService,zt.EVENT_SORT_CHANGED,(function(){return n.onSortChanged()})),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_ROW_GROUP_CHANGED,(function(){return n.onSortChanged()})),this.onSortChanged())},e.prototype.addInIcon=function(t,e,n){if(null!=e){var o=jo(t,this.gridOptionsService,n);o&&e.appendChild(o)}},e.prototype.onSortChanged=function(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()},e.prototype.updateIcons=function(){var t=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){var e="asc"===t;ro(this.eSortAsc,e,{skipAriaHidden:!0})}if(this.eSortDesc){var n="desc"===t;ro(this.eSortDesc,n,{skipAriaHidden:!0})}if(this.eSortNone){var o=!this.column.getColDef().unSortIcon&&!this.gridOptionsService.is("unSortIcon"),r=null==t;ro(this.eSortNone,!o&&r,{skipAriaHidden:!0})}},e.prototype.setupMultiSortIndicator=function(){var t=this;this.addInIcon("sortUnSort",this.eSortMixed,this.column);var e=this.column.getColDef().showRowGroup;this.gridOptionsService.isColumnsSortingCoupledToGroup()&&e&&(this.addManagedListener(this.eventService,zt.EVENT_SORT_CHANGED,(function(){return t.updateMultiSortIndicator()})),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_ROW_GROUP_CHANGED,(function(){return t.updateMultiSortIndicator()})),this.updateMultiSortIndicator())},e.prototype.updateMultiSortIndicator=function(){if(this.eSortMixed){var t="mixed"===this.sortController.getDisplaySortForColumn(this.column);ro(this.eSortMixed,t,{skipAriaHidden:!0})}},e.prototype.updateSortOrder=function(){var t,e=this;if(this.eSortOrder){var n=this.sortController.getColumnsWithSortingOrdered(),o=null!==(t=this.sortController.getDisplaySortIndexForColumn(this.column))&&void 0!==t?t:-1,r=n.some((function(t){var n;return null!==(n=e.sortController.getDisplaySortIndexForColumn(t))&&void 0!==n&&n})),i=o>=0&&r;ro(this.eSortOrder,i,{skipAriaHidden:!0}),o>=0?this.eSortOrder.innerHTML=(o+1).toString():mo(this.eSortOrder)}},e.TEMPLATE='<span class="ag-sort-indicator-container">\n            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>\n        </span>',Xi([_r("eSortOrder")],e.prototype,"eSortOrder",void 0),Xi([_r("eSortAsc")],e.prototype,"eSortAsc",void 0),Xi([_r("eSortDesc")],e.prototype,"eSortDesc",void 0),Xi([_r("eSortMixed")],e.prototype,"eSortMixed",void 0),Xi([_r("eSortNone")],e.prototype,"eSortNone",void 0),Xi([K("columnModel")],e.prototype,"columnModel",void 0),Xi([K("sortController")],e.prototype,"sortController",void 0),e}(gr),Qi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ts=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},es=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lastMovingChanged=0,e}return Qi(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.refresh=function(t){return this.params=t,this.workOutTemplate()==this.currentTemplate&&(this.workOutShowMenu()==this.currentShowMenu&&(this.workOutSort()==this.currentSort&&(this.setDisplayName(t),!0)))},e.prototype.workOutTemplate=function(){var t=ht(this.params.template,e.TEMPLATE);return t=t&&t.trim?t.trim():t},e.prototype.init=function(t){this.params=t,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(t.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(t)},e.prototype.setDisplayName=function(t){if(this.currentDisplayName!=t.displayName){this.currentDisplayName=t.displayName;var e=Ce(this.currentDisplayName);this.eText&&(this.eText.innerHTML=e)}},e.prototype.setupIcons=function(t){this.addInIcon("menu",this.eMenu,t),this.addInIcon("filter",this.eFilter,t)},e.prototype.addInIcon=function(t,e,n){if(null!=e){var o=jo(t,this.gridOptionsService,n);o&&e.appendChild(o)}},e.prototype.setupTap=function(){var t=this,e=this.gridOptionsService;if(!e.is("suppressTouch")){var n=new Zi(this.getGui(),!0),o=e.is("suppressMenuHide"),i=o&&r(this.eMenu),s=i?new Zi(this.eMenu,!0):n;if(this.params.enableMenu){var a=i?"EVENT_TAP":"EVENT_LONG_TAP";this.addManagedListener(s,Zi[a],(function(n){e.api.showColumnMenuAfterMouseClick(t.params.column,n.touchStart)}))}if(this.params.enableSorting){this.addManagedListener(n,Zi.EVENT_TAP,(function(e){var n=e.touchStart.target;o&&t.eMenu.contains(n)||t.sortController.progressSort(t.params.column,!1,"uiColumnSorted")}))}this.addDestroyFunc((function(){return n.destroy()})),i&&this.addDestroyFunc((function(){return s.destroy()}))}},e.prototype.workOutShowMenu=function(){var t=!this.gridOptionsService.is("suppressMenuHide"),e=An()&&t;return this.params.enableMenu&&!e},e.prototype.setMenu=function(){var t=this;if(this.eMenu)if(this.currentShowMenu=this.workOutShowMenu(),this.currentShowMenu){var e=this.gridOptionsService.is("suppressMenuHide");this.addManagedListener(this.eMenu,"click",(function(){return t.showMenu(t.eMenu)})),this.eMenu.classList.toggle("ag-header-menu-always-show",e)}else yo(this.eMenu)},e.prototype.showMenu=function(t){t||(t=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,t,"columnMenu")},e.prototype.workOutSort=function(){return this.params.enableSorting},e.prototype.setupSort=function(){var t=this;if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new Ji(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),this.currentSort){var e="ctrl"===this.gridOptionsService.get("multiSortKey");this.addManagedListener(this.params.column,ct.EVENT_MOVING_CHANGED,(function(){t.lastMovingChanged=(new Date).getTime()})),this.eLabel&&this.addManagedListener(this.eLabel,"click",(function(n){var o=t.params.column.isMoving(),r=(new Date).getTime()-t.lastMovingChanged<50;if(!(o||r)){var i=e?n.ctrlKey||n.metaKey:n.shiftKey;t.params.progressSort(i)}}));var n=function(){if(t.addOrRemoveCssClass("ag-header-cell-sorted-asc",t.params.column.isSortAscending()),t.addOrRemoveCssClass("ag-header-cell-sorted-desc",t.params.column.isSortDescending()),t.addOrRemoveCssClass("ag-header-cell-sorted-none",t.params.column.isSortNone()),t.params.column.getColDef().showRowGroup){var e=t.columnModel.getSourceColumnsForGroupColumn(t.params.column),n=!(null==e?void 0:e.every((function(e){return t.params.column.getSort()==e.getSort()})));t.addOrRemoveCssClass("ag-header-cell-sorted-mixed",n)}};this.addManagedListener(this.eventService,zt.EVENT_SORT_CHANGED,n),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_ROW_GROUP_CHANGED,n)}},e.prototype.setupFilterIcon=function(){this.eFilter&&(this.addManagedListener(this.params.column,ct.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},e.prototype.onFilterChanged=function(){var t=this.params.column.isFilterActive();ro(this.eFilter,t,{skipAriaHidden:!0})},e.TEMPLATE='<div class="ag-cell-label-container" role="presentation">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation">\n                <span ref="eText" class="ag-header-cell-text"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>\n            </div>\n        </div>',ts([K("sortController")],e.prototype,"sortController",void 0),ts([K("menuFactory")],e.prototype,"menuFactory",void 0),ts([K("columnModel")],e.prototype,"columnModel",void 0),ts([_r("eFilter")],e.prototype,"eFilter",void 0),ts([_r("eSortIndicator")],e.prototype,"eSortIndicator",void 0),ts([_r("eMenu")],e.prototype,"eMenu",void 0),ts([_r("eLabel")],e.prototype,"eLabel",void 0),ts([_r("eText")],e.prototype,"eText",void 0),ts([_r("eSortOrder")],e.prototype,"eSortOrder",void 0),ts([_r("eSortAsc")],e.prototype,"eSortAsc",void 0),ts([_r("eSortDesc")],e.prototype,"eSortDesc",void 0),ts([_r("eSortMixed")],e.prototype,"eSortMixed",void 0),ts([_r("eSortNone")],e.prototype,"eSortNone",void 0),e}(gr),ns=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),os=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},rs=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return ns(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){this.params=t,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},e.prototype.checkWarnings=function(){if(this.params.template){T((function(){return console.warn("AG Grid: A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}),"HeaderGroupComp.templateNotSupported")}},e.prototype.setupExpandIcons=function(){var t=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var e=function(e){if(!Dt(e)){var n=!t.params.columnGroup.isExpanded();t.columnModel.setColumnGroupOpened(t.params.columnGroup.getProvidedColumnGroup(),n,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,e),this.addTouchAndClickListeners(this.eOpenIcon,e);var n=function(t){Rt(t)};this.addManagedListener(this.eCloseIcon,"dblclick",n),this.addManagedListener(this.eOpenIcon,"dblclick",n),this.addManagedListener(this.getGui(),"dblclick",e),this.updateIconVisibility();var o=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(o,dt.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(o,dt.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},e.prototype.addTouchAndClickListeners=function(t,e){var n=new Zi(t,!0);this.addManagedListener(n,Zi.EVENT_TAP,e),this.addDestroyFunc((function(){return n.destroy()})),this.addManagedListener(t,"click",e)},e.prototype.updateIconVisibility=function(){if(this.params.columnGroup.isExpandable()){var t=this.params.columnGroup.isExpanded();ro(this.eOpenIcon,t),ro(this.eCloseIcon,!t)}else ro(this.eOpenIcon,!1),ro(this.eCloseIcon,!1)},e.prototype.addInIcon=function(t,e){var n=jo(t,this.gridOptionsService,null);n&&this.getRefElement(e).appendChild(n)},e.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable())return ro(this.eOpenIcon,!1),void ro(this.eCloseIcon,!1)},e.prototype.setupLabel=function(){var t,e=this.params,n=e.displayName,o=e.columnGroup;if(r(n)){var i=Ce(n);this.getRefElement("agLabel").innerHTML=i}this.addOrRemoveCssClass("ag-sticky-label",!!(null===(t=o.getColGroupDef())||void 0===t?void 0:t.stickyLabel))},e.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',os([K("columnModel")],e.prototype,"columnModel",void 0),os([_r("agOpened")],e.prototype,"eOpenIcon",void 0),os([_r("agClosed")],e.prototype,"eCloseIcon",void 0),e}(gr),is=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ss=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return is(e,t),e.prototype.isPopup=function(){return!0},e.prototype.setParentComponent=function(e){e.addCssClass("ag-has-popup"),t.prototype.setParentComponent.call(this,e)},e.prototype.destroy=function(){var e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),t.prototype.destroy.call(this)},e}(gr),as=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ls=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},cs=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return as(e,t),e.prototype.init=function(t){this.params=t,this.focusAfterAttached=t.cellStartedEdit,this.eTextArea.setMaxLength(t.maxLength||200).setCols(t.cols||60).setRows(t.rows||10),r(t.value,!0)&&this.eTextArea.setValue(t.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this))},e.prototype.onKeyDown=function(t){var e=t.key;(e===Wo.LEFT||e===Wo.UP||e===Wo.RIGHT||e===Wo.DOWN||t.shiftKey&&e===Wo.ENTER)&&t.stopPropagation()},e.prototype.afterGuiAttached=function(){var t=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(t("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},e.prototype.getValue=function(){return this.params.parseValue(this.eTextArea.getValue())},e.TEMPLATE='<div class="ag-large-text" tabindex="0">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',ls([_r("eTextArea")],e.prototype,"eTextArea",void 0),e}(ss),us=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ds=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ps=function(t){function e(){var e=t.call(this,'<div class="ag-cell-edit-wrapper"><ag-select class="ag-cell-editor" ref="eSelect"></ag-select></div>')||this;return e.startedByEnter=!1,e}return us(e,t),e.prototype.init=function(t){var e=this;if(this.focusAfterAttached=t.cellStartedEdit,i(t.values))console.warn("AG Grid: no values found for select cellEditor");else{this.startedByEnter=null!=t.eventKey&&t.eventKey===Wo.ENTER;var n=!1;t.values.forEach((function(o){var r={value:o},i=e.valueFormatterService.formatValue(t.column,null,o),s=null!=i;r.text=s?i:o,e.eSelect.addOption(r),n=n||t.value===o})),n?this.eSelect.setValue(t.value,!0):t.values.length&&this.eSelect.setValue(t.values[0],!0),"fullRow"!==this.gridOptionsService.get("editType")&&this.addManagedListener(this.eSelect,qr.EVENT_ITEM_SELECTED,(function(){return t.stopEditing()}))}},e.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&this.eSelect.showPicker()},e.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},e.prototype.getValue=function(){return this.eSelect.getValue()},e.prototype.isPopup=function(){return!1},ds([K("valueFormatterService")],e.prototype,"valueFormatterService",void 0),ds([_r("eSelect")],e.prototype,"eSelect",void 0),e}(ss),hs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),fs=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},gs=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return hs(e,t),e.prototype.init=function(t){this.params=t;var e,n=this.eInput;t.cellStartedEdit?(this.focusAfterAttached=!0,t.eventKey===Wo.BACKSPACE||t.eventKey===Wo.DELETE?e="":t.charPress?e=t.charPress:(e=this.getStartValue(t),t.eventKey!==Wo.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,e=this.getStartValue(t)),null!=e&&n.setValue(e,!0),null!=t.maxLength&&n.setMaxLength(t.maxLength),this.addManagedListener(n.getGui(),"keydown",(function(t){var e=t.key;e!==Wo.PAGE_UP&&e!==Wo.PAGE_DOWN||t.preventDefault()}))},e.prototype.afterGuiAttached=function(){var t=this.localeService.getLocaleTextFunc(),e=this.eInput;if(e.setInputAriaLabel(t("ariaInputEditor","Input Editor")),this.focusAfterAttached){Tn()||e.getFocusableElement().focus();var n=e.getInputElement();if(this.highlightAllOnFocus)n.select();else{var o=e.getValue(),i=r(o)&&o.length||0;i&&n.setSelectionRange(i,i)}}},e.prototype.focusIn=function(){var t=this.eInput,e=t.getFocusableElement(),n=t.getInputElement();e.focus(),n.select()},e.prototype.getValue=function(){var t=this.eInput;return this.params.parseValue(t.getValue())},e.prototype.getStartValue=function(t){return t.useFormatter||t.column.getColDef().refData?t.formatValue(t.value):t.value},e.prototype.isPopup=function(){return!1},e.TEMPLATE='<div class="ag-cell-edit-wrapper">\n            <ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>\n        </div>',fs([_r("eInput")],e.prototype,"eInput",void 0),e}(ss),_s=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ms=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ys=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.refreshCount=0,n}return _s(e,t),e.prototype.init=function(t){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(t)},e.prototype.showDelta=function(t,e){var n=Math.abs(e),o=t.formatValue(n),i=r(o)?o:n,s=e>=0;this.eDelta.innerHTML=s?""+i:""+i,this.eDelta.classList.toggle("ag-value-change-delta-up",s),this.eDelta.classList.toggle("ag-value-change-delta-down",!s)},e.prototype.setTimerToRemoveDelta=function(){var t=this;this.refreshCount++;var e=this.refreshCount;window.setTimeout((function(){e===t.refreshCount&&t.hideDeltaValue()}),2e3)},e.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),mo(this.eDelta)},e.prototype.refresh=function(t){var e=t.value;if(e===this.lastValue)return!1;if(r(t.valueFormatted)?this.eValue.innerHTML=t.valueFormatted:r(t.value)?this.eValue.innerHTML=e:mo(this.eValue),this.filterManager.isSuppressFlashingCellsBecauseFiltering())return!1;if("number"==typeof e&&"number"==typeof this.lastValue){var n=e-this.lastValue;this.showDelta(t,n)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=e,!0},e.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',ms([K("filterManager")],e.prototype,"filterManager",void 0),e}(gr),vs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Cs=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Es=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.refreshCount=0,n.eCurrent=n.queryForHtmlElement(".ag-value-slide-current"),n}return vs(e,t),e.prototype.init=function(t){this.refresh(t)},e.prototype.addSlideAnimation=function(){var t=this;this.refreshCount++;var e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=Co('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout((function(){e===t.refreshCount&&t.ePrevious.classList.add("ag-value-slide-out-end")}),50),window.setTimeout((function(){e===t.refreshCount&&(t.getGui().removeChild(t.ePrevious),t.ePrevious=null)}),3e3)},e.prototype.refresh=function(t){var e=t.value;return i(e)&&(e=""),e!==this.lastValue&&(!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(this.addSlideAnimation(),this.lastValue=e,r(t.valueFormatted)?this.eCurrent.innerHTML=t.valueFormatted:r(t.value)?this.eCurrent.innerHTML=e:mo(this.eCurrent),!0))},e.TEMPLATE='<span>\n            <span class="ag-value-slide-current"></span>\n        </span>',Cs([K("filterManager")],e.prototype,"filterManager",void 0),e}(gr),bs=function(){return bs=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},bs.apply(this,arguments)},Ss=function(){function t(e){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=t.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=e}return t.prototype.setData=function(t){this.setDataCommon(t,!1)},t.prototype.updateData=function(t){this.setDataCommon(t,!0)},t.prototype.setDataCommon=function(t,e){var n=this.data;this.data=t,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();var o=this.createDataChangedEvent(t,n,e);this.dispatchLocalEvent(o)},t.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},t.prototype.createDataChangedEvent=function(e,n,o){return{type:t.EVENT_DATA_CHANGED,node:this,oldData:n,newData:e,update:o}},t.prototype.createLocalRowEvent=function(t){return{type:t,node:this}},t.prototype.getRowIndexString=function(){return"top"===this.rowPinned?"t-"+this.rowIndex:"bottom"===this.rowPinned?"b-"+this.rowIndex:this.rowIndex.toString()},t.prototype.createDaemonNode=function(){var e=new t(this.beans);return e.id=this.id,e.data=this.data,e.__daemon=!0,e.selected=this.selected,e.level=this.level,e},t.prototype.setDataAndId=function(t,e){var n=r(this.id)?this.createDaemonNode():null,o=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(e),this.beans.selectionService.syncInRowNode(this,n),this.checkRowSelectable();var i=this.createDataChangedEvent(t,o,!1);this.dispatchLocalEvent(i)},t.prototype.checkRowSelectable=function(){var t=this.beans.gridOptionsService.get("isRowSelectable");this.setRowSelectable(!t||t(this))},t.prototype.setRowSelectable=function(e){if(this.selectable!==e&&(this.selectable=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_SELECTABLE_CHANGED)),this.beans.gridOptionsService.is("groupSelectsChildren"))){var n=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:null!=n&&n,source:"selectableChanged"})}},t.prototype.setId=function(e){var n=this.beans.gridOptionsService.getRowIdFunc();if(n)if(this.data){var o=this.getGroupKeys(!0);this.id=n({data:this.data,parentKeys:o.length>0?o:void 0,level:this.level}),null!==this.id&&"string"==typeof this.id&&this.id.startsWith(t.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with "+t.ID_PREFIX_ROW_GROUP+", this is a reserved prefix for AG Grid's row grouping feature."),null!==this.id&&"string"!=typeof this.id&&(this.id=""+this.id)}else this.id=void 0;else this.id=e},t.prototype.getGroupKeys=function(t){void 0===t&&(t=!1);var e=[],n=this;for(t&&(n=n.parent);n&&n.level>=0;)e.push(n.key),n=n.parent;return e.reverse(),e},t.prototype.isPixelInRange=function(t){return!(!r(this.rowTop)||!r(this.rowHeight))&&(t>=this.rowTop&&t<this.rowTop+this.rowHeight)},t.prototype.setFirstChild=function(e){this.firstChild!==e&&(this.firstChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_FIRST_CHILD_CHANGED)))},t.prototype.setLastChild=function(e){this.lastChild!==e&&(this.lastChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_LAST_CHILD_CHANGED)))},t.prototype.setChildIndex=function(e){this.childIndex!==e&&(this.childIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_CHILD_INDEX_CHANGED)))},t.prototype.setRowTop=function(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_TOP_CHANGED)),this.setDisplayed(null!==e))},t.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},t.prototype.setDisplayed=function(e){this.displayed!==e&&(this.displayed=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_DISPLAYED_CHANGED)))},t.prototype.setDragging=function(e){this.dragging!==e&&(this.dragging=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_DRAGGING_CHANGED)))},t.prototype.setHighlighted=function(e){e!==this.highlighted&&(this.highlighted=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_HIGHLIGHT_CHANGED)))},t.prototype.setHovered=function(t){this.hovered!==t&&(this.hovered=t)},t.prototype.isHovered=function(){return this.hovered},t.prototype.setAllChildrenCount=function(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},t.prototype.setMaster=function(e){this.master!==e&&(this.master&&!e&&(this.expanded=!1),this.master=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_MASTER_CHANGED)))},t.prototype.setGroup=function(e){this.group!==e&&(this.group&&!e&&(this.expanded=!1),this.group=e,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_GROUP_CHANGED)))},t.prototype.setRowHeight=function(e,n){void 0===n&&(n=!1),this.rowHeight=e,this.rowHeightEstimated=n,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_HEIGHT_CHANGED))},t.prototype.setRowAutoHeight=function(t,e){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[e.getId()]=t,null!=t&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=N(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},t.prototype.checkAutoHeights=function(){var t=this,e=!1,n=!0,o=0,r=this.__autoHeights;if(null!=r&&(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach((function(i){var s=r[i.getId()];if(null==s){if(!t.beans.columnModel.isColSpanActive())return void(e=!0);var a=[];switch(i.getPinned()){case"left":a=t.beans.columnModel.getDisplayedLeftColumnsForRow(t);break;case"right":a=t.beans.columnModel.getDisplayedRightColumnsForRow(t);break;case null:a=t.beans.columnModel.getViewportCenterColumnsForRow(t)}if(a.includes(i))return void(e=!0);s=-1}else n=!1;s>o&&(o=s)})),!e&&((n||o<10)&&(o=this.beans.gridOptionsService.getRowHeightForNode(this).height),o!=this.rowHeight))){this.setRowHeight(o);var i=this.beans.rowModel;i.onRowHeightChangedDebounced&&i.onRowHeightChangedDebounced()}},t.prototype.setRowIndex=function(e){this.rowIndex!==e&&(this.rowIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_ROW_INDEX_CHANGED)))},t.prototype.setUiLevel=function(e){this.uiLevel!==e&&(this.uiLevel=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_UI_LEVEL_CHANGED)))},t.prototype.setExpanded=function(e,n){if(this.expanded!==e){this.expanded=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_EXPANDED_CHANGED));var o=Object.assign({},this.createGlobalRowEvent(zt.EVENT_ROW_GROUP_OPENED),{expanded:e,event:n||null});this.beans.rowNodeEventThrottle.dispatchExpanded(o),this.beans.gridOptionsService.is("groupIncludeFooter")&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},t.prototype.createGlobalRowEvent=function(t){return{type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi}},t.prototype.dispatchLocalEvent=function(t){this.eventService&&this.eventService.dispatchEvent(t)},t.prototype.setDataValue=function(t,e,n){var o,r=this,i="string"!=typeof t?t:null!==(o=r.beans.columnModel.getGridColumn(t))&&void 0!==o?o:r.beans.columnModel.getPrimaryColumn(t),s=this.getValueFromValueService(i);if(this.beans.gridOptionsService.is("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(i,s,e,n),!1;var a=this.beans.valueService.setValue(this,i,e,n);return this.dispatchCellChangedEvent(i,e,s),this.checkRowSelectable(),a},t.prototype.getValueFromValueService=function(t){var e=this.leafGroup&&this.beans.columnModel.isPivotMode(),n=this.group&&this.expanded&&!this.footer&&!e,o=this.beans.gridOptionsService.is("groupIncludeFooter"),r=this.beans.gridOptionsService.is("groupSuppressBlankHeader"),i=n&&o&&!r;return this.beans.valueService.getValue(t,this,!1,i)},t.prototype.dispatchEventForSaveValueReadOnly=function(t,e,n,o){var r={type:zt.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:t,colDef:t.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,data:this.data,node:this,oldValue:e,newValue:n,value:n,source:o};this.beans.eventService.dispatchEvent(r)},t.prototype.setGroupValue=function(t,e){var n=this.beans.columnModel.getGridColumn(t);i(this.groupData)&&(this.groupData={});var o=n.getColId(),r=this.groupData[o];r!==e&&(this.groupData[o]=e,this.dispatchCellChangedEvent(n,e,r))},t.prototype.setAggData=function(t){var e=this,n=v([this.aggData,t]),o=this.aggData;this.aggData=t,this.eventService&&n.forEach((function(t){var n=e.beans.columnModel.getGridColumn(t),r=e.aggData?e.aggData[t]:void 0,i=o?o[t]:void 0;e.dispatchCellChangedEvent(n,r,i)}))},t.prototype.updateHasChildren=function(){var e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(this.beans.gridOptionsService.isRowModelType("serverSide")){var n=this.beans.gridOptionsService.isTreeData(),o=this.beans.gridOptionsService.get("isServerSideGroup");e=!this.stub&&!this.footer&&(n?!!o&&o(this.data):!!this.group)}e!==this.__hasChildren&&(this.__hasChildren=!!e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_HAS_CHILDREN_CHANGED)))},t.prototype.hasChildren=function(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren},t.prototype.isEmptyRowGroupNode=function(){return this.group&&s(this.childrenAfterGroup)},t.prototype.dispatchCellChangedEvent=function(e,n,o){var r={type:t.EVENT_CELL_CHANGED,node:this,column:e,newValue:n,oldValue:o};this.dispatchLocalEvent(r)},t.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},t.prototype.isExpandable=function(){return!!(this.hasChildren()&&!this.footer||this.master)},t.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},t.prototype.depthFirstSearch=function(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach((function(e){return e.depthFirstSearch(t)})),t(this)},t.prototype.calculateSelectedFromChildren=function(){var t,e=!1,n=!1,o=!1;if(!(null===(t=this.childrenAfterGroup)||void 0===t?void 0:t.length))return this.selectable?this.selected:null;for(var r=0;r<this.childrenAfterGroup.length;r++){var i=this.childrenAfterGroup[r],s=i.isSelected();if(!i.selectable){var a=i.calculateSelectedFromChildren();if(null===a)continue;s=a}switch(s){case!0:e=!0;break;case!1:n=!0;break;default:o=!0}}return o||e&&n?void 0:!!e||!n&&(this.selectable?this.selected:null)},t.prototype.setSelectedInitialValue=function(t){this.selected=t},t.prototype.selectThisNode=function(e,n,o){void 0===o&&(o="api");var r=!this.selectable&&e,i=this.selected===e;if(r||i)return!1;this.selected=e,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(t.EVENT_ROW_SELECTED));var s=bs(bs({},this.createGlobalRowEvent(zt.EVENT_ROW_SELECTED)),{event:n||null,source:o});return this.beans.eventService.dispatchEvent(s),!0},t.prototype.setSelected=function(t,e,n,o){void 0===e&&(e=!1),void 0===n&&(n=!1),void 0===o&&(o="api"),this.setSelectedParams({newValue:t,clearSelection:e,suppressFinishActions:n,rangeSelect:!1,source:o})},t.prototype.setSelectedParams=function(t){return this.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),0):void 0===this.id?(console.warn("AG Grid: cannot select node until id for node is known"),0):this.beans.selectionService.setNodeSelected(bs(bs({},t),{node:this.footer?this.sibling:this}))},t.prototype.isRowPinned=function(){return"top"===this.rowPinned||"bottom"===this.rowPinned},t.prototype.isParentOfNode=function(t){for(var e=this.parent;e;){if(e===t)return!0;e=e.parent}return!1},t.prototype.addEventListener=function(t,e){this.eventService||(this.eventService=new et),this.eventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.eventService&&(this.eventService.removeEventListener(t,e),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))},t.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(t.EVENT_MOUSE_ENTER))},t.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(t.EVENT_MOUSE_LEAVE))},t.prototype.getFirstChildOfFirstChild=function(t){for(var e=this,n=!0,o=!1,i=null;n&&!o;){var s=e.parent;r(s)&&e.firstChild?s.rowGroupColumn===t&&(o=!0,i=s):n=!1,e=s}return o?i:null},t.prototype.isFullWidthCell=function(){var t=this.getIsFullWidthCellFunc();return!!t&&t({rowNode:this})},t.prototype.getIsFullWidthCellFunc=function(){var t=this.beans.gridOptionsService.getCallback("isFullWidthRow");if(t)return t;var e=this.beans.gridOptionsService.get("isFullWidthCell");return e?function(t){return e(t.rowNode)}:void 0},t.prototype.getRoute=function(){if(null!=this.key){for(var t=[],e=this;null!=e.key;)t.push(e.key),e=e.parent;return t.reverse()}},t.prototype.createFooter=function(){var e=this;if(!this.sibling){var n=new t(this.beans);Object.keys(this).forEach((function(t){n[t]=e[t]})),n.footer=!0,n.setRowTop(null),n.setRowIndex(null),n.oldRowTop=null,n.id="rowGroupFooter_"+this.id,n.sibling=this,this.sibling=n}},t.ID_PREFIX_ROW_GROUP="row-group-",t.ID_PREFIX_TOP_PINNED="t-",t.ID_PREFIX_BOTTOM_PINNED="b-",t.OBJECT_ID_SEQUENCE=0,t.EVENT_ROW_SELECTED="rowSelected",t.EVENT_DATA_CHANGED="dataChanged",t.EVENT_CELL_CHANGED="cellChanged",t.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",t.EVENT_MASTER_CHANGED="masterChanged",t.EVENT_GROUP_CHANGED="groupChanged",t.EVENT_MOUSE_ENTER="mouseEnter",t.EVENT_MOUSE_LEAVE="mouseLeave",t.EVENT_HEIGHT_CHANGED="heightChanged",t.EVENT_TOP_CHANGED="topChanged",t.EVENT_DISPLAYED_CHANGED="displayedChanged",t.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",t.EVENT_LAST_CHILD_CHANGED="lastChildChanged",t.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",t.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",t.EVENT_EXPANDED_CHANGED="expandedChanged",t.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",t.EVENT_SELECTABLE_CHANGED="selectableChanged",t.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",t.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",t.EVENT_DRAGGING_CHANGED="draggingChanged",t}(),ws=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Os=function(){return Os=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Os.apply(this,arguments)},Ps=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ts=function(t){function e(){return t.call(this,'\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return ws(e,t),e.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0)},e.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},e.prototype.onDataChanged=function(){this.onSelectionChanged()},e.prototype.onSelectableChanged=function(){this.showOrHideSelect()},e.prototype.onSelectionChanged=function(){var t=this.localeService.getLocaleTextFunc(),e=this.rowNode.isSelected(),n=void 0===e?t("ariaIndeterminate","indeterminate"):!0===e?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),o=t("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(e,!0),this.eCheckbox.setInputAriaLabel(o+" ("+n+")")},e.prototype.onCheckedClicked=function(t){var e=this.gridOptionsService.is("groupSelectsFiltered");return this.rowNode.setSelectedParams({newValue:!1,rangeSelect:t.shiftKey,groupSelectsFiltered:e,event:t,source:"checkboxSelected"})},e.prototype.onUncheckedClicked=function(t){var e=this.gridOptionsService.is("groupSelectsFiltered");return this.rowNode.setSelectedParams({newValue:!0,rangeSelect:t.shiftKey,groupSelectsFiltered:e,event:t,source:"checkboxSelected"})},e.prototype.init=function(t){var e=this;if(this.rowNode=t.rowNode,this.column=t.column,this.overrides=t.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",(function(t){Rt(t)})),this.addManagedListener(this.eCheckbox.getInputElement(),"click",(function(t){Rt(t),e.eCheckbox.getValue()?e.onCheckedClicked(t):e.onUncheckedClicked(t||{})})),this.addManagedListener(this.rowNode,Ss.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsService.get("isRowSelectable")||"function"==typeof this.getIsVisible()){var n=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_CHANGED,n),this.addManagedListener(this.rowNode,Ss.EVENT_DATA_CHANGED,n),this.addManagedListener(this.rowNode,Ss.EVENT_CELL_CHANGED,n),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},e.prototype.showOrHideSelect=function(){var t,e,n,o,r=this.rowNode.selectable,i=this.getIsVisible();if(r)if("function"==typeof i){var s=null===(t=this.overrides)||void 0===t?void 0:t.callbackParams,a=null===(e=this.column)||void 0===e?void 0:e.createColumnFunctionCallbackParams(this.rowNode);r=!!a&&i(Os(Os({},s),a))}else r=null!=i&&i;if(null===(n=this.column)||void 0===n?void 0:n.getColDef().showDisabledCheckboxes)return this.eCheckbox.setDisabled(!r),this.setVisible(!0),void this.setDisplayed(!0);(null===(o=this.overrides)||void 0===o?void 0:o.removeHidden)?this.setDisplayed(r):this.setVisible(r)},e.prototype.getIsVisible=function(){var t,e;return this.overrides?this.overrides.isVisible:null===(e=null===(t=this.column)||void 0===t?void 0:t.getColDef())||void 0===e?void 0:e.checkboxSelection},Ps([_r("eCheckbox")],e.prototype,"eCheckbox",void 0),Ps([H],e.prototype,"postConstruct",null),e}(gr),Rs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ds=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},xs=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};!function(t){t[t.ToolPanel=0]="ToolPanel",t[t.HeaderCell=1]="HeaderCell",t[t.RowDrag=2]="RowDrag",t[t.ChartPanel=3]="ChartPanel"}(Ai||(Ai={})),function(t){t[t.Up=0]="Up",t[t.Down=1]="Down"}(Li||(Li={})),function(t){t[t.Left=0]="Left",t[t.Right=1]="Right"}(Ii||(Ii={}));var Ms,As=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dragSourceAndParamsList=[],e.dropTargets=[],e}var n;return Rs(e,t),n=e,e.prototype.init=function(){this.ePinnedIcon=Uo("columnMovePin",this.gridOptionsService,null),this.eHideIcon=Uo("columnMoveHide",this.gridOptionsService,null),this.eMoveIcon=Uo("columnMoveMove",this.gridOptionsService,null),this.eLeftIcon=Uo("columnMoveLeft",this.gridOptionsService,null),this.eRightIcon=Uo("columnMoveRight",this.gridOptionsService,null),this.eGroupIcon=Uo("columnMoveGroup",this.gridOptionsService,null),this.eAggregateIcon=Uo("columnMoveValue",this.gridOptionsService,null),this.ePivotIcon=Uo("columnMovePivot",this.gridOptionsService,null),this.eDropNotAllowedIcon=Uo("dropNotAllowed",this.gridOptionsService,null)},e.prototype.addDragSource=function(t,e){void 0===e&&(e=!1);var n={eElement:t.eElement,dragStartPixels:t.dragStartPixels,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this)};this.dragSourceAndParamsList.push({params:n,dragSource:t}),this.dragService.addDragSource(n,e)},e.prototype.removeDragSource=function(t){var e=this.dragSourceAndParamsList.find((function(e){return e.dragSource===t}));e&&(this.dragService.removeDragSource(e.params),mt(this.dragSourceAndParamsList,e))},e.prototype.clearDragSourceParamsList=function(){var t=this;this.dragSourceAndParamsList.forEach((function(e){return t.dragService.removeDragSource(e.params)})),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0},e.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},e.prototype.onDragStart=function(t,e){this.dragging=!0,this.dragSource=t,this.eventLastTime=e,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},e.prototype.onDragStop=function(t){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var e=this.createDropTargetEvent(this.lastDropTarget,t,null,null,!1);this.lastDropTarget.onDragStop(e)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},e.prototype.onDragging=function(t,e){var n,o,r,i,s=this,a=this.getHorizontalDirection(t),l=this.getVerticalDirection(t);this.eventLastTime=t,this.positionGhost(t);var c=this.dropTargets.filter((function(e){return s.isMouseOnDropTarget(t,e)})),u=this.findCurrentDropTarget(t,c);if(u!==this.lastDropTarget)this.leaveLastTargetIfExists(t,a,l,e),null!==this.lastDropTarget&&null===u&&(null===(o=(n=this.dragSource).onGridExit)||void 0===o||o.call(n,this.dragItem)),null===this.lastDropTarget&&null!==u&&(null===(i=(r=this.dragSource).onGridEnter)||void 0===i||i.call(r,this.dragItem)),this.enterDragTargetIfExists(u,t,a,l,e),this.lastDropTarget=u;else if(u&&u.onDragging){var d=this.createDropTargetEvent(u,t,a,l,e);u.onDragging(d)}},e.prototype.getAllContainersFromDropTarget=function(t){var e=t.getSecondaryContainers?t.getSecondaryContainers():null,n=[[t.getContainer()]];return e?n.concat(e):n},e.prototype.allContainersIntersect=function(t,e){var n,o;try{for(var r=xs(e),i=r.next();!i.done;i=r.next()){var s=i.value.getBoundingClientRect();if(0===s.width||0===s.height)return!1;var a=t.clientX>=s.left&&t.clientX<s.right,l=t.clientY>=s.top&&t.clientY<s.bottom;if(!a||!l)return!1}}catch(t){n={error:t}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return!0},e.prototype.isMouseOnDropTarget=function(t,e){var n,o,r=this.getAllContainersFromDropTarget(e),i=!1;try{for(var s=xs(r),a=s.next();!a.done;a=s.next()){var l=a.value;if(this.allContainersIntersect(t,l)){i=!0;break}}}catch(t){n={error:t}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}return!(e.targetContainsSource&&!e.getContainer().contains(this.dragSource.eElement))&&(i&&e.isInterestedIn(this.dragSource.type,this.dragSource.eElement))},e.prototype.findCurrentDropTarget=function(t,e){var n,o,r,i,s=e.length;if(0===s)return null;if(1===s)return e[0];var a=this.gridOptionsService.getRootNode().elementsFromPoint(t.clientX,t.clientY);try{for(var l=xs(a),c=l.next();!c.done;c=l.next()){var u=c.value;try{for(var d=(r=void 0,xs(e)),p=d.next();!p.done;p=d.next()){var h=p.value;if(-1!==bt(this.getAllContainersFromDropTarget(h)).indexOf(u))return h}}catch(t){r={error:t}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}}catch(t){n={error:t}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}return null},e.prototype.enterDragTargetIfExists=function(t,e,n,o,r){if(t){if(t.onDragEnter){var i=this.createDropTargetEvent(t,e,n,o,r);t.onDragEnter(i)}this.setGhostIcon(t.getIconName?t.getIconName():null)}},e.prototype.leaveLastTargetIfExists=function(t,e,n,o){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var r=this.createDropTargetEvent(this.lastDropTarget,t,e,n,o);this.lastDropTarget.onDragLeave(r)}this.setGhostIcon(null)}},e.prototype.addDropTarget=function(t){this.dropTargets.push(t)},e.prototype.removeDropTarget=function(t){this.dropTargets=this.dropTargets.filter((function(e){return e.getContainer()!==t.getContainer()}))},e.prototype.hasExternalDropZones=function(){return this.dropTargets.some((function(t){return t.external}))},e.prototype.findExternalZone=function(t){return this.dropTargets.filter((function(t){return t.external})).find((function(e){return e.getContainer()===t.getContainer()}))||null},e.prototype.getHorizontalDirection=function(t){var e=this.eventLastTime&&this.eventLastTime.clientX,n=t.clientX;return e===n?null:e>n?Ii.Left:Ii.Right},e.prototype.getVerticalDirection=function(t){var e=this.eventLastTime&&this.eventLastTime.clientY,n=t.clientY;return e===n?null:e>n?Li.Up:Li.Down},e.prototype.createDropTargetEvent=function(t,e,n,o,r){var i=t.getContainer(),s=i.getBoundingClientRect(),a=this,l=a.gridApi,c=a.columnApi,u=a.dragItem,d=a.dragSource;return{event:e,x:e.clientX-s.left,y:e.clientY-s.top,vDirection:o,hDirection:n,dragSource:d,fromNudge:r,dragItem:u,api:l,columnApi:c,dropZoneTarget:i}},e.prototype.positionGhost=function(t){var e=this.eGhost;if(e){var n=e.getBoundingClientRect().height,o=kn()-2,r=Fn()-2,i=t.pageY-n/2,s=t.pageX-10,a=this.gridOptionsService.getDocument(),l=a.defaultView||window,c=l.pageYOffset||a.documentElement.scrollTop,u=l.pageXOffset||a.documentElement.scrollLeft;o>0&&s+e.clientWidth>o+u&&(s=o+u-e.clientWidth),s<0&&(s=0),r>0&&i+e.clientHeight>r+c&&(i=r+c-e.clientHeight),i<0&&(i=0),e.style.left=s+"px",e.style.top=i+"px"}},e.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},e.prototype.createGhost=function(){this.eGhost=Co(n.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);var t=this.environment.getTheme().theme;t&&this.eGhost.classList.add(t),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var e=this.eGhost.querySelector(".ag-dnd-ghost-label"),o=this.dragSource.dragItemName;D(o)&&(o=o()),e.innerHTML=Ce(o)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var r=this.gridOptionsService.getDocument(),i=null;try{i=r.fullscreenElement}catch(t){}finally{if(!i){var s=this.gridOptionsService.getRootNode(),a=s.querySelector("body");i=a||(s instanceof ShadowRoot?s:null==s?void 0:s.documentElement)}}this.eGhostParent=i,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},e.prototype.setGhostIcon=function(t,e){void 0===e&&(e=!1),mo(this.eGhostIcon);var o=null;switch(t||(t=this.dragSource.defaultIconName||n.ICON_NOT_ALLOWED),t){case n.ICON_PINNED:o=this.ePinnedIcon;break;case n.ICON_MOVE:o=this.eMoveIcon;break;case n.ICON_LEFT:o=this.eLeftIcon;break;case n.ICON_RIGHT:o=this.eRightIcon;break;case n.ICON_GROUP:o=this.eGroupIcon;break;case n.ICON_AGGREGATE:o=this.eAggregateIcon;break;case n.ICON_PIVOT:o=this.ePivotIcon;break;case n.ICON_NOT_ALLOWED:o=this.eDropNotAllowedIcon;break;case n.ICON_HIDE:o=this.eHideIcon}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",e),o===this.eHideIcon&&this.gridOptionsService.is("suppressDragLeaveHidesColumns")||o&&this.eGhostIcon.appendChild(o)},e.ICON_PINNED="pinned",e.ICON_MOVE="move",e.ICON_LEFT="left",e.ICON_RIGHT="right",e.ICON_GROUP="group",e.ICON_AGGREGATE="aggregate",e.ICON_PIVOT="pivot",e.ICON_NOT_ALLOWED="notAllowed",e.ICON_HIDE="hide",e.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',Ds([K("dragService")],e.prototype,"dragService",void 0),Ds([K("mouseEventService")],e.prototype,"mouseEventService",void 0),Ds([K("columnApi")],e.prototype,"columnApi",void 0),Ds([K("gridApi")],e.prototype,"gridApi",void 0),Ds([H],e.prototype,"init",null),Ds([$],e.prototype,"clearDragSourceParamsList",null),e=n=Ds([z("dragAndDropService")],e)}(Ut),Ls=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Is=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ns=function(t){function e(e,n,o,r,i,s){var a=t.call(this)||this;return a.cellValueFn=e,a.rowNode=n,a.column=o,a.customGui=r,a.dragStartPixels=i,a.suppressVisibilityChange=s,a.dragSource=null,a}return Ls(e,t),e.prototype.isCustomGui=function(){return null!=this.customGui},e.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(jo("rowDrag",this.beans.gridOptionsService,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var t=this.beans.gridOptionsService.is("rowDragManaged")?new Gs(this,this.beans,this.rowNode,this.column):new Fs(this,this.beans,this.rowNode,this.column);this.createManagedBean(t,this.beans.context)}},e.prototype.setDragElement=function(t,e){this.setTemplateFromElement(t),this.addDragSource(e)},e.prototype.getSelectedNodes=function(){if(!this.beans.gridOptionsService.is("rowDragMultiRow"))return[this.rowNode];var t=this.beans.selectionService.getSelectedNodes();return-1!==t.indexOf(this.rowNode)?t:[this.rowNode]},e.prototype.checkCompatibility=function(){var t=this.beans.gridOptionsService.is("rowDragManaged");this.beans.gridOptionsService.isTreeData()&&t&&T((function(){return console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true")}),"RowDragComp.managedAndTreeData")},e.prototype.getDragItem=function(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}},e.prototype.getRowDragText=function(t){if(t){var e=t.getColDef();if(e.rowDragText)return e.rowDragText}return this.gridOptionsService.get("rowDragText")},e.prototype.addDragSource=function(t){var e=this;void 0===t&&(t=4),this.dragSource&&this.removeDragSource();var n=this.getRowDragText(this.column),o=this.localeService.getLocaleTextFunc();this.dragSource={type:Ai.RowDrag,eElement:this.getGui(),dragItemName:function(){var t,r=e.getDragItem(),i=(null===(t=r.rowNodes)||void 0===t?void 0:t.length)||1;return n?n(r,i):1===i?e.cellValueFn():i+" "+o("rowDragRows","rows")},getDragItem:function(){return e.getDragItem()},dragStartPixels:t,dragSourceDomDataKey:this.beans.gridOptionsService.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},e.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},Is([K("beans")],e.prototype,"beans",void 0),Is([H],e.prototype,"postConstruct",null),Is([$],e.prototype,"removeDragSource",null),e}(gr),ks=function(t){function e(e,n,o){var r=t.call(this)||this;return r.parent=e,r.rowNode=n,r.column=o,r}return Ls(e,t),e.prototype.setDisplayedOrVisible=function(t){var e={skipAriaHidden:!0};if(t)this.parent.setDisplayed(!1,e);else{var n=!0,o=!1;this.column&&(n=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),o=D(this.column.getColDef().rowDrag)),o?(this.parent.setDisplayed(!0,e),this.parent.setVisible(n,e)):(this.parent.setDisplayed(n,e),this.parent.setVisible(!0,e))}},e}(Ut),Fs=function(t){function e(e,n,o,r){var i=t.call(this,e,o,r)||this;return i.beans=n,i}return Ls(e,t),e.prototype.postConstruct=function(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,zt.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},e.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},e.prototype.workOutVisibility=function(){var t=this.beans.gridOptionsService.is("suppressRowDrag");this.setDisplayedOrVisible(t)},Is([H],e.prototype,"postConstruct",null),e}(ks),Gs=function(t){function e(e,n,o,r){var i=t.call(this,e,o,r)||this;return i.beans=n,i}return Ls(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,zt.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,zt.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,zt.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,zt.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},e.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},e.prototype.workOutVisibility=function(){var t=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),e=t&&t.shouldPreventRowMove(),n=this.beans.gridOptionsService.is("suppressRowDrag"),o=this.beans.dragAndDropService.hasExternalDropZones(),r=e&&!o||n;this.setDisplayedOrVisible(r)},Is([H],e.prototype,"postConstruct",null),e}(ks),Bs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Us=function(){return Us=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Us.apply(this,arguments)},js=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Vs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Bs(e,t),e.prototype.init=function(t,e,n,o,r,i,s){this.params=s,this.eGui=e,this.eCheckbox=n,this.eExpanded=o,this.eContracted=r,this.comp=t,this.compClass=i;var a=this.isTopLevelFooter(),l=this.isEmbeddedRowMismatch(),c=null==s.value&&!s.node.master,u=!1;if(this.gridOptionsService.is("groupIncludeFooter")&&this.gridOptionsService.is("groupHideOpenParents")){var d=s.node;if(d.footer)u=(s.colDef&&s.colDef.showRowGroup)!==(d.rowGroupColumn&&d.rowGroupColumn.getColId())}this.cellIsBlank=!a&&(l||c&&!s.node.master||u),this.cellIsBlank||(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),this.addFullWidthRowDraggerIfNeeded(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded())},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.expandListener=null},e.prototype.refreshAriaExpanded=function(){var t=this.params,e=t.node,n=t.eParentOfValue;if(this.expandListener&&(this.expandListener=this.expandListener()),this.isExpandable()){var o=function(){on(n,!!e.expanded)};this.expandListener=this.addManagedListener(e,Ss.EVENT_EXPANDED_CHANGED,o)||null,o()}else rn(n)},e.prototype.isTopLevelFooter=function(){if(!this.gridOptionsService.is("groupIncludeTotalFooter"))return!1;if(null!=this.params.value||-1!=this.params.node.level)return!1;var t=this.params.colDef;if(null==t)return!0;if(!0===t.showRowGroup)return!0;var e=this.columnModel.getRowGroupColumns();return!e||0===e.length||e[0].getId()===t.showRowGroup},e.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsService.is("embedFullWidthRows"))return!1;var t="left"===this.params.pinned,e="right"===this.params.pinned,n=!t&&!e;return this.gridOptionsService.is("enableRtl")?this.columnModel.isPinningLeft()?!e:!n:this.columnModel.isPinningLeft()?!t:!n},e.prototype.findDisplayedGroupNode=function(){var t=this.params.column,e=this.params.node;if(this.showingValueForOpenedParent)for(var n=e.parent;null!=n;){if(n.rowGroupColumn&&t.isRowGroupDisplayed(n.rowGroupColumn.getId())){this.displayedGroupNode=n;break}n=n.parent}i(this.displayedGroupNode)&&(this.displayedGroupNode=e)},e.prototype.setupShowingValueForOpenedParent=function(){var t=this.params.node,e=this.params.column;if(this.gridOptionsService.is("groupHideOpenParents"))if(t.groupData){if(null!=t.rowGroupColumn){var n=t.rowGroupColumn.getId();if(e.isRowGroupDisplayed(n))return void(this.showingValueForOpenedParent=!1)}var o=null!=t.groupData[e.getId()];this.showingValueForOpenedParent=o}else this.showingValueForOpenedParent=!1;else this.showingValueForOpenedParent=!1},e.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},e.prototype.addGroupValue=function(){var t=this.adjustParamsWithDetailsFromRelatedColumn(),e=this.getInnerCompDetails(t),n=t.valueFormatted,o=t.value,r=n;null==r&&(r=""===o&&this.params.node.group?this.localeService.getLocaleTextFunc()("blanks","(Blanks)"):null!=o?o:null);this.comp.setInnerRenderer(e,r)},e.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var t=this.displayedGroupNode.rowGroupColumn,e=this.params.column;if(!t)return this.params;if(null!=e&&!e.isRowGroupDisplayed(t.getId()))return this.params;var n=this.params,o=this.params,r=o.value,i=o.node,s=this.valueFormatterService.formatValue(t,i,r);return Us(Us({},n),{valueFormatted:s})},e.prototype.addFooterValue=function(){var t=this.params.footerValueGetter,e="";if(t){var n=f(this.params);n.value=this.params.value,"function"==typeof t?e=t(n):"string"==typeof t?e=this.expressionService.evaluate(t,n):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else e="Total "+(null!=this.params.value?this.params.value:"");var o=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(o,e)},e.prototype.getInnerCompDetails=function(t){var e=this;if(t.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptionsService.get("groupRowRendererParams"),t);var n=this.userComponentFactory.getInnerRendererDetails(t,t),o=function(t){return t&&t.componentClass==e.compClass};if(n&&!o(n))return n;var r=this.displayedGroupNode.rowGroupColumn,i=r?r.getColDef():void 0;if(i){var s=this.userComponentFactory.getCellRendererDetails(i,t);if(s&&!o(s))return s;if(o(s)&&i.cellRendererParams&&i.cellRendererParams.innerRenderer)return this.userComponentFactory.getInnerRendererDetails(i.cellRendererParams,t)}},e.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,Ss.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},e.prototype.updateChildCount=function(){var t=this.displayedGroupNode.allChildrenCount,e=this.isShowRowGroupForThisRow()&&null!=t&&t>=0?"("+t+")":"";this.comp.setChildCount(e)},e.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsService.isTreeData())return!0;var t=this.displayedGroupNode.rowGroupColumn;if(!t)return!1;var e=this.params.column;return null==e||e.isRowGroupDisplayed(t.getId())},e.prototype.addExpandAndContract=function(){var t,e=this.params,n=jo("groupExpanded",this.gridOptionsService,null),o=jo("groupContracted",this.gridOptionsService,null);n&&this.eExpanded.appendChild(n),o&&this.eContracted.appendChild(o);var r=e.eGridCell;(null===(t=this.params.column)||void 0===t?void 0:t.isCellEditable(e.node))&&this.gridOptionsService.is("enableGroupEdit")||!this.isExpandable()||e.suppressDoubleClickExpand||this.addManagedListener(r,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(r,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(e.node,Ss.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var i=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,Ss.EVENT_ALL_CHILDREN_COUNT_CHANGED,i),this.addManagedListener(this.displayedGroupNode,Ss.EVENT_MASTER_CHANGED,i),this.addManagedListener(this.displayedGroupNode,Ss.EVENT_GROUP_CHANGED,i),this.addManagedListener(this.displayedGroupNode,Ss.EVENT_HAS_CHILDREN_CHANGED,i)},e.prototype.onExpandClicked=function(t){Dt(t)||(Rt(t),this.onExpandOrContract(t))},e.prototype.onExpandOrContract=function(t){var e=this.displayedGroupNode,n=!e.expanded;!n&&e.sticky&&this.scrollToStickyNode(e),e.setExpanded(n,t)},e.prototype.scrollToStickyNode=function(t){this.ctrlsService.getGridBodyCtrl().getScrollFeature().setVerticalScrollPosition(t.rowTop-t.stickyRowTop)},e.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var t=this.displayedGroupNode,e=this.columnModel.isPivotMode()&&t.leafGroup;if(!(t.isExpandable()&&!t.footer&&!e))return!1;var n=this.params.column;return null==n||"string"!=typeof n.getColDef().showRowGroup||this.isShowRowGroupForThisRow()},e.prototype.showExpandAndContractIcons=function(){var t=this,e=t.params,n=t.displayedGroupNode,o=t.columnModel,r=e.node,i=this.isExpandable();if(i){var s=!!this.showingValueForOpenedParent||r.expanded;this.comp.setExpandedDisplayed(s),this.comp.setContractedDisplayed(!s)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var a=o.isPivotMode(),l=a&&n.leafGroup,c=i&&!l,u=r.footer&&-1===r.level;this.comp.addOrRemoveCssClass("ag-cell-expandable",c),this.comp.addOrRemoveCssClass("ag-row-group",c),a?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",l):u||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!c)},e.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()},e.prototype.setupIndent=function(){var t=this.params.node;this.params.suppressPadding||(this.addManagedListener(t,Ss.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},e.prototype.setIndent=function(){if(!this.gridOptionsService.is("groupHideOpenParents")){var t=this.params,e=t.node,n=!!t.colDef,o=this.gridOptionsService.isTreeData(),r=!n||o||!0===t.colDef.showRowGroup?e.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+r,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},e.prototype.addFullWidthRowDraggerIfNeeded=function(){var t=this;if(this.params.fullWidth&&this.params.rowDrag){var e=new Ns((function(){return t.params.value}),this.params.node);this.createManagedBean(e,this.context),this.eGui.insertAdjacentElement("afterbegin",e.getGui())}},e.prototype.isUserWantsSelected=function(){var t=this.params.checkbox;return"function"==typeof t||!0===t},e.prototype.addCheckboxIfNeeded=function(){var t=this,e=this.displayedGroupNode,n=this.isUserWantsSelected()&&!e.footer&&!e.rowPinned&&!e.detail;if(n){var o=new Ts;this.getContext().createBean(o),o.init({rowNode:e,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(o.getGui()),this.addDestroyFunc((function(){return t.getContext().destroyBean(o)}))}this.comp.setCheckboxVisible(n)},e.prototype.onKeyDown=function(t){t.key!==Wo.ENTER||this.params.suppressEnterExpand||(this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(t))},e.prototype.onCellDblClicked=function(t){Dt(t)||(Lt(this.eExpanded,t)||Lt(this.eContracted,t)||this.onExpandOrContract(t))},js([K("expressionService")],e.prototype,"expressionService",void 0),js([K("valueFormatterService")],e.prototype,"valueFormatterService",void 0),js([K("columnModel")],e.prototype,"columnModel",void 0),js([K("userComponentFactory")],e.prototype,"userComponentFactory",void 0),js([K("ctrlsService")],e.prototype,"ctrlsService",void 0),e}(Ut),Ws=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Hs=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},$s=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return Ws(e,t),e.prototype.init=function(t){var e=this,n={setInnerRenderer:function(t,n){return e.setRenderDetails(t,n)},setChildCount:function(t){return e.eChildCount.innerHTML=t},addOrRemoveCssClass:function(t,n){return e.addOrRemoveCssClass(t,n)},setContractedDisplayed:function(t){return ro(e.eContracted,t)},setExpandedDisplayed:function(t){return ro(e.eExpanded,t)},setCheckboxVisible:function(t){return e.eCheckbox.classList.toggle("ag-invisible",!t)}},o=this.createManagedBean(new Vs),r=!t.colDef,i=this.getGui();o.init(n,i,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,t),r&&ze(i,"gridcell")},e.prototype.setRenderDetails=function(t,e){var n=this;if(t){var o=t.newAgStackInstance();if(!o)return;o.then((function(t){if(t){var e=function(){return n.context.destroyBean(t)};n.isAlive()?(n.eValue.appendChild(t.getGui()),n.addDestroyFunc(e)):e()}}))}else this.eValue.innerText=e},e.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),t.prototype.destroy.call(this)},e.prototype.refresh=function(){return!1},e.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',Hs([_r("eExpanded")],e.prototype,"eExpanded",void 0),Hs([_r("eContracted")],e.prototype,"eContracted",void 0),Hs([_r("eCheckbox")],e.prototype,"eCheckbox",void 0),Hs([_r("eValue")],e.prototype,"eValue",void 0),Hs([_r("eChildCount")],e.prototype,"eChildCount",void 0),e}(gr),zs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ks=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ys=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return zs(e,t),e.prototype.init=function(t){t.node.failedLoad?this.setupFailed():this.setupLoading()},e.prototype.setupFailed=function(){var t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingError","ERR")},e.prototype.setupLoading=function(){var t=jo("groupLoading",this.gridOptionsService,null);t&&this.eLoadingIcon.appendChild(t);var e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingOoo","Loading")},e.prototype.refresh=function(t){return!1},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',Ks([_r("eLoadingIcon")],e.prototype,"eLoadingIcon",void 0),Ks([_r("eLoadingText")],e.prototype,"eLoadingText",void 0),e}(gr),Zs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),qs=function(t){function e(){return t.call(this)||this}return Zs(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){var n,o=null!==(n=this.gridOptionsService.get("overlayLoadingTemplate"))&&void 0!==n?n:e.DEFAULT_LOADING_OVERLAY_TEMPLATE,r=this.localeService.getLocaleTextFunc(),i=o.replace("[LOADING...]",r("loadingOoo","Loading..."));this.setTemplate(i)},e.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',e}(gr),Xs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Js=function(t){function e(){return t.call(this)||this}return Xs(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){var n,o=null!==(n=this.gridOptionsService.get("overlayNoRowsTemplate"))&&void 0!==n?n:e.DEFAULT_NO_ROWS_TEMPLATE,r=this.localeService.getLocaleTextFunc(),i=o.replace("[NO_ROWS_TO_SHOW]",r("noRowsToShow","No Rows To Show"));this.setTemplate(i)},e.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',e}(gr),Qs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ta=function(t){function e(){return t.call(this,'<div class="ag-tooltip"></div>')||this}return Qs(e,t),e.prototype.init=function(t){var e=t.value;this.getGui().innerHTML=Ce(e)},e}(ss),ea=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),na=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},oa=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},ra=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(oa(arguments[e]));return t},ia=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.agGridDefaults={agDateInput:wi,agColumnHeader:es,agColumnGroupHeader:rs,agSortIndicator:Ji,agTextColumnFloatingFilter:Yi,agNumberColumnFloatingFilter:zi,agDateColumnFloatingFilter:Ei,agReadOnlyFloatingFilter:Cr,agAnimateShowChangeCellRenderer:ys,agAnimateSlideCellRenderer:Es,agGroupCellRenderer:$s,agGroupRowRenderer:$s,agLoadingCellRenderer:Ys,agCellEditor:gs,agTextCellEditor:gs,agSelectCellEditor:ps,agLargeTextCellEditor:cs,agTextColumnFilter:Bi,agNumberColumnFilter:Ni,agDateColumnFilter:_i,agLoadingOverlay:qs,agNoRowsOverlay:Js,agTooltipComponent:ta},e.enterpriseAgDefaultCompsModule={agSetColumnFilter:J.SetFilterModule,agSetColumnFloatingFilter:J.SetFilterModule,agMultiColumnFilter:J.MultiFilterModule,agMultiColumnFloatingFilter:J.MultiFilterModule,agGroupColumnFilter:J.RowGroupingModule,agGroupColumnFloatingFilter:J.RowGroupingModule,agRichSelect:J.RichSelectModule,agRichSelectCellEditor:J.RichSelectModule,agDetailCellRenderer:J.MasterDetailModule,agSparklineCellRenderer:J.SparklinesModule},e.deprecatedAgGridDefaults={agPopupTextCellEditor:'AG Grid: Since v27.1 The agPopupTextCellEditor is deprecated. Instead use { cellEditor: "agTextCellEditor", cellEditorPopup: true }',agPopupSelectCellEditor:'AG Grid: Since v27.1 the agPopupSelectCellEditor is deprecated. Instead use { cellEditor: "agSelectCellEditor", cellEditorPopup: true }'},e.jsComps={},e.fwComps={},e}return ea(e,t),e.prototype.init=function(){var t=this;null!=this.gridOptions.components&&h(this.gridOptions.components,(function(e,n){return t.registerJsComponent(e,n)})),null!=this.gridOptions.frameworkComponents&&h(this.gridOptions.frameworkComponents,(function(e,n){return t.registerFwComponent(e,n)}))},e.prototype.registerDefaultComponent=function(t,e){this.agGridDefaults[t]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[t]=e},e.prototype.registerJsComponent=function(t,e){this.fwComps[t]?console.error("Trying to register a component that you have already registered for frameworks: "+t):this.jsComps[t]=e},e.prototype.registerFwComponent=function(t,e){T((function(){return console.warn("AG Grid: As of v27, registering components via grid property frameworkComponents is deprecated. Instead register both JavaScript AND Framework Components via the components property.")}),"UserComponentRegistry.frameworkComponentsDeprecated"),this.fwComps[t]=e},e.prototype.retrieve=function(t,e){var n=this,o=function(t,e){return{componentFromFramework:e,component:t}},r=this.getFrameworkOverrides().frameworkComponent(e,this.gridOptions.components);if(null!=r)return o(r,!0);var i=this.fwComps[e];if(i)return o(i,!0);var s=this.jsComps[e];if(s)return o(s,this.getFrameworkOverrides().isFrameworkComponent(s));var a=this.agGridDefaults[e];if(a)return o(a,!1);var l=this.enterpriseAgDefaultCompsModule[e];return l?ot.assertRegistered(l,"AG Grid '"+t+"' component: "+e):this.deprecatedAgGridDefaults[e]?T((function(){return console.warn(n.deprecatedAgGridDefaults[e])}),e):T((function(){n.warnAboutMissingComponent(t,e)}),"MissingComp"+e),null},e.prototype.warnAboutMissingComponent=function(t,e){var n=ee(e,ra(Object.keys(this.agGridDefaults).filter((function(t){return!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(t)})),Object.keys(this.jsComps),Object.keys(this.fwComps)),!0,.8);console.warn("AG Grid: Could not find '"+e+"' component. It was configured as \""+t+": '"+e+"'\" but it wasn't found in the list of registered components."),n.length>0&&console.warn("         Did you mean: ["+n.slice(0,3)+"]?"),console.warn("If using a custom component check it has been registered as described in: https://ag-grid.com/javascript-data-grid/components/")},na([K("gridOptions")],e.prototype,"gridOptions",void 0),na([H],e.prototype,"init",null),e=na([z("userComponentRegistry")],e)}(Ut),sa={propertyName:"dateComponent",cellRenderer:!1},aa={propertyName:"headerComponent",cellRenderer:!1},la={propertyName:"headerGroupComponent",cellRenderer:!1},ca={propertyName:"cellRenderer",cellRenderer:!0},ua={propertyName:"cellEditor",cellRenderer:!1},da={propertyName:"innerRenderer",cellRenderer:!0},pa={propertyName:"loadingOverlayComponent",cellRenderer:!1},ha={propertyName:"noRowsOverlayComponent",cellRenderer:!1},fa={propertyName:"tooltipComponent",cellRenderer:!1},ga={propertyName:"filter",cellRenderer:!1},_a={propertyName:"floatingFilterComponent",cellRenderer:!1},ma={propertyName:"toolPanel",cellRenderer:!1},ya={propertyName:"statusPanel",cellRenderer:!1},va={propertyName:"fullWidthCellRenderer",cellRenderer:!0},Ca={propertyName:"loadingCellRenderer",cellRenderer:!0},Ea={propertyName:"groupRowRenderer",cellRenderer:!0},ba={propertyName:"detailCellRenderer",cellRenderer:!0},Sa=function(){function t(){}return t.getFloatingFilterType=function(t){return this.filterToFloatingFilterMapping[t]},t.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},t}(),wa=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Oa=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Pa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return wa(e,t),e.prototype.getHeaderCompDetails=function(t,e){return this.getCompDetails(t,aa,"agColumnHeader",e)},e.prototype.getHeaderGroupCompDetails=function(t){var e=t.columnGroup.getColGroupDef();return this.getCompDetails(e,la,"agColumnGroupHeader",t)},e.prototype.getFullWidthCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,va,null,t,!0)},e.prototype.getFullWidthLoadingCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,Ca,"agLoadingCellRenderer",t,!0)},e.prototype.getFullWidthGroupCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,Ea,"agGroupRowRenderer",t,!0)},e.prototype.getFullWidthDetailCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,ba,"agDetailCellRenderer",t,!0)},e.prototype.getInnerRendererDetails=function(t,e){return this.getCompDetails(t,da,null,e)},e.prototype.getFullWidthGroupRowInnerCellRenderer=function(t,e){return this.getCompDetails(t,da,null,e)},e.prototype.getCellRendererDetails=function(t,e){return this.getCompDetails(t,ca,null,e)},e.prototype.getCellEditorDetails=function(t,e){return this.getCompDetails(t,ua,"agCellEditor",e,!0)},e.prototype.getFilterDetails=function(t,e,n){return this.getCompDetails(t,ga,n,e,!0)},e.prototype.getDateCompDetails=function(t){return this.getCompDetails(this.gridOptions,sa,"agDateInput",t,!0)},e.prototype.getLoadingOverlayCompDetails=function(t){return this.getCompDetails(this.gridOptions,pa,"agLoadingOverlay",t,!0)},e.prototype.getNoRowsOverlayCompDetails=function(t){return this.getCompDetails(this.gridOptions,ha,"agNoRowsOverlay",t,!0)},e.prototype.getTooltipCompDetails=function(t){return this.getCompDetails(t.colDef,fa,"agTooltipComponent",t,!0)},e.prototype.getSetFilterCellRendererDetails=function(t,e){return this.getCompDetails(t,ca,null,e)},e.prototype.getFloatingFilterCompDetails=function(t,e,n){return this.getCompDetails(t,_a,n,e)},e.prototype.getToolPanelCompDetails=function(t,e){return this.getCompDetails(t,ma,null,e,!0)},e.prototype.getStatusPanelCompDetails=function(t,e){return this.getCompDetails(t,ya,null,e,!0)},e.prototype.getCompDetails=function(t,e,n,o,r){var i=this;void 0===r&&(r=!1);var s=e.propertyName,a=e.cellRenderer,l=this.getCompKeys(t,e,o),c=l.compName,u=l.jsComp,d=l.fwComp,p=l.paramsFromSelector,h=l.popupFromSelector,f=l.popupPositionFromSelector,g=function(t){var e=i.userComponentRegistry.retrieve(s,t);e&&(u=e.componentFromFramework?void 0:e.component,d=e.componentFromFramework?e.component:void 0)};if(null!=c&&g(c),null==u&&null==d&&null!=n&&g(n),u&&a&&!this.agComponentUtils.doesImplementIComponent(u)&&(u=this.agComponentUtils.adaptFunction(s,u)),u||d){var _=this.mergeParamsWithApplicationProvidedParams(t,e,o,p),m=null==u,y=u||d;return{componentFromFramework:m,componentClass:y,params:_,type:e,popupFromSelector:h,popupPositionFromSelector:f,newAgStackInstance:function(){return i.newAgStackInstance(y,m,_,e)}}}r&&console.error("AG Grid: Could not find component "+c+", did you forget to configure this component?")},e.prototype.getCompKeys=function(t,e,n){var o,r,i,s,a,l,c=this,u=e.propertyName;if(t){var d=t,p=d[u+"Selector"],h=p?p(n):null,f=function(t,e){var n=function(){var t="AG Grid: As of v27, the property "+u+"Framework is deprecated. The property "+u+" can now be used for JavaScript AND Framework Components.";T((function(){return console.warn(t)}),"UserComponentFactory."+u+"FrameworkDeprecated")};if("string"==typeof t)o=t;else if("string"==typeof e)n(),o=e;else if(null!=t&&!0!==t){c.getFrameworkOverrides().isFrameworkComponent(t)?i=t:r=t}else null!=e&&(n(),i=e)};if(h){if(null!=h.frameworkComponent){var g="AG Grid: As of v27, the return for "+u+"Selector has attributes [component, params] only. The attribute frameworkComponent is deprecated. You should now return back Framework Components using the 'component' attribute and the grid works out if it's a framework component or not.";T((function(){return console.warn(g)}),"UserComponentFactory."+u+"FrameworkSelectorDeprecated"),f(h.frameworkComponent,void 0)}else f(h.component,void 0);s=h.params,a=h.popup,l=h.popupPosition}else f(d[u],d[u+"Framework"])}return{compName:o,jsComp:r,fwComp:i,paramsFromSelector:s,popupFromSelector:a,popupPositionFromSelector:l}},e.prototype.newAgStackInstance=function(t,e,n,o){var r,i=o.propertyName;if(!e)r=new t;else{var s=this.componentMetadataProvider.retrieve(i);r=this.frameworkComponentWrapper.wrap(t,s.mandatoryMethodList,s.optionalMethodList,o)}var a=this.initComponent(r,n);return null==a?sr.resolve(r):a.then((function(){return r}))},e.prototype.mergeParamsWithApplicationProvidedParams=function(t,e,n,o){void 0===o&&(o=null);var r={context:this.gridOptionsService.context,columnApi:this.gridOptionsService.columnApi,api:this.gridOptionsService.api};E(r,n);var i=t&&t[e.propertyName+"Params"];"function"==typeof i?E(r,i(n)):"object"==typeof i&&E(r,i);return E(r,o),r},e.prototype.initComponent=function(t,e){if(this.context.createBean(t),null!=t.init)return t.init(e)},e.prototype.getDefaultFloatingFilterType=function(t){if(null==t)return null;var e=null,n=this.getCompKeys(t,ga),o=n.compName,r=n.jsComp,i=n.fwComp;o?e=Sa.getFloatingFilterType(o):null==r&&null==i&&!0===t.filter&&(e=ot.isRegistered(J.SetFilterModule)?"agSetColumnFloatingFilter":"agTextColumnFloatingFilter");return e},Oa([K("gridOptions")],e.prototype,"gridOptions",void 0),Oa([K("agComponentUtils")],e.prototype,"agComponentUtils",void 0),Oa([K("componentMetadataProvider")],e.prototype,"componentMetadataProvider",void 0),Oa([K("userComponentRegistry")],e.prototype,"userComponentRegistry",void 0),Oa([Y("frameworkComponentWrapper")],e.prototype,"frameworkComponentWrapper",void 0),e=Oa([z("userComponentFactory")],e)}(Ut);!function(t){t[t.SINGLE_SHEET=0]="SINGLE_SHEET",t[t.MULTI_SHEET=1]="MULTI_SHEET"}(Ms||(Ms={}));var Ta,Ra,Da=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),xa=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ma=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dragEndFunctions=[],e.dragSources=[],e}return Da(e,t),e.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},e.prototype.removeListener=function(t){var e=t.dragSource.eElement,n=t.mouseDownListener;if(e.removeEventListener("mousedown",n),t.touchEnabled){var o=t.touchStartListener;e.removeEventListener("touchstart",o,{passive:!0})}},e.prototype.removeDragSource=function(t){var e=this.dragSources.find((function(e){return e.dragSource===t}));e&&(this.removeListener(e),mt(this.dragSources,e))},e.prototype.isDragging=function(){return this.dragging},e.prototype.addDragSource=function(t,e){var n=this;void 0===e&&(e=!1);var o=this.onMouseDown.bind(this,t);t.eElement.addEventListener("mousedown",o);var r=null,i=this.gridOptionsService.is("suppressTouch");e&&!i&&(r=function(e){oo(e.target)||(e.cancelable&&(e.preventDefault(),e.stopPropagation()),n.onTouchStart(t,e))},t.eElement.addEventListener("touchstart",r,{passive:!1})),this.dragSources.push({dragSource:t,mouseDownListener:o,touchStartListener:r,touchEnabled:e})},e.prototype.getStartTarget=function(){return this.startTarget},e.prototype.onTouchStart=function(t,e){var n=this;this.currentDragParams=t,this.dragging=!1;var o=e.touches[0];this.touchLastTime=o,this.touchStart=o;var r=function(e){return n.onTouchUp(e,t.eElement)},i=e.target,s=[{target:this.gridOptionsService.getRootNode(),type:"touchmove",listener:function(t){t.cancelable&&t.preventDefault()},options:{passive:!1}},{target:i,type:"touchmove",listener:function(e){return n.onTouchMove(e,t.eElement)},options:{passive:!0}},{target:i,type:"touchend",listener:r,options:{passive:!0}},{target:i,type:"touchcancel",listener:r,options:{passive:!0}}];this.addTemporaryEvents(s),0===t.dragStartPixels&&this.onCommonMove(o,this.touchStart,t.eElement)},e.prototype.onMouseDown=function(t,e){var n=this,o=e;if(!(t.skipMouseEvent&&t.skipMouseEvent(e)||o._alreadyProcessedByDragService||(o._alreadyProcessedByDragService=!0,0!==e.button))){this.currentDragParams=t,this.dragging=!1,this.mouseStartEvent=e,this.startTarget=e.target;var r=this.gridOptionsService.getRootNode(),i=[{target:r,type:"mousemove",listener:function(e){return n.onMouseMove(e,t.eElement)}},{target:r,type:"mouseup",listener:function(e){return n.onMouseUp(e,t.eElement)}},{target:r,type:"contextmenu",listener:function(t){return t.preventDefault()}}];this.addTemporaryEvents(i),0===t.dragStartPixels&&this.onMouseMove(e,t.eElement)}},e.prototype.addTemporaryEvents=function(t){t.forEach((function(t){var e=t.target,n=t.type,o=t.listener,r=t.options;e.addEventListener(n,o,r)})),this.dragEndFunctions.push((function(){t.forEach((function(t){var e=t.target,n=t.type,o=t.listener,r=t.options;e.removeEventListener(n,o,r)}))}))},e.prototype.isEventNearStartEvent=function(t,e){var n=this.currentDragParams.dragStartPixels;return qo(t,e,r(n)?n:4)},e.prototype.getFirstActiveTouch=function(t){for(var e=0;e<t.length;e++)if(t[e].identifier===this.touchStart.identifier)return t[e];return null},e.prototype.onCommonMove=function(t,e,n){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(t,e))return;this.dragging=!0;var o={type:zt.EVENT_DRAG_STARTED,target:n};this.eventService.dispatchEvent(o),this.currentDragParams.onDragStart(e),this.currentDragParams.onDragging(e)}this.currentDragParams.onDragging(t)},e.prototype.onTouchMove=function(t,e){var n=this.getFirstActiveTouch(t.touches);n&&this.onCommonMove(n,this.touchStart,e)},e.prototype.onMouseMove=function(t,e){(this.gridOptionsService.is("enableCellTextSelection")||Tn())&&"mousemove"===t.type&&t.cancelable&&this.mouseEventService.isEventFromThisGrid(t)&&!this.isOverFormFieldElement(t)&&t.preventDefault(),this.onCommonMove(t,this.mouseStartEvent,e)},e.prototype.isOverFormFieldElement=function(t){var e=t.target,n=null==e?void 0:e.tagName.toLocaleLowerCase();return!!(null==n?void 0:n.match("^a$|textarea|input|select|button"))},e.prototype.onTouchUp=function(t,e){var n=this.getFirstActiveTouch(t.changedTouches);n||(n=this.touchLastTime),this.onUpCommon(n,e)},e.prototype.onMouseUp=function(t,e){this.onUpCommon(t,e)},e.prototype.onUpCommon=function(t,e){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(t);var n={type:zt.EVENT_DRAG_STOPPED,target:e};this.eventService.dispatchEvent(n)}this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach((function(t){return t()})),this.dragEndFunctions.length=0},xa([K("mouseEventService")],e.prototype,"mouseEventService",void 0),xa([$],e.prototype,"removeAllListeners",null),e=xa([z("dragService")],e)}(Ut);!function(t){t[t.Above=0]="Above",t[t.Below=1]="Below"}(Ta||(Ta={})),function(t){t.EVERYTHING="group",t.FILTER="filter",t.SORT="sort",t.MAP="map",t.AGGREGATE="aggregate",t.FILTER_AGGREGATES="filter_aggregates",t.PIVOT="pivot",t.NOTHING="nothing"}(Ra||(Ra={}));var Aa=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};function La(t){var e=t;return null!=e&&null!=e.getFrameworkComponentInstance?e.getFrameworkComponentInstance():t}var Ia,Na=function(){function t(){this.detailGridInfoMap={},this.destroyCalled=!1}return t.prototype.registerOverlayWrapperComp=function(t){this.overlayWrapperComp=t},t.prototype.registerSideBarComp=function(t){this.sideBarComp=t},t.prototype.init=function(){var t=this;switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel}this.ctrlsService.whenReady((function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl()}))},t.prototype.__getAlignedGridService=function(){return this.alignedGridsService},t.prototype.__getContext=function(){return this.context},t.prototype.getSetterMethod=function(t){return"set"+t.charAt(0).toUpperCase()+t.substring(1)},t.prototype.__setProperty=function(t,e){this.gridOptionsService.set(t,e);var n=this.getSetterMethod(t);this[n]&&this[n](e)},t.prototype.addDetailGridInfo=function(t,e){this.detailGridInfoMap[t]=e},t.prototype.removeDetailGridInfo=function(t){this.detailGridInfoMap[t]=void 0},t.prototype.getDetailGridInfo=function(t){return this.detailGridInfoMap[t]},t.prototype.forEachDetailGridInfo=function(t){var e=0;h(this.detailGridInfoMap,(function(n,o){r(o)&&(t(o,e),e++)}))},t.prototype.getDataAsCsv=function(t){if(ot.assertRegistered(J.CsvExportModule,"api.getDataAsCsv"))return this.csvCreator.getDataAsCsv(t)},t.prototype.exportDataAsCsv=function(t){ot.assertRegistered(J.CsvExportModule,"api.exportDataAsCSv")&&this.csvCreator.exportDataAsCsv(t)},t.prototype.getExcelExportMode=function(t){var e=this.gridOptionsService.get("defaultExcelExportParams");return Object.assign({exportMode:"xlsx"},e,t).exportMode},t.prototype.assertNotExcelMultiSheet=function(t,e){if(!ot.assertRegistered(J.ExcelExportModule,"api."+t))return!1;var n=this.getExcelExportMode(e);return this.excelCreator.getFactoryMode(n)!==Ms.MULTI_SHEET||(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),!1)},t.prototype.getDataAsExcel=function(t){if(this.assertNotExcelMultiSheet("getDataAsExcel",t))return this.excelCreator.getDataAsExcel(t)},t.prototype.exportDataAsExcel=function(t){this.assertNotExcelMultiSheet("exportDataAsExcel",t)&&this.excelCreator.exportDataAsExcel(t)},t.prototype.getSheetDataForExcel=function(t){if(ot.assertRegistered(J.ExcelExportModule,"api.getSheetDataForExcel")){var e=this.getExcelExportMode(t);return this.excelCreator.setFactoryMode(Ms.MULTI_SHEET,e),this.excelCreator.getSheetDataForExcel(t)}},t.prototype.getMultipleSheetsAsExcel=function(t){if(ot.assertRegistered(J.ExcelExportModule,"api.getMultipleSheetsAsExcel"))return this.excelCreator.getMultipleSheetsAsExcel(t)},t.prototype.exportMultipleSheetsAsExcel=function(t){if(ot.assertRegistered(J.ExcelExportModule,"api.exportMultipleSheetsAsExcel"))return this.excelCreator.exportMultipleSheetsAsExcel(t)},t.prototype.setGridAriaProperty=function(t,e){if(t){var n=this.ctrlsService.getGridBodyCtrl().getGui(),o="aria-"+t;null===e?n.removeAttribute(o):n.setAttribute(o,e)}},t.prototype.logMissingRowModel=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];console.error("AG Grid: api."+t+" can only be called when gridOptions.rowModelType is "+e.join(" or "))},t.prototype.setServerSideDatasource=function(t){this.serverSideRowModel?this.serverSideRowModel.setDatasource(t):this.logMissingRowModel("setServerSideDatasource","serverSide")},t.prototype.setCacheBlockSize=function(t){this.serverSideRowModel?(this.gridOptionsService.set("cacheBlockSize",t),this.serverSideRowModel.resetRootStore()):this.logMissingRowModel("setCacheBlockSize","serverSide")},t.prototype.setDatasource=function(t){this.gridOptionsService.isRowModelType("infinite")?this.rowModel.setDatasource(t):this.logMissingRowModel("setDatasource","infinite")},t.prototype.setViewportDatasource=function(t){this.gridOptionsService.isRowModelType("viewport")?this.rowModel.setViewportDatasource(t):this.logMissingRowModel("setViewportDatasource","viewport")},t.prototype.setRowData=function(t){null==this.immutableService?this.logMissingRowModel("setRowData","clientSide"):this.immutableService.isActive()?this.immutableService.setRowData(t):(this.selectionService.reset(),this.clientSideRowModel.setRowData(t))},t.prototype.setPinnedTopRowData=function(t){this.pinnedRowModel.setPinnedTopRowData(t)},t.prototype.setPinnedBottomRowData=function(t){this.pinnedRowModel.setPinnedBottomRowData(t)},t.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},t.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},t.prototype.getPinnedTopRow=function(t){return this.pinnedRowModel.getPinnedTopRow(t)},t.prototype.getPinnedBottomRow=function(t){return this.pinnedRowModel.getPinnedBottomRow(t)},t.prototype.setColumnDefs=function(t,e){void 0===e&&(e="api"),this.columnModel.setColumnDefs(t,e),this.gridOptionsService.set("columnDefs",t,!0,{source:e})},t.prototype.setAutoGroupColumnDef=function(t,e){void 0===e&&(e="api"),this.gridOptionsService.set("autoGroupColumnDef",t,!0,{source:e})},t.prototype.setDefaultColDef=function(t,e){void 0===e&&(e="api"),this.gridOptionsService.set("defaultColDef",t,!0,{source:e})},t.prototype.setColumnTypes=function(t,e){void 0===e&&(e="api"),this.gridOptionsService.set("columnTypes",t,!0,{source:e})},t.prototype.expireValueCache=function(){this.valueCache.expire()},t.prototype.getVerticalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()},t.prototype.getHorizontalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()},t.prototype.setAlwaysShowHorizontalScroll=function(t){this.gridOptionsService.set("alwaysShowHorizontalScroll",t)},t.prototype.setAlwaysShowVerticalScroll=function(t){this.gridOptionsService.set("alwaysShowVerticalScroll",t)},t.prototype.refreshCells=function(t){void 0===t&&(t={}),this.rowRenderer.refreshCells(t)},t.prototype.flashCells=function(t){void 0===t&&(t={}),this.rowRenderer.flashCells(t)},t.prototype.redrawRows=function(t){void 0===t&&(t={});var e=t?t.rowNodes:void 0;this.rowRenderer.redrawRows(e)},t.prototype.setFunctionsReadOnly=function(t){this.gridOptionsService.set("functionsReadOnly",t)},t.prototype.refreshHeader=function(){this.ctrlsService.getHeaderRowContainerCtrls().forEach((function(t){return t.refresh()}))},t.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},t.prototype.isColumnFilterPresent=function(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()},t.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},t.prototype.getModel=function(){return this.rowModel},t.prototype.setRowNodeExpanded=function(t,e,n){t&&(n&&t.parent&&-1!==t.parent.level&&this.setRowNodeExpanded(t.parent,e,n),t.setExpanded(e))},t.prototype.onGroupExpandedOrCollapsed=function(){i(this.clientSideRowModel)?this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide"):this.clientSideRowModel.refreshModel({step:Ra.MAP})},t.prototype.refreshClientSideRowModel=function(t){i(this.clientSideRowModel)?this.logMissingRowModel("refreshClientSideRowModel","clientSide"):this.clientSideRowModel.refreshModel(t)},t.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},t.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},t.prototype.getRowNode=function(t){return this.rowModel.getRowNode(t)},t.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gridOptionsService.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}},t.prototype.expandAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")},t.prototype.collapseAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):this.logMissingRowModel("expandAll","clientSide","serverSide")},t.prototype.addRenderedRowListener=function(t,e,n){this.rowRenderer.addRenderedRowListener(t,e,n)},t.prototype.getQuickFilter=function(){return this.gridOptionsService.get("quickFilterText")},t.prototype.setQuickFilter=function(t){this.gridOptionsService.set("quickFilterText",t)},t.prototype.setExcludeHiddenColumnsFromQuickFilter=function(t){this.gridOptionsService.set("excludeHiddenColumnsFromQuickFilter",t)},t.prototype.selectAll=function(t){void 0===t&&(t="apiSelectAll"),this.selectionService.selectAllRowNodes({source:t})},t.prototype.deselectAll=function(t){void 0===t&&(t="apiSelectAll"),this.selectionService.deselectAllRowNodes({source:t})},t.prototype.selectAllFiltered=function(t){void 0===t&&(t="apiSelectAllFiltered"),this.selectionService.selectAllRowNodes({source:t,justFiltered:!0})},t.prototype.deselectAllFiltered=function(t){void 0===t&&(t="apiSelectAllFiltered"),this.selectionService.deselectAllRowNodes({source:t,justFiltered:!0})},t.prototype.getServerSideSelectionState=function(){return i(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getServerSideSelectionState()},t.prototype.setServerSideSelectionState=function(t){i(this.serverSideRowModel)?this.logMissingRowModel("setServerSideSelectionState","serverSide"):this.selectionService.setServerSideSelectionState(t)},t.prototype.selectAllOnCurrentPage=function(t){void 0===t&&(t="apiSelectAllCurrentPage"),this.selectionService.selectAllRowNodes({source:t,justCurrentPage:!0})},t.prototype.deselectAllOnCurrentPage=function(t){void 0===t&&(t="apiSelectAllCurrentPage"),this.selectionService.deselectAllRowNodes({source:t,justCurrentPage:!0})},t.prototype.sizeColumnsToFit=function(t){this.gridBodyCtrl.sizeColumnsToFit(t)},t.prototype.showLoadingOverlay=function(){this.overlayWrapperComp.showLoadingOverlay()},t.prototype.showNoRowsOverlay=function(){this.overlayWrapperComp.showNoRowsOverlay()},t.prototype.hideOverlay=function(){this.overlayWrapperComp.hideOverlay()},t.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},t.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},t.prototype.getBestCostNodeSelection=function(){if(!i(this.clientSideRowModel))return this.selectionService.getBestCostNodeSelection();this.logMissingRowModel("getBestCostNodeSelection","clientSide")},t.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},t.prototype.ensureColumnVisible=function(t,e){void 0===e&&(e="auto"),this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(t,e)},t.prototype.ensureIndexVisible=function(t,e){this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(t,e)},t.prototype.ensureNodeVisible=function(t,e){void 0===e&&(e=null),this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(t,e)},t.prototype.forEachLeafNode=function(t){i(this.clientSideRowModel)?this.logMissingRowModel("forEachLeafNode","clientSide"):this.clientSideRowModel.forEachLeafNode(t)},t.prototype.forEachNode=function(t,e){this.rowModel.forEachNode(t,e)},t.prototype.forEachNodeAfterFilter=function(t){i(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilter","clientSide"):this.clientSideRowModel.forEachNodeAfterFilter(t)},t.prototype.forEachNodeAfterFilterAndSort=function(t){i(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide"):this.clientSideRowModel.forEachNodeAfterFilterAndSort(t)},t.prototype.getFilterInstance=function(t,e){var n=this.getFilterInstanceImpl(t,(function(t){if(e){var n=La(t);e(n)}}));return La(n)},t.prototype.getFilterInstanceImpl=function(t,e){var n=this.columnModel.getPrimaryColumn(t);if(n){var o=this.filterManager.getFilterComponent(n,"NO_UI"),r=o&&o.resolveNow(null,(function(t){return t}));return r?setTimeout(e,0,r):o&&o.then((function(t){e(t)})),r}},t.prototype.destroyFilter=function(t){var e=this.columnModel.getPrimaryColumn(t);if(e)return this.filterManager.destroyFilter(e,"api")},t.prototype.getStatusPanel=function(t){if(ot.assertRegistered(J.StatusBarModule,"api.getStatusPanel"))return La(this.statusBarService.getStatusPanel(t))},t.prototype.getColumnDef=function(t){var e=this.columnModel.getPrimaryColumn(t);return e?e.getColDef():null},t.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},t.prototype.onFilterChanged=function(){this.filterManager.onFilterChanged()},t.prototype.onSortChanged=function(){this.sortController.onSortChanged("api")},t.prototype.setFilterModel=function(t){this.filterManager.setFilterModel(t)},t.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},t.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},t.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},t.prototype.setFocusedCell=function(t,e,n){this.focusService.setFocusedCell({rowIndex:t,column:e,rowPinned:n,forceBrowserFocus:!0})},t.prototype.setSuppressRowDrag=function(t){this.gridOptionsService.set("suppressRowDrag",t)},t.prototype.setSuppressMoveWhenRowDragging=function(t){this.gridOptionsService.set("suppressMoveWhenRowDragging",t)},t.prototype.setSuppressRowClickSelection=function(t){this.gridOptionsService.set("suppressRowClickSelection",t)},t.prototype.addRowDropZone=function(t){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(t)},t.prototype.removeRowDropZone=function(t){var e=this.dragAndDropService.findExternalZone(t);e&&this.dragAndDropService.removeDropTarget(e)},t.prototype.getRowDropZoneParams=function(t){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(t)},t.prototype.setHeaderHeight=function(t){this.gridOptionsService.set("headerHeight",t)},t.prototype.setDomLayout=function(t){this.clientSideRowModel||"autoHeight"!==t||this.gridOptionsService.is("pagination")?this.gridOptionsService.set("domLayout",t):console.error("AG Grid: domLayout can only be set to 'autoHeight' when using the client side row model or when using pagination.")},t.prototype.setEnableCellTextSelection=function(t){this.gridBodyCtrl.setCellTextSelection(t)},t.prototype.setFillHandleDirection=function(t){this.gridOptionsService.set("fillHandleDirection",t)},t.prototype.setGroupHeaderHeight=function(t){this.gridOptionsService.set("groupHeaderHeight",t)},t.prototype.setFloatingFiltersHeight=function(t){this.gridOptionsService.set("floatingFiltersHeight",t)},t.prototype.setPivotHeaderHeight=function(t){this.gridOptionsService.set("pivotHeaderHeight",t)},t.prototype.setPivotGroupHeaderHeight=function(t){this.gridOptionsService.set("pivotGroupHeaderHeight",t)},t.prototype.setPivotMode=function(t){this.columnModel.setPivotMode(t)},t.prototype.setAnimateRows=function(t){this.gridOptionsService.set("animateRows",t)},t.prototype.setIsExternalFilterPresent=function(t){this.gridOptionsService.set("isExternalFilterPresent",t)},t.prototype.setDoesExternalFilterPass=function(t){this.gridOptionsService.set("doesExternalFilterPass",t)},t.prototype.setNavigateToNextCell=function(t){this.gridOptionsService.set("navigateToNextCell",t)},t.prototype.setTabToNextCell=function(t){this.gridOptionsService.set("tabToNextCell",t)},t.prototype.setTabToNextHeader=function(t){this.gridOptionsService.set("tabToNextHeader",t)},t.prototype.setNavigateToNextHeader=function(t){this.gridOptionsService.set("navigateToNextHeader",t)},t.prototype.setRowGroupPanelShow=function(t){this.gridOptionsService.set("rowGroupPanelShow",t)},t.prototype.setGroupRowAggNodes=function(t){ae("27.2","setGroupRowAggNodes","setGetGroupRowAgg"),this.gridOptionsService.set("groupRowAggNodes",t)},t.prototype.setGetGroupRowAgg=function(t){this.gridOptionsService.set("getGroupRowAgg",t)},t.prototype.setGetBusinessKeyForNode=function(t){this.gridOptionsService.set("getBusinessKeyForNode",t)},t.prototype.setGetChildCount=function(t){this.gridOptionsService.set("getChildCount",t)},t.prototype.setProcessRowPostCreate=function(t){this.gridOptionsService.set("processRowPostCreate",t)},t.prototype.setGetRowNodeId=function(t){ae("27.1","setGetRowNodeId","setGetRowId"),this.gridOptionsService.set("getRowNodeId",t)},t.prototype.setGetRowId=function(t){this.gridOptionsService.set("getRowId",t)},t.prototype.setGetRowClass=function(t){this.gridOptionsService.set("getRowClass",t)},t.prototype.setIsFullWidthCell=function(t){ae("27.2","setIsFullWidthCell","setIsFullWidthRow"),this.gridOptionsService.set("isFullWidthCell",t)},t.prototype.setIsFullWidthRow=function(t){this.gridOptionsService.set("isFullWidthRow",t)},t.prototype.setIsRowSelectable=function(t){this.gridOptionsService.set("isRowSelectable",t)},t.prototype.setIsRowMaster=function(t){this.gridOptionsService.set("isRowMaster",t)},t.prototype.setPostSort=function(t){ae("27.2","setPostSort","setPostSortRows"),this.gridOptionsService.set("postSort",t)},t.prototype.setPostSortRows=function(t){this.gridOptionsService.set("postSortRows",t)},t.prototype.setGetDocument=function(t){this.gridOptionsService.set("getDocument",t)},t.prototype.setGetContextMenuItems=function(t){this.gridOptionsService.set("getContextMenuItems",t)},t.prototype.setGetMainMenuItems=function(t){this.gridOptionsService.set("getMainMenuItems",t)},t.prototype.setProcessCellForClipboard=function(t){this.gridOptionsService.set("processCellForClipboard",t)},t.prototype.setSendToClipboard=function(t){this.gridOptionsService.set("sendToClipboard",t)},t.prototype.setProcessCellFromClipboard=function(t){this.gridOptionsService.set("processCellFromClipboard",t)},t.prototype.setProcessSecondaryColDef=function(t){ae("28.0","setProcessSecondaryColDef","setProcessPivotResultColDef"),this.setProcessPivotResultColDef(t)},t.prototype.setProcessSecondaryColGroupDef=function(t){ae("28.0","setProcessSecondaryColGroupDef","setProcessPivotResultColGroupDef"),this.setProcessPivotResultColGroupDef(t)},t.prototype.setProcessPivotResultColDef=function(t){this.gridOptionsService.set("processPivotResultColDef",t)},t.prototype.setProcessPivotResultColGroupDef=function(t){this.gridOptionsService.set("processPivotResultColGroupDef",t)},t.prototype.setPostProcessPopup=function(t){this.gridOptionsService.set("postProcessPopup",t)},t.prototype.setDefaultGroupOrderComparator=function(t){ae("27.2","setDefaultGroupOrderComparator","setInitialGroupOrderComparator"),this.gridOptionsService.set("defaultGroupOrderComparator",t)},t.prototype.setInitialGroupOrderComparator=function(t){this.gridOptionsService.set("initialGroupOrderComparator",t)},t.prototype.setGetChartToolbarItems=function(t){this.gridOptionsService.set("getChartToolbarItems",t)},t.prototype.setPaginationNumberFormatter=function(t){this.gridOptionsService.set("paginationNumberFormatter",t)},t.prototype.setGetServerSideStoreParams=function(t){ae("28.0","setGetServerSideStoreParams","setGetServerSideGroupLevelParams"),this.setGetServerSideGroupLevelParams(t)},t.prototype.setGetServerSideGroupLevelParams=function(t){this.gridOptionsService.set("getServerSideGroupLevelParams",t)},t.prototype.setIsServerSideGroupOpenByDefault=function(t){this.gridOptionsService.set("isServerSideGroupOpenByDefault",t)},t.prototype.setIsApplyServerSideTransaction=function(t){this.gridOptionsService.set("isApplyServerSideTransaction",t)},t.prototype.setIsServerSideGroup=function(t){this.gridOptionsService.set("isServerSideGroup",t)},t.prototype.setGetServerSideGroupKey=function(t){this.gridOptionsService.set("getServerSideGroupKey",t)},t.prototype.setGetRowStyle=function(t){this.gridOptionsService.set("getRowStyle",t)},t.prototype.setGetRowHeight=function(t){this.gridOptionsService.set("getRowHeight",t)},t.prototype.assertSideBarLoaded=function(t){return ot.assertRegistered(J.SideBarModule,"api."+t)},t.prototype.isSideBarVisible=function(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarComp.isDisplayed()},t.prototype.setSideBarVisible=function(t){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarComp.setDisplayed(t)},t.prototype.setSideBarPosition=function(t){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarComp.setSideBarPosition(t)},t.prototype.openToolPanel=function(t){this.assertSideBarLoaded("openToolPanel")&&this.sideBarComp.openToolPanel(t,"api")},t.prototype.closeToolPanel=function(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarComp.close("api")},t.prototype.getOpenedToolPanel=function(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarComp.openedItem():null},t.prototype.refreshToolPanel=function(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarComp.refresh()},t.prototype.isToolPanelShowing=function(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarComp.isToolPanelShowing()},t.prototype.getToolPanelInstance=function(t){if(this.assertSideBarLoaded("getToolPanelInstance"))return La(this.sideBarComp.getToolPanelInstance(t))},t.prototype.getSideBar=function(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarComp.getDef()},t.prototype.setSideBar=function(t){this.gridOptionsService.set("sideBar",t)},t.prototype.setSuppressClipboardPaste=function(t){this.gridOptionsService.set("suppressClipboardPaste",t)},t.prototype.resetRowHeights=function(){if(r(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive())return void console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");this.clientSideRowModel.resetRowHeights()}},t.prototype.setGroupRemoveSingleChildren=function(t){this.gridOptionsService.set("groupRemoveSingleChildren",t)},t.prototype.setGroupRemoveLowestSingleChildren=function(t){this.gridOptionsService.set("groupRemoveLowestSingleChildren",t)},t.prototype.setGroupDisplayType=function(t){this.gridOptionsService.set("groupDisplayType",t)},t.prototype.setRowClass=function(t){this.gridOptionsService.set("rowClass",t)},t.prototype.setDeltaSort=function(t){this.gridOptionsService.set("deltaSort",t)},t.prototype.setRowCount=function(t,e){if(this.serverSideRowModel)return this.columnModel.isRowGroupEmpty()?void this.serverSideRowModel.setRowCount(t,e):void console.error("AG Grid: setRowCount cannot be used while using row grouping.");this.infiniteRowModel?this.infiniteRowModel.setRowCount(t,e):this.logMissingRowModel("setRowCount","infinite","serverSide")},t.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},t.prototype.getValue=function(t,e){var n=this.columnModel.getPrimaryColumn(t);return i(n)&&(n=this.columnModel.getGridColumn(t)),i(n)?null:this.valueService.getValue(n,e)},t.prototype.addEventListener=function(t,e){var n=this.gridOptionsService.useAsyncEvents();this.eventService.addEventListener(t,e,n)},t.prototype.addGlobalListener=function(t){var e=this.gridOptionsService.useAsyncEvents();this.eventService.addGlobalListener(t,e)},t.prototype.removeEventListener=function(t,e){var n=this.gridOptionsService.useAsyncEvents();this.eventService.removeEventListener(t,e,n)},t.prototype.removeGlobalListener=function(t){var e=this.gridOptionsService.useAsyncEvents();this.eventService.removeGlobalListener(t,e)},t.prototype.dispatchEvent=function(t){this.eventService.dispatchEvent(t)},t.prototype.destroy=function(){if(!this.destroyCalled){this.destroyCalled=!0;var t=this.ctrlsService.getGridCtrl();t&&t.destroyGridUi(),this.context.destroy()}},t.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(S.bind(window,this,"Grid API"),100)},t.prototype.warnIfDestroyed=function(t){return this.destroyCalled&&console.warn("AG Grid: Grid API method "+t+" was called on a grid that was destroyed."),this.destroyCalled},t.prototype.resetQuickFilter=function(){this.warnIfDestroyed("resetQuickFilter")||this.filterManager.resetQuickFilterCache()},t.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(ot.assertRegistered(J.RangeSelectionModule,"api.getCellRanges"),null)},t.prototype.addCellRange=function(t){this.rangeService?this.rangeService.addCellRange(t):ot.assertRegistered(J.RangeSelectionModule,"api.addCellRange")},t.prototype.clearRangeSelection=function(){this.rangeService&&this.rangeService.removeAllCellRanges(),ot.assertRegistered(J.RangeSelectionModule,"gridApi.clearRangeSelection")},t.prototype.undoCellEditing=function(){this.undoRedoService.undo("api")},t.prototype.redoCellEditing=function(){this.undoRedoService.redo("api")},t.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},t.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},t.prototype.getChartModels=function(){if(ot.assertRegistered(J.GridChartsModule,"api.getChartModels"))return this.chartService.getChartModels()},t.prototype.getChartRef=function(t){if(ot.assertRegistered(J.GridChartsModule,"api.getChartRef"))return this.chartService.getChartRef(t)},t.prototype.getChartImageDataURL=function(t){if(ot.assertRegistered(J.GridChartsModule,"api.getChartImageDataURL"))return this.chartService.getChartImageDataURL(t)},t.prototype.downloadChart=function(t){if(ot.assertRegistered(J.GridChartsModule,"api.downloadChart"))return this.chartService.downloadChart(t)},t.prototype.openChartToolPanel=function(t){if(ot.assertRegistered(J.GridChartsModule,"api.openChartToolPanel"))return this.chartService.openChartToolPanel(t)},t.prototype.closeChartToolPanel=function(t){if(ot.assertRegistered(J.GridChartsModule,"api.closeChartToolPanel"))return this.chartService.closeChartToolPanel(t.chartId)},t.prototype.createRangeChart=function(t){if(ot.assertRegistered(J.GridChartsModule,"api.createRangeChart"))return this.chartService.createRangeChart(t)},t.prototype.createCrossFilterChart=function(t){if(ot.assertRegistered(J.GridChartsModule,"api.createCrossFilterChart"))return this.chartService.createCrossFilterChart(t)},t.prototype.restoreChart=function(t,e){if(ot.assertRegistered(J.GridChartsModule,"api.restoreChart"))return this.chartService.restoreChart(t,e)},t.prototype.createPivotChart=function(t){if(ot.assertRegistered(J.GridChartsModule,"api.createPivotChart"))return this.chartService.createPivotChart(t)},t.prototype.copyToClipboard=function(t){ot.assertRegistered(J.ClipboardModule,"api.copyToClipboard")&&this.clipboardService.copyToClipboard(t)},t.prototype.cutToClipboard=function(t){ot.assertRegistered(J.ClipboardModule,"api.cutToClipboard")&&this.clipboardService.cutToClipboard(t)},t.prototype.copySelectedRowsToClipboard=function(t){ot.assertRegistered(J.ClipboardModule,"api.copySelectedRowsToClipboard")&&this.clipboardService.copySelectedRowsToClipboard(t)},t.prototype.copySelectedRangeToClipboard=function(t){ot.assertRegistered(J.ClipboardModule,"api.copySelectedRangeToClipboard")&&this.clipboardService.copySelectedRangeToClipboard(t)},t.prototype.copySelectedRangeDown=function(){ot.assertRegistered(J.ClipboardModule,"api.copySelectedRangeDown")&&this.clipboardService.copyRangeDown()},t.prototype.showColumnMenuAfterButtonClick=function(t,e){var n=this.columnModel.getGridColumn(t);this.menuFactory.showMenuAfterButtonClick(n,e,"columnMenu")},t.prototype.showColumnMenuAfterMouseClick=function(t,e){var n=this.columnModel.getGridColumn(t);n||(n=this.columnModel.getPrimaryColumn(t)),n?this.menuFactory.showMenuAfterMouseEvent(n,e):console.error("AG Grid: column '"+t+"' not found")},t.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},t.prototype.setPopupParent=function(t){this.gridOptionsService.set("popupParent",t)},t.prototype.tabToNextCell=function(t){return this.navigationService.tabToNextCell(!1,t)},t.prototype.tabToPreviousCell=function(t){return this.navigationService.tabToNextCell(!0,t)},t.prototype.getCellRendererInstances=function(t){return void 0===t&&(t={}),this.rowRenderer.getCellRendererInstances(t).map(La)},t.prototype.getCellEditorInstances=function(t){return void 0===t&&(t={}),this.rowRenderer.getCellEditorInstances(t).map(La)},t.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},t.prototype.stopEditing=function(t){void 0===t&&(t=!1),this.rowRenderer.stopEditing(t)},t.prototype.startEditingCell=function(t){var e=this.columnModel.getGridColumn(t.colKey);if(e){var n={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:e};null==t.rowPinned&&this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(t.rowIndex);var o=this.navigationService.getCellByPosition(n);o&&o.startRowOrCellEdit(t.key,t.charPress)}else console.warn("AG Grid: no column found for "+t.colKey)},t.prototype.addAggFunc=function(t,e){this.aggFuncService&&this.aggFuncService.addAggFunc(t,e)},t.prototype.addAggFuncs=function(t){this.aggFuncService&&this.aggFuncService.addAggFuncs(t)},t.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},t.prototype.applyServerSideTransaction=function(t){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(t);this.logMissingRowModel("applyServerSideTransaction","serverSide")},t.prototype.applyServerSideTransactionAsync=function(t,e){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(t,e);this.logMissingRowModel("applyServerSideTransactionAsync","serverSide")},t.prototype.retryServerSideLoads=function(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():this.logMissingRowModel("retryServerSideLoads","serverSide")},t.prototype.flushServerSideAsyncTransactions=function(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide")},t.prototype.applyTransaction=function(t){if(this.clientSideRowModel){var e=this.clientSideRowModel.updateRowData(t);return this.gridOptionsService.is("suppressChangeDetection")||this.rowRenderer.refreshCells(),e}this.logMissingRowModel("applyTransaction","clientSide")},t.prototype.applyTransactionAsync=function(t,e){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(t,e):this.logMissingRowModel("applyTransactionAsync","clientSide")},t.prototype.flushAsyncTransactions=function(){this.clientSideRowModel?this.clientSideRowModel.flushAsyncTransactions():this.logMissingRowModel("flushAsyncTransactions","clientSide")},t.prototype.setSuppressModelUpdateAfterUpdateTransaction=function(t){this.gridOptionsService.set("suppressModelUpdateAfterUpdateTransaction",t)},t.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")},t.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")},t.prototype.refreshServerSide=function(t){this.serverSideRowModel?this.serverSideRowModel.refreshStore(t):this.logMissingRowModel("refreshServerSide","serverSide")},t.prototype.refreshServerSideStore=function(t){return ae("28.0","refreshServerSideStore","refreshServerSide"),this.refreshServerSide(t)},t.prototype.getServerSideStoreState=function(){return ae("28.0","getServerSideStoreState","getServerSideGroupLevelState"),this.getServerSideGroupLevelState()},t.prototype.getServerSideGroupLevelState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])},t.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")},t.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")},t.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},t.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},t.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},t.prototype.getDisplayedRowAtIndex=function(t){return this.rowModel.getRow(t)},t.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},t.prototype.setPagination=function(t){this.clientSideRowModel||"autoHeight"!==this.gridOptionsService.get("domLayout")||t?this.gridOptionsService.set("pagination",t):console.error("AG Grid: Pagination cannot be disabled when using domLayout set to 'autoHeight' unless using the client-side row model.")},t.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},t.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},t.prototype.paginationSetPageSize=function(t){this.gridOptionsService.set("paginationPageSize",t)},t.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},t.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},t.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},t.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},t.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},t.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},t.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},t.prototype.paginationGoToPage=function(t){this.paginationProxy.goToPage(t)},Aa([Y("immutableService")],t.prototype,"immutableService",void 0),Aa([Y("csvCreator")],t.prototype,"csvCreator",void 0),Aa([Y("excelCreator")],t.prototype,"excelCreator",void 0),Aa([K("rowRenderer")],t.prototype,"rowRenderer",void 0),Aa([K("navigationService")],t.prototype,"navigationService",void 0),Aa([K("filterManager")],t.prototype,"filterManager",void 0),Aa([K("columnModel")],t.prototype,"columnModel",void 0),Aa([K("selectionService")],t.prototype,"selectionService",void 0),Aa([K("gridOptionsService")],t.prototype,"gridOptionsService",void 0),Aa([K("valueService")],t.prototype,"valueService",void 0),Aa([K("alignedGridsService")],t.prototype,"alignedGridsService",void 0),Aa([K("eventService")],t.prototype,"eventService",void 0),Aa([K("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Aa([K("context")],t.prototype,"context",void 0),Aa([K("rowModel")],t.prototype,"rowModel",void 0),Aa([K("sortController")],t.prototype,"sortController",void 0),Aa([K("paginationProxy")],t.prototype,"paginationProxy",void 0),Aa([K("focusService")],t.prototype,"focusService",void 0),Aa([K("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Aa([Y("rangeService")],t.prototype,"rangeService",void 0),Aa([Y("clipboardService")],t.prototype,"clipboardService",void 0),Aa([Y("aggFuncService")],t.prototype,"aggFuncService",void 0),Aa([K("menuFactory")],t.prototype,"menuFactory",void 0),Aa([Y("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),Aa([K("valueCache")],t.prototype,"valueCache",void 0),Aa([K("animationFrameService")],t.prototype,"animationFrameService",void 0),Aa([Y("statusBarService")],t.prototype,"statusBarService",void 0),Aa([Y("chartService")],t.prototype,"chartService",void 0),Aa([Y("undoRedoService")],t.prototype,"undoRedoService",void 0),Aa([Y("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),Aa([Y("ssrmTransactionManager")],t.prototype,"serverSideTransactionManager",void 0),Aa([K("ctrlsService")],t.prototype,"ctrlsService",void 0),Aa([H],t.prototype,"init",null),Aa([$],t.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),t=Aa([z("gridApi")],t)}(),ka=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Fa=function(){return Fa=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Fa.apply(this,arguments)},Ga=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ba=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allColumnFilters=new Map,e.activeAggregateFilters=[],e.activeColumnFilters=[],e.quickFilter=null,e.quickFilterParts=null,e.processingFilterChange=!1,e}var n;return ka(e,t),n=e,e.prototype.init=function(){var t=this;this.addManagedListener(this.eventService,zt.EVENT_GRID_COLUMNS_CHANGED,(function(){return t.onColumnsChanged()})),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_VALUE_CHANGED,(function(){return t.refreshFiltersForAggregations()})),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_PIVOT_CHANGED,(function(){return t.refreshFiltersForAggregations()})),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_PIVOT_MODE_CHANGED,(function(){t.refreshFiltersForAggregations(),t.resetQuickFilterCache()})),this.addManagedListener(this.eventService,zt.EVENT_NEW_COLUMNS_LOADED,(function(){return t.resetQuickFilterCache()})),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_ROW_GROUP_CHANGED,(function(){return t.resetQuickFilterCache()})),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_VISIBLE,(function(){t.gridOptionsService.is("excludeHiddenColumnsFromQuickFilter")&&t.resetQuickFilterCache()})),this.addManagedPropertyListener("quickFilterText",(function(e){return t.setQuickFilter(e.currentValue)})),this.addManagedPropertyListener("excludeHiddenColumnsFromQuickFilter",(function(){return t.onExcludeHiddenColumnsFromQuickFilterChanged()})),this.quickFilter=this.parseQuickFilter(this.gridOptionsService.get("quickFilterText")),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsService.is("allowShowChangeAfterFilter"),this.externalFilterPresent=this.isExternalFilterPresentCallback()},e.prototype.isExternalFilterPresentCallback=function(){var t=this.gridOptionsService.getCallback("isExternalFilterPresent");return"function"==typeof t&&t({})},e.prototype.doesExternalFilterPass=function(t){var e=this.gridOptionsService.get("doesExternalFilterPass");return"function"==typeof e&&e(t)},e.prototype.setQuickFilterParts=function(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(" "):null},e.prototype.setFilterModel=function(t){var e=this,n=[],o=this.getFilterModel();if(t){var r=Qo(Object.keys(t));this.allColumnFilters.forEach((function(o,i){var s=t[i];n.push(e.setModelOnFilterWrapper(o.filterPromise,s)),r.delete(i)})),r.forEach((function(o){var r=e.columnModel.getPrimaryColumn(o)||e.columnModel.getGridColumn(o);if(r)if(r.isFilterAllowed()){var i=e.getOrCreateFilterWrapper(r,"NO_UI");i?n.push(e.setModelOnFilterWrapper(i.filterPromise,t[o])):console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+o)}else console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+o);else console.warn("AG Grid: setFilterModel() - no column found for colId: "+o)}))}else this.allColumnFilters.forEach((function(t){n.push(e.setModelOnFilterWrapper(t.filterPromise,null))}));sr.all(n).then((function(){var t=e.getFilterModel(),n=[];e.allColumnFilters.forEach((function(e,r){var i=o?o[r]:null,s=t?t[r]:null;or.jsonEquals(i,s)||n.push(e.column)})),n.length>0&&e.onFilterChanged({columns:n})}))},e.prototype.setModelOnFilterWrapper=function(t,e){return new sr((function(n){t.then((function(t){"function"!=typeof t.setModel&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),n()),(t.setModel(e)||sr.resolve()).then((function(){return n()}))}))}))},e.prototype.getFilterModel=function(){var t={};return this.allColumnFilters.forEach((function(e,n){var o=e.filterPromise.resolveNow(null,(function(t){return t}));if(null==o)return null;if("function"==typeof o.getModel){var i=o.getModel();r(i)&&(t[n]=i)}else console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel")})),t},e.prototype.isColumnFilterPresent=function(){return this.activeColumnFilters.length>0},e.prototype.isAggregateFilterPresent=function(){return!!this.activeAggregateFilters.length},e.prototype.isExternalFilterPresent=function(){return this.externalFilterPresent},e.prototype.doAggregateFiltersPass=function(t,e){return this.doColumnFiltersPass(t,e,!0)},e.prototype.updateActiveFilters=function(){var t=this;this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;var e=function(t){return!!t&&(t.isFilterActive?t.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1))},n=!!this.gridOptionsService.getGroupAggFiltering();this.allColumnFilters.forEach((function(o){if(o.filterPromise.resolveNow(!1,e)){var r=o.filterPromise.resolveNow(null,(function(t){return t}));!function(e){if(!e.isPrimary())return!0;var o=!t.columnModel.isPivotActive();return!(!e.isValueActive()||!o)&&(!!t.columnModel.isPivotMode()||n)}(o.column)?t.activeColumnFilters.push(r):t.activeAggregateFilters.push(r)}}))},e.prototype.updateFilterFlagInColumns=function(t,e){this.allColumnFilters.forEach((function(n){var o=n.filterPromise.resolveNow(!1,(function(t){return t.isFilterActive()}));n.column.setFilterActive(o,t,e)}))},e.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()},e.prototype.doColumnFiltersPass=function(t,e,n){for(var o=t.data,r=t.aggData,i=n?this.activeAggregateFilters:this.activeColumnFilters,s=n?r:o,a=0;a<i.length;a++){var l=i[a];if(null!=l&&l!==e){if("function"!=typeof l.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!l.doesFilterPass({node:t,data:s}))return!1}}return!0},e.prototype.parseQuickFilter=function(t){return r(t)?this.gridOptionsService.isRowModelType("clientSide")?t.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},e.prototype.setQuickFilter=function(t){if(null==t||"string"==typeof t){var e=this.parseQuickFilter(t);this.quickFilter!==e&&(this.quickFilter=e,this.setQuickFilterParts(),this.onFilterChanged())}else console.warn("AG Grid - setQuickFilter() only supports string inputs, received: "+typeof t)},e.prototype.resetQuickFilterCache=function(){this.rowModel.forEachNode((function(t){return t.quickFilterAggregateText=null}))},e.prototype.onExcludeHiddenColumnsFromQuickFilterChanged=function(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.onFilterChanged()},e.prototype.refreshFiltersForAggregations=function(){this.gridOptionsService.getGroupAggFiltering()&&this.onFilterChanged()},e.prototype.callOnFilterChangedOutsideRenderCycle=function(t){var e=this;void 0===t&&(t={});var n=function(){return e.onFilterChanged(t)};this.rowRenderer.isRefreshInProgress()?setTimeout(n,0):n()},e.prototype.onFilterChanged=function(t){void 0===t&&(t={});var e=t.filterInstance,n=t.additionalEventAttributes,o=t.columns;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",n),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach((function(t){t.filterPromise&&t.filterPromise.then((function(t){t&&t!==e&&t.onAnyFilterChanged&&t.onAnyFilterChanged()}))}));var r={type:zt.EVENT_FILTER_CHANGED,columns:o||[]};n&&E(r,n),this.processingFilterChange=!0,this.eventService.dispatchEvent(r),this.processingFilterChange=!1},e.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},e.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},e.prototype.doesRowPassOtherFilters=function(t,e){return this.doesRowPassFilter({rowNode:e,filterInstanceToSkip:t})},e.prototype.doesRowPassQuickFilterNoCache=function(t,e){var n=this;return this.columnModel.getAllColumnsForQuickFilter().some((function(o){var i=n.getQuickFilterTextForColumn(o,t);return r(i)&&i.indexOf(e)>=0}))},e.prototype.doesRowPassQuickFilterCache=function(t,e){return t.quickFilterAggregateText||this.aggregateRowForQuickFilter(t),t.quickFilterAggregateText.indexOf(e)>=0},e.prototype.doesRowPassQuickFilter=function(t){var e=this,n=this.gridOptionsService.is("cacheQuickFilter");return this.quickFilterParts.every((function(o){return n?e.doesRowPassQuickFilterCache(t,o):e.doesRowPassQuickFilterNoCache(t,o)}))},e.prototype.doesRowPassAggregateFilters=function(t){return!(this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(t.rowNode,t.filterInstanceToSkip))},e.prototype.doesRowPassFilter=function(t){return!(this.isQuickFilterPresent()&&!this.doesRowPassQuickFilter(t.rowNode))&&(!(this.isExternalFilterPresent()&&!this.doesExternalFilterPass(t.rowNode))&&!(this.isColumnFilterPresent()&&!this.doColumnFiltersPass(t.rowNode,t.filterInstanceToSkip)))},e.prototype.getQuickFilterTextForColumn=function(t,e){var n=this.valueService.getValue(t,e,!0),o=t.getColDef();if(o.getQuickFilterText){var i={value:n,node:e,data:e.data,column:t,colDef:o,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};n=o.getQuickFilterText(i)}return r(n)?n.toString().toUpperCase():null},e.prototype.aggregateRowForQuickFilter=function(t){var e=this,o=[];this.columnModel.getAllColumnsForQuickFilter().forEach((function(n){var i=e.getQuickFilterTextForColumn(n,t);r(i)&&o.push(i)})),t.quickFilterAggregateText=o.join(n.QUICK_FILTER_SEPARATOR)},e.prototype.onNewRowsLoaded=function(t){this.allColumnFilters.forEach((function(t){t.filterPromise.then((function(t){t.onNewRowsLoaded&&t.onNewRowsLoaded()}))})),this.updateFilterFlagInColumns(t,{afterDataChange:!0}),this.updateActiveFilters()},e.prototype.createValueGetter=function(t){var e=this;return function(n){var o=n.node;return e.valueService.getValue(t,o,!0)}},e.prototype.getFilterComponent=function(t,e,n){var o;if(void 0===n&&(n=!0),n)return(null===(o=this.getOrCreateFilterWrapper(t,e))||void 0===o?void 0:o.filterPromise)||null;var r=this.cachedFilter(t);return r?r.filterPromise:null},e.prototype.isFilterActive=function(t){var e=this.cachedFilter(t);return!!e&&e.filterPromise.resolveNow(!1,(function(t){return t.isFilterActive()}))},e.prototype.getOrCreateFilterWrapper=function(t,e){if(!t.isFilterAllowed())return null;var n=this.cachedFilter(t);return n?"NO_UI"!==e&&this.putIntoGui(n,e):(n=this.createFilterWrapper(t,e),this.allColumnFilters.set(t.getColId(),n)),n},e.prototype.cachedFilter=function(t){return this.allColumnFilters.get(t.getColId())},e.prototype.createFilterInstance=function(t){var e,n=this,o=ot.isRegistered(J.SetFilterModule)?"agSetColumnFilter":"agTextColumnFilter",r=t.getColDef(),i=Fa(Fa({},this.createFilterParams(t,r)),{filterModifiedCallback:function(){var o={type:zt.EVENT_FILTER_MODIFIED,column:t,filterInstance:e};n.eventService.dispatchEvent(o)},filterChangedCallback:function(o){var r={filterInstance:e,additionalEventAttributes:o,columns:[t]};n.callOnFilterChangedOutsideRenderCycle(r)},doesRowPassOtherFilter:function(t){return n.doesRowPassOtherFilters(e,t)}}),s=this.userComponentFactory.getFilterDetails(r,i,o);if(!s)return null;var a=s.newAgStackInstance();return a&&a.then((function(t){return e=t})),a},e.prototype.createFilterParams=function(t,e){return{column:t,colDef:f(e),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(t),doesRowPassOtherFilter:function(){return!0},api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}},e.prototype.createFilterWrapper=function(t,e){var n={column:t,filterPromise:null,compiledElement:null,guiPromise:sr.resolve(null)};return n.filterPromise=this.createFilterInstance(t),n.filterPromise&&this.putIntoGui(n,e),n},e.prototype.putIntoGui=function(t,e){var n=this,o=document.createElement("div");o.className="ag-filter",t.guiPromise=new sr((function(i){t.filterPromise.then((function(s){var a=s.getGui();r(a)||console.warn("AG Grid: getGui method from filter returned "+a+", it should be a DOM element or an HTML template string."),"string"==typeof a&&(a=Co(a)),o.appendChild(a),i(o);var l={type:zt.EVENT_FILTER_OPENED,column:t.column,source:e,eGui:o};n.eventService.dispatchEvent(l)}))}))},e.prototype.onColumnsChanged=function(){var t=this,e=[];this.allColumnFilters.forEach((function(n,o){(n.column.isPrimary()?t.columnModel.getPrimaryColumn(o):t.columnModel.getGridColumn(o))||(e.push(n.column),t.disposeFilterWrapper(n,"columnChanged"))})),e.length>0?this.onFilterChanged({columns:e}):this.updateDependantFilters()},e.prototype.updateDependantFilters=function(){var t=this,e=this.columnModel.getGroupAutoColumns();null==e||e.forEach((function(e){"agGroupColumnFilter"===e.getColDef().filter&&t.getOrCreateFilterWrapper(e,"NO_UI")}))},e.prototype.isFilterAllowed=function(t){var e,n;if(!t.isFilterAllowed())return!1;var o=this.allColumnFilters.get(t.getColId());return null===(n=null===(e=null==o?void 0:o.filterPromise)||void 0===e?void 0:e.resolveNow(!0,(function(t){var e,n;return"function"!=typeof(null===(e=t)||void 0===e?void 0:e.isFilterAllowed)||(null===(n=t)||void 0===n?void 0:n.isFilterAllowed())})))||void 0===n||n},e.prototype.getFloatingFilterCompDetails=function(t,e){var n=this,o=t.getColDef(),r=this.createFilterParams(t,o),i=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(o,ga,r),s=this.userComponentFactory.getDefaultFloatingFilterType(o);null==s&&(s="agReadOnlyFloatingFilter");var a={column:t,filterParams:i,currentParentModel:function(){return n.getCurrentFloatingFilterParentModel(t)},parentFilterInstance:function(e){var o=n.getFilterComponent(t,"NO_UI");null!=o&&o.then((function(t){e(La(t))}))},showParentFilter:e,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(o,a,s)},e.prototype.getCurrentFloatingFilterParentModel=function(t){var e=this.getFilterComponent(t,"NO_UI",!1);return e?e.resolveNow(null,(function(t){return t&&t.getModel()})):null},e.prototype.destroyFilter=function(t,e){void 0===e&&(e="api");var n=this.allColumnFilters.get(t.getColId());n&&(this.disposeFilterWrapper(n,e),this.onFilterChanged({columns:[t]}))},e.prototype.disposeFilterWrapper=function(t,e){var n=this;t.filterPromise.then((function(o){(o.setModel(null)||sr.resolve()).then((function(){n.getContext().destroyBean(o),t.column.setFilterActive(!1,"filterDestroyed"),n.allColumnFilters.delete(t.column.getColId());var r={type:zt.EVENT_FILTER_DESTROYED,source:e,column:t.column};n.eventService.dispatchEvent(r)}))}))},e.prototype.destroy=function(){var e=this;t.prototype.destroy.call(this),this.allColumnFilters.forEach((function(t){return e.disposeFilterWrapper(t,"gridDestroyed")}))},e.QUICK_FILTER_SEPARATOR="\n",Ga([K("valueService")],e.prototype,"valueService",void 0),Ga([K("columnModel")],e.prototype,"columnModel",void 0),Ga([K("rowModel")],e.prototype,"rowModel",void 0),Ga([K("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Ga([K("rowRenderer")],e.prototype,"rowRenderer",void 0),Ga([H],e.prototype,"init",null),e=n=Ga([z("filterManager")],e)}(Ut),Ua=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ja=function(t){function e(e,n){var o=t.call(this,e)||this;return o.ctrl=n,o}return Ua(e,t),e.prototype.getCtrl=function(){return this.ctrl},e}(gr),Va=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Wa=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ha=function(t){function e(n){return t.call(this,e.TEMPLATE,n)||this}return Va(e,t),e.prototype.postConstruct=function(){var t=this,e=this.getGui(),n={addOrRemoveCssClass:function(e,n){return t.addOrRemoveCssClass(e,n)},addOrRemoveBodyCssClass:function(e,n){return t.eFloatingFilterBody.classList.toggle(e,n)},setButtonWrapperDisplayed:function(e){return ro(t.eButtonWrapper,e)},setCompDetails:function(e){return t.setCompDetails(e)},getFloatingFilterComp:function(){return t.compPromise},setWidth:function(t){return e.style.width=t},setMenuIcon:function(e){return t.eButtonShowMainFilter.appendChild(e)}};this.ctrl.setComp(n,e,this.eButtonShowMainFilter,this.eFloatingFilterBody)},e.prototype.setCompDetails=function(t){var e=this;this.compPromise=t.newAgStackInstance(),this.compPromise.then((function(t){return e.afterCompCreated(t)}))},e.prototype.afterCompCreated=function(t){var e=this;t&&(this.addDestroyFunc((function(){return e.context.destroyBean(t)})),this.isAlive()&&(this.eFloatingFilterBody.appendChild(t.getGui()),t.afterGuiAttached&&t.afterGuiAttached()))},e.TEMPLATE='<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">\n            <div ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" aria-label="Open Filter Menu" class="ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',Wa([_r("eFloatingFilterBody")],e.prototype,"eFloatingFilterBody",void 0),Wa([_r("eButtonWrapper")],e.prototype,"eButtonWrapper",void 0),Wa([_r("eButtonShowMainFilter")],e.prototype,"eButtonShowMainFilter",void 0),Wa([H],e.prototype,"postConstruct",null),e}(ja),$a=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),za=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t.AUTO_HEIGHT="ag-layout-auto-height",t.NORMAL="ag-layout-normal",t.PRINT="ag-layout-print"}(Ia||(Ia={}));var Ka,Ya=function(t){function e(e){var n=t.call(this)||this;return n.view=e,n}return $a(e,t),e.prototype.postConstruct=function(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},e.prototype.updateLayoutClasses=function(){var t=this.getDomLayout(),e={autoHeight:"autoHeight"===t,normal:"normal"===t,print:"print"===t},n=e.autoHeight?Ia.AUTO_HEIGHT:e.print?Ia.PRINT:Ia.NORMAL;this.view.updateLayoutClasses(n,e)},e.prototype.getDomLayout=function(){var t,e=null!==(t=this.gridOptionsService.get("domLayout"))&&void 0!==t?t:"normal";return-1===["normal","print","autoHeight"].indexOf(e)?(T((function(){return console.warn("AG Grid: "+e+" is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.")}),"warn about dom layout values"),"normal"):e},za([H],e.prototype,"postConstruct",null),e}(Ut),Za=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),qa=function(){return qa=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},qa.apply(this,arguments)},Xa=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ja=function(t){function e(e){var n=t.call(this)||this;return n.scrollLeft=-1,n.nextScrollTop=-1,n.scrollTop=-1,n.eBodyViewport=e,n.resetLastHScrollDebounced=N((function(){return n.eLastHScroll=null}),500),n.resetLastVScrollDebounced=N((function(){return n.eLastVScroll=null}),500),n}return Za(e,t),e.prototype.postConstruct=function(){var t=this;this.enableRtl=this.gridOptionsService.is("enableRtl"),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady((function(e){t.centerRowContainerCtrl=e.centerRowContainerCtrl,t.onDisplayedColumnsWidthChanged(),t.addScrollListener()}))},e.prototype.addScrollListener=function(){var t=this.ctrlsService.getFakeHScrollComp(),e=this.ctrlsService.getFakeVScrollComp();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),this.addManagedListener(t.getViewport(),"scroll",this.onFakeHScroll.bind(this));var n=this.gridOptionsService.is("debounceVerticalScrollbar"),o=n?N(this.onVScroll.bind(this),100):this.onVScroll.bind(this),r=n?N(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",o),this.addManagedListener(e.getViewport(),"scroll",r)},e.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},e.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(t){if(!(null==this.centerRowContainerCtrl)){void 0===t&&(t=this.centerRowContainerCtrl.getCenterViewportScrollLeft());var e=this.enableRtl?t:-t,n=this.ctrlsService.getTopCenterRowContainerCtrl(),o=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),r=this.ctrlsService.getBottomCenterRowContainerCtrl(),i=this.ctrlsService.getFakeHScrollComp();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(-e),r.setContainerTranslateX(e),n.setContainerTranslateX(e),o.setContainerTranslateX(e);var s=this.centerRowContainerCtrl.getViewportElement();_o(this.eLastHScroll===s?i.getViewport():this.centerRowContainerCtrl.getViewportElement(),Math.abs(t),this.enableRtl)}},e.prototype.isControllingHScroll=function(t){return this.eLastHScroll?t===this.eLastHScroll:(this.eLastHScroll=t,!0)},e.prototype.isControllingVScroll=function(t){return this.eLastVScroll?t===this.eLastVScroll:(this.eLastVScroll=t,!0)},e.prototype.onFakeHScroll=function(){var t=this.ctrlsService.getFakeHScrollComp().getViewport();this.isControllingHScroll(t)&&this.onHScrollCommon(t)},e.prototype.onHScroll=function(){var t=this.centerRowContainerCtrl.getViewportElement();this.isControllingHScroll(t)&&this.onHScrollCommon(t)},e.prototype.onHScrollCommon=function(t){var e=this.centerRowContainerCtrl.getViewportElement().scrollLeft;this.shouldBlockScrollUpdate("horizontal",e,!0)||(this.doHorizontalScroll(Math.round(go(t,this.enableRtl))),this.resetLastHScrollDebounced())},e.prototype.onFakeVScroll=function(){var t=this.ctrlsService.getFakeVScrollComp().getViewport();this.isControllingVScroll(t)&&this.onVScrollCommon(t)},e.prototype.onVScroll=function(){this.isControllingVScroll(this.eBodyViewport)&&this.onVScrollCommon(this.eBodyViewport)},e.prototype.onVScrollCommon=function(t){var e=t.scrollTop;if(!this.shouldBlockScrollUpdate("vertical",e,!0)){if(this.animationFrameService.setScrollTop(e),this.nextScrollTop=e,t===this.eBodyViewport)this.ctrlsService.getFakeVScrollComp().getViewport().scrollTop=e;else this.eBodyViewport.scrollTop=e;this.gridOptionsService.is("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced()}},e.prototype.doHorizontalScroll=function(t){var e=go(this.ctrlsService.getFakeHScrollComp().getViewport(),this.enableRtl);this.scrollLeft===t&&t===e||(this.scrollLeft=t,this.fireScrollEvent("horizontal"),this.horizontallyScrollHeaderCenterAndFloatingCenter(t),this.onHorizontalViewportChanged())},e.prototype.fireScrollEvent=function(t){var e=this,n={type:zt.EVENT_BODY_SCROLL,direction:t,left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(n),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout((function(){var t=qa(qa({},n),{type:zt.EVENT_BODY_SCROLL_END});e.eventService.dispatchEvent(t)}),100)},e.prototype.shouldBlockScrollUpdate=function(t,e,n){return void 0===n&&(n=!1),!(n&&!An())&&("vertical"===t?this.shouldBlockVerticalScroll(e):this.shouldBlockHorizontalScroll(e))},e.prototype.shouldBlockVerticalScroll=function(t){var e=co(this.eBodyViewport),n=this.eBodyViewport.scrollHeight;return t<0||t+e>n},e.prototype.shouldBlockHorizontalScroll=function(t){var e=this.centerRowContainerCtrl.getCenterWidth(),n=this.centerRowContainerCtrl.getViewportElement().scrollWidth;if(this.enableRtl&&fo()){if(t>0)return!0}else if(t<0)return!0;return Math.abs(t)+e>n},e.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent("vertical")},e.prototype.onHorizontalViewportChanged=function(){this.centerRowContainerCtrl.onHorizontalViewportChanged()},e.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(this.centerRowContainerCtrl.getViewportElement())},e.prototype.scrollGridIfNeeded=function(){var t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),t},e.prototype.setHorizontalScrollPosition=function(t){var e=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();this.shouldBlockScrollUpdate("horizontal",t)&&(t=this.enableRtl&&fo()?t>0?0:e:Math.min(Math.max(t,0),e)),_o(this.centerRowContainerCtrl.getViewportElement(),Math.abs(t),this.enableRtl),this.doHorizontalScroll(t)},e.prototype.setVerticalScrollPosition=function(t){this.eBodyViewport.scrollTop=t},e.prototype.getVScrollPosition=function(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}},e.prototype.getHScrollPosition=function(){return this.centerRowContainerCtrl.getHScrollPosition()},e.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()},e.prototype.scrollHorizontally=function(t){var e=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(e+t),this.centerRowContainerCtrl.getViewportElement().scrollLeft-e},e.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},e.prototype.ensureNodeVisible=function(t,e){void 0===e&&(e=null);for(var n=this.rowModel.getRowCount(),o=-1,r=0;r<n;r++){var i=this.rowModel.getRow(r);if("function"==typeof t){if(i&&t(i)){o=r;break}}else if(t===i||t===i.data){o=r;break}}o>=0&&this.ensureIndexVisible(o,e)},e.prototype.ensureIndexVisible=function(t,e){if(!this.gridOptionsService.isDomLayout("print")){var n=this.paginationProxy.getRowCount();if("number"!=typeof t||t<0||t>=n)console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+t);else{this.gridOptionsService.is("pagination")&&!this.gridOptionsService.is("suppressPaginationPanel")||this.paginationProxy.goToPageWithIndex(t);var o,r=this.ctrlsService.getGridBodyCtrl().getStickyTopHeight(),i=this.paginationProxy.getRow(t);do{var s=i.rowTop,a=i.rowHeight,l=this.paginationProxy.getPixelOffset(),c=i.rowTop-l,u=c+i.rowHeight,d=this.getVScrollPosition(),p=this.heightScaler.getDivStretchOffset(),h=d.top+p,f=d.bottom+p,g=f-h,_=this.heightScaler.getScrollPositionForPixel(c),m=this.heightScaler.getScrollPositionForPixel(u-g),y=Math.min((_+m)/2,c),v=null;"top"===e?v=_:"bottom"===e?v=m:"middle"===e?v=y:h+r>c?v=_-r:f<u&&(v=m),null!==v&&(this.eBodyViewport.scrollTop=v,this.rowRenderer.redrawAfterScroll()),o=s!==i.rowTop||a!==i.rowHeight}while(o);this.animationFrameService.flushAllFrames()}}},e.prototype.ensureColumnVisible=function(t,e){void 0===e&&(e="auto");var n=this.columnModel.getGridColumn(t);if(n&&!n.isPinned()&&this.columnModel.isColumnDisplayed(n)){var o=this.getPositionedHorizontalScroll(n,e);null!==o&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(o),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}},e.prototype.getPositionedHorizontalScroll=function(t,e){var n=this.isColumnOutsideViewport(t),o=n.columnBeforeStart,r=n.columnAfterEnd,i=this.centerRowContainerCtrl.getCenterWidth()<t.getActualWidth(),s=this.centerRowContainerCtrl.getCenterWidth(),a=this.enableRtl,l=(a?o:r)||i,c=a?r:o;"auto"!==e&&(l="start"===e,c="end"===e);var u="middle"===e;if(l||c||u){var d=this.getColumnBounds(t),p=d.colLeft,h=d.colMiddle,f=d.colRight;return u?h-s/2:l?a?f:p:a?p-s:f-s}return null},e.prototype.isColumnOutsideViewport=function(t){var e=this.getViewportBounds(),n=e.start,o=e.end,r=this.getColumnBounds(t),i=r.colLeft,s=r.colRight,a=this.enableRtl;return{columnBeforeStart:a?n>s:o<s,columnAfterEnd:a?o<i:n>i}},e.prototype.getColumnBounds=function(t){var e=this.enableRtl,n=this.columnModel.getBodyContainerWidth(),o=t.getActualWidth(),r=t.getLeft(),i=e?-1:1,s=e?n-r:r;return{colLeft:s,colMiddle:s+o/2*i,colRight:s+o*i}},e.prototype.getViewportBounds=function(){var t=this.centerRowContainerCtrl.getCenterWidth(),e=this.centerRowContainerCtrl.getCenterViewportScrollLeft();return{start:e,end:t+e,width:t}},Xa([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Xa([K("animationFrameService")],e.prototype,"animationFrameService",void 0),Xa([K("paginationProxy")],e.prototype,"paginationProxy",void 0),Xa([K("rowModel")],e.prototype,"rowModel",void 0),Xa([K("rowContainerHeightService")],e.prototype,"heightScaler",void 0),Xa([K("rowRenderer")],e.prototype,"rowRenderer",void 0),Xa([K("columnModel")],e.prototype,"columnModel",void 0),Xa([H],e.prototype,"postConstruct",null),e}(Ut),Qa=function(){function t(t){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=t.scrollContainer,this.scrollHorizontally=-1!==t.scrollAxis.indexOf("x"),this.scrollVertically=-1!==t.scrollAxis.indexOf("y"),this.scrollByTick=null!=t.scrollByTick?t.scrollByTick:20,t.onScrollCallback&&(this.onScrollCallback=t.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=t.getVerticalPosition,this.setVerticalPosition=t.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=t.getHorizontalPosition,this.setHorizontalPosition=t.setHorizontalPosition),this.shouldSkipVerticalScroll=t.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=t.shouldSkipHorizontalScroll||function(){return!1}}return t.prototype.check=function(t,e){void 0===e&&(e=!1);var n=e||this.shouldSkipVerticalScroll();if(!n||!this.shouldSkipHorizontalScroll()){var o=this.scrollContainer.getBoundingClientRect(),r=this.scrollByTick;this.tickLeft=t.clientX<o.left+r,this.tickRight=t.clientX>o.right-r,this.tickUp=t.clientY<o.top+r&&!n,this.tickDown=t.clientY>o.bottom-r&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},t.prototype.ensureTickingStarted=function(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},t.prototype.doTick=function(){var t;if(this.tickCount++,t=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var e=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(e-t),this.tickDown&&this.setVerticalPosition(e+t)}if(this.scrollHorizontally){var n=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(n-t),this.tickRight&&this.setHorizontalPosition(n+t)}this.onScrollCallback&&this.onScrollCallback()},t.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},t}(),tl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),el=function(){return el=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},el.apply(this,arguments)},nl=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ol=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},rl=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ol(arguments[e]));return t},il=function(t){function e(e){var n=t.call(this)||this;return n.isMultiRowDrag=!1,n.isGridSorted=!1,n.isGridFiltered=!1,n.isRowGroupActive=!1,n.eContainer=e,n}return tl(e,t),e.prototype.postConstruct=function(){var t=this;this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel);var e=function(){t.onSortChanged(),t.onFilterChanged(),t.onRowGroupChanged()};this.addManagedListener(this.eventService,zt.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_MODEL_UPDATED,(function(){e()})),e(),this.ctrlsService.whenReady((function(){var e=t.ctrlsService.getGridBodyCtrl();t.autoScrollService=new Qa({scrollContainer:e.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return e.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(t){return e.getScrollFeature().setVerticalScrollPosition(t)},onScrollCallback:function(){t.onDragging(t.lastDraggingEvent)}})}))},e.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},e.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},e.prototype.onRowGroupChanged=function(){var t=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!s(t)},e.prototype.getContainer=function(){return this.eContainer},e.prototype.isInterestedIn=function(t){return t===Ai.RowDrag},e.prototype.getIconName=function(){return this.gridOptionsService.is("rowDragManaged")&&this.shouldPreventRowMove()?As.ICON_NOT_ALLOWED:As.ICON_MOVE},e.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},e.prototype.getRowNodes=function(t){var e=this;if(!this.isFromThisGrid(t))return t.dragItem.rowNodes||[];var n=this.gridOptionsService.is("rowDragMultiRow"),o=rl(this.selectionService.getSelectedNodes()).sort((function(t,n){return null==t.rowIndex||null==n.rowIndex?0:e.getRowIndexNumber(t)-e.getRowIndexNumber(n)})),r=t.dragItem.rowNode;return n&&-1!==o.indexOf(r)?(this.isMultiRowDrag=!0,o):(this.isMultiRowDrag=!1,[r])},e.prototype.onDragEnter=function(t){t.dragItem.rowNodes=this.getRowNodes(t),this.dispatchGridEvent(zt.EVENT_ROW_DRAG_ENTER,t),this.getRowNodes(t).forEach((function(t){t.setDragging(!0)})),this.onEnterOrDragging(t)},e.prototype.onDragging=function(t){this.onEnterOrDragging(t)},e.prototype.isFromThisGrid=function(t){return t.dragSource.dragSourceDomDataKey===this.gridOptionsService.getDomDataKey()},e.prototype.isDropZoneWithinThisGrid=function(t){var e=this.ctrlsService.getGridBodyCtrl().getGui(),n=t.dropZoneTarget;return!e.contains(n)},e.prototype.onEnterOrDragging=function(t){this.dispatchGridEvent(zt.EVENT_ROW_DRAG_MOVE,t),this.lastDraggingEvent=t;var e=this.mouseEventService.getNormalisedPosition(t).y;this.gridOptionsService.is("rowDragManaged")&&this.doManagedDrag(t,e),this.autoScrollService.check(t.event)},e.prototype.doManagedDrag=function(t,e){var n=this.isFromThisGrid(t),o=this.gridOptionsService.is("rowDragManaged"),r=t.dragItem.rowNodes;o&&this.shouldPreventRowMove()||(this.gridOptionsService.is("suppressMoveWhenRowDragging")||!n?this.isDropZoneWithinThisGrid(t)||this.clientSideRowModel.highlightRowAtPixel(r[0],e):this.moveRows(r,e))},e.prototype.getRowIndexNumber=function(t){return parseInt(ft(t.getRowIndexString().split("-")),10)},e.prototype.moveRowAndClearHighlight=function(t){var e=this,n=this.clientSideRowModel.getLastHighlightedRowNode(),o=n&&n.highlighted===Ta.Below,r=this.mouseEventService.getNormalisedPosition(t).y,i=t.dragItem.rowNodes,s=o?1:0;if(this.isFromThisGrid(t))i.forEach((function(t){t.rowTop<r&&(s-=1)})),this.moveRows(i,r,s);else{var a=this.gridOptionsService.getRowIdFunc(),l=this.clientSideRowModel.getRowIndexAtPixel(r)+1;this.clientSideRowModel.getHighlightPosition(r)===Ta.Above&&l--,this.clientSideRowModel.updateRowData({add:i.map((function(t){return t.data})).filter((function(t){return!e.clientSideRowModel.getRowNode(a?a({data:t,level:0}):t.id)})),addIndex:l})}this.clearRowHighlight()},e.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},e.prototype.moveRows=function(t,e,n){void 0===n&&(n=0),this.clientSideRowModel.ensureRowsAtPixel(t,e,n)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},e.prototype.addRowDropZone=function(t){var e=this;if(t.getContainer())if(this.dragAndDropService.findExternalZone(t))console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");else{var n={getContainer:t.getContainer};t.fromGrid?(t.fromGrid=void 0,n=t):(t.onDragEnter&&(n.onDragEnter=function(n){t.onDragEnter(e.draggingToRowDragEvent(zt.EVENT_ROW_DRAG_ENTER,n))}),t.onDragLeave&&(n.onDragLeave=function(n){t.onDragLeave(e.draggingToRowDragEvent(zt.EVENT_ROW_DRAG_LEAVE,n))}),t.onDragging&&(n.onDragging=function(n){t.onDragging(e.draggingToRowDragEvent(zt.EVENT_ROW_DRAG_MOVE,n))}),t.onDragStop&&(n.onDragStop=function(n){t.onDragStop(e.draggingToRowDragEvent(zt.EVENT_ROW_DRAG_END,n))})),this.dragAndDropService.addDropTarget(el({isInterestedIn:function(t){return t===Ai.RowDrag},getIconName:function(){return As.ICON_MOVE},external:!0},n))}else T((function(){return console.warn("AG Grid: addRowDropZone - A container target needs to be provided")}),"add-drop-zone-empty-target")},e.prototype.getRowDropZone=function(t){var e=this,n=this.getContainer.bind(this),o=this.onDragEnter.bind(this),r=this.onDragLeave.bind(this),i=this.onDragging.bind(this),s=this.onDragStop.bind(this);return t?{getContainer:n,onDragEnter:t.onDragEnter?function(n){o(n),t.onDragEnter(e.draggingToRowDragEvent(zt.EVENT_ROW_DRAG_ENTER,n))}:o,onDragLeave:t.onDragLeave?function(n){r(n),t.onDragLeave(e.draggingToRowDragEvent(zt.EVENT_ROW_DRAG_LEAVE,n))}:r,onDragging:t.onDragging?function(n){i(n),t.onDragging(e.draggingToRowDragEvent(zt.EVENT_ROW_DRAG_MOVE,n))}:i,onDragStop:t.onDragStop?function(n){s(n),t.onDragStop(e.draggingToRowDragEvent(zt.EVENT_ROW_DRAG_END,n))}:s,fromGrid:!0}:{getContainer:n,onDragEnter:o,onDragLeave:r,onDragging:i,onDragStop:s,fromGrid:!0}},e.prototype.draggingToRowDragEvent=function(t,e){var n,o,r=this.mouseEventService.getNormalisedPosition(e).y,i=-1;switch(r>this.paginationProxy.getCurrentPageHeight()||(i=this.rowModel.getRowIndexAtPixel(r),n=this.rowModel.getRow(i)),e.vDirection){case Li.Down:o="down";break;case Li.Up:o="up";break;default:o=null}return{type:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,event:e.event,node:e.dragItem.rowNode,nodes:e.dragItem.rowNodes,overIndex:i,overNode:n,y:r,vDirection:o}},e.prototype.dispatchGridEvent=function(t,e){var n=this.draggingToRowDragEvent(t,e);this.eventService.dispatchEvent(n)},e.prototype.onDragLeave=function(t){this.dispatchGridEvent(zt.EVENT_ROW_DRAG_LEAVE,t),this.stopDragging(t),this.gridOptionsService.is("rowDragManaged")&&this.clearRowHighlight(),this.isFromThisGrid(t)&&(this.isMultiRowDrag=!1)},e.prototype.onDragStop=function(t){this.dispatchGridEvent(zt.EVENT_ROW_DRAG_END,t),this.stopDragging(t),!this.gridOptionsService.is("rowDragManaged")||!this.gridOptionsService.is("suppressMoveWhenRowDragging")&&this.isFromThisGrid(t)||this.isDropZoneWithinThisGrid(t)||this.moveRowAndClearHighlight(t)},e.prototype.stopDragging=function(t){this.autoScrollService.ensureCleared(),this.getRowNodes(t).forEach((function(t){t.setDragging(!1)}))},nl([K("dragAndDropService")],e.prototype,"dragAndDropService",void 0),nl([K("rowModel")],e.prototype,"rowModel",void 0),nl([K("paginationProxy")],e.prototype,"paginationProxy",void 0),nl([K("columnModel")],e.prototype,"columnModel",void 0),nl([K("focusService")],e.prototype,"focusService",void 0),nl([K("sortController")],e.prototype,"sortController",void 0),nl([K("filterManager")],e.prototype,"filterManager",void 0),nl([K("selectionService")],e.prototype,"selectionService",void 0),nl([K("mouseEventService")],e.prototype,"mouseEventService",void 0),nl([K("ctrlsService")],e.prototype,"ctrlsService",void 0),nl([Y("rangeService")],e.prototype,"rangeService",void 0),nl([H],e.prototype,"postConstruct",null),e}(Ut),sl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),al=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t.ANIMATION_ON="ag-row-animation",t.ANIMATION_OFF="ag-row-no-animation"}(Ka||(Ka={}));var ll,cl,ul="ag-selectable",dl="ag-force-vertical-scroll",pl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stickyTopHeight=0,e}return sl(e,t),e.prototype.getScrollFeature=function(){return this.bodyScrollFeature},e.prototype.getBodyViewportElement=function(){return this.eBodyViewport},e.prototype.setComp=function(t,e,n,o,r,i){this.comp=t,this.eGridBody=e,this.eBodyViewport=n,this.eTop=o,this.eBottom=r,this.eStickyTop=i,this.setCellTextSelection(this.gridOptionsService.is("enableCellTextSelection")),this.createManagedBean(new Ya(this.comp)),this.bodyScrollFeature=this.createManagedBean(new Ja(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([o,n,r,i]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.ctrlsService.registerGridBodyCtrl(this)},e.prototype.getComp=function(){return this.comp},e.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,zt.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},e.prototype.addFocusListeners=function(t){var e=this;t.forEach((function(t){e.addManagedListener(t,"focusin",(function(e){var n=ao(e.target,"ag-root",t);t.classList.toggle("ag-has-focus",!n)})),e.addManagedListener(t,"focusout",(function(e){var n=e.target,o=e.relatedTarget,r=t.contains(o),i=ao(o,"ag-root",t);ao(n,"ag-root",t)||r&&!i||t.classList.remove("ag-has-focus")}))}))},e.prototype.setColumnMovingCss=function(t){this.comp.setColumnMovingCss("ag-column-moving",t)},e.prototype.setCellTextSelection=function(t){void 0===t&&(t=!1);var e=t?ul:null;this.comp.setCellSelectableCss(e,t)},e.prototype.onScrollVisibilityChanged=function(){var t=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(t),this.setStickyTopWidth(t);var e="calc(100% + "+((t&&this.gridOptionsService.getScrollbarWidth()||0)+(Un()?16:0))+"px)";this.comp.setBodyViewportWidth(e)},e.prototype.onGridColumnsChanged=function(){var t=this.columnModel.getAllGridColumns();this.comp.setColumnCount(t?t.length:0)},e.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",(function(t){if(t.target instanceof HTMLImageElement)return t.preventDefault(),!1}))},e.prototype.addStopEditingWhenGridLosesFocus=function(){var t=this;if(this.gridOptionsService.is("stopEditingWhenCellsLoseFocus")){var e=function(e){var o=e.relatedTarget;if(null!==In(o)){var r=n.some((function(t){return t.contains(o)}))&&t.mouseEventService.isElementInThisGrid(o);if(!r){var i=t.popupService;r=i.getActivePopups().some((function(t){return t.contains(o)}))||i.isElementWithinCustomPopup(o)}r||t.rowRenderer.stopEditing()}else t.rowRenderer.stopEditing()},n=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];n.forEach((function(n){return t.addManagedListener(n,"focusout",e)}))}},e.prototype.updateRowCount=function(){var t=this.headerNavigationService.getHeaderRowCount(),e=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,n=-1===e?-1:t+e;this.comp.setRowCount(n)},e.prototype.registerBodyViewportResizeListener=function(t){this.comp.registerBodyViewportResizeListener(t)},e.prototype.setVerticalScrollPaddingVisible=function(t){var e=t?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(e)},e.prototype.isVerticalScrollShowing=function(){var t=this.gridOptionsService.is("alwaysShowVerticalScroll"),e=t?dl:null,n=this.gridOptionsService.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(e,t),t||n&&Ro(this.eBodyViewport)},e.prototype.setupRowAnimationCssClass=function(){var t=this,e=function(){var e=t.gridOptionsService.isAnimateRows()&&!t.rowContainerHeightService.isStretching(),n=e?Ka.ANIMATION_ON:Ka.ANIMATION_OFF;t.comp.setRowAnimationCssOnBodyViewport(n,e)};e(),this.addManagedListener(this.eventService,zt.EVENT_HEIGHT_SCALE_CHANGED,e),this.addManagedPropertyListener("animateRows",e)},e.prototype.getGridBodyElement=function(){return this.eGridBody},e.prototype.addBodyViewportListener=function(){var t=this.onBodyViewportContextMenu.bind(this);this.addManagedListener(this.eBodyViewport,"contextmenu",t),this.mockContextMenuForIPad(t),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this)),this.addFullWidthContainerWheelListener()},e.prototype.addFullWidthContainerWheelListener=function(){var t=this,e=this.eBodyViewport.querySelector(".ag-full-width-container"),n=this.eBodyViewport.querySelector(".ag-center-cols-viewport");e&&n&&this.addManagedListener(e,"wheel",(function(e){return t.onFullWidthContainerWheel(e,n)}))},e.prototype.onFullWidthContainerWheel=function(t,e){!t.deltaX||Math.abs(t.deltaY)>Math.abs(t.deltaX)||(t.preventDefault(),e.scrollBy({left:t.deltaX}))},e.prototype.onBodyViewportContextMenu=function(t,e,n){if(t||n){if(this.gridOptionsService.is("preventDefaultOnContextMenu"))(t||n).preventDefault();var o=(t||e).target;if(o===this.eBodyViewport||o===this.ctrlsService.getCenterRowContainerCtrl().getViewportElement()){if(!this.contextMenuFactory)return;t?this.contextMenuFactory.onContextMenu(t,null,null,null,null,this.eGridBody):n&&this.contextMenuFactory.onContextMenu(null,n,null,null,null,this.eGridBody)}}},e.prototype.mockContextMenuForIPad=function(t){if(An()){var e=new Zi(this.eBodyViewport);this.addManagedListener(e,Zi.EVENT_LONG_TAP,(function(e){t(void 0,e.touchStart,e.touchEvent)})),this.addDestroyFunc((function(){return e.destroy()}))}},e.prototype.onBodyViewportWheel=function(t){this.gridOptionsService.is("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&t.preventDefault()},e.prototype.onStickyTopWheel=function(t){t.preventDefault(),t.offsetY&&this.scrollVertically(t.deltaY)},e.prototype.getGui=function(){return this.eGridBody},e.prototype.scrollVertically=function(t){var e=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(e+t),this.eBodyViewport.scrollTop-e},e.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new il(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},e.prototype.getRowDragFeature=function(){return this.rowDragFeature},e.prototype.onPinnedRowDataChanged=function(){this.setFloatingHeights()},e.prototype.setFloatingHeights=function(){var t=this.pinnedRowModel,e=t.getPinnedTopTotalHeight();e&&(e+=1);var n=t.getPinnedBottomTotalHeight();n&&(n+=1),this.comp.setTopHeight(e),this.comp.setBottomHeight(n),this.comp.setTopDisplay(e?"inherit":"none"),this.comp.setBottomDisplay(n?"inherit":"none"),this.setStickyTopOffsetTop()},e.prototype.setStickyTopHeight=function(t){void 0===t&&(t=0),this.comp.setStickyTopHeight(t+"px"),this.stickyTopHeight=t},e.prototype.getStickyTopHeight=function(){return this.stickyTopHeight},e.prototype.setStickyTopWidth=function(t){if(t){var e=this.gridOptionsService.getScrollbarWidth();this.comp.setStickyTopWidth("calc(100% - "+e+"px)")}else this.comp.setStickyTopWidth("100%")},e.prototype.onHeaderHeightChanged=function(){this.setStickyTopOffsetTop()},e.prototype.setStickyTopOffsetTop=function(){var t=this.ctrlsService.getGridHeaderCtrl().getHeaderHeight(),e=this.pinnedRowModel.getPinnedTopTotalHeight(),n=0;t>0&&(n+=t+1),e>0&&(n+=e+1),this.comp.setStickyTopTop(n+"px")},e.prototype.sizeColumnsToFit=function(t,e){var n=this,o=this.isVerticalScrollShowing()?this.gridOptionsService.getScrollbarWidth():0,r=uo(this.eGridBody)-o;r>0?this.columnModel.sizeColumnsToFit(r,"sizeColumnsToFit",!1,t):void 0===e?window.setTimeout((function(){n.sizeColumnsToFit(t,100)}),0):100===e?window.setTimeout((function(){n.sizeColumnsToFit(t,500)}),100):500===e?window.setTimeout((function(){n.sizeColumnsToFit(t,-1)}),500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},e.prototype.addScrollEventListener=function(t){this.eBodyViewport.addEventListener("scroll",t,{passive:!0})},e.prototype.removeScrollEventListener=function(t){this.eBodyViewport.removeEventListener("scroll",t)},al([K("rowContainerHeightService")],e.prototype,"rowContainerHeightService",void 0),al([K("ctrlsService")],e.prototype,"ctrlsService",void 0),al([K("columnModel")],e.prototype,"columnModel",void 0),al([K("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),al([Y("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),al([K("headerNavigationService")],e.prototype,"headerNavigationService",void 0),al([K("dragAndDropService")],e.prototype,"dragAndDropService",void 0),al([K("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),al([K("rowRenderer")],e.prototype,"rowRenderer",void 0),al([K("popupService")],e.prototype,"popupService",void 0),al([K("mouseEventService")],e.prototype,"mouseEventService",void 0),al([K("rowModel")],e.prototype,"rowModel",void 0),e}(Ut);!function(t){t[t.FILL=0]="FILL",t[t.RANGE=1]="RANGE"}(ll||(ll={})),function(t){t[t.VALUE=0]="VALUE",t[t.DIMENSION=1]="DIMENSION"}(cl||(cl={}));var hl,fl="ag-cell-range-selected",gl=function(){function t(t,e){this.beans=t,this.cellCtrl=e}return t.prototype.setComp=function(t,e){this.cellComp=t,this.eGui=e,this.onRangeSelectionChanged()},t.prototype.onRangeSelectionChanged=function(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(fl,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass(fl+"-1",1===this.rangeCount),this.cellComp.addOrRemoveCssClass(fl+"-2",2===this.rangeCount),this.cellComp.addOrRemoveCssClass(fl+"-3",3===this.rangeCount),this.cellComp.addOrRemoveCssClass(fl+"-4",this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),_n(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},t.prototype.updateRangeBorders=function(){var t=this.getRangeBorders(),e=this.isSingleCell(),n=!e&&t.top,o=!e&&t.right,r=!e&&t.bottom,i=!e&&t.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",n),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",o),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",r),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",i)},t.prototype.isSingleCell=function(){var t=this.beans.rangeService;return 1===this.rangeCount&&t&&!t.isMoreThanOneCell()},t.prototype.getHasChartRange=function(){var t=this.beans.rangeService;if(!this.rangeCount||!t)return!1;var e=t.getCellRanges();return e.length>0&&e.every((function(t){return Et([cl.DIMENSION,cl.VALUE],t.type)}))},t.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},t.prototype.getRangeBorders=function(){var t,e,n=this,o=this.beans.gridOptionsService.is("enableRtl"),r=!1,i=!1,s=!1,a=!1,l=this.cellCtrl.getCellPosition().column,c=this.beans,u=c.rangeService,d=c.columnModel;o?(t=d.getDisplayedColAfter(l),e=d.getDisplayedColBefore(l)):(t=d.getDisplayedColBefore(l),e=d.getDisplayedColAfter(l));var p=u.getCellRanges().filter((function(t){return u.isCellInSpecificRange(n.cellCtrl.getCellPosition(),t)}));t||(a=!0),e||(i=!0);for(var h=0;h<p.length&&!(r&&i&&s&&a);h++){var f=p[h],g=u.getRangeStartRow(f),_=u.getRangeEndRow(f);!r&&this.beans.rowPositionUtils.sameRow(g,this.cellCtrl.getCellPosition())&&(r=!0),!s&&this.beans.rowPositionUtils.sameRow(_,this.cellCtrl.getCellPosition())&&(s=!0),!a&&t&&f.columns.indexOf(t)<0&&(a=!0),!i&&e&&f.columns.indexOf(e)<0&&(i=!0)}return{top:r,right:i,bottom:s,left:a}},t.prototype.refreshHandle=function(){if(this.beans.rangeService){var t=this.shouldHaveSelectionHandle();this.selectionHandle&&!t&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),t&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}},t.prototype.shouldHaveSelectionHandle=function(){var t=this.beans,e=t.gridOptionsService,n=t.rangeService,o=n.getCellRanges(),r=o.length;if(this.rangeCount<1||r<1)return!1;var i=ft(o),s=this.cellCtrl.getCellPosition(),a=e.is("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),l=e.is("enableRangeHandle"),c=1===r&&!this.cellCtrl.isEditing()&&(a||l);if(this.hasChartRange){var u=o[0].type===cl.DIMENSION&&n.isCellInSpecificRange(s,o[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",u),c=i.type===cl.VALUE}return c&&null!=i.endRow&&n.isContiguousRange(i)&&n.isBottomRightCell(i,s)},t.prototype.addSelectionHandle=function(){var t=this.beans,e=t.gridOptionsService,n=ft(t.rangeService.getCellRanges()).type,o=e.is("enableFillHandle")&&i(n)?ll.FILL:ll.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==o&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(o)),this.selectionHandle.refresh(this.cellCtrl)},t.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},t}(),_l=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ml=function(t){function e(e,n){var o=t.call(this)||this;return o.cellCtrl=e,o.beans=n,o.column=e.getColumn(),o.rowNode=e.getRowNode(),o.setupColSpan(),o.setupRowSpan(),o}return _l(e,t),e.prototype.setupRowSpan=function(){this.rowSpan=this.column.getRowSpan(this.rowNode)},e.prototype.setComp=function(t){this.eGui=t,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},e.prototype.onDisplayColumnsChanged=function(){var t=this.getColSpanningList();gt(this.colsSpanning,t)||(this.colsSpanning=t,this.onWidthChanged(),this.onLeftChanged())},e.prototype.setupColSpan=function(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,zt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,zt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},e.prototype.onWidthChanged=function(){if(this.eGui){var t=this.getCellWidth();this.eGui.style.width=t+"px"}},e.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce((function(t,e){return t+e.getActualWidth()}),0):this.column.getActualWidth()},e.prototype.getColSpanningList=function(){var t=this.column.getColSpan(this.rowNode),e=[];if(1===t)e.push(this.column);else for(var n=this.column,o=this.column.getPinned(),r=0;n&&r<t&&(e.push(n),(n=this.beans.columnModel.getDisplayedColAfter(n))&&!i(n))&&o===n.getPinned();r++);return e},e.prototype.onLeftChanged=function(){if(this.eGui){var t=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=t+"px"}},e.prototype.getCellLeft=function(){return(this.beans.gridOptionsService.is("enableRtl")&&this.colsSpanning?ft(this.colsSpanning):this.column).getLeft()},e.prototype.modifyLeftForPrintLayout=function(t){if(!this.cellCtrl.isPrintLayout()||"left"===this.column.getPinned())return t;var e=this.beans.columnModel.getDisplayedColumnsLeftWidth();return"right"===this.column.getPinned()?e+this.beans.columnModel.getBodyContainerWidth()+(t||0):e+(t||0)},e.prototype.applyRowSpan=function(){if(1!==this.rowSpan){var t=this.beans.gridOptionsService.getRowHeightAsNumber()*this.rowSpan;this.eGui.style.height=t+"px",this.eGui.style.zIndex="1"}},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e}(Ut),yl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),vl=function(t){function e(e,n){var o=t.call(this)||this;return o.staticClasses=[],o.cellCtrl=e,o.beans=n,o.column=e.getColumn(),o.rowNode=e.getRowNode(),o}return yl(e,t),e.prototype.setComp=function(t){this.cellComp=t,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},e.prototype.applyCellClassRules=function(){var t=this,e=this.column.getColDef(),n={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.beans.stylingService.processClassRules(e.cellClassRules,n,(function(e){return t.cellComp.addOrRemoveCssClass(e,!0)}),(function(e){return t.cellComp.addOrRemoveCssClass(e,!1)}))},e.prototype.applyUserStyles=function(){var t=this.column.getColDef();if(t.cellStyle){var e;if("function"==typeof t.cellStyle){var n={column:this.column,value:this.cellCtrl.getValue(),colDef:t,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};e=(0,t.cellStyle)(n)}else e=t.cellStyle;e&&this.cellComp.setUserStyles(e)}},e.prototype.applyClassesFromColDef=function(){var t=this,e=this.column.getColDef(),n={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:e,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.staticClasses.length&&this.staticClasses.forEach((function(e){return t.cellComp.addOrRemoveCssClass(e,!1)})),this.staticClasses=this.beans.stylingService.getStaticCellClasses(e,n),this.staticClasses.length&&this.staticClasses.forEach((function(e){return t.cellComp.addOrRemoveCssClass(e,!0)}))},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e}(Ut),Cl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),El=function(t){function e(e,n){var o=t.call(this)||this;return o.ctrl=e,o.beans=n,o}return Cl(e,t),e.prototype.setComp=function(t){this.comp=t,this.setupTooltip()},e.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsService.is("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0):this.createTooltipFeatureIfNeeded()},e.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},e.prototype.createTooltipFeatureIfNeeded=function(){var t=this;if(null==this.genericTooltipFeature){var e={getTooltipParams:function(){return t.getTooltipParams()},getGui:function(){return t.ctrl.getGui()}};this.genericTooltipFeature=this.createManagedBean(new ur(e),this.beans.context)}},e.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0)},e.prototype.getTooltipParams=function(){var t=this.ctrl,e=t.getColumn?t.getColumn():void 0,n=t.getColDef?t.getColDef():void 0,o=t.getRowNode?t.getRowNode():void 0;return{location:t.getLocation(),colDef:n,column:e,rowIndex:t.getRowIndex?t.getRowIndex():void 0,node:o,data:o?o.data:void 0,value:this.getTooltipText(),valueFormatted:t.getValueFormatted?t.getValueFormatted():void 0}},e.prototype.getTooltipText=function(){return this.tooltip},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e}(Ut),bl=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Sl=function(){function t(){}return t.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsService.isMasterDetail(),this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gridOptionsService.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)},bl([K("resizeObserverService")],t.prototype,"resizeObserverService",void 0),bl([K("paginationProxy")],t.prototype,"paginationProxy",void 0),bl([K("context")],t.prototype,"context",void 0),bl([K("columnApi")],t.prototype,"columnApi",void 0),bl([K("gridApi")],t.prototype,"gridApi",void 0),bl([K("gridOptionsService")],t.prototype,"gridOptionsService",void 0),bl([K("expressionService")],t.prototype,"expressionService",void 0),bl([K("environment")],t.prototype,"environment",void 0),bl([K("rowRenderer")],t.prototype,"rowRenderer",void 0),bl([K("templateService")],t.prototype,"templateService",void 0),bl([K("valueService")],t.prototype,"valueService",void 0),bl([K("eventService")],t.prototype,"eventService",void 0),bl([K("columnModel")],t.prototype,"columnModel",void 0),bl([K("headerNavigationService")],t.prototype,"headerNavigationService",void 0),bl([K("navigationService")],t.prototype,"navigationService",void 0),bl([K("columnAnimationService")],t.prototype,"columnAnimationService",void 0),bl([Y("rangeService")],t.prototype,"rangeService",void 0),bl([K("focusService")],t.prototype,"focusService",void 0),bl([Y("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),bl([K("popupService")],t.prototype,"popupService",void 0),bl([K("valueFormatterService")],t.prototype,"valueFormatterService",void 0),bl([K("stylingService")],t.prototype,"stylingService",void 0),bl([K("columnHoverService")],t.prototype,"columnHoverService",void 0),bl([K("userComponentFactory")],t.prototype,"userComponentFactory",void 0),bl([K("userComponentRegistry")],t.prototype,"userComponentRegistry",void 0),bl([K("animationFrameService")],t.prototype,"animationFrameService",void 0),bl([K("dragService")],t.prototype,"dragService",void 0),bl([K("dragAndDropService")],t.prototype,"dragAndDropService",void 0),bl([K("sortController")],t.prototype,"sortController",void 0),bl([K("filterManager")],t.prototype,"filterManager",void 0),bl([K("rowContainerHeightService")],t.prototype,"rowContainerHeightService",void 0),bl([K("frameworkOverrides")],t.prototype,"frameworkOverrides",void 0),bl([K("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),bl([K("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),bl([K("selectionService")],t.prototype,"selectionService",void 0),bl([Y("selectionHandleFactory")],t.prototype,"selectionHandleFactory",void 0),bl([K("rowCssClassCalculator")],t.prototype,"rowCssClassCalculator",void 0),bl([K("rowModel")],t.prototype,"rowModel",void 0),bl([K("ctrlsService")],t.prototype,"ctrlsService",void 0),bl([K("ctrlsFactory")],t.prototype,"ctrlsFactory",void 0),bl([K("agStackComponentsRegistry")],t.prototype,"agStackComponentsRegistry",void 0),bl([K("valueCache")],t.prototype,"valueCache",void 0),bl([K("rowNodeEventThrottle")],t.prototype,"rowNodeEventThrottle",void 0),bl([K("localeService")],t.prototype,"localeService",void 0),bl([H],t.prototype,"postConstruct",null),t=bl([z("beans")],t)}(),wl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ol=function(t){function e(e,n,o){var r=t.call(this)||this;return r.cellCtrl=e,r.beans=n,r.column=o,r}return wl(e,t),e.prototype.onMouseEvent=function(t,e){if(!Dt(e))switch(t){case"click":this.onCellClicked(e);break;case"mousedown":case"touchstart":this.onMouseDown(e);break;case"dblclick":this.onCellDoubleClicked(e);break;case"mouseout":this.onMouseOut(e);break;case"mouseover":this.onMouseOver(e)}},e.prototype.onCellClicked=function(t){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(t),void t.preventDefault();var e=this.beans,n=e.eventService,o=e.rangeService,r=e.gridOptionsService,i=t.ctrlKey||t.metaKey;o&&i&&o.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&o.intersectLastRange(!0);var s=this.cellCtrl.createEvent(t,zt.EVENT_CELL_CLICKED);n.dispatchEvent(s);var a=this.column.getColDef();a.onCellClicked&&window.setTimeout((function(){return a.onCellClicked(s)}),0),(r.is("singleClickEdit")||a.singleClickEdit)&&!r.is("suppressClickEdit")&&this.cellCtrl.startRowOrCellEdit()},e.prototype.isDoubleClickOnIPad=function(){if(!An()||Mt("dblclick"))return!1;var t=(new Date).getTime(),e=t-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=t,e},e.prototype.onCellDoubleClicked=function(t){var e=this.column.getColDef(),n=this.cellCtrl.createEvent(t,zt.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(n),"function"==typeof e.onCellDoubleClicked&&window.setTimeout((function(){return e.onCellDoubleClicked(n)}),0),!this.beans.gridOptionsService.is("singleClickEdit")&&!this.beans.gridOptionsService.is("suppressClickEdit")&&this.cellCtrl.startRowOrCellEdit(null,null,t)},e.prototype.onMouseDown=function(t){var e=t.ctrlKey,n=t.metaKey,o=t.shiftKey,r=t.target,i=this.beans,s=i.eventService,a=i.rangeService;if(!this.isRightClickInExistingRange(t)){var l=a&&0!=a.getCellRanges().length;if(!o||!l){var c=Tn()&&!this.cellCtrl.isEditing()&&!oo(r);this.cellCtrl.focusCell(c)}if(o&&l&&t.preventDefault(),!this.containsWidget(r)){if(a){var u=this.cellCtrl.getCellPosition();if(o)a.extendLatestRangeToCell(u);else{var d=e||n;a.setRangeToCell(u,d)}}s.dispatchEvent(this.cellCtrl.createEvent(t,zt.EVENT_CELL_MOUSE_DOWN))}}},e.prototype.isRightClickInExistingRange=function(t){var e=this.beans.rangeService;if(e&&(e.isCellInAnyRange(this.cellCtrl.getCellPosition())&&2===t.button))return!0;return!1},e.prototype.containsWidget=function(t){return ao(t,"ag-selection-checkbox",3)},e.prototype.onMouseOut=function(t){if(!this.mouseStayingInsideCell(t)){var e=this.cellCtrl.createEvent(t,zt.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(e),this.beans.columnHoverService.clearMouseOver()}},e.prototype.onMouseOver=function(t){if(!this.mouseStayingInsideCell(t)){var e=this.cellCtrl.createEvent(t,zt.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(e),this.beans.columnHoverService.setMouseOver([this.column])}},e.prototype.mouseStayingInsideCell=function(t){if(!t.target||!t.relatedTarget)return!1;var e=this.cellCtrl.getGui(),n=e.contains(t.target),o=e.contains(t.relatedTarget);return n&&o},e.prototype.destroy=function(){},e}(Sl),Pl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Tl=function(t){function e(e,n,o,r,i){var s=t.call(this)||this;return s.cellCtrl=e,s.beans=n,s.rowNode=r,s.rowCtrl=i,s}return Pl(e,t),e.prototype.setComp=function(t){this.eGui=t},e.prototype.onKeyDown=function(t){var e=t.key;switch(e){case Wo.ENTER:this.onEnterKeyDown(t);break;case Wo.F2:this.onF2KeyDown(t);break;case Wo.ESCAPE:this.onEscapeKeyDown(t);break;case Wo.TAB:this.onTabKeyDown(t);break;case Wo.BACKSPACE:case Wo.DELETE:this.onBackspaceOrDeleteKeyPressed(e,t);break;case Wo.DOWN:case Wo.UP:case Wo.RIGHT:case Wo.LEFT:this.onNavigationKeyPressed(t,e)}},e.prototype.onNavigationKeyPressed=function(t,e){this.cellCtrl.isEditing()||(t.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(t):this.beans.navigationService.navigateToNextCell(t,e,this.cellCtrl.getCellPosition(),!0),t.preventDefault())},e.prototype.onShiftRangeSelect=function(t){if(this.beans.rangeService){var e=this.beans.rangeService.extendLatestRangeInDirection(t);e&&this.beans.navigationService.ensureCellVisible(e)}},e.prototype.onTabKeyDown=function(t){this.beans.navigationService.onTabKeyDown(this.cellCtrl,t)},e.prototype.onBackspaceOrDeleteKeyPressed=function(t,e){var n=this,o=n.cellCtrl,r=n.beans,i=n.rowNode,s=r.gridOptionsService,a=r.rangeService,l=r.eventService;o.isEditing()||(l.dispatchEvent({type:zt.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),Yo(t,s.is("enableCellEditingOnBackspace"))?a&&s.isEnableRangeSelection()?a.clearCellRangeCellValues():o.isCellEditable()&&i.setDataValue(o.getColumn(),null,"cellClear"):o.startRowOrCellEdit(t,void 0,e),l.dispatchEvent({type:zt.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))},e.prototype.onEnterKeyDown=function(t){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus():this.beans.gridOptionsService.is("enterMovesDown")?this.beans.navigationService.navigateToNextCell(null,Wo.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(Wo.ENTER,void 0,t),this.cellCtrl.isEditing()&&t.preventDefault())},e.prototype.onF2KeyDown=function(t){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(Wo.F2,void 0,t)},e.prototype.onEscapeKeyDown=function(t){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},e.prototype.onKeyPress=function(t){if(!(t.target!==this.eGui)&&!this.cellCtrl.isEditing()){var e=String.fromCharCode(t.charCode);" "===e?this.onSpaceKeyPressed(t):Ho(t)&&(this.cellCtrl.startRowOrCellEdit(null,e,t),t.preventDefault())}},e.prototype.onSpaceKeyPressed=function(t){var e=this.beans.gridOptionsService;if(!this.cellCtrl.isEditing()&&e.isRowSelection()){var n=this.rowNode.isSelected(),o=!n;if(o||!e.is("suppressRowDeselection")){var r=this.beans.gridOptionsService.is("groupSelectsFiltered"),i=this.rowNode.setSelectedParams({newValue:o,rangeSelect:t.shiftKey,groupSelectsFiltered:r,event:t,source:"spacePressed"});void 0===n&&0===i&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:t.shiftKey,groupSelectsFiltered:r,event:t,source:"spacePressed"})}}t.preventDefault()},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e}(Ut),Rl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Dl=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},xl=function(t){function e(e,n,o,r){var i=t.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return i.rowNode=e,i.column=n,i.beans=o,i.eCell=r,i}return Rl(e,t),e.prototype.postConstruct=function(){this.getGui().appendChild(jo("rowDrag",this.beans.gridOptionsService,null)),this.addGuiEventListener("mousedown",(function(t){t.stopPropagation()})),this.addDragSource(),this.checkVisibility()},e.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},e.prototype.onDragStart=function(t){var e=this,n=this.column.getColDef().dndSourceOnRowDrag;t.dataTransfer.setDragImage(this.eCell,0,0);n?n({rowNode:this.rowNode,dragEvent:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}):function(){try{var n=JSON.stringify(e.rowNode.data);t.dataTransfer.setData("application/json",n),t.dataTransfer.setData("text/plain",n)}catch(t){}}()},e.prototype.checkVisibility=function(){var t=this.column.isDndSource(this.rowNode);this.setDisplayed(t)},Dl([H],e.prototype,"postConstruct",null),e}(gr),Ml=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Al=function(){return Al=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Al.apply(this,arguments)},Ll=0,Il=function(t){function e(e,n,o,r){var i=t.call(this)||this;return i.cellRangeFeature=null,i.cellPositionFeature=null,i.cellCustomStyleFeature=null,i.tooltipFeature=null,i.cellMouseListenerFeature=null,i.cellKeyboardListenerFeature=null,i.suppressRefreshCell=!1,i.onCellCompAttachedFuncs=[],i.column=e,i.rowNode=n,i.beans=o,i.rowCtrl=r,i.instanceId=e.getId()+"-"+Ll++,i.createCellPosition(),i.addFeatures(),i}return Ml(e,t),e.prototype.addFeatures=function(){var t=this;this.cellPositionFeature=new ml(this,this.beans),this.addDestroyFunc((function(){var e;null===(e=t.cellPositionFeature)||void 0===e||e.destroy(),t.cellPositionFeature=null})),this.cellCustomStyleFeature=new vl(this,this.beans),this.addDestroyFunc((function(){var e;null===(e=t.cellCustomStyleFeature)||void 0===e||e.destroy(),t.cellCustomStyleFeature=null})),this.cellMouseListenerFeature=new Ol(this,this.beans,this.column),this.addDestroyFunc((function(){var e;null===(e=t.cellMouseListenerFeature)||void 0===e||e.destroy(),t.cellMouseListenerFeature=null})),this.cellKeyboardListenerFeature=new Tl(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc((function(){var e;null===(e=t.cellKeyboardListenerFeature)||void 0===e||e.destroy(),t.cellKeyboardListenerFeature=null})),this.beans.rangeService&&this.beans.gridOptionsService.isEnableRangeSelection()&&(this.cellRangeFeature=new gl(this.beans,this),this.addDestroyFunc((function(){var e;null===(e=t.cellRangeFeature)||void 0===e||e.destroy(),t.cellRangeFeature=null}))),this.column.isTooltipEnabled()&&this.addTooltipFeature()},e.prototype.addTooltipFeature=function(){var t=this,e={getColumn:function(){return t.column},getColDef:function(){return t.column.getColDef()},getRowIndex:function(){return t.cellPosition.rowIndex},getRowNode:function(){return t.rowNode},getGui:function(){return t.getGui()},getLocation:function(){return"cell"},getTooltipValue:function(){var e=t.column.getColDef(),n=t.rowNode.data;if(e.tooltipField&&r(n))return b(n,e.tooltipField,t.column.isTooltipFieldContainsDots());var o=e.tooltipValueGetter;return o?o({location:"cell",api:t.beans.gridOptionsService.api,columnApi:t.beans.gridOptionsService.columnApi,context:t.beans.gridOptionsService.context,colDef:t.column.getColDef(),column:t.column,rowIndex:t.cellPosition.rowIndex,node:t.rowNode,data:t.rowNode.data,value:t.value,valueFormatted:t.valueFormatted}):null},getValueFormatted:function(){return t.valueFormatted}};this.tooltipFeature=new El(e,this.beans),this.addDestroyFunc((function(){var e;null===(e=t.tooltipFeature)||void 0===e||e.destroy(),t.tooltipFeature=null}))},e.prototype.setComp=function(t,e,n,o,r){var i,s,a,l;this.cellComp=t,this.eGui=e,this.printLayout=o,this.updateAndFormatValue(!0),this.addDomData(),this.onCellFocused(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),n&&this.setupAutoHeight(n),this.setAriaColIndex(),this.beans.gridOptionsService.is("suppressCellFocus")||this.cellComp.setTabIndex(-1);var c=Ce(this.column.getId());this.cellComp.setColId(c),this.cellComp.setRole("gridcell"),null===(i=this.cellPositionFeature)||void 0===i||i.setComp(e),null===(s=this.cellCustomStyleFeature)||void 0===s||s.setComp(t),null===(a=this.tooltipFeature)||void 0===a||a.setComp(t),null===(l=this.cellKeyboardListenerFeature)||void 0===l||l.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(t,e),r&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach((function(t){return t()})),this.onCellCompAttachedFuncs=[])},e.prototype.setupAutoHeight=function(t){var e=this;if(this.column.isAutoHeight()){var n=t.parentElement,o=this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height,r=function(i){if(!e.editing&&e.isAlive()){var s=lo(n),a=s.paddingTop+s.paddingBottom+s.borderBottomWidth+s.borderTopWidth,l=t.offsetHeight+a;if(i<5){var c=e.beans.gridOptionsService.getDocument();if(!c||!c.contains(t)||0==l)return void e.beans.frameworkOverrides.setTimeout((function(){return r(i+1)}),0)}var u=Math.max(l,o);e.rowNode.setRowAutoHeight(u,e.column)}},i=function(){return r(0)};i();var s=this.beans.resizeObserverService.observeResize(t,i);this.addDestroyFunc((function(){s(),e.rowNode.setRowAutoHeight(void 0,e.column)}))}},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.showValue=function(t){void 0===t&&(t=!1);var e=null!=this.valueFormatted?this.valueFormatted:this.value,n=this.createCellRendererParams(),o=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),n);this.cellComp.setRenderDetails(o,e,t),this.refreshHandle()},e.prototype.setupControlComps=function(){var t=this.column.getColDef();this.includeSelection=this.isIncludeControl(t.checkboxSelection),this.includeRowDrag=this.isIncludeControl(t.rowDrag),this.includeDndSource=this.isIncludeControl(t.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},e.prototype.isForceWrapper=function(){return this.beans.gridOptionsService.is("enableCellTextSelection")||this.column.isAutoHeight()},e.prototype.isIncludeControl=function(t){return!(null!=this.rowNode.rowPinned)&&("function"==typeof t||!0===t)},e.prototype.refreshShouldDestroy=function(){var t=this.column.getColDef(),e=this.includeSelection!=this.isIncludeControl(t.checkboxSelection),n=this.includeRowDrag!=this.isIncludeControl(t.rowDrag),o=this.includeDndSource!=this.isIncludeControl(t.dndSource);return e||n||o},e.prototype.startEditing=function(t,e,n,o){var r=this;if(void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=!1),void 0===o&&(o=null),this.isCellEditable()&&!this.editing)if(this.cellComp){var i=this.createCellEditorParams(t,e,n),s=this.column.getColDef(),a=this.beans.userComponentFactory.getCellEditorDetails(s,i),l=null!=(null==a?void 0:a.popupFromSelector)?a.popupFromSelector:!!s.cellEditorPopup,c=null!=(null==a?void 0:a.popupPositionFromSelector)?a.popupPositionFromSelector:s.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(a,l,c);var u=this.createEvent(o,zt.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(u)}else this.onCellCompAttachedFuncs.push((function(){r.startEditing(t,e,n,o)}))},e.prototype.setEditing=function(t){this.editing!==t&&(this.editing=t,this.refreshHandle())},e.prototype.stopRowOrCellEdit=function(t){void 0===t&&(t=!1),"fullRow"===this.beans.gridOptionsService.get("editType")?this.rowCtrl.stopRowEditing(t):this.stopEditing(t)},e.prototype.onPopupEditorClosed=function(){this.isEditing()&&this.stopEditingAndFocus()},e.prototype.takeValueFromCellEditor=function(t){var e={newValueExists:!1};if(t)return e;var n=this.cellComp.getCellEditor();return n?n.isCancelAfterEnd&&n.isCancelAfterEnd()?e:{newValue:n.getValue(),newValueExists:!0}:e},e.prototype.saveNewValue=function(t,e){if(e===t)return!1;this.suppressRefreshCell=!0;var n=this.rowNode.setDataValue(this.column,e,"edit");return this.suppressRefreshCell=!1,n},e.prototype.stopEditing=function(t){if(void 0===t&&(t=!1),!this.editing)return!1;var e=this.takeValueFromCellEditor(t),n=e.newValue,o=e.newValueExists,r=this.rowNode.getValueFromValueService(this.column),i=!1;return o&&(i=this.saveNewValue(r,n)),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(r,n,!t&&!!i),i},e.prototype.dispatchEditingStoppedEvent=function(t,e,n){var o=Al(Al({},this.createEvent(null,zt.EVENT_CELL_EDITING_STOPPED)),{oldValue:t,newValue:e,valueChanged:n});this.beans.eventService.dispatchEvent(o)},e.prototype.createCellEditorParams=function(t,e,n){return{value:this.rowNode.getValueFromValueService(this.column),eventKey:t,charPress:e,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsService.api,cellStartedEdit:n,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}},e.prototype.createCellRendererParams=function(){var t=this;return{value:this.value,valueFormatted:this.valueFormatted,getValue:function(){return t.rowNode.getValueFromValueService(t.column)},setValue:function(e){return t.beans.valueService.setValue(t.rowNode,t.column,e)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(e,n,o,r){return t.registerRowDragger(e,n,r)}}},e.prototype.parseValue=function(t){var e=this.column.getColDef(),n={node:this.rowNode,data:this.rowNode.data,oldValue:this.getValue(),newValue:t,colDef:e,column:this.column,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context},o=e.valueParser;return r(o)?"function"==typeof o?o(n):this.beans.expressionService.evaluate(o,n):t},e.prototype.setFocusOutOnEditor=function(){if(this.editing){var t=this.cellComp.getCellEditor();t&&t.focusOut&&t.focusOut()}},e.prototype.setFocusInOnEditor=function(){if(this.editing){var t=this.cellComp.getCellEditor();t&&t.focusIn?t.focusIn():this.focusCell(!0)}},e.prototype.onCellChanged=function(t){this.cellComp&&(t.column===this.column&&this.refreshCell({}))},e.prototype.refreshCell=function(t){var e,n,o;if(!this.suppressRefreshCell&&!this.editing&&this.cellComp){var r=this.column.getColDef(),i=null!=t&&!!t.newData,s=null!=t&&!!t.suppressFlash||!!r.suppressCellFlash,a=null==r.field&&null==r.valueGetter&&null==r.showRowGroup,l=t&&t.forceRefresh||a||i,c=this.updateAndFormatValue();if(l||c){this.showValue(i);var u=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!s&&!u&&(this.beans.gridOptionsService.is("enableCellChangeFlash")||r.enableCellChangeFlash)&&this.flashCell(),null===(e=this.cellCustomStyleFeature)||void 0===e||e.applyUserStyles(),null===(n=this.cellCustomStyleFeature)||void 0===n||n.applyClassesFromColDef()}this.refreshToolTip(),null===(o=this.cellCustomStyleFeature)||void 0===o||o.applyCellClassRules()}},e.prototype.stopEditingAndFocus=function(t){void 0===t&&(t=!1),this.stopRowOrCellEdit(),this.focusCell(!0),t||this.navigateAfterEdit()},e.prototype.navigateAfterEdit=function(){"fullRow"===this.beans.gridOptionsService.get("editType")||this.beans.gridOptionsService.is("enterMovesDownAfterEdit")&&this.beans.navigationService.navigateToNextCell(null,Wo.DOWN,this.getCellPosition(),!1)},e.prototype.flashCell=function(t){var e=t&&t.flashDelay,n=t&&t.fadeDelay;this.animateCell("data-changed",e,n)},e.prototype.animateCell=function(t,e,n){var o,i,s=this,a="ag-cell-"+t,l="ag-cell-"+t+"-animation",c=this.beans.gridOptionsService;e||(e=null!==(o=c.getNum("cellFlashDelay"))&&void 0!==o?o:500),r(n)||(n=null!==(i=c.getNum("cellFadeDelay"))&&void 0!==i?i:1e3),this.cellComp.addOrRemoveCssClass(a,!0),this.cellComp.addOrRemoveCssClass(l,!1),window.setTimeout((function(){s.isAlive()&&(s.cellComp.addOrRemoveCssClass(a,!1),s.cellComp.addOrRemoveCssClass(l,!0),s.eGui.style.transition="background-color "+n+"ms",window.setTimeout((function(){s.isAlive()&&(s.cellComp.addOrRemoveCssClass(l,!1),s.eGui.style.transition="")}),n))}),e)},e.prototype.onFlashCells=function(t){if(this.cellComp){var e=this.beans.cellPositionUtils.createId(this.getCellPosition());t.cells[e]&&this.animateCell("highlight")}},e.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},e.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},e.prototype.formatValue=function(t){var e=this.callValueFormatter(t);return null!=e?e:t},e.prototype.callValueFormatter=function(t){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,t)},e.prototype.updateAndFormatValue=function(t){void 0===t&&(t=!1);var e=this.value,n=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),!!t||(!this.valuesAreEqual(e,this.value)||this.valueFormatted!=n)},e.prototype.valuesAreEqual=function(t,e){var n=this.column.getColDef();return n.equals?n.equals(t,e):t===e},e.prototype.getComp=function(){return this.cellComp},e.prototype.getValue=function(){return this.value},e.prototype.getValueFormatted=function(){return this.valueFormatted},e.prototype.addDomData=function(){var t=this,n=this.getGui();this.beans.gridOptionsService.setDomData(n,e.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc((function(){return t.beans.gridOptionsService.setDomData(n,e.DOM_DATA_KEY_CELL_CTRL,null)}))},e.prototype.createEvent=function(t,e){return{type:e,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:t,rowIndex:this.rowNode.rowIndex}},e.prototype.onKeyPress=function(t){var e;null===(e=this.cellKeyboardListenerFeature)||void 0===e||e.onKeyPress(t)},e.prototype.onKeyDown=function(t){var e;null===(e=this.cellKeyboardListenerFeature)||void 0===e||e.onKeyDown(t)},e.prototype.onMouseEvent=function(t,e){var n;null===(n=this.cellMouseListenerFeature)||void 0===n||n.onMouseEvent(t,e)},e.prototype.getGui=function(){return this.eGui},e.prototype.refreshToolTip=function(){var t;null===(t=this.tooltipFeature)||void 0===t||t.refreshToolTip()},e.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},e.prototype.onLeftChanged=function(){var t;this.cellComp&&(null===(t=this.cellPositionFeature)||void 0===t||t.onLeftChanged())},e.prototype.onDisplayedColumnsChanged=function(){this.eGui&&this.setAriaColIndex()},e.prototype.setAriaColIndex=function(){var t=this.beans.columnModel.getAriaColumnIndex(this.column);pn(this.getGui(),t)},e.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},e.prototype.onWidthChanged=function(){var t;return null===(t=this.cellPositionFeature)||void 0===t?void 0:t.onWidthChanged()},e.prototype.getColumn=function(){return this.column},e.prototype.getRowNode=function(){return this.rowNode},e.prototype.getBeans=function(){return this.beans},e.prototype.isPrintLayout=function(){return this.printLayout},e.prototype.appendChild=function(t){this.eGui.appendChild(t)},e.prototype.refreshHandle=function(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},e.prototype.getCellPosition=function(){return this.cellPosition},e.prototype.isEditing=function(){return this.editing},e.prototype.startRowOrCellEdit=function(t,e,n){void 0===n&&(n=null),this.cellComp&&("fullRow"===this.beans.gridOptionsService.get("editType")?this.rowCtrl.startRowEditing(t,e,this):this.startEditing(t,e,!0,n))},e.prototype.getRowCtrl=function(){return this.rowCtrl},e.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},e.prototype.updateRangeBordersIfRangeCount=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},e.prototype.onRangeSelectionChanged=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},e.prototype.isRangeSelectionEnabled=function(){return null!=this.cellRangeFeature},e.prototype.focusCell=function(t){void 0===t&&(t=!1),this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:t})},e.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},e.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var t=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",t)}},e.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var t=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",t)}},e.prototype.onCellFocused=function(t){if(this.cellComp&&!this.beans.gridOptionsService.is("suppressCellFocus")){var e=this.beans.focusService.isCellFocused(this.cellPosition);if(this.cellComp.addOrRemoveCssClass("ag-cell-focus",e),e&&t&&t.forceBrowserFocus)this.cellComp.getFocusableElement().focus({preventScroll:!!t.preventScrollOnBrowserFocus});var n="fullRow"===this.beans.gridOptionsService.get("editType");e||n||!this.editing||this.stopRowOrCellEdit()}},e.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:o(this.rowNode.rowPinned),column:this.column}},e.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass("ag-cell-not-inline-editing",!0);var t=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",t),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!t)},e.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsService.is("columnHoverHighlight")){var t=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",t)}},e.prototype.onColDefChanged=function(){this.cellComp&&(this.setWrapText(),this.editing||this.refreshCell({forceRefresh:!0,suppressFlash:!0}))},e.prototype.setWrapText=function(){var t=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",t)},e.prototype.dispatchCellContextMenuEvent=function(t){var e=this.column.getColDef(),n=this.createEvent(t,zt.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(n),e.onCellContextMenu&&window.setTimeout((function(){return e.onCellContextMenu(n)}),0)},e.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},e.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},e.prototype.destroy=function(){this.onCellCompAttachedFuncs=[],t.prototype.destroy.call(this)},e.prototype.createSelectionCheckbox=function(){var t=new Ts;return this.beans.context.createBean(t),t.init({rowNode:this.rowNode,column:this.column}),t},e.prototype.createDndSource=function(){var t=new xl(this.rowNode,this.column,this.beans,this.eGui);return this.beans.context.createBean(t),t},e.prototype.registerRowDragger=function(t,e,n){var o=this;if(this.customRowDragComp)this.customRowDragComp.setDragElement(t,e);else{var r=this.createRowDragComp(t,e,n);r&&(this.customRowDragComp=r,this.addDestroyFunc((function(){o.beans.context.destroyBean(r),o.customRowDragComp=null})))}},e.prototype.createRowDragComp=function(t,e,n){var o=this,r=this.beans.gridOptionsService.is("pagination"),i=this.beans.gridOptionsService.is("rowDragManaged"),s=this.beans.gridOptionsService.isRowModelType("clientSide");if(i){if(!s)return void T((function(){return console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model")}),"CellComp.addRowDragging");if(r)return void T((function(){return console.warn("AG Grid: managed row dragging is not possible when doing pagination")}),"CellComp.addRowDragging")}var a=new Ns((function(){return o.value}),this.rowNode,this.column,t,e,n);return this.beans.context.createBean(a),a},e.DOM_DATA_KEY_CELL_CTRL="cellCtrl",e}(Ut),Nl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),kl=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fl=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Gl=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Fl(arguments[e]));return t};!function(t){t.Normal="Normal",t.FullWidth="FullWidth",t.FullWidthLoading="FullWidthLoading",t.FullWidthGroup="FullWidthGroup",t.FullWidthDetail="FullWidthDetail"}(hl||(hl={}));var Bl,Ul,jl=0,Vl=function(t){function e(e,n,o,r,i){var s=t.call(this)||this;return s.allRowGuis=[],s.active=!0,s.centerCellCtrls={list:[],map:{}},s.leftCellCtrls={list:[],map:{}},s.rightCellCtrls={list:[],map:{}},s.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},s.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},s.lastMouseDownOnDragger=!1,s.updateColumnListsPending=!1,s.businessKeySanitised=null,s.beans=n,s.rowNode=e,s.paginationPage=s.beans.paginationProxy.getCurrentPage(),s.useAnimationFrameForCreate=r,s.printLayout=i,s.instanceId=e.id+"-"+jl++,s.setAnimateFlags(o),s.initRowBusinessKey(),s.rowFocused=s.beans.focusService.isRowFocused(s.rowNode.rowIndex,s.rowNode.rowPinned),s.rowLevel=s.beans.rowCssClassCalculator.calculateRowLevel(s.rowNode),s.setRowType(),s.addListeners(),s}return Nl(e,t),e.prototype.initRowBusinessKey=function(){var t=this.beans.gridOptionsService.get("getBusinessKeyForNode");if("function"==typeof t){var e=t(this.rowNode);this.businessKeySanitised=Ce(e)}},e.prototype.isSticky=function(){return this.rowNode.sticky},e.prototype.getBeans=function(){return this.beans},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.setComp=function(t,e,n){var o={rowComp:t,element:e,containerType:n};this.allRowGuis.push(o),n===Ul.LEFT?this.leftGui=o:n===Ul.RIGHT?this.rightGui=o:n===Ul.FULL_WIDTH?this.fullWidthGui=o:this.centerGui=o,this.initialiseRowComp(o),"FullWidthLoading"===this.rowType||this.rowNode.rowPinned||this.beans.rowRenderer.dispatchFirstDataRenderedEvent()},e.prototype.unsetComp=function(t){this.allRowGuis=this.allRowGuis.filter((function(e){return e.containerType!==t})),t===Ul.LEFT?this.leftGui=void 0:t===Ul.RIGHT?this.rightGui=void 0:t===Ul.FULL_WIDTH&&(this.fullWidthGui=void 0)},e.prototype.isCacheable=function(){return this.rowType===hl.FullWidthDetail&&this.beans.gridOptionsService.is("keepDetailRows")},e.prototype.setCached=function(t){var e=t?"none":"";this.allRowGuis.forEach((function(t){return t.element.style.display=e}))},e.prototype.initialiseRowComp=function(t){var n=this,o=this.beans.gridOptionsService;this.onRowHeightChanged(t),this.updateRowIndexes(t),this.setFocusedClasses(t),this.setStylesFromGridOptions(t),o.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(t),this.updateColumnLists(!this.useAnimationFrameForCreate);var r=t.rowComp;r.setRole("row"),this.getInitialRowClasses(t.containerType).forEach((function(t){return r.addOrRemoveCssClass(t,!0)})),this.executeSlideAndFadeAnimations(t),this.rowNode.group&&on(t.element,1==this.rowNode.expanded);var i=Ce(this.rowNode.id);null!=i&&r.setRowId(i),null!=this.businessKeySanitised&&r.setRowBusinessKey(this.businessKeySanitised),this.isFullWidth()&&!this.beans.gridOptionsService.is("suppressCellFocus")&&r.setTabIndex(-1),o.setDomData(t.element,e.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc((function(){return o.setDomData(t.element,e.DOM_DATA_KEY_ROW_CTRL,null)})),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,t.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(t.element),this.isFullWidth()&&this.setupFullWidth(t),o.is("rowDragEntireRow")&&this.addRowDraggerToRow(t),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask((function(){n.isAlive()&&t.rowComp.addOrRemoveCssClass("ag-after-created",!0)})),this.executeProcessRowPostCreateFunc()},e.prototype.executeSlideAndFadeAnimations=function(t){var e=this,n=t.containerType;this.slideInAnimation[n]&&(L((function(){e.onTopChanged()})),this.slideInAnimation[n]=!1),this.fadeInAnimation[n]&&(L((function(){t.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)})),this.fadeInAnimation[n]=!1)},e.prototype.addRowDraggerToRow=function(t){if(this.beans.gridOptionsService.isEnableRangeSelection())T((function(){console.warn("AG Grid: Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`")}),"rowDragAndRangeSelectionEnabled");else{var e=this.beans.localeService.getLocaleTextFunc(),n=new Ns((function(){return"1 "+e("rowDragRow","row")}),this.rowNode,void 0,t.element,void 0,!0);this.createManagedBean(n,this.beans.context)}},e.prototype.setupFullWidth=function(t){var e=this.getPinnedForContainer(t.containerType),n=this.createFullWidthParams(t.element,e);if(this.rowType!=hl.FullWidthDetail||ot.assertRegistered(J.MasterDetailModule,"cell renderer 'agDetailCellRenderer' (for master detail)")){var o;switch(this.rowType){case hl.FullWidthDetail:o=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(n);break;case hl.FullWidthGroup:o=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(n);break;case hl.FullWidthLoading:o=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(n);break;default:o=this.beans.userComponentFactory.getFullWidthCellRendererDetails(n)}t.rowComp.showFullWidth(o)}},e.prototype.isPrintLayout=function(){return this.printLayout},e.prototype.getFullWidthCellRenderer=function(){var t,e;return null===(e=null===(t=this.fullWidthGui)||void 0===t?void 0:t.rowComp)||void 0===e?void 0:e.getFullWidthCellRenderer()},e.prototype.getCellElement=function(t){var e=this.getCellCtrl(t);return e?e.getGui():null},e.prototype.executeProcessRowPostCreateFunc=function(){var t,e=this.beans.gridOptionsService.getCallback("processRowPostCreate");e&&this.areAllContainersReady()&&e({eRow:null===(t=this.centerGui)||void 0===t?void 0:t.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})},e.prototype.areAllContainersReady=function(){var t=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),e=!!this.centerGui,n=!!this.rightGui||!this.beans.columnModel.isPinningRight();return t&&e&&n},e.prototype.setRowType=function(){var t=this.rowNode.stub,e=this.rowNode.isFullWidthCell(),n=this.beans.doingMasterDetail&&this.rowNode.detail,o=this.beans.columnModel.isPivotMode(),r=!!this.rowNode.group&&!this.rowNode.footer&&this.beans.gridOptionsService.isGroupUseEntireRow(o);this.rowType=t?hl.FullWidthLoading:n?hl.FullWidthDetail:e?hl.FullWidth:r?hl.FullWidthGroup:hl.Normal},e.prototype.updateColumnLists=function(t,e){var n=this;(void 0===t&&(t=!1),void 0===e&&(e=!1),this.isFullWidth())||(t||this.beans.gridOptionsService.is("suppressAnimationFrame")||this.printLayout?this.updateColumnListsImpl(e):this.updateColumnListsPending||(this.beans.animationFrameService.createTask((function(){n.active&&n.updateColumnListsImpl(!0)}),this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0))},e.prototype.createCellCtrls=function(t,e,n){var o=this;void 0===n&&(n=null);var r={list:[],map:{}},i=function(t,e){r.list.push(e),r.map[t]=e};return e.forEach((function(e){var n=e.getInstanceId(),r=t.map[n];r||(r=new Il(e,o.rowNode,o.beans,o)),i(n,r)})),t.list.forEach((function(t){null!=r.map[t.getColumn().getInstanceId()]||(!o.isCellEligibleToBeRemoved(t,n)?i(t.getColumn().getInstanceId(),t):t.destroy())})),r},e.prototype.updateColumnListsImpl=function(t){var e=this;void 0===t&&(t=!1),this.updateColumnListsPending=!1;var n=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var o=n.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,o);var r=n.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,r,"left");var i=n.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,i,"right")}this.allRowGuis.forEach((function(n){var o=n.containerType===Ul.LEFT?e.leftCellCtrls:n.containerType===Ul.RIGHT?e.rightCellCtrls:e.centerCellCtrls;n.rowComp.setCellCtrls(o.list,t)}))},e.prototype.isCellEligibleToBeRemoved=function(t,e){var n=!0;if(t.getColumn().getPinned()!=e)return n;var o=t.isEditing(),r=this.beans.focusService.isCellFocused(t.getCellPosition());if(o||r){var i=t.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(i)>=0)&&n}return n},e.prototype.setAnimateFlags=function(t){if(!this.isSticky()&&t){var e=r(this.rowNode.oldRowTop),n=this.beans.columnModel.isPinningLeft(),o=this.beans.columnModel.isPinningRight();e?(this.slideInAnimation.center=!0,this.slideInAnimation.left=n,this.slideInAnimation.right=o):(this.fadeInAnimation.center=!0,this.fadeInAnimation.left=n,this.fadeInAnimation.right=o)}},e.prototype.isEditing=function(){return this.editingRow},e.prototype.stopRowEditing=function(t){this.stopEditing(t)},e.prototype.isFullWidth=function(){return this.rowType!==hl.Normal},e.prototype.getRowType=function(){return this.rowType},e.prototype.refreshFullWidth=function(){var t=this,e=function(e,n){if(!e)return!0;var o=e.rowComp.getFullWidthCellRenderer();if(!o)return!1;if(!o.refresh)return!1;var r=t.createFullWidthParams(e.element,n);return o.refresh(r)},n=e(this.fullWidthGui,null),o=e(this.centerGui,null),r=e(this.leftGui,"left"),i=e(this.rightGui,"right");return n&&o&&r&&i},e.prototype.addListeners=function(){var t=this;this.addManagedListener(this.rowNode,Ss.EVENT_HEIGHT_CHANGED,(function(){return t.onRowHeightChanged()})),this.addManagedListener(this.rowNode,Ss.EVENT_ROW_SELECTED,(function(){return t.onRowSelected()})),this.addManagedListener(this.rowNode,Ss.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var e=this.beans.eventService;this.addManagedListener(e,zt.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(e,zt.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(e,zt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(e,zt.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(e,zt.EVENT_CELL_FOCUSED,this.onCellFocused.bind(this)),this.addManagedListener(e,zt.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusCleared.bind(this)),this.addManagedListener(e,zt.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(e,zt.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(e,zt.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},e.prototype.onColumnMoved=function(){this.updateColumnLists()},e.prototype.addListenersForCellComps=function(){var t=this;this.addManagedListener(this.rowNode,Ss.EVENT_ROW_INDEX_CHANGED,(function(){t.getAllCellCtrls().forEach((function(t){return t.onRowIndexChanged()}))})),this.addManagedListener(this.rowNode,Ss.EVENT_CELL_CHANGED,(function(e){t.getAllCellCtrls().forEach((function(t){return t.onCellChanged(e)}))}))},e.prototype.onRowNodeDataChanged=function(t){this.rowNode.detailNode&&this.beans.rowRenderer.refreshFullWidthRow(this.rowNode.detailNode),this.isFullWidth()?this.beans.rowRenderer.refreshFullWidthRow(this.rowNode):(this.getAllCellCtrls().forEach((function(e){return e.refreshCell({suppressFlash:!t.update,newData:!t.update})})),this.onRowSelected(),this.postProcessCss())},e.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},e.prototype.postProcessCss=function(){this.setStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},e.prototype.onRowNodeHighlightChanged=function(){var t=this.rowNode.highlighted;this.allRowGuis.forEach((function(e){var n=t===Ta.Above,o=t===Ta.Below;e.rowComp.addOrRemoveCssClass("ag-row-highlight-above",n),e.rowComp.addOrRemoveCssClass("ag-row-highlight-below",o)}))},e.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},e.prototype.postProcessRowDragging=function(){var t=this.rowNode.dragging;this.allRowGuis.forEach((function(e){return e.rowComp.addOrRemoveCssClass("ag-row-dragging",t)}))},e.prototype.updateExpandedCss=function(){var t=this.rowNode.isExpandable(),e=1==this.rowNode.expanded;this.allRowGuis.forEach((function(n){n.rowComp.addOrRemoveCssClass("ag-row-group",t),n.rowComp.addOrRemoveCssClass("ag-row-group-expanded",t&&e),n.rowComp.addOrRemoveCssClass("ag-row-group-contracted",t&&!e),on(n.element,t&&e)}))},e.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},e.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists(!1,!0)},e.prototype.getRowPosition=function(){return{rowPinned:o(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}},e.prototype.onKeyboardNavigate=function(t){var e=this.allRowGuis.find((function(e){return e.element.contains(t.target)}));if((e?e.element:null)===t.target){var n=this.rowNode,o=this.beans.focusService.getFocusedCell(),r={rowIndex:n.rowIndex,rowPinned:n.rowPinned,column:o&&o.column};this.beans.navigationService.navigateToNextCell(t,t.key,r,!0),t.preventDefault()}},e.prototype.onTabKeyDown=function(t){if(!t.defaultPrevented&&!Dt(t)){var e=this.allRowGuis.find((function(e){return e.element.contains(t.target)})),n=e?e.element:null,o=n===t.target,r=null;o||(r=this.beans.focusService.findNextFocusableElement(n,!1,t.shiftKey)),(this.isFullWidth()&&o||!r)&&this.beans.navigationService.onTabKeyDown(this,t)}},e.prototype.onFullWidthRowFocused=function(t){var e,n=this.rowNode,o=!!t&&(this.isFullWidth()&&t.rowIndex===n.rowIndex&&t.rowPinned==n.rowPinned),r=this.fullWidthGui?this.fullWidthGui.element:null===(e=this.centerGui)||void 0===e?void 0:e.element;r&&(r.classList.toggle("ag-full-width-focus",o),o&&r.focus({preventScroll:!0}))},e.prototype.refreshCell=function(t){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,t),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,t),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,t),this.updateColumnLists()},e.prototype.removeCellCtrl=function(t,e){var n={list:[],map:{}};return t.list.forEach((function(t){t!==e&&(n.list.push(t),n.map[t.getInstanceId()]=t)})),n},e.prototype.onMouseEvent=function(t,e){switch(t){case"dblclick":this.onRowDblClick(e);break;case"click":this.onRowClick(e);break;case"touchstart":case"mousedown":this.onRowMouseDown(e)}},e.prototype.createRowEvent=function(t,e){return{type:t,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,event:e}},e.prototype.createRowEventWithSource=function(t,e){var n=this.createRowEvent(t,e);return n.source=this,n},e.prototype.onRowDblClick=function(t){if(!Dt(t)){var e=this.createRowEventWithSource(zt.EVENT_ROW_DOUBLE_CLICKED,t);this.beans.eventService.dispatchEvent(e)}},e.prototype.onRowMouseDown=function(t){if(this.lastMouseDownOnDragger=ao(t.target,"ag-row-drag",3),this.isFullWidth()){var e=this.rowNode,n=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:e.rowIndex,column:n.getAllDisplayedColumns()[0],rowPinned:e.rowPinned,forceBrowserFocus:!0})}},e.prototype.onRowClick=function(t){if(!(Dt(t)||this.lastMouseDownOnDragger)){var e=this.createRowEventWithSource(zt.EVENT_ROW_CLICKED,t);this.beans.eventService.dispatchEvent(e);var n=t.ctrlKey||t.metaKey,o=t.shiftKey;if(!(this.beans.gridOptionsService.is("groupSelectsChildren")&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.beans.gridOptionsService.isRowSelection()||this.beans.gridOptionsService.is("suppressRowClickSelection"))){var r=this.beans.gridOptionsService.is("rowMultiSelectWithClick"),i=!this.beans.gridOptionsService.is("suppressRowDeselection"),s="rowClicked";if(this.rowNode.isSelected())r?this.rowNode.setSelectedParams({newValue:!1,event:t,source:s}):n?i&&this.rowNode.setSelectedParams({newValue:!1,event:t,source:s}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!o,rangeSelect:o,event:t,source:s});else{var a=!r&&!n;this.rowNode.setSelectedParams({newValue:!0,clearSelection:a,rangeSelect:o,event:t,source:s})}}}},e.prototype.setupDetailRowAutoHeight=function(t){var e=this;if(this.rowType===hl.FullWidthDetail&&this.beans.gridOptionsService.is("detailRowAutoHeight")){var n=function(){var n=t.clientHeight;if(null!=n&&n>0){e.beans.frameworkOverrides.setTimeout((function(){e.rowNode.setRowHeight(n),e.beans.clientSideRowModel?e.beans.clientSideRowModel.onRowHeightChanged():e.beans.serverSideRowModel&&e.beans.serverSideRowModel.onRowHeightChanged()}),0)}},o=this.beans.resizeObserverService.observeResize(t,n);this.addDestroyFunc(o),n()}},e.prototype.createFullWidthParams=function(t,e){var n=this;return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,eGridCell:t,eParentOfValue:t,pinned:e,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(t,e,o,r){return n.addFullWidthRowDragging(t,e,o,r)}}},e.prototype.addFullWidthRowDragging=function(t,e,n,o){if(void 0===n&&(n=""),this.isFullWidth()){var r=new Ns((function(){return n}),this.rowNode,void 0,t,e,o);this.createManagedBean(r,this.beans.context)}},e.prototype.onUiLevelChanged=function(){var t=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=t){var e="ag-row-level-"+t,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach((function(t){t.rowComp.addOrRemoveCssClass(e,!0),t.rowComp.addOrRemoveCssClass(n,!1)}))}this.rowLevel=t},e.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},e.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},e.prototype.onModelUpdated=function(){this.refreshFirstAndLastRowStyles()},e.prototype.refreshFirstAndLastRowStyles=function(){var t=this.isFirstRowOnPage(),e=this.isLastRowOnPage();this.firstRowOnPage!==t&&(this.firstRowOnPage=t,this.allRowGuis.forEach((function(e){return e.rowComp.addOrRemoveCssClass("ag-row-first",t)}))),this.lastRowOnPage!==e&&(this.lastRowOnPage=e,this.allRowGuis.forEach((function(t){return t.rowComp.addOrRemoveCssClass("ag-row-last",e)})))},e.prototype.stopEditing=function(t){var e,n;if(void 0===t&&(t=!1),!this.stoppingRowEdit){var o=this.getAllCellCtrls(),r=this.editingRow;this.stoppingRowEdit=!0;var i=!1;try{for(var s=kl(o),a=s.next();!a.done;a=s.next()){var l=a.value.stopEditing(t);r&&!t&&!i&&l&&(i=!0)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}if(i){var c=this.createRowEvent(zt.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(c)}r&&this.setEditingRow(!1),this.stoppingRowEdit=!1}},e.prototype.setInlineEditingCss=function(t){this.allRowGuis.forEach((function(e){e.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),e.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)}))},e.prototype.setEditingRow=function(t){this.editingRow=t,this.allRowGuis.forEach((function(e){return e.rowComp.addOrRemoveCssClass("ag-row-editing",t)}));var e=t?this.createRowEvent(zt.EVENT_ROW_EDITING_STARTED):this.createRowEvent(zt.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(e)},e.prototype.startRowEditing=function(t,e,n,o){(void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=null),void 0===o&&(o=null),this.editingRow)||this.getAllCellCtrls().reduce((function(r,i){var s=i===n;return s?i.startEditing(t,e,s,o):i.startEditing(null,null,s,o),!!r||i.isEditing()}),!1)&&this.setEditingRow(!0)},e.prototype.getAllCellCtrls=function(){return 0===this.leftCellCtrls.list.length&&0===this.rightCellCtrls.list.length?this.centerCellCtrls.list:Gl(this.centerCellCtrls.list,this.leftCellCtrls.list,this.rightCellCtrls.list)},e.prototype.postProcessClassesFromGridOptions=function(){var t=this,e=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);e&&e.length&&e.forEach((function(e){t.allRowGuis.forEach((function(t){return t.rowComp.addOrRemoveCssClass(e,!0)}))}))},e.prototype.postProcessRowClassRules=function(){var t=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,(function(e){t.allRowGuis.forEach((function(t){return t.rowComp.addOrRemoveCssClass(e,!0)}))}),(function(e){t.allRowGuis.forEach((function(t){return t.rowComp.addOrRemoveCssClass(e,!1)}))}))},e.prototype.setStylesFromGridOptions=function(t){var e=this.processStylesFromGridOptions();this.forEachGui(t,(function(t){return t.rowComp.setUserStyles(e)}))},e.prototype.getPinnedForContainer=function(t){return t===Ul.LEFT?"left":t===Ul.RIGHT?"right":null},e.prototype.getInitialRowClasses=function(t){var e=this.getPinnedForContainer(t),n={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[t],rowIsEven:this.rowNode.rowIndex%2==0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:e};return this.beans.rowCssClassCalculator.getInitialRowClasses(n)},e.prototype.processStylesFromGridOptions=function(){var t=this.beans.gridOptionsService.get("rowStyle");if(!t||"function"!=typeof t){var e,n=this.beans.gridOptionsService.getCallback("getRowStyle");if(n)e=n({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex});return Object.assign({},t,e)}console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead")},e.prototype.onRowSelected=function(t){var e=this,n=!!this.rowNode.isSelected();this.forEachGui(t,(function(t){t.rowComp.addOrRemoveCssClass("ag-row-selected",n),_n(t.element,!!n||void 0);var o=e.createAriaLabel();qe(t.element,null==o?"":o)}))},e.prototype.createAriaLabel=function(){var t=this.rowNode.isSelected();if(!t||!this.beans.gridOptionsService.is("suppressRowDeselection"))return this.beans.localeService.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect","Press SPACE to "+(t?"deselect":"select")+" this row.")},e.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},e.prototype.addHoverFunctionality=function(t){var e=this;this.active&&(this.addManagedListener(t,"mouseenter",(function(){return e.rowNode.onMouseEnter()})),this.addManagedListener(t,"mouseleave",(function(){return e.rowNode.onMouseLeave()})),this.addManagedListener(this.rowNode,Ss.EVENT_MOUSE_ENTER,(function(){e.beans.dragService.isDragging()||e.beans.gridOptionsService.is("suppressRowHoverHighlight")||(t.classList.add("ag-row-hover"),e.rowNode.setHovered(!0))})),this.addManagedListener(this.rowNode,Ss.EVENT_MOUSE_LEAVE,(function(){t.classList.remove("ag-row-hover"),e.rowNode.setHovered(!1)})))},e.prototype.roundRowTopToBounds=function(t){var e=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.applyPaginationOffset(e.top,!0)-100,o=this.applyPaginationOffset(e.bottom,!0)+100;return Math.min(Math.max(n,t),o)},e.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},e.prototype.forEachGui=function(t,e){(t?[t]:this.allRowGuis).forEach(e)},e.prototype.onRowHeightChanged=function(t){if(null!=this.rowNode.rowHeight){var e=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),o=this.beans.gridOptionsService.isGetRowHeightFunction()?this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height:void 0,r=o?Math.min(n,o)-2+"px":void 0;this.forEachGui(t,(function(t){t.element.style.height=e+"px",r&&t.element.style.setProperty("--ag-line-height",r)}))}},e.prototype.addEventListener=function(e,n){t.prototype.addEventListener.call(this,e,n)},e.prototype.removeEventListener=function(e,n){t.prototype.removeEventListener.call(this,e,n)},e.prototype.destroyFirstPass=function(){this.active=!1,this.beans.gridOptionsService.isAnimateRows()&&this.setupRemoveAnimation(),this.rowNode.setHovered(!1);var e=this.createRowEvent(zt.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(e),this.beans.eventService.dispatchEvent(e),t.prototype.destroy.call(this)},e.prototype.setupRemoveAnimation=function(){if(!this.isSticky())if(null!=this.rowNode.rowTop){var t=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(t)}else this.allRowGuis.forEach((function(t){return t.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)}))},e.prototype.destroySecondPass=function(){this.allRowGuis.length=0;var t=function(t){return t.list.forEach((function(t){return t.destroy()})),{list:[],map:{}}};this.centerCellCtrls=t(this.centerCellCtrls),this.leftCellCtrls=t(this.leftCellCtrls),this.rightCellCtrls=t(this.rightCellCtrls)},e.prototype.setFocusedClasses=function(t){var e=this;this.forEachGui(t,(function(t){t.rowComp.addOrRemoveCssClass("ag-row-focus",e.rowFocused),t.rowComp.addOrRemoveCssClass("ag-row-no-focus",!e.rowFocused)}))},e.prototype.onCellFocused=function(){this.onCellFocusChanged()},e.prototype.onCellFocusCleared=function(){this.onCellFocusChanged()},e.prototype.onCellFocusChanged=function(){var t=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses()),!t&&this.editingRow&&this.stopEditing(!1)},e.prototype.onPaginationChanged=function(){var t=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==t&&(this.paginationPage=t,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},e.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},e.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},e.prototype.applyPaginationOffset=function(t,e){return void 0===e&&(e=!1),this.rowNode.isRowPinned()?t:t+this.beans.paginationProxy.getPixelOffset()*(e?1:-1)},e.prototype.setRowTop=function(t){if(!this.printLayout&&r(t)){var e=this.applyPaginationOffset(t),n=(this.rowNode.isRowPinned()?e:this.beans.rowContainerHeightService.getRealPixelPosition(e))+"px";this.setRowTopStyle(n)}},e.prototype.getInitialRowTop=function(t){return this.beans.gridOptionsService.is("suppressRowTransform")?this.getInitialRowTopShared(t):void 0},e.prototype.getInitialTransform=function(t){return this.beans.gridOptionsService.is("suppressRowTransform")?void 0:"translateY("+this.getInitialRowTopShared(t)+")"},e.prototype.getInitialRowTopShared=function(t){if(this.printLayout)return"";var e;if(this.isSticky())e=this.rowNode.stickyRowTop;else{var n=this.slideInAnimation[t]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,o=this.applyPaginationOffset(n);e=this.rowNode.isRowPinned()?o:this.beans.rowContainerHeightService.getRealPixelPosition(o)}return e+"px"},e.prototype.setRowTopStyle=function(t){var e=this.beans.gridOptionsService.is("suppressRowTransform");this.allRowGuis.forEach((function(n){return e?n.rowComp.setTop(t):n.rowComp.setTransform("translateY("+t+")")}))},e.prototype.getRowNode=function(){return this.rowNode},e.prototype.getCellCtrl=function(t){var e=null;return this.getAllCellCtrls().forEach((function(n){n.getColumn()==t&&(e=n)})),null!=e||this.getAllCellCtrls().forEach((function(n){n.getColSpanningList().indexOf(t)>=0&&(e=n)})),e},e.prototype.onRowIndexChanged=function(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},e.prototype.updateRowIndexes=function(t){var e=this.rowNode.getRowIndexString(),n=this.beans.headerNavigationService.getHeaderRowCount(),o=this.rowNode.rowIndex%2==0,r=n+this.rowNode.rowIndex+1;this.forEachGui(t,(function(t){t.rowComp.setRowIndex(e),t.rowComp.addOrRemoveCssClass("ag-row-even",o),t.rowComp.addOrRemoveCssClass("ag-row-odd",!o),un(t.element,r)}))},e.prototype.getPinnedLeftRowElement=function(){return this.leftGui?this.leftGui.element:void 0},e.prototype.getPinnedRightRowElement=function(){return this.rightGui?this.rightGui.element:void 0},e.prototype.getBodyRowElement=function(){return this.centerGui?this.centerGui.element:void 0},e.prototype.getFullWidthRowElement=function(){return this.fullWidthGui?this.fullWidthGui.element:void 0},e.DOM_DATA_KEY_ROW_CTRL="renderedRow",e}(Ut),Wl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Hl=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},$l=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},zl=function(t){function e(e){var n=t.call(this)||this;return n.element=e,n}return Wl(e,t),e.prototype.postConstruct=function(){this.addMouseListeners(),this.mockContextMenuForIPad(),this.addKeyboardEvents()},e.prototype.addKeyboardEvents=function(){var t=this;["keydown","keypress"].forEach((function(e){var n=t.processKeyboardEvent.bind(t,e);t.addManagedListener(t.element,e,n)}))},e.prototype.addMouseListeners=function(){var t=this;["dblclick","contextmenu","mouseover","mouseout","click",Mt("touchstart")?"touchstart":"mousedown"].forEach((function(e){var n=t.processMouseEvent.bind(t,e);t.addManagedListener(t.element,e,n)}))},e.prototype.processMouseEvent=function(t,e){if(this.mouseEventService.isEventFromThisGrid(e)&&!Dt(e)){var n=this.getRowForEvent(e),o=this.mouseEventService.getRenderedCellForEvent(e);"contextmenu"===t?this.handleContextMenuMouseEvent(e,null,n,o):(o&&o.onMouseEvent(t,e),n&&n.onMouseEvent(t,e))}},e.prototype.mockContextMenuForIPad=function(){var t=this;if(An()){var e=new Zi(this.element);this.addManagedListener(e,Zi.EVENT_LONG_TAP,(function(e){var n=t.getRowForEvent(e.touchEvent),o=t.mouseEventService.getRenderedCellForEvent(e.touchEvent);t.handleContextMenuMouseEvent(null,e.touchEvent,n,o)})),this.addDestroyFunc((function(){return e.destroy()}))}},e.prototype.getRowForEvent=function(t){for(var e=t.target;e;){var n=this.gridOptionsService.getDomData(e,Vl.DOM_DATA_KEY_ROW_CTRL);if(n)return n;e=e.parentElement}return null},e.prototype.handleContextMenuMouseEvent=function(t,e,n,o){var r=n?n.getRowNode():null,i=o?o.getColumn():null,s=null;if(i){var a=t||e;o.dispatchCellContextMenuEvent(a),s=this.valueService.getValue(i,r)}var l=this.ctrlsService.getGridBodyCtrl(),c=o?o.getGui():l.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(t,e,r,i,s,c)},e.prototype.processKeyboardEvent=function(t,e){var n=At(this.gridOptionsService,e.target,Il.DOM_DATA_KEY_CELL_CTRL),o=At(this.gridOptionsService,e.target,Vl.DOM_DATA_KEY_ROW_CTRL);e.defaultPrevented||(n?this.processCellKeyboardEvent(n,t,e):o&&o.isFullWidth()&&this.processFullWidthRowKeyboardEvent(o,t,e))},e.prototype.processCellKeyboardEvent=function(t,e,n){var o=t.getRowNode(),r=t.getColumn(),i=t.isEditing();if(!$o(this.gridOptionsService,n,o,r,i))switch(e){case"keydown":!i&&this.navigationService.handlePageScrollingKey(n)||t.onKeyDown(n),this.doGridOperations(n,t.isEditing());break;case"keypress":t.onKeyPress(n)}if("keydown"===e){var s=t.createEvent(n,zt.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(s)}if("keypress"===e){var a=t.createEvent(n,zt.EVENT_CELL_KEY_PRESS);this.eventService.dispatchEvent(a)}},e.prototype.processFullWidthRowKeyboardEvent=function(t,e,n){var o=t.getRowNode(),r=this.focusService.getFocusedCell(),i=r&&r.column;if(!$o(this.gridOptionsService,n,o,i,!1)){var s=n.key;if("keydown"===e)switch(s){case Wo.PAGE_HOME:case Wo.PAGE_END:this.navigationService.handlePageScrollingKey(n);break;case Wo.UP:case Wo.DOWN:t.onKeyboardNavigate(n);break;case Wo.TAB:t.onTabKeyDown(n)}}if("keydown"===e){var a=t.createRowEvent(zt.EVENT_CELL_KEY_DOWN,n);this.eventService.dispatchEvent(a)}if("keypress"===e){var l=t.createRowEvent(zt.EVENT_CELL_KEY_PRESS,n);this.eventService.dispatchEvent(l)}},e.prototype.doGridOperations=function(t,e){if((t.ctrlKey||t.metaKey)&&!e&&this.mouseEventService.isEventFromThisGrid(t)){var n=Ko(t);return n===Wo.A?this.onCtrlAndA(t):n===Wo.C?this.onCtrlAndC(t):n===Wo.X?this.onCtrlAndX(t):n===Wo.V?this.onCtrlAndV():n===Wo.D?this.onCtrlAndD(t):n===Wo.Z?this.onCtrlAndZ(t):n===Wo.Y?this.onCtrlAndY():void 0}},e.prototype.onCtrlAndA=function(t){var e=this,n=e.pinnedRowModel,o=e.paginationProxy,r=e.rangeService;if(r&&o.isRowsToRender()){var i=$l([n.isEmpty("top"),n.isEmpty("bottom")],2),a=i[0]?null:"top",l=void 0,c=void 0;i[1]?(l=null,c=this.paginationProxy.getRowCount()-1):(l="bottom",c=n.getPinnedBottomRowData().length-1);var u=this.columnModel.getAllDisplayedColumns();if(s(u))return;r.setCellRange({rowStartIndex:0,rowStartPinned:a,rowEndIndex:c,rowEndPinned:l,columnStart:u[0],columnEnd:ft(u)})}t.preventDefault()},e.prototype.onCtrlAndC=function(t){this.clipboardService&&!this.gridOptionsService.is("enableCellTextSelection")&&(this.clipboardService.copyToClipboard(),t.preventDefault())},e.prototype.onCtrlAndX=function(t){!this.clipboardService||this.gridOptionsService.is("enableCellTextSelection")||this.gridOptionsService.is("suppressCutToClipboard")||(this.clipboardService.cutToClipboard(),t.preventDefault())},e.prototype.onCtrlAndV=function(){ot.isRegistered(J.ClipboardModule)&&!this.gridOptionsService.is("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()},e.prototype.onCtrlAndD=function(t){ot.isRegistered(J.ClipboardModule)&&!this.gridOptionsService.is("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),t.preventDefault()},e.prototype.onCtrlAndZ=function(t){this.gridOptionsService.is("undoRedoCellEditing")&&(t.preventDefault(),t.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))},e.prototype.onCtrlAndY=function(){this.undoRedoService.redo("ui")},Hl([K("mouseEventService")],e.prototype,"mouseEventService",void 0),Hl([K("valueService")],e.prototype,"valueService",void 0),Hl([Y("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),Hl([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Hl([K("navigationService")],e.prototype,"navigationService",void 0),Hl([K("focusService")],e.prototype,"focusService",void 0),Hl([K("undoRedoService")],e.prototype,"undoRedoService",void 0),Hl([K("columnModel")],e.prototype,"columnModel",void 0),Hl([K("paginationProxy")],e.prototype,"paginationProxy",void 0),Hl([K("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Hl([Y("rangeService")],e.prototype,"rangeService",void 0),Hl([Y("clipboardService")],e.prototype,"clipboardService",void 0),Hl([H],e.prototype,"postConstruct",null),e}(Ut),Kl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Yl=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Zl=function(t){function e(e){var n=t.call(this)||this;return n.centerContainerCtrl=e,n}return Kl(e,t),e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady((function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl(),t.listenForResize()})),this.addManagedListener(this.eventService,zt.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))},e.prototype.listenForResize=function(){var t=this,e=function(){return t.onCenterViewportResized()};this.centerContainerCtrl.registerViewportResizeListener(e),this.gridBodyCtrl.registerBodyViewportResizeListener(e)},e.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},e.prototype.onCenterViewportResized=function(){if(this.centerContainerCtrl.isViewportVisible()){this.checkViewportAndScrolls();var t=this.centerContainerCtrl.getCenterWidth();t!==this.centerWidth&&(this.centerWidth=t,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},e.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()},e.prototype.getBodyHeight=function(){return this.bodyHeight},e.prototype.checkBodyHeight=function(){var t=co(this.gridBodyCtrl.getBodyViewportElement());if(this.bodyHeight!==t){this.bodyHeight=t;var e={type:zt.EVENT_BODY_HEIGHT_CHANGED};this.eventService.dispatchEvent(e)}},e.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},e.prototype.updateScrollVisibleServiceImpl=function(){var t={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(t)},e.prototype.isHorizontalScrollShowing=function(){return this.centerContainerCtrl.isHorizontalScrollShowing()},e.prototype.onHorizontalViewportChanged=function(){var t=this.centerContainerCtrl.getCenterWidth(),e=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(t,e)},Yl([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Yl([K("columnModel")],e.prototype,"columnModel",void 0),Yl([K("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),Yl([H],e.prototype,"postConstruct",null),e}(Ut),ql=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Xl=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Jl=function(t){function e(e){var n=t.call(this)||this;return n.element=e,n}return ql(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,zt.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},e.prototype.onPinnedLeftWidthChanged=function(){var t=this.pinnedWidthService.getPinnedLeftWidth(),e=t>0;ro(this.element,e),xo(this.element,t)},e.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedLeftWidth()},Xl([K("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),Xl([H],e.prototype,"postConstruct",null),e}(Ut),Ql=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),tc=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ec=function(t){function e(e){var n=t.call(this)||this;return n.element=e,n}return Ql(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,zt.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},e.prototype.onPinnedRightWidthChanged=function(){var t=this.pinnedWidthService.getPinnedRightWidth(),e=t>0;ro(this.element,e),xo(this.element,t)},e.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedRightWidth()},tc([K("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),tc([H],e.prototype,"postConstruct",null),e}(Ut),nc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),oc=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},rc=function(t){function e(e,n){var o=t.call(this)||this;return o.eContainer=e,o.eWrapper=n,o}return nc(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,zt.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},e.prototype.onHeightChanged=function(){var t=this.maxDivHeightScaler.getUiContainerHeight(),e=null!=t?t+"px":"";this.eContainer.style.height=e,this.eWrapper&&(this.eWrapper.style.height=e)},oc([K("rowContainerHeightService")],e.prototype,"maxDivHeightScaler",void 0),oc([H],e.prototype,"postConstruct",null),e}(Ut),ic=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),sc=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ac=function(t){function e(e){var n=t.call(this)||this;return n.eContainer=e,n}return ic(e,t),e.prototype.postConstruct=function(){var t=this;if(this.gridOptionsService.isEnableRangeSelection()&&!i(this.rangeService)){var e={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)};this.dragService.addDragSource(e),this.addDestroyFunc((function(){return t.dragService.removeDragSource(e)}))}},sc([Y("rangeService")],e.prototype,"rangeService",void 0),sc([K("dragService")],e.prototype,"dragService",void 0),sc([H],e.prototype,"postConstruct",null),e}(Ut),lc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),cc=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},uc=function(t){function e(e,n){void 0===n&&(n=!1);var o=t.call(this)||this;return o.callback=e,o.addSpacer=n,o}return lc(e,t),e.prototype.postConstruct=function(){var t=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",t),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,t),this.addManagedListener(this.eventService,zt.EVENT_LEFT_PINNED_WIDTH_CHANGED,t),this.addSpacer&&(this.addManagedListener(this.eventService,zt.EVENT_RIGHT_PINNED_WIDTH_CHANGED,t),this.addManagedListener(this.eventService,zt.EVENT_SCROLL_VISIBILITY_CHANGED,t),this.addManagedListener(this.eventService,zt.EVENT_SCROLLBAR_WIDTH_CHANGED,t)),this.setWidth()},e.prototype.setWidth=function(){var t,e=this.columnModel,n=this.gridOptionsService.isDomLayout("print"),o=e.getBodyContainerWidth(),r=e.getDisplayedColumnsLeftWidth(),i=e.getDisplayedColumnsRightWidth();n?t=o+r+i:(t=o,this.addSpacer&&0===(this.gridOptionsService.is("enableRtl")?r:i)&&this.scrollVisibleService.isVerticalScrollShowing()&&(t+=this.gridOptionsService.getScrollbarWidth()));this.callback(t)},cc([K("columnModel")],e.prototype,"columnModel",void 0),cc([K("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),cc([H],e.prototype,"postConstruct",null),e}(Ut),dc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),pc=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},hc=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},fc=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(hc(arguments[e]));return t};!function(t){t.LEFT="left",t.RIGHT="right",t.CENTER="center",t.FULL_WIDTH="fullWidth",t.TOP_LEFT="topLeft",t.TOP_RIGHT="topRight",t.TOP_CENTER="topCenter",t.TOP_FULL_WIDTH="topFullWidth",t.STICKY_TOP_LEFT="stickyTopLeft",t.STICKY_TOP_RIGHT="stickyTopRight",t.STICKY_TOP_CENTER="stickyTopCenter",t.STICKY_TOP_FULL_WIDTH="stickyTopFullWidth",t.BOTTOM_LEFT="bottomLeft",t.BOTTOM_RIGHT="bottomRight",t.BOTTOM_CENTER="bottomCenter",t.BOTTOM_FULL_WIDTH="bottomFullWidth"}(Bl||(Bl={})),function(t){t.LEFT="left",t.RIGHT="right",t.CENTER="center",t.FULL_WIDTH="fullWidth"}(Ul||(Ul={}));var gc=Se([[Bl.CENTER,"ag-center-cols-container"],[Bl.LEFT,"ag-pinned-left-cols-container"],[Bl.RIGHT,"ag-pinned-right-cols-container"],[Bl.FULL_WIDTH,"ag-full-width-container"],[Bl.TOP_CENTER,"ag-floating-top-container"],[Bl.TOP_LEFT,"ag-pinned-left-floating-top"],[Bl.TOP_RIGHT,"ag-pinned-right-floating-top"],[Bl.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[Bl.STICKY_TOP_CENTER,"ag-sticky-top-container"],[Bl.STICKY_TOP_LEFT,"ag-pinned-left-sticky-top"],[Bl.STICKY_TOP_RIGHT,"ag-pinned-right-sticky-top"],[Bl.STICKY_TOP_FULL_WIDTH,"ag-sticky-top-full-width-container"],[Bl.BOTTOM_CENTER,"ag-floating-bottom-container"],[Bl.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[Bl.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[Bl.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),_c=Se([[Bl.CENTER,"ag-center-cols-viewport"],[Bl.TOP_CENTER,"ag-floating-top-viewport"],[Bl.STICKY_TOP_CENTER,"ag-sticky-top-viewport"],[Bl.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),mc=Se([[Bl.CENTER,"ag-center-cols-clipper"]]),yc=function(t){function e(e){var n=t.call(this)||this;return n.visible=!0,n.EMPTY_CTRLS=[],n.name=e,n.isFullWithContainer=n.name===Bl.TOP_FULL_WIDTH||n.name===Bl.STICKY_TOP_FULL_WIDTH||n.name===Bl.BOTTOM_FULL_WIDTH||n.name===Bl.FULL_WIDTH,n}return dc(e,t),e.getRowContainerCssClasses=function(t){return{container:gc.get(t),viewport:_c.get(t),wrapper:mc.get(t)}},e.getPinned=function(t){switch(t){case Bl.BOTTOM_LEFT:case Bl.TOP_LEFT:case Bl.STICKY_TOP_LEFT:case Bl.LEFT:return"left";case Bl.BOTTOM_RIGHT:case Bl.TOP_RIGHT:case Bl.STICKY_TOP_RIGHT:case Bl.RIGHT:return"right";default:return null}},e.prototype.postConstruct=function(){var t=this;this.enableRtl=this.gridOptionsService.is("enableRtl"),this.embedFullWidthRows=this.gridOptionsService.is("embedFullWidthRows"),this.forContainers([Bl.CENTER],(function(){return t.viewportSizeFeature=t.createManagedBean(new Zl(t))}))},e.prototype.registerWithCtrlsService=function(){switch(this.name){case Bl.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case Bl.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case Bl.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case Bl.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case Bl.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case Bl.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case Bl.STICKY_TOP_CENTER:this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case Bl.STICKY_TOP_LEFT:this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case Bl.STICKY_TOP_RIGHT:this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case Bl.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case Bl.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case Bl.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this)}},e.prototype.forContainers=function(t,e){t.indexOf(this.name)>=0&&e()},e.prototype.getContainerElement=function(){return this.eContainer},e.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},e.prototype.setComp=function(t,e,n,o){var r=this;this.comp=t,this.eContainer=e,this.eViewport=n,this.eWrapper=o,this.createManagedBean(new zl(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var i=[Bl.TOP_CENTER,Bl.TOP_LEFT,Bl.TOP_RIGHT],s=[Bl.STICKY_TOP_CENTER,Bl.STICKY_TOP_LEFT,Bl.STICKY_TOP_RIGHT],a=[Bl.BOTTOM_CENTER,Bl.BOTTOM_LEFT,Bl.BOTTOM_RIGHT],l=[Bl.CENTER,Bl.LEFT,Bl.RIGHT],c=fc(i,a,l,s),u=[Bl.CENTER,Bl.LEFT,Bl.RIGHT,Bl.FULL_WIDTH],d=[Bl.CENTER,Bl.TOP_CENTER,Bl.STICKY_TOP_CENTER,Bl.BOTTOM_CENTER],p=[Bl.LEFT,Bl.BOTTOM_LEFT,Bl.TOP_LEFT,Bl.STICKY_TOP_LEFT],h=[Bl.RIGHT,Bl.BOTTOM_RIGHT,Bl.TOP_RIGHT,Bl.STICKY_TOP_RIGHT];this.forContainers(p,(function(){r.pinnedWidthFeature=r.createManagedBean(new Jl(r.eContainer)),r.addManagedListener(r.eventService,zt.EVENT_LEFT_PINNED_WIDTH_CHANGED,(function(){return r.onPinnedWidthChanged()}))})),this.forContainers(h,(function(){r.pinnedWidthFeature=r.createManagedBean(new ec(r.eContainer)),r.addManagedListener(r.eventService,zt.EVENT_RIGHT_PINNED_WIDTH_CHANGED,(function(){return r.onPinnedWidthChanged()}))})),this.forContainers(u,(function(){return r.createManagedBean(new rc(r.eContainer,r.eWrapper))})),this.forContainers(c,(function(){return r.createManagedBean(new ac(r.eContainer))})),this.forContainers(d,(function(){return r.createManagedBean(new uc((function(t){return r.comp.setContainerWidth(t+"px")})))})),Un()&&(this.forContainers([Bl.CENTER],(function(){var t=r.enableRtl?zt.EVENT_LEFT_PINNED_WIDTH_CHANGED:zt.EVENT_RIGHT_PINNED_WIDTH_CHANGED;r.addManagedListener(r.eventService,t,(function(){return r.refreshPaddingForFakeScrollbar()}))})),this.refreshPaddingForFakeScrollbar()),this.addListeners(),this.registerWithCtrlsService()},e.prototype.refreshPaddingForFakeScrollbar=function(){var t=this,e=t.enableRtl,n=t.columnModel,o=t.name,r=t.eWrapper,i=t.eContainer,s=e?Bl.LEFT:Bl.RIGHT;this.forContainers([Bl.CENTER,s],(function(){var t=n.getContainerWidth(s),a=e?"marginLeft":"marginRight";o===Bl.CENTER?r.style[a]=t?"0px":"16px":i.style[a]=t?"16px":"0px"}))},e.prototype.addListeners=function(){var t=this;this.addManagedListener(this.eventService,zt.EVENT_SCROLL_VISIBILITY_CHANGED,(function(){return t.onScrollVisibilityChanged()})),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_CHANGED,(function(){return t.onDisplayedColumnsChanged()})),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,(function(){return t.onDisplayedColumnsWidthChanged()})),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_ROWS_CHANGED,(function(e){return t.onDisplayedRowsChanged(e.afterScroll)})),this.onScrollVisibilityChanged(),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()},e.prototype.listenOnDomOrder=function(){var t=this;if([Bl.STICKY_TOP_CENTER,Bl.STICKY_TOP_LEFT,Bl.STICKY_TOP_RIGHT,Bl.STICKY_TOP_FULL_WIDTH].indexOf(this.name)>=0)this.comp.setDomOrder(!0);else{var e=function(){var e=t.gridOptionsService.is("ensureDomOrder"),n=t.gridOptionsService.isDomLayout("print");t.comp.setDomOrder(e||n)};this.addManagedPropertyListener("domLayout",e),e()}},e.prototype.stopHScrollOnPinnedRows=function(){var t=this;this.forContainers([Bl.TOP_CENTER,Bl.STICKY_TOP_CENTER,Bl.BOTTOM_CENTER],(function(){t.addManagedListener(t.eViewport,"scroll",(function(){return t.eViewport.scrollLeft=0}))}))},e.prototype.onDisplayedColumnsChanged=function(){var t=this;this.forContainers([Bl.CENTER],(function(){return t.onHorizontalViewportChanged()}))},e.prototype.onDisplayedColumnsWidthChanged=function(){var t=this;this.forContainers([Bl.CENTER],(function(){return t.onHorizontalViewportChanged()}))},e.prototype.onScrollVisibilityChanged=function(){var t=this.gridOptionsService.getScrollbarWidth()||0;if(this.name===Bl.CENTER){var e=this.scrollVisibleService.isHorizontalScrollShowing()?t:0,n=0==e?"100%":"calc(100% + "+e+"px)";this.comp.setViewportHeight(n)}if(this.name===Bl.FULL_WIDTH){n="calc(100% - "+(Un()?16:0)+"px)";this.eContainer.style.setProperty("width",n)}},e.prototype.addPreventScrollWhileDragging=function(){var t=this,e=function(e){t.dragService.isDragging()&&e.cancelable&&e.preventDefault()};this.eContainer.addEventListener("touchmove",e,{passive:!1}),this.addDestroyFunc((function(){return t.eContainer.removeEventListener("touchmove",e)}))},e.prototype.onHorizontalViewportChanged=function(){var t=this.getCenterWidth(),e=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(t,e)},e.prototype.getCenterWidth=function(){return uo(this.eViewport)},e.prototype.getCenterViewportScrollLeft=function(){return go(this.eViewport,this.enableRtl)},e.prototype.registerViewportResizeListener=function(t){var e=this.resizeObserverService.observeResize(this.eViewport,t);this.addDestroyFunc((function(){return e()}))},e.prototype.isViewportVisible=function(){return vo(this.eViewport)},e.prototype.getViewportScrollLeft=function(){return go(this.eViewport,this.enableRtl)},e.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsService.is("alwaysShowHorizontalScroll")||To(this.eViewport)},e.prototype.getViewportElement=function(){return this.eViewport},e.prototype.setContainerTranslateX=function(t){this.eContainer.style.transform="translateX("+t+"px)"},e.prototype.getHScrollPosition=function(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}},e.prototype.setCenterViewportScrollLeft=function(t){_o(this.eViewport,t,this.enableRtl)},e.prototype.isContainerVisible=function(){return!e.getPinned(this.name)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0},e.prototype.onPinnedWidthChanged=function(){var t=this.isContainerVisible();this.visible!=t&&(this.visible=t,this.onDisplayedRowsChanged()),Un()&&this.refreshPaddingForFakeScrollbar()},e.prototype.onDisplayedRowsChanged=function(t){var e=this;if(void 0===t&&(t=!1),this.visible){var n=this.gridOptionsService.isDomLayout("print"),o=this.getRowCtrls().filter((function(t){var o=t.isFullWidth(),r=e.embedFullWidthRows||n;return e.isFullWithContainer?!r&&o:r||!o}));this.comp.setRowCtrls(o,t)}else this.comp.setRowCtrls(this.EMPTY_CTRLS,!1)},e.prototype.getRowCtrls=function(){switch(this.name){case Bl.TOP_CENTER:case Bl.TOP_LEFT:case Bl.TOP_RIGHT:case Bl.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case Bl.STICKY_TOP_CENTER:case Bl.STICKY_TOP_LEFT:case Bl.STICKY_TOP_RIGHT:case Bl.STICKY_TOP_FULL_WIDTH:return this.rowRenderer.getStickyTopRowCtrls();case Bl.BOTTOM_CENTER:case Bl.BOTTOM_LEFT:case Bl.BOTTOM_RIGHT:case Bl.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getRowCtrls()}},pc([K("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),pc([K("dragService")],e.prototype,"dragService",void 0),pc([K("ctrlsService")],e.prototype,"ctrlsService",void 0),pc([K("columnModel")],e.prototype,"columnModel",void 0),pc([K("resizeObserverService")],e.prototype,"resizeObserverService",void 0),pc([K("rowRenderer")],e.prototype,"rowRenderer",void 0),pc([H],e.prototype,"postConstruct",null),e}(Ut),vc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Cc=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ec='<div class="ag-root ag-unselectable" role="treegrid">\n        <ag-header-root ref="gridHeader"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation">\n            <ag-row-container ref="topLeftContainer" name="'+Bl.TOP_LEFT+'"></ag-row-container>\n            <ag-row-container ref="topCenterContainer" name="'+Bl.TOP_CENTER+'"></ag-row-container>\n            <ag-row-container ref="topRightContainer" name="'+Bl.TOP_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="topFullWidthContainer" name="'+Bl.TOP_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-body" ref="eBody" role="presentation">\n            <div class="ag-body-clipper" ref="eBodyClipper" role="presentation">\n                <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n                    <ag-row-container ref="leftContainer" name="'+Bl.LEFT+'"></ag-row-container>\n                    <ag-row-container ref="centerContainer" name="'+Bl.CENTER+'"></ag-row-container>\n                    <ag-row-container ref="rightContainer" name="'+Bl.RIGHT+'"></ag-row-container>\n                    <ag-row-container ref="fullWidthContainer" name="'+Bl.FULL_WIDTH+'"></ag-row-container>\n                </div>\n            </div>\n            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>\n        </div>\n        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">\n            <ag-row-container ref="stickyTopLeftContainer" name="'+Bl.STICKY_TOP_LEFT+'"></ag-row-container>\n            <ag-row-container ref="stickyTopCenterContainer" name="'+Bl.STICKY_TOP_CENTER+'"></ag-row-container>\n            <ag-row-container ref="stickyTopRightContainer" name="'+Bl.STICKY_TOP_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="stickyTopFullWidthContainer" name="'+Bl.STICKY_TOP_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation">\n            <ag-row-container ref="bottomLeftContainer" name="'+Bl.BOTTOM_LEFT+'"></ag-row-container>\n            <ag-row-container ref="bottomCenterContainer" name="'+Bl.BOTTOM_CENTER+'"></ag-row-container>\n            <ag-row-container ref="bottomRightContainer" name="'+Bl.BOTTOM_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="bottomFullWidthContainer" name="'+Bl.BOTTOM_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>',bc=function(t){function e(){return t.call(this,Ec)||this}return vc(e,t),e.prototype.init=function(){var t=this,e=function(t,e){var n=t+"px";e.style.minHeight=n,e.style.height=n},n={setRowAnimationCssOnBodyViewport:function(e,n){return t.setRowAnimationCssOnBodyViewport(e,n)},setColumnCount:function(e){return dn(t.getGui(),e)},setRowCount:function(e){return cn(t.getGui(),e)},setTopHeight:function(n){return e(n,t.eTop)},setBottomHeight:function(n){return e(n,t.eBottom)},setTopDisplay:function(e){return t.eTop.style.display=e},setBottomDisplay:function(e){return t.eBottom.style.display=e},setStickyTopHeight:function(e){return t.eStickyTop.style.height=e},setStickyTopTop:function(e){return t.eStickyTop.style.top=e},setStickyTopWidth:function(e){return t.eStickyTop.style.width=e},setColumnMovingCss:function(e,n){return t.addOrRemoveCssClass(e,n)},updateLayoutClasses:function(e,n){[t.eBodyViewport.classList,t.eBodyClipper.classList,t.eBody.classList].forEach((function(t){t.toggle(Ia.AUTO_HEIGHT,n.autoHeight),t.toggle(Ia.NORMAL,n.normal),t.toggle(Ia.PRINT,n.print)})),t.addOrRemoveCssClass(Ia.AUTO_HEIGHT,n.autoHeight),t.addOrRemoveCssClass(Ia.NORMAL,n.normal),t.addOrRemoveCssClass(Ia.PRINT,n.print)},setAlwaysVerticalScrollClass:function(e,n){return t.eBodyViewport.classList.toggle(dl,n)},registerBodyViewportResizeListener:function(e){var n=t.resizeObserverService.observeResize(t.eBodyViewport,e);t.addDestroyFunc((function(){return n()}))},setPinnedTopBottomOverflowY:function(e){return t.eTop.style.overflowY=t.eBottom.style.overflowY=e},setCellSelectableCss:function(e,n){[t.eTop,t.eBodyViewport,t.eBottom].forEach((function(t){return t.classList.toggle(ul,n)}))},setBodyViewportWidth:function(e){return t.eBodyViewport.style.width=e}};this.ctrl=this.createManagedBean(new pl),this.ctrl.setComp(n,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService||"multiple"===this.gridOptionsService.get("rowSelection"))&&ln(this.getGui(),!0)},e.prototype.setRowAnimationCssOnBodyViewport=function(t,e){var n=this.eBodyViewport.classList;n.toggle(Ka.ANIMATION_ON,e),n.toggle(Ka.ANIMATION_OFF,!e)},e.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},Cc([K("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Cc([Y("rangeService")],e.prototype,"rangeService",void 0),Cc([_r("eBodyViewport")],e.prototype,"eBodyViewport",void 0),Cc([_r("eStickyTop")],e.prototype,"eStickyTop",void 0),Cc([_r("eTop")],e.prototype,"eTop",void 0),Cc([_r("eBottom")],e.prototype,"eBottom",void 0),Cc([_r("gridHeader")],e.prototype,"headerRootComp",void 0),Cc([_r("eBodyClipper")],e.prototype,"eBodyClipper",void 0),Cc([_r("eBody")],e.prototype,"eBody",void 0),Cc([H],e.prototype,"init",null),e}(gr),Sc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),wc=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Oc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Sc(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},e.prototype.onDisplayedColumnsChanged=function(){this.update()},e.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},e.prototype.update=function(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)},e.prototype.updateImpl=function(){var t=this.ctrlsService.getCenterRowContainerCtrl();if(t){var e={horizontalScrollShowing:t.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(e)}},e.prototype.setScrollsVisible=function(t){if(this.horizontalScrollShowing!==t.horizontalScrollShowing||this.verticalScrollShowing!==t.verticalScrollShowing){this.horizontalScrollShowing=t.horizontalScrollShowing,this.verticalScrollShowing=t.verticalScrollShowing;var e={type:zt.EVENT_SCROLL_VISIBILITY_CHANGED};this.eventService.dispatchEvent(e)}},e.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},e.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},wc([K("ctrlsService")],e.prototype,"ctrlsService",void 0),wc([H],e.prototype,"postConstruct",null),e=wc([z("scrollVisibleService")],e)}(Ut),Pc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Tc=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Rc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gridInstanceId=n.gridInstanceSequence.next(),e}var n;return Pc(e,t),n=e,e.prototype.stampTopLevelGridCompWithGridInstance=function(t){t[n.GRID_DOM_KEY]=this.gridInstanceId},e.prototype.getRenderedCellForEvent=function(t){return At(this.gridOptionsService,t.target,Il.DOM_DATA_KEY_CELL_CTRL)},e.prototype.isEventFromThisGrid=function(t){return this.isElementInThisGrid(t.target)},e.prototype.isElementInThisGrid=function(t){for(var e=t;e;){var o=e[n.GRID_DOM_KEY];if(r(o))return o===this.gridInstanceId;e=e.parentElement}return!1},e.prototype.getCellPositionForEvent=function(t){var e=this.getRenderedCellForEvent(t);return e?e.getCellPosition():null},e.prototype.getNormalisedPosition=function(t){var e,n,o=this.gridOptionsService.isDomLayout("normal"),r=t;if(null!=r.clientX||null!=r.clientY?(e=r.clientX,n=r.clientY):(e=r.x,n=r.y),o){var i=this.ctrlsService.getGridBodyCtrl(),s=i.getScrollFeature().getVScrollPosition();e+=i.getScrollFeature().getHScrollPosition().left,n+=s.top}return{x:e,y:n}},e.gridInstanceSequence=new rr,e.GRID_DOM_KEY="__ag_grid_instance",Tc([K("ctrlsService")],e.prototype,"ctrlsService",void 0),e=n=Tc([z("mouseEventService")],e)}(Ut),Dc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),xc=function(){return xc=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},xc.apply(this,arguments)},Mc=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ac=function(t){function e(){var e=t.call(this)||this;return e.onPageDown=k(e.onPageDown,100),e.onPageUp=k(e.onPageUp,100),e}return Dc(e,t),e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady((function(e){t.gridBodyCon=e.gridBodyCtrl}))},e.prototype.handlePageScrollingKey=function(t){var e=t.key,n=t.altKey,o=t.ctrlKey||t.metaKey,r=!!this.rangeService&&t.shiftKey,i=this.mouseEventService.getCellPositionForEvent(t),s=!1;switch(e){case Wo.PAGE_HOME:case Wo.PAGE_END:o||n||(this.onHomeOrEndKey(e),s=!0);break;case Wo.LEFT:case Wo.RIGHT:case Wo.UP:case Wo.DOWN:if(!i)return!1;!o||n||r||(this.onCtrlUpDownLeftRight(e,i),s=!0);break;case Wo.PAGE_DOWN:if(!i)return!1;o||n||(this.onPageDown(i),s=!0);break;case Wo.PAGE_UP:if(!i)return!1;o||n||(this.onPageUp(i),s=!0)}return s&&t.preventDefault(),s},e.prototype.navigateTo=function(t){var e=t.scrollIndex,n=t.scrollType,o=t.scrollColumn,i=t.focusIndex,s=t.focusColumn;if(r(o)&&!o.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(o),r(e)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e,n),t.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(i),this.focusService.setFocusedCell({rowIndex:i,column:s,rowPinned:null,forceBrowserFocus:!0}),this.rangeService){var a={rowIndex:i,rowPinned:null,column:s};this.rangeService.setRangeToCell(a)}},e.prototype.onPageDown=function(t){var e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.getViewportHeight(),o=this.paginationProxy.getPixelOffset(),r=e.top+n,i=this.paginationProxy.getRowIndexAtPixel(r+o);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,i):this.navigateToNextPage(t,i)},e.prototype.onPageUp=function(t){var e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.paginationProxy.getPixelOffset(),o=e.top,r=this.paginationProxy.getRowIndexAtPixel(o+n);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,r,!0):this.navigateToNextPage(t,r,!0)},e.prototype.navigateToNextPage=function(t,e,n){void 0===n&&(n=!1);var o,r=this.getViewportHeight(),i=this.paginationProxy.getPageFirstRow(),s=this.paginationProxy.getPageLastRow(),a=this.paginationProxy.getPixelOffset(),l=this.paginationProxy.getRow(t.rowIndex),c=n?(null==l?void 0:l.rowHeight)-r-a:r-a,u=(null==l?void 0:l.rowTop)+c,d=this.paginationProxy.getRowIndexAtPixel(u+a);if(d===t.rowIndex){var p=n?-1:1;e=d=t.rowIndex+p}n?(o="bottom",d<i&&(d=i),e<i&&(e=i)):(o="top",d>s&&(d=s),e>s&&(e=s)),this.isRowTallerThanView(d)&&(e=d,o="top"),this.navigateTo({scrollIndex:e,scrollType:o,scrollColumn:null,focusIndex:d,focusColumn:t.column})},e.prototype.navigateToNextPageWithAutoHeight=function(t,e,n){var o=this;void 0===n&&(n=!1),this.navigateTo({scrollIndex:e,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:e,focusColumn:t.column}),setTimeout((function(){var r=o.getNextFocusIndexForAutoHeight(t,n);o.navigateTo({scrollIndex:e,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:r,focusColumn:t.column,isAsync:!0})}),50)},e.prototype.getNextFocusIndexForAutoHeight=function(t,e){var n;void 0===e&&(e=!1);for(var o=e?-1:1,r=this.getViewportHeight(),i=this.paginationProxy.getPageLastRow(),s=0,a=t.rowIndex;a>=0&&a<=i;){var l=this.paginationProxy.getRow(a);if(l){var c=null!==(n=l.rowHeight)&&void 0!==n?n:0;if(s+c>r)break;s+=c}a+=o}return Math.max(0,Math.min(a,i))},e.prototype.getViewportHeight=function(){var t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),e=this.gridOptionsService.getScrollbarWidth(),n=t.bottom-t.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(n-=e),n},e.prototype.isRowTallerThanView=function(t){var e=this.paginationProxy.getRow(t);if(!e)return!1;var n=e.rowHeight;return"number"==typeof n&&n>this.getViewportHeight()},e.prototype.onCtrlUpDownLeftRight=function(t,e){var n=this.cellNavigationService.getNextCellToFocus(t,e,!0),o=n.rowIndex,r=n.column;this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:r,focusIndex:o,focusColumn:r})},e.prototype.onHomeOrEndKey=function(t){var e=t===Wo.PAGE_HOME,n=this.columnModel.getAllDisplayedColumns(),o=e?n[0]:ft(n),r=e?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:r,scrollType:null,scrollColumn:o,focusIndex:r,focusColumn:o})},e.prototype.onTabKeyDown=function(t,e){var n=e.shiftKey;if(this.tabToNextCellCommon(t,n,e))e.preventDefault();else if(n){var o=t.getRowPosition(),r=o.rowIndex;(o.rowPinned?0===r:r===this.paginationProxy.getPageFirstRow())&&(0===this.gridOptionsService.getNum("headerHeight")?this.focusService.focusNextGridCoreContainer(!0,!0):(e.preventDefault(),this.focusService.focusLastHeader(e)))}else t instanceof Il&&t.focusCell(!0),this.focusService.focusNextGridCoreContainer(n)&&e.preventDefault()},e.prototype.tabToNextCell=function(t,e){var n=this.focusService.getFocusedCell();if(!n)return!1;var o=this.getCellByPosition(n);return!!(o||(o=this.rowRenderer.getRowByPosition(n))&&o.isFullWidth())&&this.tabToNextCellCommon(o,t,e)},e.prototype.tabToNextCellCommon=function(t,e,n){var o=t.isEditing();if(!o&&t instanceof Il){var r=t.getRowCtrl();r&&(o=r.isEditing())}return(o?"fullRow"===this.gridOptionsService.get("editType")?this.moveToNextEditingRow(t,e,n):this.moveToNextEditingCell(t,e,n):this.moveToNextCellNotEditing(t,e))||!!this.focusService.getFocusedHeader()},e.prototype.moveToNextEditingCell=function(t,e,n){void 0===n&&(n=null);var o=t.getCellPosition();t.getGui().focus(),t.stopEditing();var r=this.findNextCellToFocusOn(o,e,!0);return null!=r&&(r.startEditing(null,null,!0,n),r.focusCell(!1),!0)},e.prototype.moveToNextEditingRow=function(t,e,n){void 0===n&&(n=null);var o=t.getCellPosition(),r=this.findNextCellToFocusOn(o,e,!0);if(null==r)return!1;var i=r.getCellPosition(),s=this.isCellEditable(o),a=this.isCellEditable(i),l=i&&o.rowIndex===i.rowIndex&&o.rowPinned===i.rowPinned;(s&&t.setFocusOutOnEditor(),l)||(t.getRowCtrl().stopEditing(),r.getRowCtrl().startRowEditing(void 0,void 0,void 0,n));return a?(r.setFocusInOnEditor(),r.focusCell()):r.focusCell(!0),!0},e.prototype.moveToNextCellNotEditing=function(t,e){var n,o=this.columnModel.getAllDisplayedColumns();n=t instanceof Vl?xc(xc({},t.getRowPosition()),{column:e?o[0]:ft(o)}):t.getCellPosition();var i=this.findNextCellToFocusOn(n,e,!1);if(i instanceof Il)i.focusCell(!0);else if(i)return this.tryToFocusFullWidthRow(i.getRowPosition(),e);return r(i)},e.prototype.findNextCellToFocusOn=function(t,e,n){for(var o=t;;){t!==o&&(t=o),e||(o=this.getLastCellOfColSpan(o)),o=this.cellNavigationService.getNextTabbedCell(o,e);var i=this.gridOptionsService.getCallback("tabToNextCell");if(r(i)){var s=i({backwards:e,editing:n,previousCellPosition:t,nextCellPosition:o||null});r(s)?(s.floating&&(T((function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")}),"no floating in userCell"),s.rowPinned=s.floating),o={rowIndex:s.rowIndex,column:s.column,rowPinned:s.rowPinned}):o=null}if(!o)return null;if(o.rowIndex<0){var a=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a+o.rowIndex,column:o.column}}),null}var l="fullRow"===this.gridOptionsService.get("editType");if(n&&!l)if(!this.isCellEditable(o))continue;this.ensureCellVisible(o);var c=this.getCellByPosition(o);if(!c){var u=this.rowRenderer.getRowByPosition(o);if(!u||!u.isFullWidth()||n)continue;return u}if(!c.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(o),c}},e.prototype.isCellEditable=function(t){var e=this.lookupRowNodeForCell(t);return!!e&&t.column.isCellEditable(e)},e.prototype.getCellByPosition=function(t){var e=this.rowRenderer.getRowByPosition(t);return e?e.getCellCtrl(t.column):null},e.prototype.lookupRowNodeForCell=function(t){return"top"===t.rowPinned?this.pinnedRowModel.getPinnedTopRow(t.rowIndex):"bottom"===t.rowPinned?this.pinnedRowModel.getPinnedBottomRow(t.rowIndex):this.paginationProxy.getRow(t.rowIndex)},e.prototype.navigateToNextCell=function(t,e,n,o){for(var s=n,a=!1;s&&(s===n||!this.isValidNavigateCell(s));)this.gridOptionsService.is("enableRtl")?e===Wo.LEFT&&(s=this.getLastCellOfColSpan(s)):e===Wo.RIGHT&&(s=this.getLastCellOfColSpan(s)),a=i(s=this.cellNavigationService.getNextCellToFocus(e,s));if(a&&t&&t.key===Wo.UP&&(s={rowIndex:-1,rowPinned:null,column:n.column}),o){var l=this.gridOptionsService.getCallback("navigateToNextCell");if(r(l)){var c=l({key:e,previousCellPosition:n,nextCellPosition:s||null,event:t});r(c)?(c.floating&&(T((function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")}),"no floating in userCell"),c.rowPinned=c.floating),s={rowPinned:c.rowPinned,rowIndex:c.rowIndex,column:c.column}):s=null}}if(s)if(s.rowIndex<0){var u=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:u+s.rowIndex,column:n.column},event:t||void 0})}else{var d=this.getNormalisedPosition(s);d?this.focusPosition(d):this.tryToFocusFullWidthRow(s)}},e.prototype.getNormalisedPosition=function(t){this.ensureCellVisible(t);var e=this.getCellByPosition(t);return e?(t=e.getCellPosition(),this.ensureCellVisible(t),t):null},e.prototype.tryToFocusFullWidthRow=function(t,e){void 0===e&&(e=!1);var n=this.columnModel.getAllDisplayedColumns(),o=this.rowRenderer.getRowByPosition(t);if(!o||!o.isFullWidth())return!1;var r=this.focusService.getFocusedCell(),i={rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:t.column||(e?ft(n):n[0])};this.focusPosition(i);var s=null!=r&&this.rowPositionUtils.before(i,r),a={type:zt.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:i.rowIndex,rowPinned:i.rowPinned,column:i.column,isFullWidthCell:!0,floating:i.rowPinned,fromBelow:s};return this.eventService.dispatchEvent(a),!0},e.prototype.focusPosition=function(t){this.focusService.setFocusedCell({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(t)},e.prototype.isValidNavigateCell=function(t){return!!this.rowPositionUtils.getRowNode(t)},e.prototype.getLastCellOfColSpan=function(t){var e=this.getCellByPosition(t);if(!e)return t;var n=e.getColSpanningList();return 1===n.length?t:{rowIndex:t.rowIndex,column:ft(n),rowPinned:t.rowPinned}},e.prototype.ensureCellVisible=function(t){var e=this.gridOptionsService.is("groupRowsSticky"),n=this.rowModel.getRow(t.rowIndex);!(e&&(null==n?void 0:n.sticky))&&i(t.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t.rowIndex),t.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(t.column)},Mc([K("mouseEventService")],e.prototype,"mouseEventService",void 0),Mc([K("paginationProxy")],e.prototype,"paginationProxy",void 0),Mc([K("focusService")],e.prototype,"focusService",void 0),Mc([Y("rangeService")],e.prototype,"rangeService",void 0),Mc([K("columnModel")],e.prototype,"columnModel",void 0),Mc([K("rowModel")],e.prototype,"rowModel",void 0),Mc([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Mc([K("rowRenderer")],e.prototype,"rowRenderer",void 0),Mc([K("headerNavigationService")],e.prototype,"headerNavigationService",void 0),Mc([K("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),Mc([K("cellNavigationService")],e.prototype,"cellNavigationService",void 0),Mc([K("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Mc([H],e.prototype,"postConstruct",null),e=Mc([z("navigationService")],e)}(Ut),Lc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ic=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Nc=function(t){function e(e){var n=t.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return n.params=e,n}return Lc(e,t),e.prototype.postConstruct=function(){this.gridOptionsService.setDomData(this.getGui(),e.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},e.prototype.addKeyDownListener=function(){var t=this,e=this.getGui(),n=this.params;this.addManagedListener(e,"keydown",(function(e){$o(t.gridOptionsService,e,n.node,n.column,!0)||n.onKeyDown(e)}))},e.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",Ic([H],e.prototype,"postConstruct",null),e}(ss),kc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Fc=function(t){function e(e,n,o,r,i){var s=t.call(this)||this;s.rendererVersion=0,s.editorVersion=0,s.beans=e,s.column=n.getColumn(),s.rowNode=n.getRowNode(),s.rowCtrl=n.getRowCtrl(),s.eRow=r,s.setTemplate('<div comp-id="'+s.getCompId()+'"/>');var a=s.getGui();s.forceWrapper=n.isForceWrapper(),s.refreshWrapper(!1);var l=function(t,e,n){var o=n||a;null!=e&&""!=e?o.setAttribute(t,e):o.removeAttribute(t)},c={addOrRemoveCssClass:function(t,e){return s.addOrRemoveCssClass(t,e)},setUserStyles:function(t){return Po(a,t)},getFocusableElement:function(){return s.getFocusableElement()},setTabIndex:function(t){return l("tabindex",t.toString())},setRole:function(t){return ze(a,t)},setColId:function(t){return l("col-id",t)},setTitle:function(t){return l("title",t)},setIncludeSelection:function(t){return s.includeSelection=t},setIncludeRowDrag:function(t){return s.includeRowDrag=t},setIncludeDndSource:function(t){return s.includeDndSource=t},setRenderDetails:function(t,e,n){return s.setRenderDetails(t,e,n)},setEditDetails:function(t,e,n){return s.setEditDetails(t,e,n)},getCellEditor:function(){return s.cellEditor||null},getCellRenderer:function(){return s.cellRenderer||null},getParentOfValue:function(){return s.getParentOfValue()}};return s.cellCtrl=n,n.setComp(c,s.getGui(),s.eCellWrapper,o,i),s}return kc(e,t),e.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},e.prototype.setRenderDetails=function(t,e,n){if(!(this.cellEditor&&!this.cellEditorPopupWrapper)){this.firstRender=null==this.firstRender;var o=this.refreshWrapper(!1);if(this.refreshEditStyles(!1),t)!(n||o)&&this.refreshCellRenderer(t)||(this.destroyRenderer(),this.createCellRendererInstance(t));else this.destroyRenderer(),this.insertValueWithoutCellRenderer(e)}},e.prototype.setEditDetails=function(t,e,n){t?this.createCellEditorInstance(t,e,n):this.destroyEditor()},e.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},e.prototype.refreshWrapper=function(t){var e=this.includeRowDrag||this.includeDndSource||this.includeSelection,n=e||this.forceWrapper,o=n&&null==this.eCellWrapper;o&&(this.eCellWrapper=Co('<div class="ag-cell-wrapper" role="presentation"></div>'),this.getGui().appendChild(this.eCellWrapper));var r=!n&&null!=this.eCellWrapper;r&&(yo(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!n);var i=!t&&n,s=i&&null==this.eCellValue;s&&(this.eCellValue=Co('<span class="ag-cell-value" role="presentation"></span>'),this.eCellWrapper.appendChild(this.eCellValue));var a=!i&&null!=this.eCellValue;a&&(yo(this.eCellValue),this.eCellValue=void 0);var l=o||r||s||a;return l&&this.removeControls(),t||e&&this.addControls(),l},e.prototype.addControls=function(){this.includeRowDrag&&null==this.rowDraggingComp&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&null==this.dndSourceComp&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))},e.prototype.createCellEditorInstance=function(t,e,n){var o=this,r=this.editorVersion,s=t.newAgStackInstance();if(s){var a=t.params;s.then((function(t){return o.afterCellEditorCreated(r,t,a,e,n)})),i(this.cellEditor)&&a.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},e.prototype.insertValueWithoutCellRenderer=function(t){var e=this.getParentOfValue();mo(e);var n=null!=t?Ce(t):null;null!=n&&(e.innerHTML=n)},e.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},e.prototype.destroyRenderer=function(){var t=this.beans.context;this.cellRenderer=t.destroyBean(this.cellRenderer),yo(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},e.prototype.destroyEditor=function(){var t=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=t.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=t.destroyBean(this.cellEditorPopupWrapper),yo(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},e.prototype.refreshCellRenderer=function(t){if(null==this.cellRenderer||null==this.cellRenderer.refresh)return!1;if(this.cellRendererClass!==t.componentClass)return!1;var e=this.cellRenderer.refresh(t.params);return!0===e||void 0===e},e.prototype.createCellRendererInstance=function(t){var e=this,n=!this.beans.gridOptionsService.is("suppressAnimationFrame"),o=this.rendererVersion,r=t.componentClass,i=function(){if(!(e.rendererVersion!==o||!e.isAlive())){var n=t.newAgStackInstance(),i=e.afterCellRendererCreated.bind(e,o,r);n&&n.then(i)}};n&&this.firstRender?this.beans.animationFrameService.createTask(i,this.rowNode.rowIndex,"createTasksP2"):i()},e.prototype.getCtrl=function(){return this.cellCtrl},e.prototype.getRowCtrl=function(){return this.rowCtrl},e.prototype.getCellRenderer=function(){return this.cellRenderer},e.prototype.getCellEditor=function(){return this.cellEditor},e.prototype.afterCellRendererCreated=function(t,e,n){if(!this.isAlive()||t!==this.rendererVersion)this.beans.context.destroyBean(n);else if(this.cellRenderer=n,this.cellRendererClass=e,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui){var o=this.getParentOfValue();mo(o),o.appendChild(this.cellRendererGui)}},e.prototype.afterCellEditorCreated=function(t,e,n,o,r){if(t!==this.editorVersion)this.beans.context.destroyBean(e);else{if(e.isCancelBeforeStart&&e.isCancelBeforeStart())return this.beans.context.destroyBean(e),void this.cellCtrl.stopEditing(!0);if(!e.getGui)return console.warn("AG Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),void this.beans.context.destroyBean(e);this.cellEditor=e,this.cellEditorGui=e.getGui();var i=o||void 0!==e.isPopup&&e.isPopup();i?this.addPopupCellEditor(n,r):this.addInCellEditor(),this.refreshEditStyles(!0,i),e.afterGuiAttached&&e.afterGuiAttached()}},e.prototype.refreshEditStyles=function(t,e){var n;this.addOrRemoveCssClass("ag-cell-inline-editing",t&&!e),this.addOrRemoveCssClass("ag-cell-popup-editing",t&&!!e),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!t||!!e),null===(n=this.rowCtrl)||void 0===n||n.setInlineEditingCss(t)},e.prototype.addInCellEditor=function(){var t=this.getGui(),e=this.beans.gridOptionsService.getDocument();(t.contains(e.activeElement)&&t.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui)&&this.getParentOfValue().appendChild(this.cellEditorGui)},e.prototype.addPopupCellEditor=function(t,e){var n=this;"fullRow"===this.beans.gridOptionsService.get("editType")&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var o=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new Nc(t));var r=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&r.appendChild(this.cellEditorGui);var i=this.beans.popupService,s=this.beans.gridOptionsService.is("stopEditingWhenCellsLoseFocus"),a=null!=e?e:o.getPopupPosition?o.getPopupPosition():"over",l=this.beans.gridOptionsService.is("enableRtl"),c={ePopup:r,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:a,alignSide:l?"right":"left",keepWithinBounds:!0},u=i.positionPopupByComponent.bind(i,c),d=this.beans.localeService.getLocaleTextFunc(),p=i.addPopup({modal:s,eChild:r,closeOnEsc:!0,closedCallback:function(){n.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:u,ariaLabel:d("ariaLabelCellEditor","Cell Editor")});p&&(this.hideEditorPopup=p.hideFunc)},e.prototype.detach=function(){this.eRow.removeChild(this.getGui())},e.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),t.prototype.destroy.call(this)},e.prototype.clearParentOfValue=function(){var t=this.getGui(),e=this.beans.gridOptionsService.getDocument();t.contains(e.activeElement)&&Ln()&&t.focus({preventScroll:!0}),mo(this.getParentOfValue())},e}(gr),Gc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Bc=function(t){function e(e,n,o){var r=t.call(this)||this;r.cellComps={},r.beans=n,r.rowCtrl=e,r.setTemplate('<div comp-id="'+r.getCompId()+'" style="'+r.getInitialStyle(o)+'"/>');var i=r.getGui(),s=i.style,a={setDomOrder:function(t){return r.domOrder=t},setCellCtrls:function(t){return r.setCellCtrls(t)},showFullWidth:function(t){return r.showFullWidth(t)},getFullWidthCellRenderer:function(){return r.getFullWidthCellRenderer()},addOrRemoveCssClass:function(t,e){return r.addOrRemoveCssClass(t,e)},setUserStyles:function(t){return Po(i,t)},setTop:function(t){return s.top=t},setTransform:function(t){return s.transform=t},setRowIndex:function(t){return i.setAttribute("row-index",t)},setRole:function(t){return ze(i,t)},setRowId:function(t){return i.setAttribute("row-id",t)},setRowBusinessKey:function(t){return i.setAttribute("row-business-key",t)},setTabIndex:function(t){return i.setAttribute("tabindex",t.toString())}};return e.setComp(a,r.getGui(),o),r.addDestroyFunc((function(){e.unsetComp(o)})),r}return Gc(e,t),e.prototype.getInitialStyle=function(t){var e=this.rowCtrl.getInitialTransform(t),n=this.rowCtrl.getInitialRowTop(t);return e?"transform: "+e:"top: "+n},e.prototype.showFullWidth=function(t){var e=this,n=t.newAgStackInstance();n&&n.then((function(t){if(e.isAlive()){var n=t.getGui();e.getGui().appendChild(n),e.rowCtrl.setupDetailRowAutoHeight(n),e.setFullWidthRowComp(t)}else e.beans.context.destroyBean(t)}))},e.prototype.setCellCtrls=function(t){var e=this,n=Object.assign({},this.cellComps);t.forEach((function(t){var o=t.getInstanceId();null==e.cellComps[o]?e.newCellComp(t):n[o]=null}));var o=C(n).filter((function(t){return null!=t}));this.destroyCells(o),this.ensureDomOrder(t)},e.prototype.ensureDomOrder=function(t){var e=this;if(this.domOrder){var n=[];t.forEach((function(t){var o=e.cellComps[t.getInstanceId()];o&&n.push(o.getGui())})),wo(this.getGui(),n)}},e.prototype.newCellComp=function(t){var e=new Fc(this.beans,t,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[t.getInstanceId()]=e,this.getGui().appendChild(e.getGui())},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.destroyAllCells()},e.prototype.destroyAllCells=function(){var t=C(this.cellComps).filter((function(t){return null!=t}));this.destroyCells(t)},e.prototype.setFullWidthRowComp=function(t){var e=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=t,this.addDestroyFunc((function(){e.fullWidthCellRenderer=e.beans.context.destroyBean(e.fullWidthCellRenderer)}))},e.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},e.prototype.destroyCells=function(t){var e=this;t.forEach((function(t){if(t){var n=t.getCtrl().getInstanceId();e.cellComps[n]===t&&(t.detach(),t.destroy(),e.cellComps[n]=null)}}))},e}(gr),Uc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),jc=function(){return jc=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},jc.apply(this,arguments)},Vc=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};var Wc,Hc=function(t){function e(){var e,n,o,r,i=t.call(this,(e=gr.elementGettingCreated.getAttribute("name"),n=yc.getRowContainerCssClasses(e),o=e===Bl.CENTER,r=e===Bl.TOP_CENTER||e===Bl.STICKY_TOP_CENTER||e===Bl.BOTTOM_CENTER,o?'<div class="'+n.wrapper+'" ref="eWrapper" role="presentation">\n                <div class="'+n.viewport+'" ref="eViewport" role="presentation">\n                    <div class="'+n.container+'" ref="eContainer"></div>\n                </div>\n            </div>':r?'<div class="'+n.viewport+'" ref="eViewport" role="presentation">\n                <div class="'+n.container+'" ref="eContainer"></div>\n            </div>':'<div class="'+n.container+'" ref="eContainer"></div>'))||this;return i.rowComps={},i.name=gr.elementGettingCreated.getAttribute("name"),i.type=function(t){switch(t){case Bl.CENTER:case Bl.TOP_CENTER:case Bl.STICKY_TOP_CENTER:case Bl.BOTTOM_CENTER:return Ul.CENTER;case Bl.LEFT:case Bl.TOP_LEFT:case Bl.STICKY_TOP_LEFT:case Bl.BOTTOM_LEFT:return Ul.LEFT;case Bl.RIGHT:case Bl.TOP_RIGHT:case Bl.STICKY_TOP_RIGHT:case Bl.BOTTOM_RIGHT:return Ul.RIGHT;case Bl.FULL_WIDTH:case Bl.TOP_FULL_WIDTH:case Bl.STICKY_TOP_FULL_WIDTH:case Bl.BOTTOM_FULL_WIDTH:return Ul.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}(i.name),i}return Uc(e,t),e.prototype.postConstruct=function(){var t=this,e={setViewportHeight:function(e){return t.eViewport.style.height=e},setRowCtrls:function(e){return t.setRowCtrls(e)},setDomOrder:function(e){t.domOrder=e},setContainerWidth:function(e){return t.eContainer.style.width=e}};this.createManagedBean(new yc(this.name)).setComp(e,this.eContainer,this.eViewport,this.eWrapper)},e.prototype.preDestroy=function(){this.setRowCtrls([])},e.prototype.setRowCtrls=function(t){var e=this,n=jc({},this.rowComps);this.rowComps={},this.lastPlacedElement=null;t.forEach((function(t){var o=t.getInstanceId(),r=n[o];if(r)e.rowComps[o]=r,delete n[o],e.ensureDomOrder(r.getGui());else{var i=new Bc(t,e.beans,e.type);e.rowComps[o]=i,e.appendRow(i.getGui())}})),C(n).forEach((function(t){e.eContainer.removeChild(t.getGui()),t.destroy()})),ze(this.eContainer,t.length?"rowgroup":"presentation")},e.prototype.appendRow=function(t){this.domOrder?Oo(this.eContainer,t,this.lastPlacedElement):this.eContainer.appendChild(t),this.lastPlacedElement=t},e.prototype.ensureDomOrder=function(t){this.domOrder&&(So(this.eContainer,t,this.lastPlacedElement),this.lastPlacedElement=t)},Vc([K("beans")],e.prototype,"beans",void 0),Vc([_r("eViewport")],e.prototype,"eViewport",void 0),Vc([_r("eContainer")],e.prototype,"eContainer",void 0),Vc([_r("eWrapper")],e.prototype,"eWrapper",void 0),Vc([H],e.prototype,"postConstruct",null),Vc([$],e.prototype,"preDestroy",null),e}(gr),$c=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},zc=function(){function t(t){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=t}return t.prototype.onDragEnter=function(t){var e=this;if(this.clearColumnsList(),!this.gridOptionsService.is("functionsReadOnly")){var n=t.dragItem.columns;n&&n.forEach((function(t){t.isPrimary()&&(t.isAnyFunctionActive()||(t.isAllowValue()?e.columnsToAggregate.push(t):t.isAllowRowGroup()?e.columnsToGroup.push(t):t.isAllowPivot()&&e.columnsToPivot.push(t)))}))}},t.prototype.getIconName=function(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?As.ICON_PINNED:As.ICON_MOVE:null},t.prototype.onDragLeave=function(t){this.clearColumnsList()},t.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},t.prototype.onDragging=function(t){},t.prototype.onDragStop=function(t){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},$c([K("columnModel")],t.prototype,"columnModel",void 0),$c([K("gridOptionsService")],t.prototype,"gridOptionsService",void 0),t}(),Kc=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Yc=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Zc=function(){function t(t,e){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=t,this.eContainer=e,this.centerContainer=!r(t)}return t.prototype.init=function(){var t=this;this.ctrlsService.whenReady((function(){t.gridBodyCon=t.ctrlsService.getGridBodyCtrl()}))},t.prototype.getIconName=function(){return this.pinned?As.ICON_PINNED:As.ICON_MOVE},t.prototype.onDragEnter=function(t){var e=t.dragItem.columns;if(t.dragSource.type===Ai.ToolPanel)this.setColumnsVisible(e,!0,"uiColumnDragged");else{var n=t.dragItem.visibleState,o=(e||[]).filter((function(t){return n[t.getId()]}));this.setColumnsVisible(o,!0,"uiColumnDragged")}this.setColumnsPinned(e,this.pinned,"uiColumnDragged"),this.onDragging(t,!0,!0)},t.prototype.onDragLeave=function(){this.ensureIntervalCleared(),this.lastMovedInfo=null},t.prototype.setColumnsVisible=function(t,e,n){if(void 0===n&&(n="api"),t){var o=t.filter((function(t){return!t.getColDef().lockVisible}));this.columnModel.setColumnsVisible(o,e,n)}},t.prototype.setColumnsPinned=function(t,e,n){if(void 0===n&&(n="api"),t){var o=t.filter((function(t){return!t.getColDef().lockPinned}));this.columnModel.setColumnsPinned(o,e,n)}},t.prototype.onDragStop=function(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null},t.prototype.normaliseX=function(t){this.gridOptionsService.is("enableRtl")&&(t=this.eContainer.clientWidth-t);return this.centerContainer&&(t+=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),t},t.prototype.checkCenterForScrolling=function(t){if(this.centerContainer){var e=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),n=e+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsService.is("enableRtl")?(this.needToMoveRight=t<e+50,this.needToMoveLeft=t>n-50):(this.needToMoveLeft=t<e+50,this.needToMoveRight=t>n-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},t.prototype.onDragging=function(t,e,n,o){var r,s=this;if(void 0===t&&(t=this.lastDraggingEvent),void 0===e&&(e=!1),void 0===n&&(n=!1),void 0===o&&(o=!1),o){if(this.lastMovedInfo){var a=this.lastMovedInfo,l=a.columns,c=a.toIndex;this.moveColumns(l,c,"uiColumnMoved",!0)}}else if(this.lastDraggingEvent=t,!i(t.hDirection)){var u=this.normaliseX(t.x);e||this.checkCenterForScrolling(u);var d=this.normaliseDirection(t.hDirection),p=t.dragSource.type,h=(null===(r=t.dragSource.getDragItem().columns)||void 0===r?void 0:r.filter((function(t){return!t.getColDef().lockPinned||t.getPinned()==s.pinned})))||[];this.attemptMoveColumns({dragSourceType:p,allMovingColumns:h,hDirection:d,mouseX:u,fromEnter:e,fakeEvent:n})}},t.prototype.normaliseDirection=function(t){if(!this.gridOptionsService.is("enableRtl"))return t;switch(t){case Ii.Left:return Ii.Right;case Ii.Right:return Ii.Left;default:console.error("AG Grid: Unknown direction "+t)}},t.prototype.attemptMoveColumns=function(t){var e=t.dragSourceType,n=t.hDirection,o=t.mouseX,r=t.fromEnter,i=t.fakeEvent,s=n===Ii.Left,a=n===Ii.Right,l=t.allMovingColumns;if(e===Ai.HeaderCell){var c=[];l.forEach((function(t){for(var e=null,n=t.getParent();null!=n&&1===n.getDisplayedLeafColumns().length;)e=n,n=n.getParent();null!=e?e.getLeafColumns().forEach((function(t){c.includes(t)||c.push(t)})):c.includes(t)||c.push(t)})),l=c}var u=l.slice();this.columnModel.sortColumnsLikeGridColumns(u);var d=this.calculateValidMoves(u,a,o),p=this.calculateOldIndex(u);if(0!==d.length){var h=d[0],f=null!==p&&!r;if(e==Ai.HeaderCell&&(f=null!==p),f&&!i){if(s&&h>=p)return;if(a&&h<=p)return}for(var g=this.columnModel.getAllDisplayedColumns(),_=[],m=null,y=0;y<d.length;y++){var v=d[y],C=this.columnModel.getProposedColumnOrder(u,v);if(this.columnModel.doesOrderPassRules(C)){var E=C.filter((function(t){return g.includes(t)}));if(null===m)m=E;else if(!or.areEqual(E,m))break;var b=this.groupFragCount(C);_.push({move:v,fragCount:b})}}0!==_.length&&(_.sort((function(t,e){return t.fragCount-e.fragCount})),this.moveColumns(l,_[0].move,"uiColumnMoved",!1))}},t.prototype.calculateOldIndex=function(t){var e=this.columnModel.getAllGridColumns(),n=_t(t.map((function(t){return e.indexOf(t)}))),o=n[0];return ft(n)-o!==n.length-1?null:o},t.prototype.moveColumns=function(t,e,n,o){this.columnModel.moveColumns(t,e,n,o),this.lastMovedInfo=o?null:{columns:t,toIndex:e}},t.prototype.groupFragCount=function(t){function e(t){for(var e=[],n=t.getOriginalParent();null!=n;)e.push(n),n=n.getOriginalParent();return e}for(var n=0,o=function(o){var r,i=e(t[o]),s=e(t[o+1]);i=(r=Yc(i.length>s.length?[i,s]:[s,i],2))[0],s=r[1],i.forEach((function(t){-1===s.indexOf(t)&&n++}))},r=0;r<t.length-1;r++)o(r);return n},t.prototype.calculateValidMoves=function(t,e,n){var o=this.gridOptionsService.is("suppressMovableColumns")||t.some((function(t){return t.getColDef().suppressMovable}));if(o)return[];var r,i=this.columnModel.getDisplayedColumns(this.pinned),s=this.columnModel.getAllGridColumns(),a=i.filter((function(e){return Et(t,e)})),l=i.filter((function(e){return!Et(t,e)})),c=s.filter((function(e){return!Et(t,e)})),u=0,d=n;if(e){var p=0;a.forEach((function(t){return p+=t.getActualWidth()})),d-=p}if(d>0){for(var h=0;h<l.length;h++){if((d-=l[h].getActualWidth())<0)break;u++}e&&u++}if(u>0){var f=l[u-1];r=c.indexOf(f)+1}else-1===(r=c.indexOf(l[0]))&&(r=0);var g=[r],_=function(t,e){return t-e};if(e){for(var m=r+1,y=s.length-1;m<=y;)g.push(m),m++;g.sort(_)}else{m=r,y=s.length-1;for(var v=s[m];m<=y&&this.isColumnHidden(i,v);)m++,g.push(m),v=s[m];m=r-1;for(;m>=0;)g.push(m),m--;g.sort(_).reverse()}return g},t.prototype.isColumnHidden=function(t,e){return t.indexOf(e)<0},t.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon(As.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon(As.ICON_RIGHT,!0))},t.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(As.ICON_MOVE))},t.prototype.moveInterval=function(){var t;this.intervalCount++,(t=10+5*this.intervalCount)>100&&(t=100);var e=null,n=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?e=n.scrollHorizontally(-t):this.needToMoveRight&&(e=n.scrollHorizontally(t)),0!==e)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var o=this.lastDraggingEvent.dragItem.columns.filter((function(t){return!t.getColDef().lockPinned}));if(o.length>0&&(this.dragAndDropService.setGhostIcon(As.ICON_PINNED),this.failedMoveAttempts>7)){var r=this.needToMoveLeft?"left":"right";this.setColumnsPinned(o,r,"uiColumnDragged"),this.dragAndDropService.nudge()}}},Kc([K("columnModel")],t.prototype,"columnModel",void 0),Kc([K("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Kc([K("gridOptionsService")],t.prototype,"gridOptionsService",void 0),Kc([K("ctrlsService")],t.prototype,"ctrlsService",void 0),Kc([H],t.prototype,"init",null),t}(),qc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Xc=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Jc=function(t){function e(e,n){var o=t.call(this)||this;return o.pinned=e,o.eContainer=n,o}return qc(e,t),e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady((function(e){switch(t.pinned){case"left":t.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.leftRowContainerCtrl.getContainerElement()],[e.bottomLeftRowContainerCtrl.getContainerElement()],[e.topLeftRowContainerCtrl.getContainerElement()]];break;case"right":t.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.rightRowContainerCtrl.getContainerElement()],[e.bottomRightRowContainerCtrl.getContainerElement()],[e.topRightRowContainerCtrl.getContainerElement()]];break;default:t.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.centerRowContainerCtrl.getViewportElement()],[e.bottomCenterRowContainerCtrl.getViewportElement()],[e.topCenterRowContainerCtrl.getViewportElement()]]}}))},e.prototype.isInterestedIn=function(t){return t===Ai.HeaderCell||t===Ai.ToolPanel&&this.gridOptionsService.is("allowDragFromColumnsToolPanel")},e.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},e.prototype.getContainer=function(){return this.eContainer},e.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new Zc(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new zc(this.pinned)),this.dragAndDropService.addDropTarget(this)},e.prototype.getIconName=function(){return this.currentDropListener.getIconName()},e.prototype.isDropColumnInPivotMode=function(t){return this.columnModel.isPivotMode()&&t.dragSource.type===Ai.ToolPanel},e.prototype.onDragEnter=function(t){this.currentDropListener=this.isDropColumnInPivotMode(t)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(t)},e.prototype.onDragLeave=function(t){this.currentDropListener.onDragLeave(t)},e.prototype.onDragging=function(t){this.currentDropListener.onDragging(t)},e.prototype.onDragStop=function(t){this.currentDropListener.onDragStop(t)},Xc([K("dragAndDropService")],e.prototype,"dragAndDropService",void 0),Xc([K("columnModel")],e.prototype,"columnModel",void 0),Xc([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Xc([H],e.prototype,"postConstruct",null),Xc([H],e.prototype,"init",null),e}(Ut),Qc=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},tu=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Qc(arguments[e]));return t},eu=function(){function t(){}return t.getHeaderClassesFromColDef=function(t,e,n,o){return i(t)?[]:this.getColumnClassesFromCollDef(t.headerClass,t,e,n,o)},t.getToolPanelClassesFromColDef=function(t,e,n,o){return i(t)?[]:this.getColumnClassesFromCollDef(t.toolPanelClass,t,e,n,o)},t.getClassParams=function(t,e,n,o){return{colDef:t,column:n,columnGroup:o,api:e.api,columnApi:e.columnApi,context:e.context}},t.getColumnClassesFromCollDef=function(t,e,n,o,r){if(i(t))return[];var s;"function"==typeof t?s=t(this.getClassParams(e,n,o,r)):s=t;return"string"==typeof s?[s]:Array.isArray(s)?tu(s):[]},t}(),nu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ou=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ru=function(t){function e(n){var o=t.call(this,e.TEMPLATE,n)||this;return o.headerCompVersion=0,o.column=n.getColumnGroupChild(),o.pinned=n.getPinned(),o}return nu(e,t),e.prototype.postConstruct=function(){var t=this,e=this.getGui(),n=function(t,n,o){var r=o||e;null!=n&&""!=n?r.setAttribute(t,n):r.removeAttribute(t)},o={setWidth:function(t){return e.style.width=t},addOrRemoveCssClass:function(e,n){return t.addOrRemoveCssClass(e,n)},setColId:function(t){return n("col-id",t)},setTitle:function(t){return n("title",t)},setAriaDescription:function(t){return Je(e,t)},setAriaSort:function(t){return t?fn(e,t):gn(e)},setUserCompDetails:function(e){return t.setUserCompDetails(e)},getUserCompInstance:function(){return t.headerComp}};this.ctrl.setComp(o,this.getGui(),this.eResize,this.eHeaderCompWrapper);var r=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",r)},e.prototype.destroyHeaderComp=function(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},e.prototype.setUserCompDetails=function(t){var e=this;this.headerCompVersion++;var n=this.headerCompVersion;t.newAgStackInstance().then((function(t){return e.afterCompCreated(n,t)}))},e.prototype.afterCompCreated=function(t,e){t==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=e,this.headerCompGui=e.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())):this.destroyBean(e)},e.TEMPLATE='<div class="ag-header-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>\n        </div>',ou([_r("eResize")],e.prototype,"eResize",void 0),ou([_r("eHeaderCompWrapper")],e.prototype,"eHeaderCompWrapper",void 0),ou([H],e.prototype,"postConstruct",null),ou([$],e.prototype,"destroyHeaderComp",null),e}(ja),iu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),su=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},au=function(t){function e(n){return t.call(this,e.TEMPLATE,n)||this}return iu(e,t),e.prototype.postConstruct=function(){var t=this,e=this.getGui(),n=function(t,n){return null!=n?e.setAttribute(t,n):e.removeAttribute(t)},o={addOrRemoveCssClass:function(e,n){return t.addOrRemoveCssClass(e,n)},setResizableDisplayed:function(e){return ro(t.eResize,e)},setWidth:function(t){return e.style.width=t},setColId:function(t){return e.setAttribute("col-id",t)},setAriaExpanded:function(t){return n("aria-expanded",t)},setTitle:function(t){return n("title",t)},setUserCompDetails:function(e){return t.setUserCompDetails(e)}};this.ctrl.setComp(o,e,this.eResize)},e.prototype.setUserCompDetails=function(t){var e=this;t.newAgStackInstance().then((function(t){return e.afterHeaderCompCreated(t)}))},e.prototype.afterHeaderCompCreated=function(t){var e=this,n=function(){return e.destroyBean(t)};this.isAlive()?(this.getGui().appendChild(t.getGui()),this.addDestroyFunc(n),this.ctrl.setDragSource(t.getGui())):n()},e.TEMPLATE='<div class="ag-header-group-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',su([K("userComponentFactory")],e.prototype,"userComponentFactory",void 0),su([_r("eResize")],e.prototype,"eResize",void 0),su([H],e.prototype,"postConstruct",null),e}(ja),lu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),cu=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t.COLUMN_GROUP="group",t.COLUMN="column",t.FLOATING_FILTER="filter"}(Wc||(Wc={}));var uu,du=function(t){function e(e){var n=t.call(this)||this;n.headerComps={};var o=e.getType()==Wc.COLUMN_GROUP?"ag-header-row-column-group":e.getType()==Wc.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";return n.setTemplate('<div class="ag-header-row '+o+'" role="row"></div>'),n.ctrl=e,n}return lu(e,t),e.prototype.init=function(){var t=this,e={setTransform:function(e){return t.getGui().style.transform=e},setHeight:function(e){return t.getGui().style.height=e},setTop:function(e){return t.getGui().style.top=e},setHeaderCtrls:function(e){return t.setHeaderCtrls(e)},setWidth:function(e){return t.getGui().style.width=e},setAriaRowIndex:function(e){return un(t.getGui(),e)}};this.ctrl.setComp(e)},e.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([])},e.prototype.setHeaderCtrls=function(t){var e=this;if(this.isAlive()){var n=this.headerComps;this.headerComps={},t.forEach((function(t){var o=t.getInstanceId(),r=n[o];delete n[o],null==r&&(r=e.createHeaderComp(t),e.getGui().appendChild(r.getGui())),e.headerComps[o]=r})),h(n,(function(t,n){e.getGui().removeChild(n.getGui()),e.destroyBean(n)}));var o=this.gridOptionsService.is("ensureDomOrder"),r=this.gridOptionsService.isDomLayout("print");if(o||r){var i=C(this.headerComps);i.sort((function(t,e){return t.getCtrl().getColumnGroupChild().getLeft()-e.getCtrl().getColumnGroupChild().getLeft()}));var s=i.map((function(t){return t.getGui()}));wo(this.getGui(),s)}}},e.prototype.createHeaderComp=function(t){var e;switch(this.ctrl.getType()){case Wc.COLUMN_GROUP:e=new au(t);break;case Wc.FLOATING_FILTER:e=new Ha(t);break;default:e=new ru(t)}return this.createBean(e),e.setParentComponent(this),e},cu([H],e.prototype,"init",null),cu([$],e.prototype,"destroyHeaderCtrls",null),e}(gr),pu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),hu=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},fu=0,gu=function(t){function e(e,n){var o=t.call(this)||this;return o.lastFocusEvent=null,o.columnGroupChild=e,o.parentRowCtrl=n,o.instanceId=e.getUniqueId()+"-"+fu++,o}return pu(e,t),e.prototype.shouldStopEventPropagation=function(t){var e=this.focusService.getFocusedHeader(),n=e.headerRowIndex,o=e.column;return zo(this.gridOptionsService,t,n,o)},e.prototype.getWrapperHasFocus=function(){return this.gridOptionsService.getDocument().activeElement===this.eGui},e.prototype.setGui=function(t){this.eGui=t,this.addDomData()},e.prototype.handleKeyDown=function(t){var e=this.getWrapperHasFocus();switch(t.key){case Wo.PAGE_DOWN:case Wo.PAGE_UP:case Wo.PAGE_HOME:case Wo.PAGE_END:e&&t.preventDefault()}},e.prototype.addDomData=function(){var t=this,n=e.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsService.setDomData(this.eGui,n,this),this.addDestroyFunc((function(){return t.gridOptionsService.setDomData(t.eGui,n,null)}))},e.prototype.getGui=function(){return this.eGui},e.prototype.focus=function(t){return!!this.eGui&&(this.lastFocusEvent=t||null,this.eGui.focus(),!0)},e.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},e.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},e.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.getColumnGroupChild=function(){return this.columnGroupChild},e.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",hu([K("focusService")],e.prototype,"focusService",void 0),hu([K("beans")],e.prototype,"beans",void 0),hu([K("userComponentFactory")],e.prototype,"userComponentFactory",void 0),e}(Ut),_u=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),mu=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},yu=function(t){function e(e,n,o,r){var i=t.call(this)||this;return i.columnOrGroup=e,i.eCell=n,i.ariaEl=i.eCell.querySelector("[role=columnheader]")||i.eCell,i.colsSpanning=r,i.beans=o,i}return _u(e,t),e.prototype.setColsSpanning=function(t){this.colsSpanning=t,this.onLeftChanged()},e.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsService.is("enableRtl")&&this.colsSpanning?ft(this.colsSpanning):this.columnOrGroup},e.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,ct.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))},e.prototype.setLeftFirstTime=function(){var t=this.beans.gridOptionsService.is("suppressColumnMoveAnimation"),e=r(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&e&&!t?this.animateInLeft():this.onLeftChanged()},e.prototype.animateInLeft=function(){var t=this,e=this.getColumnOrGroup(),n=e.getLeft(),o=e.getOldLeft(),r=this.modifyLeftForPrintLayout(e,o),i=this.modifyLeftForPrintLayout(e,n);this.setLeft(r),this.actualLeft=i,this.beans.columnAnimationService.executeNextVMTurn((function(){t.actualLeft===i&&t.setLeft(i)}))},e.prototype.onLeftChanged=function(){var t=this.getColumnOrGroup(),e=t.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(t,e),this.setLeft(this.actualLeft)},e.prototype.modifyLeftForPrintLayout=function(t,e){if(!this.beans.gridOptionsService.isDomLayout("print"))return e;if("left"===t.getPinned())return e;var n=this.beans.columnModel.getDisplayedColumnsLeftWidth();return"right"===t.getPinned()?n+this.beans.columnModel.getBodyContainerWidth()+e:n+e},e.prototype.setLeft=function(t){var e;if(r(t)&&(this.eCell.style.left=t+"px"),this.columnOrGroup instanceof ct)e=this.columnOrGroup;else{var n=this.columnOrGroup.getLeafColumns();if(!n.length)return;n.length>1&&hn(this.ariaEl,n.length),e=n[0]}var o=this.beans.columnModel.getAriaColumnIndex(e);pn(this.ariaEl,o)},mu([H],e.prototype,"postConstruct",null),e}(Ut),vu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Cu=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Eu=function(t){function e(e,n){var o=t.call(this)||this;return o.columns=e,o.element=n,o}return vu(e,t),e.prototype.postConstruct=function(){this.gridOptionsService.is("columnHoverHighlight")&&this.addMouseHoverListeners()},e.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},e.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},e.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},Cu([K("columnHoverService")],e.prototype,"columnHoverService",void 0),Cu([H],e.prototype,"postConstruct",null),e}(Ut),bu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Su=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},wu=function(t){function e(e,n){var o=t.call(this,e,n)||this;return o.column=e,o}return bu(e,t),e.prototype.setComp=function(e,n,o,r){t.prototype.setGui.call(this,n),this.comp=e,this.eButtonShowMainFilter=o,this.eFloatingFilterBody=r;var i=this.column.getColDef(),s=!!i.filter||!!i.filterFramework,a=!!i.floatingFilter;this.active=s&&a,this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.active&&this.addManagedListener(this.column,ct.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this))},e.prototype.setupUi=function(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.active){this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton);var t=jo("filter",this.gridOptionsService,this.column);t&&this.eButtonShowMainFilter.appendChild(t)}},e.prototype.setupFocus=function(){this.createManagedBean(new Rr(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},e.prototype.onTabKeyDown=function(t){if(!(this.gridOptionsService.getDocument().activeElement===this.eGui)){var e=this.focusService.findNextFocusableElement(this.eGui,null,t.shiftKey);if(e)return this.beans.headerNavigationService.scrollToColumn(this.column),t.preventDefault(),void e.focus();var n=this.findNextColumnWithFloatingFilter(t.shiftKey);n&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:n},event:t})&&t.preventDefault()}},e.prototype.findNextColumnWithFloatingFilter=function(t){var e=this.beans.columnModel,n=this.column;do{if(!(n=t?e.getDisplayedColBefore(n):e.getDisplayedColAfter(n)))break}while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n},e.prototype.handleKeyDown=function(e){t.prototype.handleKeyDown.call(this,e);var n=this.getWrapperHasFocus();switch(e.key){case Wo.UP:case Wo.DOWN:n||e.preventDefault();case Wo.LEFT:case Wo.RIGHT:if(n)return;e.stopPropagation();case Wo.ENTER:n&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case Wo.ESCAPE:n||this.eGui.focus()}},e.prototype.onFocusIn=function(t){if(!this.eGui.contains(t.relatedTarget)){var e=!!t.relatedTarget&&!t.relatedTarget.classList.contains("ag-floating-filter"),n=!!t.relatedTarget&&ao(t.relatedTarget,"ag-floating-filter");if(e&&n&&t.target===this.eGui){var o=this.lastFocusEvent,r=!(!o||o.key!==Wo.TAB);if(o&&r){var i=o.shiftKey;this.focusService.focusInto(this.eGui,i)}}var s=this.getRowIndex();this.beans.focusService.setFocusedHeader(s,this.column)}},e.prototype.setupHover=function(){var t=this;this.createManagedBean(new Eu([this.column],this.eGui));var e=function(){if(t.gridOptionsService.is("columnHoverHighlight")){var e=t.columnHoverService.isHovered(t.column);t.comp.addOrRemoveCssClass("ag-column-hover",e)}};this.addManagedListener(this.eventService,zt.EVENT_COLUMN_HOVER_CHANGED,e),e()},e.prototype.setupLeft=function(){var t=new yu(this.column,this.eGui,this.beans);this.createManagedBean(t)},e.prototype.setupUserComp=function(){var t=this;if(this.active){var e=this.column.getColDef();this.suppressFilterButton=!!e.floatingFilterComponentParams&&!!e.floatingFilterComponentParams.suppressFilterButton;var n=this.filterManager.getFloatingFilterCompDetails(this.column,(function(){return t.showParentFilter()}));n&&this.comp.setCompDetails(n)}},e.prototype.showParentFilter=function(){var t=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuFactory.showMenuAfterButtonClick(this.column,t,"floatingFilter","filterMenuTab",["filterMenuTab"])},e.prototype.setupSyncWithFilter=function(){var t=this;if(this.active){var e=function(e){var n=t.comp.getFloatingFilterComp();if(n){var o=t.filterManager.getCurrentFloatingFilterParentModel(t.column);n.then((function(t){t&&t.onParentModelChanged(o,e)}))}};this.addManagedListener(this.column,ct.EVENT_FILTER_CHANGED,e),this.filterManager.isFilterActive(this.column)&&e(null)}},e.prototype.setupWidth=function(){var t=this,e=function(){var e=t.column.getActualWidth()+"px";t.comp.setWidth(e)};this.addManagedListener(this.column,ct.EVENT_WIDTH_CHANGED,e),e()},e.prototype.updateFilterButton=function(){!this.suppressFilterButton&&this.comp&&this.comp.setButtonWrapperDisplayed(this.filterManager.isFilterAllowed(this.column))},Su([K("filterManager")],e.prototype,"filterManager",void 0),Su([K("columnHoverService")],e.prototype,"columnHoverService",void 0),Su([K("menuFactory")],e.prototype,"menuFactory",void 0),e}(gu),Ou=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Pu=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Tu=function(t){function e(e,n,o,r,i){var s=t.call(this)||this;return s.pinned=e,s.column=n,s.eResize=o,s.comp=r,s.ctrl=i,s}return Ou(e,t),e.prototype.postConstruct=function(){var t,e,n=this,o=this.column.getColDef(),r=[],i=function(){r.forEach((function(t){return t()})),r.length=0},s=function(){var s=n.column.isResizable(),a=!n.gridOptionsService.is("suppressAutoSize")&&!o.suppressAutoSize;(s!==t||a!==e)&&(t=s,e=a,i(),function(){if(ro(n.eResize,t),t){var o=n.horizontalResizeService.addResizeBar({eResizeBar:n.eResize,onResizeStart:n.onResizeStart.bind(n),onResizing:n.onResizing.bind(n,!1),onResizeEnd:n.onResizing.bind(n,!0)});if(r.push(o),e){var i=n.gridOptionsService.is("skipHeaderOnAutoSize"),s=function(){n.columnModel.autoSizeColumn(n.column,i,"uiColumnResized")};n.eResize.addEventListener("dblclick",s);var a=new Zi(n.eResize);a.addEventListener(Zi.EVENT_DOUBLE_TAP,s),n.addDestroyFunc((function(){n.eResize.removeEventListener("dblclick",s),a.removeEventListener(Zi.EVENT_DOUBLE_TAP,s),a.destroy()}))}}}())};s(),this.addDestroyFunc(i),this.ctrl.addRefreshFunction(s)},e.prototype.onResizing=function(t,e){var n=this.normaliseResizeAmount(e),o=[{key:this.column,newWidth:this.resizeStartWidth+n}];this.columnModel.setColumnWidths(o,this.resizeWithShiftKey,t,"uiColumnResized"),t&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},e.prototype.onResizeStart=function(t){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=t,this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},e.prototype.normaliseResizeAmount=function(t){var e=t,n="left"!==this.pinned,o="right"===this.pinned;return this.gridOptionsService.is("enableRtl")?n&&(e*=-1):o&&(e*=-1),e},Pu([K("horizontalResizeService")],e.prototype,"horizontalResizeService",void 0),Pu([K("columnModel")],e.prototype,"columnModel",void 0),Pu([H],e.prototype,"postConstruct",null),e}(Ut),Ru=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Du=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},xu=function(t){function e(e){var n=t.call(this)||this;n.cbSelectAllVisible=!1,n.processingEventFromCheckbox=!1,n.column=e;var o=e.getColDef();return n.filteredOnly=!!(null==o?void 0:o.headerCheckboxSelectionFilteredOnly),n.currentPageOnly=!!(null==o?void 0:o.headerCheckboxSelectionCurrentPageOnly),n}return Ru(e,t),e.prototype.onSpaceKeyPressed=function(t){var e=this.cbSelectAll,n=this.gridOptionsService.getDocument();e.isDisplayed()&&!e.getGui().contains(n.activeElement)&&(t.preventDefault(),e.setValue(!e.getValue()))},e.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},e.prototype.setComp=function(t){this.headerCellCtrl=t,this.cbSelectAll=this.createManagedBean(new ei),this.cbSelectAll.addCssClass("ag-header-select-all"),ze(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,zt.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,ei.EVENT_CHANGED,this.onCbSelectAll.bind(this)),nn(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},e.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()},e.prototype.onModelChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},e.prototype.onSelectionChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},e.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var t=this.selectionService.getSelectAllState(this.filteredOnly,this.currentPageOnly);this.cbSelectAll.setValue(t),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},e.prototype.refreshSelectAllLabel=function(){if(this.cbSelectAllVisible){var t=this.localeService.getLocaleTextFunc(),e=this.cbSelectAll.getValue()?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),n=t("ariaRowSelectAll","Press Space to toggle all rows selection");this.headerCellCtrl.setAriaDescriptionProperty("selectAll",n+" ("+e+")"),this.cbSelectAll.setInputAriaLabel(n+" ("+e+")")}else this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(null);this.headerCellCtrl.refreshAriaDescription()},e.prototype.checkRightRowModelType=function(t){var e=this.rowModel.getType();return!("clientSide"!==e&&"serverSide"!==e)||(console.warn("AG Grid: "+t+" is only available if using 'clientSide' or 'serverSide' rowModelType, you are using "+e+"."),!1)},e.prototype.onCbSelectAll=function(){if(!this.processingEventFromCheckbox&&this.cbSelectAllVisible){var t=this.cbSelectAll.getValue(),e="uiSelectAll";this.currentPageOnly?e="uiSelectAllCurrentPage":this.filteredOnly&&(e="uiSelectAllFiltered");var n={source:e,justFiltered:this.filteredOnly,justCurrentPage:this.currentPageOnly};t?this.selectionService.selectAllRowNodes(n):this.selectionService.deselectAllRowNodes(n)}},e.prototype.isCheckboxSelection=function(){var t=this.column.getColDef().headerCheckboxSelection;"function"==typeof t&&(t=t({column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi,context:this.gridOptionsService.context}));return!!t&&this.checkRightRowModelType("headerCheckboxSelection")},Du([K("gridApi")],e.prototype,"gridApi",void 0),Du([K("columnApi")],e.prototype,"columnApi",void 0),Du([K("rowModel")],e.prototype,"rowModel",void 0),Du([K("selectionService")],e.prototype,"selectionService",void 0),e}(Ut),Mu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Au=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Lu=function(t){function e(e,n){var o=t.call(this,e,n)||this;return o.refreshFunctions=[],o.userHeaderClasses=new Set,o.ariaDescriptionProperties=new Map,o.column=e,o}return Mu(e,t),e.prototype.setComp=function(e,n,o,r){var i=this;t.prototype.setGui.call(this,n),this.comp=e,this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(r),this.addColumnHoverListener(),this.setupFilterCss(),this.setupColId(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.createManagedBean(new Tu(this.getPinned(),this.column,o,e,this)),this.createManagedBean(new Eu([this.column],n)),this.createManagedBean(new yu(this.column,n,this.beans)),this.createManagedBean(new Rr(n,{shouldStopEventPropagation:function(t){return i.shouldStopEventPropagation(t)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.column,ct.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},e.prototype.setupUserComp=function(){var t=this.lookupUserCompDetails();this.setCompDetails(t)},e.prototype.setCompDetails=function(t){this.userCompDetails=t,this.comp.setUserCompDetails(t)},e.prototype.lookupUserCompDetails=function(){var t=this.createParams(),e=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(e,t)},e.prototype.createParams=function(){var t=this,e=this.column.getColDef();return{column:this.column,displayName:this.displayName,enableSorting:e.sortable,enableMenu:this.menuEnabled,showColumnMenu:function(e){t.gridApi.showColumnMenuAfterButtonClick(t.column,e)},progressSort:function(e){t.sortController.progressSort(t.column,!!e,"uiColumnSorted")},setSort:function(e,n){t.sortController.setSortForColumn(t.column,e,!!n,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context,eGridHeader:this.getGui()}},e.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new xu(this.column)),this.selectAllFeature.setComp(this)},e.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},e.prototype.handleKeyDown=function(e){t.prototype.handleKeyDown.call(this,e),e.key===Wo.SPACE&&this.selectAllFeature.onSpaceKeyPressed(e),e.key===Wo.ENTER&&this.onEnterKeyPressed(e)},e.prototype.onEnterKeyPressed=function(t){var e=this.comp.getUserCompInstance();if(e)if(t.ctrlKey||t.metaKey)this.menuEnabled&&e.showMenu&&(t.preventDefault(),e.showMenu());else if(this.sortable){var n=t.shiftKey;this.sortController.progressSort(this.column,n,"uiColumnSorted")}},e.prototype.isMenuEnabled=function(){return this.menuEnabled},e.prototype.onFocusIn=function(t){if(!this.getGui().contains(t.relatedTarget)){var e=this.getRowIndex();this.focusService.setFocusedHeader(e,this.column)}this.setActiveHeader(!0)},e.prototype.onFocusOut=function(t){this.getGui().contains(t.relatedTarget)||this.setActiveHeader(!1)},e.prototype.setupTooltip=function(){var t=this,e={getColumn:function(){return t.column},getColDef:function(){return t.column.getColDef()},getGui:function(){return t.eGui},getLocation:function(){return"header"},getTooltipValue:function(){return t.column.getColDef().headerTooltip}},n=this.createManagedBean(new El(e,this.beans));n.setComp(this.comp),this.refreshFunctions.push((function(){return n.refreshToolTip()}))},e.prototype.setupClassesFromColDef=function(){var t=this,e=function(){var e=t.column.getColDef(),n=eu.getHeaderClassesFromColDef(e,t.gridOptionsService,t.column,null),o=t.userHeaderClasses;t.userHeaderClasses=new Set(n),n.forEach((function(e){o.has(e)?o.delete(e):t.comp.addOrRemoveCssClass(e,!0)})),o.forEach((function(e){return t.comp.addOrRemoveCssClass(e,!1)}))};this.refreshFunctions.push(e),e()},e.prototype.setDragSource=function(t){var e=this;if(this.dragSourceElement=t,this.removeDragSource(),t&&this.draggable){var n=!this.gridOptionsService.is("suppressDragLeaveHidesColumns");this.moveDragSource={type:Ai.HeaderCell,eElement:t,defaultIconName:n?As.ICON_HIDE:As.ICON_NOT_ALLOWED,getDragItem:function(){return e.createDragItem()},dragItemName:this.displayName,onDragStarted:function(){return e.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return e.column.setMoving(!1,"uiColumnMoved")},onGridEnter:function(t){var o;if(n){var r=(null===(o=null==t?void 0:t.columns)||void 0===o?void 0:o.filter((function(t){return!t.getColDef().lockVisible})))||[];e.columnModel.setColumnsVisible(r,!0,"uiColumnMoved")}},onGridExit:function(t){var o;if(n){var r=(null===(o=null==t?void 0:t.columns)||void 0===o?void 0:o.filter((function(t){return!t.getColDef().lockVisible})))||[];e.columnModel.setColumnsVisible(r,!1,"uiColumnMoved")}}},this.dragAndDropService.addDragSource(this.moveDragSource,!0)}},e.prototype.createDragItem=function(){var t={};return t[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:t}},e.prototype.removeDragSource=function(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)},e.prototype.onColDefChanged=function(){this.refresh()},e.prototype.updateState=function(){var t=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!t.suppressMenu,this.sortable=t.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},e.prototype.addRefreshFunction=function(t){this.refreshFunctions.push(t)},e.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach((function(t){return t()}))},e.prototype.refreshHeaderComp=function(){var t=this.lookupUserCompDetails();!!(null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==t.componentClass)&&this.attemptHeaderCompRefresh(t.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(t)},e.prototype.attemptHeaderCompRefresh=function(t){var e=this.comp.getUserCompInstance();return!!e&&(!!e.refresh&&e.refresh(t))},e.prototype.calculateDisplayName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)},e.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},e.prototype.workOutDraggable=function(){var t=this.column.getColDef();return!!(!this.gridOptionsService.is("suppressMovableColumns")&&!t.suppressMovable&&!t.lockPosition)||!!t.enableRowGroup||!!t.enablePivot},e.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},e.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},e.prototype.onColumnValueChanged=function(){this.checkDisplayName()},e.prototype.setupWidth=function(){var t=this,e=function(){var e=t.column.getActualWidth();t.comp.setWidth(e+"px")};this.addManagedListener(this.column,ct.EVENT_WIDTH_CHANGED,e),e()},e.prototype.setupMovingCss=function(){var t=this,e=function(){t.comp.addOrRemoveCssClass("ag-header-cell-moving",t.column.isMoving())};this.addManagedListener(this.column,ct.EVENT_MOVING_CHANGED,e),e()},e.prototype.setupMenuClass=function(){var t=this,e=function(){t.comp.addOrRemoveCssClass("ag-column-menu-visible",t.column.isMenuVisible())};this.addManagedListener(this.column,ct.EVENT_MENU_VISIBLE_CHANGED,e),e()},e.prototype.setupSortableClass=function(){var t=this,e=function(){t.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!t.sortable)};e(),this.addRefreshFunction(e),this.addManagedListener(this.eventService,ct.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))},e.prototype.setupWrapTextClass=function(){var t=this,e=function(){var e=!!t.column.getColDef().wrapHeaderText;t.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",e)};e(),this.addRefreshFunction(e)},e.prototype.onHeaderHeightChanged=function(){this.refreshSpanHeaderHeight()},e.prototype.refreshSpanHeaderHeight=function(){var t=this,e=t.eGui,n=t.column,o=t.comp,r=t.columnModel,i=t.gridOptionsService;if(n.isSpanHeaderHeight()){var s=this.getColumnGroupPaddingInfo(),a=s.numberOfParents,l=s.isSpanningTotal;if(o.addOrRemoveCssClass("ag-header-span-height",a>0),0!==a){o.addOrRemoveCssClass("ag-header-span-total",l);var c=i.is("pivotMode")?r.getPivotGroupHeaderHeight():r.getGroupHeaderHeight(),u=r.getColumnHeaderRowHeight(),d=a*c;e.style.setProperty("top",-d+"px"),e.style.setProperty("height",u+d+"px")}}},e.prototype.getColumnGroupPaddingInfo=function(){var t=this.column.getParent();if(!t||!t.isPadding())return{numberOfParents:0,isSpanningTotal:!1};for(var e=t.getPaddingLevel()+1,n=!0;t;){if(!t.isPadding()){n=!1;break}t=t.getParent()}return{numberOfParents:e,isSpanningTotal:n}},e.prototype.setupAutoHeight=function(t){var e,n=this,o=function(e){if(n.isAlive()){var r=lo(n.getGui()),i=r.paddingTop+r.paddingBottom+r.borderBottomWidth+r.borderTopWidth,s=t.offsetHeight+i;if(e<5){var a=n.beans.gridOptionsService.getDocument();if(!a||!a.contains(t)||0==s)return void n.beans.frameworkOverrides.setTimeout((function(){return o(e+1)}),0)}n.columnModel.setColumnHeaderHeight(n.column,s)}},r=!1,i=function(){var t=n.column.isSpanHeaderHeight(),e=n.column.isAutoHeaderHeight();if(t){if(a(),e){T((function(){return console.warn("AG Grid: The properties `spanHeaderHeight` and `autoHeaderHeight` cannot be used together in the same column.")}),"HeaderCellCtrl.spanHeaderHeightAndAutoHeaderHeight")}}else e&&!r&&s(),!e&&r&&a()},s=function(){r=!0,o(0),n.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),e=n.resizeObserverService.observeResize(t,(function(){return o(0)}))},a=function(){r=!1,e&&e(),n.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),e=void 0};i(),this.addDestroyFunc((function(){return a()})),this.addManagedListener(this.column,ct.EVENT_WIDTH_CHANGED,(function(){return r&&o(0)})),this.addManagedListener(this.eventService,ct.EVENT_SORT_CHANGED,(function(){r&&n.beans.frameworkOverrides.setTimeout((function(){return o(0)}))})),this.addRefreshFunction(i)},e.prototype.refreshAriaSort=function(){if(this.sortable){var t=this.localeService.getLocaleTextFunc(),e=this.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(Ke(e)),this.setAriaDescriptionProperty("sort",t("ariaSortableColumn","Press ENTER to sort."))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)},e.prototype.refreshAriaMenu=function(){if(this.menuEnabled){var t=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",t("ariaMenuColumn","Press CTRL ENTER to open column menu."))}else this.setAriaDescriptionProperty("menu",null)},e.prototype.setAriaDescriptionProperty=function(t,e){null!=e?this.ariaDescriptionProperties.set(t,e):this.ariaDescriptionProperties.delete(t)},e.prototype.refreshAriaDescription=function(){var t=Array.from(this.ariaDescriptionProperties.values());this.comp.setAriaDescription(t.length?t.join(" "):void 0)},e.prototype.refreshAria=function(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaDescription()},e.prototype.addColumnHoverListener=function(){var t=this,e=function(){if(t.gridOptionsService.is("columnHoverHighlight")){var e=t.columnHoverService.isHovered(t.column);t.comp.addOrRemoveCssClass("ag-column-hover",e)}};this.addManagedListener(this.eventService,zt.EVENT_COLUMN_HOVER_CHANGED,e),e()},e.prototype.setupFilterCss=function(){var t=this,e=function(){t.comp.addOrRemoveCssClass("ag-header-cell-filtered",t.column.isFilterActive())};this.addManagedListener(this.column,ct.EVENT_FILTER_ACTIVE_CHANGED,e),e()},e.prototype.setupColId=function(){this.comp.setColId(this.column.getColId())},e.prototype.addActiveHeaderMouseListeners=function(){var t=this,e=function(e){return t.setActiveHeader("mouseenter"===e.type)};this.addManagedListener(this.getGui(),"mouseenter",e),this.addManagedListener(this.getGui(),"mouseleave",e)},e.prototype.setActiveHeader=function(t){this.comp.addOrRemoveCssClass("ag-header-active",t)},Au([K("columnModel")],e.prototype,"columnModel",void 0),Au([K("columnHoverService")],e.prototype,"columnHoverService",void 0),Au([K("sortController")],e.prototype,"sortController",void 0),Au([K("menuFactory")],e.prototype,"menuFactory",void 0),Au([K("dragAndDropService")],e.prototype,"dragAndDropService",void 0),Au([K("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Au([K("gridApi")],e.prototype,"gridApi",void 0),Au([K("columnApi")],e.prototype,"columnApi",void 0),Au([$],e.prototype,"removeDragSource",null),e}(gu),Iu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Nu=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ku=function(t){function e(e,n,o,r){var i=t.call(this)||this;return i.eResize=n,i.comp=e,i.pinned=o,i.columnGroup=r,i}return Iu(e,t),e.prototype.postConstruct=function(){var t=this;if(this.columnGroup.isResizable()){var e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gridOptionsService.is("suppressAutoSize")){var n=this.gridOptionsService.is("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",(function(){var e=[];t.columnGroup.getDisplayedLeafColumns().forEach((function(t){t.getColDef().suppressAutoSize||e.push(t.getColId())})),e.length>0&&t.columnModel.autoSizeColumns({columns:e,skipHeader:n,stopAtGroup:t.columnGroup,source:"uiColumnResized"}),t.resizeLeafColumnsToFit("uiColumnResized")}))}}else this.comp.setResizableDisplayed(!1)},e.prototype.onResizeStart=function(t){var e=this;this.calculateInitialValues();var n=null;if(t&&(n=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),n){var o=n.getDisplayedLeafColumns();this.resizeTakeFromCols=o.filter((function(t){return t.isResizable()})),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach((function(t){return e.resizeTakeFromStartWidth+=t.getActualWidth()})),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach((function(t){return e.resizeTakeFromRatios.push(t.getActualWidth()/e.resizeTakeFromStartWidth)}))}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},e.prototype.onResizing=function(t,e,n){void 0===n&&(n="uiColumnResized");var o=this.normaliseDragChange(e),r=this.resizeStartWidth+o;this.resizeColumns(r,n,t)},e.prototype.resizeLeafColumnsToFit=function(t){var e=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup);this.calculateInitialValues(),e>this.resizeStartWidth&&this.resizeColumns(e,t,!0)},e.prototype.resizeColumns=function(t,e,n){void 0===n&&(n=!0);var o=[];if(o.push({columns:this.resizeCols,ratios:this.resizeRatios,width:t}),this.resizeTakeFromCols){var r=t-this.resizeStartWidth;o.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-r})}this.columnModel.resizeColumnSets({resizeSets:o,finished:n,source:e}),n&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},e.prototype.calculateInitialValues=function(){var t=this,e=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=e.filter((function(t){return t.isResizable()})),this.resizeStartWidth=0,this.resizeCols.forEach((function(e){return t.resizeStartWidth+=e.getActualWidth()})),this.resizeRatios=[],this.resizeCols.forEach((function(e){return t.resizeRatios.push(e.getActualWidth()/t.resizeStartWidth)}))},e.prototype.normaliseDragChange=function(t){var e=t;return this.gridOptionsService.is("enableRtl")?"left"!==this.pinned&&(e*=-1):"right"===this.pinned&&(e*=-1),e},Nu([K("horizontalResizeService")],e.prototype,"horizontalResizeService",void 0),Nu([K("autoWidthCalculator")],e.prototype,"autoWidthCalculator",void 0),Nu([K("columnModel")],e.prototype,"columnModel",void 0),Nu([H],e.prototype,"postConstruct",null),e}(Ut),Fu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Gu=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Bu=function(t){function e(e,n){var o=t.call(this)||this;return o.removeChildListenersFuncs=[],o.columnGroup=n,o.comp=e,o}return Fu(e,t),e.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,de.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},e.prototype.addListenersToChildrenColumns=function(){var t=this;this.removeListenersOnChildrenColumns();var e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach((function(n){n.addEventListener("widthChanged",e),n.addEventListener("visibleChanged",e),t.removeChildListenersFuncs.push((function(){n.removeEventListener("widthChanged",e),n.removeEventListener("visibleChanged",e)}))}))},e.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach((function(t){return t()})),this.removeChildListenersFuncs=[]},e.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},e.prototype.onWidthChanged=function(){var t=this.columnGroup.getActualWidth();this.comp.setWidth(t+"px"),this.comp.addOrRemoveCssClass("ag-hidden",0===t)},Gu([H],e.prototype,"postConstruct",null),e}(Ut),Uu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ju=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Vu=function(t){function e(e,n){var o=t.call(this,e,n)||this;return o.columnGroup=e,o}return Uu(e,t),e.prototype.setComp=function(e,n,o){t.prototype.setGui.call(this,n),this.comp=e,this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.columnGroup,"header"),this.addClasses(),this.addAttributes(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();var r=this.getParentRowCtrl().getPinned(),i=this.columnGroup.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new Eu(i,n)),this.createManagedBean(new yu(this.columnGroup,n,this.beans)),this.createManagedBean(new Bu(e,this.columnGroup)),this.groupResizeFeature=this.createManagedBean(new ku(e,o,r,this.columnGroup)),this.createManagedBean(new Rr(n,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},e.prototype.resizeLeafColumnsToFit=function(t){var e,n;null===(e=this.groupResizeFeature)||void 0===e||e.onResizeStart(!1),null===(n=this.groupResizeFeature)||void 0===n||n.resizeLeafColumnsToFit(t)},e.prototype.setupUserComp=function(){var t=this,e=this.displayName,n={displayName:this.displayName,columnGroup:this.columnGroup,setExpanded:function(e){t.columnModel.setColumnGroupOpened(t.columnGroup.getProvidedColumnGroup(),e,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context};if(!e){for(var o=this.columnGroup,r=o.getLeafColumns();o.getParent()&&o.getParent().getLeafColumns().length===r.length;)o=o.getParent();var i=o.getColGroupDef();i&&(e=i.headerName),e||(e=r?this.columnModel.getDisplayNameForColumn(r[0],"header",!0):"")}var s=this.userComponentFactory.getHeaderGroupCompDetails(n);this.comp.setUserCompDetails(s)},e.prototype.setupTooltip=function(){var t=this,e=this.columnGroup.getColGroupDef(),n={getColumn:function(){return t.columnGroup},getGui:function(){return t.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return e&&e.headerTooltip}};e&&(n.getColDef=function(){return e}),this.createManagedBean(new El(n,this.beans)).setComp(this.comp)},e.prototype.setupExpandable=function(){var t=this.columnGroup.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(t,dt.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(t,dt.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},e.prototype.refreshExpanded=function(){var t=this.columnGroup;this.expandable=t.isExpandable();var e=t.isExpanded();this.expandable?this.comp.setAriaExpanded(e?"true":"false"):this.comp.setAriaExpanded(void 0)},e.prototype.addAttributes=function(){this.comp.setColId(this.columnGroup.getUniqueId())},e.prototype.addClasses=function(){var t=this,e=this.columnGroup.getColGroupDef(),n=eu.getHeaderClassesFromColDef(e,this.gridOptionsService,null,this.columnGroup);this.columnGroup.isPadding()?(n.push("ag-header-group-cell-no-group"),this.columnGroup.getLeafColumns().every((function(t){return t.isSpanHeaderHeight()}))&&n.push("ag-header-span-height")):n.push("ag-header-group-cell-with-group");n.forEach((function(e){return t.comp.addOrRemoveCssClass(e,!0)}))},e.prototype.setupMovingCss=function(){var t=this,e=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),n=function(){return t.comp.addOrRemoveCssClass("ag-header-cell-moving",t.columnGroup.isMoving())};e.forEach((function(e){t.addManagedListener(e,ct.EVENT_MOVING_CHANGED,n)})),n()},e.prototype.onFocusIn=function(t){if(!this.eGui.contains(t.relatedTarget)){var e=this.getRowIndex();this.beans.focusService.setFocusedHeader(e,this.columnGroup)}},e.prototype.handleKeyDown=function(e){t.prototype.handleKeyDown.call(this,e);var n=this.getWrapperHasFocus();if(this.expandable&&n&&e.key===Wo.ENTER){var o=this.columnGroup,r=!o.isExpanded();this.columnModel.setColumnGroupOpened(o.getProvidedColumnGroup(),r,"uiColumnExpanded")}},e.prototype.setDragSource=function(t){var e=this;if(!this.isSuppressMoving()){var n=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),o=!this.gridOptionsService.is("suppressDragLeaveHidesColumns"),r={type:Ai.HeaderCell,eElement:t,defaultIconName:o?As.ICON_HIDE:As.ICON_NOT_ALLOWED,dragItemName:this.displayName,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:function(){return n.forEach((function(t){return t.setMoving(!0,"uiColumnDragged")}))},onDragStopped:function(){return n.forEach((function(t){return t.setMoving(!1,"uiColumnDragged")}))},onGridEnter:function(t){var n;if(o){var r=(null===(n=null==t?void 0:t.columns)||void 0===n?void 0:n.filter((function(t){return!t.getColDef().lockVisible})))||[];e.columnModel.setColumnsVisible(r,!0,"uiColumnMoved")}},onGridExit:function(t){var n;if(o){var r=(null===(n=null==t?void 0:t.columns)||void 0===n?void 0:n.filter((function(t){return!t.getColDef().lockVisible})))||[];e.columnModel.setColumnsVisible(r,!1,"uiColumnMoved")}}};this.dragAndDropService.addDragSource(r,!0),this.addDestroyFunc((function(){return e.dragAndDropService.removeDragSource(r)}))}},e.prototype.getDragItemForGroup=function(){var t=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),e={};t.forEach((function(t){return e[t.getId()]=t.isVisible()}));var n=[];return this.columnModel.getAllDisplayedColumns().forEach((function(e){t.indexOf(e)>=0&&(n.push(e),mt(t,e))})),t.forEach((function(t){return n.push(t)})),{columns:n,visibleState:e}},e.prototype.isSuppressMoving=function(){var t=!1;return this.columnGroup.getLeafColumns().forEach((function(e){(e.getColDef().suppressMovable||e.getColDef().lockPosition)&&(t=!0)})),t||this.gridOptionsService.is("suppressMovableColumns")},ju([K("columnModel")],e.prototype,"columnModel",void 0),ju([K("dragAndDropService")],e.prototype,"dragAndDropService",void 0),ju([K("gridApi")],e.prototype,"gridApi",void 0),ju([K("columnApi")],e.prototype,"columnApi",void 0),e}(gu),Wu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Hu=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},$u=0,zu=function(t){function e(e,n,o){var r=t.call(this)||this;return r.instanceId=$u++,r.headerCellCtrls={},r.rowIndex=e,r.pinned=n,r.type=o,r}return Wu(e,t),e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.setComp=function(t){this.comp=t,this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addEventListeners(),Tn()&&this.comp.setTransform("translateZ(0)"),t.setAriaRowIndex(this.rowIndex+1)},e.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,zt.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))},e.prototype.getHeaderCellCtrl=function(t){return u(this.headerCellCtrls).find((function(e){return e.getColumnGroupChild()===t}))},e.prototype.onDisplayedColumnsChanged=function(){this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()},e.prototype.getType=function(){return this.type},e.prototype.onColumnResized=function(){this.setWidth()},e.prototype.setWidth=function(){var t=this.getWidthForRow();this.comp.setWidth(t+"px")},e.prototype.getWidthForRow=function(){return this.gridOptionsService.isDomLayout("print")?null!=this.pinned?0:this.columnModel.getContainerWidth("right")+this.columnModel.getContainerWidth("left")+this.columnModel.getContainerWidth(null):this.columnModel.getContainerWidth(this.pinned)},e.prototype.onRowHeightChanged=function(){var t=this.columnModel.getHeaderRowCount(),e=[],n=0;this.columnModel.hasFloatingFilters()&&(t++,n=1);for(var o=this.columnModel.getColumnGroupHeaderRowHeight(),r=this.columnModel.getColumnHeaderRowHeight(),i=t-(1+n),s=0;s<i;s++)e.push(o);e.push(r);for(s=0;s<n;s++)e.push(this.columnModel.getFloatingFiltersHeight());var a=0;for(s=0;s<this.rowIndex;s++)a+=e[s];var l=e[this.rowIndex]+"px";this.comp.setTop(a+"px"),this.comp.setHeight(l)},e.prototype.getPinned=function(){return this.pinned},e.prototype.getRowIndex=function(){return this.rowIndex},e.prototype.onVirtualColumnsChanged=function(){var t=this,e=this.headerCellCtrls;this.headerCellCtrls={},this.getColumnsInViewport().forEach((function(n){if(!n.isEmptyGroup()){var o=n.getUniqueId(),r=e[o];if(delete e[o],r&&r.getColumnGroupChild()!=n&&(t.destroyBean(r),r=void 0),null==r)switch(t.type){case Wc.FLOATING_FILTER:r=t.createBean(new wu(n,t));break;case Wc.COLUMN_GROUP:r=t.createBean(new Vu(n,t));break;default:r=t.createBean(new Lu(n,t))}t.headerCellCtrls[o]=r}}));h(e,(function(e,n){var o;(o=n,!!t.focusService.isHeaderWrapperFocused(o)&&t.columnModel.isDisplayed(o.getColumnGroupChild()))?t.headerCellCtrls[e]=n:t.destroyBean(n)}));var n=C(this.headerCellCtrls);this.comp.setHeaderCtrls(n)},e.prototype.getColumnsInViewport=function(){return this.gridOptionsService.isDomLayout("print")?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},e.prototype.getColumnsInViewportPrintLayout=function(){var t=this;if(null!=this.pinned)return[];var e=[],n=this.getActualDepth();return["left",null,"right"].forEach((function(o){var r=t.columnModel.getVirtualHeaderGroupRow(o,n);e=e.concat(r)})),e},e.prototype.getActualDepth=function(){return this.type==Wc.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},e.prototype.getColumnsInViewportNormalLayout=function(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},e.prototype.focusHeader=function(t,e){var n=C(this.headerCellCtrls).find((function(e){return e.getColumnGroupChild()==t}));return!!n&&(n.focus(e),!0)},e.prototype.destroy=function(){var e=this;h(this.headerCellCtrls,(function(t,n){e.destroyBean(n)})),this.headerCellCtrls={},t.prototype.destroy.call(this)},Hu([K("columnModel")],e.prototype,"columnModel",void 0),Hu([K("focusService")],e.prototype,"focusService",void 0),e}(Ut),Ku=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Yu=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Zu=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},qu=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Zu(arguments[e]));return t},Xu=function(t){function e(e){var n=t.call(this)||this;return n.hidden=!1,n.groupsRowCtrls=[],n.pinned=e,n}return Ku(e,t),e.prototype.setComp=function(t,e){this.comp=t,this.eViewport=e,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,zt.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},e.prototype.setupDragAndDrop=function(t){var e=new Jc(this.pinned,t);this.createManagedBean(e)},e.prototype.refresh=function(t){var e=this;void 0===t&&(t=!1);var n,o,r=new rr,i=this.focusService.getFocusHeaderToUseAfterRefresh();!function(){var t=e.columnModel.getHeaderRowCount()-1;e.groupsRowCtrls=e.destroyBeans(e.groupsRowCtrls);for(var n=0;n<t;n++){var o=e.createBean(new zu(r.next(),e.pinned,Wc.COLUMN_GROUP));e.groupsRowCtrls.push(o)}}(),n=r.next(),((o=!(e.hidden||null!=e.columnsRowCtrl&&t&&e.columnsRowCtrl.getRowIndex()===n))||e.hidden)&&(e.columnsRowCtrl=e.destroyBean(e.columnsRowCtrl)),o&&(e.columnsRowCtrl=e.createBean(new zu(n,e.pinned,Wc.COLUMN))),function(){var n=function(){e.filtersRowCtrl=e.destroyBean(e.filtersRowCtrl)};if(e.columnModel.hasFloatingFilters()&&!e.hidden){var o=r.next();if(e.filtersRowCtrl){var i=e.filtersRowCtrl.getRowIndex()!==o;t&&!i||n()}e.filtersRowCtrl||(e.filtersRowCtrl=e.createBean(new zu(o,e.pinned,Wc.FLOATING_FILTER)))}else n()}();var s=this.getAllCtrls();this.comp.setCtrls(s),this.restoreFocusOnHeader(i)},e.prototype.restoreFocusOnHeader=function(t){null!=t&&t.column.getPinned()==this.pinned&&this.focusService.focusHeaderPosition({headerPosition:t})},e.prototype.getAllCtrls=function(){var t=qu(this.groupsRowCtrls);return this.columnsRowCtrl&&t.push(this.columnsRowCtrl),this.filtersRowCtrl&&t.push(this.filtersRowCtrl),t},e.prototype.onGridColumnsChanged=function(){this.refresh(!0)},e.prototype.setupCenterWidth=function(){var t=this;null==this.pinned&&this.createManagedBean(new uc((function(e){return t.comp.setCenterWidth(e+"px")}),!0))},e.prototype.setHorizontalScroll=function(t){this.comp.setViewportScrollLeft(t)},e.prototype.setupPinnedWidth=function(){var t=this;if(null!=this.pinned){var e="left"===this.pinned,n="right"===this.pinned;this.hidden=!0;var o=function(){var o=e?t.pinnedWidthService.getPinnedLeftWidth():t.pinnedWidthService.getPinnedRightWidth();if(null!=o){var r=0==o,i=t.hidden!==r,s=t.gridOptionsService.is("enableRtl"),a=t.gridOptionsService.getScrollbarWidth(),l=t.scrollVisibleService.isVerticalScrollShowing()&&(s&&e||!s&&n)?o+a:o;t.comp.setPinnedContainerWidth(l+"px"),t.comp.setDisplayed(!r),i&&(t.hidden=r,t.refresh())}};this.addManagedListener(this.eventService,zt.EVENT_LEFT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,zt.EVENT_RIGHT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,zt.EVENT_SCROLL_VISIBILITY_CHANGED,o),this.addManagedListener(this.eventService,zt.EVENT_SCROLLBAR_WIDTH_CHANGED,o)}},e.prototype.getHeaderCtrlForColumn=function(t){if(t instanceof ct){if(!this.columnsRowCtrl)return;return this.columnsRowCtrl.getHeaderCellCtrl(t)}if(0!==this.groupsRowCtrls.length)for(var e=0;e<this.groupsRowCtrls.length;e++){var n=this.groupsRowCtrls[e].getHeaderCellCtrl(t);if(n)return n}},e.prototype.getHtmlElementForColumnHeader=function(t){var e=this.getHeaderCtrlForColumn(t);return e?e.getGui():null},e.prototype.getRowType=function(t){var e=this.getAllCtrls()[t];return e?e.getType():void 0},e.prototype.focusHeader=function(t,e,n){var o=this.getAllCtrls()[t];return!!o&&o.focusHeader(e,n)},e.prototype.getRowCount=function(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)},e.prototype.destroy=function(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),t.prototype.destroy.call(this)},Yu([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Yu([K("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),Yu([K("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),Yu([K("columnModel")],e.prototype,"columnModel",void 0),Yu([K("focusService")],e.prototype,"focusService",void 0),e}(Ut),Ju=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Qu=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},td=function(t){function e(e){var n=t.call(this)||this;return n.headerRowComps={},n.rowCompsList=[],n.pinned=e,n}return Ju(e,t),e.prototype.init=function(){var t=this;this.selectAndSetTemplate();var e={setDisplayed:function(e){return t.setDisplayed(e)},setCtrls:function(e){return t.setCtrls(e)},setCenterWidth:function(e){return t.eCenterContainer.style.width=e},setViewportScrollLeft:function(e){return t.getGui().scrollLeft=e},setPinnedContainerWidth:function(e){var n=t.getGui();n.style.width=e,n.style.maxWidth=e,n.style.minWidth=e}};this.createManagedBean(new Xu(this.pinned)).setComp(e,this.getGui())},e.prototype.selectAndSetTemplate=function(){var t="left"==this.pinned,n="right"==this.pinned,o=t?e.PINNED_LEFT_TEMPLATE:n?e.PINNED_RIGHT_TEMPLATE:e.CENTER_TEMPLATE;this.setTemplate(o),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},e.prototype.destroyRowComps=function(){this.setCtrls([])},e.prototype.destroyRowComp=function(t){this.destroyBean(t),this.eRowContainer.removeChild(t.getGui())},e.prototype.setCtrls=function(t){var e,n=this,o=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];t.forEach((function(t){var r=t.getInstanceId(),i=o[r];delete o[r];var s=i||n.createBean(new du(t));n.headerRowComps[r]=s,n.rowCompsList.push(s),function(t){var o=t.getGui();o.parentElement!=n.eRowContainer&&n.eRowContainer.appendChild(o),e&&So(n.eRowContainer,o,e),e=o}(s)})),C(o).forEach((function(t){return n.destroyRowComp(t)}))},e.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"></div>',e.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"></div>',e.CENTER_TEMPLATE='<div class="ag-header-viewport" role="presentation">\n            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>\n        </div>',Qu([_r("eCenterContainer")],e.prototype,"eCenterContainer",void 0),Qu([H],e.prototype,"init",null),Qu([$],e.prototype,"destroyRowComps",null),e}(gr),ed=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),nd=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.UP=0]="UP",t[t.DOWN=1]="DOWN",t[t.LEFT=2]="LEFT",t[t.RIGHT=3]="RIGHT"}(uu||(uu={}));var od=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ed(e,t),e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady((function(e){t.gridBodyCon=e.gridBodyCtrl}))},e.prototype.getHeaderRowCount=function(){var t=this.ctrlsService.getHeaderRowContainerCtrl();return t?t.getRowCount():0},e.prototype.navigateVertically=function(t,e,n){if(e||(e=this.focusService.getFocusedHeader()),!e)return!1;var o=e.headerRowIndex,r=e.column,i=this.getHeaderRowCount(),s=t===uu.UP?this.headerPositionUtils.getColumnVisibleParent(r,o):this.headerPositionUtils.getColumnVisibleChild(r,o),a=s.nextRow,l=s.nextFocusColumn,c=!1;return a<0&&(a=0,l=r,c=!0),a>=i&&(a=-1),!(!c&&!l)&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a,column:l},allowUserOverride:!0,event:n})},e.prototype.navigateHorizontally=function(t,e,n){void 0===e&&(e=!1);var o,r,i=this.focusService.getFocusedHeader();return t===uu.LEFT!==this.gridOptionsService.is("enableRtl")?(r="Before",o=this.headerPositionUtils.findHeader(i,r)):(r="After",o=this.headerPositionUtils.findHeader(i,r)),o||!e?this.focusService.focusHeaderPosition({headerPosition:o,direction:r,fromTab:e,allowUserOverride:!0,event:n}):this.focusNextHeaderRow(i,r,n)},e.prototype.focusNextHeaderRow=function(t,e,n){var o,r=t.headerRowIndex,i=null;return"Before"===e?r>0&&(o=r-1,i=this.headerPositionUtils.findColAtEdgeForHeaderRow(o,"end")):(o=r+1,i=this.headerPositionUtils.findColAtEdgeForHeaderRow(o,"start")),this.focusService.focusHeaderPosition({headerPosition:i,direction:e,fromTab:!0,allowUserOverride:!0,event:n})},e.prototype.scrollToColumn=function(t,e){if(void 0===e&&(e="After"),!t.getPinned()){var n;if(t instanceof de){var o=t.getDisplayedLeafColumns();n="Before"===e?ft(o):o[0]}else n=t;this.gridBodyCon.getScrollFeature().ensureColumnVisible(n)}},nd([K("focusService")],e.prototype,"focusService",void 0),nd([K("headerPositionUtils")],e.prototype,"headerPositionUtils",void 0),nd([K("ctrlsService")],e.prototype,"ctrlsService",void 0),nd([H],e.prototype,"postConstruct",null),e=nd([z("headerNavigationService")],e)}(Ut),rd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),id=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},sd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return rd(e,t),e.prototype.setComp=function(t,e,n){this.comp=t,this.eGui=e,this.createManagedBean(new Rr(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)},e.prototype.setupHeaderHeight=function(){var t=this.setHeaderHeight.bind(this);t(),this.addManagedPropertyListener("headerHeight",t),this.addManagedPropertyListener("pivotHeaderHeight",t),this.addManagedPropertyListener("groupHeaderHeight",t),this.addManagedPropertyListener("pivotGroupHeaderHeight",t),this.addManagedPropertyListener("floatingFiltersHeight",t),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,t),this.addManagedListener(this.eventService,zt.EVENT_GRID_STYLES_CHANGED,t)},e.prototype.getHeaderHeight=function(){return this.headerHeight},e.prototype.setHeaderHeight=function(){var t,e=this.columnModel,n=0,o=e.getHeaderRowCount();e.hasFloatingFilters()&&(o++,n=1);var r=this.columnModel.getColumnGroupHeaderRowHeight(),i=this.columnModel.getColumnHeaderRowHeight(),s=o-(1+n);if(t=n*e.getFloatingFiltersHeight(),t+=s*r,t+=i,this.headerHeight!==t){this.headerHeight=t;var a=t+1+"px";this.comp.setHeightAndMinHeight(a),this.eventService.dispatchEvent({type:zt.EVENT_HEADER_HEIGHT_CHANGED})}},e.prototype.onPivotModeChanged=function(){var t=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",t),this.comp.addOrRemoveCssClass("ag-pivot-off",!t)},e.prototype.onDisplayedColumnsChanged=function(){var t=this.columnModel.getAllDisplayedColumns().some((function(t){return t.isSpanHeaderHeight()}));this.comp.addOrRemoveCssClass("ag-header-allow-overflow",t)},e.prototype.onTabKeyDown=function(t){var e=this.gridOptionsService.is("enableRtl"),n=t.shiftKey!==e?uu.LEFT:uu.RIGHT;(this.headerNavigationService.navigateHorizontally(n,!0,t)||this.focusService.focusNextGridCoreContainer(t.shiftKey))&&t.preventDefault()},e.prototype.handleKeyDown=function(t){var e=null;switch(t.key){case Wo.LEFT:e=uu.LEFT;case Wo.RIGHT:r(e)||(e=uu.RIGHT),this.headerNavigationService.navigateHorizontally(e,!1,t);break;case Wo.UP:e=uu.UP;case Wo.DOWN:r(e)||(e=uu.DOWN),this.headerNavigationService.navigateVertically(e,null,t)&&t.preventDefault();break;default:return}},e.prototype.onFocusOut=function(t){var e=this.gridOptionsService.getDocument(),n=t.relatedTarget;!n&&this.eGui.contains(e.activeElement)||this.eGui.contains(n)||this.focusService.clearFocusedHeader()},id([K("headerNavigationService")],e.prototype,"headerNavigationService",void 0),id([K("focusService")],e.prototype,"focusService",void 0),id([K("columnModel")],e.prototype,"columnModel",void 0),id([K("ctrlsService")],e.prototype,"ctrlsService",void 0),e}(Ut),ad=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ld=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},cd=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return ad(e,t),e.prototype.postConstruct=function(){var t=this,e={addOrRemoveCssClass:function(e,n){return t.addOrRemoveCssClass(e,n)},setHeightAndMinHeight:function(e){t.getGui().style.height=e,t.getGui().style.minHeight=e}};this.createManagedBean(new sd).setComp(e,this.getGui(),this.getFocusableElement());var n=function(e){t.createManagedBean(e),t.appendChild(e)};n(new td("left")),n(new td(null)),n(new td("right"))},e.TEMPLATE='<div class="ag-header" role="presentation"/>',ld([H],e.prototype,"postConstruct",null),e}(gr),ud=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),dd=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},pd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ud(e,t),e.prototype.addResizeBar=function(t){var e=this,n={dragStartPixels:t.dragStartPixels||0,eElement:t.eResizeBar,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this,t),onDragging:this.onDragging.bind(this,t)};this.dragService.addDragSource(n,!0);return function(){return e.dragService.removeDragSource(n)}},e.prototype.onDragStart=function(t,e){this.dragStartX=e.clientX,this.setResizeIcons();var n=e instanceof MouseEvent&&!0===e.shiftKey;t.onResizeStart(n)},e.prototype.setResizeIcons=function(){var t=this.ctrlsService.getGridCtrl();t.setResizeCursor(!0),t.disableUserSelect(!0)},e.prototype.onDragStop=function(t,e){t.onResizeEnd(this.resizeAmount),this.resetIcons()},e.prototype.resetIcons=function(){var t=this.ctrlsService.getGridCtrl();t.setResizeCursor(!1),t.disableUserSelect(!1)},e.prototype.onDragging=function(t,e){this.resizeAmount=e.clientX-this.dragStartX,t.onResizing(this.resizeAmount)},dd([K("dragService")],e.prototype,"dragService",void 0),dd([K("ctrlsService")],e.prototype,"ctrlsService",void 0),e=dd([z("horizontalResizeService")],e)}(Ut),hd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),fd=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},gd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return hd(e,t),e.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},e.prototype.showMenuAfterMouseEvent=function(t,e){var n=this;this.showPopup(t,(function(o){n.popupService.positionPopupUnderMouseEvent({column:t,type:"columnMenu",mouseEvent:e,ePopup:o})}),"columnMenu",e.target)},e.prototype.showMenuAfterButtonClick=function(t,e,n){var o=this;this.showPopup(t,(function(r){o.popupService.positionPopupByComponent({type:n,eventSource:e,ePopup:r,keepWithinBounds:!0,position:"under",column:t})}),n,e)},e.prototype.showPopup=function(t,e,n,o){var r=this,i=this.filterManager.getOrCreateFilterWrapper(t,"COLUMN_MENU");if(!i)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var s,a=document.createElement("div");ze(a,"presentation"),a.classList.add("ag-menu"),this.tabListener=this.addManagedListener(a,"keydown",(function(t){return r.trapFocusWithin(t,a)})),i.guiPromise.then((function(t){return a.appendChild(t)}));var l=o||this.ctrlsService.getGridBodyCtrl().getGui(),c=this.localeService.getLocaleTextFunc(),u=this.popupService.addPopup({modal:!0,eChild:a,closeOnEsc:!0,closedCallback:function(e){t.setMenuVisible(!1,"contextMenu");var n,s=e instanceof KeyboardEvent;if(r.tabListener&&(r.tabListener=r.tabListener()),s&&o&&vo(o)){var a=r.focusService.findTabbableParent(o);a&&a.focus()}null===(n=i.filterPromise)||void 0===n||n.then((function(t){var e;return null===(e=null==t?void 0:t.afterGuiDetached)||void 0===e?void 0:e.call(t)}))},positionCallback:function(){return e(a)},anchorToElement:l,ariaLabel:c("ariaLabelColumnMenu","Column Menu")});u&&(this.hidePopup=s=u.hideFunc),i.filterPromise.then((function(t){e(a),t.afterGuiAttached&&t.afterGuiAttached({container:n,hidePopup:s})})),t.setMenuVisible(!0,"contextMenu")},e.prototype.trapFocusWithin=function(t,e){t.key!==Wo.TAB||t.defaultPrevented||this.focusService.findNextFocusableElement(e,!1,t.shiftKey)||(t.preventDefault(),this.focusService.focusInto(e,t.shiftKey))},e.prototype.isMenuEnabled=function(t){return t.isFilterAllowed()&&t.getMenuTabs(["filterMenuTab"]).includes("filterMenuTab")},fd([K("filterManager")],e.prototype,"filterManager",void 0),fd([K("popupService")],e.prototype,"popupService",void 0),fd([K("focusService")],e.prototype,"focusService",void 0),fd([K("ctrlsService")],e.prototype,"ctrlsService",void 0),e=fd([z("menuFactory")],e)}(Ut),_d=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),md=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},yd=function(t){function e(n){var o=t.call(this,e.getTemplate(n.cssClass))||this;return o.items=[],o.tabbedItemScrollMap=new Map,o.params=n,n.items&&n.items.forEach((function(t){return o.addItem(t)})),o}return _d(e,t),e.prototype.postConstruct=function(){var t=this;this.createManagedBean(new Rr(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)})),this.addDestroyFunc((function(){var e,n,o;return null===(o=null===(n=null===(e=t.activeItem)||void 0===e?void 0:e.tabbedItem)||void 0===n?void 0:n.afterDetachedCallback)||void 0===o?void 0:o.call(n)}))},e.getTemplate=function(t){return'<div class="ag-tabs '+t+'">\n            <div ref="eHeader" role="tablist" class="ag-tabs-header '+(t?t+"-header":"")+'"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body '+(t?t+"-body":"")+'"></div>\n        </div>'},e.prototype.handleKeyDown=function(t){var e=this.gridOptionsService.getDocument();switch(t.key){case Wo.RIGHT:case Wo.LEFT:if(!this.eHeader.contains(e.activeElement))return;var n=t.key===Wo.RIGHT,o=this.gridOptionsService.is("enableRtl"),r=this.items.indexOf(this.activeItem),i=n!==o?Math.min(r+1,this.items.length-1):Math.max(r-1,0);if(r===i)return;t.preventDefault();var s=this.items[i];this.showItemWrapper(s),s.eHeaderButton.focus();break;case Wo.UP:case Wo.DOWN:t.stopPropagation()}},e.prototype.onTabKeyDown=function(t){if(!t.defaultPrevented){var e=this,n=e.focusService,o=e.eHeader,r=e.eBody,i=e.activeItem,s=this.gridOptionsService.getDocument().activeElement,a=t.target;if(t.preventDefault(),o.contains(s))n.focusInto(r,t.shiftKey);else{var l=null;n.isTargetUnderManagedComponent(r,a)&&(t.shiftKey&&(l=this.focusService.findFocusableElementBeforeTabGuard(r,a)),l||(l=i.eHeaderButton)),!l&&r.contains(s)&&((l=n.findNextFocusableElement(r,!1,t.shiftKey))||(l=i.eHeaderButton)),l&&l.focus()}}},e.prototype.setAfterAttachedParams=function(t){this.afterAttachedParams=t},e.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},e.prototype.addItem=function(t){var e=document.createElement("span");ze(e,"tab"),e.setAttribute("tabIndex","-1"),e.appendChild(t.title),e.classList.add("ag-tab"),this.eHeader.appendChild(e),qe(e,t.titleLabel);var n={tabbedItem:t,eHeaderButton:e};this.items.push(n),e.addEventListener("click",this.showItemWrapper.bind(this,n))},e.prototype.showItem=function(t){var e=this.items.find((function(e){return e.tabbedItem===t}));e&&this.showItemWrapper(e)},e.prototype.showItemWrapper=function(t){var e,n,o=this,r=t.tabbedItem,i=t.eHeaderButton;this.params.onItemClicked&&this.params.onItemClicked({item:r}),this.activeItem!==t?(this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),mo(this.eBody),r.bodyPromise.then((function(t){o.eBody.appendChild(t);var e=!o.focusService.isKeyboardMode();if(o.focusService.focusInto(o.eBody,!1,e),r.afterAttachedCallback&&r.afterAttachedCallback(o.afterAttachedParams),o.params.keepScrollPosition){var n=r.getScrollableContainer&&r.getScrollableContainer()||t;o.lastScrollListener=o.addManagedListener(n,"scroll",(function(){o.tabbedItemScrollMap.set(r.name,n.scrollTop)}));var i=o.tabbedItemScrollMap.get(r.name);void 0!==i&&setTimeout((function(){n.scrollTop=i}),0)}})),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),null===(n=(e=this.activeItem.tabbedItem).afterDetachedCallback)||void 0===n||n.call(e)),i.classList.add("ag-tab-selected"),this.activeItem=t):G(this.params.onActiveItemClicked)},md([K("focusService")],e.prototype,"focusService",void 0),md([_r("eHeader")],e.prototype,"eHeader",void 0),md([_r("eBody")],e.prototype,"eBody",void 0),md([H],e.prototype,"postConstruct",null),e}(gr);var vd,Cd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ed=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},bd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.polyfillFunctions=[],e}return Cd(e,t),e.prototype.observeResize=function(t,e){var n,o,r,i,s,a=this,l=this.gridOptionsService.getDocument().defaultView||window,c=this.gridOptionsService.is("suppressBrowserResizeObserver");return!!l.ResizeObserver&&!c?((n=new l.ResizeObserver(e)).observe(t),function(){return n.disconnect()}):(o=bo(t),r=Eo(t),i=!0,(s=function(){if(i){var n=bo(t),l=Eo(t);(n!==o||l!==r)&&(o=n,r=l,e()),a.doNextPolyfillTurn(s)}})(),function(){return i=!1})},e.prototype.doNextPolyfillTurn=function(t){this.polyfillFunctions.push(t),this.schedulePolyfill()},e.prototype.schedulePolyfill=function(){var t=this;if(!this.polyfillScheduled){this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout((function(){var e=t.polyfillFunctions;t.polyfillScheduled=!1,t.polyfillFunctions=[],e.forEach((function(t){return t()}))}),50)}},e=Ed([z("resizeObserverService")],e)}(Ut),Sd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),wd=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Od=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.createTasksP1={list:[],sorted:!1},e.createTasksP2={list:[],sorted:!1},e.destroyTasks=[],e.ticking=!1,e.scrollGoingDown=!0,e.lastPage=0,e.lastScrollTop=0,e.taskCount=0,e.cancelledTasks=new Set,e}return Sd(e,t),e.prototype.setScrollTop=function(t){var e=this.gridOptionsService.is("pagination");if(this.scrollGoingDown=t>=this.lastScrollTop,e&&0===t){var n=this.paginationProxy.getCurrentPage();n!==this.lastPage&&(this.lastPage=n,this.scrollGoingDown=!0)}this.lastScrollTop=t},e.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsService.is("suppressAnimationFrame")},e.prototype.isOn=function(){return this.useAnimationFrame},e.prototype.verifyAnimationFrameOn=function(t){!1===this.useAnimationFrame&&console.warn("AG Grid: AnimationFrameService."+t+" called but animation frames are off")},e.prototype.createTask=function(t,e,n){this.verifyAnimationFrameOn(n);var o={task:t,index:e,createOrder:++this.taskCount};this.addTaskToList(this[n],o),this.schedule()},e.prototype.cancelTask=function(t){this.cancelledTasks.add(t)},e.prototype.addTaskToList=function(t,e){t.list.push(e),t.sorted=!1},e.prototype.sortTaskList=function(t){if(!t.sorted){var e=this.scrollGoingDown?1:-1;t.list.sort((function(t,n){return t.index!==n.index?e*(n.index-t.index):n.createOrder-t.createOrder})),t.sorted=!0}},e.prototype.addDestroyTask=function(t){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(t),this.schedule()},e.prototype.executeFrame=function(t){this.verifyAnimationFrameOn("executeFrame");for(var e=this.createTasksP1,n=e.list,o=this.createTasksP2,r=o.list,i=this.destroyTasks,s=(new Date).getTime(),a=(new Date).getTime()-s,l=t<=0,c=this.ctrlsService.getGridBodyCtrl();l||a<t;){if(!c.getScrollFeature().scrollGridIfNeeded()){var u=void 0;if(n.length)this.sortTaskList(e),u=n.pop().task;else if(r.length)this.sortTaskList(o),u=r.pop().task;else{if(!i.length){this.cancelledTasks.clear();break}u=i.pop()}this.cancelledTasks.has(u)||u()}a=(new Date).getTime()-s}n.length||r.length||i.length?this.requestFrame():this.stopTicking()},e.prototype.stopTicking=function(){this.ticking=!1},e.prototype.flushAllFrames=function(){this.useAnimationFrame&&this.executeFrame(-1)},e.prototype.schedule=function(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))},e.prototype.requestFrame=function(){var t=this.executeFrame.bind(this,60),e=this.gridOptionsService.getDocument().defaultView||window;e.requestAnimationFrame?e.requestAnimationFrame(t):e.webkitRequestAnimationFrame?e.webkitRequestAnimationFrame(t):e.setTimeout(t,0)},e.prototype.isQueueEmpty=function(){return!this.ticking},e.prototype.debounce=function(t){var e=this,n=!1;return function(){e.isOn()?n||(n=!0,e.addDestroyTask((function(){n=!1,t()}))):e.getFrameworkOverrides().setTimeout(t,0)}},wd([K("ctrlsService")],e.prototype,"ctrlsService",void 0),wd([K("paginationProxy")],e.prototype,"paginationProxy",void 0),wd([H],e.prototype,"init",null),e=wd([z("animationFrameService")],e)}(Ut),Pd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Td=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Rd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Pd(e,t),e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady((function(e){t.centerRowContainerCtrl=e.centerRowContainerCtrl}))},e.prototype.getPreferredWidthForColumn=function(t,e){var n=this.getHeaderCellForColumn(t);if(!n)return-1;var o=this.rowRenderer.getAllCellsForColumn(t);return e||o.push(n),this.addElementsToContainerAndGetWidth(o)},e.prototype.getPreferredWidthForColumnGroup=function(t){var e=this.getHeaderCellForColumn(t);return e?this.addElementsToContainerAndGetWidth([e]):-1},e.prototype.addElementsToContainerAndGetWidth=function(t){var e=this,n=document.createElement("form");n.style.position="fixed";var o=this.centerRowContainerCtrl.getContainerElement();o.appendChild(n),t.forEach((function(t){return e.cloneItemIntoDummy(t,n)}));var r=n.offsetWidth;return o.removeChild(n),r+this.getAutoSizePadding()},e.prototype.getAutoSizePadding=function(){var t=this.gridOptionsService.getNum("autoSizePadding");return null!=t&&t>=0?t:20},e.prototype.getHeaderCellForColumn=function(t){var e=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach((function(n){var o=n.getHtmlElementForColumnHeader(t);null!=o&&(e=o)})),e},e.prototype.cloneItemIntoDummy=function(t,e){var n=t.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";var o=document.createElement("div"),r=o.classList;["ag-header-cell","ag-header-group-cell"].some((function(t){return n.classList.contains(t)}))?(r.add("ag-header","ag-header-row"),o.style.position="static"):r.add("ag-row");for(var i=t.parentElement;i;){if(["ag-header-row","ag-row"].some((function(t){return i.classList.contains(t)}))){for(var s=0;s<i.classList.length;s++){var a=i.classList[s];"ag-row-position-absolute"!=a&&r.add(a)}break}i=i.parentElement}o.appendChild(n),e.appendChild(o)},Td([K("rowRenderer")],e.prototype,"rowRenderer",void 0),Td([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Td([K("rowCssClassCalculator")],e.prototype,"rowCssClassCalculator",void 0),Td([H],e.prototype,"postConstruct",null),e=Td([z("autoWidthCalculator")],e)}(Ut),Dd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),xd=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Md=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ad=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Ld=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ad(arguments[e]));return t},Id=function(t){function e(e,n){var o=t.call(this)||this;return o.createRowCon=e,o.destroyRowCtrls=n,o.stickyRowCtrls=[],o.containerHeight=0,o}return Dd(e,t),e.prototype.postConstruct=function(){var t=this;this.isClientSide="clientSide"===this.rowModel.getType(),this.ctrlsService.whenReady((function(e){t.gridBodyCtrl=e.gridBodyCtrl}))},e.prototype.getStickyRowCtrls=function(){return this.stickyRowCtrls},e.prototype.checkStickyRows=function(){var t=this,e=0;if(this.gridOptionsService.is("groupRowsSticky")){for(var n=[],o=this.rowRenderer.getFirstVisibleVerticalPixel(),r=function(r){var i,s,a,l;if(n.push(r),t.isClientSide){for(var c=r;c.expanded;)if(c.master)c=c.detailNode;else if(c.childrenAfterSort){if(0===c.childrenAfterSort.length)break;c=ft(c.childrenAfterSort)}l=c.rowTop+c.rowHeight}else{var u=null===(i=r.childStore)||void 0===i?void 0:i.getStoreBounds();l=(null!==(s=null==u?void 0:u.heightPx)&&void 0!==s?s:0)+(null!==(a=null==u?void 0:u.topPx)&&void 0!==a?a:0)}var d=o+e+r.rowHeight;r.stickyRowTop=l<d?e+(l-d):e,e=0,n.forEach((function(t){var n=t.stickyRowTop+t.rowHeight;e<n&&(e=n)}))};;){var i=o+e,s=this.rowModel.getRowIndexAtPixel(i),a=this.rowModel.getRow(s);if(null==a)break;if(a.level<0)break;for(var l=[],c=a.parent;c.level>=0;)l.push(c),c=c.parent;var u=l.reverse().find((function(t){return n.indexOf(t)<0&&t.displayed}));if(u)r(u);else{if(!(a.isExpandable()&&a.expanded&&a.rowTop<i))break;r(a)}}this.refreshNodesAndContainerHeight(n,e)}else this.refreshNodesAndContainerHeight([],e)},e.prototype.refreshStickyNode=function(t){for(var e=[],n=0;n<this.stickyRowCtrls.length;n++){var o=this.stickyRowCtrls[n].getRowNode();o!==t&&e.push(o)}this.refreshNodesAndContainerHeight(e,this.containerHeight),this.checkStickyRows()},e.prototype.refreshNodesAndContainerHeight=function(t,e){var n,o,r,i=this,s=this.stickyRowCtrls.filter((function(e){return-1===t.indexOf(e.getRowNode())})),a=t.filter((function(t){return-1===i.stickyRowCtrls.findIndex((function(e){return e.getRowNode()===t}))})),l={};s.forEach((function(t){l[t.getRowNode().id]=t,i.stickyRowCtrls=i.stickyRowCtrls.filter((function(e){return e!==t}))}));try{for(var c=Md(Object.values(l)),u=c.next();!u.done;u=c.next()){u.value.getRowNode().sticky=!1}}catch(t){n={error:t}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}this.destroyRowCtrls(l,!1);var d=a.map((function(t){return t.sticky=!0,i.createRowCon(t,!1,!1)}));(r=this.stickyRowCtrls).push.apply(r,Ld(d)),this.stickyRowCtrls.forEach((function(t){return t.setRowTop(t.getRowNode().stickyRowTop)})),this.stickyRowCtrls.sort((function(t,e){return e.getRowNode().rowIndex-t.getRowNode().rowIndex})),this.containerHeight!==e&&(this.containerHeight=e,this.gridBodyCtrl.setStickyTopHeight(e))},xd([K("rowModel")],e.prototype,"rowModel",void 0),xd([K("rowRenderer")],e.prototype,"rowRenderer",void 0),xd([K("ctrlsService")],e.prototype,"ctrlsService",void 0),xd([H],e.prototype,"postConstruct",null),e}(Ut),Nd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),kd=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Fd=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Gd=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Fd(arguments[e]));return t},Bd=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ud=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.destroyFuncsForColumnListeners=[],e.rowCtrlsByRowIndex={},e.zombieRowCtrls={},e.allRowCtrls=[],e.topRowCtrls=[],e.bottomRowCtrls=[],e.refreshInProgress=!1,e.dataFirstRenderedFired=!1,e}return Nd(e,t),e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady((function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl(),t.initialise()}))},e.prototype.initialise=function(){if(this.addManagedListener(this.eventService,zt.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_BODY_HEIGHT_CHANGED,this.redrawAfterScroll.bind(this)),this.addManagedPropertyListener("domLayout",this.onDomLayoutChanged.bind(this)),this.addManagedPropertyListener("rowClass",this.redrawRows.bind(this)),this.gridOptionsService.is("groupRowsSticky")){var t=this.rowModel.getType();"clientSide"!=t&&"serverSide"!=t?T((function(){return console.warn("AG Grid: The feature Sticky Row Groups only works with the Client Side or Server Side Row Model")}),"rowRenderer.stickyWorksWithCsrmOnly"):this.stickyRowFeature=this.createManagedBean(new Id(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this)))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsService.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gridOptionsService.is("embedFullWidthRows"),this.redrawAfterModelUpdate()},e.prototype.initialiseCache=function(){if(this.gridOptionsService.is("keepDetailRows")){var t=this.getKeepDetailRowsCount(),e=null!=t?t:3;this.cachedRowCtrls=new jd(e)}},e.prototype.getKeepDetailRowsCount=function(){var t=this.gridOptionsService.getNum("keepDetailRowsCount");return r(t)&&t>0?t:10},e.prototype.getRowCtrls=function(){return this.allRowCtrls},e.prototype.getStickyTopRowCtrls=function(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]},e.prototype.updateAllRowCtrls=function(){var t=C(this.rowCtrlsByRowIndex),e=this.gridOptionsService.is("ensureDomOrder"),n=this.gridOptionsService.isDomLayout("print");(e||n)&&t.sort((function(t,e){return t.getRowNode().rowIndex-e.getRowNode.rowIndex}));var o=C(this.zombieRowCtrls),r=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=Gd(t,o,r)},e.prototype.onCellFocusChanged=function(t){this.getAllCellCtrls().forEach((function(e){return e.onCellFocused(t)})),this.getFullWidthRowCtrls().forEach((function(e){return e.onFullWidthRowFocused(t)}))},e.prototype.registerCellEventListeners=function(){var t=this;this.addManagedListener(this.eventService,zt.EVENT_CELL_FOCUSED,(function(e){t.onCellFocusChanged(e)})),this.addManagedListener(this.eventService,zt.EVENT_CELL_FOCUS_CLEARED,(function(){t.onCellFocusChanged()})),this.addManagedListener(this.eventService,zt.EVENT_FLASH_CELLS,(function(e){t.getAllCellCtrls().forEach((function(t){return t.onFlashCells(e)}))})),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_HOVER_CHANGED,(function(){t.getAllCellCtrls().forEach((function(t){return t.onColumnHover()}))})),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_CHANGED,(function(){t.getAllCellCtrls().forEach((function(t){return t.onDisplayedColumnsChanged()}))})),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,(function(){t.printLayout&&t.getAllCellCtrls().forEach((function(t){return t.onLeftChanged()}))})),this.gridOptionsService.isEnableRangeSelection()&&(this.addManagedListener(this.eventService,zt.EVENT_RANGE_SELECTION_CHANGED,(function(){t.getAllCellCtrls().forEach((function(t){return t.onRangeSelectionChanged()}))})),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_MOVED,(function(){t.getAllCellCtrls().forEach((function(t){return t.updateRangeBordersIfRangeCount()}))})),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_PINNED,(function(){t.getAllCellCtrls().forEach((function(t){return t.updateRangeBordersIfRangeCount()}))})),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_VISIBLE,(function(){t.getAllCellCtrls().forEach((function(t){return t.updateRangeBordersIfRangeCount()}))}))),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,zt.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},e.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach((function(t){return t()})),this.destroyFuncsForColumnListeners.length=0},e.prototype.refreshListenersToColumnsForCellComps=function(){var t=this;this.removeGridColumnListeners();var e=this.columnModel.getAllGridColumns();e&&e.forEach((function(e){var n=function(n){t.getAllCellCtrls().forEach((function(t){t.getColumn()===e&&n(t)}))},o=function(){n((function(t){return t.onLeftChanged()}))},r=function(){n((function(t){return t.onWidthChanged()}))},i=function(){n((function(t){return t.onFirstRightPinnedChanged()}))},s=function(){n((function(t){return t.onLastLeftPinnedChanged()}))},a=function(){n((function(t){return t.onColDefChanged()}))};e.addEventListener("leftChanged",o),e.addEventListener("widthChanged",r),e.addEventListener("firstRightPinnedChanged",i),e.addEventListener("lastLeftPinnedChanged",s),e.addEventListener("colDefChanged",a),t.destroyFuncsForColumnListeners.push((function(){e.removeEventListener("leftChanged",o),e.removeEventListener("widthChanged",r),e.removeEventListener("firstRightPinnedChanged",i),e.removeEventListener("lastLeftPinnedChanged",s),e.removeEventListener("colDefChanged",a)}))}))},e.prototype.onDomLayoutChanged=function(){var t=this.gridOptionsService.isDomLayout("print"),e=t||this.gridOptionsService.is("embedFullWidthRows"),n=e!==this.embedFullWidthRows||this.printLayout!==t;this.printLayout=t,this.embedFullWidthRows=e,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0})},e.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)},e.prototype.onPageLoaded=function(t){var e={recycleRows:t.keepRenderedRows,animate:t.animate,newData:t.newData,newPage:t.newPage,onlyBody:!0};this.redrawAfterModelUpdate(e)},e.prototype.getAllCellsForColumn=function(t){var e=[];return this.getAllRowCtrls().forEach((function(n){var o=n.getCellElement(t);o&&e.push(o)})),e},e.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},e.prototype.getTopRowCtrls=function(){return this.topRowCtrls},e.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},e.prototype.refreshFloatingRows=function(t,e){var n=this;t.forEach((function(t){t.destroyFirstPass(),t.destroySecondPass()})),t.length=0,e&&e.forEach((function(e){var o=new Vl(e,n.beans,!1,!1,n.printLayout);t.push(o)}))},e.prototype.onPinnedRowDataChanged=function(){this.redrawAfterModelUpdate({recycleRows:!0})},e.prototype.getRenderedIndexesForRowNodes=function(t){var e=[];return i(t)||h(this.rowCtrlsByRowIndex,(function(n,o){var r=o.getRowNode();t.indexOf(r)>=0&&e.push(n)})),e},e.prototype.redrawRows=function(t){var e=null!=t&&t.length>0;if(e){var n=this.getRenderedIndexesForRowNodes(t);this.removeRowCtrls(n)}this.redrawAfterModelUpdate({recycleRows:e})},e.prototype.getCellToRestoreFocusToAfterRefresh=function(t){var e=(null==t?void 0:t.suppressKeepFocus)?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==e)return null;var n=this.gridOptionsService.getDocument().activeElement,o=this.gridOptionsService.getDomData(n,Il.DOM_DATA_KEY_CELL_CTRL),r=this.gridOptionsService.getDomData(n,Vl.DOM_DATA_KEY_ROW_CTRL);return o||r?e:null},e.prototype.redrawAfterModelUpdate=function(t){void 0===t&&(t={}),this.getLockOnRefresh();var e=this.getCellToRestoreFocusToAfterRefresh(t);this.updateContainerHeights(),this.scrollToTopIfNewData(t);var n=!t.domLayoutChanged&&!!t.recycleRows,o=t.animate&&this.gridOptionsService.isAnimateRows(),r=n?this.recycleRows():null;n||this.removeAllRowComps(),this.redraw(r,o),this.gridBodyCtrl.updateRowCount(),t.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),null!=e&&this.restoreFocusedCell(e),this.releaseLockOnRefresh()},e.prototype.scrollToTopIfNewData=function(t){var e=t.newData||t.newPage,n=this.gridOptionsService.is("suppressScrollOnNewData");e&&!n&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},e.prototype.updateContainerHeights=function(){if(this.printLayout)this.rowContainerHeightService.setModelHeight(null);else{var t=this.paginationProxy.getCurrentPageHeight();0===t&&(t=1),this.rowContainerHeightService.setModelHeight(t)}},e.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},e.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},e.prototype.isRefreshInProgress=function(){return this.refreshInProgress},e.prototype.restoreFocusedCell=function(t){t&&this.onCellFocusChanged({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,api:this.beans.gridApi,columnApi:this.beans.columnApi,context:this.beans.gridOptionsService.context,type:"mock"})},e.prototype.stopEditing=function(t){void 0===t&&(t=!1),this.getAllRowCtrls().forEach((function(e){e.stopEditing(t)}))},e.prototype.getAllCellCtrls=function(){for(var t=[],e=this.getAllRowCtrls(),n=e.length,o=0;o<n;o++)for(var r=e[o].getAllCellCtrls(),i=r.length,s=0;s<i;s++)t.push(r[s]);return t},e.prototype.getAllRowCtrls=function(){var t,e,n=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],o=Gd(this.topRowCtrls,this.bottomRowCtrls,n);try{for(var r=Bd(Object.keys(this.rowCtrlsByRowIndex)),i=r.next();!i.done;i=r.next()){var s=i.value;o.push(this.rowCtrlsByRowIndex[s])}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return o},e.prototype.addRenderedRowListener=function(t,e,n){var o=this.rowCtrlsByRowIndex[e];o&&o.addEventListener(t,n)},e.prototype.flashCells=function(t){void 0===t&&(t={});var e=t.flashDelay,n=t.fadeDelay;this.getCellCtrls(t.rowNodes,t.columns).forEach((function(t){return t.flashCell({flashDelay:e,fadeDelay:n})}))},e.prototype.refreshCells=function(t){void 0===t&&(t={});var e={forceRefresh:t.force,newData:!1,suppressFlash:t.suppressFlash};this.getCellCtrls(t.rowNodes,t.columns).forEach((function(t){if(t.refreshShouldDestroy()){var n=t.getRowCtrl();n&&n.refreshCell(t)}else t.refreshCell(e)})),this.getFullWidthRowCtrls(t.rowNodes).forEach((function(t){t.refreshFullWidth()}))},e.prototype.getCellRendererInstances=function(t){var e,n=this,o=this.getCellCtrls(t.rowNodes,t.columns).map((function(t){return t.getCellRenderer()})).filter((function(t){return null!=t}));if(null===(e=t.columns)||void 0===e?void 0:e.length)return o;var r=[],i=this.mapRowNodes(t.rowNodes);return this.getAllRowCtrls().forEach((function(t){if((!i||n.isRowInMap(t.getRowNode(),i))&&t.isFullWidth()){var e=t.getFullWidthCellRenderer();e&&r.push(e)}})),Gd(r,o)},e.prototype.getCellEditorInstances=function(t){var e=[];return this.getCellCtrls(t.rowNodes,t.columns).forEach((function(t){var n=t.getCellEditor();n&&e.push(n)})),e},e.prototype.getEditingCells=function(){var t=[];return this.getAllCellCtrls().forEach((function(e){if(e.isEditing()){var n=e.getCellPosition();t.push(n)}})),t},e.prototype.mapRowNodes=function(t){if(t){var e={top:{},bottom:{},normal:{}};return t.forEach((function(t){var n=t.id;"top"===t.rowPinned?e.top[n]=t:"bottom"===t.rowPinned?e.bottom[n]=t:e.normal[n]=t})),e}},e.prototype.isRowInMap=function(t,e){var n=t.id,o=t.rowPinned;return"bottom"===o?null!=e.bottom[n]:"top"===o?null!=e.top[n]:null!=e.normal[n]},e.prototype.getCellCtrls=function(t,e){var n,o=this,i=this.mapRowNodes(t),s=[];r(e)&&(n={},e.forEach((function(t){var e=o.columnModel.getGridColumn(t);r(e)&&(n[e.getId()]=!0)})));return this.getAllRowCtrls().forEach((function(t){return r=(e=t).getRowNode(),void((null==i||o.isRowInMap(r,i))&&e.getAllCellCtrls().forEach((function(t){var e=t.getColumn().getId();n&&!n[e]||s.push(t)})));var e,r})),s},e.prototype.destroy=function(){this.removeAllRowComps(),t.prototype.destroy.call(this)},e.prototype.removeAllRowComps=function(){var t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)},e.prototype.recycleRows=function(){var t=[];h(this.rowCtrlsByRowIndex,(function(e,n){null==n.getRowNode().id&&t.push(e)})),this.removeRowCtrls(t);var e={};return h(this.rowCtrlsByRowIndex,(function(t,n){var o=n.getRowNode();e[o.id]=n})),this.rowCtrlsByRowIndex={},e},e.prototype.removeRowCtrls=function(t){var e=this;t.forEach((function(t){var n=e.rowCtrlsByRowIndex[t];n&&(n.destroyFirstPass(),n.destroySecondPass()),delete e.rowCtrlsByRowIndex[t]}))},e.prototype.onBodyScroll=function(t){"vertical"===t.direction&&this.redrawAfterScroll()},e.prototype.redrawAfterScroll=function(){var t;if(this.stickyRowFeature&&Ln()&&(t=this.getCellToRestoreFocusToAfterRefresh()||void 0),this.getLockOnRefresh(),this.redraw(null,!1,!0),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(!0),null!=t){var e=this.getCellToRestoreFocusToAfterRefresh();null!=t&&null==e&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(t))}},e.prototype.removeRowCompsNotToDraw=function(t){var e={};t.forEach((function(t){return e[t]=!0}));var n=Object.keys(this.rowCtrlsByRowIndex).filter((function(t){return!e[t]}));this.removeRowCtrls(n)},e.prototype.calculateIndexesToDraw=function(t){var e=this,n=Wn(this.firstRenderedRow,this.lastRenderedRow),o=function(t,o){var r=o.getRowNode().rowIndex;null!=r&&(r<e.firstRenderedRow||r>e.lastRenderedRow)&&e.doNotUnVirtualiseRow(o)&&n.push(r)};return h(this.rowCtrlsByRowIndex,o),h(t,o),n.sort((function(t,e){return t-e})),n=n.filter((function(t){var n=e.paginationProxy.getRow(t);return n&&!n.sticky}))},e.prototype.redraw=function(t,e,n){var o=this;void 0===e&&(e=!1),void 0===n&&(n=!1),this.rowContainerHeightService.updateOffset(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows();var i=this.calculateIndexesToDraw(t);(this.removeRowCompsNotToDraw(i),this.printLayout&&(e=!1),i.forEach((function(i){r(o.createOrUpdateRowCtrl(i,t,e,n))})),t)&&(n&&!this.gridOptionsService.is("suppressAnimationFrame")&&!this.printLayout?this.beans.animationFrameService.addDestroyTask((function(){o.destroyRowCtrls(t,e),o.updateAllRowCtrls(),o.dispatchDisplayedRowsChanged()})):this.destroyRowCtrls(t,e));this.updateAllRowCtrls()},e.prototype.dispatchDisplayedRowsChanged=function(t){void 0===t&&(t=!1);var e={type:zt.EVENT_DISPLAYED_ROWS_CHANGED,afterScroll:t};this.eventService.dispatchEvent(e)},e.prototype.onDisplayedColumnsChanged=function(){var t=this.columnModel.isPinningLeft(),e=this.columnModel.isPinningRight();(this.pinningLeft!==t||e!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=e,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},e.prototype.redrawFullWidthEmbeddedRows=function(){var t=[];this.getFullWidthRowCtrls().forEach((function(e){var n=e.getRowNode().rowIndex;t.push(n.toString())})),this.refreshFloatingRowComps(),this.removeRowCtrls(t),this.redrawAfterScroll()},e.prototype.getFullWidthRowCtrls=function(t){var e=this,n=this.mapRowNodes(t);return this.getAllRowCtrls().filter((function(t){if(!t.isFullWidth())return!1;var o=t.getRowNode();return!(null!=n&&!e.isRowInMap(o,n))}))},e.prototype.refreshFullWidthRow=function(t){var e=this.getFullWidthRowCtrls().find((function(e){return e.getRowNode()===t}));e&&(e.refreshFullWidth()||(t.sticky?this.stickyRowFeature.refreshStickyNode(t):this.removeRowCtrls([t.rowIndex]),this.redrawAfterScroll()))},e.prototype.createOrUpdateRowCtrl=function(t,e,n,o){var i,s=this.rowCtrlsByRowIndex[t];if(s||r(i=this.paginationProxy.getRow(t))&&r(e)&&e[i.id]&&i.alreadyRendered&&(s=e[i.id],e[i.id]=null),!s){if(i||(i=this.paginationProxy.getRow(t)),!r(i))return;s=this.createRowCon(i,n,o)}return i&&(i.alreadyRendered=!0),this.rowCtrlsByRowIndex[t]=s,s},e.prototype.destroyRowCtrls=function(t,e){var n=this,o=[];h(t,(function(t,r){r&&(n.cachedRowCtrls&&r.isCacheable()?n.cachedRowCtrls.addRow(r):(r.destroyFirstPass(),e?(n.zombieRowCtrls[r.getInstanceId()]=r,o.push((function(){r.destroySecondPass(),delete n.zombieRowCtrls[r.getInstanceId()]}))):r.destroySecondPass()))})),e&&(o.push((function(){n.updateAllRowCtrls(),n.dispatchDisplayedRowsChanged()})),x(o))},e.prototype.getRowBuffer=function(){var t=this.gridOptionsService.getNum("rowBuffer");return"number"==typeof t?t<0&&(T((function(){return console.warn("AG Grid: rowBuffer should not be negative")}),"warn rowBuffer negative"),t=0,this.gridOptionsService.set("rowBuffer",0)):t=10,t},e.prototype.getRowBufferInPixels=function(){return this.getRowBuffer()*this.gridOptionsService.getRowHeightAsNumber()},e.prototype.workOutFirstAndLastRowsToRender=function(){var t,e;if(this.paginationProxy.isRowsToRender())if(this.printLayout)t=this.paginationProxy.getPageFirstRow(),e=this.paginationProxy.getPageLastRow();else{var n=this.getRowBufferInPixels(),o=this.ctrlsService.getGridBodyCtrl(),r=this.gridOptionsService.is("suppressRowVirtualisation"),i=!1,s=void 0,a=void 0;do{var l=this.paginationProxy.getPixelOffset(),c=this.paginationProxy.getCurrentPagePixelRange(),u=c.pageFirstPixel,d=c.pageLastPixel,p=this.rowContainerHeightService.getDivStretchOffset(),h=o.getScrollFeature().getVScrollPosition(),f=h.top,g=h.bottom;r?(s=u+p,a=d+p):(s=Math.max(f+l-n,u)+p,a=Math.min(g+l+n,d)+p),this.firstVisibleVPixel=Math.max(f+l,u)+p,i=this.ensureAllRowsInRangeHaveHeightsCalculated(s,a)}while(i);var _=this.paginationProxy.getRowIndexAtPixel(s),m=this.paginationProxy.getRowIndexAtPixel(a),y=this.paginationProxy.getPageFirstRow(),v=this.paginationProxy.getPageLastRow();_<y&&(_=y),m>v&&(m=v),t=_,e=m}else t=0,e=-1;var C=this.gridOptionsService.isDomLayout("normal"),E=this.gridOptionsService.is("suppressMaxRenderedRowRestriction"),b=Math.max(this.getRowBuffer(),500);C&&!E&&e-t>b&&(e=t+b);var S=t!==this.firstRenderedRow,w=e!==this.lastRenderedRow;if(S||w){this.firstRenderedRow=t,this.lastRenderedRow=e;var O={type:zt.EVENT_VIEWPORT_CHANGED,firstRow:t,lastRow:e};this.eventService.dispatchEvent(O)}},e.prototype.dispatchFirstDataRenderedEvent=function(){var t=this;if(!this.dataFirstRenderedFired){this.dataFirstRenderedFired=!0;var e={type:zt.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame((function(){t.beans.eventService.dispatchEvent(e)}))}},e.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(t,e){var n=this.paginationProxy.ensureRowHeightsValid(t,e,-1,-1);return n&&this.updateContainerHeights(),n},e.prototype.getFirstVisibleVerticalPixel=function(){return this.firstVisibleVPixel},e.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},e.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},e.prototype.doNotUnVirtualiseRow=function(t){var e=t.getRowNode(),n=this.focusService.isRowNodeFocused(e),o=t.isEditing(),r=e.detail;return!!(n||o||r)&&!!this.paginationProxy.isRowPresent(e)},e.prototype.createRowCon=function(t,e,n){var o=this.cachedRowCtrls?this.cachedRowCtrls.getRow(t):null;if(o)return o;var r=this.gridOptionsService.is("suppressAnimationFrame"),i=n&&!r&&!this.printLayout;return new Vl(t,this.beans,e,i,this.printLayout)},e.prototype.getRenderedNodes=function(){var t=this.rowCtrlsByRowIndex;return Object.keys(t).map((function(e){return t[e].getRowNode()}))},e.prototype.getRowByPosition=function(t){var e,n=t.rowIndex;switch(t.rowPinned){case"top":e=this.topRowCtrls[n];break;case"bottom":e=this.bottomRowCtrls[n];break;default:(e=this.rowCtrlsByRowIndex[n])||(e=this.getStickyTopRowCtrls().find((function(t){return t.getRowNode().rowIndex===n}))||null)}return e},e.prototype.getRowNode=function(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},e.prototype.isRangeInRenderedViewport=function(t,e){if(null==t||null==e)return!1;var n=t>this.lastRenderedRow;return!(e<this.firstRenderedRow)&&!n},kd([K("animationFrameService")],e.prototype,"animationFrameService",void 0),kd([K("paginationProxy")],e.prototype,"paginationProxy",void 0),kd([K("columnModel")],e.prototype,"columnModel",void 0),kd([K("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),kd([K("rowModel")],e.prototype,"rowModel",void 0),kd([K("focusService")],e.prototype,"focusService",void 0),kd([K("beans")],e.prototype,"beans",void 0),kd([K("rowContainerHeightService")],e.prototype,"rowContainerHeightService",void 0),kd([K("ctrlsService")],e.prototype,"ctrlsService",void 0),kd([H],e.prototype,"postConstruct",null),e=kd([z("rowRenderer")],e)}(Ut),jd=function(){function t(t){this.entriesMap={},this.entriesList=[],this.maxCount=t}return t.prototype.addRow=function(t){if(this.entriesMap[t.getRowNode().id]=t,this.entriesList.push(t),t.setCached(!0),this.entriesList.length>this.maxCount){var e=this.entriesList[0];e.destroyFirstPass(),e.destroySecondPass(),this.removeFromCache(e)}},t.prototype.getRow=function(t){if(null==t||null==t.id)return null;var e=this.entriesMap[t.id];return e?(this.removeFromCache(e),e.setCached(!1),e.getRowNode()!=t?null:e):null},t.prototype.removeFromCache=function(t){var e=t.getRowNode().id;delete this.entriesMap[e],mt(this.entriesList,t)},t.prototype.getEntries=function(){return this.entriesList},t}(),Vd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Wd=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Hd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Vd(e,t),e.prototype.formatValue=function(t,e,n,o,r){void 0===r&&(r=!0);var i,s=null,a=t.getColDef();if(o?i=o:r&&(i=a.valueFormatter),i){var l={value:n,node:e,data:e?e.data:null,colDef:a,column:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};s="function"==typeof i?i(l):this.expressionService.evaluate(i,l)}else if(a.refData)return a.refData[n]||"";return null==s&&Array.isArray(n)&&(s=n.join(", ")),s},Wd([K("expressionService")],e.prototype,"expressionService",void 0),e=Wd([z("valueFormatterService")],e)}(Ut),$d=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),zd=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Kd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $d(e,t),e.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsService.get("pinnedTopRowData")),this.setPinnedBottomRowData(this.gridOptionsService.get("pinnedBottomRowData"))},e.prototype.isEmpty=function(t){return s("top"===t?this.pinnedTopRows:this.pinnedBottomRows)},e.prototype.isRowsToRender=function(t){return!this.isEmpty(t)},e.prototype.getRowAtPixel=function(t,e){var n="top"===e?this.pinnedTopRows:this.pinnedBottomRows;if(s(n))return 0;for(var o=0;o<n.length;o++){var r=n[o];if(r.rowTop+r.rowHeight-1>=t)return o}return n.length-1},e.prototype.setPinnedTopRowData=function(t){this.pinnedTopRows=this.createNodesFromData(t,!0);var e={type:zt.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(e)},e.prototype.setPinnedBottomRowData=function(t){this.pinnedBottomRows=this.createNodesFromData(t,!1);var e={type:zt.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(e)},e.prototype.createNodesFromData=function(t,e){var n=this,o=[];if(t){var r=0;t.forEach((function(t,i){var s=new Ss(n.beans);s.data=t;var a=e?Ss.ID_PREFIX_TOP_PINNED:Ss.ID_PREFIX_BOTTOM_PINNED;s.id=a+i,s.rowPinned=e?"top":"bottom",s.setRowTop(r),s.setRowHeight(n.gridOptionsService.getRowHeightForNode(s).height),s.setRowIndex(i),r+=s.rowHeight,o.push(s)}))}return o},e.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},e.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},e.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},e.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},e.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},e.prototype.getPinnedTopRow=function(t){return this.pinnedTopRows[t]},e.prototype.getPinnedBottomRow=function(t){return this.pinnedBottomRows[t]},e.prototype.forEachPinnedTopRow=function(t){s(this.pinnedTopRows)||this.pinnedTopRows.forEach(t)},e.prototype.forEachPinnedBottomRow=function(t){s(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(t)},e.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},e.prototype.getTotalHeight=function(t){if(!t||0===t.length)return 0;var e=ft(t);return e.rowTop+e.rowHeight},zd([K("beans")],e.prototype,"beans",void 0),zd([H],e.prototype,"init",null),e=zd([z("pinnedRowModel")],e)}(Ut);!function(t){t.Applied="Applied",t.StoreNotFound="StoreNotFound",t.StoreLoading="StoreLoading",t.StoreWaitingToLoad="StoreWaitingToLoad",t.StoreLoadingFailed="StoreLoadingFailed",t.StoreWrongType="StoreWrongType",t.Cancelled="Cancelled"}(vd||(vd={}));var Yd,Zd=function(){function t(t,e){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=t,this.pathRoot={rowNode:e,children:null},this.mapToItems[e.id]=this.pathRoot}return t.prototype.setInactive=function(){this.active=!1},t.prototype.isActive=function(){return this.active},t.prototype.depthFirstSearchChangedPath=function(t,e){if(t.children)for(var n=0;n<t.children.length;n++)this.depthFirstSearchChangedPath(t.children[n],e);e(t.rowNode)},t.prototype.depthFirstSearchEverything=function(t,e,n){if(t.childrenAfterGroup)for(var o=0;o<t.childrenAfterGroup.length;o++){var r=t.childrenAfterGroup[o];r.childrenAfterGroup?this.depthFirstSearchEverything(t.childrenAfterGroup[o],e,n):n&&e(r)}e(t)},t.prototype.forEachChangedNodeDepthFirst=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1),this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,t):this.depthFirstSearchEverything(this.pathRoot.rowNode,t,e)},t.prototype.executeFromRootNode=function(t){t(this.pathRoot.rowNode)},t.prototype.createPathItems=function(t){for(var e=t,n=0;!this.mapToItems[e.id];){var o={rowNode:e,children:null};this.mapToItems[e.id]=o,n++,e=e.parent}return n},t.prototype.populateColumnsMap=function(t,e){var n=this;if(this.keepingColumns&&e)for(var o=t;o;)this.nodeIdsToColumns[o.id]||(this.nodeIdsToColumns[o.id]={}),e.forEach((function(t){return n.nodeIdsToColumns[o.id][t.getId()]=!0})),o=o.parent},t.prototype.linkPathItems=function(t,e){for(var n=t,o=0;o<e;o++){var r=this.mapToItems[n.id],i=this.mapToItems[n.parent.id];i.children||(i.children=[]),i.children.push(r),n=n.parent}},t.prototype.addParentNode=function(t,e){if(t&&!t.isRowPinned()){var n=this.createPathItems(t);this.linkPathItems(t,n),this.populateColumnsMap(t,e)}},t.prototype.canSkip=function(t){return this.active&&!this.mapToItems[t.id]},t.prototype.getValueColumnsForNode=function(t,e){if(!this.keepingColumns)return e;var n=this.nodeIdsToColumns[t.id];return e.filter((function(t){return n[t.getId()]}))},t.prototype.getNotValueColumnsForNode=function(t,e){if(!this.keepingColumns)return null;var n=this.nodeIdsToColumns[t.id];return e.filter((function(t){return!n[t.getId()]}))},t}(),qd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Xd=function(t){function e(n){var o=t.call(this)||this;return o.state=e.STATE_WAITING_TO_LOAD,o.version=0,o.id=n,o}return qd(e,t),e.prototype.getId=function(){return this.id},e.prototype.load=function(){this.state=e.STATE_LOADING,this.loadFromDatasource()},e.prototype.getVersion=function(){return this.version},e.prototype.setStateWaitingToLoad=function(){this.version++,this.state=e.STATE_WAITING_TO_LOAD},e.prototype.getState=function(){return this.state},e.prototype.pageLoadFailed=function(t){this.isRequestMostRecentAndLive(t)&&(this.state=e.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},e.prototype.success=function(t,e){this.successCommon(t,e)},e.prototype.pageLoaded=function(t,e,n){this.successCommon(t,{rowData:e,rowCount:n})},e.prototype.isRequestMostRecentAndLive=function(t){var e=t===this.version,n=this.isAlive();return e&&n},e.prototype.successCommon=function(t,n){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(t)&&(this.state=e.STATE_LOADED,this.processServerResult(n))},e.prototype.dispatchLoadCompleted=function(t){void 0===t&&(t=!0);var n={type:e.EVENT_LOAD_COMPLETE,success:t,block:this};this.dispatchEvent(n)},e.EVENT_LOAD_COMPLETE="loadComplete",e.STATE_WAITING_TO_LOAD="needsLoading",e.STATE_LOADING="loading",e.STATE_LOADED="loaded",e.STATE_FAILED="failed",e}(Ut),Jd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Qd=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},tp=function(t,e){return function(n,o){e(n,o,t)}},ep=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.activeBlockLoadsCount=0,e.blocks=[],e.active=!0,e}var n;return Jd(e,t),n=e,e.prototype.postConstruct=function(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();var t=this.gridOptionsService.getNum("blockLoadDebounceMillis");t&&t>0&&(this.checkBlockToLoadDebounce=or.debounce(this.performCheckBlocksToLoad.bind(this),t))},e.prototype.setBeans=function(t){this.logger=t.create("RowNodeBlockLoader")},e.prototype.getMaxConcurrentDatasourceRequests=function(){var t=this.gridOptionsService.getNum("maxConcurrentDatasourceRequests");return null==t?2:t<=0?void 0:t},e.prototype.addBlock=function(t){this.blocks.push(t),t.addEventListener(Xd.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},e.prototype.removeBlock=function(t){or.removeFromArray(this.blocks,t)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.active=!1},e.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:n.BLOCK_LOADED_EVENT}),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:n.BLOCK_LOADER_FINISHED_EVENT})},e.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},e.prototype.performCheckBlocksToLoad=function(){if(this.active)if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)this.logger.log("checkBlockToLoad: max loads exceeded");else{var t=this.getAvailableLoadingCount(),e=this.blocks.filter((function(t){return t.getState()===Xd.STATE_WAITING_TO_LOAD})).slice(0,t);this.registerLoads(e.length),e.forEach((function(t){return t.load()})),this.printCacheStatus()}},e.prototype.getBlockState=function(){if(this.gridOptionsService.isRowModelType("serverSide"))return this.rowModel.getBlockStates();var t={};return this.blocks.forEach((function(e){var n=e.getBlockStateJson(),o=n.id,r=n.state;t[o]=r})),t},e.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+", blocks = "+JSON.stringify(this.getBlockState()))},e.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},e.prototype.registerLoads=function(t){this.activeBlockLoadsCount+=t},e.prototype.getAvailableLoadingCount=function(){return void 0!==this.maxConcurrentRequests?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0},e.BLOCK_LOADED_EVENT="blockLoaded",e.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",Qd([K("rowModel")],e.prototype,"rowModel",void 0),Qd([H],e.prototype,"postConstruct",null),Qd([tp(0,q("loggerFactory"))],e.prototype,"setBeans",null),e=n=Qd([z("rowNodeBlockLoader")],e)}(Ut),np=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),op=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},rp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentPage=0,e.topDisplayedRowIndex=0,e.bottomDisplayedRowIndex=0,e.pixelOffset=0,e.masterRowCount=0,e}return np(e,t),e.prototype.postConstruct=function(){this.active=this.gridOptionsService.is("pagination"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,zt.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationPageSizeChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()},e.prototype.ensureRowHeightsValid=function(t,e,n,o){var r=this.rowModel.ensureRowHeightsValid(t,e,this.getPageFirstRow(),this.getPageLastRow());return r&&this.calculatePages(),r},e.prototype.isPaginateChildRows=function(){return!(!this.gridOptionsService.is("groupRemoveSingleChildren")&&!this.gridOptionsService.is("groupRemoveLowestSingleChildren"))||this.gridOptionsService.is("paginateChildRows")},e.prototype.onModelUpdated=function(t){this.calculatePages();var e={type:zt.EVENT_PAGINATION_CHANGED,animate:!!t&&t.animate,newData:!!t&&t.newData,newPage:!!t&&t.newPage,keepRenderedRows:!!t&&t.keepRenderedRows};this.eventService.dispatchEvent(e)},e.prototype.onPaginationPageSizeChanged=function(){this.active=this.gridOptionsService.is("pagination"),this.calculatePages();var t={type:zt.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0};this.eventService.dispatchEvent(t)},e.prototype.goToPage=function(t){if(this.active&&this.currentPage!==t&&"number"==typeof this.currentPage){this.currentPage=t;var e={type:zt.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0};this.onModelUpdated(e)}},e.prototype.getPixelOffset=function(){return this.pixelOffset},e.prototype.getRow=function(t){return this.rowModel.getRow(t)},e.prototype.getRowNode=function(t){return this.rowModel.getRowNode(t)},e.prototype.getRowIndexAtPixel=function(t){return this.rowModel.getRowIndexAtPixel(t)},e.prototype.getCurrentPageHeight=function(){return i(this.topRowBounds)||i(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},e.prototype.getCurrentPagePixelRange=function(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}},e.prototype.isRowPresent=function(t){return!!this.rowModel.isRowPresent(t)&&(t.rowIndex>=this.topDisplayedRowIndex&&t.rowIndex<=this.bottomDisplayedRowIndex)},e.prototype.isEmpty=function(){return this.rowModel.isEmpty()},e.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},e.prototype.forEachNode=function(t){return this.rowModel.forEachNode(t)},e.prototype.forEachNodeOnPage=function(t){for(var e=this.getPageFirstRow(),n=this.getPageLastRow(),o=e;o<=n;o++){var r=this.getRow(o);r&&t(r)}},e.prototype.getType=function(){return this.rowModel.getType()},e.prototype.getRowBounds=function(t){var e=this.rowModel.getRowBounds(t);return e.rowIndex=t,e},e.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},e.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},e.prototype.getRowCount=function(){return this.rowModel.getRowCount()},e.prototype.getPageForIndex=function(t){return Math.floor(t/this.pageSize)},e.prototype.goToPageWithIndex=function(t){if(this.active){var e=this.getPageForIndex(t);this.goToPage(e)}},e.prototype.isRowInPage=function(t){return!this.active||this.getPageForIndex(t.rowIndex)===this.currentPage},e.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},e.prototype.getCurrentPage=function(){return this.currentPage},e.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},e.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},e.prototype.goToFirstPage=function(){this.goToPage(0)},e.prototype.goToLastPage=function(){var t=this.rowModel.getRowCount(),e=Math.floor(t/this.pageSize);this.goToPage(e)},e.prototype.getPageSize=function(){return this.pageSize},e.prototype.getTotalPages=function(){return this.totalPages},e.prototype.setPageSize=function(){this.pageSize=this.gridOptionsService.getNum("paginationPageSize"),(null==this.pageSize||this.pageSize<1)&&(this.pageSize=100)},e.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(r(this.topRowBounds)?this.topRowBounds.rowTop:0)},e.prototype.setPixelOffset=function(t){this.pixelOffset!==t&&(this.pixelOffset=t,this.eventService.dispatchEvent({type:zt.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},e.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},e.prototype.adjustCurrentPageIfInvalid=function(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)},e.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)this.setZeroRows();else{var t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.adjustCurrentPageIfInvalid();var e=this.pageSize*this.currentPage,n=this.pageSize*(this.currentPage+1)-1;if(n>t&&(n=t),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(e),n===t)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var o=this.rowModel.getTopLevelRowDisplayedIndex(n+1);this.bottomDisplayedRowIndex=o-1}}},e.prototype.getMasterRowCount=function(){return this.masterRowCount},e.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>t&&(this.bottomDisplayedRowIndex=t)}else this.setZeroRows()},e.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},op([K("rowModel")],e.prototype,"rowModel",void 0),op([H],e.prototype,"postConstruct",null),e=op([z("paginationProxy")],e)}(Ut),ip=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),sp=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ap=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ip(e,t),e.prototype.processAllCellClasses=function(t,e,n,o){this.processClassRules(t.cellClassRules,e,n,o),this.processStaticCellClasses(t,e,n)},e.prototype.processClassRules=function(t,e,n,o){if(null!=t){for(var r=Object.keys(t),i={},s={},a=function(n){var o,a=r[n],c=t[a];"string"==typeof c?o=l.expressionService.evaluate(c,e):"function"==typeof c&&(o=c(e)),a.split(" ").forEach((function(t){null!=t&&""!=t.trim()&&(o?i[t]=!0:s[t]=!0)}))},l=this,c=0;c<r.length;c++)a(c);o&&Object.keys(s).forEach(o),Object.keys(i).forEach(n)}},e.prototype.getStaticCellClasses=function(t,e){var n,o=t.cellClass;if(!o)return[];"function"==typeof o?n=o(e):n=o;return"string"==typeof n&&(n=[n]),n||[]},e.prototype.processStaticCellClasses=function(t,e,n){this.getStaticCellClasses(t,e).forEach((function(t){n(t)}))},sp([K("expressionService")],e.prototype,"expressionService",void 0),e=sp([z("stylingService")],e)}(Ut),lp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),cp=function(t){function e(e){return t.call(this,e,"ag-toggle-button")||this}return lp(e,t),e.prototype.setValue=function(e,n){return t.prototype.setValue.call(this,e,n),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},e}(ei),up=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),dp=function(t){function e(e){return t.call(this,e,"ag-text-area",null,"textarea")||this}return up(e,t),e.prototype.setValue=function(e,n){var o=t.prototype.setValue.call(this,e,n);return this.eInput.value=e,o},e.prototype.setCols=function(t){return this.eInput.cols=t,this},e.prototype.setRows=function(t){return this.eInput.rows=t,this},e}(Qr),pp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),hp=function(t){function e(e){return t.call(this,e,"ag-range-field","range")||this}return pp(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this);var e=this.config,n=e.min,o=e.max,r=e.step;null!=n&&this.setMinValue(n),null!=o&&this.setMaxValue(o),this.setStep(r||1)},e.prototype.addInputListeners=function(){var t=this;this.addManagedListener(this.eInput,"input",(function(e){var n=e.target.value;t.setValue(n)}))},e.prototype.setMinValue=function(t){return this.min=t,this.eInput.setAttribute("min",t.toString()),this},e.prototype.setMaxValue=function(t){return this.max=t,this.eInput.setAttribute("max",t.toString()),this},e.prototype.setStep=function(t){return this.eInput.setAttribute("step",t.toString()),this},e.prototype.setValue=function(e,n){null!=this.min&&(e=Math.max(parseFloat(e),this.min).toString()),null!=this.max&&(e=Math.min(parseFloat(e),this.max).toString());var o=t.prototype.setValue.call(this,e,n);return this.eInput.value=e,o},e}(Qr),fp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),gp=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},_p=function(t){function e(n){var o=t.call(this,n,e.TEMPLATE)||this;return o.labelAlignment="top",o}return fp(e,t),e.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},e.prototype.onValueChange=function(t){var e=this,n=jr.EVENT_CHANGED;return this.addManagedListener(this.eText,n,(function(){var n=parseFloat(e.eText.getValue());e.eSlider.setValue(n.toString(),!0),t(n||0)})),this.addManagedListener(this.eSlider,n,(function(){var n=e.eSlider.getValue();e.eText.setValue(n,!0),t(parseFloat(n))})),this},e.prototype.setSliderWidth=function(t){return this.eSlider.setWidth(t),this},e.prototype.setTextFieldWidth=function(t){return this.eText.setWidth(t),this},e.prototype.setMinValue=function(t){return this.eSlider.setMinValue(t),this.eText.setMin(t),this},e.prototype.setMaxValue=function(t){return this.eSlider.setMaxValue(t),this.eText.setMax(t),this},e.prototype.getValue=function(){return this.eText.getValue()},e.prototype.setValue=function(t){return this.getValue()===t||(this.eText.setValue(t,!0),this.eSlider.setValue(t,!0),this.dispatchEvent({type:jr.EVENT_CHANGED})),this},e.prototype.setStep=function(t){return this.eSlider.setStep(t),this.eText.setStep(t),this},e.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',gp([_r("eLabel")],e.prototype,"eLabel",void 0),gp([_r("eSlider")],e.prototype,"eSlider",void 0),gp([_r("eText")],e.prototype,"eText",void 0),gp([H],e.prototype,"init",null),e}(Br),mp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),yp=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},vp=function(t){function e(n){void 0===n&&(n={});var o=t.call(this,e.getTemplate(n))||this;o.suppressEnabledCheckbox=!0,o.suppressOpenCloseIcons=!1;var r=n.title,i=n.enabled,s=n.items,a=n.suppressEnabledCheckbox,l=n.suppressOpenCloseIcons;return o.title=r,o.cssIdentifier=n.cssIdentifier||"default",o.enabled=null==i||i,o.items=s||[],o.alignItems=n.alignItems||"center",null!=a&&(o.suppressEnabledCheckbox=a),null!=l&&(o.suppressOpenCloseIcons=l),o}return mp(e,t),e.getTemplate=function(t){var e=t.cssIdentifier||"default";return'<div class="ag-group ag-'+e+'-group" role="presentation">\n            <div class="ag-group-title-bar ag-'+e+'-group-title-bar ag-unselectable" ref="eTitleBar" role="button">\n                <span class="ag-group-title-bar-icon ag-'+e+'-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>\n                <span class="ag-group-title-bar-icon ag-'+e+'-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>\n                <span ref="eTitle" class="ag-group-title ag-'+e+'-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-'+e+'-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-'+(t.direction||"vertical")+" ag-"+e+'-group-container"></div>\n        </div>'},e.prototype.postConstruct=function(){if(this.items.length){var t=this.items;this.items=[],this.addItems(t)}var e=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(e("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},e.prototype.setupExpandContract=function(){var t=this;this.eGroupClosedIcon.appendChild(Uo("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(Uo("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eTitleBar,"click",(function(){return t.toggleGroupExpand()})),this.addManagedListener(this.eTitleBar,"keydown",(function(e){switch(e.key){case Wo.ENTER:case Wo.SPACE:e.preventDefault(),t.toggleGroupExpand();break;case Wo.RIGHT:case Wo.LEFT:e.preventDefault(),t.toggleGroupExpand(e.key===Wo.RIGHT)}}))},e.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||on(this.eTitleBar,this.expanded)},e.prototype.refreshChildDisplay=function(){var t=!this.suppressOpenCloseIcons;ro(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),ro(this.eGroupOpenedIcon,t&&this.expanded),ro(this.eGroupClosedIcon,t&&!this.expanded)},e.prototype.isExpanded=function(){return this.expanded},e.prototype.setAlignItems=function(t){this.alignItems!==t&&this.removeCssClass("ag-group-item-alignment-"+this.alignItems),this.alignItems=t;var e="ag-group-item-alignment-"+this.alignItems;return this.addCssClass(e),this},e.prototype.toggleGroupExpand=function(t){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),ro(this.eContainer,!0),this):(t=null!=t?t:!this.expanded,this.expanded===t||(this.expanded=t,this.refreshAriaStatus(),this.refreshChildDisplay(),ro(this.eContainer,t),this.dispatchEvent({type:this.expanded?e.EVENT_EXPANDED:e.EVENT_COLLAPSED})),this)},e.prototype.addItems=function(t){var e=this;t.forEach((function(t){return e.addItem(t)}))},e.prototype.addItem=function(t){var e=this.eContainer,n=t instanceof gr?t.getGui():t;n.classList.add("ag-group-item","ag-"+this.cssIdentifier+"-group-item"),e.appendChild(n),this.items.push(n)},e.prototype.hideItem=function(t,e){ro(this.items[e],!t)},e.prototype.setTitle=function(t){return this.eTitle.innerText=t,this},e.prototype.addCssClassToTitleBar=function(t){this.eTitleBar.classList.add(t)},e.prototype.setEnabled=function(t,e){return this.enabled=t,this.refreshDisabledStyles(),this.toggleGroupExpand(t),e||this.cbGroupEnabled.setValue(t),this},e.prototype.isEnabled=function(){return this.enabled},e.prototype.onEnableChange=function(t){var e=this;return this.cbGroupEnabled.onValueChange((function(n){e.setEnabled(n,!0),t(n)})),this},e.prototype.hideEnabledCheckbox=function(t){return this.suppressEnabledCheckbox=t,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},e.prototype.hideOpenCloseIcons=function(t){return this.suppressOpenCloseIcons=t,t&&this.toggleGroupExpand(!0),this},e.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},e.EVENT_EXPANDED="expanded",e.EVENT_COLLAPSED="collapsed",yp([_r("eTitleBar")],e.prototype,"eTitleBar",void 0),yp([_r("eGroupOpenedIcon")],e.prototype,"eGroupOpenedIcon",void 0),yp([_r("eGroupClosedIcon")],e.prototype,"eGroupClosedIcon",void 0),yp([_r("eToolbar")],e.prototype,"eToolbar",void 0),yp([_r("cbGroupEnabled")],e.prototype,"cbGroupEnabled",void 0),yp([_r("eTitle")],e.prototype,"eTitle",void 0),yp([_r("eContainer")],e.prototype,"eContainer",void 0),yp([H],e.prototype,"postConstruct",null),e}(gr),Cp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ep=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t.TAB_GUARD="ag-tab-guard",t.TAB_GUARD_TOP="ag-tab-guard-top",t.TAB_GUARD_BOTTOM="ag-tab-guard-bottom"}(Yd||(Yd={}));var bp,Sp=function(t){function e(e){var n=t.call(this)||this;n.skipTabGuardFocus=!1;var o=e.comp,r=e.eTopGuard,i=e.eBottomGuard,s=e.focusInnerElement,a=e.onFocusIn,l=e.onFocusOut,c=e.shouldStopEventPropagation,u=e.onTabKeyDown,d=e.handleKeyDown,p=e.eFocusableElement;return n.comp=o,n.eTopGuard=r,n.eBottomGuard=i,n.providedFocusInnerElement=s,n.eFocusableElement=p,n.providedFocusIn=a,n.providedFocusOut=l,n.providedShouldStopEventPropagation=c,n.providedOnTabKeyDown=u,n.providedHandleKeyDown=d,n}return Cp(e,t),e.prototype.postConstruct=function(){var t=this;this.createManagedBean(new Rr(this.eFocusableElement,{shouldStopEventPropagation:function(){return t.shouldStopEventPropagation()},onTabKeyDown:function(e){return t.onTabKeyDown(e)},handleKeyDown:function(e){return t.handleKeyDown(e)},onFocusIn:function(e){return t.onFocusIn(e)},onFocusOut:function(e){return t.onFocusOut(e)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach((function(e){return t.addManagedListener(e,"focus",t.onFocus.bind(t))}))},e.prototype.handleKeyDown=function(t){this.providedHandleKeyDown&&this.providedHandleKeyDown(t)},e.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},e.prototype.shouldStopEventPropagation=function(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()},e.prototype.activateTabGuards=function(){this.comp.setTabIndex(this.getGridTabIndex())},e.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},e.prototype.onFocus=function(t){if(this.skipTabGuardFocus)this.skipTabGuardFocus=!1;else{var e=t.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(e):this.focusInnerElement(e)}},e.prototype.onFocusIn=function(t){this.providedFocusIn&&this.providedFocusIn(t)||this.deactivateTabGuards()},e.prototype.onFocusOut=function(t){this.providedFocusOut&&this.providedFocusOut(t)||this.eFocusableElement.contains(t.relatedTarget)||this.activateTabGuards()},e.prototype.onTabKeyDown=function(t){var e=this;if(this.providedOnTabKeyDown)this.providedOnTabKeyDown(t);else if(!t.defaultPrevented){var n=this.tabGuardsAreActive();n&&this.deactivateTabGuards();var o=this.getNextFocusableElement(t.shiftKey);n&&setTimeout((function(){return e.activateTabGuards()}),0),o&&(o.focus(),t.preventDefault())}},e.prototype.getGridTabIndex=function(){return(this.gridOptionsService.getNum("tabIndex")||0).toString()},e.prototype.focusInnerElement=function(t){void 0===t&&(t=!1);var e=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(e.splice(0,1),e.splice(e.length-1,1)),e.length&&e[t?e.length-1:0].focus({preventScroll:!0})},e.prototype.getNextFocusableElement=function(t){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,t)},e.prototype.forceFocusOutOfContainer=function(t){void 0===t&&(t=!1);var e=t?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,e.focus()},Ep([K("focusService")],e.prototype,"focusService",void 0),Ep([H],e.prototype,"postConstruct",null),e}(Ut),wp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Op=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Pp=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Op(arguments[e]));return t},Tp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return wp(e,t),e.prototype.initialiseTabGuard=function(t){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var e=[this.eTopGuard,this.eBottomGuard],n={setTabIndex:function(t){e.forEach((function(e){return null!=t?e.setAttribute("tabIndex",t):e.removeAttribute("tabIndex")}))}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new Sp({comp:n,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:t.onFocusIn,onFocusOut:t.onFocusOut,focusInnerElement:t.focusInnerElement,handleKeyDown:t.handleKeyDown,onTabKeyDown:t.onTabKeyDown,shouldStopEventPropagation:t.shouldStopEventPropagation}))},e.prototype.createTabGuard=function(t){var e=document.createElement("div"),n="top"===t?Yd.TAB_GUARD_TOP:Yd.TAB_GUARD_BOTTOM;return e.classList.add(Yd.TAB_GUARD,n),ze(e,"presentation"),e},e.prototype.addTabGuards=function(t,e){this.eFocusableElement.insertAdjacentElement("afterbegin",t),this.eFocusableElement.insertAdjacentElement("beforeend",e)},e.prototype.removeAllChildrenExceptTabGuards=function(){var t=[this.eTopGuard,this.eBottomGuard];mo(this.getFocusableElement()),this.addTabGuards.apply(this,Pp(t))},e.prototype.forceFocusOutOfContainer=function(t){void 0===t&&(t=!1),this.tabGuardCtrl.forceFocusOutOfContainer(t)},e.prototype.appendChild=function(e,n){Lo(e)||(e=e.getGui());var o=this.eBottomGuard;o?o.insertAdjacentElement("beforebegin",e):t.prototype.appendChild.call(this,e,n)},e}(gr),Rp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Dp=function(){return Dp=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Dp.apply(this,arguments)},xp=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Mp=function(t){function e(e){void 0===e&&(e=1);var n=t.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return n.level=e,n.menuItems=[],n}return Rp(e,t),e.prototype.postConstruct=function(){var t=this;this.initialiseTabGuard({onTabKeyDown:function(e){return t.onTabKeyDown(e)},handleKeyDown:function(e){return t.handleKeyDown(e)}})},e.prototype.onTabKeyDown=function(t){var e=this.getParentComponent(),n=e&&e.getGui();n&&n.classList.contains("ag-focus-managed")||t.preventDefault(),t.shiftKey&&this.closeIfIsChild(t)},e.prototype.handleKeyDown=function(t){switch(t.key){case Wo.UP:case Wo.RIGHT:case Wo.DOWN:case Wo.LEFT:t.preventDefault(),this.handleNavKey(t.key);break;case Wo.ESCAPE:var e=this.findTopMenu();e&&this.focusService.focusInto(e.getGui())}},e.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},e.prototype.addMenuItems=function(t){var e=this;null!=t&&t.forEach((function(t){"separator"===t?e.addSeparator():"string"==typeof t?console.warn("AG Grid: unrecognised menu item "+t):e.addItem(t)}))},e.prototype.addItem=function(t){var e=this,n=this.createManagedBean(new Fp(Dp(Dp({},t),{isAnotherSubMenuOpen:function(){return e.menuItems.some((function(t){return t.isSubMenuOpen()}))}})));n.setParentComponent(this),tn(n.getGui(),this.level),this.menuItems.push(n),this.appendChild(n.getGui()),this.addManagedListener(n,Fp.EVENT_MENU_ITEM_SELECTED,(function(t){e.dispatchEvent(t)})),this.addManagedListener(n,Fp.EVENT_MENU_ITEM_ACTIVATED,(function(t){e.activeMenuItem&&e.activeMenuItem!==t.menuItem&&e.activeMenuItem.deactivate(),e.activeMenuItem=t.menuItem}))},e.prototype.activateFirstItem=function(){var t=this.menuItems.filter((function(t){return!t.isDisabled()}))[0];t&&t.activate()},e.prototype.addSeparator=function(){this.appendChild(Co('\n            <div class="ag-menu-separator" aria-hidden="true">\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n            </div>'))},e.prototype.findTopMenu=function(){var t=this.getParentComponent();if(!t&&this instanceof e)return this;for(;;){var n=t&&t.getParentComponent&&t.getParentComponent();if(!n||!(n instanceof e||n instanceof Fp))break;t=n}return t instanceof e?t:void 0},e.prototype.handleNavKey=function(t){switch(t){case Wo.UP:case Wo.DOWN:var e=this.findNextItem(t===Wo.UP);return void(e&&e!==this.activeMenuItem&&e.activate())}t===(this.gridOptionsService.is("enableRtl")?Wo.RIGHT:Wo.LEFT)?this.closeIfIsChild():this.openChild()},e.prototype.closeIfIsChild=function(t){var e=this.getParentComponent();e&&e instanceof Fp&&(t&&t.preventDefault(),e.closeSubMenu(),e.getGui().focus())},e.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},e.prototype.findNextItem=function(t){var e=this.menuItems.filter((function(t){return!t.isDisabled()}));if(e.length){if(!this.activeMenuItem)return t?ft(e):e[0];var n;t&&e.reverse();for(var o=!1,r=0;r<e.length;r++){var i=e[r];if(o){n=i;break}i===this.activeMenuItem&&(o=!0)}return n||this.activeMenuItem}},e.prototype.destroy=function(){this.clearActiveItem(),t.prototype.destroy.call(this)},xp([K("focusService")],e.prototype,"focusService",void 0),xp([H],e.prototype,"postConstruct",null),e}(Tp),Ap=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Lp=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ip=function(t){function e(e){var n=t.call(this)||this;return n.wrappedComponent=e,n.setTemplateFromElement(e.getGui()),n}return Ap(e,t),e.prototype.postConstruct=function(){var t=this;this.initialiseTabGuard({onTabKeyDown:function(e){return t.onTabKeyDown(e)},handleKeyDown:function(e){return t.handleKeyDown(e)}})},e.prototype.handleKeyDown=function(t){t.key===Wo.ESCAPE&&this.closePanel()},e.prototype.onTabKeyDown=function(t){t.defaultPrevented||(this.closePanel(),t.preventDefault())},e.prototype.closePanel=function(){var t=this.parentComponent;t.closeSubMenu(),setTimeout((function(){return t.getGui().focus()}),0)},Lp([H],e.prototype,"postConstruct",null),e}(Tp),Np=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),kp=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Fp=function(t){function e(e){var n=t.call(this)||this;return n.params=e,n.isActive=!1,n.subMenuIsOpen=!1,n.setTemplate('<div class="'+n.getClassName()+'" tabindex="-1" role="treeitem"></div>'),n}return Np(e,t),e.prototype.init=function(){var t=this;this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();var e=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),en(e,!0)):(this.addGuiEventListener("click",(function(e){return t.onItemSelected(e)})),this.addGuiEventListener("keydown",(function(e){e.key!==Wo.ENTER&&e.key!==Wo.SPACE||(e.preventDefault(),t.onItemSelected(e))})),this.addGuiEventListener("mousedown",(function(t){t.stopPropagation(),t.preventDefault()})),this.addGuiEventListener("mouseenter",(function(){return t.onMouseEnter()})),this.addGuiEventListener("mouseleave",(function(){return t.onMouseLeave()}))),this.params.cssClasses&&this.params.cssClasses.forEach((function(e){return t.addCssClass(e)}))},e.prototype.isDisabled=function(){return!!this.params.disabled},e.prototype.openSubMenu=function(t){var n=this;if(void 0===t&&(t=!1),this.closeSubMenu(),this.params.subMenu){var o,r=Co('<div class="ag-menu" role="presentation"></div>');if(this.params.subMenu instanceof Array){var i=Ye(this.getGui()),s=isNaN(i)?1:i+1,a=this.createBean(new Mp(s));a.setParentComponent(this),a.addMenuItems(this.params.subMenu),r.appendChild(a.getGui()),this.addManagedListener(a,e.EVENT_MENU_ITEM_SELECTED,(function(t){return n.dispatchEvent(t)})),a.addGuiEventListener("mouseenter",(function(){return n.cancelDeactivate()})),o=function(){return n.destroyBean(a)},t&&setTimeout((function(){return a.activateFirstItem()}),0)}else{var l=this.params.subMenu,c=this.createBean(new Ip(l));c.setParentComponent(this);var u=c.getGui(),d="mouseenter",p=function(){return n.cancelDeactivate()};u.addEventListener(d,p),o=function(){return u.removeEventListener(d,p)},r.appendChild(u),l.afterGuiAttached&&setTimeout((function(){return l.afterGuiAttached()}),0)}var h=this.getGui(),f=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:h,ePopup:r}),g=this.localeService.getLocaleTextFunc(),_=this.popupService.addPopup({modal:!0,eChild:r,positionCallback:f,anchorToElement:h,ariaLabel:g("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,on(h,!0),this.hideSubMenu=function(){_&&_.hideFunc(),n.subMenuIsOpen=!1,on(h,!1),o()}}},e.prototype.closeSubMenu=function(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,on(this.getGui(),!1))},e.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},e.prototype.activate=function(t){var e=this;this.cancelActivate(),this.params.disabled||(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),t&&this.params.subMenu&&window.setTimeout((function(){e.isAlive()&&e.isActive&&e.openSubMenu()}),300),this.onItemActivated())},e.prototype.deactivate=function(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},e.prototype.addIcon=function(){if(this.params.checked||this.params.icon||!this.params.isCompact){var t=Co('<span ref="eIcon" class="'+this.getClassName("part")+" "+this.getClassName("icon")+'" role="presentation"></span>');this.params.checked?t.appendChild(jo("check",this.gridOptionsService)):this.params.icon&&(Lo(this.params.icon)?t.appendChild(this.params.icon):"string"==typeof this.params.icon?t.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(t)}},e.prototype.addName=function(){if(this.params.name||!this.params.isCompact){var t=Co('<span ref="eName" class="'+this.getClassName("part")+" "+this.getClassName("text")+'">'+(this.params.name||"")+"</span>");this.getGui().appendChild(t)}},e.prototype.addTooltip=function(){this.params.tooltip&&(this.tooltip=this.params.tooltip,this.gridOptionsService.is("enableBrowserTooltips")?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new ur(this)))},e.prototype.getTooltipParams=function(){return{location:"menu",value:this.tooltip}},e.prototype.addShortcut=function(){if(this.params.shortcut||!this.params.isCompact){var t=Co('<span ref="eShortcut" class="'+this.getClassName("part")+" "+this.getClassName("shortcut")+'">'+(this.params.shortcut||"")+"</span>");this.getGui().appendChild(t)}},e.prototype.addSubMenu=function(){if(this.params.subMenu||!this.params.isCompact){var t=Co('<span ref="ePopupPointer" class="'+this.getClassName("part")+" "+this.getClassName("popup-pointer")+'"></span>'),e=this.getGui();if(this.params.subMenu){var n=this.gridOptionsService.is("enableRtl")?"smallLeft":"smallRight";on(e,!1),t.appendChild(jo(n,this.gridOptionsService))}e.appendChild(t)}},e.prototype.onItemSelected=function(t){if(this.params.action?this.params.action():this.openSubMenu(t&&"keydown"===t.type),!this.params.subMenu||this.params.action){var n={type:e.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:t};this.dispatchEvent(n)}},e.prototype.onItemActivated=function(){var t={type:e.EVENT_MENU_ITEM_ACTIVATED,menuItem:this};this.dispatchEvent(t)},e.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},e.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},e.prototype.onMouseEnter=function(){var t=this;this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout((function(){return t.activate(!0)}),e.ACTIVATION_DELAY):this.activate(!0)},e.prototype.onMouseLeave=function(){var t=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout((function(){return t.deactivate()}),e.ACTIVATION_DELAY):this.deactivate()},e.prototype.getClassName=function(t){var e=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return t?e+"-"+t:e},e.EVENT_MENU_ITEM_SELECTED="menuItemSelected",e.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",e.ACTIVATION_DELAY=80,kp([K("popupService")],e.prototype,"popupService",void 0),kp([H],e.prototype,"init",null),e}(gr),Gp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Bp=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Up=function(t){function e(n){var o=t.call(this,e.getTemplate(n))||this;return o.closable=!0,o.config=n,o}return Gp(e,t),e.getTemplate=function(t){var e=t&&t.cssIdentifier||"default";return'<div class="ag-panel ag-'+e+'-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-'+e+'-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-'+e+'-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-'+e+'-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-'+e+'-panel-content-wrapper"></div>\n        </div>'},e.prototype.postConstruct=function(){var t=this,e=this.config,n=e.component,o=e.closable,r=e.hideTitleBar,i=e.title,s=e.minWidth,a=void 0===s?250:s,l=e.width,c=e.minHeight,u=void 0===c?250:c,d=e.height,p=e.centered,h=e.popup,f=e.x,g=e.y;this.positionableFeature=new Lr(this.getGui(),{minWidth:a,width:l,minHeight:u,height:d,centered:p,x:f,y:g,popup:h,calculateTopBuffer:function(){return t.positionableFeature.getHeight()-t.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var _=this.getGui();n&&this.setBodyComponent(n),r?ro(this.eTitleBar,!1):(i&&this.setTitle(i),this.setClosable(null!=o?o:this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",(function(e){var n=t.gridOptionsService.getDocument();if(_.contains(e.relatedTarget)||_.contains(n.activeElement)||t.eTitleBarButtons.contains(e.target))e.preventDefault();else{var o=t.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");o&&o.focus()}})),h&&this.positionableFeature.isPositioned()||(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},e.prototype.renderComponent=function(){var t=this,e=this.getGui();e.focus(),this.close=function(){e.parentElement.removeChild(e),t.destroy()}},e.prototype.getHeight=function(){return this.positionableFeature.getHeight()},e.prototype.setHeight=function(t){this.positionableFeature.setHeight(t)},e.prototype.getWidth=function(){return this.positionableFeature.getWidth()},e.prototype.setWidth=function(t){this.positionableFeature.setWidth(t)},e.prototype.setClosable=function(t){if(t!==this.closable&&(this.closable=t),t){var n=this.closeButtonComp=new gr(e.CLOSE_BTN_TEMPLATE);this.getContext().createBean(n);var o=n.getGui(),r=jo("close",this.gridOptionsService);r.classList.add("ag-panel-title-bar-button-icon"),o.appendChild(r),this.addTitleBarButton(n),n.addManagedListener(o,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){(o=this.closeButtonComp.getGui()).parentElement.removeChild(o),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}},e.prototype.setBodyComponent=function(t){t.setParentComponent(this),this.eContentWrapper.appendChild(t.getGui())},e.prototype.addTitleBarButton=function(t,e){var n=this.eTitleBarButtons,o=n.children,r=o.length;null==e&&(e=r),e=Math.max(0,Math.min(e,r)),t.addCssClass("ag-panel-title-bar-button");var i=t.getGui();0===e?n.insertAdjacentElement("afterbegin",i):e===r?n.insertAdjacentElement("beforeend",i):o[e-1].insertAdjacentElement("afterend",i),t.setParentComponent(this)},e.prototype.getBodyHeight=function(){return co(this.eContentWrapper)},e.prototype.getBodyWidth=function(){return uo(this.eContentWrapper)},e.prototype.setTitle=function(t){this.eTitle.innerText=t},e.prototype.onBtClose=function(){this.close()},e.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var e=this.getGui();e&&e.offsetParent&&this.close(),t.prototype.destroy.call(this)},e.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',Bp([_r("eContentWrapper")],e.prototype,"eContentWrapper",void 0),Bp([_r("eTitleBar")],e.prototype,"eTitleBar",void 0),Bp([_r("eTitleBarButtons")],e.prototype,"eTitleBarButtons",void 0),Bp([_r("eTitle")],e.prototype,"eTitle",void 0),Bp([H],e.prototype,"postConstruct",null),e}(gr),jp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Vp=function(){return Vp=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Vp.apply(this,arguments)},Wp=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Hp=function(t){function e(e){var n=t.call(this,Vp(Vp({},e),{popup:!0}))||this;return n.isMaximizable=!1,n.isMaximized=!1,n.maximizeListeners=[],n.resizeListenerDestroy=null,n.lastPosition={x:0,y:0,width:0,height:0},n}return jp(e,t),e.prototype.postConstruct=function(){var e=this,n=this.getGui(),o=this.config,r=o.movable,i=o.resizable,s=o.maximizable;this.addCssClass("ag-dialog"),t.prototype.postConstruct.call(this),this.addManagedListener(n,"focusin",(function(t){n.contains(t.relatedTarget)||e.popupService.bringPopupToFront(n)})),r&&this.setMovable(r),s&&this.setMaximizable(s),i&&this.setResizable(i)},e.prototype.renderComponent=function(){var t=this.getGui(),e=this.config,n=e.alwaysOnTop,o=e.modal,r=e.title,i=this.localeService.getLocaleTextFunc(),s=this.popupService.addPopup({modal:o,eChild:t,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:n,ariaLabel:r||i("ariaLabelDialog","Dialog")});s&&(this.close=s.hideFunc)},e.prototype.toggleMaximize=function(){var t=this.positionableFeature.getPosition();if(this.isMaximized){var e=this.lastPosition,n=e.x,o=e.y,r=e.width,i=e.height;this.setWidth(r),this.setHeight(i),this.positionableFeature.offsetElement(n,o)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=t.x,this.lastPosition.y=t.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},e.prototype.refreshMaximizeIcon=function(){ro(this.maximizeIcon,!this.isMaximized),ro(this.minimizeIcon,this.isMaximized)},e.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach((function(t){return t()})),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},e.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),t.prototype.destroy.call(this)},e.prototype.setResizable=function(t){this.positionableFeature.setResizable(t)},e.prototype.setMovable=function(t){this.positionableFeature.setMovable(t,this.eTitleBar)},e.prototype.setMaximizable=function(t){var e=this;if(!t)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));var n=this.eTitleBar;if(n&&t!==this.isMaximizable){var o=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),o.addManagedListener(o.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(o,0),this.maximizeListeners.push(this.addManagedListener(n,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",(function(){e.isMaximized=!1,e.refreshMaximizeIcon()}))}},e.prototype.buildMaximizeAndMinimizeElements=function(){var t=this.maximizeButtonComp=this.createBean(new gr('<div class="ag-dialog-button"></span>')),e=t.getGui();return this.maximizeIcon=jo("maximize",this.gridOptionsService),e.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=jo("minimize",this.gridOptionsService),e.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),t},Wp([K("popupService")],e.prototype,"popupService",void 0),e}(Up),$p=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),zp=function(){return zp=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},zp.apply(this,arguments)},Kp=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Yp=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Zp=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Yp(arguments[e]));return t},qp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return $p(e,t),n=e,e.addKeyboardModeEvents=function(t,e){var o=n.instancesMonitored.get(t);o&&o.length>0?-1===o.indexOf(e)&&o.push(e):(n.instancesMonitored.set(t,[e]),t.addEventListener("keydown",n.toggleKeyboardMode),t.addEventListener("mousedown",n.toggleKeyboardMode))},e.removeKeyboardModeEvents=function(t,e){var o=n.instancesMonitored.get(t),r=[];o&&o.length&&(r=Zp(o).filter((function(t){return t!==e})),n.instancesMonitored.set(t,r)),0===r.length&&(t.removeEventListener("keydown",n.toggleKeyboardMode),t.removeEventListener("mousedown",n.toggleKeyboardMode))},e.toggleKeyboardMode=function(t){var e=n.keyboardModeActive,o="keydown"===t.type;if(!(o&&(t.ctrlKey||t.metaKey||t.altKey)||e&&o||!e&&!o)){n.keyboardModeActive=o;var r=t.target.ownerDocument;if(r){var i=n.instancesMonitored.get(r);i&&i.forEach((function(t){t.dispatchEvent({type:o?zt.EVENT_KEYBOARD_FOCUS:zt.EVENT_MOUSE_FOCUS})}))}}},e.prototype.init=function(){var t=this,e=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,zt.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.addManagedListener(this.eventService,zt.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_GROUP_OPENED,e),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.ctrlsService.whenReady((function(e){t.gridCtrl=e.gridCtrl;var o=t.gridOptionsService.getDocument();n.addKeyboardModeEvents(o,t.gridCtrl),t.addDestroyFunc((function(){return t.unregisterGridCompController(t.gridCtrl)}))}))},e.prototype.unregisterGridCompController=function(t){var e=this.gridOptionsService.getDocument();n.removeKeyboardModeEvents(e,t)},e.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var t=this.focusedCellPosition.column,e=this.columnModel.getGridColumn(t.getId());t!==e&&this.clearFocusedCell()}},e.prototype.isKeyboardMode=function(){return n.keyboardModeActive},e.prototype.getFocusCellToUseAfterRefresh=function(){var t=this.gridOptionsService.getDocument();return this.gridOptionsService.is("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(t.activeElement,Vl.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},e.prototype.getFocusHeaderToUseAfterRefresh=function(){var t=this.gridOptionsService.getDocument();return this.gridOptionsService.is("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(t.activeElement,gu.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},e.prototype.isDomDataMissingInHierarchy=function(t,e){for(var n=t;n;){if(this.gridOptionsService.getDomData(n,e))return!1;n=n.parentNode}return!0},e.prototype.getFocusedCell=function(){return this.focusedCellPosition},e.prototype.getFocusEventParams=function(){var t=this.focusedCellPosition,e=t.rowIndex,n=t.rowPinned,o={rowIndex:e,rowPinned:n,column:t.column,isFullWidthCell:!1},r=this.rowRenderer.getRowByPosition({rowIndex:e,rowPinned:n});return r&&(o.isFullWidthCell=r.isFullWidth()),o},e.prototype.clearFocusedCell=function(){if(null!=this.focusedCellPosition){var t=zp({type:zt.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(t)}},e.prototype.setFocusedCell=function(t){var e=t.column,n=t.rowIndex,r=t.rowPinned,i=t.forceBrowserFocus,s=void 0!==i&&i,a=t.preventScrollOnBrowserFocus,l=void 0!==a&&a,c=this.columnModel.getGridColumn(e);if(c){this.focusedCellPosition=c?{rowIndex:n,rowPinned:o(r),column:c}:null;var u=zp(zp({type:zt.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:s,preventScrollOnBrowserFocus:l,floating:null});this.eventService.dispatchEvent(u)}else this.focusedCellPosition=null},e.prototype.isCellFocused=function(t){return null!=this.focusedCellPosition&&(this.focusedCellPosition.column===t.column&&this.isRowFocused(t.rowIndex,t.rowPinned))},e.prototype.isRowNodeFocused=function(t){return this.isRowFocused(t.rowIndex,t.rowPinned)},e.prototype.isHeaderWrapperFocused=function(t){if(null==this.focusedHeaderPosition)return!1;var e=t.getColumnGroupChild(),n=t.getRowIndex(),o=t.getPinned(),r=this.focusedHeaderPosition,i=r.column,s=r.headerRowIndex;return e===i&&n===s&&o==i.getPinned()},e.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},e.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},e.prototype.setFocusedHeader=function(t,e){this.focusedHeaderPosition={headerRowIndex:t,column:e}},e.prototype.focusHeaderPosition=function(t){var e=t.direction,n=t.fromTab,o=t.allowUserOverride,r=t.event,i=t.headerPosition;if(o){var s,a=this.getFocusedHeader(),l=this.headerNavigationService.getHeaderRowCount();if(n){if(s=this.gridOptionsService.getCallback("tabToNextHeader"))i=s({backwards:"Before"===e,previousHeaderPosition:a,nextHeaderPosition:i,headerRowCount:l})}else if((s=this.gridOptionsService.getCallback("navigateToNextHeader"))&&r)i=s({key:r.key,previousHeaderPosition:a,nextHeaderPosition:i,headerRowCount:l,event:r})}return!!i&&(-1===i.headerRowIndex?this.focusGridView(i.column):(this.headerNavigationService.scrollToColumn(i.column,e),this.ctrlsService.getHeaderRowContainerCtrl(i.column.getPinned()).focusHeader(i.headerRowIndex,i.column,r)))},e.prototype.focusFirstHeader=function(){var t=this.columnModel.getAllDisplayedColumns()[0];return!!t&&(t.getParent()&&(t=this.columnModel.getColumnGroupAtLevel(t,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:t}}))},e.prototype.focusLastHeader=function(t){var e=this.headerNavigationService.getHeaderRowCount()-1,n=ft(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:e,column:n},event:t})},e.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},e.prototype.isRowFocused=function(t,e){return null!=this.focusedCellPosition&&(this.focusedCellPosition.rowIndex===t&&this.focusedCellPosition.rowPinned===o(e))},e.prototype.findFocusableElements=function(t,e,n){void 0===n&&(n=!1);var o=eo,r=no;e&&(r+=", "+e),n&&(r+=', [tabindex="-1"]');var i=Array.prototype.slice.apply(t.querySelectorAll(o)),s=Array.prototype.slice.apply(t.querySelectorAll(r));if(!s.length)return i;var a;return a=s,i.filter((function(t){return-1===a.indexOf(t)}))},e.prototype.focusInto=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var o=this.findFocusableElements(t,null,n),r=e?ft(o):o[0];return!!r&&(r.focus({preventScroll:!0}),!0)},e.prototype.findFocusableElementBeforeTabGuard=function(t,e){if(!e)return null;var n=this.findFocusableElements(t),o=n.indexOf(e);if(-1===o)return null;for(var r=-1,i=o-1;i>=0;i--)if(n[i].classList.contains(Yd.TAB_GUARD_TOP)){r=i;break}return r<=0?null:n[r-1]},e.prototype.findNextFocusableElement=function(t,e,n){void 0===t&&(t=this.eGridDiv);var o=this.findFocusableElements(t,e?':not([tabindex="-1"])':null),r=this.gridOptionsService.getDocument().activeElement,i=(e?o.findIndex((function(t){return t.contains(r)})):o.indexOf(r))+(n?-1:1);return i<0||i>=o.length?null:o[i]},e.prototype.isTargetUnderManagedComponent=function(t,e){if(!e)return!1;var n=t.querySelectorAll("."+Rr.FOCUS_MANAGED_CLASS);if(!n.length)return!1;for(var o=0;o<n.length;o++)if(n[o].contains(e))return!0;return!1},e.prototype.findTabbableParent=function(t,e){void 0===e&&(e=5);for(var n=0;t&&null===In(t)&&++n<=e;)t=t.parentElement;return null===In(t)?null:t},e.prototype.focusGridView=function(t,e){if(this.gridOptionsService.is("suppressCellFocus"))return e?this.focusLastHeader():this.focusNextGridCoreContainer(!1);var n=e?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!n)return!1;var r=n.rowIndex,i=n.rowPinned,s=this.getFocusedHeader();if(!t&&s&&(t=s.column),null==r||!t)return!1;if(this.navigationService.ensureCellVisible({rowIndex:r,column:t,rowPinned:i}),this.setFocusedCell({rowIndex:r,column:t,rowPinned:o(i),forceBrowserFocus:!0}),this.rangeService){var a={rowIndex:r,rowPinned:i,column:t};this.rangeService.setRangeToCell(a)}return!0},e.prototype.focusNextGridCoreContainer=function(t,e){return void 0===e&&(e=!1),!(e||!this.gridCtrl.focusNextInnerContainer(t))||((e||!t&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(t),!1)},e.AG_KEYBOARD_FOCUS="ag-keyboard-focus",e.keyboardModeActive=!1,e.instancesMonitored=new Map,Kp([K("eGridDiv")],e.prototype,"eGridDiv",void 0),Kp([K("columnModel")],e.prototype,"columnModel",void 0),Kp([K("headerNavigationService")],e.prototype,"headerNavigationService",void 0),Kp([K("rowRenderer")],e.prototype,"rowRenderer",void 0),Kp([K("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),Kp([Y("rangeService")],e.prototype,"rangeService",void 0),Kp([K("navigationService")],e.prototype,"navigationService",void 0),Kp([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Kp([H],e.prototype,"init",null),e=n=Kp([z("focusService")],e)}(Ut),Xp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Jp=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Qp=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},th=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Qp(arguments[e]));return t};!function(t){t[t.vertical=0]="vertical",t[t.horizontal=1]="horizontal"}(bp||(bp={}));var eh,nh=0,oh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.popupList=[],e}var n;return Xp(e,t),n=e,e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady((function(e){t.gridCtrl=e.gridCtrl,t.addManagedListener(t.gridCtrl,zt.EVENT_KEYBOARD_FOCUS,(function(){t.popupList.forEach((function(t){return t.element.classList.add(qp.AG_KEYBOARD_FOCUS)}))})),t.addManagedListener(t.gridCtrl,zt.EVENT_MOUSE_FOCUS,(function(){t.popupList.forEach((function(t){return t.element.classList.remove(qp.AG_KEYBOARD_FOCUS)}))}))}))},e.prototype.getPopupParent=function(){var t=this.gridOptionsService.get("popupParent");return t||this.gridCtrl.getGui()},e.prototype.positionPopupForMenu=function(t){var e=t.eventSource.getBoundingClientRect(),n=this.getParentRect(),o=this.keepXYWithinBounds(t.ePopup,e.top-n.top,bp.vertical),r=t.ePopup.clientWidth>0?t.ePopup.clientWidth:200;t.ePopup.style.minWidth=r+"px";var i,s=n.right-n.left-r;function a(){return e.right-n.left-2}function l(){return e.left-n.left-r}this.gridOptionsService.is("enableRtl")?((i=l())<0&&(i=a()),i>s&&(i=0)):((i=a())>s&&(i=l()),i<0&&(i=0)),t.ePopup.style.left=i+"px",t.ePopup.style.top=o+"px"},e.prototype.positionPopupUnderMouseEvent=function(t){var e=this,n=t.ePopup,o=t.nudgeX,r=t.nudgeY,i=t.skipObserver;this.positionPopup({ePopup:n,nudgeX:o,nudgeY:r,keepWithinBounds:!0,skipObserver:i,updatePosition:function(){return e.calculatePointerAlign(t.mouseEvent)},postProcessCallback:function(){return e.callPostProcessPopup(t.type,t.ePopup,null,t.mouseEvent,t.column,t.rowNode)}})},e.prototype.calculatePointerAlign=function(t){var e=this.getParentRect();return{x:t.clientX-e.left,y:t.clientY-e.top}},e.prototype.positionPopupByComponent=function(t){var e=this,n=t.eventSource.getBoundingClientRect(),o=t.alignSide||"left",r=t.position||"over",i=this.getParentRect();this.positionPopup({ePopup:t.ePopup,nudgeX:t.nudgeX,nudgeY:t.nudgeY,keepWithinBounds:t.keepWithinBounds,updatePosition:function(){var e=n.left-i.left;return"right"===o&&(e-=t.ePopup.offsetWidth-n.width),{x:e,y:"over"===r?n.top-i.top:n.top-i.top+n.height}},postProcessCallback:function(){return e.callPostProcessPopup(t.type,t.ePopup,t.eventSource,null,t.column,t.rowNode)}})},e.prototype.callPostProcessPopup=function(t,e,n,o,r,i){var s=this.gridOptionsService.getCallback("postProcessPopup");s&&s({column:r,rowNode:i,ePopup:e,type:t,eventSource:n,mouseEvent:o})},e.prototype.positionPopup=function(t){var e=this,o=t.ePopup,r=t.keepWithinBounds,i=t.nudgeX,s=t.nudgeY,a=t.skipObserver,l=t.updatePosition,c={width:0,height:0},u=function(n){void 0===n&&(n=!1);var a=l(),u=a.x,d=a.y;n&&o.clientWidth===c.width&&o.clientHeight===c.height||(c.width=o.clientWidth,c.height=o.clientHeight,i&&(u+=i),s&&(d+=s),r&&(u=e.keepXYWithinBounds(o,u,bp.horizontal),d=e.keepXYWithinBounds(o,d,bp.vertical)),o.style.left=u+"px",o.style.top=d+"px",t.postProcessCallback&&t.postProcessCallback())};if(u(),!a){var d=this.resizeObserverService.observeResize(o,(function(){return u(!0)}));setTimeout((function(){return d()}),n.WAIT_FOR_POPUP_CONTENT_RESIZE)}},e.prototype.getActivePopups=function(){return this.popupList.map((function(t){return t.element}))},e.prototype.getPopupList=function(){return this.popupList},e.prototype.getParentRect=function(){var t=this.gridOptionsService.getDocument(),e=this.getPopupParent();e===t.body?e=t.documentElement:"static"===getComputedStyle(e).position&&(e=e.offsetParent);var n=getComputedStyle(e),o=e.getBoundingClientRect();return{top:o.top+parseFloat(n.borderTopWidth)||0,left:o.left+parseFloat(n.borderLeftWidth)||0,right:o.right+parseFloat(n.borderRightWidth)||0,bottom:o.bottom+parseFloat(n.borderBottomWidth)||0}},e.prototype.keepXYWithinBounds=function(t,e,n){var o=n===bp.vertical,r=o?"clientHeight":"clientWidth",i=o?"top":"left",s=o?"offsetHeight":"offsetWidth",a=o?"scrollTop":"scrollLeft",l=this.gridOptionsService.getDocument(),c=l.documentElement,u=this.getPopupParent(),d=u.getBoundingClientRect(),p=l.documentElement.getBoundingClientRect(),h=u===l.body,f=t[s],g=h?(o?po:ho)(c)+c[a]:u[r];h&&(g-=Math.abs(p[i]-d[i]));var _=g-f;return Math.min(Math.max(e,0),Math.abs(_))},e.prototype.keepPopupPositionedRelativeTo=function(t){var e=this,n=this.getPopupParent(),o=n.getBoundingClientRect(),r=t.element.getBoundingClientRect(),i=o.top-r.top,s=o.left-r.left,a=i,l=s,c=t.ePopup.style.top,u=parseInt(c.substring(0,c.length-1),10),d=t.ePopup.style.left,p=parseInt(d.substring(0,d.length-1),10);return new sr((function(o){e.getFrameworkOverrides().setInterval((function(){var o=n.getBoundingClientRect(),r=t.element.getBoundingClientRect();if(0==r.top&&0==r.left&&0==r.height&&0==r.width)t.hidePopup();else{var c=o.top-r.top;if(c!=a){var d=e.keepXYWithinBounds(t.ePopup,u+i-c,bp.vertical);t.ePopup.style.top=d+"px"}a=c;var h=o.left-r.left;if(h!=l){var f=e.keepXYWithinBounds(t.ePopup,p+s-h,bp.horizontal);t.ePopup.style.left=f+"px"}l=h}}),200).then((function(t){o((function(){null!=t&&window.clearInterval(t)}))}))}))},e.prototype.addPopup=function(t){var e,n=this,o=t.modal,r=t.eChild,i=t.closeOnEsc,s=t.closedCallback,a=t.click,l=t.alwaysOnTop,c=t.afterGuiAttached,u=t.positionCallback,d=t.anchorToElement,p=t.ariaLabel,h=this.gridOptionsService.getDocument(),f=new sr((function(t){return t((function(){}))}));if(!h)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:function(){},stopAnchoringPromise:f};var g=this.popupList.findIndex((function(t){return t.element===r}));if(-1!==g){var _=this.popupList[g];return{hideFunc:_.hideFunc,stopAnchoringPromise:_.stopAnchoringPromise}}var m=this.getPopupParent();null==r.style.top&&(r.style.top="0px"),null==r.style.left&&(r.style.left="0px");var y=document.createElement("div"),v=this.environment.getTheme().allThemes;v.length&&(e=y.classList).add.apply(e,th(v)),y.classList.add("ag-popup"),r.classList.add(this.gridOptionsService.is("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),r.hasAttribute("role")||ze(r,"dialog"),qe(r,p),this.focusService.isKeyboardMode()&&r.classList.add(qp.AG_KEYBOARD_FOCUS),y.appendChild(r),m.appendChild(y),l?this.setAlwaysOnTop(y,!0):this.bringPopupToFront(y);var C=!1,E=function(t){y.contains(h.activeElement)&&(t.key===Wo.ESCAPE&&w({keyboardEvent:t}))},b=function(t){return w({mouseEvent:t})},S=function(t){return w({touchEvent:t})},w=function(t){void 0===t&&(t={});var e=t.mouseEvent,o=t.touchEvent,i=t.keyboardEvent;n.isEventFromCurrentPopup({mouseEvent:e,touchEvent:o},r)||n.isEventSameChainAsOriginalEvent({originalMouseEvent:a,mouseEvent:e,touchEvent:o})||C||(C=!0,m.removeChild(y),h.removeEventListener("keydown",E),h.removeEventListener("mousedown",b),h.removeEventListener("touchstart",S),h.removeEventListener("contextmenu",b),n.eventService.removeEventListener(zt.EVENT_DRAG_STARTED,b),s&&s(e||o||i),n.popupList=n.popupList.filter((function(t){return t.element!==r})),f&&f.then((function(t){return t&&t()})))};return c&&c({hidePopup:w}),window.setTimeout((function(){i&&h.addEventListener("keydown",E),o&&(h.addEventListener("mousedown",b),n.eventService.addEventListener(zt.EVENT_DRAG_STARTED,b),h.addEventListener("touchstart",S),h.addEventListener("contextmenu",b))}),0),u&&u(),d&&(f=this.keepPopupPositionedRelativeTo({element:d,ePopup:r,hidePopup:w})),this.popupList.push({element:r,wrapper:y,hideFunc:w,stopAnchoringPromise:f,instanceId:nh++,isAnchored:!!d}),{hideFunc:w,stopAnchoringPromise:f}},e.prototype.hasAnchoredPopup=function(){return this.popupList.some((function(t){return t.isAnchored}))},e.prototype.isEventFromCurrentPopup=function(t,e){var n=t.mouseEvent,o=t.touchEvent,r=n||o;if(!r)return!1;var i=this.popupList.findIndex((function(t){return t.element===e}));if(-1===i)return!1;for(var s=i;s<this.popupList.length;s++){if(Lt(this.popupList[s].element,r))return!0}return this.isElementWithinCustomPopup(r.target)},e.prototype.isElementWithinCustomPopup=function(t){for(var e=this.gridOptionsService.getDocument();t&&t!==e.body;){if(t.classList.contains("ag-custom-component-popup")||null===t.parentElement)return!0;t=t.parentElement}return!1},e.prototype.isEventSameChainAsOriginalEvent=function(t){var e=t.originalMouseEvent,n=t.mouseEvent,o=t.touchEvent,r=null;if(n?r=n:o&&(r=o.touches[0]),r&&e){var i=n?n.screenX:0,s=n?n.screenY:0,a=Math.abs(e.screenX-i)<5,l=Math.abs(e.screenY-s)<5;if(a&&l)return!0}return!1},e.prototype.getWrapper=function(t){for(;!t.classList.contains("ag-popup")&&t.parentElement;)t=t.parentElement;return t.classList.contains("ag-popup")?t:null},e.prototype.setAlwaysOnTop=function(t,e){var n=this.getWrapper(t);n&&(n.classList.toggle("ag-always-on-top",!!e),e&&this.bringPopupToFront(n))},e.prototype.bringPopupToFront=function(t){var e=this.getPopupParent(),n=Array.prototype.slice.call(e.querySelectorAll(".ag-popup")),o=n.length,r=Array.prototype.slice.call(e.querySelectorAll(".ag-popup.ag-always-on-top")),i=r.length,s=this.getWrapper(t);if(s&&!(o<=1)&&e.contains(t)){var a=n.indexOf(s),l=s.querySelectorAll("div"),c=[];if(l.forEach((function(t){0!==t.scrollTop&&c.push([t,t.scrollTop])})),i)s.classList.contains("ag-always-on-top")?a!==o-1&&ft(r).insertAdjacentElement("afterend",s):a!==o-i-1&&r[0].insertAdjacentElement("beforebegin",s);else a!==o-1&&ft(n).insertAdjacentElement("afterend",s);for(;c.length;){var u=c.pop();u[0].scrollTop=u[1]}var d={type:"popupToFront",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,eWrapper:s};this.eventService.dispatchEvent(d)}},e.WAIT_FOR_POPUP_CONTENT_RESIZE=200,Jp([K("focusService")],e.prototype,"focusService",void 0),Jp([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Jp([K("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Jp([H],e.prototype,"postConstruct",null),e=n=Jp([z("popupService")],e)}(Ut),rh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ih=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},sh=function(t){function e(n,o,r){void 0===n&&(n="default"),void 0===o&&(o="listbox");var i=t.call(this,e.getTemplate(n))||this;return i.cssIdentifier=n,i.ariaRole=o,i.listName=r,i.renderedRows=new Map,i.rowHeight=20,i}return rh(e,t),e.prototype.postConstruct=function(){var t=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(e){return t.onFocusIn(e)},onFocusOut:function(e){return t.onFocusOut(e)},focusInnerElement:function(e){return t.focusInnerElement(e)},onTabKeyDown:function(e){return t.onTabKeyDown(e)},handleKeyDown:function(e){return t.handleKeyDown(e)}}),this.setAriaProperties(),this.addManagedListener(this.eventService,zt.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))},e.prototype.onGridStylesChanged=function(){this.rowHeight=this.getItemHeight(),this.refresh()},e.prototype.setAriaProperties=function(){var t=this.localeService.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),e=this.eContainer;ze(e,this.ariaRole),qe(e,t)},e.prototype.addResizeObserver=function(){var t=this,e=this.resizeObserverService.observeResize(this.getGui(),(function(){return t.drawVirtualRows()}));this.addDestroyFunc(e)},e.prototype.focusInnerElement=function(t){this.focusRow(t?this.model.getRowCount()-1:0)},e.prototype.onFocusIn=function(t){var e=t.target;return e.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=Ze(e)-1),!1},e.prototype.onFocusOut=function(t){return this.getFocusableElement().contains(t.relatedTarget)||(this.lastFocusedRowIndex=null),!1},e.prototype.handleKeyDown=function(t){switch(t.key){case Wo.UP:case Wo.DOWN:this.navigate(t.key===Wo.UP)&&t.preventDefault()}},e.prototype.onTabKeyDown=function(t){this.navigate(t.shiftKey)?t.preventDefault():this.forceFocusOutOfContainer(t.shiftKey)},e.prototype.navigate=function(t){if(null==this.lastFocusedRowIndex)return!1;var e=this.lastFocusedRowIndex+(t?-1:1);return!(e<0||e>=this.model.getRowCount())&&(this.focusRow(e),!0)},e.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},e.prototype.focusRow=function(t){var e=this;this.ensureIndexVisible(t),window.setTimeout((function(){if(e.isAlive()){var n=e.renderedRows.get(t);n&&n.eDiv.focus()}}),10)},e.prototype.getComponentAt=function(t){var e=this.renderedRows.get(t);return e&&e.rowComponent},e.prototype.forEachRenderedRow=function(t){this.renderedRows.forEach((function(e,n){return t(e.rowComponent,n)}))},e.getTemplate=function(t){return'\n            <div class="ag-virtual-list-viewport ag-'+t+'-virtual-list-viewport" role="presentation">\n                <div class="ag-virtual-list-container ag-'+t+'-virtual-list-container" ref="eContainer"></div>\n            </div>'},e.prototype.getItemHeight=function(){return this.environment.getListItemHeight()},e.prototype.ensureIndexVisible=function(t){var e=this.model.getRowCount();if("number"!=typeof t||t<0||t>=e)console.warn("AG Grid: invalid row index for ensureIndexVisible: "+t);else{var n=t*this.rowHeight,o=n+this.rowHeight,r=this.getGui(),i=r.scrollTop,s=r.offsetHeight,a=i+s<o;if(i>n)r.scrollTop=n;else if(a){var l=o-s;r.scrollTop=l}}},e.prototype.setComponentCreator=function(t){this.componentCreator=t},e.prototype.setComponentUpdater=function(t){this.componentUpdater=t},e.prototype.getRowHeight=function(){return this.rowHeight},e.prototype.getScrollTop=function(){return this.getGui().scrollTop},e.prototype.setRowHeight=function(t){this.rowHeight=t,this.refresh()},e.prototype.refresh=function(t){var e=this;if(null!=this.model&&this.isAlive()){var n=this.model.getRowCount();this.eContainer.style.height=n*this.rowHeight+"px",F((function(){return e.eContainer.clientHeight>=n*e.rowHeight}),(function(){e.isAlive()&&(e.canSoftRefresh(t)?e.drawVirtualRows(!0):(e.clearVirtualRows(),e.drawVirtualRows()))}))}},e.prototype.canSoftRefresh=function(t){return!!(t&&this.renderedRows.size&&"function"==typeof this.model.areRowsEqual&&this.componentUpdater)},e.prototype.clearVirtualRows=function(){var t=this;this.renderedRows.forEach((function(e,n){return t.removeRow(n)}))},e.prototype.drawVirtualRows=function(t){if(this.isAlive()){var e=this.getGui(),n=e.scrollTop,o=n+e.offsetHeight,r=Math.floor(n/this.rowHeight),i=Math.floor(o/this.rowHeight);this.ensureRowsRendered(r,i,t)}},e.prototype.ensureRowsRendered=function(t,e,n){var o=this;this.renderedRows.forEach((function(n,r){(r<t||r>e)&&r!==o.lastFocusedRowIndex&&o.removeRow(r)})),n&&this.refreshRows();for(var r=t;r<=e;r++)this.renderedRows.has(r)||r<this.model.getRowCount()&&this.insertRow(r)},e.prototype.insertRow=function(t){var e=this,n=this.model.getRow(t),o=document.createElement("div");if(o.classList.add("ag-virtual-list-item","ag-"+this.cssIdentifier+"-virtual-list-item"),ze(o,"tree"===this.ariaRole?"treeitem":"option"),sn(o,this.model.getRowCount()),an(o,t+1),o.setAttribute("tabindex","-1"),"function"==typeof this.model.isRowSelected){var r=this.model.isRowSelected(t);_n(o,!!r),mn(o,r)}o.style.height=this.rowHeight+"px",o.style.top=this.rowHeight*t+"px";var i=this.componentCreator(n,o);i.addGuiEventListener("focusin",(function(){return e.lastFocusedRowIndex=t})),o.appendChild(i.getGui()),this.renderedRows.has(t-1)?this.renderedRows.get(t-1).eDiv.insertAdjacentElement("afterend",o):this.renderedRows.has(t+1)?this.renderedRows.get(t+1).eDiv.insertAdjacentElement("beforebegin",o):this.eContainer.appendChild(o),this.renderedRows.set(t,{rowComponent:i,eDiv:o,value:n})},e.prototype.removeRow=function(t){var e=this.renderedRows.get(t);this.eContainer.removeChild(e.eDiv),this.destroyBean(e.rowComponent),this.renderedRows.delete(t)},e.prototype.refreshRows=function(){var t=this,e=this.model.getRowCount();this.renderedRows.forEach((function(n,o){var r,i;if(o>=e)t.removeRow(o);else{var s=t.model.getRow(o);(null===(i=(r=t.model).areRowsEqual)||void 0===i?void 0:i.call(r,n.value,s))?t.componentUpdater(s,n.rowComponent):t.removeRow(o)}}))},e.prototype.addScrollListener=function(){var t=this;this.addGuiEventListener("scroll",(function(){return t.drawVirtualRows()}),{passive:!0})},e.prototype.setModel=function(t){this.model=t},e.prototype.destroy=function(){this.isAlive()&&(this.clearVirtualRows(),t.prototype.destroy.call(this))},ih([K("resizeObserverService")],e.prototype,"resizeObserverService",void 0),ih([_r("eContainer")],e.prototype,"eContainer",void 0),ih([H],e.prototype,"postConstruct",null),e}(Tp),ah=["mouseover","mouseout","mouseenter","mouseleave"],lh=["touchstart","touchend","touchmove","touchcancel"],ch=function(){function t(){this.isOutsideAngular=function(t){return Et(ah,t)}}return t.prototype.setTimeout=function(t,e){window.setTimeout(t,e)},t.prototype.setInterval=function(t,e){return new sr((function(n){n(window.setInterval(t,e))}))},t.prototype.addEventListener=function(t,e,n,o){var r=Et(lh,e);t.addEventListener(e,n,{capture:!!o,passive:r})},t.prototype.dispatchEvent=function(t,e,n){e()},t.prototype.frameworkComponent=function(t){return null},t.prototype.isFrameworkComponent=function(t){return!1},t}(),uh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),dh=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ph=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},hh=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ph(arguments[e]));return t},fh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return uh(e,t),e.prototype.getNextCellToFocus=function(t,e,n){return void 0===n&&(n=!1),n?this.getNextCellToFocusWithCtrlPressed(t,e):this.getNextCellToFocusWithoutCtrlPressed(t,e)},e.prototype.getNextCellToFocusWithCtrlPressed=function(t,e){var n,o,r=t===Wo.UP,i=t===Wo.DOWN,s=t===Wo.LEFT;if(r||i)o=r?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),n=e.column;else{var a=this.columnModel.getAllDisplayedColumns(),l=this.gridOptionsService.is("enableRtl");o=e.rowIndex,n=s!==l?a[0]:ft(a)}return{rowIndex:o,rowPinned:null,column:n}},e.prototype.getNextCellToFocusWithoutCtrlPressed=function(t,e){for(var n=e,o=!1;!o;){switch(t){case Wo.UP:n=this.getCellAbove(n);break;case Wo.DOWN:n=this.getCellBelow(n);break;case Wo.RIGHT:n=this.gridOptionsService.is("enableRtl")?this.getCellToLeft(n):this.getCellToRight(n);break;case Wo.LEFT:n=this.gridOptionsService.is("enableRtl")?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,console.warn("AG Grid: unknown key for navigation "+t)}o=!n||this.isCellGoodToFocusOn(n)}return n},e.prototype.isCellGoodToFocusOn=function(t){var e,n=t.column;switch(t.rowPinned){case"top":e=this.pinnedRowModel.getPinnedTopRow(t.rowIndex);break;case"bottom":e=this.pinnedRowModel.getPinnedBottomRow(t.rowIndex);break;default:e=this.rowModel.getRow(t.rowIndex)}return!!e&&!n.isSuppressNavigable(e)},e.prototype.getCellToLeft=function(t){if(!t)return null;var e=this.columnModel.getDisplayedColBefore(t.column);return e?{rowIndex:t.rowIndex,column:e,rowPinned:t.rowPinned}:null},e.prototype.getCellToRight=function(t){if(!t)return null;var e=this.columnModel.getDisplayedColAfter(t.column);return e?{rowIndex:t.rowIndex,column:e,rowPinned:t.rowPinned}:null},e.prototype.getRowBelow=function(t){var e=t.rowIndex,n=t.rowPinned;if(this.isLastRowInContainer(t))switch(n){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}var o=this.rowModel.getRow(t.rowIndex),r=this.getNextStickyPosition(o);return r||{rowIndex:e+1,rowPinned:n}},e.prototype.getNextStickyPosition=function(t,e){if(this.gridOptionsService.is("groupRowsSticky")&&t&&t.sticky){var n=hh(this.rowRenderer.getStickyTopRowCtrls()).sort((function(t,e){return t.getRowNode().rowIndex-e.getRowNode().rowIndex})),o=e?-1:1,r=n.findIndex((function(e){return e.getRowNode().rowIndex===t.rowIndex})),i=n[r+o];return i?{rowIndex:i.getRowNode().rowIndex,rowPinned:null}:void 0}},e.prototype.getCellBelow=function(t){if(!t)return null;var e=this.getRowBelow(t);return e?{rowIndex:e.rowIndex,column:t.column,rowPinned:e.rowPinned}:null},e.prototype.isLastRowInContainer=function(t){var e=t.rowPinned,n=t.rowIndex;return"top"===e?this.pinnedRowModel.getPinnedTopRowData().length-1<=n:"bottom"===e?this.pinnedRowModel.getPinnedBottomRowData().length-1<=n:this.paginationProxy.getPageLastRow()<=n},e.prototype.getRowAbove=function(t){var e=t.rowIndex,n=t.rowPinned;if(n?0===e:e===this.paginationProxy.getPageFirstRow())return"top"===n?null:n&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;var o=this.rowModel.getRow(t.rowIndex),r=this.getNextStickyPosition(o,!0);return r||{rowIndex:e-1,rowPinned:n}},e.prototype.getCellAbove=function(t){if(!t)return null;var e=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});return e?{rowIndex:e.rowIndex,column:t.column,rowPinned:e.rowPinned}:null},e.prototype.getLastBodyCell=function(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}},e.prototype.getLastFloatingTopRow=function(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:"top"}},e.prototype.getNextTabbedCell=function(t,e){return e?this.getNextTabbedCellBackwards(t):this.getNextTabbedCellForwards(t)},e.prototype.getNextTabbedCellForwards=function(t){var e=this.columnModel.getAllDisplayedColumns(),n=t.rowIndex,o=t.rowPinned,r=this.columnModel.getDisplayedColAfter(t.column);if(!r){r=e[0];var s=this.getRowBelow(t);if(i(s))return null;if(!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;n=s?s.rowIndex:null,o=s?s.rowPinned:null}return{rowIndex:n,column:r,rowPinned:o}},e.prototype.getNextTabbedCellBackwards=function(t){var e=this.columnModel.getAllDisplayedColumns(),n=t.rowIndex,o=t.rowPinned,r=this.columnModel.getDisplayedColBefore(t.column);if(!r){r=ft(e);var s=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});if(i(s))return null;if(!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;n=s?s.rowIndex:null,o=s?s.rowPinned:null}return{rowIndex:n,column:r,rowPinned:o}},dh([K("columnModel")],e.prototype,"columnModel",void 0),dh([K("rowModel")],e.prototype,"rowModel",void 0),dh([K("rowRenderer")],e.prototype,"rowRenderer",void 0),dh([K("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),dh([K("paginationProxy")],e.prototype,"paginationProxy",void 0),e=dh([z("cellNavigationService")],e)}(Ut),gh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),_h=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},mh=function(t,e){return function(n,o){e(n,o,t)}},yh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.consuming=!1,e}return gh(e,t),e.prototype.setBeans=function(t){this.logger=t.create("AlignedGridsService")},e.prototype.init=function(){this.addManagedListener(this.eventService,zt.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},e.prototype.fireEvent=function(t){if(!this.consuming){var e=this.gridOptionsService.get("alignedGrids");e&&e.forEach((function(e){if(e.api){var n=e.api.__getAlignedGridService();t(n)}}))}},e.prototype.onEvent=function(t){this.consuming=!0,t(),this.consuming=!1},e.prototype.fireColumnEvent=function(t){this.fireEvent((function(e){e.onColumnEvent(t)}))},e.prototype.fireScrollEvent=function(t){"horizontal"===t.direction&&this.fireEvent((function(e){e.onScrollEvent(t)}))},e.prototype.onScrollEvent=function(t){var e=this;this.onEvent((function(){e.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(t.left)}))},e.prototype.getMasterColumns=function(t){var e=[];return t.columns?t.columns.forEach((function(t){e.push(t)})):t.column&&e.push(t.column),e},e.prototype.getColumnIds=function(t){var e=[];return t.columns?t.columns.forEach((function(t){e.push(t.getColId())})):t.column&&e.push(t.column.getColId()),e},e.prototype.onColumnEvent=function(t){var e=this;this.onEvent((function(){switch(t.type){case zt.EVENT_COLUMN_MOVED:case zt.EVENT_COLUMN_VISIBLE:case zt.EVENT_COLUMN_PINNED:case zt.EVENT_COLUMN_RESIZED:var n=t;e.processColumnEvent(n);break;case zt.EVENT_COLUMN_GROUP_OPENED:var o=t;e.processGroupOpenedEvent(o);break;case zt.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}}))},e.prototype.processGroupOpenedEvent=function(t){var e=t.columnGroup,n=null;if(e){var o=e.getGroupId();n=this.columnModel.getProvidedColumnGroup(o)}e&&!n||(this.logger.log("onColumnEvent-> processing "+t+" expanded = "+e.isExpanded()),this.columnModel.setColumnGroupOpened(n,e.isExpanded(),"alignedGridChanged"))},e.prototype.processColumnEvent=function(t){var e,n=this,o=t.column,r=null;if(o&&(r=this.columnModel.getPrimaryColumn(o.getColId())),!o||r){var i=this.getMasterColumns(t);switch(t.type){case zt.EVENT_COLUMN_MOVED:var s=t,a=t.columnApi.getColumnState().map((function(t){return{colId:t.colId}}));this.columnModel.applyColumnState({state:a,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+t.type+" toIndex = "+s.toIndex);break;case zt.EVENT_COLUMN_VISIBLE:var l=t;a=t.columnApi.getColumnState().map((function(t){return{colId:t.colId,hide:t.hide}}));this.columnModel.applyColumnState({state:a},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+t.type+" visible = "+l.visible);break;case zt.EVENT_COLUMN_PINNED:var c=t;a=t.columnApi.getColumnState().map((function(t){return{colId:t.colId,pinned:t.pinned}}));this.columnModel.applyColumnState({state:a},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+t.type+" pinned = "+c.pinned);break;case zt.EVENT_COLUMN_RESIZED:var u=t,d={};i.forEach((function(e){n.logger.log("onColumnEvent-> processing "+t.type+" actualWidth = "+e.getActualWidth()),d[e.getId()]={key:e.getColId(),newWidth:e.getActualWidth()}})),null===(e=u.flexColumns)||void 0===e||e.forEach((function(t){d[t.getId()]&&delete d[t.getId()]})),this.columnModel.setColumnWidths(Object.values(d),!1,u.finished,"alignedGridChanged")}var p=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing(),h=this.gridOptionsService.get("alignedGrids");h&&h.forEach((function(t){t.api&&t.api.setAlwaysShowVerticalScroll(p)}))}},_h([K("columnModel")],e.prototype,"columnModel",void 0),_h([K("ctrlsService")],e.prototype,"ctrlsService",void 0),_h([mh(0,q("loggerFactory"))],e.prototype,"setBeans",null),_h([H],e.prototype,"init",null),e=_h([z("alignedGridsService")],e)}(Ut),vh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ch=function(){return Ch=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Ch.apply(this,arguments)},Eh=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},bh=function(t,e){return function(n,o){e(n,o,t)}},Sh=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},wh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vh(e,t),e.prototype.setBeans=function(t){this.logger=t.create("selectionService"),this.reset()},e.prototype.init=function(){var t=this;this.groupSelectsChildren=this.gridOptionsService.is("groupSelectsChildren"),this.addManagedPropertyListener("groupSelectsChildren",(function(e){return t.groupSelectsChildren=e.currentValue})),this.rowSelection=this.gridOptionsService.get("rowSelection"),this.addManagedPropertyListener("rowSelection",(function(e){return t.rowSelection=e.currentValue})),this.addManagedListener(this.eventService,zt.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},e.prototype.isMultiselect=function(){return"multiple"===this.rowSelection},e.prototype.setNodeSelected=function(t){var e,n=t.newValue,o=t.clearSelection,r=t.suppressFinishActions,i=t.rangeSelect;t.event;var s=t.node,a=t.source,l=void 0===a?"api":a,c=this.groupSelectsChildren&&!0===t.groupSelectsFiltered;if(void 0===s.id)return console.warn("AG Grid: cannot select node until id for node is known"),0;if(s.rowPinned)return console.warn("AG Grid: cannot select pinned rows"),0;if(s.footer)return this.setNodeSelected(Ch(Ch({},t),{node:s.sibling}));var u=this.getLastSelectedNode();if(i&&u&&(u!==s&&this.isMultiselect())){var d=this.selectRange(s,u,t.newValue,l);return this.setLastSelectedNode(s),d}var p=0;c&&s.group||s.selectThisNode(n,t.event,l)&&p++;if(this.groupSelectsChildren&&(null===(e=s.childrenAfterGroup)||void 0===e?void 0:e.length)&&(p+=this.selectChildren(s,n,c,l)),!r){if(n&&(o||!this.isMultiselect())&&(p+=this.clearOtherNodes(s,l)),p>0){this.updateGroupsFromChildrenSelections(l);var h={type:zt.EVENT_SELECTION_CHANGED,source:l};this.eventService.dispatchEvent(h)}n&&this.setLastSelectedNode(s)}return p},e.prototype.selectRange=function(t,e,n,o){var r=this;void 0===n&&(n=!0);var i=this.rowModel.getNodesInRangeForSelection(t,e),s=0;i.forEach((function(e){e.group&&r.groupSelectsChildren||!1===n&&t===e||e.selectThisNode(n,void 0,o)&&s++})),this.updateGroupsFromChildrenSelections(o);var a={type:zt.EVENT_SELECTION_CHANGED,source:o};return this.eventService.dispatchEvent(a),s},e.prototype.selectChildren=function(t,e,n,o){var r=n?t.childrenAfterAggFilter:t.childrenAfterGroup;if(or.missing(r))return 0;for(var i=0,s=0;s<r.length;s++)i+=r[s].setSelectedParams({newValue:e,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:n,source:o});return i},e.prototype.setLastSelectedNode=function(t){this.lastSelectedNode=t},e.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},e.prototype.getSelectedNodes=function(){var t=[];return h(this.selectedNodes,(function(e,n){n&&t.push(n)})),t},e.prototype.getSelectedRows=function(){var t=[];return h(this.selectedNodes,(function(e,n){n&&n.data&&t.push(n.data)})),t},e.prototype.getSelectionCount=function(){return Object.values(this.selectedNodes).length},e.prototype.filterFromSelection=function(t){var e={};Object.entries(this.selectedNodes).forEach((function(n){var o=Sh(n,2),r=o[0],i=o[1];i&&t(i)&&(e[r]=i)})),this.selectedNodes=e},e.prototype.updateGroupsFromChildrenSelections=function(t,e){if(!this.groupSelectsChildren)return!1;if("clientSide"!==this.rowModel.getType())return!1;var n=this.rowModel.getRootNode();e||(e=new Zd(!0,n)).setInactive();var o=!1;return e.forEachChangedNodeDepthFirst((function(e){if(e!==n){var r=e.calculateSelectedFromChildren();o=e.selectThisNode(null!==r&&r,void 0,t)||o}})),o},e.prototype.clearOtherNodes=function(t,e){var n=this,o={},r=0;return h(this.selectedNodes,(function(i,s){if(s&&s.id!==t.id){var a=n.selectedNodes[s.id];r+=a.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:e}),n.groupSelectsChildren&&s.parent&&(o[s.parent.id]=s.parent)}})),h(o,(function(t,n){var o=n.calculateSelectedFromChildren();n.selectThisNode(null!==o&&o,void 0,e)})),r},e.prototype.onRowSelected=function(t){var e=t.node;this.groupSelectsChildren&&e.group||(e.isSelected()?this.selectedNodes[e.id]=e:delete this.selectedNodes[e.id])},e.prototype.syncInRowNode=function(t,e){this.syncInOldRowNode(t,e),this.syncInNewRowNode(t)},e.prototype.syncInOldRowNode=function(t,e){if(r(e)&&t.id!==e.id&&e){var n=e.id;this.selectedNodes[n]==t&&(this.selectedNodes[e.id]=e)}},e.prototype.syncInNewRowNode=function(t){r(this.selectedNodes[t.id])?(t.setSelectedInitialValue(!0),this.selectedNodes[t.id]=t):t.setSelectedInitialValue(!1)},e.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},e.prototype.getBestCostNodeSelection=function(){if("clientSide"===this.rowModel.getType()){var t=this.rowModel.getTopLevelNodes();if(null!==t){var e=[];return function t(n){for(var o=0,r=n.length;o<r;o++){var i=n[o];if(i.isSelected())e.push(i);else{var s=i;s.group&&s.children&&t(s.children)}}}(t),e}}},e.prototype.isEmpty=function(){var t=0;return h(this.selectedNodes,(function(e,n){n&&t++})),0===t},e.prototype.deselectAllRowNodes=function(t){var e=function(t){return t.selectThisNode(!1,void 0,o)},n="clientSide"===this.rowModel.getType(),o=t.source,r=t.justFiltered,i=t.justCurrentPage;if(i||r){if(!n)return void console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");this.getNodesToSelect(r,i).forEach(e)}else h(this.selectedNodes,(function(t,n){n&&e(n)})),this.reset();n&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(o);var s={type:zt.EVENT_SELECTION_CHANGED,source:o};this.eventService.dispatchEvent(s)},e.prototype.getSelectAllState=function(t,e){var n=this,o=0,r=0;return this.getNodesToSelect(t,e).forEach((function(t){n.groupSelectsChildren&&t.group||(t.isSelected()?o++:t.selectable&&r++)})),(0!==o||0!==r)&&(o>0&&r>0?null:o>0)},e.prototype.getNodesToSelect=function(t,e){var n=this;if(void 0===t&&(t=!1),void 0===e&&(e=!1),"clientSide"!==this.rowModel.getType())throw new Error("selectAll only available when rowModelType='clientSide', ie not "+this.rowModel.getType());var o=[];if(e)return this.paginationProxy.forEachNodeOnPage((function(t){if(t.group)if(t.expanded)n.groupSelectsChildren||o.push(t);else{var e=function(t){var n;o.push(t),(null===(n=t.childrenAfterFilter)||void 0===n?void 0:n.length)&&t.childrenAfterFilter.forEach(e)};e(t)}else o.push(t)})),o;var r=this.rowModel;return t?(r.forEachNodeAfterFilter((function(t){o.push(t)})),o):(r.forEachNode((function(t){o.push(t)})),o)},e.prototype.selectAllRowNodes=function(t){if("clientSide"!==this.rowModel.getType())throw new Error("selectAll only available when rowModelType='clientSide', ie not "+this.rowModel.getType());var e=t.source,n=t.justFiltered,o=t.justCurrentPage;this.getNodesToSelect(n,o).forEach((function(t){return t.selectThisNode(!0,void 0,e)})),"clientSide"===this.rowModel.getType()&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(e);var r={type:zt.EVENT_SELECTION_CHANGED,source:e};this.eventService.dispatchEvent(r)},e.prototype.getServerSideSelectionState=function(){return null},e.prototype.setServerSideSelectionState=function(t){},Eh([K("rowModel")],e.prototype,"rowModel",void 0),Eh([K("paginationProxy")],e.prototype,"paginationProxy",void 0),Eh([bh(0,q("loggerFactory"))],e.prototype,"setBeans",null),Eh([H],e.prototype,"init",null),e=Eh([z("selectionService")],e)}(Ut),Oh=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ph=function(){function t(){}return t.prototype.sizeColumnsToFit=function(t){void 0===t&&console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnModel.sizeColumnsToFit(t,"api")},t.prototype.setColumnGroupOpened=function(t,e){this.columnModel.setColumnGroupOpened(t,e,"api")},t.prototype.getColumnGroup=function(t,e){return this.columnModel.getColumnGroup(t,e)},t.prototype.getProvidedColumnGroup=function(t){return this.columnModel.getProvidedColumnGroup(t)},t.prototype.getDisplayNameForColumn=function(t,e){return this.columnModel.getDisplayNameForColumn(t,e)||""},t.prototype.getDisplayNameForColumnGroup=function(t,e){return this.columnModel.getDisplayNameForColumnGroup(t,e)||""},t.prototype.getColumn=function(t){return this.columnModel.getPrimaryColumn(t)},t.prototype.getColumns=function(){return this.columnModel.getAllPrimaryColumns()},t.prototype.applyColumnState=function(t){return this.columnModel.applyColumnState(t,"api")},t.prototype.getColumnState=function(){return this.columnModel.getColumnState()},t.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},t.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},t.prototype.setColumnGroupState=function(t){this.columnModel.setColumnGroupState(t,"api")},t.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},t.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},t.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},t.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},t.prototype.getDisplayedColAfter=function(t){return this.columnModel.getDisplayedColAfter(t)},t.prototype.getDisplayedColBefore=function(t){return this.columnModel.getDisplayedColBefore(t)},t.prototype.setColumnVisible=function(t,e){this.columnModel.setColumnVisible(t,e,"api")},t.prototype.setColumnsVisible=function(t,e){this.columnModel.setColumnsVisible(t,e,"api")},t.prototype.setColumnPinned=function(t,e){this.columnModel.setColumnPinned(t,e,"api")},t.prototype.setColumnsPinned=function(t,e){this.columnModel.setColumnsPinned(t,e,"api")},t.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},t.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},t.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},t.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},t.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},t.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},t.prototype.moveColumn=function(t,e){this.columnModel.moveColumn(t,e,"api")},t.prototype.moveColumnByIndex=function(t,e){this.columnModel.moveColumnByIndex(t,e,"api")},t.prototype.moveColumns=function(t,e){this.columnModel.moveColumns(t,e,"api")},t.prototype.moveRowGroupColumn=function(t,e){this.columnModel.moveRowGroupColumn(t,e)},t.prototype.setColumnAggFunc=function(t,e){this.columnModel.setColumnAggFunc(t,e)},t.prototype.setColumnWidth=function(t,e,n,o){void 0===n&&(n=!0),this.columnModel.setColumnWidths([{key:t,newWidth:e}],!1,n,o)},t.prototype.setColumnWidths=function(t,e,n){void 0===e&&(e=!0),this.columnModel.setColumnWidths(t,!1,e,n)},t.prototype.setPivotMode=function(t){this.columnModel.setPivotMode(t)},t.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},t.prototype.getPivotResultColumn=function(t,e){return this.columnModel.getSecondaryPivotColumn(t,e)},t.prototype.setValueColumns=function(t){this.columnModel.setValueColumns(t,"api")},t.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},t.prototype.removeValueColumn=function(t){this.columnModel.removeValueColumn(t,"api")},t.prototype.removeValueColumns=function(t){this.columnModel.removeValueColumns(t,"api")},t.prototype.addValueColumn=function(t){this.columnModel.addValueColumn(t,"api")},t.prototype.addValueColumns=function(t){this.columnModel.addValueColumns(t,"api")},t.prototype.setRowGroupColumns=function(t){this.columnModel.setRowGroupColumns(t,"api")},t.prototype.removeRowGroupColumn=function(t){this.columnModel.removeRowGroupColumn(t,"api")},t.prototype.removeRowGroupColumns=function(t){this.columnModel.removeRowGroupColumns(t,"api")},t.prototype.addRowGroupColumn=function(t){this.columnModel.addRowGroupColumn(t,"api")},t.prototype.addRowGroupColumns=function(t){this.columnModel.addRowGroupColumns(t,"api")},t.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},t.prototype.setPivotColumns=function(t){this.columnModel.setPivotColumns(t,"api")},t.prototype.removePivotColumn=function(t){this.columnModel.removePivotColumn(t,"api")},t.prototype.removePivotColumns=function(t){this.columnModel.removePivotColumns(t,"api")},t.prototype.addPivotColumn=function(t){this.columnModel.addPivotColumn(t,"api")},t.prototype.addPivotColumns=function(t){this.columnModel.addPivotColumns(t,"api")},t.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},t.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},t.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},t.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},t.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},t.prototype.autoSizeColumn=function(t,e){return this.columnModel.autoSizeColumn(t,e,"api")},t.prototype.autoSizeColumns=function(t,e){this.columnModel.autoSizeColumns({columns:t,skipHeader:e})},t.prototype.autoSizeAllColumns=function(t){this.columnModel.autoSizeAllColumns(t,"api")},t.prototype.setPivotResultColumns=function(t){this.columnModel.setSecondaryColumns(t,"api")},t.prototype.getPivotResultColumns=function(){return this.columnModel.getSecondaryColumns()},t.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(or.removeAllReferences.bind(window,this,"Column API"),100)},t.prototype.getAllColumns=function(){return ae("28.0","getAllColumns","getColumns"),this.getColumns()},t.prototype.getOriginalColumnGroup=function(t){return ae("27.0","getOriginalColumnGroup","getProvidedColumnGroup"),this.columnModel.getProvidedColumnGroup(t)},t.prototype.getPrimaryColumns=function(){return ae("28.0","getPrimaryColumns","getColumns"),this.getColumns()},t.prototype.getSecondaryColumns=function(){return ae("28.0","getSecondaryColumns","getPivotResultColumns"),this.getPivotResultColumns()},t.prototype.setSecondaryColumns=function(t){ae("28.0","setSecondaryColumns","setPivotResultColumns"),this.setPivotResultColumns(t)},t.prototype.getSecondaryPivotColumn=function(t,e){return ae("28.0","getSecondaryPivotColumn","getPivotResultColumn"),this.getPivotResultColumn(t,e)},Oh([K("columnModel")],t.prototype,"columnModel",void 0),Oh([$],t.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),t=Oh([z("columnApi")],t)}(),Th=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Rh=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Dh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.initialised=!1,e}return Th(e,t),e.prototype.init=function(){var t=this;this.cellExpressions=this.gridOptionsService.is("enableCellExpressions"),this.isTreeData=this.gridOptionsService.is("treeData"),this.initialised=!0,this.eventService.addEventListener(zt.EVENT_CELL_VALUE_CHANGED,(function(e){return t.callColumnCellValueChangedHandler(e)}),this.gridOptionsService.useAsyncEvents()),this.addManagedPropertyListener("treeData",(function(e){return t.isTreeData=e.currentValue}))},e.prototype.getValue=function(t,e,n,o){if(void 0===n&&(n=!1),void 0===o&&(o=!1),this.initialised||this.init(),e){var r,i=t.getColDef(),s=i.field,a=t.getColId(),l=e.data,c=e.groupData&&void 0!==e.groupData[a],u=!o&&e.aggData&&void 0!==e.aggData[a];if(n&&i.filterValueGetter?r=this.executeFilterValueGetter(i.filterValueGetter,l,t,e):this.isTreeData&&u?r=e.aggData[a]:this.isTreeData&&i.valueGetter?r=this.executeValueGetter(i.valueGetter,l,t,e):this.isTreeData&&s&&l?r=b(l,s,t.isFieldContainsDots()):c?r=e.groupData[a]:u?r=e.aggData[a]:i.valueGetter?r=this.executeValueGetter(i.valueGetter,l,t,e):s&&l&&(r=b(l,s,t.isFieldContainsDots())),this.cellExpressions&&"string"==typeof r&&0===r.indexOf("=")){var d=r.substring(1);r=this.executeValueGetter(d,l,t,e)}if(null==r){var p=this.getOpenedGroup(e,t);if(null!=p)return p}return r}},e.prototype.getOpenedGroup=function(t,e){if(this.gridOptionsService.is("showOpenedGroup")&&e.getColDef().showRowGroup)for(var n=e.getColDef().showRowGroup,o=t.parent;null!=o;){if(o.rowGroupColumn&&(!0===n||n===o.rowGroupColumn.getColId()))return o.key;o=o.parent}},e.prototype.setValue=function(t,e,n,o){var s=this.columnModel.getPrimaryColumn(e);if(!t||!s)return!1;i(t.data)&&(t.data={});var a=s.getColDef(),l=a.field,c=a.valueSetter;if(i(l)&&i(c))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;var u,d={node:t,data:t.data,oldValue:this.getValue(s,t),newValue:n,colDef:s.getColDef(),column:s,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};if(d.newValue=n,void 0===(u=r(c)?"function"==typeof c?c(d):this.expressionService.evaluate(c,d):this.setValueUsingField(t.data,l,n,s.isFieldContainsDots()))&&(u=!0),!u)return!1;t.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),d.newValue=this.getValue(s,t);var p={type:zt.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:d.column,api:d.api,columnApi:d.columnApi,colDef:d.colDef,context:d.context,data:t.data,node:t,oldValue:d.oldValue,newValue:d.newValue,value:d.newValue,source:o};return this.eventService.dispatchEvent(p),!0},e.prototype.callColumnCellValueChangedHandler=function(t){var e=t.colDef.onCellValueChanged;"function"==typeof e&&e({node:t.node,data:t.data,oldValue:t.oldValue,newValue:t.newValue,colDef:t.colDef,column:t.column,api:t.api,columnApi:t.columnApi,context:t.context})},e.prototype.setValueUsingField=function(t,e,n,o){if(!e)return!1;var r=!1;if(o)for(var i=e.split("."),s=t;i.length>0&&s;){var a=i.shift();0===i.length?(r=s[a]==n)||(s[a]=n):s=s[a]}else(r=t[e]==n)||(t[e]=n);return!r},e.prototype.executeFilterValueGetter=function(t,e,n,o){var r={data:e,node:o,column:n,colDef:n.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,o)};return"function"==typeof t?t(r):this.expressionService.evaluate(t,r)},e.prototype.executeValueGetter=function(t,e,n,o){var r=n.getColId(),i=this.valueCache.getValue(o,r);if(void 0!==i)return i;var s,a={data:e,node:o,column:n,colDef:n.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,o)};return s="function"==typeof t?t(a):this.expressionService.evaluate(t,a),this.valueCache.setValue(o,r,s),s},e.prototype.getValueCallback=function(t,e){var n=this.columnModel.getPrimaryColumn(e);return n?this.getValue(n,t):null},e.prototype.getKeyForNode=function(t,e){var n=this.getValue(t,e),o=t.getColDef().keyCreator,r=n;o&&(r=o({value:n,colDef:t.getColDef(),column:t,node:e,data:e.data,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}));return"string"==typeof r||null==r||"[object Object]"===(r=String(r))&&T((function(){console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")}),"getKeyForNode - warn about [object,object]"),r},Rh([K("expressionService")],e.prototype,"expressionService",void 0),Rh([K("columnModel")],e.prototype,"columnModel",void 0),Rh([K("valueCache")],e.prototype,"valueCache",void 0),Rh([H],e.prototype,"init",null),e=Rh([z("valueService")],e)}(Ut),xh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Mh=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ah=function(t,e){return function(n,o){e(n,o,t)}},Lh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.expressionToFunctionCache={},e}return xh(e,t),e.prototype.setBeans=function(t){this.logger=t.create("ExpressionService")},e.prototype.evaluate=function(t,e){if("string"==typeof t)return this.evaluateExpression(t,e);console.error("AG Grid: value should be either a string or a function",t)},e.prototype.evaluateExpression=function(t,e){try{return this.createExpressionFunction(t)(e.value,e.context,e.oldValue,e.newValue,e.value,e.node,e.data,e.colDef,e.rowIndex,e.api,e.columnApi,e.getValue,e.column,e.columnGroup)}catch(n){return console.log("Processing of the expression failed"),console.log("Expression = "+t),console.log("Params =",e),console.log("Exception = "+n),null}},e.prototype.createExpressionFunction=function(t){if(this.expressionToFunctionCache[t])return this.expressionToFunctionCache[t];var e=this.createFunctionBody(t),n=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",e);return this.expressionToFunctionCache[t]=n,n},e.prototype.createFunctionBody=function(t){return t.indexOf("return")>=0?t:"return "+t+";"},Mh([Ah(0,q("loggerFactory"))],e.prototype,"setBeans",null),e=Mh([z("expressionService")],e)}(Ut),Ih=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Nh=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},kh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.templateCache={},e.waitingCallbacks={},e}return Ih(e,t),e.prototype.getTemplate=function(t,e){var n=this.templateCache[t];if(n)return n;var o=this.waitingCallbacks[t],r=this;if(!o){o=[],this.waitingCallbacks[t]=o;var i=new XMLHttpRequest;i.onload=function(){r.handleHttpResult(this,t)},i.open("GET",t),i.send()}return e&&o.push(e),null},e.prototype.handleHttpResult=function(t,e){if(200===t.status&&null!==t.response){this.templateCache[e]=t.response||t.responseText;for(var n=this.waitingCallbacks[e],o=0;o<n.length;o++){(0,n[o])()}}else console.warn("AG Grid: Unable to get template error "+t.status+" - "+e)},e=Nh([z("templateService")],e)}(Ut),Fh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Gh=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Bh=function(t,e){return function(n,o){e(n,o,t)}},Uh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Fh(e,t),e.prototype.setBeans=function(t){this.logging=t.is("debug")},e.prototype.create=function(t){return new jh(t,this.isLogging.bind(this))},e.prototype.isLogging=function(){return this.logging},Gh([Bh(0,q("gridOptionsService"))],e.prototype,"setBeans",null),e=Gh([z("loggerFactory")],e)}(Ut),jh=function(){function t(t,e){this.name=t,this.isLoggingFunc=e}return t.prototype.isLogging=function(){return this.isLoggingFunc()},t.prototype.log=function(t){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+t)},t}(),Vh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Wh=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Hh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Vh(e,t),e.prototype.setComp=function(t,e,n){var o=this;this.view=t,this.eGridHostDiv=e,this.eGui=n,this.dragAndDropService.addDropTarget({getContainer:function(){return o.eGui},isInterestedIn:function(t){return t===Ai.HeaderCell||t===Ai.ToolPanel},getIconName:function(){return As.ICON_NOT_ALLOWED}}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(e),this.createManagedBean(new Ya(this.view)),this.addRtlSupport(),this.addManagedListener(this,zt.EVENT_KEYBOARD_FOCUS,(function(){o.view.addOrRemoveKeyboardFocusClass(!0)})),this.addManagedListener(this,zt.EVENT_MOUSE_FOCUS,(function(){o.view.addOrRemoveKeyboardFocusClass(!1)}));var r=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc((function(){return r()})),this.ctrlsService.registerGridCtrl(this)},e.prototype.isDetailGrid=function(){var t,e=this.focusService.findTabbableParent(this.getGui());return(null===(t=null==e?void 0:e.getAttribute("row-id"))||void 0===t?void 0:t.startsWith("detail"))||!1},e.prototype.showDropZones=function(){return ot.isRegistered(J.RowGroupingModule)},e.prototype.showSideBar=function(){return ot.isRegistered(J.SideBarModule)},e.prototype.showStatusBar=function(){return ot.isRegistered(J.StatusBarModule)},e.prototype.showWatermark=function(){return ot.isRegistered(J.EnterpriseCoreModule)},e.prototype.onGridSizeChanged=function(){var t={type:zt.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight};this.eventService.dispatchEvent(t)},e.prototype.addRtlSupport=function(){var t=this.gridOptionsService.is("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(t)},e.prototype.destroyGridUi=function(){this.view.destroyGridUi()},e.prototype.getGui=function(){return this.eGui},e.prototype.setResizeCursor=function(t){this.view.setCursor(t?"ew-resize":null)},e.prototype.disableUserSelect=function(t){this.view.setUserSelect(t?"none":null)},e.prototype.focusNextInnerContainer=function(t){var e=this.gridOptionsService.getDocument(),n=this.view.getFocusableContainers(),o=n.findIndex((function(t){return t.contains(e.activeElement)}))+(t?-1:1);return!(o<=0||o>=n.length)&&this.focusService.focusInto(n[o])},e.prototype.focusInnerElement=function(t){var e=this.view.getFocusableContainers(),n=this.columnModel.getAllDisplayedColumns();if(t){if(e.length>1)return this.focusService.focusInto(ft(e),!0);var o=ft(n);if(this.focusService.focusGridView(o,!0))return!0}return 0===this.gridOptionsService.getNum("headerHeight")?this.focusService.focusGridView(n[0]):this.focusService.focusFirstHeader()},e.prototype.forceFocusOutOfContainer=function(t){void 0===t&&(t=!1),this.view.forceFocusOutOfContainer(t)},Wh([K("focusService")],e.prototype,"focusService",void 0),Wh([K("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Wh([K("columnModel")],e.prototype,"columnModel",void 0),Wh([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Wh([K("mouseEventService")],e.prototype,"mouseEventService",void 0),Wh([K("dragAndDropService")],e.prototype,"dragAndDropService",void 0),e}(Ut),$h=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),zh=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Kh=function(t){function e(e){var n=t.call(this)||this;return n.eGridDiv=e,n}return $h(e,t),e.prototype.postConstruct=function(){var t=this;this.logger=this.loggerFactory.create("GridComp");var e={destroyGridUi:function(){return t.destroyBean(t)},setRtlClass:function(e){return t.addCssClass(e)},addOrRemoveKeyboardFocusClass:function(e){return t.addOrRemoveCssClass(qp.AG_KEYBOARD_FOCUS,e)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(e){t.getGui().style.userSelect=null!=e?e:"",t.getGui().style.webkitUserSelect=null!=e?e:""},setCursor:function(e){t.getGui().style.cursor=null!=e?e:""}};this.ctrl=this.createManagedBean(new Hh);var n=this.createTemplate();this.setTemplate(n),this.ctrl.setComp(e,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(e){return t.ctrl.focusInnerElement(e)}})},e.prototype.insertGridIntoDom=function(){var t=this,e=this.getGui();this.eGridDiv.appendChild(e),this.addDestroyFunc((function(){t.eGridDiv.removeChild(e),t.logger.log("Grid removed from DOM")}))},e.prototype.updateLayoutClasses=function(t,e){var n=this.eRootWrapperBody.classList;n.toggle(Ia.AUTO_HEIGHT,e.autoHeight),n.toggle(Ia.NORMAL,e.normal),n.toggle(Ia.PRINT,e.print),this.addOrRemoveCssClass(Ia.AUTO_HEIGHT,e.autoHeight),this.addOrRemoveCssClass(Ia.NORMAL,e.normal),this.addOrRemoveCssClass(Ia.PRINT,e.print)},e.prototype.createTemplate=function(){return'<div class="ag-root-wrapper" role="presentation">\n                '+(this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"")+'\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">\n                    <ag-grid-body ref="gridBody"></ag-grid-body>\n                    '+(this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"")+"\n                </div>\n                "+(this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"")+"\n                <ag-pagination></ag-pagination>\n                "+(this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"")+"\n            </div>"},e.prototype.getFocusableElement=function(){return this.eRootWrapperBody},e.prototype.getFocusableContainers=function(){var t=[this.gridBodyComp.getGui()];return this.sideBarComp&&t.push(this.sideBarComp.getGui()),t.filter((function(t){return vo(t)}))},zh([K("loggerFactory")],e.prototype,"loggerFactory",void 0),zh([_r("gridBody")],e.prototype,"gridBodyComp",void 0),zh([_r("sideBar")],e.prototype,"sideBarComp",void 0),zh([_r("rootWrapperBody")],e.prototype,"eRootWrapperBody",void 0),zh([H],e.prototype,"postConstruct",null),e}(Tp),Yh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Zh=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},qh=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Xh=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(qh(arguments[e]));return t},Jh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return Yh(e,t),n=e,e.prototype.progressSort=function(t,e,n){var o=this.getNextSortDirection(t);this.setSortForColumn(t,o,e,n)},e.prototype.setSortForColumn=function(t,e,n,o){"asc"!==e&&"desc"!==e&&(e=null);var r=[t];if(this.gridOptionsService.isColumnsSortingCoupledToGroup()&&t.getColDef().showRowGroup){t.getColDef().field||(r=[]);var i=this.columnModel.getSourceColumnsForGroupColumn(t),s=null==i?void 0:i.filter((function(t){return t.getColDef().sortable}));s&&(r=Xh(r,s))}r.forEach((function(t){return t.setSort(e,o)})),(n||this.gridOptionsService.is("alwaysMultiSort"))&&!this.gridOptionsService.is("suppressMultiSort")||this.clearSortBarTheseColumns(r,o),this.updateSortIndex(t),this.dispatchSortChangedEvents(o)},e.prototype.updateSortIndex=function(t){var e=this.gridOptionsService.isColumnsSortingCoupledToGroup(),n=this.columnModel.getGroupDisplayColumnForGroup(t.getId()),o=e&&n||t,r=this.getColumnsWithSortingOrdered(!0);this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach((function(t){return t.setSortIndex(null)}));var i=r.filter((function(t){return t!==o}));(o.getSort()?Xh(i,[o]):i).forEach((function(t,e){return t.setSortIndex(e)}))},e.prototype.onSortChanged=function(t){this.dispatchSortChangedEvents(t)},e.prototype.isSortActive=function(){var t=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter((function(t){return!!t.getSort()}));return t&&t.length>0},e.prototype.dispatchSortChangedEvents=function(t){var e={type:zt.EVENT_SORT_CHANGED,source:t};this.eventService.dispatchEvent(e)},e.prototype.clearSortBarTheseColumns=function(t,e){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach((function(n){t.includes(n)||n.setSort(void 0,e)}))},e.prototype.getNextSortDirection=function(t){var e;if(e=t.getColDef().sortingOrder?t.getColDef().sortingOrder:this.gridOptionsService.get("sortingOrder")?this.gridOptionsService.get("sortingOrder"):n.DEFAULT_SORTING_ORDER,!Array.isArray(e)||e.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's "+e),null;var o=t.getColDef().field?t.getSort():this.getDisplaySortForColumn(t),r=e[0];if("mixed"!==o){var i=e.indexOf(o),s=i<0,a=i==e.length-1;r=s||a?e[0]:e[i+1]}return n.DEFAULT_SORTING_ORDER.indexOf(r)<0?(console.warn("AG Grid: invalid sort type "+r),null):r},e.prototype.getIndexedSortMap=function(t){var e=this;void 0===t&&(t=!1);var n=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter((function(t){return!!t.getSort()}));!t&&this.columnModel.isPivotMode()&&(n=n.filter((function(t){return!!t.getAggFunc()||!t.isPrimary()||e.columnModel.getGroupDisplayColumnForGroup(t.getId())})));var o=this.columnModel.getRowGroupColumns().filter((function(t){return!!t.getSort()})),r=this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!!o.length;r&&(n=Xh(new Set(n.map((function(t){var n;return null!==(n=e.columnModel.getGroupDisplayColumnForGroup(t.getId()))&&void 0!==n?n:t})))));var i={};n.forEach((function(t,e){return i[t.getId()]=e})),n.sort((function(t,e){var n=t.getSortIndex(),o=e.getSortIndex();return null!=n&&null!=o?n-o:null==n&&null==o?i[t.getId()]>i[e.getId()]?1:-1:null==o?-1:1}));var s=new Map;return n.forEach((function(t,e){return s.set(t,e)})),r&&o.forEach((function(t){var n=e.columnModel.getGroupDisplayColumnForGroup(t.getId());s.set(t,s.get(n))})),s},e.prototype.getColumnsWithSortingOrdered=function(t){return void 0===t&&(t=!1),Xh(this.getIndexedSortMap(t).entries()).sort((function(t,e){var n=qh(t,2);n[0];var o=n[1],r=qh(e,2);return r[0],o-r[1]})).map((function(t){return qh(t,1)[0]}))},e.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered(!0).map((function(t){return{sort:t.getSort(),colId:t.getId()}}))},e.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().map((function(t){return{sort:t.getSort(),column:t}}))},e.prototype.canColumnDisplayMixedSort=function(t){var e=this.gridOptionsService.isColumnsSortingCoupledToGroup(),n=!!t.getColDef().showRowGroup;return e&&n},e.prototype.getDisplaySortForColumn=function(t){var e=this.columnModel.getSourceColumnsForGroupColumn(t);if(!this.canColumnDisplayMixedSort(t)||!(null==e?void 0:e.length))return t.getSort();var n=!!t.getColDef().field?Xh([t],e):e,o=n[0].getSort();return n.every((function(t){return t.getSort()==o}))?o:"mixed"},e.prototype.getDisplaySortIndexForColumn=function(t){return this.getIndexedSortMap().get(t)},e.DEFAULT_SORTING_ORDER=["asc","desc",null],Zh([K("columnModel")],e.prototype,"columnModel",void 0),e=n=Zh([z("sortController")],e)}(Ut),Qh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),tf=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ef=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qh(e,t),e.prototype.setMouseOver=function(t){this.selectedColumns=t;var e={type:zt.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(e)},e.prototype.clearMouseOver=function(){this.selectedColumns=null;var t={type:zt.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(t)},e.prototype.isHovered=function(t){return!!this.selectedColumns&&this.selectedColumns.indexOf(t)>=0},e=tf([z("columnHoverService")],e)}(Ut),nf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),of=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},rf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.executeNextFuncs=[],e.executeLaterFuncs=[],e.active=!1,e.animationThreadCount=0,e}return nf(e,t),e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady((function(e){return t.gridBodyCtrl=e.gridBodyCtrl}))},e.prototype.isActive=function(){return this.active},e.prototype.start=function(){this.active||this.gridOptionsService.is("suppressColumnMoveAnimation")||this.gridOptionsService.is("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)},e.prototype.finish=function(){this.active&&(this.flush(),this.active=!1)},e.prototype.executeNextVMTurn=function(t){this.active?this.executeNextFuncs.push(t):t()},e.prototype.executeLaterVMTurn=function(t){this.active?this.executeLaterFuncs.push(t):t()},e.prototype.ensureAnimationCssClassPresent=function(){var t=this;this.animationThreadCount++;var e=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push((function(){t.animationThreadCount===e&&t.gridBodyCtrl.setColumnMovingCss(!1)}))},e.prototype.flush=function(){var t=this.executeNextFuncs;this.executeNextFuncs=[];var e=this.executeLaterFuncs;this.executeLaterFuncs=[],0===t.length&&0===e.length||(window.setTimeout((function(){return t.forEach((function(t){return t()}))}),0),window.setTimeout((function(){return e.forEach((function(t){return t()}))}),300))},of([K("ctrlsService")],e.prototype,"ctrlsService",void 0),of([H],e.prototype,"postConstruct",null),e=of([z("columnAnimationService")],e)}(Ut),sf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),af=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},lf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return sf(e,t),e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady((function(e){t.centerRowContainerCon=e.centerRowContainerCtrl,t.addManagedListener(t.eventService,zt.EVENT_BODY_HEIGHT_CHANGED,t.checkPageSize.bind(t)),t.addManagedListener(t.eventService,zt.EVENT_SCROLL_VISIBILITY_CHANGED,t.checkPageSize.bind(t)),t.checkPageSize()}))},e.prototype.notActive=function(){return!this.gridOptionsService.is("paginationAutoPageSize")||null==this.centerRowContainerCon},e.prototype.checkPageSize=function(){var t=this;if(!this.notActive()){var e=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(e>0){var n=function(){var n=t.gridOptionsService.getRowHeightAsNumber(),o=Math.floor(e/n);t.gridOptionsService.set("paginationPageSize",o)};this.isBodyRendered?N((function(){return n()}),50)():(n(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},af([K("ctrlsService")],e.prototype,"ctrlsService",void 0),af([H],e.prototype,"postConstruct",null),e=af([z("paginationAutoPageSizeService")],e)}(Ut),cf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),uf=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},df=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cacheVersion=0,e}return cf(e,t),e.prototype.init=function(){this.active=this.gridOptionsService.is("valueCache"),this.neverExpires=this.gridOptionsService.is("valueCacheNeverExpires")},e.prototype.onDataChanged=function(){this.neverExpires||this.expire()},e.prototype.expire=function(){this.cacheVersion++},e.prototype.setValue=function(t,e,n){this.active&&(t.__cacheVersion!==this.cacheVersion&&(t.__cacheVersion=this.cacheVersion,t.__cacheData={}),t.__cacheData[e]=n)},e.prototype.getValue=function(t,e){if(this.active&&t.__cacheVersion===this.cacheVersion)return t.__cacheData[e]},uf([H],e.prototype,"init",null),e=uf([z("valueCache")],e)}(Ut),pf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),hf=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ff=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return pf(e,t),e.prototype.init=function(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,zt.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},e.prototype.onCellValueChanged=function(t){"paste"!==t.source&&this.doChangeDetection(t.node,t.column)},e.prototype.doChangeDetection=function(t,e){if(!this.gridOptionsService.is("suppressChangeDetection")){if(this.clientSideRowModel&&!t.isRowPinned()){var n=this.gridOptionsService.is("aggregateOnlyChangedColumns"),o=new Zd(n,this.clientSideRowModel.getRootNode());o.addParentNode(t.parent,[e]),this.clientSideRowModel.doAggregate(o)}this.rowRenderer.refreshCells()}},hf([K("rowModel")],e.prototype,"rowModel",void 0),hf([K("rowRenderer")],e.prototype,"rowRenderer",void 0),hf([H],e.prototype,"init",null),e=hf([z("changeDetectionService")],e)}(Ut),gf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),_f=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},mf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return gf(e,t),e.prototype.adaptFunction=function(t,e){var n=this.componentMetadataProvider.retrieve(t);return n&&n.functionAdapter?n.functionAdapter(e):null},e.prototype.adaptCellRendererFunction=function(t){return function(){function e(){}return e.prototype.refresh=function(t){return!1},e.prototype.getGui=function(){return this.eGui},e.prototype.init=function(e){var n=t(e),o=typeof n;this.eGui="string"!==o&&"number"!==o&&"boolean"!==o?null!=n?n:Co("<span></span>"):Co("<span>"+n+"</span>")},e}()},e.prototype.doesImplementIComponent=function(t){return!!t&&(t.prototype&&"getGui"in t.prototype)},_f([K("componentMetadataProvider")],e.prototype,"componentMetadataProvider",void 0),e=_f([z("agComponentUtils")],e)}(Ut),yf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),vf=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Cf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return yf(e,t),e.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},e.prototype.retrieve=function(t){return this.componentMetaData[t]},vf([K("agComponentUtils")],e.prototype,"agComponentUtils",void 0),vf([H],e.prototype,"postConstruct",null),e=vf([z("componentMetadataProvider")],e)}(Ut),Ef=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),bf=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Sf=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},wf=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Sf(arguments[e]));return t},Of={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240}},Pf={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},Tf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.calculatedSizes={},e}return Ef(e,t),e.prototype.postConstruct=function(){var t,e=this,n=null!==(t=this.getTheme().el)&&void 0!==t?t:this.eGridDiv;this.mutationObserver=new MutationObserver((function(){e.calculatedSizes={},e.fireGridStylesChangedEvent()})),this.mutationObserver.observe(n||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})},e.prototype.fireGridStylesChangedEvent=function(){var t={type:zt.EVENT_GRID_STYLES_CHANGED};this.eventService.dispatchEvent(t)},e.prototype.getSassVariable=function(t){var e=this.getTheme(),n=e.themeFamily,o=e.el;if(n&&0===n.indexOf("ag-theme")){this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[n]||(this.calculatedSizes[n]={});var r=this.calculatedSizes[n][t];return null!=r?r:(this.calculatedSizes[n][t]=this.calculateValueForSassProperty(t,n,o),this.calculatedSizes[n][t])}},e.prototype.calculateValueForSassProperty=function(t,e,n){var o,r="ag-theme-"+(e.match("material")?"material":e.match("balham")?"balham":e.match("alpine")?"alpine":"custom"),i=Of[r][t],s=this.gridOptionsService.getDocument();if(n||(n=this.eGridDiv),!Pf[t])return i;var a=Pf[t],l=s.createElement("div"),c=Array.from(n.classList);(o=l.classList).add.apply(o,wf([e],c)),l.style.position="absolute";var u=a.reduce((function(t,e){var n=s.createElement("div");return n.style.position="static",n.classList.add(e),t.appendChild(n),n}),l),d=0;if(s.body){s.body.appendChild(l);var p=-1!==t.toLowerCase().indexOf("height")?"height":"width";d=parseInt(window.getComputedStyle(u)[p],10),s.body.removeChild(l)}return d||i},e.prototype.isThemeDark=function(){var t=this.getTheme().theme;return!!t&&t.indexOf("dark")>=0},e.prototype.chartMenuPanelWidth=function(){return this.getSassVariable("chartMenuPanelWidth")},e.prototype.getTheme=function(){for(var t=/\bag-(material|(?:theme-([\w\-]*)))\b/g,e=this.eGridDiv,n=null,o=[];e;){if(n=t.exec(e.className)){var r=e.className.match(t);r&&(o=r);break}e=e.parentElement||void 0}if(!n)return{allThemes:o};var i=n[0];return{theme:i,el:e,themeFamily:i.replace(/-dark$/,""),allThemes:o}},e.prototype.getFromTheme=function(t,e){var n;return null!==(n=this.getSassVariable(e))&&void 0!==n?n:t},e.prototype.getDefaultRowHeight=function(){return this.getFromTheme(25,"rowHeight")},e.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},e.prototype.setRowHeightVariable=function(t){var e=t+"px";this.eGridDiv.style.getPropertyValue("--ag-line-height").trim()!=e&&this.eGridDiv.style.setProperty("--ag-line-height",e)},e.prototype.getMinColWidth=function(){var t=this.getFromTheme(null,"headerCellMinWidth");return r(t)?Math.max(t,10):10},e.prototype.destroy=function(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),t.prototype.destroy.call(this)},bf([K("eGridDiv")],e.prototype,"eGridDiv",void 0),bf([H],e.prototype,"postConstruct",null),e=bf([z("environment")],e)}(Ut),Rf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Df=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},xf=function(t,e){return function(n,o){e(n,o,t)}},Mf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollY=0,e.uiBodyHeight=0,e}return Rf(e,t),e.prototype.agWire=function(t){this.logger=t.create("RowContainerHeightService")},e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,zt.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=Nn(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},e.prototype.isStretching=function(){return this.stretching},e.prototype.getDivStretchOffset=function(){return this.divStretchOffset},e.prototype.updateOffset=function(){if(this.stretching){var t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,e=this.getUiBodyHeight();(t!==this.scrollY||e!==this.uiBodyHeight)&&(this.scrollY=t,this.uiBodyHeight=e,this.calculateOffset())}},e.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var t=this.scrollY/this.maxScrollY,e=t*this.pixelsToShave;this.logger.log("Div Stretch Offset = "+e+" ("+this.pixelsToShave+" * "+t+")"),this.setDivStretchOffset(e)},e.prototype.setUiContainerHeight=function(t){t!==this.uiContainerHeight&&(this.uiContainerHeight=t,this.eventService.dispatchEvent({type:zt.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},e.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},e.prototype.setDivStretchOffset=function(t){var e="number"==typeof t?Math.floor(t):null;this.divStretchOffset!==e&&(this.divStretchOffset=e,this.eventService.dispatchEvent({type:zt.EVENT_HEIGHT_SCALE_CHANGED}))},e.prototype.setModelHeight=function(t){this.modelHeight=t,this.stretching=null!=t&&this.maxDivHeight>0&&t>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},e.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},e.prototype.getRealPixelPosition=function(t){return t-this.divStretchOffset},e.prototype.getUiBodyHeight=function(){var t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return t.bottom-t.top},e.prototype.getScrollPositionForPixel=function(t){if(this.pixelsToShave<=0)return t;var e=t/(this.modelHeight-this.getUiBodyHeight());return this.maxScrollY*e},Df([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Df([xf(0,q("loggerFactory"))],e.prototype,"agWire",null),Df([H],e.prototype,"postConstruct",null),e=Df([z("rowContainerHeightService")],e)}(Ut),Af=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Lf=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},If=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Af(e,t),e.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsService.is("groupSelectsChildren"),this.isRowSelectableFunc=this.gridOptionsService.get("isRowSelectable")},e.prototype.updateSelectableAfterGrouping=function(t){if(this.isRowSelectableFunc){this.recurseDown(t.childrenAfterGroup,(function(t){return t.childrenAfterGroup}))}},e.prototype.recurseDown=function(t,e){var n=this;t&&t.forEach((function(t){if(t.group){var o;if(t.hasChildren()&&n.recurseDown(e(t),e),n.groupSelectsChildren)o=r((e(t)||[]).find((function(t){return!0===t.selectable})));else o=!!n.isRowSelectableFunc&&n.isRowSelectableFunc(t);t.setRowSelectable(o)}}))},Lf([H],e.prototype,"init",null),e=Lf([z("selectableService")],e)}(Ut),Nf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),kf=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ff=function(t){function e(){var e=t.call(this)||this;return e.previousAndFirstButtonsDisabled=!1,e.nextButtonDisabled=!1,e.lastButtonDisabled=!1,e.areListenersSetup=!1,e}return Nf(e,t),e.prototype.postConstruct=function(){var t=this.gridOptionsService.is("enableRtl");this.setTemplate(this.getTemplate()),this.btFirst.insertAdjacentElement("afterbegin",jo(t?"last":"first",this.gridOptionsService)),this.btPrevious.insertAdjacentElement("afterbegin",jo(t?"next":"previous",this.gridOptionsService)),this.btNext.insertAdjacentElement("afterbegin",jo(t?"previous":"next",this.gridOptionsService)),this.btLast.insertAdjacentElement("afterbegin",jo(t?"first":"last",this.gridOptionsService)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.onPaginationChanged()},e.prototype.onPaginationChanged=function(){var t=this.gridOptionsService.is("pagination")&&!this.gridOptionsService.is("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels())},e.prototype.setupListeners=function(){var t=this;this.areListenersSetup||(this.addManagedListener(this.eventService,zt.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach((function(e){var n=e.el,o=e.fn;t.addManagedListener(n,"click",o),t.addManagedListener(n,"keydown",(function(t){t.key!==Wo.ENTER&&t.key!==Wo.SPACE||(t.preventDefault(),o())}))})),this.areListenersSetup=!0)},e.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},e.prototype.setCurrentPageLabel=function(){var t=this.paginationProxy.getTotalPages()>0,e=this.paginationProxy.getCurrentPage(),n=t?e+1:0;this.lbCurrent.innerHTML=this.formatNumber(n)},e.prototype.formatNumber=function(t){var e=this.gridOptionsService.getCallback("paginationNumberFormatter");if(e)return e({value:t});var n=this.localeService.getLocaleTextFunc();return Hn(t,n("thousandSeparator",","),n("decimalSeparator","."))},e.prototype.getTemplate=function(){var t=this.localeService.getLocaleTextFunc(),e=t("page","Page"),n=t("to","to"),o=t("of","of"),r=t("firstPage","First Page"),i=t("previousPage","Previous Page"),s=t("nextPage","Next Page"),a=t("lastPage","Last Page"),l=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'+l+'">\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-'+l+'-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+l+'-to">'+n+'</span>\n                    <span id="ag-'+l+'-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+l+'-of">'+o+'</span>\n                    <span id="ag-'+l+'-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-paging-button" role="button" aria-label="'+r+'"></div>\n                    <div ref="btPrevious" class="ag-paging-button" role="button" aria-label="'+i+'"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-'+l+'-start-page">'+e+'</span>\n                        <span id="ag-'+l+'-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-'+l+'-of-page">'+o+'</span>\n                        <span id="ag-'+l+'-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-paging-button" role="button" aria-label="'+s+'"></div>\n                    <div ref="btLast" class="ag-paging-button" role="button" aria-label="'+a+'"></div>\n                </span>\n            </div>'},e.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},e.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},e.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},e.prototype.enableOrDisableButtons=function(){var t=this.paginationProxy.getCurrentPage(),e=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===t,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);var o=this.isZeroPagesToDisplay(),r=e&&t===n-1;this.nextButtonDisabled=r||o,this.lastButtonDisabled=!e||o||t===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)},e.prototype.toggleButtonDisabled=function(t,e){en(t,e),t.classList.toggle("ag-disabled",e),e?t.removeAttribute("tabindex"):t.setAttribute("tabindex","0")},e.prototype.updateRowLabels=function(){var t,e,n=this.paginationProxy.getCurrentPage(),o=this.paginationProxy.getPageSize(),r=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;if(this.isZeroPagesToDisplay()?t=e=0:(e=(t=o*n+1)+o-1,r&&e>i&&(e=i)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(t),this.rowNodeBlockLoader.isLoading()){var s=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=s("pageLastRowUnknown","?")}else this.lbLastRowOnPage.innerHTML=this.formatNumber(e)},e.prototype.isZeroPagesToDisplay=function(){var t=this.paginationProxy.isLastPageFound(),e=this.paginationProxy.getTotalPages();return t&&0===e},e.prototype.setTotalLabels=function(){var t=this.paginationProxy.isLastPageFound(),e=this.paginationProxy.getTotalPages(),n=t?this.paginationProxy.getMasterRowCount():null;if(1===n){var o=this.paginationProxy.getRow(0);if(o&&o.group&&!(o.groupData||o.aggData))return void this.setTotalLabelsToZero()}if(t)this.lbTotal.innerHTML=this.formatNumber(e),this.lbRecordCount.innerHTML=this.formatNumber(n);else{var r=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=r,this.lbRecordCount.innerHTML=r}},e.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)},kf([K("paginationProxy")],e.prototype,"paginationProxy",void 0),kf([K("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),kf([_r("btFirst")],e.prototype,"btFirst",void 0),kf([_r("btPrevious")],e.prototype,"btPrevious",void 0),kf([_r("btNext")],e.prototype,"btNext",void 0),kf([_r("btLast")],e.prototype,"btLast",void 0),kf([_r("lbRecordCount")],e.prototype,"lbRecordCount",void 0),kf([_r("lbFirstRowOnPage")],e.prototype,"lbFirstRowOnPage",void 0),kf([_r("lbLastRowOnPage")],e.prototype,"lbLastRowOnPage",void 0),kf([_r("lbCurrent")],e.prototype,"lbCurrent",void 0),kf([_r("lbTotal")],e.prototype,"lbTotal",void 0),kf([H],e.prototype,"postConstruct",null),e}(gr),Gf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Bf=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.Loading=0]="Loading",t[t.NoRows=1]="NoRows"}(eh||(eh={}));var Uf=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.inProgress=!1,n.destroyRequested=!1,n.manuallyDisplayed=!1,n}return Gf(e,t),e.prototype.updateLayoutClasses=function(t,e){var n=this.eOverlayWrapper.classList;n.toggle(Ia.AUTO_HEIGHT,e.autoHeight),n.toggle(Ia.NORMAL,e.normal),n.toggle(Ia.PRINT,e.print)},e.prototype.postConstruct=function(){this.createManagedBean(new Ya(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.addManagedListener(this.eventService,zt.EVENT_ROW_DATA_UPDATED,this.onRowDataUpdated.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.get("rowData")&&this.showLoadingOverlay(),this.gridApi.registerOverlayWrapperComp(this)},e.prototype.setWrapperTypeClass=function(t){var e=this.eOverlayWrapper.classList;e.toggle("ag-overlay-loading-wrapper",t===eh.Loading),e.toggle("ag-overlay-no-rows-wrapper",t===eh.NoRows)},e.prototype.showLoadingOverlay=function(){if(!this.gridOptionsService.is("suppressLoadingOverlay")){var t=this.userComponentFactory.getLoadingOverlayCompDetails({}).newAgStackInstance();this.showOverlay(t,eh.Loading)}},e.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsService.is("suppressNoRowsOverlay")){var t=this.userComponentFactory.getNoRowsOverlayCompDetails({}).newAgStackInstance();this.showOverlay(t,eh.NoRows)}},e.prototype.showOverlay=function(t,e){var n=this;this.inProgress||(this.setWrapperTypeClass(e),this.destroyActiveOverlay(),this.inProgress=!0,t&&t.then((function(t){n.inProgress=!1,n.eOverlayWrapper.appendChild(t.getGui()),n.activeOverlay=t,n.destroyRequested&&(n.destroyRequested=!1,n.destroyActiveOverlay())})),this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.setDisplayed(!0,{skipAriaHidden:!0}))},e.prototype.destroyActiveOverlay=function(){this.inProgress?this.destroyRequested=!0:this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),mo(this.eOverlayWrapper))},e.prototype.hideOverlay=function(){this.manuallyDisplayed=!1,this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})},e.prototype.destroy=function(){this.destroyActiveOverlay(),t.prototype.destroy.call(this)},e.prototype.showOrHideOverlay=function(){var t=this.paginationProxy.isEmpty(),e=this.gridOptionsService.is("suppressNoRowsOverlay");t&&!e?this.showNoRowsOverlay():this.hideOverlay()},e.prototype.onRowDataUpdated=function(){this.showOrHideOverlay()},e.prototype.onNewColumnsLoaded=function(){!this.columnModel.isReady()||this.paginationProxy.isEmpty()||this.manuallyDisplayed||this.hideOverlay()},e.TEMPLATE='\n        <div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',Bf([K("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Bf([K("paginationProxy")],e.prototype,"paginationProxy",void 0),Bf([K("gridApi")],e.prototype,"gridApi",void 0),Bf([K("columnModel")],e.prototype,"columnModel",void 0),Bf([_r("eOverlayWrapper")],e.prototype,"eOverlayWrapper",void 0),Bf([H],e.prototype,"postConstruct",null),e}(gr),jf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Vf=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Wf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return jf(e,t),e.prototype.getFirstRow=function(){var t,e=0;return this.pinnedRowModel.getPinnedTopRowCount()?t="top":this.rowModel.getRowCount()?(t=null,e=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(t="bottom"),void 0===t?null:{rowIndex:e,rowPinned:t}},e.prototype.getLastRow=function(){var t,e=null,n=this.pinnedRowModel.getPinnedBottomRowCount(),o=this.pinnedRowModel.getPinnedTopRowCount();return n?(e="bottom",t=n-1):this.rowModel.getRowCount()?(e=null,t=this.paginationProxy.getPageLastRow()):o&&(e="top",t=o-1),void 0===t?null:{rowIndex:t,rowPinned:e}},e.prototype.getRowNode=function(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},e.prototype.sameRow=function(t,e){return!t&&!e||!(t&&!e||!t&&e)&&(t.rowIndex===e.rowIndex&&t.rowPinned==e.rowPinned)},e.prototype.before=function(t,e){switch(t.rowPinned){case"top":if("top"!==e.rowPinned)return!0;break;case"bottom":if("bottom"!==e.rowPinned)return!1;break;default:if(r(e.rowPinned))return"top"!==e.rowPinned}return t.rowIndex<e.rowIndex},e.prototype.rowMax=function(t){var e,n=this;return t.forEach((function(t){(void 0===e||n.before(e,t))&&(e=t)})),e},e.prototype.rowMin=function(t){var e,n=this;return t.forEach((function(t){(void 0===e||n.before(t,e))&&(e=t)})),e},Vf([K("rowModel")],e.prototype,"rowModel",void 0),Vf([K("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Vf([K("paginationProxy")],e.prototype,"paginationProxy",void 0),e=Vf([z("rowPositionUtils")],e)}(Ut),Hf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),$f=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},zf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Hf(e,t),e.prototype.createId=function(t){var e=t.rowIndex,n=t.rowPinned,o=t.column;return this.createIdFromValues({rowIndex:e,column:o,rowPinned:n})},e.prototype.createIdFromValues=function(t){var e=t.rowIndex,n=t.rowPinned;return e+"."+(null==n?"null":n)+"."+t.column.getId()},e.prototype.equals=function(t,e){var n=t.column===e.column,o=t.rowPinned===e.rowPinned,r=t.rowIndex===e.rowIndex;return n&&o&&r},e=$f([z("cellPositionUtils")],e)}(Ut),Kf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Yf=function(t){this.cellValueChanges=t},Zf=function(t){function e(e,n,o,r){var i=t.call(this,e)||this;return i.initialRange=n,i.finalRange=o,i.ranges=r,i}return Kf(e,t),e}(Yf),qf=function(){function t(e){this.actionStack=[],this.maxStackSize=e||t.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return t.prototype.pop=function(){return this.actionStack.pop()},t.prototype.push=function(t){t.cellValueChanges&&t.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(t))},t.prototype.clear=function(){this.actionStack=[]},t.prototype.getCurrentStackSize=function(){return this.actionStack.length},t.DEFAULT_STACK_SIZE=10,t}(),Xf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Jf=function(){return Jf=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Jf.apply(this,arguments)},Qf=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},tg=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},eg=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(tg(arguments[e]));return t},ng=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cellValueChanges=[],e.activeCellEdit=null,e.activeRowEdit=null,e.isPasting=!1,e.isRangeInAction=!1,e.onCellValueChanged=function(t){var n={column:t.column,rowIndex:t.rowIndex,rowPinned:t.rowPinned},o=null!==e.activeCellEdit&&e.cellPositionUtils.equals(e.activeCellEdit,n),r=null!==e.activeRowEdit&&e.rowPositionUtils.sameRow(e.activeRowEdit,n);if(o||r||e.isPasting||e.isRangeInAction){var i=t.rowPinned,s=t.rowIndex,a=t.column,l=t.oldValue,c=t.value,u={rowPinned:i,rowIndex:s,columnId:a.getColId(),newValue:c,oldValue:l};e.cellValueChanges.push(u)}},e.clearStacks=function(){e.undoStack.clear(),e.redoStack.clear()},e}return Xf(e,t),e.prototype.init=function(){var t=this;if(this.gridOptionsService.is("undoRedoCellEditing")){var e=this.gridOptionsService.getNum("undoRedoCellEditingLimit");e<=0||(this.undoStack=new qf(e),this.redoStack=new qf(e),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,zt.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,zt.EVENT_MODEL_UPDATED,(function(e){e.keepUndoRedoStack||t.clearStacks()})),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,zt.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,zt.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady((function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl()})))}},e.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},e.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},e.prototype.undo=function(t){var e={type:zt.EVENT_UNDO_STARTED,source:t};this.eventService.dispatchEvent(e);var n=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo"),o={type:zt.EVENT_UNDO_ENDED,source:t,operationPerformed:n};this.eventService.dispatchEvent(o)},e.prototype.redo=function(t){var e={type:zt.EVENT_REDO_STARTED,source:t};this.eventService.dispatchEvent(e);var n=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo"),o={type:zt.EVENT_REDO_ENDED,source:t,operationPerformed:n};this.eventService.dispatchEvent(o)},e.prototype.undoRedo=function(t,e,n,o,r){if(!t)return!1;var i=t.pop();return!(!i||!i.cellValueChanges)&&(this.processAction(i,(function(t){return t[o]}),r),i instanceof Zf?this.processRange(i.ranges||[i[n]]):this.processCell(i.cellValueChanges),e.push(i),!0)},e.prototype.processAction=function(t,e,n){var o=this;t.cellValueChanges.forEach((function(t){var r=t.rowIndex,i=t.rowPinned,s=t.columnId,a={rowIndex:r,rowPinned:i},l=o.getRowNode(a);l.displayed&&l.setDataValue(s,e(t),n)}))},e.prototype.processRange=function(t){var e,n=this;this.rangeService.removeAllCellRanges(!0),t.forEach((function(o,r){if(o){var i=o.startRow,s=o.endRow;r===t.length-1&&(e={rowPinned:i.rowPinned,rowIndex:i.rowIndex,columnId:o.startColumn.getColId()},n.setLastFocusedCell(e));var a={rowStartIndex:i.rowIndex,rowStartPinned:i.rowPinned,rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnStart:o.startColumn,columns:o.columns};n.rangeService.addCellRange(a)}}))},e.prototype.processCell=function(t){var e=t[0],n={rowIndex:e.rowIndex,rowPinned:e.rowPinned},o=this.getRowNode(n),r={rowPinned:e.rowPinned,rowIndex:o.rowIndex,columnId:e.columnId};this.setLastFocusedCell(r,!!this.rangeService)},e.prototype.setLastFocusedCell=function(t,e){var n=t.rowIndex,o=t.columnId,r=t.rowPinned,i=this.gridBodyCtrl.getScrollFeature(),s=this.columnModel.getGridColumn(o);if(s){i.ensureIndexVisible(n),i.ensureColumnVisible(s);var a={rowIndex:n,column:s,rowPinned:r};this.focusService.setFocusedCell(Jf(Jf({},a),{forceBrowserFocus:!0})),e&&this.rangeService.setRangeToCell(a)}},e.prototype.addRowEditingListeners=function(){var t=this;this.addManagedListener(this.eventService,zt.EVENT_ROW_EDITING_STARTED,(function(e){t.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}})),this.addManagedListener(this.eventService,zt.EVENT_ROW_EDITING_STOPPED,(function(){var e=new Yf(t.cellValueChanges);t.pushActionsToUndoStack(e),t.activeRowEdit=null}))},e.prototype.addCellEditingListeners=function(){var t=this;this.addManagedListener(this.eventService,zt.EVENT_CELL_EDITING_STARTED,(function(e){t.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}})),this.addManagedListener(this.eventService,zt.EVENT_CELL_EDITING_STOPPED,(function(e){if(t.activeCellEdit=null,e.valueChanged&&!t.activeRowEdit&&!t.isPasting&&!t.isRangeInAction){var n=new Yf(t.cellValueChanges);t.pushActionsToUndoStack(n)}}))},e.prototype.addPasteListeners=function(){var t=this;this.addManagedListener(this.eventService,zt.EVENT_PASTE_START,(function(){t.isPasting=!0})),this.addManagedListener(this.eventService,zt.EVENT_PASTE_END,(function(){var e=new Yf(t.cellValueChanges);t.pushActionsToUndoStack(e),t.isPasting=!1}))},e.prototype.addFillListeners=function(){var t=this;this.addManagedListener(this.eventService,zt.EVENT_FILL_START,(function(){t.isRangeInAction=!0})),this.addManagedListener(this.eventService,zt.EVENT_FILL_END,(function(e){var n=new Zf(t.cellValueChanges,e.initialRange,e.finalRange);t.pushActionsToUndoStack(n),t.isRangeInAction=!1}))},e.prototype.addCellKeyListeners=function(){var t=this;this.addManagedListener(this.eventService,zt.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,(function(){t.isRangeInAction=!0})),this.addManagedListener(this.eventService,zt.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,(function(){var e;e=t.rangeService&&t.gridOptionsService.isEnableRangeSelection()?new Zf(t.cellValueChanges,void 0,void 0,eg(t.rangeService.getCellRanges())):new Yf(t.cellValueChanges),t.pushActionsToUndoStack(e),t.isRangeInAction=!1}))},e.prototype.pushActionsToUndoStack=function(t){this.undoStack.push(t),this.cellValueChanges=[],this.redoStack.clear()},e.prototype.getRowNode=function(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},Qf([K("focusService")],e.prototype,"focusService",void 0),Qf([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Qf([K("rowModel")],e.prototype,"rowModel",void 0),Qf([K("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Qf([K("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),Qf([K("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),Qf([K("columnModel")],e.prototype,"columnModel",void 0),Qf([Y("rangeService")],e.prototype,"rangeService",void 0),Qf([H],e.prototype,"init",null),e=Qf([z("undoRedoService")],e)}(Ut),og=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),rg=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ig=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return og(e,t),e.prototype.findHeader=function(t,e){var n,o,r;if(t.column instanceof de?(o="getDisplayedGroup"+e,n=this.columnModel[o](t.column)):(r="getDisplayedCol"+e,n=this.columnModel[r](t.column)),n){var i=t.headerRowIndex;if(this.getHeaderRowType(i)===Wc.COLUMN_GROUP){var s=n;if(s.isPadding()&&this.isAnyChildSpanningHeaderHeight(s)){var a=this.getColumnVisibleChild(s,i,e),l=a.nextFocusColumn,c=a.nextRow;l&&(n=l,i=c)}}return{column:n,headerRowIndex:i}}},e.prototype.isAnyChildSpanningHeaderHeight=function(t){return!!t&&t.getLeafColumns().some((function(t){return t.isSpanHeaderHeight()}))},e.prototype.getColumnVisibleParent=function(t,e){var n=this.getHeaderRowType(e),o=n===Wc.FLOATING_FILTER,r=n===Wc.COLUMN,i=o?t:t.getParent(),s=e-1;if(r&&this.isAnyChildSpanningHeaderHeight(t.getParent())){for(;i&&i.isPadding();)i=i.getParent(),s--;s<0&&(i=t,s=e)}return{nextFocusColumn:i,nextRow:s}},e.prototype.getColumnVisibleChild=function(t,e,n){void 0===n&&(n="After");var o=t,r=e+1;if(this.getHeaderRowType(e)===Wc.COLUMN_GROUP){var i=t.getLeafColumns(),s="After"===n?i[0]:ft(i);if(this.isAnyChildSpanningHeaderHeight(s.getParent())){o=s;for(var a=s.getParent();a&&a!==t;)a=a.getParent(),r++}else o=t.getDisplayedChildren()[0]}return{nextFocusColumn:o,nextRow:r}},e.prototype.getHeaderRowType=function(t){var e=this.ctrlsService.getHeaderRowContainerCtrl();if(e)return e.getRowType(t)},e.prototype.findColAtEdgeForHeaderRow=function(t,e){var n=this.columnModel.getAllDisplayedColumns(),o=n["start"===e?0:n.length-1];if(o){var r=this.ctrlsService.getHeaderRowContainerCtrl(o.getPinned()).getRowType(t);return r==Wc.COLUMN_GROUP?{headerRowIndex:t,column:this.columnModel.getColumnGroupAtLevel(o,t)}:{headerRowIndex:null==r?-1:t,column:o}}},rg([K("columnModel")],e.prototype,"columnModel",void 0),rg([K("ctrlsService")],e.prototype,"ctrlsService",void 0),e=rg([z("headerPositionUtils")],e)}(Ut),sg=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ag=function(){function t(){}return t.prototype.buildColumnDefs=function(t,e,n){var o=this,r=[],i={};return t.forEach((function(t){for(var s=!0,a=o.createDefFromColumn(t,e,n),l=t.getOriginalParent();l;){var c=null;if(l.isPadding())l=l.getOriginalParent();else{var u=i[l.getGroupId()];if(u){u.children.push(a),s=!1;break}(c=o.createDefFromGroup(l))&&(c.children=[a],i[c.groupId]=c,a=c,l=l.getOriginalParent())}}s&&r.push(a)})),r},t.prototype.createDefFromGroup=function(t){var e=g(t.getColGroupDef(),["children"]);return e&&(e.groupId=t.getGroupId()),e},t.prototype.createDefFromColumn=function(t,e,n){var o=g(t.getColDef());return o.colId=t.getColId(),o.width=t.getActualWidth(),o.rowGroup=t.isRowGroupActive(),o.rowGroupIndex=t.isRowGroupActive()?e.indexOf(t):null,o.pivot=t.isPivotActive(),o.pivotIndex=t.isPivotActive()?n.indexOf(t):null,o.aggFunc=t.isValueActive()?t.getAggFunc():null,o.hide=!t.isVisible()||void 0,o.pinned=t.isPinned()?t.getPinned():null,o.sort=t.getSort()?t.getSort():null,o.sortIndex=null!=t.getSortIndex()?t.getSortIndex():null,o},t=sg([z("columnDefFactory")],t)}(),lg=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},cg=function(){function t(){}return t.prototype.getInitialRowClasses=function(t){var e=[];return r(t.extraCssClass)&&e.push(t.extraCssClass),e.push("ag-row"),e.push(t.rowFocused?"ag-row-focus":"ag-row-no-focus"),t.fadeRowIn&&e.push("ag-opacity-zero"),e.push(t.rowIsEven?"ag-row-even":"ag-row-odd"),t.rowNode.isRowPinned()&&e.push("ag-row-pinned"),t.rowNode.isSelected()&&e.push("ag-row-selected"),t.rowNode.footer&&e.push("ag-row-footer"),e.push("ag-row-level-"+t.rowLevel),t.rowNode.stub&&e.push("ag-row-loading"),t.fullWidthRow&&e.push("ag-full-width-row"),t.expandable&&(e.push("ag-row-group"),e.push(t.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),t.rowNode.dragging&&e.push("ag-row-dragging"),St(e,this.processClassesFromGridOptions(t.rowNode)),St(e,this.preProcessRowClassRules(t.rowNode)),e.push(t.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),t.firstRowOnPage&&e.push("ag-row-first"),t.lastRowOnPage&&e.push("ag-row-last"),t.fullWidthRow&&("left"===t.pinned&&e.push("ag-cell-last-left-pinned"),"right"===t.pinned&&e.push("ag-cell-first-right-pinned")),e},t.prototype.processClassesFromGridOptions=function(t){var e=[],n=function(t){"string"==typeof t?e.push(t):Array.isArray(t)&&t.forEach((function(t){return e.push(t)}))},o=this.gridOptionsService.get("rowClass");if(o){if("function"==typeof o)return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];n(o)}var r=this.gridOptionsService.getCallback("getRowClass");r&&n(r({data:t.data,node:t,rowIndex:t.rowIndex}));return e},t.prototype.preProcessRowClassRules=function(t){var e=[];return this.processRowClassRules(t,(function(t){e.push(t)}),(function(t){})),e},t.prototype.processRowClassRules=function(t,e,n){var o={data:t.data,node:t,rowIndex:t.rowIndex,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};this.stylingService.processClassRules(this.gridOptionsService.get("rowClassRules"),o,e,n)},t.prototype.calculateRowLevel=function(t){return t.group?t.level:t.parent?t.parent.level+1:0},lg([K("stylingService")],t.prototype,"stylingService",void 0),lg([K("gridOptionsService")],t.prototype,"gridOptionsService",void 0),t=lg([z("rowCssClassCalculator")],t)}(),ug=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),dg=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},pg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ug(e,t),e.prototype.init=function(){var t=this;this.isAccentedSort=this.gridOptionsService.is("accentedSort"),this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",(function(e){return t.isAccentedSort=e.currentValue})),this.addManagedPropertyListener("autoGroupColumnDef",(function(){return t.primaryColumnsSortGroups=t.gridOptionsService.isColumnsSortingCoupledToGroup()}))},e.prototype.doFullSort=function(t,e){var n=t.map((function(t,e){return{currentPos:e,rowNode:t}}));return n.sort(this.compareRowNodes.bind(this,e)),n.map((function(t){return t.rowNode}))},e.prototype.compareRowNodes=function(t,e,n){for(var o=e.rowNode,r=n.rowNode,i=0,s=t.length;i<s;i++){var a=t[i],l="desc"===a.sort,c=this.getValue(o,a.column),u=this.getValue(r,a.column),d=void 0,p=this.getComparator(a,o);if(d=p?p(c,u,o,r,l):or.defaultComparator(c,u,this.isAccentedSort),!isNaN(d)&&0!==d)return"asc"===a.sort?d:-1*d}return e.currentPos-n.currentPos},e.prototype.getComparator=function(t,e){var n=t.column,o=n.getColDef().comparator;if(null!=o)return o;if(n.getColDef().showRowGroup){var r=!e.group&&n.getColDef().field;if(r){var i=this.columnModel.getPrimaryColumn(r);if(i)return i.getColDef().comparator}}},e.prototype.getValue=function(t,e){var n,o;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(e,t,!1,!1);if(t.rowGroupColumn===e){if(this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotActive())){if(e.getColDef().keyCreator)return t.key;var r=null===(n=t.allLeafChildren)||void 0===n?void 0:n[0];return r?this.valueService.getValue(e,r,!1,!1):void 0}var i=this.columnModel.getGroupDisplayColumnForGroup(e.getId());if(!i)return;return null===(o=t.groupData)||void 0===o?void 0:o[i.getId()]}return t.group&&e.getColDef().showRowGroup?void 0:this.valueService.getValue(e,t,!1,!1)},dg([K("valueService")],e.prototype,"valueService",void 0),dg([K("columnModel")],e.prototype,"columnModel",void 0),dg([H],e.prototype,"init",null),e=dg([z("rowNodeSorter")],e)}(Ut),hg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),fg=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},gg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ready=!1,e.readyCallbacks=[],e}var n;return hg(e,t),n=e,e.prototype.checkReady=function(){if(this.ready=null!=this.gridCtrl&&null!=this.gridBodyCtrl&&null!=this.centerRowContainerCtrl&&null!=this.leftRowContainerCtrl&&null!=this.rightRowContainerCtrl&&null!=this.bottomCenterRowContainerCtrl&&null!=this.bottomLeftRowContainerCtrl&&null!=this.bottomRightRowContainerCtrl&&null!=this.topCenterRowContainerCtrl&&null!=this.topLeftRowContainerCtrl&&null!=this.topRightRowContainerCtrl&&null!=this.stickyTopCenterRowContainerCtrl&&null!=this.stickyTopLeftRowContainerCtrl&&null!=this.stickyTopRightRowContainerCtrl&&null!=this.centerHeaderRowContainerCtrl&&null!=this.leftHeaderRowContainerCtrl&&null!=this.rightHeaderRowContainerCtrl&&null!=this.fakeHScrollComp&&null!=this.fakeVScrollComp&&null!=this.gridHeaderCtrl,this.ready){var t=this.createReadyParams();this.readyCallbacks.forEach((function(e){return e(t)})),this.readyCallbacks.length=0}},e.prototype.whenReady=function(t){this.ready?t(this.createReadyParams()):this.readyCallbacks.push(t)},e.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollComp:this.fakeHScrollComp,fakeVScrollComp:this.fakeVScrollComp,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},e.prototype.registerFakeHScrollComp=function(t){this.fakeHScrollComp=t,this.checkReady()},e.prototype.registerFakeVScrollComp=function(t){this.fakeVScrollComp=t,this.checkReady()},e.prototype.registerGridHeaderCtrl=function(t){this.gridHeaderCtrl=t,this.checkReady()},e.prototype.registerCenterRowContainerCtrl=function(t){this.centerRowContainerCtrl=t,this.checkReady()},e.prototype.registerLeftRowContainerCtrl=function(t){this.leftRowContainerCtrl=t,this.checkReady()},e.prototype.registerRightRowContainerCtrl=function(t){this.rightRowContainerCtrl=t,this.checkReady()},e.prototype.registerTopCenterRowContainerCtrl=function(t){this.topCenterRowContainerCtrl=t,this.checkReady()},e.prototype.registerTopLeftRowContainerCon=function(t){this.topLeftRowContainerCtrl=t,this.checkReady()},e.prototype.registerTopRightRowContainerCtrl=function(t){this.topRightRowContainerCtrl=t,this.checkReady()},e.prototype.registerStickyTopCenterRowContainerCtrl=function(t){this.stickyTopCenterRowContainerCtrl=t,this.checkReady()},e.prototype.registerStickyTopLeftRowContainerCon=function(t){this.stickyTopLeftRowContainerCtrl=t,this.checkReady()},e.prototype.registerStickyTopRightRowContainerCtrl=function(t){this.stickyTopRightRowContainerCtrl=t,this.checkReady()},e.prototype.registerBottomCenterRowContainerCtrl=function(t){this.bottomCenterRowContainerCtrl=t,this.checkReady()},e.prototype.registerBottomLeftRowContainerCtrl=function(t){this.bottomLeftRowContainerCtrl=t,this.checkReady()},e.prototype.registerBottomRightRowContainerCtrl=function(t){this.bottomRightRowContainerCtrl=t,this.checkReady()},e.prototype.registerHeaderContainer=function(t,e){switch(e){case"left":this.leftHeaderRowContainerCtrl=t;break;case"right":this.rightHeaderRowContainerCtrl=t;break;default:this.centerHeaderRowContainerCtrl=t}this.checkReady()},e.prototype.registerGridBodyCtrl=function(t){this.gridBodyCtrl=t,this.checkReady()},e.prototype.registerGridCtrl=function(t){this.gridCtrl=t,this.checkReady()},e.prototype.getFakeHScrollComp=function(){return this.fakeHScrollComp},e.prototype.getFakeVScrollComp=function(){return this.fakeVScrollComp},e.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},e.prototype.getGridCtrl=function(){return this.gridCtrl},e.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},e.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},e.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},e.prototype.getStickyTopCenterRowContainerCtrl=function(){return this.stickyTopCenterRowContainerCtrl},e.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},e.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},e.prototype.getHeaderRowContainerCtrl=function(t){switch(t){case"left":return this.leftHeaderRowContainerCtrl;case"right":return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}},e.NAME="ctrlsService",e=n=fg([z(n.NAME)],e)}(Ut),_g=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),mg=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},yg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.registry={},e}return _g(e,t),e.prototype.register=function(t){this.registry[t.controllerName]=t.controllerClass},e.prototype.getInstance=function(t){var e=this.registry[t];if(null!=e)return new e},e=mg([z("ctrlsFactory")],e)}(Ut),vg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Cg=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Eg=function(t){function e(e,n){var o=t.call(this,e)||this;return o.direction=n,o.hideTimeout=null,o}return vg(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,zt.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",Mn()||An())},e.prototype.initialiseInvisibleScrollbar=function(){void 0===this.invisibleScrollbar&&(this.invisibleScrollbar=Un(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))},e.prototype.addActiveListenerToggles=function(){var t=this,e=this.getGui();["mouseenter","mousedown","touchstart"].forEach((function(n){return t.addManagedListener(e,n,(function(){return t.addOrRemoveCssClass("ag-scrollbar-active",!0)}))})),["mouseleave","touchend"].forEach((function(n){return t.addManagedListener(e,n,(function(){return t.addOrRemoveCssClass("ag-scrollbar-active",!1)}))}))},e.prototype.onScrollVisibilityChanged=function(){void 0===this.invisibleScrollbar&&this.initialiseInvisibleScrollbar(),this.setScrollVisible()},e.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var t=this;this.addManagedListener(this.eventService,zt.EVENT_BODY_SCROLL,(function(e){e.direction===t.direction&&(null!==t.hideTimeout&&(window.clearTimeout(t.hideTimeout),t.hideTimeout=null),t.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))})),this.addManagedListener(this.eventService,zt.EVENT_BODY_SCROLL_END,(function(){t.hideTimeout=window.setTimeout((function(){t.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),t.hideTimeout=null}),400)}))},e.prototype.getViewport=function(){return this.eViewport},e.prototype.getContainer=function(){return this.eContainer},Cg([_r("eViewport")],e.prototype,"eViewport",void 0),Cg([_r("eContainer")],e.prototype,"eContainer",void 0),Cg([K("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),Cg([K("ctrlsService")],e.prototype,"ctrlsService",void 0),e}(gr),bg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Sg=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},wg=function(t){function e(){return t.call(this,e.TEMPLATE,"horizontal")||this}return bg(e,t),e.prototype.postConstruct=function(){var e=this;t.prototype.postConstruct.call(this);var n=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_CHANGED,n),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,n),this.addManagedListener(this.eventService,zt.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",n),this.ctrlsService.registerFakeHScrollComp(this),this.createManagedBean(new uc((function(t){return e.eContainer.style.width=t+"px"})))},e.prototype.initialiseInvisibleScrollbar=function(){void 0===this.invisibleScrollbar&&(this.enableRtl=this.gridOptionsService.is("enableRtl"),t.prototype.initialiseInvisibleScrollbar.call(this),this.invisibleScrollbar&&this.refreshCompBottom())},e.prototype.onPinnedRowDataChanged=function(){this.refreshCompBottom()},e.prototype.refreshCompBottom=function(){if(this.invisibleScrollbar){var t=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=t+"px"}},e.prototype.onScrollVisibilityChanged=function(){t.prototype.onScrollVisibilityChanged.call(this),this.setFakeHScrollSpacerWidths()},e.prototype.setFakeHScrollSpacerWidths=function(){var t=this.scrollVisibleService.isVerticalScrollShowing(),e=this.columnModel.getDisplayedColumnsRightWidth(),n=!this.enableRtl&&t,o=this.gridOptionsService.getScrollbarWidth();n&&(e+=o),xo(this.eRightSpacer,e),this.eRightSpacer.classList.toggle("ag-scroller-corner",e<=o);var r=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&t&&(r+=o),xo(this.eLeftSpacer,r),this.eLeftSpacer.classList.toggle("ag-scroller-corner",r<=o)},e.prototype.setScrollVisible=function(){var t=this.scrollVisibleService.isHorizontalScrollShowing(),e=this.invisibleScrollbar,n=this.gridOptionsService.is("suppressHorizontalScroll"),o=t&&this.gridOptionsService.getScrollbarWidth()||0,r=n?0:0===o&&e?16:o;this.addOrRemoveCssClass("ag-scrollbar-invisible",e),Mo(this.getGui(),r),Mo(this.eViewport,r),Mo(this.eContainer,r),this.setDisplayed(t,{skipAriaHidden:!0})},e.TEMPLATE='<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>\n        </div>',Sg([_r("eLeftSpacer")],e.prototype,"eLeftSpacer",void 0),Sg([_r("eRightSpacer")],e.prototype,"eRightSpacer",void 0),Sg([K("columnModel")],e.prototype,"columnModel",void 0),Sg([K("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Sg([H],e.prototype,"postConstruct",null),e}(Eg),Og=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Pg=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Tg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Og(e,t),e.prototype.postConstruct=function(){var t=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,t),this.addManagedPropertyListener("domLayout",t)},e.prototype.checkContainerWidths=function(){var t=this.gridOptionsService.isDomLayout("print"),e=t?0:this.columnModel.getDisplayedColumnsLeftWidth(),n=t?0:this.columnModel.getDisplayedColumnsRightWidth();e!=this.leftWidth&&(this.leftWidth=e,this.eventService.dispatchEvent({type:zt.EVENT_LEFT_PINNED_WIDTH_CHANGED})),n!=this.rightWidth&&(this.rightWidth=n,this.eventService.dispatchEvent({type:zt.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},e.prototype.getPinnedRightWidth=function(){return this.rightWidth},e.prototype.getPinnedLeftWidth=function(){return this.leftWidth},Pg([K("columnModel")],e.prototype,"columnModel",void 0),Pg([H],e.prototype,"postConstruct",null),e=Pg([z("pinnedWidthService")],e)}(Ut),Rg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Dg=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},xg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.events=[],e}return Rg(e,t),e.prototype.postConstruct=function(){"clientSide"==this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel)},e.prototype.dispatchExpanded=function(t){var e=this;if(null!=this.clientSideRowModel){this.events.push(t);null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce((function(){e.clientSideRowModel&&e.clientSideRowModel.onRowGroupOpened(),e.events.forEach((function(t){return e.eventService.dispatchEvent(t)})),e.events=[]}))),this.dispatchExpandedDebounced()}else this.eventService.dispatchEvent(t)},Dg([K("animationFrameService")],e.prototype,"animationFrameService",void 0),Dg([K("rowModel")],e.prototype,"rowModel",void 0),Dg([H],e.prototype,"postConstruct",null),e=Dg([z("rowNodeEventThrottle")],e)}(Ut),Mg=function(){return Mg=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Mg.apply(this,arguments)},Ag=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Lg=function(t,e){return function(n,o){e(n,o,t)}},Ig=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Ng=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ig(arguments[e]));return t};function kg(t){return!0===t||"true"===t}var Fg,Gg=function(){function t(){this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new et}return Object.defineProperty(t.prototype,"context",{get:function(){return this.gridOptions.context},enumerable:!1,configurable:!0}),t.prototype.agWire=function(t,e){this.gridOptions.api=t,this.gridOptions.columnApi=e,this.api=t,this.columnApi=e},t.prototype.init=function(){this.gridOptionLookup=new Set(Ng(Qt.ALL_PROPERTIES,Qt.EVENT_CALLBACKS));var t=!this.is("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandler.bind(this),t),this.getScrollbarWidth()},t.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.destroyed=!0},t.prototype.is=function(t){return kg(this.gridOptions[t])},t.prototype.get=function(t){return this.gridOptions[t]},t.prototype.getNum=function(t){return"number"==typeof(e=this.gridOptions[t])?e:"string"==typeof e?parseInt(e,10):void 0;var e},t.prototype.getCallback=function(t){return this.mergeGridCommonParams(this.gridOptions[t])},t.prototype.exists=function(t){return r(this.gridOptions[t])},t.prototype.mergeGridCommonParams=function(t){var e=this;if(t){return function(n){var o=n;return o.api=e.api,o.columnApi=e.columnApi,o.context=e.context,t(o)}}return t},t.prototype.set=function(t,e,n,o){if(void 0===n&&(n=!1),void 0===o&&(o={}),this.gridOptionLookup.has(t)){var r=this.gridOptions[t];if(n||r!==e){this.gridOptions[t]=e;var i=Mg({type:t,currentValue:e,previousValue:r},o);this.propertyEventService.dispatchEvent(i)}}},t.prototype.addEventListener=function(t,e){this.propertyEventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.propertyEventService.removeEventListener(t,e)},t.prototype.globalEventHandler=function(t,e){if(!this.destroyed){var n=Qt.getCallbackForEvent(t);"function"==typeof this.gridOptions[n]&&this.gridOptions[n](e)}},t.prototype.getScrollbarWidth=function(){if(null==this.scrollbarWidth){var t="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:Gn();null!=t&&(this.scrollbarWidth=t,this.eventService.dispatchEvent({type:zt.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},t.prototype.isRowModelType=function(t){return this.gridOptions.rowModelType===t||"clientSide"===t&&i(this.gridOptions.rowModelType)},t.prototype.isDomLayout=function(t){var e;return(null!==(e=this.gridOptions.domLayout)&&void 0!==e?e:"normal")===t},t.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},t.prototype.useAsyncEvents=function(){return!this.is("suppressAsyncEvents")},t.prototype.isGetRowHeightFunction=function(){return"function"==typeof this.gridOptions.getRowHeight},t.prototype.getRowHeightForNode=function(t,e,n){if(void 0===e&&(e=!1),null==n&&(n=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(e)return{height:n,estimated:!0};var o={node:t,data:t.data},r=this.getCallback("getRowHeight")(o);if(this.isNumeric(r))return 0===r&&T((function(){return console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.")}),"invalidRowHeight"),{height:Math.max(1,r),estimated:!1}}return t.detail&&this.is("masterDetail")?this.getMasterDetailRowHeight():{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:n,estimated:!1}},t.prototype.getMasterDetailRowHeight=function(){return this.is("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}},t.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||i(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();var t=this.gridOptions.rowHeight;return t&&this.isNumeric(t)?(this.environment.setRowHeightVariable(t),t):(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())},t.prototype.isNumeric=function(t){return!isNaN(t)&&"number"==typeof t&&isFinite(t)},t.prototype.getDomDataKey=function(){return this.domDataKey},t.prototype.getDomData=function(t,e){var n=t[this.getDomDataKey()];return n?n[e]:void 0},t.prototype.setDomData=function(t,e,n){var o=this.getDomDataKey(),r=t[o];i(r)&&(r={},t[o]=r),r[e]=n},t.prototype.getDocument=function(){var t=null;return this.gridOptions.getDocument&&r(this.gridOptions.getDocument)?t=this.gridOptions.getDocument():this.eGridDiv&&(t=this.eGridDiv.ownerDocument),t&&r(t)?t:document},t.prototype.getRootNode=function(){return this.eGridDiv.getRootNode()},t.prototype.getRowIdFunc=function(){var t=this.getCallback("getRowId");if(t)return t;var e=this.gridOptions.getRowNodeId;return e?function(t){return e(t.data)}:void 0},t.prototype.getAsyncTransactionWaitMillis=function(){return r(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50},t.prototype.isAnimateRows=function(){return!this.is("ensureDomOrder")&&this.is("animateRows")},t.prototype.isTreeData=function(){return this.is("treeData")&&ot.assertRegistered(J.RowGroupingModule,"Tree Data")},t.prototype.isMasterDetail=function(){return this.is("masterDetail")&&ot.assertRegistered(J.MasterDetailModule,"masterDetail")},t.prototype.isEnableRangeSelection=function(){return this.is("enableRangeSelection")&&ot.isRegistered(J.RangeSelectionModule)},t.prototype.isColumnsSortingCoupledToGroup=function(){var t=this.gridOptions.autoGroupColumnDef;return this.isRowModelType("clientSide")&&!(null==t?void 0:t.comparator)&&!this.isTreeData()},t.prototype.getGroupAggFiltering=function(){var t=this.gridOptions.groupAggFiltering;return"function"==typeof t?this.getCallback("groupAggFiltering"):kg(t)?function(){return!0}:void 0},t.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?ce("multipleColumns",this.gridOptions.groupDisplayType):this.is("groupHideOpenParents")},t.prototype.isGroupUseEntireRow=function(t){return!t&&(!!this.gridOptions.groupDisplayType&&ce("groupRows",this.gridOptions.groupDisplayType))},Ag([K("gridOptions")],t.prototype,"gridOptions",void 0),Ag([K("eventService")],t.prototype,"eventService",void 0),Ag([K("environment")],t.prototype,"environment",void 0),Ag([K("eGridDiv")],t.prototype,"eGridDiv",void 0),Ag([Lg(0,q("gridApi")),Lg(1,q("columnApi"))],t.prototype,"agWire",null),Ag([H],t.prototype,"init",null),Ag([$],t.prototype,"destroy",null),t=Ag([z("gridOptionsService")],t)}(),Bg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ug=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},jg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Bg(e,t),e.prototype.getLocaleTextFunc=function(){var t=this.gridOptionsService.getCallback("getLocaleText");if(t)return function(e,n,o){return t({key:e,defaultValue:n,variableValues:o})};var e=this.gridOptionsService.get("localeTextFunc");if(e)return e;var n=this.gridOptionsService.get("localeText");return function(t,e,o){var r=n&&n[t];if(r&&o&&o.length)for(var i=0;!(i>=o.length);){if(-1===r.indexOf("${variable}"))break;r=r.replace("${variable}",o[i++])}return null!=r?r:e}},e=Ug([z("localeService")],e)}(Ut),Vg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Wg=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Hg=function(t){function e(){return t.call(this,e.TEMPLATE,"vertical")||this}return Vg(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.createManagedBean(new rc(this.eContainer)),this.ctrlsService.registerFakeVScrollComp(this)},e.prototype.setScrollVisible=function(){var t=this.scrollVisibleService.isVerticalScrollShowing(),e=this.invisibleScrollbar,n=t&&this.gridOptionsService.getScrollbarWidth()||0,o=0===n&&e?16:n;this.addOrRemoveCssClass("ag-scrollbar-invisible",e),xo(this.getGui(),o),xo(this.eViewport,o),xo(this.eContainer,o),this.setDisplayed(t,{skipAriaHidden:!0})},e.TEMPLATE='<div class="ag-body-vertical-scroll" aria-hidden="true">\n            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">\n                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>\n            </div>\n        </div>',Wg([H],e.prototype,"postConstruct",null),e}(Eg),$g=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},zg=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat($g(arguments[e]));return t},Kg=function(){function t(t,e,n){e?(this.gridOptions=e,(new Yg).create(t,e,(function(e){var n=new Kh(t);e.createBean(n)}),void 0,n)):console.error("AG Grid: no gridOptions provided to the grid")}return t.prototype.destroy=function(){this.gridOptions&&this.gridOptions.api&&this.gridOptions.api.destroy()},t}(),Yg=function(){function t(){}return t.prototype.create=function(t,e,n,o,r){var i=this,s=!!e.debug,a=this.getRegisteredModules(r),l=this.createBeansList(e.rowModelType,a),c=this.createProvidedBeans(t,e,r);if(l){var u={providedBeanInstances:c,beanClasses:l,debug:s},d=new jh("AG Grid",(function(){return e.debug})),p=new jh("Context",(function(){return u.debug})),h=new V(u,p),f=h.getBean("beans");this.registerModuleUserComponents(f,a),this.registerStackComponents(f,a),this.registerControllers(f,a),n(h),f.ctrlsService.whenReady((function(){i.setColumnsAndData(f),i.dispatchGridReadyEvent(f);var t=ot.isRegistered(J.EnterpriseCoreModule);d.log("initialised successfully, enterprise = "+t)})),o&&o(h)}},t.prototype.registerControllers=function(t,e){e.forEach((function(e){e.controllers&&e.controllers.forEach((function(e){return t.ctrlsFactory.register(e)}))}))},t.prototype.registerStackComponents=function(t,e){var n=this.createAgStackComponentsList(e);t.agStackComponentsRegistry.setupComponents(n)},t.prototype.getRegisteredModules=function(t){var e=t?t.modules:null,n=ot.getRegisteredModules(),o=[],r={};function i(t,e){var n;r[(n=e).moduleName]||(r[n.moduleName]=!0,o.push(n),ot.register(n,t)),e.dependantModules&&e.dependantModules.forEach(i.bind(null,t))}return e&&e.forEach(i.bind(null,!0)),n&&n.forEach(i.bind(null,!ot.isPackageBased())),o},t.prototype.registerModuleUserComponents=function(t,e){this.extractModuleEntity(e,(function(t){return t.userComponents?t.userComponents:[]})).forEach((function(e){t.userComponentRegistry.registerDefaultComponent(e.componentName,e.componentClass)}))},t.prototype.createProvidedBeans=function(t,e,n){var o=n?n.frameworkOverrides:null;i(o)&&(o=new ch);var r={gridOptions:e,eGridDiv:t,globalEventListener:n?n.globalEventListener:null,frameworkOverrides:o};return n&&n.providedBeanInstances&&Object.assign(r,n.providedBeanInstances),r},t.prototype.createAgStackComponentsList=function(t){var e=[{componentName:"AgCheckbox",componentClass:ei},{componentName:"AgRadioButton",componentClass:oi},{componentName:"AgToggleButton",componentClass:cp},{componentName:"AgInputTextField",componentClass:Pi},{componentName:"AgInputTextArea",componentClass:dp},{componentName:"AgInputNumberField",componentClass:Ri},{componentName:"AgInputRange",componentClass:hp},{componentName:"AgSelect",componentClass:qr},{componentName:"AgSlider",componentClass:_p},{componentName:"AgGridBody",componentClass:bc},{componentName:"AgHeaderRoot",componentClass:cd},{componentName:"AgSortIndicator",componentClass:Ji},{componentName:"AgPagination",componentClass:Ff},{componentName:"AgOverlayWrapper",componentClass:Uf},{componentName:"AgGroupComponent",componentClass:vp},{componentName:"AgPanel",componentClass:Up},{componentName:"AgDialog",componentClass:Hp},{componentName:"AgRowContainer",componentClass:Hc},{componentName:"AgFakeHorizontalScroll",componentClass:wg},{componentName:"AgFakeVerticalScroll",componentClass:Hg}],n=this.extractModuleEntity(t,(function(t){return t.agStackComponents?t.agStackComponents:[]}));return e=e.concat(n)},t.prototype.createBeansList=function(t,e){void 0===t&&(t="clientSide");var n=e.filter((function(e){return!e.rowModel||e.rowModel===t})),o={clientSide:J.ClientSideRowModelModule,infinite:J.InfiniteRowModelModule,serverSide:J.ServerSideRowModelModule,viewport:J.ViewportRowModelModule};if(o[t]){if(ot.assertRegistered(o[t],"rowModelType = '"+t+"'")){var r=[Sl,Wf,zf,ig,lf,Na,ia,mf,Cf,bd,Pa,Mf,pd,jg,le,Kd,Ma,Ge,et,Gg,oh,wh,Ba,Ae,od,rp,Ud,Lh,Ht,kh,yh,Ac,df,Dh,Uh,Ne,Rd,gd,As,Ph,qp,Rc,Tf,fh,Hd,ap,Oc,Jh,ef,rf,If,_e,ff,Od,ng,je,ag,cg,ep,pg,gg,Tg,xg,yg],i=this.extractModuleEntity(n,(function(t){return t.beans?t.beans:[]}));r.push.apply(r,zg(i));var s=[];return r.forEach((function(t){s.indexOf(t)<0&&s.push(t)})),s}}else console.error("AG Grid: could not find row model for rowModelType = "+t)},t.prototype.extractModuleEntity=function(t,e){return[].concat.apply([],zg(t.map(e)))},t.prototype.setColumnsAndData=function(t){var e=t.gridOptionsService.get("columnDefs");t.columnModel.setColumnDefs(e||[],"gridInitializing"),t.rowModel.start()},t.prototype.dispatchGridReadyEvent=function(t){var e={type:zt.EVENT_GRID_READY};t.eventService.dispatchEvent(e)},t}(),Zg=function(){function t(){}return t.prototype.wrap=function(t,e,n,o){var r=this;void 0===n&&(n=[]);var i=this.createWrapper(t,o);return e.forEach((function(t){r.createMethod(i,t,!0)})),n.forEach((function(t){r.createMethod(i,t,!1)})),i},t.prototype.unwrap=function(t){return t},t.prototype.createMethod=function(t,e,n){t.addMethod(e,this.createMethodProxy(t,e,n))},t.prototype.createMethodProxy=function(t,e,n){return function(){return t.hasMethod(e)?t.callMethod(e,arguments):(n&&console.warn("AG Grid: Framework component is missing the method "+e+"()"),null)}},t}(),qg={columnGroup:["column","stackedColumn","normalizedColumn"],barGroup:["bar","stackedBar","normalizedBar"],pieGroup:["pie","doughnut"],lineGroup:["line"],scatterGroup:["scatter","bubble"],areaGroup:["area","stackedArea","normalizedArea"],histogramGroup:["histogram"],combinationGroup:["columnLineCombo","areaColumnCombo","customCombo"]},Xg=["chartSettings","chartData","chartFormat"],Jg=["chartUnlink","chartLink","chartDownload"],Qg={settings:"chartSettings",data:"chartData",format:"chartFormat"};!function(t){t.InsideBase="insideBase",t.InsideEnd="insideEnd",t.Center="center",t.OutsideEnd="outsideEnd"}(Fg||(Fg={}));var t_=void 0===n.g?{}:n.g;t_.HTMLElement="undefined"==typeof HTMLElement?{}:HTMLElement,t_.HTMLButtonElement="undefined"==typeof HTMLButtonElement?{}:HTMLButtonElement,t_.HTMLSelectElement="undefined"==typeof HTMLSelectElement?{}:HTMLSelectElement,t_.HTMLInputElement="undefined"==typeof HTMLInputElement?{}:HTMLInputElement,t_.Node="undefined"==typeof Node?{}:Node,t_.MouseEvent="undefined"==typeof MouseEvent?{}:MouseEvent;var e_,n_=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},o_=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(n_(arguments[e]));return t},r_=function(){function t(e,n,o,r,i,s){this.nextId=0,this.allNodesMap={},this.rootNode=e,this.gridOptionsService=n,this.eventService=o,this.columnModel=r,this.beans=s,this.selectionService=i,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=t.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return t.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsService.is("suppressParentsInRowNodes"),this.isRowMasterFunc=this.gridOptionsService.get("isRowMaster"),this.doingTreeData=this.gridOptionsService.isTreeData(),this.doingMasterDetail=this.gridOptionsService.isMasterDetail()},t.prototype.getCopyOfNodesMap=function(){return or.cloneObject(this.allNodesMap)},t.prototype.getRowNode=function(t){return this.allNodesMap[t]},t.prototype.setRowData=function(e){var n=this;if("string"!=typeof e){var o=this.rootNode,r=this.rootNode.sibling;o.childrenAfterFilter=null,o.childrenAfterGroup=null,o.childrenAfterAggFilter=null,o.childrenAfterSort=null,o.childrenMapped=null,o.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?o.allLeafChildren=e.map((function(e){return n.createNode(e,n.rootNode,t.TOP_LEVEL)})):(o.allLeafChildren=[],o.childrenAfterGroup=[]),r&&(r.childrenAfterFilter=o.childrenAfterFilter,r.childrenAfterGroup=o.childrenAfterGroup,r.childrenAfterAggFilter=o.childrenAfterAggFilter,r.childrenAfterSort=o.childrenAfterSort,r.childrenMapped=o.childrenMapped,r.allLeafChildren=o.allLeafChildren)}else console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},t.prototype.updateRowData=function(t,e){var n={remove:[],update:[],add:[]},o=[];return this.executeRemove(t,n,o),this.executeUpdate(t,n,o),this.executeAdd(t,n),this.updateSelection(o,"rowDataChanged"),e&&or.sortRowNodesByOrder(this.rootNode.allLeafChildren,e),n},t.prototype.updateSelection=function(t,e){var n=t.length>0;if(n&&t.forEach((function(t){t.setSelected(!1,!1,!0,e)})),this.selectionService.updateGroupsFromChildrenSelections(e),n){var o={type:zt.EVENT_SELECTION_CHANGED,source:e};this.eventService.dispatchEvent(o)}},t.prototype.executeAdd=function(e,n){var o,r=this,i=e.add,s=e.addIndex;if(!or.missingOrEmpty(i)){var a=i.map((function(e){return r.createNode(e,r.rootNode,t.TOP_LEVEL)}));if("number"==typeof s&&s>=0){var l=this.rootNode.allLeafChildren,c=l.length,u=s;if(this.doingTreeData&&s>0&&c>0)for(var d=0;d<c;d++)if((null===(o=l[d])||void 0===o?void 0:o.rowIndex)==s-1){u=d+1;break}var p=l.slice(0,u),h=l.slice(u,l.length);this.rootNode.allLeafChildren=o_(p,a,h)}else this.rootNode.allLeafChildren=o_(this.rootNode.allLeafChildren,a);this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),n.add=a}},t.prototype.executeRemove=function(t,e,n){var o=this,r=t.remove;if(!or.missingOrEmpty(r)){var i={};r.forEach((function(t){var r=o.lookupRowNode(t);r&&(r.isSelected()&&n.push(r),r.clearRowTopAndRowIndex(),i[r.id]=!0,delete o.allNodesMap[r.id],e.remove.push(r))})),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter((function(t){return!i[t.id]})),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},t.prototype.executeUpdate=function(e,n,o){var r=this,i=e.update;or.missingOrEmpty(i)||i.forEach((function(e){var i=r.lookupRowNode(e);i&&(i.updateData(e),!i.selectable&&i.isSelected()&&o.push(i),r.setMasterForRow(i,e,t.TOP_LEVEL,!1),n.update.push(i))}))},t.prototype.lookupRowNode=function(t){var e,n=this.gridOptionsService.getRowIdFunc();if(n){var o=n({data:t,level:0});if(!(e=this.allNodesMap[o]))return console.error("AG Grid: could not find row id="+o+", data item was not found for this id"),null}else if(!(e=this.rootNode.allLeafChildren.find((function(e){return e.data===t}))))return console.error("AG Grid: could not find data item as object was not found",t),console.error("Consider using getRowId to help the Grid find matching row data"),null;return e||null},t.prototype.createNode=function(t,e,n){var o=new Ss(this.beans);return o.group=!1,this.setMasterForRow(o,t,n,!0),e&&!this.suppressParentsInRowNodes&&(o.parent=e),o.level=n,o.setDataAndId(t,this.nextId.toString()),this.allNodesMap[o.id]&&console.warn("AG Grid: duplicate node id '"+o.id+"' detected from getRowId callback, this could cause issues in your grid."),this.allNodesMap[o.id]=o,this.nextId++,o},t.prototype.setMasterForRow=function(t,e,n,o){if(this.doingTreeData)t.setMaster(!1),o&&(t.expanded=!1);else if(this.doingMasterDetail?this.isRowMasterFunc?t.setMaster(this.isRowMasterFunc(e)):t.setMaster(!0):t.setMaster(!1),o){var r=this.columnModel.getRowGroupColumns(),i=n+(r?r.length:0);t.expanded=!!t.master&&this.isExpanded(i)}},t.prototype.isExpanded=function(t){var e=this.gridOptionsService.getNum("groupDefaultExpanded");return-1===e||t<e},t.TOP_LEVEL=0,t.ROOT_NODE_ID="ROOT_NODE_ID",t}(),i_=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),s_=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},a_=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},l_=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a_(arguments[e]));return t};!function(t){t[t.Normal=0]="Normal",t[t.AfterFilter=1]="AfterFilter",t[t.AfterFilterAndSort=2]="AfterFilterAndSort",t[t.PivotNodes=3]="PivotNodes"}(e_||(e_={}));var c_,u_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onRowHeightChanged_debounced=or.debounce(e.onRowHeightChanged.bind(e),100),e.rowsToDisplay=[],e}return i_(e,t),e.prototype.init=function(){var t=this.refreshModel.bind(this,{step:Ra.EVERYTHING}),e=!this.gridOptionsService.is("suppressAnimationFrame"),n=this.refreshModel.bind(this,{step:Ra.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:e});this.addManagedListener(this.eventService,zt.EVENT_NEW_COLUMNS_LOADED,n),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_ROW_GROUP_CHANGED,t),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:Ra.PIVOT})),this.addManagedListener(this.eventService,zt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_PIVOT_MODE_CHANGED,t),this.addManagedListener(this.eventService,zt.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanges.bind(this));var o=this.refreshModel.bind(this,{step:Ra.MAP,keepRenderedRows:!0,animate:e});this.addManagedPropertyListener("groupRemoveSingleChildren",o),this.addManagedPropertyListener("groupRemoveLowestSingleChildren",o),this.rootNode=new Ss(this.beans),this.nodeManager=new r_(this.rootNode,this.gridOptionsService,this.eventService,this.columnModel,this.selectionService,this.beans)},e.prototype.start=function(){var t=this.gridOptionsService.get("rowData");t&&this.setRowData(t)},e.prototype.ensureRowHeightsValid=function(t,e,n,o){var r,i=!1;do{r=!1;for(var s=this.getRowIndexAtPixel(t),a=this.getRowIndexAtPixel(e),l=Math.max(s,n),c=Math.min(a,o),u=l;u<=c;u++){var d=this.getRow(u);if(d.rowHeightEstimated){var p=this.gridOptionsService.getRowHeightForNode(d);d.setRowHeight(p.height),r=!0,i=!0}}r&&this.setRowTopAndRowIndex()}while(r);return i},e.prototype.setRowTopAndRowIndex=function(){for(var t=this.environment.getDefaultRowHeight(),e=0,n=new Set,o=this.gridOptionsService.isDomLayout("normal"),r=0;r<this.rowsToDisplay.length;r++){var i=this.rowsToDisplay[r];if(null!=i.id&&n.add(i.id),null==i.rowHeight){var s=this.gridOptionsService.getRowHeightForNode(i,o,t);i.setRowHeight(s.height,s.estimated)}i.setRowTop(e),i.setRowIndex(r),e+=i.rowHeight}return n},e.prototype.clearRowTopAndRowIndex=function(t,e){var n=t.isActive(),o=function(t){t&&null!=t.id&&!e.has(t.id)&&t.clearRowTopAndRowIndex()},r=function(t){if(o(t),o(t.detailNode),o(t.sibling),t.hasChildren()&&t.childrenAfterGroup){var e=-1==t.level;n&&!e&&!t.expanded||t.childrenAfterGroup.forEach(r)}};r(this.rootNode)},e.prototype.ensureRowsAtPixel=function(t,e,n){var o=this;void 0===n&&(n=0);var r=this.getRowIndexAtPixel(e),i=this.getRow(r),s=!this.gridOptionsService.is("suppressAnimationFrame");return i!==t[0]&&(t.forEach((function(t){or.removeFromArray(o.rootNode.allLeafChildren,t)})),t.forEach((function(t,e){or.insertIntoArray(o.rootNode.allLeafChildren,t,Math.max(r+n,0)+e)})),this.refreshModel({step:Ra.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:s}),!0)},e.prototype.highlightRowAtPixel=function(t,e){var n=null!=e?this.getRowIndexAtPixel(e):null,o=null!=n?this.getRow(n):null;if(o&&t&&o!==t&&null!=e){var r=this.getHighlightPosition(e,o);this.lastHighlightedRow&&this.lastHighlightedRow!==o&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),o.setHighlighted(r),this.lastHighlightedRow=o}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},e.prototype.getHighlightPosition=function(t,e){if(!e){var n=this.getRowIndexAtPixel(t);if(!(e=this.getRow(n||0)))return Ta.Below}return t-e.rowTop<e.rowHeight/2?Ta.Above:Ta.Below},e.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},e.prototype.isLastRowIndexKnown=function(){return!0},e.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},e.prototype.getTopLevelRowCount=function(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;var t=this.rootNode.childrenAfterAggFilter;return t?t.length:0},e.prototype.getTopLevelRowDisplayedIndex=function(t){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return t;var e=this.rootNode.childrenAfterSort[t];if(this.gridOptionsService.is("groupHideOpenParents"))for(;e.expanded&&e.childrenAfterSort&&e.childrenAfterSort.length>0;)e=e.childrenAfterSort[0];return e.rowIndex},e.prototype.getRowBounds=function(t){if(or.missing(this.rowsToDisplay))return null;var e=this.rowsToDisplay[t];return e?{rowTop:e.rowTop,rowHeight:e.rowHeight}:null},e.prototype.onRowGroupOpened=function(){var t=this.gridOptionsService.isAnimateRows();this.refreshModel({step:Ra.MAP,keepRenderedRows:!0,animate:t})},e.prototype.onFilterChanged=function(t){if(!t.afterDataChange){var e=this.gridOptionsService.isAnimateRows(),n=0===t.columns.length||t.columns.some((function(t){return t.isPrimary()}))?Ra.FILTER:Ra.FILTER_AGGREGATES;this.refreshModel({step:n,keepRenderedRows:!0,animate:e})}},e.prototype.onSortChanged=function(){var t=this.gridOptionsService.isAnimateRows();this.refreshModel({step:Ra.SORT,keepRenderedRows:!0,animate:t,keepEditingRows:!0})},e.prototype.getType=function(){return"clientSide"},e.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:Ra.PIVOT}):this.refreshModel({step:Ra.AGGREGATE})},e.prototype.createChangePath=function(t){var e=or.missingOrEmpty(t),n=new Zd(!1,this.rootNode);return(e||this.gridOptionsService.isTreeData())&&n.setInactive(),n},e.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(t){if(!this.gridOptionsService.is("suppressModelUpdateAfterUpdateTransaction"))return!1;if(null==t.rowNodeTransactions)return!1;var e=t.rowNodeTransactions.filter((function(t){return null!=t.add&&t.add.length>0||null!=t.remove&&t.remove.length>0}));return null==e||0==e.length},e.prototype.buildRefreshModelParams=function(t){var e=Ra.EVERYTHING,n={everything:Ra.EVERYTHING,group:Ra.EVERYTHING,filter:Ra.FILTER,map:Ra.MAP,aggregate:Ra.AGGREGATE,sort:Ra.SORT,pivot:Ra.PIVOT};if(or.exists(t)&&(e=n[t]),!or.missing(e))return{step:e,keepRenderedRows:!0,keepEditingRows:!0,animate:!this.gridOptionsService.is("suppressAnimationFrame")};console.error("AG Grid: invalid step "+t+", available steps are "+Object.keys(n).join(", "))},e.prototype.refreshModel=function(t){var e="object"==typeof t&&"step"in t?t:this.buildRefreshModelParams(t);if(e&&!this.isSuppressModelUpdateAfterUpdateTransaction(e)){var n=this.createChangePath(e.rowNodeTransactions);switch(e.step){case Ra.EVERYTHING:this.doRowGrouping(e.groupState,e.rowNodeTransactions,e.rowNodeOrder,n,!!e.afterColumnsChanged);case Ra.FILTER:this.doFilter(n);case Ra.PIVOT:this.doPivot(n);case Ra.AGGREGATE:this.doAggregate(n);case Ra.FILTER_AGGREGATES:this.doFilterAggregates(n);case Ra.SORT:this.doSort(e.rowNodeTransactions,n);case Ra.MAP:this.doRowsToDisplay()}var o=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(n,o);var r={type:zt.EVENT_MODEL_UPDATED,animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack};this.eventService.dispatchEvent(r)}},e.prototype.isEmpty=function(){var t=or.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return or.missing(this.rootNode)||t||!this.columnModel.isReady()},e.prototype.isRowsToRender=function(){return or.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},e.prototype.getNodesInRangeForSelection=function(t,e){var n,o=!e,r=!1,i=[],s=this.gridOptionsService.is("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort((function(a){var l=o&&!r;if(o||a!==e&&a!==t||(o=!0),!(a.group&&s)){var c=o&&!r,u=a.isParentOfNode(n);(c||u)&&i.push(a)}l&&(a!==e&&a!==t||(r=!0,n=a===e?e:t))})),i},e.prototype.setDatasource=function(t){console.error("AG Grid: should never call setDatasource on clientSideRowController")},e.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},e.prototype.getRootNode=function(){return this.rootNode},e.prototype.getRow=function(t){return this.rowsToDisplay[t]},e.prototype.isRowPresent=function(t){return this.rowsToDisplay.indexOf(t)>=0},e.prototype.getRowIndexAtPixel=function(t){if(this.isEmpty()||0===this.rowsToDisplay.length)return-1;var e=0,n=this.rowsToDisplay.length-1;if(t<=0)return 0;if(or.last(this.rowsToDisplay).rowTop<=t)return this.rowsToDisplay.length-1;for(var o=-1,r=-1;;){var i=Math.floor((e+n)/2),s=this.rowsToDisplay[i];if(this.isRowInPixel(s,t))return i;if(s.rowTop<t?e=i+1:s.rowTop>t&&(n=i-1),o===e&&r===n)return i;o=e,r=n}},e.prototype.isRowInPixel=function(t,e){var n=t.rowTop,o=t.rowTop+t.rowHeight;return n<=e&&o>e},e.prototype.forEachLeafNode=function(t){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((function(e,n){return t(e,n)}))},e.prototype.forEachNode=function(t,e){void 0===e&&(e=!1),this.recursivelyWalkNodesAndCallback({nodes:l_(this.rootNode.childrenAfterGroup||[]),callback:t,recursionType:e_.Normal,index:0,includeFooterNodes:e})},e.prototype.forEachNodeAfterFilter=function(t,e){void 0===e&&(e=!1),this.recursivelyWalkNodesAndCallback({nodes:l_(this.rootNode.childrenAfterAggFilter||[]),callback:t,recursionType:e_.AfterFilter,index:0,includeFooterNodes:e})},e.prototype.forEachNodeAfterFilterAndSort=function(t,e){void 0===e&&(e=!1),this.recursivelyWalkNodesAndCallback({nodes:l_(this.rootNode.childrenAfterSort||[]),callback:t,recursionType:e_.AfterFilterAndSort,index:0,includeFooterNodes:e})},e.prototype.forEachPivotNode=function(t,e){void 0===e&&(e=!1),this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:t,recursionType:e_.PivotNodes,index:0,includeFooterNodes:e})},e.prototype.recursivelyWalkNodesAndCallback=function(t){var e,n=t.nodes,o=t.callback,r=t.recursionType,i=t.includeFooterNodes,s=t.index,a=n[0];i&&(null===(e=null==a?void 0:a.parent)||void 0===e?void 0:e.sibling)&&n.push(a.parent.sibling);for(var l=0;l<n.length;l++){var c=n[l];if(o(c,s++),c.hasChildren()&&!c.footer){var u=null;switch(r){case e_.Normal:u=c.childrenAfterGroup;break;case e_.AfterFilter:u=c.childrenAfterAggFilter;break;case e_.AfterFilterAndSort:u=c.childrenAfterSort;break;case e_.PivotNodes:u=c.leafGroup?null:c.childrenAfterSort}u&&(s=this.recursivelyWalkNodesAndCallback({nodes:l_(u),callback:o,recursionType:r,index:s,includeFooterNodes:i}))}}return s},e.prototype.doAggregate=function(t){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.doFilterAggregates=function(t){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:t}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter},e.prototype.expandOrCollapseAll=function(t){var e=this.gridOptionsService.isTreeData(),n=this.columnModel.isPivotActive(),o=function(r){r&&r.forEach((function(r){var i=function(){r.expanded=t,o(r.childrenAfterGroup)};e?or.exists(r.childrenAfterGroup)&&i():n?!r.leafGroup&&i():r.group&&i()}))};this.rootNode&&o(this.rootNode.childrenAfterGroup),this.refreshModel({step:Ra.MAP});var r=t?"expandAll":"collapseAll",i={type:zt.EVENT_EXPAND_COLLAPSE_ALL,source:r};this.eventService.dispatchEvent(i)},e.prototype.doSort=function(t,e){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,changedPath:e})},e.prototype.doRowGrouping=function(t,e,n,o,r){if(this.groupStage){if(e?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,rowNodeOrder:n,changedPath:o}):(this.groupStage.execute({rowNode:this.rootNode,changedPath:o,afterColumnsChanged:r}),this.restoreGroupState(t)),this.gridOptionsService.is("groupSelectsChildren")&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",o)){var i={type:zt.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"};this.eventService.dispatchEvent(i)}}else this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren()},e.prototype.restoreGroupState=function(t){t&&or.traverseNodesWithKey(this.rootNode.childrenAfterGroup,(function(e,n){"boolean"==typeof t[n]&&(e.expanded=t[n])}))},e.prototype.doFilter=function(t){this.filterStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.doPivot=function(t){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsService.is("rememberGroupStateWhenNewData"))return null;var t={};return or.traverseNodesWithKey(this.rootNode.childrenAfterGroup,(function(e,n){return t[n]=e.expanded})),t},e.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},e.prototype.getRowNode=function(t){if("string"==typeof t&&0==t.indexOf(Ss.ID_PREFIX_ROW_GROUP)){var e=void 0;return this.forEachNode((function(n){n.id===t&&(e=n)})),e}return this.nodeManager.getRowNode(t)},e.prototype.setRowData=function(t){var e=this.getGroupState();this.nodeManager.setRowData(t),this.selectionService.reset(),this.filterManager.onNewRowsLoaded("rowDataUpdated");var n={type:zt.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(n),this.refreshModel({step:Ra.EVERYTHING,groupState:e,newData:!0})},e.prototype.batchUpdateRowData=function(t,e){var n=this;if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];var o=this.gridOptionsService.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout((function(){n.executeBatchUpdateRowData()}),o)}this.rowDataTransactionBatch.push({rowDataTransaction:t,callback:e})},e.prototype.flushAsyncTransactions=function(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},e.prototype.executeBatchUpdateRowData=function(){var t=this;this.valueCache.onDataChanged();var e=[],n=[],o=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach((function(r){var i=t.nodeManager.updateRowData(r.rowDataTransaction,void 0);n.push(i),r.callback&&e.push(r.callback.bind(null,i)),"number"==typeof r.rowDataTransaction.addIndex&&(o=!0)})),this.commonUpdateRowData(n,void 0,o),e.length>0&&window.setTimeout((function(){e.forEach((function(t){return t()}))}),0),n.length>0){var r={type:zt.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:n};this.eventService.dispatchEvent(r)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},e.prototype.updateRowData=function(t,e){this.valueCache.onDataChanged();var n=this.nodeManager.updateRowData(t,e),o="number"==typeof t.addIndex;return this.commonUpdateRowData([n],e,o),n},e.prototype.createRowNodeOrder=function(){if(!this.gridOptionsService.is("suppressMaintainUnsortedOrder")){var t={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var e=0;e<this.rootNode.allLeafChildren.length;e++){t[this.rootNode.allLeafChildren[e].id]=e}return t}},e.prototype.commonUpdateRowData=function(t,e,n){var o=!this.gridOptionsService.is("suppressAnimationFrame");n&&(e=this.createRowNodeOrder()),this.refreshModel({step:Ra.EVERYTHING,rowNodeTransactions:t,rowNodeOrder:e,keepRenderedRows:!0,keepEditingRows:!0,animate:o}),this.filterManager.onNewRowsLoaded("rowDataUpdated");var r={type:zt.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(r)},e.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},e.prototype.onRowHeightChanged=function(){this.refreshModel({step:Ra.MAP,keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})},e.prototype.onRowHeightChangedDebounced=function(){this.onRowHeightChanged_debounced()},e.prototype.resetRowHeights=function(){var t=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),t&&this.onRowHeightChanged()},e.prototype.resetRowHeightsForAllRowNodes=function(){var t=!1;return this.forEachNode((function(e){e.setRowHeight(e.rowHeight,!0);var n=e.detailNode;n&&n.setRowHeight(n.rowHeight,!0),t=!0})),t},e.prototype.onGridStylesChanges=function(){this.columnModel.isAutoRowHeightActive()||this.resetRowHeights()},s_([K("columnModel")],e.prototype,"columnModel",void 0),s_([K("selectionService")],e.prototype,"selectionService",void 0),s_([K("filterManager")],e.prototype,"filterManager",void 0),s_([K("valueCache")],e.prototype,"valueCache",void 0),s_([K("beans")],e.prototype,"beans",void 0),s_([K("filterStage")],e.prototype,"filterStage",void 0),s_([K("sortStage")],e.prototype,"sortStage",void 0),s_([K("flattenStage")],e.prototype,"flattenStage",void 0),s_([Y("groupStage")],e.prototype,"groupStage",void 0),s_([Y("aggregationStage")],e.prototype,"aggregationStage",void 0),s_([Y("pivotStage")],e.prototype,"pivotStage",void 0),s_([Y("filterAggregatesStage")],e.prototype,"filterAggregatesStage",void 0),s_([H],e.prototype,"init",null),e=s_([z("rowModel")],e)}(Ut),d_=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),p_=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},h_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d_(e,t),e.prototype.execute=function(t){var e=t.changedPath;this.filterService.filter(e)},p_([K("filterService")],e.prototype,"filterService",void 0),e=p_([z("filterStage")],e)}(Ut),f_=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),g_=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f_(e,t),e.prototype.execute=function(t){var e=this,n=this.sortController.getSortOptions(),o=or.exists(n)&&n.length>0,r=o&&or.exists(t.rowNodeTransactions)&&this.gridOptionsService.is("deltaSort"),i=n.some((function(t){return!!e.columnModel.getGroupDisplayColumnForGroup(t.column.getId())}));this.sortService.sort(n,o,r,t.rowNodeTransactions,t.changedPath,i)},g_([K("sortService")],e.prototype,"sortService",void 0),g_([K("sortController")],e.prototype,"sortController",void 0),g_([K("columnModel")],e.prototype,"columnModel",void 0),e=g_([z("sortStage")],e)}(Ut),m_=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),y_=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},v_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m_(e,t),e.prototype.execute=function(t){var e=t.rowNode,n=[],o={value:0},r=this.columnModel.isPivotMode(),i=r&&e.leafGroup,s=i?[e]:e.childrenAfterSort;return this.recursivelyAddToRowsToDisplay(s,n,o,r,0),!i&&n.length>0&&this.gridOptionsService.is("groupIncludeTotalFooter")&&(e.createFooter(),this.addRowNodeToRowsToDisplay(e.sibling,n,o,0)),n},e.prototype.recursivelyAddToRowsToDisplay=function(t,e,n,o,r){if(!or.missingOrEmpty(t))for(var i=this.gridOptionsService.is("groupHideOpenParents"),s=this.gridOptionsService.is("groupRemoveSingleChildren"),a=!s&&this.gridOptionsService.is("groupRemoveLowestSingleChildren"),l=0;l<t.length;l++){var c=t[l],u=c.hasChildren(),d=o&&!u,p=s&&u&&1===c.childrenAfterGroup.length,h=a&&u&&c.leafGroup&&1===c.childrenAfterGroup.length,f=o&&c.leafGroup,g=i&&c.expanded&&!c.master&&!f;if(!(d||g||p||h)&&this.addRowNodeToRowsToDisplay(c,e,n,r),!o||!c.leafGroup)if(u){var _=p||h;if(c.expanded||_){var m=_?r:r+1;this.recursivelyAddToRowsToDisplay(c.childrenAfterSort,e,n,o,m),this.gridOptionsService.is("groupIncludeFooter")&&this.addRowNodeToRowsToDisplay(c.sibling,e,n,r)}}else if(c.master&&c.expanded){var y=this.createDetailNode(c);this.addRowNodeToRowsToDisplay(y,e,n,r)}}},e.prototype.addRowNodeToRowsToDisplay=function(t,e,n,o){var r=this.gridOptionsService.isGroupMultiAutoColumn();e.push(t),t.setUiLevel(r?0:o)},e.prototype.createDetailNode=function(t){if(or.exists(t.detailNode))return t.detailNode;var e=new Ss(this.beans);return e.detail=!0,e.selectable=!1,e.parent=t,or.exists(t.id)&&(e.id="detail_"+t.id),e.data=t.data,e.level=t.level+1,t.detailNode=e,e},y_([K("columnModel")],e.prototype,"columnModel",void 0),y_([K("beans")],e.prototype,"beans",void 0),e=y_([z("flattenStage")],e)}(Ut),C_=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),E_=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},b_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return C_(e,t),e.prototype.init=function(){this.postSortFunc=this.getPostSortFunc()},e.prototype.sort=function(t,e,n,o,r,i){var s=this,a=this.gridOptionsService.is("groupMaintainOrder"),l=this.columnModel.getAllGridColumns().some((function(t){return t.isRowGroupActive()})),c={};n&&o&&(c=this.calculateDirtyNodes(o));var u=this.columnModel.isPivotMode();r&&r.forEachChangedNodeDepthFirst((function(o){s.pullDownGroupDataForHideOpenParents(o.childrenAfterAggFilter,!0);var d=u&&o.leafGroup;if(a&&l&&!o.leafGroup&&!i){var p=o.childrenAfterAggFilter.slice(0);if(o.childrenAfterSort){var h={};o.childrenAfterSort.forEach((function(t,e){h[t.id]=e})),p.sort((function(t,e){var n,o;return(null!==(n=h[t.id])&&void 0!==n?n:0)-(null!==(o=h[e.id])&&void 0!==o?o:0)}))}o.childrenAfterSort=p}else o.childrenAfterSort=!e||d?o.childrenAfterAggFilter.slice(0):n?s.doDeltaSort(o,c,r,t):s.rowNodeSorter.doFullSort(o.childrenAfterAggFilter,t);if(o.sibling&&(o.sibling.childrenAfterSort=o.childrenAfterSort),s.updateChildIndexes(o),s.postSortFunc){var f={nodes:o.childrenAfterSort};s.postSortFunc(f)}})),this.updateGroupDataForHideOpenParents(r)},e.prototype.getPostSortFunc=function(){var t=this.gridOptionsService.getCallback("postSortRows");if(t)return t;var e=this.gridOptionsService.get("postSort");return e?function(t){return e(t.nodes)}:void 0},e.prototype.calculateDirtyNodes=function(t){var e={},n=function(t){t&&t.forEach((function(t){return e[t.id]=!0}))};return t&&t.forEach((function(t){n(t.add),n(t.update),n(t.remove)})),e},e.prototype.doDeltaSort=function(t,e,n,o){var r=this,i=t.childrenAfterAggFilter,s=t.childrenAfterSort;if(!s)return this.rowNodeSorter.doFullSort(i,o);var a={},l=[];i.forEach((function(t){e[t.id]||!n.canSkip(t)?l.push(t):a[t.id]=!0}));var c=s.filter((function(t){return a[t.id]})),u=function(t,e){return{currentPos:e,rowNode:t}},d=l.map(u).sort((function(t,e){return r.rowNodeSorter.compareRowNodes(o,t,e)}));return this.mergeSortedArrays(o,d,c.map(u)).map((function(t){return t.rowNode}))},e.prototype.mergeSortedArrays=function(t,e,n){for(var o=[],r=0,i=0;r<e.length&&i<n.length;){this.rowNodeSorter.compareRowNodes(t,e[r],n[i])<0?o.push(e[r++]):o.push(n[i++])}for(;r<e.length;)o.push(e[r++]);for(;i<n.length;)o.push(n[i++]);return o},e.prototype.updateChildIndexes=function(t){if(!or.missing(t.childrenAfterSort))for(var e=t.childrenAfterSort,n=0;n<e.length;n++){var o=e[n],r=0===n,i=n===t.childrenAfterSort.length-1;o.setFirstChild(r),o.setLastChild(i),o.setChildIndex(n)}},e.prototype.updateGroupDataForHideOpenParents=function(t){var e=this;if(this.gridOptionsService.is("groupHideOpenParents")){if(this.gridOptionsService.isTreeData()){return or.doOnce((function(){return console.warn("AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).")}),"sortService.hideOpenParentsWithTreeData"),!1}var n=function(t){e.pullDownGroupDataForHideOpenParents(t.childrenAfterSort,!1),t.childrenAfterSort.forEach((function(t){t.hasChildren()&&n(t)}))};t&&t.executeFromRootNode((function(t){return n(t)}))}},e.prototype.pullDownGroupDataForHideOpenParents=function(t,e){var n=this;this.gridOptionsService.is("groupHideOpenParents")&&!or.missing(t)&&t.forEach((function(t){n.columnModel.getGroupDisplayColumns().forEach((function(o){var r=o.getColDef().showRowGroup;if("string"==typeof r){var i=r,s=n.columnModel.getPrimaryColumn(i);if(!(s===t.rowGroupColumn))if(e)t.setGroupValue(o.getId(),void 0);else{var a=t.getFirstChildOfFirstChild(s);a&&t.setGroupValue(o.getId(),a.key)}}else console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")}))}))},E_([K("columnModel")],e.prototype,"columnModel",void 0),E_([K("rowNodeSorter")],e.prototype,"rowNodeSorter",void 0),E_([H],e.prototype,"init",null),e=E_([z("sortService")],e)}(Ut),S_=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),w_=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},O_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return S_(e,t),e.prototype.filter=function(t){var e=this.filterManager.isColumnFilterPresent()||this.filterManager.isQuickFilterPresent()||this.filterManager.isExternalFilterPresent();this.filterNodes(e,t)},e.prototype.filterNodes=function(t,e){var n=this,o=function(e,o){e.hasChildren()?e.childrenAfterFilter=t&&!o?e.childrenAfterGroup.filter((function(t){var e=t.childrenAfterFilter&&t.childrenAfterFilter.length>0,o=t.data&&n.filterManager.doesRowPassFilter({rowNode:t});return e||o})):e.childrenAfterGroup:e.childrenAfterFilter=e.childrenAfterGroup,e.sibling&&(e.sibling.childrenAfterFilter=e.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var r=function(t,e){if(t.childrenAfterGroup)for(var i=0;i<t.childrenAfterGroup.length;i++){var s=t.childrenAfterGroup[i],a=e||n.filterManager.doesRowPassFilter({rowNode:s});s.childrenAfterGroup?r(t.childrenAfterGroup[i],a):o(s,a)}o(t,e)};e.executeFromRootNode((function(t){return r(t,!1)}))}else{e.forEachChangedNodeDepthFirst((function(t){return o(t,!1)}),!0)}},e.prototype.doingTreeDataFiltering=function(){return this.gridOptionsService.isTreeData()&&!this.gridOptionsService.is("excludeChildrenWhenTreeDataFiltering")},w_([K("filterManager")],e.prototype,"filterManager",void 0),e=w_([z("filterService")],e)}(Ut),P_=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),T_=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},R_=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},D_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return P_(e,t),e.prototype.postConstruct=function(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel)},e.prototype.isActive=function(){var t=this.gridOptionsService.exists("getRowId"),e=this.gridOptionsService.is("immutableData");return!this.gridOptionsService.is("resetRowDataOnUpdate")&&(t||e)},e.prototype.setRowData=function(t){var e=this.createTransactionForRowData(t);if(e){var n=R_(e,2),o=n[0],r=n[1];this.clientSideRowModel.updateRowData(o,r)}},e.prototype.createTransactionForRowData=function(t){if(or.missing(this.clientSideRowModel))console.error("AG Grid: ImmutableService only works with ClientSideRowModel");else{var e=this.gridOptionsService.getRowIdFunc();if(null!=e){var n={remove:[],update:[],add:[]},o=this.clientSideRowModel.getCopyOfNodesMap(),r=this.gridOptionsService.is("suppressMaintainUnsortedOrder")?void 0:{};return or.exists(t)&&t.forEach((function(t,i){var s=e({data:t,level:0}),a=o[s];(r&&(r[s]=i),a)?(a.data!==t&&n.update.push(t),o[s]=void 0):n.add.push(t)})),or.iterateObject(o,(function(t,e){e&&n.remove.push(e.data)})),[n,r]}console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!")}},T_([K("rowModel")],e.prototype,"rowModel",void 0),T_([K("rowRenderer")],e.prototype,"rowRenderer",void 0),T_([H],e.prototype,"postConstruct",null),e=T_([z("immutableService")],e)}(Ut),x_={version:"29.3.4",moduleName:J.ClientSideRowModelModule,rowModel:"clientSide",beans:[u_,h_,__,v_,b_,O_,D_]},M_=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),A_=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},L_=function(t){function e(e,n,o){var r=t.call(this,e)||this;return r.parentCache=n,r.params=o,r.startRow=e*o.blockSize,r.endRow=r.startRow+o.blockSize,r}return M_(e,t),e.prototype.postConstruct=function(){this.createRowNodes()},e.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},e.prototype.setDataAndId=function(t,e,n){!t.id&&t.alreadyRendered&&(t.alreadyRendered=!1),or.exists(e)?t.setDataAndId(e,n.toString()):t.setDataAndId(void 0,void 0)},e.prototype.loadFromDatasource=function(){var t=this,e=this.createLoadParams();or.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout((function(){t.params.datasource.getRows(e)}),0)},e.prototype.processServerFail=function(){},e.prototype.createLoadParams=function(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsService.context}},e.prototype.forEachNode=function(t,e,n){var o=this;this.rowNodes.forEach((function(r,i){o.startRow+i<n&&t(r,e.next())}))},e.prototype.getLastAccessed=function(){return this.lastAccessed},e.prototype.getRow=function(t,e){void 0===e&&(e=!1),e||(this.lastAccessed=this.params.lastAccessedSequence.next());var n=t-this.startRow;return this.rowNodes[n]},e.prototype.getStartRow=function(){return this.startRow},e.prototype.getEndRow=function(){return this.endRow},e.prototype.createRowNodes=function(){this.rowNodes=[];for(var t=0;t<this.params.blockSize;t++){var e=this.startRow+t,n=new Ss(this.beans);n.setRowHeight(this.params.rowHeight),n.uiLevel=0,n.setRowIndex(e),n.setRowTop(this.params.rowHeight*e),this.rowNodes.push(n)}},e.prototype.processServerResult=function(t){var e=this;this.rowNodes.forEach((function(n,o){var r=t.rowData?t.rowData[o]:void 0;e.setDataAndId(n,r,e.startRow+o)}));var n=null!=t.rowCount&&t.rowCount>=0?t.rowCount:void 0;this.parentCache.pageLoaded(this,n)},e.prototype.destroyRowNodes=function(){this.rowNodes.forEach((function(t){t.clearRowTopAndRowIndex()}))},A_([K("beans")],e.prototype,"beans",void 0),A_([H],e.prototype,"postConstruct",null),A_([$],e.prototype,"destroyRowNodes",null),e}(Xd),I_=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),N_=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},k_=function(t,e){return function(n,o){e(n,o,t)}},F_=function(t){function e(e){var n=t.call(this)||this;return n.lastRowIndexKnown=!1,n.blocks={},n.blockCount=0,n.rowCount=e.initialRowCount,n.params=e,n}return I_(e,t),e.prototype.setBeans=function(t){this.logger=t.create("InfiniteCache")},e.prototype.getRow=function(t,e){void 0===e&&(e=!1);var n=Math.floor(t/this.params.blockSize),o=this.blocks[n];if(!o){if(e)return;o=this.createBlock(n)}return o.getRow(t)},e.prototype.createBlock=function(t){var e=this.createBean(new L_(t,this,this.params));return this.blocks[e.getId()]=e,this.blockCount++,this.purgeBlocksIfNeeded(e),this.params.rowNodeBlockLoader.addBlock(e),e},e.prototype.refreshCache=function(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach((function(t){return t.setStateWaitingToLoad()})),this.params.rowNodeBlockLoader.checkBlockToLoad())},e.prototype.destroyAllBlocks=function(){var t=this;this.getBlocksInOrder().forEach((function(e){return t.destroyBlock(e)}))},e.prototype.getRowCount=function(){return this.rowCount},e.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},e.prototype.pageLoaded=function(t,e){this.isAlive()&&(this.logger.log("onPageLoaded: page = "+t.getId()+", lastRow = "+e),this.checkRowCount(t,e),this.onCacheUpdated())},e.prototype.purgeBlocksIfNeeded=function(t){var n=this,o=this.getBlocksInOrder().filter((function(e){return e!=t}));o.sort((function(t,e){return e.getLastAccessed()-t.getLastAccessed()}));var r=this.params.maxBlocksInCache>0,i=r?this.params.maxBlocksInCache-1:null,s=e.MAX_EMPTY_BLOCKS_TO_KEEP-1;o.forEach((function(t,e){if(t.getState()===L_.STATE_WAITING_TO_LOAD&&e>=s||!!r&&e>=i){if(n.isBlockCurrentlyDisplayed(t))return;if(n.isBlockFocused(t))return;n.removeBlockFromCache(t)}}))},e.prototype.isBlockFocused=function(t){var e=this.focusService.getFocusCellToUseAfterRefresh();if(!e)return!1;if(null!=e.rowPinned)return!1;var n=t.getStartRow(),o=t.getEndRow();return e.rowIndex>=n&&e.rowIndex<o},e.prototype.isBlockCurrentlyDisplayed=function(t){var e=t.getStartRow(),n=t.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(e,n)},e.prototype.removeBlockFromCache=function(t){t&&this.destroyBlock(t)},e.prototype.checkRowCount=function(t,e){if("number"==typeof e&&e>=0)this.rowCount=e,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var n=(t.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<n&&(this.rowCount=n)}},e.prototype.setRowCount=function(t,e){this.rowCount=t,or.exists(e)&&(this.lastRowIndexKnown=e),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()},e.prototype.forEachNodeDeep=function(t){var e=this,n=new rr;this.getBlocksInOrder().forEach((function(o){return o.forEachNode(t,n,e.rowCount)}))},e.prototype.getBlocksInOrder=function(){return or.getAllValuesInObject(this.blocks).sort((function(t,e){return t.getId()-e.getId()}))},e.prototype.destroyBlock=function(t){delete this.blocks[t.getId()],this.destroyBean(t),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(t)},e.prototype.onCacheUpdated=function(){if(this.isAlive()){this.destroyAllBlocksPastVirtualRowCount();var t={type:zt.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(t)}},e.prototype.destroyAllBlocksPastVirtualRowCount=function(){var t=this,e=[];this.getBlocksInOrder().forEach((function(n){n.getId()*t.params.blockSize>=t.rowCount&&e.push(n)})),e.length>0&&e.forEach((function(e){return t.destroyBlock(e)}))},e.prototype.purgeCache=function(){var t=this;this.getBlocksInOrder().forEach((function(e){return t.removeBlockFromCache(e)})),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},e.prototype.getRowNodesInRange=function(t,e){var n=this,o=[],r=-1,i=!1,s=new rr;or.missing(t)&&(i=!0);var a=!1;return this.getBlocksInOrder().forEach((function(l){a||(i&&r+1!==l.getId()?a=!0:(r=l.getId(),l.forEachNode((function(n){var r=n===t||n===e;(i||r)&&o.push(n),r&&(i=!i)}),s,n.rowCount)))})),a||i?[]:o},e.MAX_EMPTY_BLOCKS_TO_KEEP=2,N_([K("rowRenderer")],e.prototype,"rowRenderer",void 0),N_([K("focusService")],e.prototype,"focusService",void 0),N_([k_(0,q("loggerFactory"))],e.prototype,"setBeans",null),N_([$],e.prototype,"destroyAllBlocks",null),e}(Ut),G_=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),B_=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},U_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return G_(e,t),e.prototype.getRowBounds=function(t){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*t}},e.prototype.ensureRowHeightsValid=function(t,e,n,o){return!1},e.prototype.init=function(){var t=this;this.gridOptionsService.isRowModelType("infinite")&&(this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc((function(){return t.destroyCache()})),this.verifyProps())},e.prototype.verifyProps=function(){if(this.gridOptionsService.exists("initialGroupOrderComparator")||this.gridOptionsService.exists("defaultGroupOrderComparator")){or.doOnce((function(){return console.warn("AG Grid: initialGroupOrderComparator cannot be used with Infinite Row Model. If using Infinite Row Model, then sorting is done on the server side, nothing to do with the client.")}),"IRM.InitialGroupOrderComparator")}},e.prototype.start=function(){this.setDatasource(this.gridOptionsService.get("datasource"))},e.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},e.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,zt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))},e.prototype.onFilterChanged=function(){this.reset()},e.prototype.onSortChanged=function(){this.reset()},e.prototype.onColumnEverything=function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()},e.prototype.isSortModelDifferent=function(){return!or.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},e.prototype.getType=function(){return"infinite"},e.prototype.setDatasource=function(t){this.destroyDatasource(),this.datasource=t,t&&this.reset()},e.prototype.isEmpty=function(){return!this.infiniteCache},e.prototype.isRowsToRender=function(){return!!this.infiniteCache},e.prototype.getNodesInRangeForSelection=function(t,e){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(t,e):[]},e.prototype.reset=function(){if(this.datasource){null!=this.gridOptionsService.getRowIdFunc()||this.selectionService.reset(),this.resetCache();var t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)}},e.prototype.createModelUpdatedEvent=function(){return{type:zt.EVENT_MODEL_UPDATED,newPage:!1,newData:!1,keepRenderedRows:!0,animate:!1}},e.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.defaultIfInvalid(this.gridOptionsService.getNum("infiniteInitialRowCount"),1),maxBlocksInCache:this.gridOptionsService.getNum("maxBlocksInCache"),rowHeight:this.gridOptionsService.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsService.getNum("cacheOverflowSize"),1),blockSize:this.defaultIfInvalid(this.gridOptionsService.getNum("cacheBlockSize"),100),lastAccessedSequence:new rr},this.infiniteCache=this.createBean(new F_(this.cacheParams))},e.prototype.defaultIfInvalid=function(t,e){return t>0?t:e},e.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},e.prototype.onCacheUpdated=function(){var t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)},e.prototype.getRow=function(t){if(this.infiniteCache&&!(t>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(t)},e.prototype.getRowNode=function(t){var e;return this.forEachNode((function(n){n.id===t&&(e=n)})),e},e.prototype.forEachNode=function(t){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(t)},e.prototype.getTopLevelRowCount=function(){return this.getRowCount()},e.prototype.getTopLevelRowDisplayedIndex=function(t){return t},e.prototype.getRowIndexAtPixel=function(t){if(0!==this.rowHeight){var e=Math.floor(t/this.rowHeight),n=this.getRowCount()-1;return e>n?n:e}return 0},e.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},e.prototype.isRowPresent=function(t){return!!this.getRowNode(t.id)},e.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},e.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},e.prototype.isLastRowIndexKnown=function(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()},e.prototype.setRowCount=function(t,e){this.infiniteCache&&this.infiniteCache.setRowCount(t,e)},B_([K("filterManager")],e.prototype,"filterManager",void 0),B_([K("sortController")],e.prototype,"sortController",void 0),B_([K("selectionService")],e.prototype,"selectionService",void 0),B_([K("rowRenderer")],e.prototype,"rowRenderer",void 0),B_([K("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),B_([H],e.prototype,"init",null),B_([$],e.prototype,"destroyDatasource",null),e=B_([z("rowModel")],e)}(Ut),j_={version:"29.3.4",moduleName:J.InfiniteRowModelModule,rowModel:"infinite",beans:[U_]},V_=function(){function t(){}return t.prototype.setBeans=function(t){this.beans=t},t.prototype.getFileName=function(t){var e=this.getDefaultFileExtension();return null!=t&&t.length||(t=this.getDefaultFileName()),-1===t.indexOf(".")?t+"."+e:t},t.prototype.getData=function(t){var e=this.createSerializingSession(t);return this.beans.gridSerializer.serialize(e,t)},t}(),W_=function(){function t(t){this.groupColumns=[];var e=t.columnModel,n=t.valueService,o=t.gridOptionsService,r=t.processCellCallback,i=t.processHeaderCallback,s=t.processGroupHeaderCallback,a=t.processRowGroupCallback;this.columnModel=e,this.valueService=n,this.gridOptionsService=o,this.processCellCallback=r,this.processHeaderCallback=i,this.processGroupHeaderCallback=s,this.processRowGroupCallback=a}return t.prototype.prepare=function(t){this.groupColumns=t.filter((function(t){return!!t.getColDef().showRowGroup}))},t.prototype.extractHeaderValue=function(t){var e=this.getHeaderName(this.processHeaderCallback,t);return null!=e?e:""},t.prototype.extractRowCellValue=function(t,e,n,o,r){var i=this.gridOptionsService.is("groupHideOpenParents")&&!r.footer||!this.shouldRenderGroupSummaryCell(r,t,e)?this.valueService.getValue(t,r):this.createValueForGroupNode(r),s=this.processCell({accumulatedRowIndex:n,rowNode:r,column:t,value:i,processCellCallback:this.processCellCallback,type:o});return null!=s?s:""},t.prototype.shouldRenderGroupSummaryCell=function(t,e,n){var o;if(!(t&&t.group))return!1;if(-1!==this.groupColumns.indexOf(e)){if(null===(o=t.groupData)||void 0===o?void 0:o[e.getId()])return!0;if(t.footer&&-1===t.level){var r=e.getColDef();return null==r||!0===r.showRowGroup||r.showRowGroup===this.columnModel.getRowGroupColumns()[0].getId()}}var i=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotMode());return 0===n&&i},t.prototype.getHeaderName=function(t,e){return t?t({column:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}):this.columnModel.getDisplayNameForColumn(e,"csv",!0)},t.prototype.createValueForGroupNode=function(t){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context});var e=t.footer,n=[t.key];if(!this.gridOptionsService.isGroupMultiAutoColumn())for(;t.parent;)t=t.parent,n.push(t.key);var o=n.reverse().join(" -> ");return e?"Total "+o:o},t.prototype.processCell=function(t){var e=t.accumulatedRowIndex,n=t.rowNode,o=t.column,r=t.value,i=t.processCellCallback,s=t.type;return i?i({accumulatedRowIndex:e,column:o,node:n,value:r,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,type:s}):null!=r?r:""},t}(),H_=function(){function t(){}return t.download=function(t,e){var n=document.defaultView||window;if(n){var o=document.createElement("a"),r=n.URL.createObjectURL(e);o.setAttribute("href",r),o.setAttribute("download",t),o.style.display="none",document.body.appendChild(o),o.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(o),n.setTimeout((function(){n.URL.revokeObjectURL(r)}),0)}else console.warn("AG Grid: There is no `window` associated with the current `document`")},t}(),$_=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),z_=function(t){function e(e){var n=t.call(this,e)||this;n.isFirstLine=!0,n.result="";var o=e.suppressQuotes,r=e.columnSeparator;return n.suppressQuotes=o,n.columnSeparator=r,n}return $_(e,t),e.prototype.addCustomContent=function(t){var e=this;t&&("string"==typeof t?(/^\s*\n/.test(t)||this.beginNewLine(),t=t.replace(/\r?\n/g,"\r\n"),this.result+=t):t.forEach((function(t){e.beginNewLine(),t.forEach((function(t,n){0!==n&&(e.result+=e.columnSeparator),e.result+=e.putInQuotes(t.data.value||""),t.mergeAcross&&e.appendEmptyCells(t.mergeAcross)}))})))},e.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},e.prototype.onNewHeaderGroupingRowColumn=function(t,e,n,o){0!=n&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(e),this.appendEmptyCells(o)},e.prototype.appendEmptyCells=function(t){for(var e=1;e<=t;e++)this.result+=this.columnSeparator+this.putInQuotes("")},e.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},e.prototype.onNewHeaderRowColumn=function(t,e){0!=e&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(t))},e.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},e.prototype.onNewBodyRowColumn=function(t,e,n){0!=e&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(t,e,e,"csv",n))},e.prototype.putInQuotes=function(t){return this.suppressQuotes?t:null==t?'""':("string"==typeof t?e=t:"function"==typeof t.toString?e=t.toString():(console.warn("AG Grid: unknown value type during csv conversion"),e=""),'"'+e.replace(/"/g,'""')+'"');var e},e.prototype.parse=function(){return this.result},e.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},e}(W_),K_=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Y_=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Z_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return K_(e,t),e.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})},e.prototype.getMergedParams=function(t){var e=this.gridOptionsService.get("defaultCsvExportParams");return Object.assign({},e,t)},e.prototype.export=function(t){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var e=this.getMergedParams(t),n=this.getData(e),o=new Blob(["\ufeff",n],{type:"text/plain"});return H_.download(this.getFileName(e.fileName),o),n},e.prototype.exportDataAsCsv=function(t){return this.export(t)},e.prototype.getDataAsCsv=function(t,e){void 0===e&&(e=!1);var n=e?Object.assign({},t):this.getMergedParams(t);return this.getData(n)},e.prototype.getDefaultFileName=function(){return"export.csv"},e.prototype.getDefaultFileExtension=function(){return"csv"},e.prototype.createSerializingSession=function(t){var e=this,n=e.columnModel,o=e.valueService,r=e.gridOptionsService,i=t,s=i.processCellCallback,a=i.processHeaderCallback,l=i.processGroupHeaderCallback,c=i.processRowGroupCallback,u=i.suppressQuotes,d=i.columnSeparator;return new z_({columnModel:n,valueService:o,gridOptionsService:r,processCellCallback:s||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:c||void 0,suppressQuotes:u||!1,columnSeparator:d||","})},e.prototype.isExportSuppressed=function(){return this.gridOptionsService.is("suppressCsvExport")},Y_([K("columnModel")],e.prototype,"columnModel",void 0),Y_([K("valueService")],e.prototype,"valueService",void 0),Y_([K("gridSerializer")],e.prototype,"gridSerializer",void 0),Y_([K("gridOptionsService")],e.prototype,"gridOptionsService",void 0),Y_([H],e.prototype,"postConstruct",null),e=Y_([z("csvCreator")],e)}(V_),q_=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),X_=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.HEADER_GROUPING=0]="HEADER_GROUPING",t[t.HEADER=1]="HEADER",t[t.BODY=2]="BODY"}(c_||(c_={}));var J_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return q_(e,t),e.prototype.serialize=function(t,e){void 0===e&&(e={});var n=this.getColumnsToExport(e.allColumns,e.columnKeys);return or.compose(this.prepareSession(n),this.prependContent(e),this.exportColumnGroups(e,n),this.exportHeaders(e,n),this.processPinnedTopRows(e,n),this.processRows(e,n),this.processPinnedBottomRows(e,n),this.appendContent(e))(t).parse()},e.prototype.processRow=function(t,e,n,o){var r=e.shouldRowBeSkipped||function(){return!1},i=this.gridOptionsService.context,s=this.gridOptionsService.api,a=this.gridOptionsService.columnApi,l=this.gridOptionsService.is("groupRemoveSingleChildren"),c=this.gridOptionsService.is("groupRemoveLowestSingleChildren"),u=null!=e.rowPositions||!!e.onlySelected,d=this.gridOptionsService.is("groupHideOpenParents")&&!u,p=this.columnModel.isPivotMode()?o.leafGroup:!o.group,h=!!o.footer,f=e.skipGroups||e.skipRowGroups,g=c&&o.leafGroup,_=1===o.allChildrenCount&&(l||g);if((f&&e.skipGroups&&or.doOnce((function(){return console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.")}),"gridSerializer-skipGroups"),!(!p&&!h&&(e.skipRowGroups||_||d)||e.onlySelected&&!o.isSelected()||e.skipPinnedTop&&"top"===o.rowPinned||e.skipPinnedBottom&&"bottom"===o.rowPinned))&&((!(-1===o.level)||p||h)&&!r({node:o,api:s,columnApi:a,context:i}))){var m=t.onNewBodyRow();if(n.forEach((function(t,e){m.onColumn(t,e,o)})),e.getCustomContentBelowRow){var y=e.getCustomContentBelowRow({node:o,api:s,columnApi:a,context:i});y&&t.addCustomContent(y)}}},e.prototype.appendContent=function(t){return function(e){var n=t.customFooter||t.appendContent;return n&&(t.customFooter&&or.doOnce((function(){return console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.")}),"gridSerializer-customFooter"),e.addCustomContent(n)),e}},e.prototype.prependContent=function(t){return function(e){var n=t.customHeader||t.prependContent;return n&&(t.customHeader&&or.doOnce((function(){return console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.")}),"gridSerializer-customHeader"),e.addCustomContent(n)),e}},e.prototype.prepareSession=function(t){return function(e){return e.prepare(t),e}},e.prototype.exportColumnGroups=function(t,e){var n=this;return function(o){if(t.skipColumnGroupHeaders)t.columnGroups&&or.doOnce((function(){return console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.")}),"gridSerializer-columnGroups");else{var r=new pe,i=n.displayedGroupCreator.createDisplayedGroups(e,n.columnModel.getGridBalancedTree(),r,null);n.recursivelyAddHeaderGroups(i,o,t.processGroupHeaderCallback)}return o}},e.prototype.exportHeaders=function(t,e){return function(n){if(t.skipHeader||t.skipColumnHeaders)t.skipHeader&&or.doOnce((function(){return console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.")}),"gridSerializer-skipHeader");else{var o=n.onNewHeaderRow();e.forEach((function(t,e){o.onColumn(t,e,void 0)}))}return n}},e.prototype.processPinnedTopRows=function(t,e){var n=this;return function(o){var r=n.processRow.bind(n,o,t,e);return t.rowPositions?t.rowPositions.filter((function(t){return"top"===t.rowPinned})).sort((function(t,e){return t.rowIndex-e.rowIndex})).map((function(t){return n.pinnedRowModel.getPinnedTopRow(t.rowIndex)})).forEach(r):n.pinnedRowModel.forEachPinnedTopRow(r),o}},e.prototype.processRows=function(t,e){var n=this;return function(o){var r=n.rowModel,i=r.getType(),s="clientSide"===i,a="serverSide"===i,l=!s&&t.onlySelected,c=n.processRow.bind(n,o,t,e),u=t.exportedRows,d=void 0===u?"filteredAndSorted":u;if(t.rowPositions)t.rowPositions.filter((function(t){return null==t.rowPinned})).sort((function(t,e){return t.rowIndex-e.rowIndex})).map((function(t){return r.getRow(t.rowIndex)})).forEach(c);else if(n.columnModel.isPivotMode())s?r.forEachPivotNode(c,!0):r.forEachNode(c);else if(t.onlySelectedAllPages||l){var p=n.selectionService.getSelectedNodes();n.replicateSortedOrder(p),p.forEach(c)}else"all"===d?r.forEachNode(c):s?r.forEachNodeAfterFilterAndSort(c,!0):a?r.forEachNodeAfterFilterAndSort(c):r.forEachNode(c);return o}},e.prototype.replicateSortedOrder=function(t){var e=this,n=this.sortController.getSortOptions(),o=function(t,r){var i,s,a,l;return null!=t.rowIndex&&null!=r.rowIndex?t.rowIndex-r.rowIndex:t.level===r.level?(null===(i=t.parent)||void 0===i?void 0:i.id)===(null===(s=r.parent)||void 0===s?void 0:s.id)?e.rowNodeSorter.compareRowNodes(n,{rowNode:t,currentPos:null!==(a=t.rowIndex)&&void 0!==a?a:-1},{rowNode:r,currentPos:null!==(l=r.rowIndex)&&void 0!==l?l:-1}):o(t.parent,r.parent):t.level>r.level?o(t.parent,r):o(t,r.parent)};t.sort(o)},e.prototype.processPinnedBottomRows=function(t,e){var n=this;return function(o){var r=n.processRow.bind(n,o,t,e);return t.rowPositions?t.rowPositions.filter((function(t){return"bottom"===t.rowPinned})).sort((function(t,e){return t.rowIndex-e.rowIndex})).map((function(t){return n.pinnedRowModel.getPinnedBottomRow(t.rowIndex)})).forEach(r):n.pinnedRowModel.forEachPinnedBottomRow(r),o}},e.prototype.getColumnsToExport=function(t,e){void 0===t&&(t=!1);var n=this.columnModel.isPivotMode();return e&&e.length?this.columnModel.getGridColumns(e):t&&!n?(this.gridOptionsService.isTreeData()?this.columnModel.getGridColumns([ge]):[]).concat(this.columnModel.getAllPrimaryColumns()||[]):this.columnModel.getAllDisplayedColumns()},e.prototype.recursivelyAddHeaderGroups=function(t,e,n){var o=[];t.forEach((function(t){var e=t;e.getChildren&&e.getChildren().forEach((function(t){return o.push(t)}))})),t.length>0&&t[0]instanceof de&&this.doAddHeaderHeader(e,t,n),o&&o.length>0&&this.recursivelyAddHeaderGroups(o,e,n)},e.prototype.doAddHeaderHeader=function(t,e,n){var o=this,r=t.onNewHeaderGroupingRow(),i=0;e.forEach((function(t){var e,s=t;e=n?n({columnGroup:s,api:o.gridOptionsService.api,columnApi:o.gridOptionsService.columnApi,context:o.gridOptionsService.context}):o.columnModel.getDisplayNameForColumnGroup(s,"header");var a=s.getLeafColumns().reduce((function(t,e,n,o){var r=or.last(t);return"open"===e.getColumnGroupShow()?r&&null==r[1]||(r=[n],t.push(r)):r&&null==r[1]&&(r[1]=n-1),n===o.length-1&&r&&null==r[1]&&(r[1]=n),t}),[]);r.onColumn(s,e||"",i++,s.getLeafColumns().length-1,a)}))},X_([K("displayedGroupCreator")],e.prototype,"displayedGroupCreator",void 0),X_([K("columnModel")],e.prototype,"columnModel",void 0),X_([K("rowModel")],e.prototype,"rowModel",void 0),X_([K("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),X_([K("selectionService")],e.prototype,"selectionService",void 0),X_([K("rowNodeSorter")],e.prototype,"rowNodeSorter",void 0),X_([K("sortController")],e.prototype,"sortController",void 0),e=X_([z("gridSerializer")],e)}(Ut),Q_={version:"29.3.4",moduleName:J.CsvExportModule,beans:[Z_,J_]},tm="\r\n",em=function(){function t(){}return t.createHeader=function(t){void 0===t&&(t={});var e=["version"];return t.version||(t.version="1.0"),t.encoding&&e.push("encoding"),t.standalone&&e.push("standalone"),"<?xml "+e.map((function(e){return e+'="'+t[e]+'"'})).join(" ")+" ?>"},t.createXml=function(t,e){var n=this,o="";t.properties&&(t.properties.prefixedAttributes&&t.properties.prefixedAttributes.forEach((function(t){Object.keys(t.map).forEach((function(r){o+=n.returnAttributeIfPopulated(t.prefix+r,t.map[r],e)}))})),t.properties.rawMap&&Object.keys(t.properties.rawMap).forEach((function(r){o+=n.returnAttributeIfPopulated(r,t.properties.rawMap[r],e)})));var r="<"+t.name+o;return t.children||null!=t.textNode?null!=t.textNode?r+">"+t.textNode+"</"+t.name+">"+tm:(r+=">\r\n",t.children&&t.children.forEach((function(t){r+=n.createXml(t,e)})),r+"</"+t.name+">"+tm):r+"/>"+tm},t.returnAttributeIfPopulated=function(t,e,n){if(!e&&""!==e&&0!==e)return"";var o=e;return"boolean"==typeof e&&n&&(o=n(e))," "+t+'="'+o+'"'},t}(),nm=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},om=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),rm=function(){function t(){}return t.addFolders=function(t){t.forEach(this.addFolder.bind(this))},t.addFolder=function(t){this.folders.push({path:t,created:new Date,isBase64:!1})},t.addFile=function(t,e,n){void 0===n&&(n=!1),this.files.push({path:t,created:new Date,content:e,isBase64:n})},t.getContent=function(t){void 0===t&&(t="application/zip");var e=this.buildFileStream(),n=this.buildUint8Array(e);return this.clearStream(),new Blob([n],{type:t})},t.clearStream=function(){this.folders=[],this.files=[]},t.buildFileStream=function(t){var e,n;void 0===t&&(t="");var o=this.folders.concat(this.files),r=o.length,i="",s=0,a=0;try{for(var l=nm(o),c=l.next();!c.done;c=l.next()){var u=c.value,d=this.getHeader(u,s),p=d.fileHeader,h=d.folderHeader,f=d.content;s+=p.length+f.length,a+=h.length,t+=p+f,i+=h}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return t+i+this.buildFolderEnd(r,a,s)},t.getHeader=function(t,e){var n=t.content,o=t.path,r=t.created,i=t.isBase64,s=or.utf8_encode,a=or.decToHex,l=s(o),c=l!==o,u=this.convertTime(r),d=this.convertDate(r),p="";if(c){var h=a(1,1)+a(this.getFromCrc32Table(l),4)+l;p="up"+a(h.length,2)+h}var f=n?this.getConvertedContent(n,i):{size:0,content:""},g=f.size,_=f.content,m="\n\0"+(c?"\0\b":"\0\0")+"\0\0"+a(u,2)+a(d,2)+a(g?this.getFromCrc32Table(_):0,4)+a(g,4)+a(g,4)+a(l.length,2)+a(p.length,2);return{fileHeader:"PK"+m+l+p,folderHeader:"PK\0"+m+"\0\0\0\0\0\0"+(n?"\0\0\0\0":"\0\0\0")+a(e,4)+l+p,content:_||""}},t.getConvertedContent=function(t,e){return void 0===e&&(e=!1),e&&(t=t.split(";base64,")[1]),{size:(t=e?atob(t):t).length,content:t}},t.buildFolderEnd=function(t,e,n){var o=or.decToHex;return"PK\0\0\0\0"+o(t,2)+o(t,2)+o(e,4)+o(n,4)+"\0\0"},t.buildUint8Array=function(t){for(var e=new Uint8Array(t.length),n=0;n<e.length;n++)e[n]=t.charCodeAt(n);return e},t.getFromCrc32Table=function(t){if(!t.length)return 0;for(var e=t.length,n=new Uint8Array(e),o=0;o<e;o++)n[o]=t.charCodeAt(o);var r=-1,i=0;for(o=0;o<e;o++)i=n[o],r=r>>>8^om[255&(r^i)];return-1^r},t.convertTime=function(t){var e=t.getHours();return e<<=6,e|=t.getMinutes(),e<<=5,e|=t.getSeconds()/2},t.convertDate=function(t){var e=t.getFullYear()-1980;return e<<=4,e|=t.getMonth()+1,e<<=5,e|=t.getDate()},t.folders=[],t.files=[],t}(),im=[x_,j_,Q_];ot.registerModules(im)},1906:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";var ag_grid_community__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1731),MD5=function(){function t(){this.ieCompatibility=!1}return t.prototype.init=function(){this.ieCompatibility="5d41402abc4b2a76b9719d911017c592"!=this.md5("hello")},t.prototype.md5cycle=function(t,e){var n=t[0],o=t[1],r=t[2],i=t[3];n=this.ff(n,o,r,i,e[0],7,-680876936),i=this.ff(i,n,o,r,e[1],12,-389564586),r=this.ff(r,i,n,o,e[2],17,606105819),o=this.ff(o,r,i,n,e[3],22,-1044525330),n=this.ff(n,o,r,i,e[4],7,-176418897),i=this.ff(i,n,o,r,e[5],12,1200080426),r=this.ff(r,i,n,o,e[6],17,-1473231341),o=this.ff(o,r,i,n,e[7],22,-45705983),n=this.ff(n,o,r,i,e[8],7,1770035416),i=this.ff(i,n,o,r,e[9],12,-1958414417),r=this.ff(r,i,n,o,e[10],17,-42063),o=this.ff(o,r,i,n,e[11],22,-1990404162),n=this.ff(n,o,r,i,e[12],7,1804603682),i=this.ff(i,n,o,r,e[13],12,-40341101),r=this.ff(r,i,n,o,e[14],17,-1502002290),o=this.ff(o,r,i,n,e[15],22,1236535329),n=this.gg(n,o,r,i,e[1],5,-165796510),i=this.gg(i,n,o,r,e[6],9,-1069501632),r=this.gg(r,i,n,o,e[11],14,643717713),o=this.gg(o,r,i,n,e[0],20,-373897302),n=this.gg(n,o,r,i,e[5],5,-701558691),i=this.gg(i,n,o,r,e[10],9,38016083),r=this.gg(r,i,n,o,e[15],14,-660478335),o=this.gg(o,r,i,n,e[4],20,-405537848),n=this.gg(n,o,r,i,e[9],5,568446438),i=this.gg(i,n,o,r,e[14],9,-1019803690),r=this.gg(r,i,n,o,e[3],14,-187363961),o=this.gg(o,r,i,n,e[8],20,1163531501),n=this.gg(n,o,r,i,e[13],5,-1444681467),i=this.gg(i,n,o,r,e[2],9,-51403784),r=this.gg(r,i,n,o,e[7],14,1735328473),o=this.gg(o,r,i,n,e[12],20,-1926607734),n=this.hh(n,o,r,i,e[5],4,-378558),i=this.hh(i,n,o,r,e[8],11,-2022574463),r=this.hh(r,i,n,o,e[11],16,1839030562),o=this.hh(o,r,i,n,e[14],23,-35309556),n=this.hh(n,o,r,i,e[1],4,-1530992060),i=this.hh(i,n,o,r,e[4],11,1272893353),r=this.hh(r,i,n,o,e[7],16,-155497632),o=this.hh(o,r,i,n,e[10],23,-1094730640),n=this.hh(n,o,r,i,e[13],4,681279174),i=this.hh(i,n,o,r,e[0],11,-358537222),r=this.hh(r,i,n,o,e[3],16,-722521979),o=this.hh(o,r,i,n,e[6],23,76029189),n=this.hh(n,o,r,i,e[9],4,-640364487),i=this.hh(i,n,o,r,e[12],11,-421815835),r=this.hh(r,i,n,o,e[15],16,530742520),o=this.hh(o,r,i,n,e[2],23,-995338651),n=this.ii(n,o,r,i,e[0],6,-198630844),i=this.ii(i,n,o,r,e[7],10,1126891415),r=this.ii(r,i,n,o,e[14],15,-1416354905),o=this.ii(o,r,i,n,e[5],21,-57434055),n=this.ii(n,o,r,i,e[12],6,1700485571),i=this.ii(i,n,o,r,e[3],10,-1894986606),r=this.ii(r,i,n,o,e[10],15,-1051523),o=this.ii(o,r,i,n,e[1],21,-2054922799),n=this.ii(n,o,r,i,e[8],6,1873313359),i=this.ii(i,n,o,r,e[15],10,-30611744),r=this.ii(r,i,n,o,e[6],15,-1560198380),o=this.ii(o,r,i,n,e[13],21,1309151649),n=this.ii(n,o,r,i,e[4],6,-145523070),i=this.ii(i,n,o,r,e[11],10,-1120210379),r=this.ii(r,i,n,o,e[2],15,718787259),o=this.ii(o,r,i,n,e[9],21,-343485551),t[0]=this.add32(n,t[0]),t[1]=this.add32(o,t[1]),t[2]=this.add32(r,t[2]),t[3]=this.add32(i,t[3])},t.prototype.cmn=function(t,e,n,o,r,i){return e=this.add32(this.add32(e,t),this.add32(o,i)),this.add32(e<<r|e>>>32-r,n)},t.prototype.ff=function(t,e,n,o,r,i,s){return this.cmn(e&n|~e&o,t,e,r,i,s)},t.prototype.gg=function(t,e,n,o,r,i,s){return this.cmn(e&o|n&~o,t,e,r,i,s)},t.prototype.hh=function(t,e,n,o,r,i,s){return this.cmn(e^n^o,t,e,r,i,s)},t.prototype.ii=function(t,e,n,o,r,i,s){return this.cmn(n^(e|~o),t,e,r,i,s)},t.prototype.md51=function(t){var e,n=t.length,o=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)this.md5cycle(o,this.md5blk(t.substring(e-64,e)));t=t.substring(e-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)r[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(this.md5cycle(o,r),e=0;e<16;e++)r[e]=0;return r[14]=8*n,this.md5cycle(o,r),o},t.prototype.md5blk=function(t){for(var e=[],n=0;n<64;n+=4)e[n>>2]=t.charCodeAt(n)+(t.charCodeAt(n+1)<<8)+(t.charCodeAt(n+2)<<16)+(t.charCodeAt(n+3)<<24);return e},t.prototype.rhex=function(t){for(var e="0123456789abcdef".split(""),n="",o=0;o<4;o++)n+=e[t>>8*o+4&15]+e[t>>8*o&15];return n},t.prototype.hex=function(t){for(var e=0;e<t.length;e++)t[e]=this.rhex(t[e]);return t.join("")},t.prototype.md5=function(t){return this.hex(this.md51(t))},t.prototype.add32=function(t,e){return this.ieCompatibility?this.add32Compat(t,e):this.add32Std(t,e)},t.prototype.add32Std=function(t,e){return t+e&4294967295},t.prototype.add32Compat=function(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n},t}(),__read$1c=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s};function missingOrEmpty(t){return null==t||0===t.length}function exists(t,e){return void 0===e&&(e=!1),null!=t&&(""!==t||e)}var LicenseManager=function(){function t(t){this.watermarkMessage=void 0,this.document=t,this.md5=new MD5,this.md5.init()}return t.prototype.validateLicense=function(){if(missingOrEmpty(t.licenseKey))this.isWebsiteUrl()||this.outputMissingLicenseKey();else if(t.licenseKey.length>32)if(-1!==t.licenseKey.indexOf("For_Trialing_ag-Grid_Only"))this.outputInvalidLicenseKey();else{var e=t.extractLicenseComponents(t.licenseKey),n=e.md5,o=e.license,r=e.version,i=e.isTrial;n===this.md5.md5(o)?exists(r)&&r?this.validateLicenseKeyForVersion(r,!!i,o):this.validateLegacyKey(o):this.outputInvalidLicenseKey()}else this.outputInvalidLicenseKey()},t.extractExpiry=function(e){var n=e.substring(e.lastIndexOf("_")+1,e.length);return new Date(parseInt(t.decode(n),10))},t.extractLicenseComponents=function(e){var n=e.replace(/[\u200B-\u200D\uFEFF]/g,""),o=(n=n.replace(/\r?\n|\r/g,"")).length-32,r=n.substring(o),i=n.substring(0,o),s=__read$1c(t.extractBracketedInformation(n),2);return{md5:r,license:i,version:s[0],isTrial:s[1]}},t.prototype.getLicenseDetails=function(e){var n=t.extractLicenseComponents(e),o=n.md5,r=n.license,i=n.version,s=n.isTrial,a=o===this.md5.md5(r)&&-1===e.indexOf("For_Trialing_ag-Grid_Only"),l=null,c=null;a&&(c=t.extractExpiry(r),a=!isNaN(c.getTime()),s&&(l=c<new Date));return{licenseKey:e,valid:a,expiry:a?t.formatDate(c):null,version:i||"legacy",isTrial:s,trialExpired:l}},t.prototype.isDisplayWatermark=function(){return!this.isLocalhost()&&!this.isWebsiteUrl()&&!missingOrEmpty(this.watermarkMessage)},t.prototype.getWatermarkMessage=function(){return this.watermarkMessage||""},t.prototype.getHostname=function(){var t=(this.document.defaultView||window).location.hostname;return void 0===t?"":t},t.prototype.isWebsiteUrl=function(){return null!==this.getHostname().match(/^((?:\w+\.)?ag-grid\.com)$/)},t.prototype.isLocalhost=function(){return null!==this.getHostname().match(/^(?:127\.0\.0\.1|localhost)$/)},t.formatDate=function(t){var e=t.getDate(),n=t.getMonth(),o=t.getFullYear();return e+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][n]+" "+o},t.getGridReleaseDate=function(){return new Date(parseInt(t.decode(t.RELEASE_INFORMATION),10))},t.decode=function(e){for(var n,o,r,i,s,a,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",u=0,d=e.replace(/[^A-Za-z0-9+/=]/g,"");u<d.length;)n=l.indexOf(d.charAt(u++))<<2|(i=l.indexOf(d.charAt(u++)))>>4,o=(15&i)<<4|(s=l.indexOf(d.charAt(u++)))>>2,r=(3&s)<<6|(a=l.indexOf(d.charAt(u++))),c+=String.fromCharCode(n),64!=s&&(c+=String.fromCharCode(o)),64!=a&&(c+=String.fromCharCode(r));return c=t.utf8_decode(c)},t.utf8_decode=function(t){t=t.replace(/rn/g,"n");for(var e="",n=0;n<t.length;n++){var o=t.charCodeAt(n);o<128?e+=String.fromCharCode(o):o>127&&o<2048?(e+=String.fromCharCode(o>>6|192),e+=String.fromCharCode(63&o|128)):(e+=String.fromCharCode(o>>12|224),e+=String.fromCharCode(o>>6&63|128),e+=String.fromCharCode(63&o|128))}return e},t.setLicenseKey=function(t){this.licenseKey=t},t.extractBracketedInformation=function(t){var e=t.split("[").filter((function(t){return t.indexOf("]")>-1})).map((function(t){return t.split("]")[0]}));if(!e||0===e.length)return[null,null];var n=1===e.filter((function(t){return"TRIAL"===t})).length;return[e.filter((function(t){return 0===t.indexOf("v")})).map((function(t){return t.replace(/^v/,"")}))[0],n]},t.prototype.validateLicenseKeyForVersion=function(t,e,n){"2"===t&&(e?this.validateForTrial(n):this.validateLegacyKey(n))},t.prototype.validateLegacyKey=function(e){var n=t.getGridReleaseDate(),o=t.extractExpiry(e),r=!1,i=!1;if(isNaN(o.getTime())||(r=!0,i=n<o),r){if(!i){var s=t.formatDate(o),a=t.formatDate(n);this.outputIncompatibleVersion(s,a)}}else this.outputInvalidLicenseKey()},t.prototype.validateForTrial=function(e){var n=t.extractExpiry(e),o=new Date,r=!1,i=!1;if(isNaN(n.getTime())||(r=!0,i=n>o),r){if(!i){var s=t.formatDate(n);this.outputExpiredTrialKey(s)}}else this.outputInvalidLicenseKey()},t.prototype.outputInvalidLicenseKey=function(){console.error("*****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License ********************************************"),console.error("********************************************* Invalid License ***************************************************"),console.error("* Your license for AG Grid Enterprise is not valid - please contact info@ag-grid.com to obtain a valid license. *"),console.error("*****************************************************************************************************************"),console.error("*****************************************************************************************************************"),this.watermarkMessage="Invalid License"},t.prototype.outputExpiredTrialKey=function(t){console.error("****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License *******************************************"),console.error("*****************************************   Trial Period Expired.    *******************************************"),console.error("* Your license for AG Grid Enterprise expired on "+t+".                                                *"),console.error("* Please email info@ag-grid.com to purchase a license.                                                         *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="Trial Period Expired"},t.prototype.outputMissingLicenseKey=function(){console.error("****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License *******************************************"),console.error("****************************************** License Key Not Found ***********************************************"),console.error("* All AG Grid Enterprise features are unlocked.                                                                *"),console.error("* This is an evaluation only version, it is not licensed for development projects intended for production.     *"),console.error("* If you want to hide the watermark, please email info@ag-grid.com for a trial license.                        *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="For Trial Use Only"},t.prototype.outputIncompatibleVersion=function(t,e){console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),console.error("*                                             AG Grid Enterprise License                                                   *"),console.error("*                           License not compatible with installed version of AG Grid Enterprise.                           *"),console.error("*                                                                                                                          *"),console.error("* Your AG Grid License entitles you to all versions of AG Grid that we release within the time covered by your license     *"),console.error("* - typically we provide one year licenses which entitles you to all releases / updates of AG Grid within that year.       *"),console.error("* Your license has an end (expiry) date which stops the license key working with versions of AG Grid released after the    *"),console.error("* license end date. The license key that you have expires on "+t+", however the version of AG Grid you    *"),console.error("* are trying to use was released on "+e+".                                                               *"),console.error("*                                                                                                                          *"),console.error("* Please contact info@ag-grid.com to renew your subscription to new versions and get a new license key to work with this   *"),console.error("* version of AG Grid.                                                                                                      *"),console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),this.watermarkMessage="License Expired"},t.RELEASE_INFORMATION="MTY4MzExMjAxODQyNA==",t}(),__extends$3l=(extendStatics=function(t,e){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},extendStatics(t,e)},function(t,e){function n(){this.constructor=t}extendStatics(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),extendStatics,__decorate$2w=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},GridLicenseManager=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$3l(e,t),e.prototype.validateLicense=function(){this.licenseManager=new LicenseManager(this.gridOptionsService.getDocument()),this.licenseManager.validateLicense()},e.getLicenseDetails=function(t){return new LicenseManager(null).getLicenseDetails(t)},e.prototype.isDisplayWatermark=function(){return this.licenseManager.isDisplayWatermark()},e.prototype.getWatermarkMessage=function(){return this.licenseManager.getWatermarkMessage()},e.setLicenseKey=function(t){LicenseManager.setLicenseKey(t)},__decorate$2w([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$j7],e.prototype,"validateLicense",null),e=__decorate$2w([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("licenseManager")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$3k=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$2v=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},WatermarkComp=function(t){function e(){return t.call(this,'<div class="ag-watermark">\n                    <div ref="eLicenseTextRef" class="ag-watermark-text"></div>\n               </div>')||this}return __extends$3k(e,t),e.prototype.postConstruct=function(){var t=this,e=this.shouldDisplayWatermark();this.setDisplayed(e),e&&(this.eLicenseTextRef.innerText=this.licenseManager.getWatermarkMessage(),window.setTimeout((function(){return t.addCssClass("ag-opacity-zero")}),0),window.setTimeout((function(){return t.setDisplayed(!1)}),5e3))},e.prototype.shouldDisplayWatermark=function(){var t=(this.gridOptionsService.getDocument().defaultView||window).location.pathname,e=this.licenseManager.isDisplayWatermark();return!!t&&-1!==t.indexOf("forceWatermark")||e},__decorate$2v([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("licenseManager")],e.prototype,"licenseManager",void 0),__decorate$2v([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eLicenseTextRef")],e.prototype,"eLicenseTextRef",void 0),__decorate$2v([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),VERSION$i="29.3.4",EnterpriseCoreModule={version:VERSION$i,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.EnterpriseCoreModule,beans:[GridLicenseManager],agStackComponents:[{componentName:"AgWatermark",componentClass:WatermarkComp}]},__extends$3j=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$2u=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__values$D=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},SOURCE_PASTE="paste",EXPORT_TYPE_DRAG_COPY="dragCopy",EXPORT_TYPE_CLIPBOARD="clipboard",CellClearType;!function(t){t[t.CellRange=0]="CellRange",t[t.SelectedRows=1]="SelectedRows",t[t.FocusedCell=2]="FocusedCell"}(CellClearType||(CellClearType={}));var ClipboardService=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lastPasteOperationTime=0,e.navigatorApiFailed=!1,e}var n;return __extends$3j(e,t),n=e,e.prototype.init=function(){var t=this;this.logger=this.loggerFactory.create("ClipboardService"),"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady((function(e){t.gridCtrl=e.gridCtrl}))},e.prototype.pasteFromClipboard=function(){var t=this;this.logger.log("pasteFromClipboard"),!this.gridOptionsService.is("suppressClipboardApi")&&!this.navigatorApiFailed&&navigator.clipboard&&navigator.clipboard.readText?navigator.clipboard.readText().then(this.processClipboardData.bind(this)).catch((function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){console.warn(e),console.warn("AG Grid: Unable to use the Clipboard API (navigator.clipboard.readText()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API")}),"clipboardApiError"),t.navigatorApiFailed=!0,t.pasteFromClipboardLegacy()})):this.pasteFromClipboardLegacy()},e.prototype.pasteFromClipboardLegacy=function(){var t=this,e=!1,n=function(n){var o=(new Date).getTime();o-t.lastPasteOperationTime<50&&(e=!0,n.preventDefault()),t.lastPasteOperationTime=o};this.executeOnTempElement((function(t){t.addEventListener("paste",n),t.focus({preventScroll:!0})}),(function(o){var r=o.value;e?t.refocusLastFocusedCell():t.processClipboardData(r),o.removeEventListener("paste",n)}))},e.prototype.refocusLastFocusedCell=function(){var t=this.focusService.getFocusedCell();t&&this.focusService.setFocusedCell({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0})},e.prototype.getClipboardDelimiter=function(){var t=this.gridOptionsService.get("clipboardDelimiter");return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t)?t:"\t"},e.prototype.processClipboardData=function(t){var e=this;if(null!=t){var o=n.stringToArray(t,this.getClipboardDelimiter()),r=this.gridOptionsService.getCallback("processDataFromClipboard");if(r&&(o=r({data:o})),null!=o){this.gridOptionsService.is("suppressLastEmptyLineOnPaste")&&this.removeLastLineIfBlank(o);this.doPasteOperation((function(t,n,r,i){e.rangeService&&e.rangeService.isMoreThanOneCell()&&!e.hasOnlyOneValueToPaste(o)?e.pasteIntoActiveRange(o,t,n,i):e.pasteStartingFromFocusedCell(o,t,n,r,i)}))}}},e.stringToArray=function(t,e){void 0===e&&(e=",");var n=[],o=function(t){return"\r"===t||"\n"===t},r=!1;if(""===t)return[[""]];for(var i,s,a,l=function(l,c,u){var d=t[u-1],p=t[u],h=t[u+1],f=function(){n[l]||(n[l]=[]),n[l][c]||(n[l][c]="")};if(f(),'"'===p){if(r)return'"'===h?(n[l][c]+='"',u++):r=!1,i=l,s=c,a=u,"continue";if(void 0===d||d===e||o(d))return r=!0,i=l,s=c,a=u,"continue"}if(!r){if(p===e)return c++,f(),i=l,s=c,a=u,"continue";if(o(p))return c=0,l++,f(),"\r"===p&&"\n"===h&&u++,i=l,s=c,a=u,"continue"}n[l][c]+=p,i=l,s=c,a=u},c=0,u=0,d=0;d<t.length;d++)l(c,u,d),c=i,u=s,d=a;return n},e.prototype.doPasteOperation=function(t){var e,n=this.gridOptionsService.api,o=this.gridOptionsService.columnApi,r="clipboard";if(this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_PASTE_START,api:n,columnApi:o,source:r}),this.clientSideRowModel){var i=this.gridOptionsService.is("aggregateOnlyChangedColumns");e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Dkq(i,this.clientSideRowModel.getRootNode())}var s={},a=[];t(s,a,this.focusService.getFocusedCell(),e),e&&this.clientSideRowModel.doAggregate(e),this.rowRenderer.refreshCells(),this.dispatchFlashCells(s),this.fireRowChanged(a),this.refocusLastFocusedCell();var l={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_PASTE_END,source:r};this.eventService.dispatchEvent(l)},e.prototype.pasteIntoActiveRange=function(t,e,n,o){var r=this,i=this.getRangeSize()%t.length!=0,s=0,a=0;this.iterateActiveRanges(!1,(function(l,c,u,d){if(d-s>=t.length){if(i)return;s+=a,a=0}var p=t[d-s];n.push(c);var h=r.gridOptionsService.getCallback("processCellFromClipboard");u.forEach((function(t,n){if(t.isCellEditable(c)&&!t.isSuppressPaste(c)){n>=p.length&&(n%=p.length);var i=r.processCell(c,t,p[n],EXPORT_TYPE_DRAG_COPY,h);c.setDataValue(t,i,SOURCE_PASTE),o&&o.addParentNode(c.parent,[t]);var s=l.rowIndex,a=l.rowPinned,u=r.cellPositionUtils.createIdFromValues({rowIndex:s,column:t,rowPinned:a});e[u]=!0}})),a++}))},e.prototype.pasteStartingFromFocusedCell=function(t,e,n,o,r){if(o){var i={rowIndex:o.rowIndex,rowPinned:o.rowPinned},s=this.columnModel.getDisplayedColumnsStartingAt(o.column);this.isPasteSingleValueIntoRange(t)?this.pasteSingleValueIntoRange(t,n,e,r):this.pasteMultipleValues(t,i,n,s,e,EXPORT_TYPE_CLIPBOARD,r)}},e.prototype.isPasteSingleValueIntoRange=function(t){return this.hasOnlyOneValueToPaste(t)&&null!=this.rangeService&&!this.rangeService.isEmpty()},e.prototype.pasteSingleValueIntoRange=function(t,e,n,o){var r=this,i=t[0][0];this.iterateActiveRanges(!1,(function(t,s,a){e.push(s),a.forEach((function(t){return r.updateCellValue(s,t,i,n,EXPORT_TYPE_CLIPBOARD,o)}))}))},e.prototype.hasOnlyOneValueToPaste=function(t){return 1===t.length&&1===t[0].length},e.prototype.copyRangeDown=function(){var t=this;if(this.rangeService&&!this.rangeService.isEmpty()){var e=[];this.doPasteOperation((function(n,o,r,i){var s=t.gridOptionsService.getCallback("processCellForClipboard"),a=t.gridOptionsService.getCallback("processCellFromClipboard");t.iterateActiveRanges(!0,(function(r,l,c){e.length?(o.push(l),c.forEach((function(o,s){if(o.isCellEditable(l)&&!o.isSuppressPaste(l)){var c=t.processCell(l,o,e[s],EXPORT_TYPE_DRAG_COPY,a);l.setDataValue(o,c,SOURCE_PASTE),i&&i.addParentNode(l.parent,[o]);var u=r.rowIndex,d=r.rowPinned,p=t.cellPositionUtils.createIdFromValues({rowIndex:u,column:o,rowPinned:d});n[p]=!0}}))):c.forEach((function(n){var o=t.processCell(l,n,t.valueService.getValue(n,l),EXPORT_TYPE_DRAG_COPY,s);e.push(o)}))}))}))}},e.prototype.removeLastLineIfBlank=function(t){var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(t);if(e&&1===e.length&&""===e[0]){if(1===t.length)return;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(t,e)}},e.prototype.fireRowChanged=function(t){var e=this;"fullRow"===this.gridOptionsService.get("editType")&&t.forEach((function(t){var n={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_ROW_VALUE_CHANGED,node:t,data:t.data,rowIndex:t.rowIndex,rowPinned:t.rowPinned};e.eventService.dispatchEvent(n)}))},e.prototype.pasteMultipleValues=function(t,e,n,o,r,i,s){var a=this,l=e,c=null!=this.clientSideRowModel&&!this.gridOptionsService.isTreeData();t.forEach((function(t){var e=function(){for(;;){if(!l)return null;var t=a.rowPositionUtils.getRowNode(l);if(l=a.cellNavigationService.getRowBelow({rowPinned:l.rowPinned,rowIndex:l.rowIndex}),null==t)return null;if(!(t.detail||t.footer||c&&t.group))return t}}();e&&(t.forEach((function(t,n){return a.updateCellValue(e,o[n],t,r,i,s)})),n.push(e))}))},e.prototype.updateCellValue=function(t,e,n,o,r,i){if(t&&e&&e.isCellEditable(t)&&!e.isSuppressPaste(t)){var s=this.processCell(t,e,n,r,this.gridOptionsService.getCallback("processCellFromClipboard"));t.setDataValue(e,s,SOURCE_PASTE);var a=t.rowIndex,l=t.rowPinned;o[this.cellPositionUtils.createIdFromValues({rowIndex:a,column:e,rowPinned:l})]=!0,i&&i.addParentNode(t.parent,[e])}},e.prototype.copyToClipboard=function(t){void 0===t&&(t={}),this.copyOrCutToClipboard(t)},e.prototype.cutToClipboard=function(t){void 0===t&&(t={}),this.gridOptionsService.is("suppressCutToClipboard")||this.copyOrCutToClipboard(t,!0)},e.prototype.copyOrCutToClipboard=function(t,e){var n=t.includeHeaders,o=t.includeGroupHeaders;this.logger.log("copyToClipboard: includeHeaders = "+n),null==n&&(n=this.gridOptionsService.is("copyHeadersToClipboard")),null==o&&(o=this.gridOptionsService.is("copyGroupHeadersToClipboard"));var r={includeHeaders:n,includeGroupHeaders:o},i=!this.gridOptionsService.is("suppressCopyRowsToClipboard"),s=null;!this.rangeService||this.rangeService.isEmpty()||this.shouldSkipSingleCellRange()?i&&!this.selectionService.isEmpty()?(this.copySelectedRowsToClipboard(r),s=CellClearType.SelectedRows):this.focusService.isAnyCellFocused()&&(this.copyFocusedCellToClipboard(r),s=CellClearType.FocusedCell):(this.copySelectedRangeToClipboard(r),s=CellClearType.CellRange),e&&null!==s&&this.clearCellsAfterCopy(s)},e.prototype.clearCellsAfterCopy=function(t){if(this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),t===CellClearType.CellRange)this.rangeService.clearCellRangeCellValues(void 0,"clipboardService");else if(t===CellClearType.SelectedRows)this.clearSelectedRows();else{var e=this.focusService.getFocusedCell();if(null==e)return;var n=this.rowPositionUtils.getRowNode(e);n&&this.clearCellValue(n,e.column)}this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_KEY_SHORTCUT_CHANGED_CELL_END})},e.prototype.clearSelectedRows=function(){var t,e,n,o,r=this.selectionService.getSelectedNodes(),i=this.columnModel.getAllDisplayedColumns();try{for(var s=__values$D(r),a=s.next();!a.done;a=s.next()){var l=a.value;try{for(var c=(n=void 0,__values$D(i)),u=c.next();!u.done;u=c.next()){var d=u.value;this.clearCellValue(l,d)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}},e.prototype.clearCellValue=function(t,e){e.isCellEditable(t)&&t.setDataValue(e,null,"clipboardService")},e.prototype.shouldSkipSingleCellRange=function(){return this.gridOptionsService.is("suppressCopySingleCellRanges")&&!this.rangeService.isMoreThanOneCell()},e.prototype.iterateActiveRanges=function(t,e,n){var o=this;if(this.rangeService&&!this.rangeService.isEmpty()){var r=this.rangeService.getCellRanges();t?this.iterateActiveRange(r[0],e,n,!0):r.forEach((function(t,i){return o.iterateActiveRange(t,e,n,i===r.length-1)}))}},e.prototype.iterateActiveRange=function(t,e,n,o){if(this.rangeService){var r=this.rangeService.getRangeStartRow(t),i=this.rangeService.getRangeEndRow(t);n&&t.columns&&n(t.columns);for(var s=0,a=!1;!a&&null!=r;){var l=this.rowPositionUtils.getRowNode(r);a=this.rowPositionUtils.sameRow(r,i),e(r,l,t.columns,s++,a&&o),r=this.cellNavigationService.getRowBelow(r)}}},e.prototype.copySelectedRangeToClipboard=function(t){if(void 0===t&&(t={}),this.rangeService&&!this.rangeService.isEmpty()){var e=this.rangeService.areAllRangesAbleToMerge()?this.buildDataFromMergedRanges(t):this.buildDataFromRanges(t),n=e.data,o=e.cellsToFlash;this.copyDataToClipboard(n),this.dispatchFlashCells(o)}},e.prototype.buildDataFromMergedRanges=function(t){var e=this,n=new Set,o=this.rangeService.getCellRanges(),r=new Map,i=[],s={};o.forEach((function(t){t.columns.forEach((function(t){return n.add(t)}));var o=e.getRangeRowPositionsAndCellsToFlash(t),a=o.rowPositions,l=o.cellsToFlash;a.forEach((function(t){var e=t.rowIndex+"-"+(t.rowPinned||"null");r.get(e)||(r.set(e,!0),i.push(t))})),Object.assign(s,l)}));var a=this.columnModel.getAllDisplayedColumns(),l=Array.from(n);return l.sort((function(t,e){return a.indexOf(t)-a.indexOf(e)})),{data:this.buildExportParams({columns:l,rowPositions:i,includeHeaders:t.includeHeaders,includeGroupHeaders:t.includeGroupHeaders}),cellsToFlash:s}},e.prototype.buildDataFromRanges=function(t){var e=this,n=this.rangeService.getCellRanges(),o=[],r={};return n.forEach((function(n){var i=e.getRangeRowPositionsAndCellsToFlash(n),s=i.rowPositions,a=i.cellsToFlash;Object.assign(r,a),o.push(e.buildExportParams({columns:n.columns,rowPositions:s,includeHeaders:t.includeHeaders,includeGroupHeaders:t.includeGroupHeaders}))})),{data:o.join("\n"),cellsToFlash:r}},e.prototype.getRangeRowPositionsAndCellsToFlash=function(t){for(var e=this,n=[],o={},r=this.rangeService.getRangeStartRow(t),i=this.rangeService.getRangeEndRow(t),s=r;s&&(n.push(s),t.columns.forEach((function(t){var n=s,r=n.rowIndex,i=n.rowPinned,a=e.cellPositionUtils.createIdFromValues({rowIndex:r,column:t,rowPinned:i});o[a]=!0})),!this.rowPositionUtils.sameRow(s,i));)s=this.cellNavigationService.getRowBelow(s);return{rowPositions:n,cellsToFlash:o}},e.prototype.copyFocusedCellToClipboard=function(t){var e;void 0===t&&(t={});var n=this.focusService.getFocusedCell();if(null!=n){var o=this.cellPositionUtils.createId(n),r={rowPinned:n.rowPinned,rowIndex:n.rowIndex},i=n.column,s=this.buildExportParams({columns:[i],rowPositions:[r],includeHeaders:t.includeHeaders,includeGroupHeaders:t.includeGroupHeaders});this.copyDataToClipboard(s),this.dispatchFlashCells(((e={})[o]=!0,e))}},e.prototype.copySelectedRowsToClipboard=function(t){void 0===t&&(t={});var e=t.columnKeys,n=t.includeHeaders,o=t.includeGroupHeaders,r=this.buildExportParams({columns:e,includeHeaders:n,includeGroupHeaders:o});this.copyDataToClipboard(r)},e.prototype.buildExportParams=function(t){var e=this,n=t.columns,o=t.rowPositions,r=t.includeHeaders,i=void 0!==r&&r,s=t.includeGroupHeaders,a={columnKeys:n,rowPositions:o,skipColumnHeaders:!i,skipColumnGroupHeaders:!(void 0!==s&&s),suppressQuotes:!0,columnSeparator:this.getClipboardDelimiter(),onlySelected:!o,processCellCallback:this.gridOptionsService.getCallback("processCellForClipboard"),processRowGroupCallback:function(t){return e.processRowGroupCallback(t)},processHeaderCallback:this.gridOptionsService.getCallback("processHeaderForClipboard"),processGroupHeaderCallback:this.gridOptionsService.getCallback("processGroupHeaderForClipboard")};return this.csvCreator.getDataAsCsv(a,!0)},e.prototype.processRowGroupCallback=function(t){var e=t.node,n=e.key,o=null!=n?n:"";if(t.node.footer){var r="";n&&n.length&&(r=" "+n),o="Total"+r}var i=this.gridOptionsService.getCallback("processCellForClipboard");if(i){var s=e.rowGroupColumn;return!s&&e.footer&&-1===e.level&&(s=this.columnModel.getRowGroupColumns()[0]),i({value:o,node:e,column:s,type:"clipboard"})}return o},e.prototype.dispatchFlashCells=function(t){var e=this;window.setTimeout((function(){var n={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FLASH_CELLS,cells:t};e.eventService.dispatchEvent(n)}),0)},e.prototype.processCell=function(t,e,n,o,r){return r?r({column:e,node:t,value:n,type:o}):n},e.prototype.copyDataToClipboard=function(t){var e=this,n=this.gridOptionsService.getCallback("sendToClipboard");n?n({data:t}):!this.gridOptionsService.is("suppressClipboardApi")&&navigator.clipboard?navigator.clipboard.writeText(t).catch((function(n){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){console.warn(n),console.warn("AG Grid: Unable to use the Clipboard API (navigator.clipboard.writeText()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.")}),"clipboardApiError"),e.copyDataToClipboardLegacy(t)})):this.copyDataToClipboardLegacy(t)},e.prototype.copyDataToClipboardLegacy=function(t){var e=this;this.executeOnTempElement((function(n){var o=e.gridOptionsService.getDocument(),r=o.activeElement;n.value=t||" ",n.select(),n.focus({preventScroll:!0}),o.execCommand("copy")||console.warn("AG Grid: Browser did not allow document.execCommand('copy'). Ensure api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons."),null!=r&&null!=r.focus&&r.focus({preventScroll:!0})}))},e.prototype.executeOnTempElement=function(t,e){var n=this.gridOptionsService.getDocument(),o=n.createElement("textarea");o.style.width="1px",o.style.height="1px",o.style.top=n.documentElement.scrollTop+"px",o.style.left=n.documentElement.scrollLeft+"px",o.style.position="absolute",o.style.opacity="0";var r=this.gridCtrl.getGui();r.appendChild(o);try{t(o)}catch(t){console.warn("AG Grid: Browser does not support document.execCommand('copy') for clipboard operations")}e?window.setTimeout((function(){e(o),r.removeChild(o)}),100):r.removeChild(o)},e.prototype.getRangeSize=function(){var t=this.rangeService.getCellRanges(),e=0,n=0;return t.length>0&&(e=this.rangeService.getRangeStartRow(t[0]).rowIndex,n=this.rangeService.getRangeEndRow(t[0]).rowIndex),e-n+1},__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("csvCreator")],e.prototype,"csvCreator",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("loggerFactory")],e.prototype,"loggerFactory",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("selectionService")],e.prototype,"selectionService",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("rangeService")],e.prototype,"rangeService",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"rowModel",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],e.prototype,"rowRenderer",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellNavigationService")],e.prototype,"cellNavigationService",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),__decorate$2u([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e=n=__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("clipboardService")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),VERSION$h="29.3.4",ClipboardModule={version:VERSION$h,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule,beans:[ClipboardService],dependantModules:[EnterpriseCoreModule,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jMC]},__extends$3i=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$2t=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ExpandState;!function(t){t[t.EXPANDED=0]="EXPANDED",t[t.COLLAPSED=1]="COLLAPSED",t[t.INDETERMINATE=2]="INDETERMINATE"}(ExpandState||(ExpandState={}));var PrimaryColsHeaderPanel=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return __extends$3i(e,t),e.prototype.postConstruct=function(){var t=this;this.createExpandIcons(),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eExpand,"keydown",(function(e){e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.SPACE&&(e.preventDefault(),t.onExpandClicked())})),this.addManagedListener(this.eSelect.getInputElement(),"click",this.onSelectClicked.bind(this)),this.eFilterTextField.onValueChange((function(){return t.onFilterTextChanged()})),this.addManagedListener(this.eFilterTextField.getInputElement(),"keypress",this.onMiniFilterKeyPress.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this));var e=this.localeService.getLocaleTextFunc();this.eSelect.setInputAriaLabel(e("ariaColumnSelectAll","Toggle Select All Columns")),this.eFilterTextField.setInputAriaLabel(e("ariaFilterColumnsInput","Filter Columns Input"))},e.prototype.init=function(t){this.params=t,this.columnModel.isReady()&&this.showOrHideOptions()},e.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectOpen",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandUnchecked=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectClosed",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandIndeterminate=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsService)),this.setExpandState(ExpandState.EXPANDED)},e.prototype.showOrHideOptions=function(){var t=!this.params.suppressColumnFilter,e=!this.params.suppressColumnSelectAll,n=!this.params.suppressColumnExpandAll,o=this.columnModel.isPrimaryColumnGroupsPresent(),r=this.localeService.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(r("searchOoo","Search...")),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eFilterTextField.getGui(),t),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eSelect.getGui(),e),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpand,n&&o)},e.prototype.onFilterTextChanged=function(){var t=this;this.onFilterTextChangedDebounced||(this.onFilterTextChangedDebounced=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.debounce((function(){var e=t.eFilterTextField.getValue();t.dispatchEvent({type:"filterChanged",filterText:e})}),e.DEBOUNCE_DELAY)),this.onFilterTextChangedDebounced()},e.prototype.onMiniFilterKeyPress=function(t){var n=this;t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER&&setTimeout((function(){return n.onSelectClicked()}),e.DEBOUNCE_DELAY)},e.prototype.onSelectClicked=function(){this.dispatchEvent({type:this.selectState?"unselectAll":"selectAll"})},e.prototype.onExpandClicked=function(){this.dispatchEvent({type:this.expandState===ExpandState.EXPANDED?"collapseAll":"expandAll"})},e.prototype.setExpandState=function(t){this.expandState=t,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandChecked,this.expandState===ExpandState.EXPANDED),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandUnchecked,this.expandState===ExpandState.COLLAPSED),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandIndeterminate,this.expandState===ExpandState.INDETERMINATE)},e.prototype.setSelectionState=function(t){this.selectState=t,this.eSelect.setValue(this.selectState)},e.DEBOUNCE_DELAY=300,e.TEMPLATE='<div class="ag-column-select-header" role="presentation">\n            <div ref="eExpand" class="ag-column-select-header-icon" tabindex="0"></div>\n            <ag-checkbox ref="eSelect" class="ag-column-select-header-checkbox"></ag-checkbox>\n            <ag-input-text-field class="ag-column-select-header-filter-wrapper" ref="eFilterTextField"></ag-input-text-field>\n        </div>',__decorate$2t([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2t([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eExpand")],e.prototype,"eExpand",void 0),__decorate$2t([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eSelect")],e.prototype,"eSelect",void 0),__decorate$2t([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterTextField")],e.prototype,"eFilterTextField",void 0),__decorate$2t([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),ColumnModelItem=function(){function t(t,e,n,o,r){void 0===o&&(o=!1),this.eventService=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.POd,this.displayName=t,this.dept=n,this.group=o,o?(this.columnGroup=e,this.expanded=r,this.children=[]):this.column=e}return t.prototype.isGroup=function(){return this.group},t.prototype.getDisplayName=function(){return this.displayName},t.prototype.getColumnGroup=function(){return this.columnGroup},t.prototype.getColumn=function(){return this.column},t.prototype.getDept=function(){return this.dept},t.prototype.isExpanded=function(){return!!this.expanded},t.prototype.getChildren=function(){return this.children},t.prototype.isPassesFilter=function(){return this.passesFilter},t.prototype.setExpanded=function(e){e!==this.expanded&&(this.expanded=e,this.eventService.dispatchEvent({type:t.EVENT_EXPANDED_CHANGED}))},t.prototype.setPassesFilter=function(t){this.passesFilter=t},t.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},t.EVENT_EXPANDED_CHANGED="expandedChanged",t}(),__extends$3h=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$2s=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__read$1b=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$J=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$1b(arguments[e]));return t},__values$C=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ToolPanelContextMenu=function(t){function e(e,n,o){var r=t.call(this,'<div class="ag-menu"></div>')||this;return r.column=e,r.mouseEvent=n,r.parentEl=o,r.displayName=null,r}return __extends$3h(e,t),e.prototype.postConstruct=function(){this.initializeProperties(this.column),this.buildMenuItemMap(),this.column instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG?this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnToolPanel"):this.displayName=this.columnModel.getDisplayNameForProvidedColumnGroup(null,this.column,"columnToolPanel"),this.isActive()&&(this.mouseEvent.preventDefault(),this.displayContextMenu())},e.prototype.initializeProperties=function(t){t instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm?this.columns=t.getLeafColumns():this.columns=[t],this.allowGrouping=this.columns.some((function(t){return t.isPrimary()&&t.isAllowRowGroup()})),this.allowValues=this.columns.some((function(t){return t.isPrimary()&&t.isAllowValue()})),this.allowPivoting=this.columnModel.isPivotMode()&&this.columns.some((function(t){return t.isPrimary()&&t.isAllowPivot()}))},e.prototype.buildMenuItemMap=function(){var t=this,e=this.localeService.getLocaleTextFunc();this.menuItemMap=new Map,this.menuItemMap.set("rowGroup",{allowedFunction:function(t){return t.isPrimary()&&t.isAllowRowGroup()},activeFunction:function(t){return t.isRowGroupActive()},activateLabel:function(){return e("groupBy","Group by")+" "+t.displayName},deactivateLabel:function(){return e("ungroupBy","Un-Group by")+" "+t.displayName},activateFunction:function(){var e=t.columnModel.getRowGroupColumns();t.columnModel.setRowGroupColumns(t.addColumnsToList(e),"toolPanelUi")},deActivateFunction:function(){var e=t.columnModel.getRowGroupColumns();t.columnModel.setRowGroupColumns(t.removeColumnsFromList(e),"toolPanelUi")},addIcon:"menuAddRowGroup",removeIcon:"menuRemoveRowGroup"}),this.menuItemMap.set("value",{allowedFunction:function(t){return t.isPrimary()&&t.isAllowValue()},activeFunction:function(t){return t.isValueActive()},activateLabel:function(){return e("addToValues","Add "+t.displayName+" to values",[t.displayName])},deactivateLabel:function(){return e("removeFromValues","Remove "+t.displayName+" from values",[t.displayName])},activateFunction:function(){var e=t.columnModel.getValueColumns();t.columnModel.setValueColumns(t.addColumnsToList(e),"toolPanelUi")},deActivateFunction:function(){var e=t.columnModel.getValueColumns();t.columnModel.setValueColumns(t.removeColumnsFromList(e),"toolPanelUi")},addIcon:"valuePanel",removeIcon:"valuePanel"}),this.menuItemMap.set("pivot",{allowedFunction:function(e){return t.columnModel.isPivotMode()&&e.isPrimary()&&e.isAllowPivot()},activeFunction:function(t){return t.isPivotActive()},activateLabel:function(){return e("addToLabels","Add "+t.displayName+" to labels",[t.displayName])},deactivateLabel:function(){return e("removeFromLabels","Remove "+t.displayName+" from labels",[t.displayName])},activateFunction:function(){var e=t.columnModel.getPivotColumns();t.columnModel.setPivotColumns(t.addColumnsToList(e),"toolPanelUi")},deActivateFunction:function(){var e=t.columnModel.getPivotColumns();t.columnModel.setPivotColumns(t.removeColumnsFromList(e),"toolPanelUi")},addIcon:"pivotPanel",removeIcon:"pivotPanel"})},e.prototype.addColumnsToList=function(t){return __spread$J(t).concat(this.columns.filter((function(e){return-1===t.indexOf(e)})))},e.prototype.removeColumnsFromList=function(t){var e=this;return t.filter((function(t){return-1===e.columns.indexOf(t)}))},e.prototype.displayContextMenu=function(){var t=this,e=this.getGui(),n=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O_3),o=this.getMappedMenuItems(),r=this.localeService.getLocaleTextFunc(),i=function(){};e.appendChild(n.getGui()),n.addMenuItems(o),n.addManagedListener(n,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sJC.EVENT_MENU_ITEM_SELECTED,(function(){t.parentEl.focus(),i()}));var s=this.popupService.addPopup({modal:!0,eChild:e,closeOnEsc:!0,afterGuiAttached:function(){return t.focusService.focusInto(n.getGui())},ariaLabel:r("ariaLabelContextMenu","Context Menu"),closedCallback:function(e){e instanceof KeyboardEvent&&t.parentEl.focus(),t.destroyBean(n)}});s&&(i=s.hideFunc),this.popupService.positionPopupUnderMouseEvent({type:"columnContextMenu",mouseEvent:this.mouseEvent,ePopup:e})},e.prototype.isActive=function(){return this.allowGrouping||this.allowValues||this.allowPivoting},e.prototype.getMappedMenuItems=function(){var t,e,n=[],o=function(t){var e=r.columns.some((function(e){return t.allowedFunction(e)&&!t.activeFunction(e)})),o=r.columns.some((function(e){return t.allowedFunction(e)&&t.activeFunction(e)}));e&&n.push({name:t.activateLabel(r.displayName),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan(t.addIcon,r.gridOptionsService,null),action:function(){return t.activateFunction()}}),o&&n.push({name:t.deactivateLabel(r.displayName),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan(t.removeIcon,r.gridOptionsService,null),action:function(){return t.deActivateFunction()}})},r=this;try{for(var i=__values$C(this.menuItemMap.values()),s=i.next();!s.done;s=i.next()){o(s.value)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return n},__decorate$2s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("popupService")],e.prototype,"popupService",void 0),__decorate$2s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),__decorate$2s([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$3g=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$2r=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ToolPanelColumnGroupComp=function(t){function e(e,n,o,r){var i=t.call(this)||this;return i.modelItem=e,i.allowDragging=n,i.eventType=o,i.focusWrapper=r,i.processingColumnStateChange=!1,i.modelItem=e,i.columnGroup=e.getColumnGroup(),i.columnDept=e.getDept(),i.allowDragging=n,i}return __extends$3g(e,t),e.prototype.init=function(){var t=this;this.setTemplate(e.TEMPLATE),this.eDragHandle=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnDrag",this.gridOptionsService),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-group-drag-handle");var n=this.cbSelect.getGui(),o=this.cbSelect.getInputElement();n.insertAdjacentElement("afterend",this.eDragHandle),o.setAttribute("tabindex","-1"),this.displayName=this.columnModel.getDisplayNameForProvidedColumnGroup(null,this.columnGroup,this.eventType),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(this.displayName)&&(this.displayName=">>"),this.eLabel.innerHTML=this.displayName?this.displayName:"",this.setupExpandContract(),this.addCssClass("ag-column-select-indent-"+this.columnDept),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.addManagedListener(this.cbSelect,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jkc.EVENT_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.modelItem,ColumnModelItem.EVENT_EXPANDED_CHANGED,this.onExpandChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.setOpenClosedIcons(),this.setupDragging(),this.onColumnStateChanged(),this.addVisibilityListenersToAllChildren(),this.refreshAriaExpanded(),this.refreshAriaLabel(),this.setupTooltip(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fQL.getToolPanelClassesFromColDef(this.columnGroup.getColGroupDef(),this.gridOptionsService,null,this.columnGroup).forEach((function(e){return t.addOrRemoveCssClass(e,!0)}))},e.prototype.getColumns=function(){return this.columnGroup.getLeafColumns()},e.prototype.setupTooltip=function(){var t=this,e=this.columnGroup.getColGroupDef();if(e){var n=function(){var n=e.headerTooltip;t.setTooltip(n)};n(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,n)}},e.prototype.getTooltipParams=function(){var e=t.prototype.getTooltipParams.call(this);return e.location="columnToolPanelColumnGroup",e},e.prototype.handleKeyDown=function(t){switch(t.key){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.LEFT:t.preventDefault(),this.modelItem.setExpanded(!1);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.RIGHT:t.preventDefault(),this.modelItem.setExpanded(!0);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.SPACE:t.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected())}},e.prototype.onContextMenu=function(t){var e=this,n=this.columnGroup;if(!this.gridOptionsService.is("functionsReadOnly")){var o=this.createBean(new ToolPanelContextMenu(n,t,this.focusWrapper));this.addDestroyFunc((function(){o.isAlive()&&e.destroyBean(o)}))}},e.prototype.addVisibilityListenersToAllChildren=function(){var t=this;this.columnGroup.getLeafColumns().forEach((function(e){t.addManagedListener(e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_VISIBLE_CHANGED,t.onColumnStateChanged.bind(t)),t.addManagedListener(e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_VALUE_CHANGED,t.onColumnStateChanged.bind(t)),t.addManagedListener(e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_PIVOT_CHANGED,t.onColumnStateChanged.bind(t)),t.addManagedListener(e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_ROW_GROUP_CHANGED,t.onColumnStateChanged.bind(t))}))},e.prototype.setupDragging=function(){var t=this;if(this.allowDragging){var e=!this.gridOptionsService.is("suppressDragLeaveHidesColumns"),n={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,defaultIconName:e?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_HIDE:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_NOT_ALLOWED,getDragItem:function(){return t.createDragItem()},onDragStarted:function(){var e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:t.columnGroup};t.eventService.dispatchEvent(e)},onDragStopped:function(){var e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_END};t.eventService.dispatchEvent(e)},onGridEnter:function(){e&&t.onChangeCommon(!0)},onGridExit:function(){e&&t.onChangeCommon(!1)}};this.dragAndDropService.addDragSource(n,!0),this.addDestroyFunc((function(){return t.dragAndDropService.removeDragSource(n)}))}else ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eDragHandle,!1)},e.prototype.createDragItem=function(){var t={};return this.columnGroup.getLeafColumns().forEach((function(e){t[e.getId()]=e.isVisible()})),{columns:this.columnGroup.getLeafColumns(),visibleState:t}},e.prototype.setupExpandContract=function(){this.eGroupClosedIcon.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIcon("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIcon("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eGroupClosedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.addManagedListener(this.eGroupOpenedIcon,"click",this.onExpandOrContractClicked.bind(this));var t=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rwP(this.eColumnGroupIcons,!0);this.addManagedListener(t,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rwP.EVENT_TAP,this.onExpandOrContractClicked.bind(this)),this.addDestroyFunc(t.destroy.bind(t))},e.prototype.onLabelClicked=function(){var t=!this.cbSelect.getValue();this.onChangeCommon(t)},e.prototype.onCheckboxChanged=function(t){this.onChangeCommon(t.selected)},e.prototype.getVisibleLeafColumns=function(){var t=[],e=function(n){n.forEach((function(n){n.isPassesFilter()&&(n.isGroup()?e(n.getChildren()):t.push(n.getColumn()))}))};return e(this.modelItem.getChildren()),t},e.prototype.onChangeCommon=function(t){this.refreshAriaLabel(),this.processingColumnStateChange||this.modelItemUtils.selectAllChildren(this.modelItem.getChildren(),t,this.eventType)},e.prototype.refreshAriaLabel=function(){var t=this.localeService.getLocaleTextFunc(),e=t("ariaColumnGroup","Column Group"),n=this.cbSelect.getValue(),o=void 0===n?t("ariaIndeterminate","indeterminate"):n?t("ariaVisible","visible"):t("ariaHidden","hidden"),r=t("ariaToggleVisibility","Press SPACE to toggle visibility");ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLabel(this.focusWrapper,this.displayName+" "+e),this.cbSelect.setInputAriaLabel(r+" ("+o+")"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)},e.prototype.onColumnStateChanged=function(){var t=this.workOutSelectedValue(),e=this.workOutReadOnlyValue();this.processingColumnStateChange=!0,this.cbSelect.setValue(t),this.cbSelect.setReadOnly(e),this.addOrRemoveCssClass("ag-column-select-column-group-readonly",e),this.processingColumnStateChange=!1},e.prototype.workOutSelectedValue=function(){var t=this,e=this.columnModel.isPivotMode(),n=this.getVisibleLeafColumns(),o=0,r=0;if(n.forEach((function(n){!e&&n.getColDef().lockVisible||(t.isColumnChecked(n,e)?o++:r++)})),!(o>0&&r>0))return o>0},e.prototype.workOutReadOnlyValue=function(){var t=this.columnModel.isPivotMode(),e=0;return this.columnGroup.getLeafColumns().forEach((function(n){t?n.isAnyFunctionAllowed()&&e++:n.getColDef().lockVisible||e++})),0===e},e.prototype.isColumnChecked=function(t,e){if(e){var n=t.isPivotActive(),o=t.isRowGroupActive(),r=t.isValueActive();return n||o||r}return t.isVisible()},e.prototype.onExpandOrContractClicked=function(){var t=this.modelItem.isExpanded();this.modelItem.setExpanded(!t)},e.prototype.onExpandChanged=function(){this.setOpenClosedIcons(),this.refreshAriaExpanded()},e.prototype.setOpenClosedIcons=function(){var t=this.modelItem.isExpanded();ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupClosedIcon,!t),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupOpenedIcon,t)},e.prototype.refreshAriaExpanded=function(){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaExpanded(this.focusWrapper,this.modelItem.isExpanded())},e.prototype.getDisplayName=function(){return this.displayName},e.prototype.onSelectAllChanged=function(t){var e=this.cbSelect.getValue();!this.cbSelect.isReadOnly()&&(t&&!e||!t&&e)&&this.cbSelect.toggle()},e.prototype.isSelected=function(){return this.cbSelect.getValue()},e.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},e.prototype.setSelected=function(t){this.cbSelect.setValue(t,!0)},e.TEMPLATE='<div class="ag-column-select-column-group" aria-hidden="true">\n            <span class="ag-column-group-icons" ref="eColumnGroupIcons" >\n                <span class="ag-column-group-closed-icon" ref="eGroupClosedIcon"></span>\n                <span class="ag-column-group-opened-icon" ref="eGroupOpenedIcon"></span>\n            </span>\n            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>\n            <span class="ag-column-select-column-label" ref="eLabel"></span>\n        </div>',__decorate$2r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],e.prototype,"dragAndDropService",void 0),__decorate$2r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("modelItemUtils")],e.prototype,"modelItemUtils",void 0),__decorate$2r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("cbSelect")],e.prototype,"cbSelect",void 0),__decorate$2r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eLabel")],e.prototype,"eLabel",void 0),__decorate$2r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eGroupOpenedIcon")],e.prototype,"eGroupOpenedIcon",void 0),__decorate$2r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eGroupClosedIcon")],e.prototype,"eGroupClosedIcon",void 0),__decorate$2r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eColumnGroupIcons")],e.prototype,"eColumnGroupIcons",void 0),__decorate$2r([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$3f=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$2q=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},PRIMARY_COLS_LIST_ITEM_HOVERED="ag-list-item-hovered",PrimaryColsListPanelItemDragFeature=function(t){function e(e,n){var o=t.call(this)||this;return o.comp=e,o.virtualList=n,o.currentDragColumn=null,o.lastHoveredColumnItem=null,o}return __extends$3f(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_START,this.columnPanelItemDragStart.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_END,this.columnPanelItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()},e.prototype.columnPanelItemDragStart=function(t){var e=t.column;this.currentDragColumn=e,this.getCurrentColumns().find((function(t){var e=t.getColDef();return!!e.suppressMovable||!!e.lockPosition}))&&(this.moveBlocked=!0)},e.prototype.columnPanelItemDragEnd=function(){var t=this;window.setTimeout((function(){t.currentDragColumn=null,t.moveBlocked=!1}),10)},e.prototype.createDropTarget=function(){var t=this,e={isInterestedIn:function(t){return t===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ToolPanel},getIconName:function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB[t.moveBlocked?"ICON_NOT_ALLOWED":"ICON_MOVE"]},getContainer:function(){return t.comp.getGui()},onDragging:function(e){return t.onDragging(e)},onDragStop:function(){return t.onDragStop()},onDragLeave:function(){return t.onDragLeave()}};this.dragAndDropService.addDropTarget(e)},e.prototype.createAutoScrollService=function(){var t=this.virtualList.getGui();this.autoScrollService=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Cvn({scrollContainer:t,scrollAxis:"y",getVerticalPosition:function(){return t.scrollTop},setVerticalPosition:function(e){return t.scrollTop=e}})},e.prototype.onDragging=function(t){if(this.currentDragColumn&&!this.moveBlocked){var e=this.getDragColumnItem(t),n=this.virtualList.getComponentAt(e.rowIndex);if(n){var o=n.getGui().parentElement;this.lastHoveredColumnItem&&this.lastHoveredColumnItem.rowIndex===e.rowIndex&&this.lastHoveredColumnItem.position===e.position||(this.autoScrollService.check(t.event),this.clearHoveredItems(),this.lastHoveredColumnItem=e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.radioCssClass(o,""+PRIMARY_COLS_LIST_ITEM_HOVERED),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.radioCssClass(o,"ag-item-highlight-"+e.position))}}},e.prototype.getDragColumnItem=function(t){var e=this.virtualList.getGui(),n=parseFloat(window.getComputedStyle(e).paddingTop),o=this.virtualList.getRowHeight(),r=this.virtualList.getScrollTop(),i=Math.max(0,(t.y-n+r)/o),s=this.comp.getDisplayedColsList().length-1,a=0|Math.min(s,i);return{rowIndex:a,position:Math.round(i)>i||i>s?"bottom":"top",component:this.virtualList.getComponentAt(a)}},e.prototype.onDragStop=function(){if(!this.moveBlocked){var t=this.getTargetIndex(),e=this.getCurrentColumns();null!=t&&this.columnModel.moveColumns(e,t,"toolPanelUi"),this.clearHoveredItems(),this.autoScrollService.ensureCleared()}},e.prototype.getMoveDiff=function(t){var e=this.columnModel.getAllGridColumns(),n=this.getCurrentColumns(),o=n[0],r=n.length;return e.indexOf(o)<t?r:0},e.prototype.getCurrentColumns=function(){return this.currentDragColumn instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm?this.currentDragColumn.getLeafColumns():[this.currentDragColumn]},e.prototype.getTargetIndex=function(){if(!this.lastHoveredColumnItem)return null;var t,e=this.lastHoveredColumnItem.component,n="top"===this.lastHoveredColumnItem.position;e instanceof ToolPanelColumnGroupComp?(t=e.getColumns()[0],n=!0):t=e.getColumn();var o=this.columnModel.getAllGridColumns().indexOf(t),r=n?o:o+1;return r-this.getMoveDiff(r)},e.prototype.onDragLeave=function(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()},e.prototype.clearHoveredItems=function(){this.virtualList.getGui().querySelectorAll("."+PRIMARY_COLS_LIST_ITEM_HOVERED).forEach((function(t){[PRIMARY_COLS_LIST_ITEM_HOVERED,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach((function(e){t.classList.remove(e)}))})),this.lastHoveredColumnItem=null},__decorate$2q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],e.prototype,"dragAndDropService",void 0),__decorate$2q([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$3e=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$2p=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ToolPanelColumnComp=function(t){function e(e,n,o,r,i){var s=t.call(this)||this;return s.column=e,s.columnDept=n,s.allowDragging=o,s.groupsExist=r,s.focusWrapper=i,s.processingColumnStateChange=!1,s}return __extends$3e(e,t),e.prototype.init=function(){var t=this;this.setTemplate(e.TEMPLATE),this.eDragHandle=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnDrag",this.gridOptionsService),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-drag-handle");var n=this.cbSelect.getGui(),o=this.cbSelect.getInputElement();n.insertAdjacentElement("afterend",this.eDragHandle),o.setAttribute("tabindex","-1"),this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnToolPanel");var r=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(this.displayName);this.eLabel.innerHTML=r;var i=this.columnDept;this.groupsExist&&this.addCssClass("ag-column-select-add-group-indent"),this.addCssClass("ag-column-select-indent-"+i),this.setupDragging(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_VALUE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_PIVOT_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_ROW_GROUP_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_VISIBLE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.addManagedPropertyListener("functionsReadOnly",this.onColumnStateChanged.bind(this)),this.addManagedListener(this.cbSelect,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jkc.EVENT_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.onColumnStateChanged(),this.refreshAriaLabel(),this.setupTooltip(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fQL.getToolPanelClassesFromColDef(this.column.getColDef(),this.gridOptionsService,this.column,null).forEach((function(e){return t.addOrRemoveCssClass(e,!0)}))},e.prototype.getColumn=function(){return this.column},e.prototype.setupTooltip=function(){var t=this,e=function(){var e=t.column.getColDef().headerTooltip;t.setTooltip(e)};e(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,e)},e.prototype.getTooltipParams=function(){var e=t.prototype.getTooltipParams.call(this);return e.location="columnToolPanelColumn",e.colDef=this.column.getColDef(),e},e.prototype.onContextMenu=function(t){var e=this,n=this.column;if(!this.gridOptionsService.is("functionsReadOnly")){var o=this.createBean(new ToolPanelContextMenu(n,t,this.focusWrapper));this.addDestroyFunc((function(){o.isAlive()&&e.destroyBean(o)}))}},e.prototype.handleKeyDown=function(t){t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.SPACE&&(t.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected()))},e.prototype.onLabelClicked=function(){if(!this.gridOptionsService.is("functionsReadOnly")){var t=!this.cbSelect.getValue();this.onChangeCommon(t)}},e.prototype.onCheckboxChanged=function(t){this.onChangeCommon(t.selected)},e.prototype.onChangeCommon=function(t){this.cbSelect.isReadOnly()||(this.refreshAriaLabel(),this.processingColumnStateChange||this.modelItemUtils.setColumn(this.column,t,"toolPanelUi"))},e.prototype.refreshAriaLabel=function(){var t=this.localeService.getLocaleTextFunc(),e=t("ariaColumn","Column"),n=this.cbSelect.getValue()?t("ariaVisible","visible"):t("ariaHidden","hidden"),o=t("ariaToggleVisibility","Press SPACE to toggle visibility");ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLabel(this.focusWrapper,this.displayName+" "+e),this.cbSelect.setInputAriaLabel(o+" ("+n+")"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)},e.prototype.setupDragging=function(){var t=this;if(this.allowDragging){var e=!this.gridOptionsService.is("suppressDragLeaveHidesColumns"),n={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,defaultIconName:e?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_HIDE:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_NOT_ALLOWED,getDragItem:function(){return t.createDragItem()},onDragStarted:function(){var e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:t.column};t.eventService.dispatchEvent(e)},onDragStopped:function(){var e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_END};t.eventService.dispatchEvent(e)},onGridEnter:function(){e&&t.onChangeCommon(!0)},onGridExit:function(){e&&t.onChangeCommon(!1)}};this.dragAndDropService.addDragSource(n,!0),this.addDestroyFunc((function(){return t.dragAndDropService.removeDragSource(n)}))}else ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eDragHandle,!1)},e.prototype.createDragItem=function(){var t={};return t[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:t}},e.prototype.onColumnStateChanged=function(){this.processingColumnStateChange=!0;var t=this.columnModel.isPivotMode();if(t){var e=this.column.isAnyFunctionActive();this.cbSelect.setValue(e)}else this.cbSelect.setValue(this.column.isVisible());var n=!0,o=!0;if(t){var r=this.gridOptionsService.is("functionsReadOnly"),i=!this.column.isAnyFunctionAllowed();o=n=!r&&!i}else{var s=this.column.getColDef(),a=s.enableRowGroup,l=s.enableValue,c=s.lockPosition,u=s.suppressMovable;n=!s.lockVisible,o=!!a||!!l||!(!!c||!!u)}this.cbSelect.setReadOnly(!n),this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!o),this.addOrRemoveCssClass("ag-column-select-column-readonly",!o&&!n);var d=t&&this.gridOptionsService.is("functionsPassive");this.cbSelect.setPassive(d),this.processingColumnStateChange=!1},e.prototype.getDisplayName=function(){return this.displayName},e.prototype.onSelectAllChanged=function(t){t!==this.cbSelect.getValue()&&(this.cbSelect.isReadOnly()||this.cbSelect.toggle())},e.prototype.isSelected=function(){return this.cbSelect.getValue()},e.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},e.prototype.isExpandable=function(){return!1},e.prototype.setExpanded=function(t){console.warn("AG Grid: can not expand a column item that does not represent a column group header")},e.TEMPLATE='<div class="ag-column-select-column" aria-hidden="true">\n            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>\n            <span class="ag-column-select-column-label" ref="eLabel"></span>\n        </div>',__decorate$2p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],e.prototype,"dragAndDropService",void 0),__decorate$2p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("modelItemUtils")],e.prototype,"modelItemUtils",void 0),__decorate$2p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eLabel")],e.prototype,"eLabel",void 0),__decorate$2p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("cbSelect")],e.prototype,"cbSelect",void 0),__decorate$2p([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$3d=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$2o=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},UIColumnModel=function(){function t(t){this.items=t}return t.prototype.getRowCount=function(){return this.items.length},t.prototype.getRow=function(t){return this.items[t]},t}(),PRIMARY_COLS_LIST_PANEL_CLASS="ag-column-select-list",PrimaryColsListPanel=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.destroyColumnItemFuncs=[],n}return __extends$3d(e,t),e.prototype.destroyColumnTree=function(){this.allColsTree=[],this.destroyColumnItemFuncs.forEach((function(t){return t()})),this.destroyColumnItemFuncs=[]},e.prototype.init=function(t,e,n){var o=this;this.params=t,this.allowDragging=e,this.eventType=n,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_MOVED,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.onColumnsChanged.bind(this)),[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_CHANGED,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VALUE_CHANGED,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VISIBLE,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED].forEach((function(t){o.addManagedListener(o.eventService,t,o.fireSelectionChangedEvent.bind(o))})),this.expandGroupsByDefault=!this.params.contractColumnSelection;var r=this.localeService.getLocaleTextFunc()("ariaColumnList","Column List");this.virtualList=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CPJ("column-select","tree",r)),this.appendChild(this.virtualList.getGui()),this.virtualList.setComponentCreator((function(t,e){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLevel(e,t.getDept()+1),o.createComponentFromItem(t,e)})),this.columnModel.isReady()&&this.onColumnsChanged(),t.suppressColumnMove||this.gridOptionsService.is("suppressMovableColumns")||this.createManagedBean(new PrimaryColsListPanelItemDragFeature(this,this.virtualList))},e.prototype.createComponentFromItem=function(t,e){if(t.isGroup()){var n=new ToolPanelColumnGroupComp(t,this.allowDragging,this.eventType,e);return this.getContext().createBean(n),n}var o=new ToolPanelColumnComp(t.getColumn(),t.getDept(),this.allowDragging,this.groupsExist,e);return this.getContext().createBean(o),o},e.prototype.onColumnsChanged=function(){var t=this.getExpandedStates(),e=this.columnModel.isPivotMode();!this.params.suppressSyncLayoutWithGrid&&!e?this.buildTreeFromWhatGridIsDisplaying():this.buildTreeFromProvidedColumnDefs(),this.setExpandedStates(t),this.markFilteredColumns(),this.flattenAndFilterModel()},e.prototype.getDisplayedColsList=function(){return this.displayedColsList},e.prototype.getExpandedStates=function(){if(!this.allColsTree)return{};var t={};return this.forEachItem((function(e){if(e.isGroup()){var n=e.getColumnGroup();n&&(t[n.getId()]=e.isExpanded())}})),t},e.prototype.setExpandedStates=function(t){this.allColsTree&&this.forEachItem((function(e){if(e.isGroup()){var n=e.getColumnGroup();if(n){var o=t[n.getId()];null!=o&&e.setExpanded(o)}}}))},e.prototype.buildTreeFromWhatGridIsDisplaying=function(){this.colDefService.syncLayoutWithGrid(this.setColumnLayout.bind(this))},e.prototype.setColumnLayout=function(t){var e=this.colDefService.createColumnTree(t);this.buildListModel(e),this.groupsExist=t.some((function(t){return t&&void 0!==t.children})),this.markFilteredColumns(),this.flattenAndFilterModel()},e.prototype.buildTreeFromProvidedColumnDefs=function(){this.buildListModel(this.columnModel.getPrimaryColumnTree()),this.groupsExist=this.columnModel.isPrimaryColumnGroupsPresent()},e.prototype.buildListModel=function(t){var e=this,n=this.onColumnExpanded.bind(this),o=function(t,e,n){t.forEach((function(t){t instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm?r(t,e,n):i(t,e,n)}))},r=function(t,r,i){var s=t.getColGroupDef();if(!(s&&s.suppressColumnsToolPanel))if(t.isPadding())o(t.getChildren(),r,i);else{var a=e.columnModel.getDisplayNameForProvidedColumnGroup(null,t,e.eventType),l=new ColumnModelItem(a,t,r,!0,e.expandGroupsByDefault);i.push(l),function(t){t.addEventListener(ColumnModelItem.EVENT_EXPANDED_CHANGED,n);var o=t.removeEventListener.bind(t,ColumnModelItem.EVENT_EXPANDED_CHANGED,n);e.destroyColumnItemFuncs.push(o)}(l),o(t.getChildren(),r+1,l.getChildren())}},i=function(t,n,o){if(!(t.getColDef()&&t.getColDef().suppressColumnsToolPanel)){var r=e.columnModel.getDisplayNameForColumn(t,"columnToolPanel");o.push(new ColumnModelItem(r,t,n))}};this.destroyColumnTree(),o(t,0,this.allColsTree)},e.prototype.onColumnExpanded=function(){this.flattenAndFilterModel()},e.prototype.flattenAndFilterModel=function(){var t=this;this.displayedColsList=[];var e=function(n){n.isPassesFilter()&&(t.displayedColsList.push(n),n.isGroup()&&n.isExpanded()&&n.getChildren().forEach(e))};this.allColsTree.forEach(e),this.virtualList.setModel(new UIColumnModel(this.displayedColsList));var n=this.virtualList.getLastFocusedRow();this.virtualList.refresh(),null!=n&&this.focusRowIfAlive(n),this.notifyListeners()},e.prototype.focusRowIfAlive=function(t){var e=this;window.setTimeout((function(){e.isAlive()&&e.virtualList.focusRow(t)}),0)},e.prototype.forEachItem=function(t){var e=function(n){n.forEach((function(n){t(n),n.isGroup()&&e(n.getChildren())}))};e(this.allColsTree)},e.prototype.doSetExpandedAll=function(t){this.forEachItem((function(e){e.isGroup()&&e.setExpanded(t)}))},e.prototype.setGroupsExpanded=function(t,e){if(e){var n=[];this.forEachItem((function(o){if(o.isGroup()){var r=o.getColumnGroup().getId();e.indexOf(r)>=0&&(o.setExpanded(t),n.push(r))}}));var o=e.filter((function(t){return!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(n,t)}));o.length>0&&console.warn("AG Grid: unable to find group(s) for supplied groupIds:",o)}else this.doSetExpandedAll(t)},e.prototype.getExpandState=function(){var t=0,e=0;return this.forEachItem((function(n){n.isGroup()&&(n.isExpanded()?t++:e++)})),t>0&&e>0?ExpandState.INDETERMINATE:e>0?ExpandState.COLLAPSED:ExpandState.EXPANDED},e.prototype.doSetSelectedAll=function(t){this.modelItemUtils.selectAllChildren(this.allColsTree,t,this.eventType)},e.prototype.getSelectionState=function(){var t=0,e=0,n=this.columnModel.isPivotMode();if(this.forEachItem((function(o){if(!o.isGroup()&&o.isPassesFilter()){var r,i=o.getColumn(),s=i.getColDef();if(n){if(!i.isAllowPivot()&&!i.isAllowRowGroup()&&!i.isAllowValue())return;r=i.isValueActive()||i.isPivotActive()||i.isRowGroupActive()}else{if(s.lockVisible)return;r=i.isVisible()}r?t++:e++}})),!(t>0&&e>0))return!(0===t||e>0)},e.prototype.setFilterText=function(t){this.filterText=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t)?t.toLowerCase():null,this.markFilteredColumns(),this.flattenAndFilterModel()},e.prototype.markFilteredColumns=function(){var t=this,e=function(e){if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t.filterText))return!0;var n=e.getDisplayName();return null==n||-1!==n.toLowerCase().indexOf(t.filterText)},n=function(t,o){var r=!1;if(t.isGroup()){var i=e(t);t.getChildren().forEach((function(t){var e=n(t,i||o);e&&(r=e)}))}var s=!(!o&&!r)||e(t);return t.setPassesFilter(s),s};this.allColsTree.forEach((function(t){return n(t,!1)}))},e.prototype.notifyListeners=function(){this.fireGroupExpandedEvent(),this.fireSelectionChangedEvent()},e.prototype.fireGroupExpandedEvent=function(){var t=this.getExpandState();this.dispatchEvent({type:"groupExpanded",state:t})},e.prototype.fireSelectionChangedEvent=function(){var t=this.getSelectionState();this.dispatchEvent({type:"selectionChanged",state:t})},e.TEMPLATE='<div class="'+PRIMARY_COLS_LIST_PANEL_CLASS+'" role="presentation"></div>',__decorate$2o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("toolPanelColDefService")],e.prototype,"colDefService",void 0),__decorate$2o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("modelItemUtils")],e.prototype,"modelItemUtils",void 0),__decorate$2o([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],e.prototype,"destroyColumnTree",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$3c=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$2n=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},PivotModePanel=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$3c(e,t),e.prototype.createTemplate=function(){return'<div class="ag-pivot-mode-panel">\n                <ag-toggle-button ref="cbPivotMode" class="ag-pivot-mode-select"></ag-toggle-button>\n            </div>'},e.prototype.init=function(){this.setTemplate(this.createTemplate()),this.cbPivotMode.setValue(this.columnModel.isPivotMode());var t=this.localeService.getLocaleTextFunc();this.cbPivotMode.setLabel(t("pivotMode","Pivot Mode")),this.addManagedListener(this.cbPivotMode,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jkc.EVENT_CHANGED,this.onBtPivotMode.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this))},e.prototype.onBtPivotMode=function(){var t=!!this.cbPivotMode.getValue();if(t!==this.columnModel.isPivotMode()){this.columnModel.setPivotMode(t,"toolPanelUi");var e=this.gridOptionsService.api;e&&e.refreshHeader()}},e.prototype.onPivotModeChanged=function(){var t=this.columnModel.isPivotMode();this.cbPivotMode.setValue(t)},__decorate$2n([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2n([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("cbPivotMode")],e.prototype,"cbPivotMode",void 0),__decorate$2n([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$j7],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$3b=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$2m=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},AggregationStage=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$3b(e,t),e.prototype.execute=function(t){var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missingOrEmpty(this.columnModel.getValueColumns()),n=!this.getGroupRowAggFunc(),o=t.changedPath&&t.changedPath.isActive();if(!(e&&n&&o)){var r=this.createAggDetails(t);this.recursivelyCreateAggData(r)}},e.prototype.getGroupRowAggFunc=function(){var t=this.gridOptionsService.getCallback("getGroupRowAgg");if(t)return t;var e=this.gridOptionsService.get("groupRowAggNodes");return e?function(t){return e(t.nodes)}:void 0},e.prototype.createAggDetails=function(t){var e=this.columnModel.isPivotActive(),n=this.columnModel.getValueColumns(),o=e?this.columnModel.getPivotColumns():[];return{changedPath:t.changedPath,valueColumns:n,pivotColumns:o}},e.prototype.isSuppressAggFilteredOnly=function(){return void 0!==this.gridOptionsService.getGroupAggFiltering()||this.gridOptionsService.is("suppressAggFilteredOnly")},e.prototype.recursivelyCreateAggData=function(t){var e=this;this.filteredOnly=!this.isSuppressAggFilteredOnly();t.changedPath.forEachChangedNodeDepthFirst((function(n){if(!n.hasChildren())n.aggData&&n.setAggData(null);else{if(-1===n.level){var o=!e.columnModel.isPivotMode();if(e.gridOptionsService.is("suppressAggAtRootLevel")&&o)return}e.aggregateRowNode(n,t)}}),!0)},e.prototype.aggregateRowNode=function(t,e){var n,o=0===e.valueColumns.length,r=0===e.pivotColumns.length,i=this.getGroupRowAggFunc();i?n=i({nodes:t.childrenAfterFilter}):n=o?null:r?this.aggregateRowNodeUsingValuesOnly(t,e):this.aggregateRowNodeUsingValuesAndPivot(t);t.setAggData(n),t.sibling&&t.sibling.setAggData(n)},e.prototype.aggregateRowNodeUsingValuesAndPivot=function(t){var e,n=this,o={},r=null!==(e=this.columnModel.getSecondaryColumns())&&void 0!==e?e:[];return r.forEach((function(e){var r=e.getColDef(),i=r.pivotValueColumn,s=r.pivotTotalColumnIds,a=r.colId,l=r.pivotKeys;if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(s)){var c,u=null!=l?l:[];c=t.leafGroup?n.getValuesFromMappedSet(t.childrenMapped,u,i):n.getValuesPivotNonLeaf(t,a),o[a]=n.aggregateValues(c,i.getAggFunc(),i,t,e)}})),r.forEach((function(e){var r=e.getColDef(),i=r.pivotValueColumn,s=r.pivotTotalColumnIds,a=r.colId;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(s)){var l=[];s&&s.length&&(s.forEach((function(t){l.push(o[t])})),o[a]=n.aggregateValues(l,i.getAggFunc(),i,t,e))}})),o},e.prototype.aggregateRowNodeUsingValuesOnly=function(t,e){var n=this,o={},r=e.changedPath.isActive()?e.changedPath.getValueColumnsForNode(t,e.valueColumns):e.valueColumns,i=e.changedPath.isActive()?e.changedPath.getNotValueColumnsForNode(t,e.valueColumns):null,s=this.getValuesNormal(t,r),a=t.aggData;return r.forEach((function(e,r){o[e.getId()]=n.aggregateValues(s[r],e.getAggFunc(),e,t)})),i&&a&&i.forEach((function(t){o[t.getId()]=a[t.getId()]})),o},e.prototype.getValuesPivotNonLeaf=function(t,e){var n=[];return t.childrenAfterFilter.forEach((function(t){var o=t.aggData[e];n.push(o)})),n},e.prototype.getValuesFromMappedSet=function(t,e,n){var o=this,r=t;if(e.forEach((function(t){return r=r?r[t]:null})),!r)return[];var i=[];return r.forEach((function(t){var e=o.valueService.getValue(n,t);i.push(e)})),i},e.prototype.getValuesNormal=function(t,e){var n=[];e.forEach((function(){return n.push([])}));for(var o=e.length,r=this.filteredOnly?t.childrenAfterFilter:t.childrenAfterGroup,i=r.length,s=0;s<i;s++)for(var a=r[s],l=0;l<o;l++){var c=e[l],u=this.valueService.getValue(c,a);n[l].push(u)}return n},e.prototype.aggregateValues=function(t,e,n,o,r){var i="string"==typeof e?this.aggFuncService.getAggFunc(e):e;return"function"!=typeof i?(console.error("AG Grid: unrecognised aggregation function "+e),null):i({values:t,column:n,colDef:n?n.getColDef():void 0,pivotResultColumn:r,rowNode:o,data:o?o.data:void 0,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context})},__decorate$2m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),__decorate$2m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("aggFuncService")],e.prototype,"aggFuncService",void 0),__decorate$2m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$2m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],e.prototype,"columnApi",void 0),e=__decorate$2m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("aggregationStage")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),BatchRemover=function(){function t(){this.allSets={},this.allParents=[]}return t.prototype.removeFromChildrenAfterGroup=function(t,e){this.getSet(t).removeFromChildrenAfterGroup[e.id]=!0},t.prototype.isRemoveFromAllLeafChildren=function(t,e){return!!this.getSet(t).removeFromAllLeafChildren[e.id]},t.prototype.preventRemoveFromAllLeafChildren=function(t,e){delete this.getSet(t).removeFromAllLeafChildren[e.id]},t.prototype.removeFromAllLeafChildren=function(t,e){this.getSet(t).removeFromAllLeafChildren[e.id]=!0},t.prototype.getSet=function(t){return this.allSets[t.id]||(this.allSets[t.id]={removeFromAllLeafChildren:{},removeFromChildrenAfterGroup:{}},this.allParents.push(t)),this.allSets[t.id]},t.prototype.getAllParents=function(){return this.allParents},t.prototype.flush=function(){var t=this;this.allParents.forEach((function(e){var n=t.allSets[e.id];e.childrenAfterGroup=e.childrenAfterGroup.filter((function(t){return!n.removeFromChildrenAfterGroup[t.id]})),e.allLeafChildren=e.allLeafChildren.filter((function(t){return!n.removeFromAllLeafChildren[t.id]})),e.updateHasChildren(),e.sibling&&(e.sibling.childrenAfterGroup=e.childrenAfterGroup,e.sibling.allLeafChildren=e.allLeafChildren)})),this.allSets={},this.allParents.length=0},t}(),__extends$3a=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$2l=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__read$1a=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$I=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$1a(arguments[e]));return t},GroupStage=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.groupIdSequence=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1,e}return __extends$3a(e,t),e.prototype.postConstruct=function(){this.usingTreeData=this.gridOptionsService.isTreeData(),this.usingTreeData&&(this.getDataPath=this.gridOptionsService.get("getDataPath"))},e.prototype.execute=function(t){var e=this.createGroupingDetails(t);if(e.transactions)this.handleTransaction(e);else{var n=!0===t.afterColumnsChanged;this.shotgunResetEverything(e,n)}this.positionLeafsAndGroups(t.changedPath),this.orderGroups(e.rootNode),this.selectableService.updateSelectableAfterGrouping(e.rootNode)},e.prototype.positionLeafsAndGroups=function(t){this.usingTreeData||t.forEachChangedNodeDepthFirst((function(t){if(t.childrenAfterGroup){var e,n=[],o=[];t.childrenAfterGroup.forEach((function(t){var r;(null===(r=t.childrenAfterGroup)||void 0===r?void 0:r.length)?""!==t.key||e?o.push(t):e=t:n.push(t)})),e&&o.push(e),t.childrenAfterGroup=__spread$I(n,o)}}),!1)},e.prototype.createGroupingDetails=function(t){var e=t.rowNode,n=t.changedPath,o=t.rowNodeTransactions,r=t.rowNodeOrder,i=this.usingTreeData?null:this.columnModel.getRowGroupColumns();return{includeParents:!this.gridOptionsService.is("suppressParentsInRowNodes"),expandByDefault:this.gridOptionsService.getNum("groupDefaultExpanded"),groupedCols:i,rootNode:e,pivotMode:this.columnModel.isPivotMode(),groupedColCount:this.usingTreeData||!i?0:i.length,rowNodeOrder:r,transactions:o,changedPath:n}},e.prototype.handleTransaction=function(t){var e=this;t.transactions.forEach((function(n){var o=e.usingTreeData?void 0:new BatchRemover;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.existsAndNotEmpty(n.remove)&&e.removeNodes(n.remove,t,o),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.existsAndNotEmpty(n.update)&&e.moveNodesInWrongPath(n.update,t,o),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.existsAndNotEmpty(n.add)&&e.insertNodes(n.add,t,!1),o){var r=o.getAllParents().slice();o.flush(),e.removeEmptyGroups(r,t)}})),t.rowNodeOrder&&this.sortChildren(t)},e.prototype.sortChildren=function(t){t.changedPath.forEachChangedNodeDepthFirst((function(e){e.childrenAfterGroup&&(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.sortRowNodesByOrder(e.childrenAfterGroup,t.rowNodeOrder)&&t.changedPath.addParentNode(e))}),!1,!0)},e.prototype.orderGroups=function(t){if(!this.usingTreeData){var e=this.getInitialGroupOrderComparator();ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e)&&function t(n){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(n.childrenAfterGroup)&&!n.leafGroup&&(n.childrenAfterGroup.sort((function(t,n){return e({nodeA:t,nodeB:n})})),n.childrenAfterGroup.forEach((function(e){return t(e)})))}(t)}},e.prototype.getInitialGroupOrderComparator=function(){var t=this.gridOptionsService.getCallback("initialGroupOrderComparator");if(t)return t;var e=this.gridOptionsService.get("defaultGroupOrderComparator");return e?function(t){return e(t.nodeA,t.nodeB)}:void 0},e.prototype.getExistingPathForNode=function(t,e){for(var n=[],o=this.usingTreeData?t:t.parent;o&&o!==e.rootNode;)n.push({key:o.key,rowGroupColumn:o.rowGroupColumn,field:o.field}),o=o.parent;return n.reverse(),n},e.prototype.moveNodesInWrongPath=function(t,e,n){var o=this;t.forEach((function(t){e.changedPath.isActive()&&e.changedPath.addParentNode(t.parent);var r=function(t){return t.key},i=o.getExistingPathForNode(t,e).map(r),s=o.getGroupInfo(t,e).map(r);ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.areEqual(i,s)||o.moveNode(t,e,n)}))},e.prototype.moveNode=function(t,e,n){if(this.removeNodesInStages([t],e,n),this.insertOneNode(t,e,!0,n),t.setData(t.data),e.changedPath.isActive()){var o=t.parent;e.changedPath.addParentNode(o)}},e.prototype.removeNodes=function(t,e,n){this.removeNodesInStages(t,e,n),e.changedPath.isActive()&&t.forEach((function(t){return e.changedPath.addParentNode(t.parent)}))},e.prototype.removeNodesInStages=function(t,e,n){if(this.removeNodesFromParents(t,e,n),this.usingTreeData){this.postRemoveCreateFillerNodes(t,e);var o=t.map((function(t){return t.parent}));this.removeEmptyGroups(o,e)}},e.prototype.forEachParentGroup=function(t,e,n){for(var o=e;o&&o!==t.rootNode;)n(o),o=o.parent},e.prototype.removeNodesFromParents=function(t,e,n){var o=this,r=null==n,i=n||new BatchRemover;t.forEach((function(t){o.removeFromParent(t,i),o.forEachParentGroup(e,t.parent,(function(e){i.removeFromAllLeafChildren(e,t)}))})),r&&i.flush()},e.prototype.postRemoveCreateFillerNodes=function(t,e){var n=this;t.forEach((function(t){if(t.hasChildren()){var o=n.getExistingPathForNode(t,e),r=n.findParentForNode(t,o,e);r.expanded=t.expanded,r.allLeafChildren=t.allLeafChildren,r.childrenAfterGroup=t.childrenAfterGroup,r.childrenMapped=t.childrenMapped,r.updateHasChildren(),r.childrenAfterGroup.forEach((function(t){return t.parent=r}))}}))},e.prototype.removeEmptyGroups=function(t,e){for(var n=this,o=!0,r=function(){o=!1;var r=new BatchRemover;t.forEach((function(t){n.forEachParentGroup(e,t,(function(t){(function(t){var e=n.getChildrenMappedKey(t.key,t.rowGroupColumn),o=t.parent;return!!(o&&o.childrenMapped&&o.childrenMapped[e]&&t.isEmptyRowGroupNode())})(t)&&(o=!0,n.removeFromParent(t,r),t.setSelectedParams({newValue:!1,source:"rowGroupChanged"}))}))})),r.flush()};o;)r()},e.prototype.removeFromParent=function(t,e){t.parent&&(e?e.removeFromChildrenAfterGroup(t.parent,t):(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(t.parent.childrenAfterGroup,t),t.parent.updateHasChildren()));var n=this.getChildrenMappedKey(t.key,t.rowGroupColumn);t.parent&&t.parent.childrenMapped&&(t.parent.childrenMapped[n]=void 0),t.setRowTop(null),t.setRowIndex(null)},e.prototype.addToParent=function(t,e){var n=this.getChildrenMappedKey(t.key,t.rowGroupColumn);e&&(null!=e.childrenMapped&&(e.childrenMapped[n]=t),e.childrenAfterGroup.push(t),e.updateHasChildren())},e.prototype.areGroupColsEqual=function(t,e){return null!=t&&null!=e&&t.pivotMode===e.pivotMode&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.areEqual(t.groupedCols,e.groupedCols)},e.prototype.checkAllGroupDataAfterColsChanged=function(t){var e=this,n=function(t){t&&t.forEach((function(t){if(!(!e.usingTreeData&&!t.group)){var o={field:t.field,key:t.key,rowGroupColumn:t.rowGroupColumn};e.setGroupData(t,o),n(t.childrenAfterGroup)}}))};n(t.rootNode.childrenAfterGroup)},e.prototype.shotgunResetEverything=function(t,e){if(!this.noChangeInGroupingColumns(t,e)){this.selectionService.filterFromSelection((function(t){return t&&!t.group}));var n=t.rootNode,o=t.groupedCols;n.leafGroup=!this.usingTreeData&&0===o.length,n.childrenAfterGroup=[],n.childrenMapped={},n.updateHasChildren();var r=n.sibling;r&&(r.childrenAfterGroup=n.childrenAfterGroup,r.childrenMapped=n.childrenMapped),this.insertNodes(n.allLeafChildren,t,!1)}},e.prototype.noChangeInGroupingColumns=function(t,e){var n=!1,o=this.columnModel.getGroupDisplayColumns(),r=o?o.map((function(t){return t.getId()})).join("-"):"";return e&&(n=this.usingTreeData||this.areGroupColsEqual(t,this.oldGroupingDetails),this.oldGroupDisplayColIds!==r&&this.checkAllGroupDataAfterColsChanged(t)),this.oldGroupingDetails=t,this.oldGroupDisplayColIds=r,n},e.prototype.insertNodes=function(t,e,n){var o=this;t.forEach((function(t){o.insertOneNode(t,e,n),e.changedPath.isActive()&&e.changedPath.addParentNode(t.parent)}))},e.prototype.insertOneNode=function(t,e,n,o){var r=this.getGroupInfo(t,e),i=this.findParentForNode(t,r,e,o);i.group||console.warn("AG Grid: duplicate group keys for row data, keys should be unique",[i.data,t.data]),this.usingTreeData?this.swapGroupWithUserNode(i,t,n):(t.parent=i,t.level=r.length,i.childrenAfterGroup.push(t),i.updateHasChildren())},e.prototype.findParentForNode=function(t,e,n,o){var r=this,i=n.rootNode;return e.forEach((function(e,s){i=r.getOrCreateNextNode(i,e,s,n),(null==o?void 0:o.isRemoveFromAllLeafChildren(i,t))?null==o||o.preventRemoveFromAllLeafChildren(i,t):i.allLeafChildren.push(t)})),i},e.prototype.swapGroupWithUserNode=function(t,e,n){e.parent=t.parent,e.key=t.key,e.field=t.field,e.groupData=t.groupData,e.level=t.level,n||(e.expanded=t.expanded),e.leafGroup=t.leafGroup,e.rowGroupIndex=t.rowGroupIndex,e.allLeafChildren=t.allLeafChildren,e.childrenAfterGroup=t.childrenAfterGroup,e.childrenMapped=t.childrenMapped,e.sibling=t.sibling,e.updateHasChildren(),this.removeFromParent(t),e.childrenAfterGroup.forEach((function(t){return t.parent=e})),this.addToParent(e,t.parent)},e.prototype.getOrCreateNextNode=function(t,e,n,o){var r=this.getChildrenMappedKey(e.key,e.rowGroupColumn),i=t.childrenMapped?t.childrenMapped[r]:void 0;return i||(i=this.createGroup(e,t,n,o),this.addToParent(i,t)),i},e.prototype.createGroup=function(t,e,n,o){var r=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk(this.beans);return r.group=!0,r.field=t.field,r.rowGroupColumn=t.rowGroupColumn,this.setGroupData(r,t),r.id=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk.ID_PREFIX_ROW_GROUP+this.groupIdSequence.next(),r.key=t.key,r.level=n,r.leafGroup=!this.usingTreeData&&n===o.groupedColCount-1,r.allLeafChildren=[],r.setAllChildrenCount(0),r.rowGroupIndex=this.usingTreeData?null:n,r.childrenAfterGroup=[],r.childrenMapped={},r.updateHasChildren(),r.parent=o.includeParents?e:null,this.setExpandedInitialValue(o,r),this.gridOptionsService.is("groupIncludeFooter")&&r.createFooter(),r},e.prototype.setGroupData=function(t,e){var n=this;t.groupData={},this.columnModel.getGroupDisplayColumns().forEach((function(o){(n.usingTreeData||!!t.rowGroupColumn&&o.isRowGroupDisplayed(t.rowGroupColumn.getId()))&&(t.groupData[o.getColId()]=e.key)}))},e.prototype.getChildrenMappedKey=function(t,e){return e?e.getId()+"-"+t:t},e.prototype.setExpandedInitialValue=function(t,e){if(t.pivotMode&&e.leafGroup)e.expanded=!1;else{var n=this.gridOptionsService.getCallback("isGroupOpenByDefault");if(n){var o={rowNode:e,field:e.field,key:e.key,level:e.level,rowGroupColumn:e.rowGroupColumn};e.expanded=1==n(o)}else{var r=t.expandByDefault;-1!==t.expandByDefault?e.expanded=e.level<r:e.expanded=!0}}},e.prototype.getGroupInfo=function(t,e){return this.usingTreeData?this.getGroupInfoFromCallback(t):this.getGroupInfoFromGroupColumns(t,e)},e.prototype.getGroupInfoFromCallback=function(t){var e=this.getDataPath?this.getDataPath(t.data):null;null!=e&&0!==e.length||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid: getDataPath() should not return an empty path for data",t.data)}),"groupStage.getGroupInfoFromCallback");return e?e.map((function(t){return{key:t,field:null,rowGroupColumn:null}})):[]},e.prototype.getGroupInfoFromGroupColumns=function(t,e){var n=this,o=[];return e.groupedCols.forEach((function(r){var i=n.valueService.getKeyForNode(r,t),s=null!=i&&""!==i;if((e.pivotMode||!n.gridOptionsService.is("groupAllowUnbalanced"))&&!s&&(i="",s=!0),s){var a={key:i,field:r.getColDef().field,rowGroupColumn:r};o.push(a)}})),o},__decorate$2l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("selectableService")],e.prototype,"selectableService",void 0),__decorate$2l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),__decorate$2l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("beans")],e.prototype,"beans",void 0),__decorate$2l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("selectionService")],e.prototype,"selectionService",void 0),__decorate$2l([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e=__decorate$2l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("groupStage")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$39=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$O=function(){return __assign$O=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$O.apply(this,arguments)},__decorate$2k=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__read$19=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$H=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$19(arguments[e]));return t},PivotColDefService=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return __extends$39(e,t),n=e,e.prototype.createPivotColumnDefs=function(t){var e=this.columnModel.getPivotColumns(),n=this.columnModel.getValueColumns(),o=e.length,r=this.recursiveBuildGroup(0,t,[],o,e);var i=function t(e,n){return void 0===n&&(n=[]),e.forEach((function(e){void 0!==e.children?t(e.children,n):n.push(e)})),n}(r);return this.addRowGroupTotals(r,i,n),this.addExpandablePivotGroups(r,i),this.addPivotTotalsToGroups(r,i),{pivotColumnGroupDefs:r,pivotColumnDefs:i.map((function(t){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.cloneObject(t)}))}},e.prototype.recursiveBuildGroup=function(t,e,n,o,r){var i=this,s=this.columnModel.getValueColumns();if(t>=o)return this.buildMeasureCols(n);var a=r[t].getColDef(),l=this.headerNameComparator.bind(this,a.pivotComparator);if(1===s.length&&this.gridOptionsService.is("removePivotHeaderRowWhenSingleValueColumn")&&t===o-1){var c=[];return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject(e,(function(t){var e=__spread$H(n,[t]);c.push(__assign$O(__assign$O({},i.createColDef(s[0],t,e)),{columnGroupShow:"open"}))})),c.sort(l),c}var u=[];return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject(e,(function(e,s){var a=__spread$H(n,[e]);u.push({children:i.recursiveBuildGroup(t+1,s,a,o,r),headerName:e,pivotKeys:a,columnGroupShow:"open",groupId:i.generateColumnGroupId(a)})})),u.sort(l),u},e.prototype.buildMeasureCols=function(t){var e=this,n=this.columnModel.getValueColumns();return 0===n.length?[this.createColDef(null,"-",t)]:n.map((function(n){var o=e.columnModel.getDisplayNameForColumn(n,"header");return __assign$O(__assign$O({},e.createColDef(n,o,t)),{columnGroupShow:"open"})}))},e.prototype.addExpandablePivotGroups=function(t,e){var n=this;if(!this.gridOptionsService.is("suppressExpandablePivotGroups")&&!this.gridOptionsService.get("pivotColumnGroupTotals")){var o=function(t,e,r){var i=t;if(i.children){var s=new Map;i.children.forEach((function(t){o(t,e,s)}));var a=!i.children.some((function(t){return t.children}));n.columnModel.getValueColumns().forEach((function(o){var r=n.columnModel.getDisplayNameForColumn(o,"header"),i=n.createColDef(o,r,t.pivotKeys);(i.pivotTotalColumnIds=s.get(o.getColId()),i.columnGroupShow="closed",i.aggFunc=o.getAggFunc(),a)||(t.children.push(i),e.push(i))})),n.merge(r,s)}else{var l=t;if(!l.pivotValueColumn)return;var c=l.pivotValueColumn.getColId(),u=r.has(c)?r.get(c):[];u.push(l.colId),r.set(c,u)}};t.forEach((function(t){o(t,e,new Map)}))}},e.prototype.addPivotTotalsToGroups=function(t,e){var n=this;if(this.gridOptionsService.get("pivotColumnGroupTotals")){var o="after"===this.gridOptionsService.get("pivotColumnGroupTotals"),r=this.columnModel.getValueColumns(),i=r.map((function(t){return t.getAggFunc()}));if(i&&!(i.length<1)&&this.sameAggFuncs(i)){var s=r[0];t.forEach((function(t){n.recursivelyAddPivotTotal(t,e,s,o)}))}}},e.prototype.recursivelyAddPivotTotal=function(t,e,n,o){var r=this,i=t;if(!i.children){var s=t;return s.colId?[s.colId]:null}var a=[];if(i.children.forEach((function(t){var i=r.recursivelyAddPivotTotal(t,e,n,o);i&&(a=a.concat(i))})),i.children.length>1){var l=this.localeService.getLocaleTextFunc()("pivotColumnGroupTotals","Total"),c=this.createColDef(n,l,t.pivotKeys,!0);c.pivotTotalColumnIds=a,c.aggFunc=n.getAggFunc();var u=t.children;o?u.push(c):u.unshift(c),e.push(c)}return a},e.prototype.addRowGroupTotals=function(t,e,n){var o=this;if(this.gridOptionsService.get("pivotRowTotals"))for(var r="after"===this.gridOptionsService.get("pivotRowTotals"),i=r?n.slice():n.slice().reverse(),s=function(n){var s=i[n],l=[];t.forEach((function(t){l=l.concat(o.extractColIdsForValueColumn(t,s))}));var c=i.length>1||!a.gridOptionsService.is("removePivotHeaderRowWhenSingleValueColumn");a.createRowGroupTotal(t,e,s,l,r,c)},a=this,l=0;l<i.length;l++)s(l)},e.prototype.extractColIdsForValueColumn=function(t,e){var n=this,o=t;if(!o.children){var r=o;return r.pivotValueColumn===e&&r.colId?[r.colId]:[]}var i=[];return o.children.forEach((function(t){n.extractColIdsForValueColumn(t,e);var o=n.extractColIdsForValueColumn(t,e);i=i.concat(o)})),i},e.prototype.createRowGroupTotal=function(t,e,o,r,i,s){var a;if(0===this.columnModel.getValueColumns().length)a=this.createColDef(null,"-",[]);else{var l=this.columnModel.getDisplayNameForColumn(o,"header");(a=this.createColDef(o,l,[])).pivotTotalColumnIds=r}a.colId=n.PIVOT_ROW_TOTAL_PREFIX+a.colId,e.push(a);var c=s?{children:[a],pivotKeys:[],groupId:n.PIVOT_ROW_TOTAL_PREFIX+"_pivotGroup_"+o.getColId()}:a;i?t.push(c):t.unshift(c)},e.prototype.createColDef=function(t,e,n,o){void 0===o&&(o=!1);var r={};if(t){var i=t.getColDef();Object.assign(r,i),r.hide=!1}return r.headerName=e,r.colId=this.generateColumnId(n||[],t&&!o?t.getColId():""),r.field=r.colId,r.valueGetter=function(t){var e;return null===(e=t.data)||void 0===e?void 0:e[t.colDef.field]},r.pivotKeys=n,r.pivotValueColumn=t,!0===r.filter&&(r.filter="agNumberColumnFilter"),r},e.prototype.sameAggFuncs=function(t){if(1==t.length)return!0;for(var e=1;e<t.length;e++)if(t[e]!==t[0])return!1;return!0},e.prototype.headerNameComparator=function(t,e,n){return t?t(e.headerName,n.headerName):e.headerName&&!n.headerName?1:!e.headerName&&n.headerName?-1:e.headerName&&n.headerName?e.headerName<n.headerName?-1:e.headerName>n.headerName?1:0:0},e.prototype.merge=function(t,e){e.forEach((function(e,n,o){var r=t.has(n)?t.get(n):[],i=__spread$H(r,e);t.set(n,i)}))},e.prototype.generateColumnGroupId=function(t){return"pivotGroup_"+this.columnModel.getPivotColumns().map((function(t){return t.getColId()})).join("-")+"_"+t.join("-")},e.prototype.generateColumnId=function(t,e){return"pivot_"+this.columnModel.getPivotColumns().map((function(t){return t.getColId()})).join("-")+"_"+t.join("-")+"_"+e},e.PIVOT_ROW_TOTAL_PREFIX="PivotRowTotal_",__decorate$2k([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),e=n=__decorate$2k([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("pivotColDefService")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$38=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$2j=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},PivotStage=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.uniqueValues={},e}return __extends$38(e,t),e.prototype.execute=function(t){var e=t.changedPath;this.columnModel.isPivotActive()?this.executePivotOn(e):this.executePivotOff(e)},e.prototype.executePivotOff=function(t){this.aggregationColumnsHashLastTime=null,this.uniqueValues={},this.columnModel.isSecondaryColumnsPresent()&&(this.columnModel.setSecondaryColumns(null,"rowModelUpdated"),t&&t.setInactive())},e.prototype.executePivotOn=function(t){var e=this.bucketUpRowNodes(t),n=this.setUniqueValues(e),o=this.columnModel.getValueColumns(),r=o.map((function(t){return t.getId()+"-"+t.getColDef().headerName})).join("#"),i=o.map((function(t){return t.getAggFunc().toString()})).join("#"),s=this.aggregationColumnsHashLastTime!==r,a=this.aggregationFuncsHashLastTime!==i;this.aggregationColumnsHashLastTime=r,this.aggregationFuncsHashLastTime=i;var l=this.columnModel.getRowGroupColumns().map((function(t){return t.getId()})).join("#"),c=l!==this.groupColumnsHashLastTime;if(this.groupColumnsHashLastTime=l,n||s||c||a){var u=this.pivotColDefService.createPivotColumnDefs(this.uniqueValues),d=u.pivotColumnGroupDefs,p=u.pivotColumnDefs;this.pivotColumnDefs=p,this.columnModel.setSecondaryColumns(d,"rowModelUpdated"),t&&t.setInactive()}},e.prototype.setUniqueValues=function(t){return!!(JSON.stringify(t)!==JSON.stringify(this.uniqueValues))&&(this.uniqueValues=t,!0)},e.prototype.bucketUpRowNodes=function(t){var e=this,n={};t.forEachChangedNodeDepthFirst((function(t){t.leafGroup&&(t.childrenMapped=null)}));var o=function(t){var r;t.leafGroup?e.bucketRowNode(t,n):null===(r=t.childrenAfterFilter)||void 0===r||r.forEach(o)};return t.executeFromRootNode(o),n},e.prototype.bucketRowNode=function(t,e){var n=this.columnModel.getPivotColumns();0===n.length?t.childrenMapped=null:t.childrenMapped=this.bucketChildren(t.childrenAfterFilter,n,0,e),t.sibling&&(t.sibling.childrenMapped=t.childrenMapped)},e.prototype.bucketChildren=function(t,e,n,o){var r=this,i={},s=e[n];if(t.forEach((function(t){var e=r.valueService.getKeyForNode(s,t);ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(e)&&(e=""),o[e]||(o[e]={}),i[e]||(i[e]=[]),i[e].push(t)})),n===e.length-1)return i;var a={};return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject(i,(function(t,i){a[t]=r.bucketChildren(i,e,n+1,o[t])})),a},e.prototype.getPivotColumnDefs=function(){return this.pivotColumnDefs},__decorate$2j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),__decorate$2j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("pivotColDefService")],e.prototype,"pivotColDefService",void 0),e=__decorate$2j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("pivotStage")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$37=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$2i=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},AGBigInt="undefined"==typeof BigInt?null:BigInt,AggFuncService=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.aggFuncsMap={},e.initialised=!1,e}var n;return __extends$37(e,t),n=e,e.prototype.init=function(){this.initialised||(this.initialiseWithDefaultAggregations(),this.addAggFuncs(this.gridOptionsService.get("aggFuncs")))},e.prototype.initialiseWithDefaultAggregations=function(){this.aggFuncsMap[n.AGG_SUM]=aggSum,this.aggFuncsMap[n.AGG_FIRST]=aggFirst,this.aggFuncsMap[n.AGG_LAST]=aggLast,this.aggFuncsMap[n.AGG_MIN]=aggMin,this.aggFuncsMap[n.AGG_MAX]=aggMax,this.aggFuncsMap[n.AGG_COUNT]=aggCount,this.aggFuncsMap[n.AGG_AVG]=aggAvg,this.initialised=!0},e.prototype.isAggFuncPossible=function(t,e){var n=this.getFuncNames(t),o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(n,e),r=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(this.aggFuncsMap[e]);return o&&r},e.prototype.getDefaultAggFunc=function(t){var e=t.getColDef().defaultAggFunc;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e)&&this.isAggFuncPossible(t,e))return e;if(this.isAggFuncPossible(t,n.AGG_SUM))return n.AGG_SUM;var o=this.getFuncNames(t);return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.existsAndNotEmpty(o)?o[0]:null},e.prototype.addAggFuncs=function(t){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject(t,this.addAggFunc.bind(this))},e.prototype.addAggFunc=function(t,e){this.init(),this.aggFuncsMap[t]=e},e.prototype.getAggFunc=function(t){return this.init(),this.aggFuncsMap[t]},e.prototype.getFuncNames=function(t){var e=t.getColDef().allowedAggFuncs;return null==e?Object.keys(this.aggFuncsMap).sort():e},e.prototype.clear=function(){this.aggFuncsMap={}},e.AGG_SUM="sum",e.AGG_FIRST="first",e.AGG_LAST="last",e.AGG_MIN="min",e.AGG_MAX="max",e.AGG_COUNT="count",e.AGG_AVG="avg",__decorate$2i([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e=n=__decorate$2i([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("aggFuncService")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9);function aggSum(t){for(var e=t.values,n=null,o=0;o<e.length;o++){var r=e[o];"number"==typeof r?null===n?n=r:n+=AGBigInt?"number"==typeof n?r:AGBigInt(r):r:"bigint"==typeof r&&(n=null===n?r:("bigint"==typeof n?n:AGBigInt(n))+r)}return n}function aggFirst(t){return t.values.length>0?t.values[0]:null}function aggLast(t){return t.values.length>0?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(t.values):null}function aggMin(t){for(var e=t.values,n=null,o=0;o<e.length;o++){var r=e[o];"number"!=typeof r&&"bigint"!=typeof r||!(null===n||n>r)||(n=r)}return n}function aggMax(t){for(var e=t.values,n=null,o=0;o<e.length;o++){var r=e[o];"number"!=typeof r&&"bigint"!=typeof r||!(null===n||n<r)||(n=r)}return n}function aggCount(t){for(var e=t.values,n=0,o=0;o<e.length;o++){var r=e[o];n+=null!=r&&"number"==typeof r.value?r.value:1}return n}function aggAvg(t){for(var e,n,o,r=t.values,i=0,s=0,a=0;a<r.length;a++){var l=r[a],c=null;"number"==typeof l||"bigint"==typeof l?(c=l,s++):null==l||"number"!=typeof l.value&&"bigint"!=typeof l.value||"number"!=typeof l.count||(c=AGBigInt?l.value*("number"==typeof l.value?l.count:AGBigInt(l.count)):l.value*l.count,s+=l.count),"number"==typeof c?i+=AGBigInt?"number"==typeof i?c:AGBigInt(c):c:"bigint"==typeof c&&(i=("bigint"==typeof i?i:AGBigInt(i))+c)}var u=null;s>0&&(u=AGBigInt?i/("number"==typeof i?s:AGBigInt(s)):i/s);var d=null===(n=null===(e=t.rowNode)||void 0===e?void 0:e.aggData)||void 0===n?void 0:n[null===(o=t.column)||void 0===o?void 0:o.getColId()];return d&&d.count===s&&d.value===u?d:{count:s,value:u,toString:function(){return"number"==typeof this.value||"bigint"==typeof this.value?this.value.toString():""},toNumber:function(){return this.value}}}var __extends$36=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$2h=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},DropZoneColumnComp=function(t){function e(e,n,o,r,i){var s=t.call(this)||this;return s.column=e,s.dragSourceDropTarget=n,s.ghost=o,s.dropZonePurpose=r,s.horizontal=i,s.popupShowing=!1,s}return __extends$36(e,t),e.prototype.init=function(){var t=this;this.setTemplate(e.TEMPLATE);var n=this.getGui(),o=this.gridOptionsService.is("functionsReadOnly");this.addElementClasses(n),this.addElementClasses(this.eDragHandle,"drag-handle"),this.addElementClasses(this.eText,"text"),this.addElementClasses(this.eButton,"button"),this.eDragHandle.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnDrag",this.gridOptionsService)),this.eButton.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("cancel",this.gridOptionsService)),this.setupSort(),this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnDrop"),this.setupComponents(),this.ghost||o||this.addDragSource(),this.setupAria(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_SORT_CHANGED,(function(){t.setupAria()})),this.setupTooltip()},e.prototype.setupAria=function(){var t=this.localeService.getLocaleTextFunc(),e=this.getColumnAndAggFuncName(),n=e.name,o=e.aggFuncName,r=t("ariaDropZoneColumnComponentAggFuncSeperator"," of "),i={asc:t("ariaDropZoneColumnComponentSortAscending","ascending"),desc:t("ariaDropZoneColumnComponentSortDescending","descending")},s=this.column.getSort(),a=this.gridOptionsService.is("rowGroupPanelSuppressSort"),l=[[o&&""+o+r,n,this.isGroupingZone()&&!a&&s&&", "+i[s]].filter((function(t){return!!t})).join("")],c=this.gridOptionsService.is("functionsReadOnly");if(this.isAggregationZone()&&!c){var u=t("ariaDropZoneColumnValueItemDescription","Press ENTER to change the aggregation type");l.push(u)}if(this.isGroupingZone()&&this.column.getColDef().sortable&&!a){var d=t("ariaDropZoneColumnGroupItemDescription","Press ENTER to sort");l.push(d)}var p=t("ariaDropZoneColumnComponentDescription","Press DELETE to remove");l.push(p),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLabel(this.getGui(),l.join(". "))},e.prototype.setupTooltip=function(){var t=this,e=function(){var e=t.column.getColDef().headerTooltip;t.setTooltip(e)};e(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,e)},e.prototype.setupSort=function(){var t=this,e=this.column.getColDef().sortable,n=this.isGroupingZone();if(e&&n&&!this.gridOptionsService.is("rowGroupPanelSuppressSort")){this.eSortIndicator.setupSort(this.column,!0);var o=function(e){e.preventDefault();var n="ctrl"===t.gridOptionsService.get("multiSortKey")?e.ctrlKey||e.metaKey:e.shiftKey;t.sortController.progressSort(t.column,n,"uiColumnSorted")};this.addGuiEventListener("click",o),this.addGuiEventListener("keydown",(function(e){e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER&&t.isGroupingZone()&&o(e)}))}},e.prototype.addDragSource=function(){var t=this,e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ToolPanel,eElement:this.eDragHandle,defaultIconName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_HIDE,getDragItem:function(){return t.createDragItem()},dragItemName:this.displayName,dragSourceDropTarget:this.dragSourceDropTarget};this.dragAndDropService.addDragSource(e,!0),this.addDestroyFunc((function(){return t.dragAndDropService.removeDragSource(e)}))},e.prototype.createDragItem=function(){var t={};return t[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:t}},e.prototype.setupComponents=function(){this.setTextValue(),this.setupRemove(),this.ghost&&this.addCssClass("ag-column-drop-cell-ghost"),this.isAggregationZone()&&!this.gridOptionsService.is("functionsReadOnly")&&this.addGuiEventListener("click",this.onShowAggFuncSelection.bind(this))},e.prototype.setupRemove=function(){var t=this;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eButton,!this.gridOptionsService.is("functionsReadOnly"));var n={type:e.EVENT_COLUMN_REMOVE};this.addGuiEventListener("keydown",(function(e){var o=e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER;e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.DELETE&&(e.preventDefault(),t.dispatchEvent(n)),o&&t.isAggregationZone()&&!t.gridOptionsService.is("functionsReadOnly")&&(e.preventDefault(),t.onShowAggFuncSelection())})),this.addManagedListener(this.eButton,"click",(function(e){t.dispatchEvent(n),e.stopPropagation()}));var o=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rwP(this.eButton);this.addManagedListener(o,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rwP.EVENT_TAP,(function(){t.dispatchEvent(n)})),this.addDestroyFunc(o.destroy.bind(o))},e.prototype.getColumnAndAggFuncName=function(){var t=this.displayName,e="";if(this.isAggregationZone()){var n=this.column.getAggFunc(),o="string"==typeof n?n:"agg";e=this.localeService.getLocaleTextFunc()(o,o)}return{name:t,aggFuncName:e}},e.prototype.setTextValue=function(){var t=this.getColumnAndAggFuncName(),e=t.name,n=t.aggFuncName,o=this.isAggregationZone()?n+"("+e+")":e,r=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(o);this.eText.innerHTML=r},e.prototype.onShowAggFuncSelection=function(){var t=this;if(!this.popupShowing){this.popupShowing=!0;var e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CPJ("select-agg-func"),n=this.aggFuncService.getFuncNames(this.column),o=this.getGui(),r=e.getGui();e.setModel({getRow:function(t){return n[t]},getRowCount:function(){return n.length}}),this.getContext().createBean(e);var i=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.loadTemplate('<div class="ag-select-agg-func-popup"></div>');i.style.top="0px",i.style.left="0px",i.appendChild(r),i.style.width=o.clientWidth+"px";var s=this.localeService.getLocaleTextFunc(),a=this.popupService.addPopup({modal:!0,eChild:i,closeOnEsc:!0,closedCallback:function(){t.destroyBean(e),t.popupShowing=!1,o.focus()},ariaLabel:s("ariaLabelAggregationFunction","Aggregation Function")});a&&e.setComponentCreator(this.createAggSelect.bind(this,a.hideFunc)),e.addGuiEventListener("keydown",(function(t){if(t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER||t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.SPACE){var n=e.getLastFocusedRow();if(null==n)return;var o=e.getComponentAt(n);o&&o.selectItem()}})),this.popupService.positionPopupByComponent({type:"aggFuncSelect",eventSource:o,ePopup:i,keepWithinBounds:!0,column:this.column,position:"under"}),e.refresh();var l=n.findIndex((function(e){return e===t.column.getAggFunc()}));-1===l&&(l=0),e.focusRow(l)}},e.prototype.createAggSelect=function(t,e){var n=this,o=this.localeService.getLocaleTextFunc(),r=e.toString(),i=o(r,r);return new AggItemComp((function(){if(t(),n.gridOptionsService.is("functionsPassive")){var o={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST,columns:[n.column],aggFunc:e};n.eventService.dispatchEvent(o)}else n.columnModel.setColumnAggFunc(n.column,e,"toolPanelDragAndDrop")}),i)},e.prototype.addElementClasses=function(t,e){e=e?"-"+e:"";var n=this.horizontal?"horizontal":"vertical";t.classList.add("ag-column-drop-cell"+e,"ag-column-drop-"+n+"-cell"+e)},e.prototype.isAggregationZone=function(){return"aggregation"===this.dropZonePurpose},e.prototype.isGroupingZone=function(){return"rowGroup"===this.dropZonePurpose},e.EVENT_COLUMN_REMOVE="columnRemove",e.TEMPLATE='<span role="option" tabindex="0">\n          <span ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle" role="presentation"></span>\n          <span ref="eText" class="ag-column-drop-cell-text" aria-hidden="true"></span>\n          <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>\n          <span ref="eButton" class="ag-column-drop-cell-button" role="presentation"></span>\n        </span>',__decorate$2h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],e.prototype,"dragAndDropService",void 0),__decorate$2h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("popupService")],e.prototype,"popupService",void 0),__decorate$2h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("aggFuncService")],e.prototype,"aggFuncService",void 0),__decorate$2h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("sortController")],e.prototype,"sortController",void 0),__decorate$2h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eText")],e.prototype,"eText",void 0),__decorate$2h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eDragHandle")],e.prototype,"eDragHandle",void 0),__decorate$2h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eButton")],e.prototype,"eButton",void 0),__decorate$2h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eSortIndicator")],e.prototype,"eSortIndicator",void 0),__decorate$2h([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),AggItemComp=function(t){function e(e,n){var o=t.call(this,'<div class="ag-select-agg-func-item"/>')||this;return o.selectItem=e,o.getGui().innerText=n,o.addGuiEventListener("click",o.selectItem),o}return __extends$36(e,t),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$35=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$2g=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__read$18=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$G=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$18(arguments[e]));return t},BaseDropZonePanel=function(t){function e(n,o){var r=t.call(this,'<div class="ag-unselectable" role="presentation"></div>')||this;return r.horizontal=n,r.dropZonePurpose=o,r.state=e.STATE_NOT_DRAGGING,r.guiDestroyFunctions=[],r.childColumnComponents=[],r.resizeEnabled=!1,r.addElementClasses(r.getGui()),r.eColumnDropList=document.createElement("div"),r.addElementClasses(r.eColumnDropList,"list"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaRole(r.eColumnDropList,"listbox"),r}return __extends$35(e,t),e.prototype.isHorizontal=function(){return this.horizontal},e.prototype.toggleResizable=function(t){this.positionableFeature.setResizable(!!t&&{bottom:!0}),this.resizeEnabled=t},e.prototype.setBeans=function(t){this.beans=t},e.prototype.destroy=function(){this.destroyGui(),t.prototype.destroy.call(this)},e.prototype.destroyGui=function(){this.guiDestroyFunctions.forEach((function(t){return t()})),this.guiDestroyFunctions.length=0,this.childColumnComponents.length=0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.getGui()),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.eColumnDropList)},e.prototype.init=function(t){this.params=t,this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.D_6(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.addManagedListener(this.beans.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.refreshGui.bind(this)),this.addManagedPropertyListener("functionsReadOnly",this.refreshGui.bind(this)),this.setupDropTarget(),this.positionableFeature=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Gxm(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature),this.refreshGui(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLabel(this.eColumnDropList,this.getAriaLabel())},e.prototype.handleKeyDown=function(t){var e=!this.horizontal,n=t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.DOWN,o=t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.UP;if(!e){var r=this.gridOptionsService.is("enableRtl");n=!r&&t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.RIGHT||r&&t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.LEFT,o=!r&&t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.LEFT||r&&t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.RIGHT}if(n||o){var i=this.focusService.findNextFocusableElement(this.getFocusableElement(),!1,o);i&&(t.preventDefault(),i.focus())}},e.prototype.addElementClasses=function(t,e){e=e?"-"+e:"";var n=this.horizontal?"horizontal":"vertical";t.classList.add("ag-column-drop"+e,"ag-column-drop-"+n+e)},e.prototype.setupDropTarget=function(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.beans.dragAndDropService.addDropTarget(this.dropTarget)},e.prototype.isInterestedIn=function(t){return t===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.HeaderCell||t===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ToolPanel},e.prototype.checkInsertIndex=function(t){var e=this.getNewInsertIndex(t);if(e<0)return!1;var n=e!==this.insertIndex;return n&&(this.insertIndex=e),n},e.prototype.getNewInsertIndex=function(t){var e=this,n=t.event,o=this.horizontal?n.clientX:n.clientY,r=this.childColumnComponents.map((function(t){return t.getGui().getBoundingClientRect()})),i=r.findIndex((function(t){return e.horizontal?t.right>o&&t.left<o:t.top<o&&t.bottom>o}));if(-1===i){var s=this.beans.gridOptionsService.is("enableRtl");return r.every((function(t){return o>(e.horizontal?t.right:t.bottom)}))?s&&this.horizontal?0:this.childColumnComponents.length:r.every((function(t){return o<(e.horizontal?t.left:t.top)}))?s&&this.horizontal?this.childColumnComponents.length:0:this.insertIndex}return this.insertIndex<=i?i+1:i},e.prototype.checkDragStartedBySelf=function(t){this.state===e.STATE_NOT_DRAGGING&&(this.state=e.STATE_REARRANGE_COLUMNS,this.potentialDndColumns=t.dragSource.getDragItem().columns||[],this.refreshGui(),this.checkInsertIndex(t),this.refreshGui())},e.prototype.onDragging=function(t){this.checkDragStartedBySelf(t),this.checkInsertIndex(t)&&this.refreshGui()},e.prototype.onDragEnter=function(t){var n=t.dragSource.getDragItem().columns||[];this.state=e.STATE_NEW_COLUMNS_IN;var o=n.filter(this.isColumnDroppable.bind(this));if(o.length>0){if(this.isRowGroupPanel()&&!this.gridOptionsService.is("suppressRowGroupHidesColumns")&&!t.fromNudge){var r=t.dragSource.getDragItem().columns;this.setColumnsVisible(r,!1,"uiColumnDragged")}this.potentialDndColumns=o,this.checkInsertIndex(t),this.refreshGui()}},e.prototype.setColumnsVisible=function(t,e,n){if(void 0===n&&(n="api"),t){var o=t.filter((function(t){return!t.getColDef().lockVisible}));this.colModel.setColumnsVisible(o,e,n)}},e.prototype.isPotentialDndColumns=function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.existsAndNotEmpty(this.potentialDndColumns)},e.prototype.isRowGroupPanel=function(){return"rowGroup"===this.dropZonePurpose},e.prototype.onDragLeave=function(t){if(this.state===e.STATE_REARRANGE_COLUMNS){var n=t.dragSource.getDragItem().columns||[];this.removeColumns(n)}if(this.isPotentialDndColumns()){if(this.isRowGroupPanel()&&!this.gridOptionsService.is("suppressMakeColumnVisibleAfterUnGroup")&&!t.fromNudge){var o=t.dragSource.getDragItem();this.setColumnsVisible(o.columns,!0,"uiColumnDragged")}this.potentialDndColumns=[],this.refreshGui()}this.state=e.STATE_NOT_DRAGGING},e.prototype.onDragStop=function(){if(this.isPotentialDndColumns()){var t=!1;this.state===e.STATE_NEW_COLUMNS_IN?(this.addColumns(this.potentialDndColumns),t=!0):t=this.rearrangeColumns(this.potentialDndColumns),this.potentialDndColumns=[],this.beans.gridOptionsService.is("functionsPassive")&&t||this.refreshGui()}this.state=e.STATE_NOT_DRAGGING},e.prototype.removeColumns=function(t){var e=this.getExistingColumns().filter((function(e){return!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(t,e)}));this.updateColumns(e)},e.prototype.addColumns=function(t){if(t){var e=this.getExistingColumns().slice(),n=t.filter((function(t){return e.indexOf(t)<0}));ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.insertArrayIntoArray(e,n,this.insertIndex),this.updateColumns(e)}},e.prototype.rearrangeColumns=function(t){var e=this.getNonGhostColumns().slice();return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.insertArrayIntoArray(e,t,this.insertIndex),!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.areEqual(e,this.getExistingColumns())&&(this.updateColumns(e),!0)},e.prototype.refreshGui=function(){var t=this.eColumnDropList.scrollTop,e=this.resizeEnabled,n=this.getFocusedItem(),o=this.focusService.findNextFocusableElement();o||(o=this.focusService.findNextFocusableElement(void 0,!1,!0)),this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addColumnsToGui(),this.isHorizontal()||(this.eColumnDropList.scrollTop=t),e&&this.toggleResizable(e),this.focusService.isKeyboardMode()&&this.restoreFocus(n,o)},e.prototype.getFocusedItem=function(){var t=this.getGui(),e=this.gridOptionsService.getDocument().activeElement;return t.contains(e)?Array.from(t.querySelectorAll(".ag-column-drop-cell")).indexOf(e):-1},e.prototype.restoreFocus=function(t,e){var n=this.getGui(),o=Array.from(n.querySelectorAll(".ag-column-drop-cell"));if(-1!==t){0===o.length&&e.focus();var r=o[Math.min(o.length-1,t)];r&&r.focus()}},e.prototype.getNonGhostColumns=function(){var t=this,e=this.getExistingColumns();return this.isPotentialDndColumns()?e.filter((function(e){return!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(t.potentialDndColumns,e)})):e},e.prototype.addColumnsToGui=function(){var t=this,e=this.getNonGhostColumns().map((function(e){return t.createColumnComponent(e,!1)}));if(this.isPotentialDndColumns()){var n=this.potentialDndColumns.map((function(e){return t.createColumnComponent(e,!0)}));this.insertIndex>=e.length?e.push.apply(e,__spread$G(n)):e.splice.apply(e,__spread$G([this.insertIndex,0],n))}this.appendChild(this.eColumnDropList),e.forEach((function(e,n){n>0&&t.addArrow(t.eColumnDropList),t.eColumnDropList.appendChild(e.getGui())})),this.addAriaLabelsToComponents()},e.prototype.addAriaLabelsToComponents=function(){var t=this;this.childColumnComponents.forEach((function(e,n){var o=e.getGui();ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaPosInSet(o,n+1),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaSetSize(o,t.childColumnComponents.length)}))},e.prototype.createColumnComponent=function(t,e){var n=this,o=new DropZoneColumnComp(t,this.dropTarget,e,this.dropZonePurpose,this.horizontal);return o.addEventListener(DropZoneColumnComp.EVENT_COLUMN_REMOVE,this.removeColumns.bind(this,[t])),this.beans.context.createBean(o),this.guiDestroyFunctions.push((function(){return n.destroyBean(o)})),e||this.childColumnComponents.push(o),o},e.prototype.addIconAndTitleToGui=function(){var t=this.params.icon,e=document.createElement("div");if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaHidden(e,!0),this.addElementClasses(e,"title-bar"),this.addElementClasses(t,"icon"),this.addOrRemoveCssClass("ag-column-drop-empty",this.isExistingColumnsEmpty()),e.appendChild(t),!this.horizontal){var n=document.createElement("span");this.addElementClasses(n,"title"),n.innerHTML=this.params.title,e.appendChild(n)}this.appendChild(e)},e.prototype.isExistingColumnsEmpty=function(){return 0===this.getExistingColumns().length},e.prototype.addEmptyMessageToGui=function(){if(this.isExistingColumnsEmpty()&&!this.isPotentialDndColumns()){var t=document.createElement("span");t.innerHTML=this.params.emptyMessage,this.addElementClasses(t,"empty-message"),this.eColumnDropList.appendChild(t)}},e.prototype.addArrow=function(t){if(this.horizontal){var e=this.beans.gridOptionsService.is("enableRtl"),n=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan(e?"smallLeft":"smallRight",this.beans.gridOptionsService);this.addElementClasses(n,"cell-separator"),t.appendChild(n)}},e.STATE_NOT_DRAGGING="notDragging",e.STATE_NEW_COLUMNS_IN="newColumnsIn",e.STATE_REARRANGE_COLUMNS="rearrangeColumns",__decorate$2g([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"colModel",void 0),__decorate$2g([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$34=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$2f=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},RowGroupDropZonePanel=function(t){function e(e){return t.call(this,e,"rowGroup")||this}return __extends$34(e,t),e.prototype.passBeansUp=function(){t.prototype.setBeans.call(this,{gridOptionsService:this.gridOptionsService,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.localeService.getLocaleTextFunc(),n=e("rowGroupColumnsEmptyMessage","Drag here to set row groups"),o=e("groups","Row Groups");t.prototype.init.call(this,{dragAndDropIcon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_GROUP,icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("rowGroupPanel",this.gridOptionsService,null),emptyMessage:n,title:o}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,this.refreshGui.bind(this))},e.prototype.getAriaLabel=function(){return this.localeService.getLocaleTextFunc()("ariaRowGroupDropZonePanelLabel","Row Groups")},e.prototype.getTooltipParams=function(){var e=t.prototype.getTooltipParams.call(this);return e.location="rowGroupColumnsList",e},e.prototype.isColumnDroppable=function(t){return!(this.gridOptionsService.is("functionsReadOnly")||!t.isPrimary())&&(t.isAllowRowGroup()&&!t.isRowGroupActive())},e.prototype.updateColumns=function(t){if(this.gridOptionsService.is("functionsPassive")){var e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:t};this.eventService.dispatchEvent(e)}else this.columnModel.setRowGroupColumns(t,"toolPanelUi")},e.prototype.getIconName=function(){return this.isPotentialDndColumns()?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_GROUP:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_NOT_ALLOWED},e.prototype.getExistingColumns=function(){return this.columnModel.getRowGroupColumns()},__decorate$2f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("loggerFactory")],e.prototype,"loggerFactory",void 0),__decorate$2f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],e.prototype,"dragAndDropService",void 0),__decorate$2f([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"passBeansUp",null),e}(BaseDropZonePanel),__extends$33=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$2e=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},PivotDropZonePanel=function(t){function e(e){return t.call(this,e,"pivot")||this}return __extends$33(e,t),e.prototype.passBeansUp=function(){t.prototype.setBeans.call(this,{gridOptionsService:this.gridOptionsService,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.localeService.getLocaleTextFunc(),n=e("pivotColumnsEmptyMessage","Drag here to set column labels"),o=e("pivots","Column Labels");t.prototype.init.call(this,{dragAndDropIcon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_GROUP,icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("pivotPanel",this.gridOptionsService,null),emptyMessage:n,title:o}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.refresh.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.checkVisibility.bind(this)),this.refresh()},e.prototype.getAriaLabel=function(){return this.localeService.getLocaleTextFunc()("ariaPivotDropZonePanelLabel","Column Labels")},e.prototype.getTooltipParams=function(){var e=t.prototype.getTooltipParams.call(this);return e.location="pivotColumnsList",e},e.prototype.refresh=function(){this.checkVisibility(),this.refreshGui()},e.prototype.checkVisibility=function(){var t=this.columnModel.isPivotMode();if(this.isHorizontal())switch(this.gridOptionsService.get("pivotPanelShow")){case"always":this.setDisplayed(t);break;case"onlyWhenPivoting":var e=this.columnModel.isPivotActive();this.setDisplayed(t&&e);break;default:this.setDisplayed(!1)}else this.setDisplayed(t)},e.prototype.isColumnDroppable=function(t){return!(this.gridOptionsService.is("functionsReadOnly")||!t.isPrimary())&&(t.isAllowPivot()&&!t.isPivotActive())},e.prototype.updateColumns=function(t){if(this.gridOptionsService.is("functionsPassive")){var e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:t};this.eventService.dispatchEvent(e)}else this.columnModel.setPivotColumns(t,"toolPanelUi")},e.prototype.getIconName=function(){return this.isPotentialDndColumns()?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_PIVOT:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_NOT_ALLOWED},e.prototype.getExistingColumns=function(){return this.columnModel.getPivotColumns()},__decorate$2e([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2e([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("loggerFactory")],e.prototype,"loggerFactory",void 0),__decorate$2e([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],e.prototype,"dragAndDropService",void 0),__decorate$2e([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"passBeansUp",null),e}(BaseDropZonePanel),__extends$32=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$2d=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},GridHeaderDropZones=function(t){function e(){return t.call(this)||this}return __extends$32(e,t),e.prototype.postConstruct=function(){this.setGui(this.createNorthPanel()),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.onRowGroupChanged.bind(this)),this.addManagedPropertyListener("rowGroupPanelShow",this.onRowGroupChanged.bind(this)),this.onRowGroupChanged()},e.prototype.createNorthPanel=function(){var t=document.createElement("div"),e=this.onDropPanelVisible.bind(this);return t.classList.add("ag-column-drop-wrapper"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaRole(t,"presentation"),this.rowGroupComp=new RowGroupDropZonePanel(!0),this.createManagedBean(this.rowGroupComp),this.pivotComp=new PivotDropZonePanel(!0),this.createManagedBean(this.pivotComp),t.appendChild(this.rowGroupComp.getGui()),t.appendChild(this.pivotComp.getGui()),this.addManagedListener(this.rowGroupComp,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2.EVENT_DISPLAYED_CHANGED,e),this.addManagedListener(this.pivotComp,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2.EVENT_DISPLAYED_CHANGED,e),this.onDropPanelVisible(),t},e.prototype.onDropPanelVisible=function(){var t=this.rowGroupComp.isDisplayed()&&this.pivotComp.isDisplayed();this.rowGroupComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",t),this.pivotComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",t)},e.prototype.onRowGroupChanged=function(){if(this.rowGroupComp){var t=this.gridOptionsService.get("rowGroupPanelShow");if("always"===t)this.rowGroupComp.setDisplayed(!0);else if("onlyWhenGrouping"===t){var e=!this.columnModel.isRowGroupEmpty();this.rowGroupComp.setDisplayed(e)}else this.rowGroupComp.setDisplayed(!1)}},__decorate$2d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2d([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$31=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$2c=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},FilterAggregatesStage=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$31(e,t),e.prototype.execute=function(t){var e=this,n=this.columnModel.isPivotMode(),o=this.filterManager.isAggregateFilterPresent(),r=this.gridOptionsService.getGroupAggFiltering()||(n?function(t){return t.node.leafGroup}:function(t){return!t.node.group}),i=t.changedPath,s=function(t,n){void 0===n&&(n=!1),t.childrenAfterFilter&&(t.childrenAfterAggFilter=t.childrenAfterFilter,n&&t.childrenAfterAggFilter.forEach((function(t){return s(t,n)})),e.setAllChildrenCount(t)),t.sibling&&(t.sibling.childrenAfterAggFilter=t.childrenAfterAggFilter)};i.forEachChangedNodeDepthFirst(o?function(t){var n;t.childrenAfterAggFilter=(null===(n=t.childrenAfterFilter)||void 0===n?void 0:n.filter((function(t){var n;if(r({node:t})&&e.filterManager.doesRowPassAggregateFilters({rowNode:t}))return s(t,!0),!0;return null===(n=t.childrenAfterAggFilter)||void 0===n?void 0:n.length})))||null,e.setAllChildrenCount(t),t.sibling&&(t.sibling.childrenAfterAggFilter=t.childrenAfterAggFilter)}:s,!0)},e.prototype.setAllChildrenCountTreeData=function(t){var e=0;t.childrenAfterAggFilter.forEach((function(t){e++,e+=t.allChildrenCount})),t.setAllChildrenCount(e)},e.prototype.setAllChildrenCountGridGrouping=function(t){var e=0;t.childrenAfterAggFilter.forEach((function(t){t.group?e+=t.allChildrenCount:e++})),t.setAllChildrenCount(e)},e.prototype.setAllChildrenCount=function(t){t.hasChildren()?this.gridOptionsService.isTreeData()?this.setAllChildrenCountTreeData(t):this.setAllChildrenCountGridGrouping(t):t.setAllChildrenCount(null)},__decorate$2c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],e.prototype,"filterManager",void 0),__decorate$2c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),e=__decorate$2c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("filterAggregatesStage")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),VERSION$g="29.3.4",__extends$30=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$2b=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},GroupFilter=function(t){function e(){return t.call(this,'\n            <div class="ag-group-filter">\n                <div ref="eGroupField"></div>\n                <div ref="eUnderlyingFilter"></div>\n            </div>\n        ')||this}return __extends$30(e,t),e.prototype.postConstruct=function(){this.initialiseTabGuard({})},e.prototype.init=function(t){var e=this;return this.params=t,this.validateParams(),this.updateGroups().then((function(){e.addManagedListener(e.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,(function(){return e.onColumnRowGroupChanged()}))}))},e.prototype.validateParams=function(){var t=this.params.colDef;t.field&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn('AG Grid: Group Column Filter does not work with the colDef property "field". This property will be ignored.')}),"groupFilterFieldParam"),t.filterValueGetter&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn('AG Grid: Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.')}),"groupFilterFilterValueGetterParam"),t.filterParams&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn('AG Grid: Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.')}),"groupFilterFilterParams")},e.prototype.updateGroups=function(){var t=this.updateGroupField();return this.getUnderlyingFilters(t)},e.prototype.getSourceColumns=function(){if(this.groupColumn=this.params.column,this.gridOptionsService.is("treeData"))return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid: Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.")}),"groupFilterTreeData"),[];var t=this.columnModel.getSourceColumnsForGroupColumn(this.groupColumn);return t||(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid: Group Column Filter only works on group columns. Please use a different filter.")}),"groupFilterNotGroupColumn"),[])},e.prototype.updateGroupField=function(){var t=this;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.eGroupField),this.eGroupFieldSelect&&this.destroyBean(this.eGroupFieldSelect);var e=this.getSourceColumns(),n=e.filter((function(t){return t.isFilterAllowed()}));return n.length?(1===e.length?(this.selectedColumn=n[0],ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupField,!1)):(this.selectedColumn&&n.some((function(e){return e.getId()===t.selectedColumn.getId()}))||(this.selectedColumn=n[0]),this.createGroupFieldSelectElement(n),this.eGroupField.appendChild(this.eGroupFieldSelect.getGui()),this.eGroupField.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.loadTemplate('<div class="ag-filter-separator"></div>')),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupField,!0)),n):(this.selectedColumn=void 0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupField,!1),null)},e.prototype.createGroupFieldSelectElement=function(t){var e=this;this.eGroupFieldSelect=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wGv);var n=this.localeService.getLocaleTextFunc();this.eGroupFieldSelect.setLabel(n("groupFilterSelect","Select field:")),this.eGroupFieldSelect.setLabelAlignment("top"),this.eGroupFieldSelect.addOptions(t.map((function(t){var n;return{value:t.getId(),text:null!==(n=e.columnModel.getDisplayNameForColumn(t,"groupFilter",!1))&&void 0!==n?n:void 0}}))),this.eGroupFieldSelect.setValue(this.selectedColumn.getId()),this.eGroupFieldSelect.onValueChange((function(t){return e.updateSelectedColumn(t)})),this.eGroupFieldSelect.addCssClass("ag-group-filter-field-select-wrapper"),1===t.length&&this.eGroupFieldSelect.setDisabled(!0)},e.prototype.getUnderlyingFilters=function(t){var e=this;if(!t)return this.filterColumnPairs=void 0,this.selectedFilter=void 0,this.groupColumn.setFilterActive(!1,"columnRowGroupChanged"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve();var n=[],o=[];return t.forEach((function(t){var r=e.filterManager.getOrCreateFilterWrapper(t,"COLUMN_MENU");(null==r?void 0:r.filterPromise)&&n.push(r.filterPromise.then((function(n){return n&&o.push({filter:n,column:t}),t.getId()===e.selectedColumn.getId()&&(e.selectedFilter=null!=n?n:void 0),n})))})),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.all(n).then((function(){e.filterColumnPairs=o,e.groupColumn.setFilterActive(e.isFilterActive(),"columnRowGroupChanged")}))},e.prototype.addUnderlyingFilterElement=function(){var t=this;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.eUnderlyingFilter),!this.selectedColumn)return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve();var e=this.filterManager.getOrCreateFilterWrapper(this.selectedColumn,"COLUMN_MENU");return e?e.guiPromise.then((function(n){var o;t.eUnderlyingFilter.appendChild(n),null===(o=e.filterPromise)||void 0===o||o.then((function(e){var n,o;null===(n=null==e?void 0:e.afterGuiAttached)||void 0===n||n.call(e,t.afterGuiAttachedParams),(null===(o=t.afterGuiAttachedParams)||void 0===o?void 0:o.suppressFocus)||!t.eGroupFieldSelect||t.eGroupFieldSelect.isDisabled()||t.eGroupFieldSelect.getFocusableElement().focus()}))})):ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve()},e.prototype.updateSelectedColumn=function(t){var n,o;if(t){null===(o=null===(n=this.selectedFilter)||void 0===n?void 0:n.afterGuiDetached)||void 0===o||o.call(n);var r=this.getFilterColumnPair(t);this.selectedColumn=null==r?void 0:r.column,this.selectedFilter=null==r?void 0:r.filter,this.dispatchEvent({type:e.EVENT_SELECTED_COLUMN_CHANGED}),this.addUnderlyingFilterElement()}},e.prototype.isFilterActive=function(){var t;return!!(null===(t=this.filterColumnPairs)||void 0===t?void 0:t.some((function(t){return t.filter.isFilterActive()})))},e.prototype.doesFilterPass=function(){return!0},e.prototype.getModel=function(){return null},e.prototype.setModel=function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve()},e.prototype.afterGuiAttached=function(t){this.afterGuiAttachedParams=t,this.addUnderlyingFilterElement()},e.prototype.afterGuiDetached=function(){var t,e;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.eUnderlyingFilter),null===(e=null===(t=this.selectedFilter)||void 0===t?void 0:t.afterGuiDetached)||void 0===e||e.call(t)},e.prototype.onColumnRowGroupChanged=function(){var t=this;this.updateGroups().then((function(){t.dispatchEvent({type:e.EVENT_COLUMN_ROW_GROUP_CHANGED}),t.eventService.dispatchEvent({type:"filterAllowedUpdated"})}))},e.prototype.getFilterColumnPair=function(t){var e;if(t)return null===(e=this.filterColumnPairs)||void 0===e?void 0:e.find((function(e){return e.column.getId()===t}))},e.prototype.getSelectedFilter=function(){return this.selectedFilter},e.prototype.getSelectedColumn=function(){return this.selectedColumn},e.prototype.isFilterAllowed=function(){return!!this.selectedColumn},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",e.EVENT_SELECTED_COLUMN_CHANGED="selectedColumnChanged",__decorate$2b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],e.prototype,"filterManager",void 0),__decorate$2b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eGroupField")],e.prototype,"eGroupField",void 0),__decorate$2b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eUnderlyingFilter")],e.prototype,"eUnderlyingFilter",void 0),__decorate$2b([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BxR),__extends$2$=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$2a=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},GroupFloatingFilterComp=function(t){function e(){return t.call(this,'\n            <div ref="eFloatingFilter" class="ag-group-floating-filter ag-floating-filter-input" role="presentation"></div>\n        ')||this}return __extends$2$(e,t),e.prototype.init=function(t){var e=this;this.params=t;var n="multipleColumns"===this.gridOptionsService.get("groupDisplayType");return new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S((function(t){e.params.parentFilterInstance((function(o){e.parentFilterInstance=o,n?e.setupUnderlyingFloatingFilterElement().then((function(){return t()})):(e.setupReadOnlyFloatingFilterElement(),t())}))})).then((function(){e.addManagedListener(e.parentFilterInstance,GroupFilter.EVENT_SELECTED_COLUMN_CHANGED,(function(){return e.onSelectedColumnChanged()})),e.addManagedListener(e.parentFilterInstance,GroupFilter.EVENT_COLUMN_ROW_GROUP_CHANGED,(function(){return e.onColumnRowGroupChanged()}))}))},e.prototype.setupReadOnlyFloatingFilterElement=function(){var t=this;if(!this.eFloatingFilterText){this.eFloatingFilterText=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.INo);var e=this.columnModel.getDisplayNameForColumn(this.params.column,"header",!0),n=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(e+" "+n("ariaFilterInput","Filter Input")).addGuiEventListener("click",(function(){return t.params.showParentFilter()}))}this.updateDisplayedValue(),this.eFloatingFilter.appendChild(this.eFloatingFilterText.getGui())},e.prototype.setupUnderlyingFloatingFilterElement=function(){var t=this;this.showingUnderlyingFloatingFilter=!1,this.underlyingFloatingFilter=void 0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.eFloatingFilter);var e=this.parentFilterInstance.getSelectedColumn();if(e&&!e.isVisible()){var n=this.filterManager.getFloatingFilterCompDetails(e,this.params.showParentFilter);if(n)return this.columnVisibleChangedListener||(this.columnVisibleChangedListener=this.addManagedListener(e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_VISIBLE_CHANGED,this.onColumnVisibleChanged.bind(this))),n.newAgStackInstance().then((function(e){var n,o;t.underlyingFloatingFilter=e,null===(n=t.underlyingFloatingFilter)||void 0===n||n.onParentModelChanged(null===(o=t.parentFilterInstance.getSelectedFilter())||void 0===o?void 0:o.getModel()),t.appendChild(e.getGui()),t.showingUnderlyingFloatingFilter=!0}))}return this.setupReadOnlyFloatingFilterElement(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve()},e.prototype.onColumnVisibleChanged=function(){this.setupUnderlyingFloatingFilterElement()},e.prototype.onParentModelChanged=function(t,e){var n,o;this.showingUnderlyingFloatingFilter?null===(n=this.underlyingFloatingFilter)||void 0===n||n.onParentModelChanged(null===(o=this.parentFilterInstance.getSelectedFilter())||void 0===o?void 0:o.getModel(),e):this.updateDisplayedValue()},e.prototype.updateDisplayedValue=function(){if(this.parentFilterInstance&&this.eFloatingFilterText){var t=this.parentFilterInstance.getSelectedFilter();if(!t)return this.eFloatingFilterText.setValue(""),void this.eFloatingFilterText.setDisplayed(!1);if(this.eFloatingFilterText.setDisplayed(!0),t.getModelAsString){var e=t.getModel();this.eFloatingFilterText.setValue(null==e?"":t.getModelAsString(e))}else this.eFloatingFilterText.setValue("")}},e.prototype.onSelectedColumnChanged=function(){this.showingUnderlyingFloatingFilter||this.updateDisplayedValue()},e.prototype.onColumnRowGroupChanged=function(){this.showingUnderlyingFloatingFilter||this.updateDisplayedValue()},e.prototype.destroy=function(){t.prototype.destroy.call(this)},__decorate$2a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],e.prototype,"filterManager",void 0),__decorate$2a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFloatingFilter")],e.prototype,"eFloatingFilter",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),RowGroupingModule={version:VERSION$g,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RowGroupingModule,beans:[AggregationStage,FilterAggregatesStage,GroupStage,PivotColDefService,PivotStage,AggFuncService],agStackComponents:[{componentName:"AgGridHeaderDropZones",componentClass:GridHeaderDropZones}],userComponents:[{componentName:"agGroupColumnFilter",componentClass:GroupFilter},{componentName:"agGroupColumnFloatingFilter",componentClass:GroupFloatingFilterComp}],dependantModules:[EnterpriseCoreModule]},__extends$2_=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$29=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ValuesDropZonePanel=function(t){function e(e){return t.call(this,e,"aggregation")||this}return __extends$2_(e,t),e.prototype.passBeansUp=function(){t.prototype.setBeans.call(this,{gridOptionsService:this.gridOptionsService,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.localeService.getLocaleTextFunc(),n=e("valueColumnsEmptyMessage","Drag here to aggregate"),o=e("values","Values");t.prototype.init.call(this,{dragAndDropIcon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_AGGREGATE,icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("valuePanel",this.gridOptionsService,null),emptyMessage:n,title:o}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VALUE_CHANGED,this.refreshGui.bind(this))},e.prototype.getAriaLabel=function(){return this.localeService.getLocaleTextFunc()("ariaValuesDropZonePanelLabel","Values")},e.prototype.getTooltipParams=function(){var e=t.prototype.getTooltipParams.call(this);return e.location="valueColumnsList",e},e.prototype.getIconName=function(){return this.isPotentialDndColumns()?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_AGGREGATE:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_NOT_ALLOWED},e.prototype.isColumnDroppable=function(t){return!(this.gridOptionsService.is("functionsReadOnly")||!t.isPrimary())&&(t.isAllowValue()&&!t.isValueActive())},e.prototype.updateColumns=function(t){if(this.gridOptionsService.is("functionsPassive")){var e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:t};this.eventService.dispatchEvent(e)}else this.columnModel.setValueColumns(t,"toolPanelUi")},e.prototype.getExistingColumns=function(){return this.columnModel.getValueColumns()},__decorate$29([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$29([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("loggerFactory")],e.prototype,"loggerFactory",void 0),__decorate$29([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],e.prototype,"dragAndDropService",void 0),__decorate$29([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"passBeansUp",null),e}(BaseDropZonePanel),__extends$2Z=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$28=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},PrimaryColsPanel=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return __extends$2Z(e,t),e.prototype.init=function(t,e,n){this.allowDragging=t,this.params=e,this.eventType=n,this.primaryColsHeaderPanel.init(this.params);var o=this.params.suppressColumnFilter,r=this.params.suppressColumnSelectAll;this.params.suppressColumnExpandAll&&o&&r&&this.primaryColsHeaderPanel.setDisplayed(!1),this.addManagedListener(this.primaryColsListPanel,"groupExpanded",this.onGroupExpanded.bind(this)),this.addManagedListener(this.primaryColsListPanel,"selectionChanged",this.onSelectionChange.bind(this)),this.primaryColsListPanel.init(this.params,this.allowDragging,this.eventType),this.addManagedListener(this.primaryColsHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"selectAll",this.onSelectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"unselectAll",this.onUnselectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"filterChanged",this.onFilterChanged.bind(this)),this.positionableFeature=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Gxm(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature)},e.prototype.toggleResizable=function(t){this.positionableFeature.setResizable(!!t&&{bottom:!0})},e.prototype.onExpandAll=function(){this.primaryColsListPanel.doSetExpandedAll(!0)},e.prototype.onCollapseAll=function(){this.primaryColsListPanel.doSetExpandedAll(!1)},e.prototype.expandGroups=function(t){this.primaryColsListPanel.setGroupsExpanded(!0,t)},e.prototype.collapseGroups=function(t){this.primaryColsListPanel.setGroupsExpanded(!1,t)},e.prototype.setColumnLayout=function(t){this.primaryColsListPanel.setColumnLayout(t)},e.prototype.onFilterChanged=function(t){this.primaryColsListPanel.setFilterText(t.filterText)},e.prototype.syncLayoutWithGrid=function(){this.primaryColsListPanel.onColumnsChanged()},e.prototype.onSelectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!0)},e.prototype.onUnselectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!1)},e.prototype.onGroupExpanded=function(t){this.primaryColsHeaderPanel.setExpandState(t.state)},e.prototype.onSelectionChange=function(t){this.primaryColsHeaderPanel.setSelectionState(t.state)},e.TEMPLATE='<div class="ag-column-select">\n            <ag-primary-cols-header ref="primaryColsHeaderPanel"></ag-primary-cols-header>\n            <ag-primary-cols-list ref="primaryColsListPanel"></ag-primary-cols-list>\n        </div>',__decorate$28([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("primaryColsHeaderPanel")],e.prototype,"primaryColsHeaderPanel",void 0),__decorate$28([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("primaryColsListPanel")],e.prototype,"primaryColsListPanel",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2Y=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$N=function(){return __assign$N=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$N.apply(this,arguments)},__decorate$27=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ColumnToolPanel=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.initialised=!1,n.childDestroyFuncs=[],n}return __extends$2Y(e,t),e.prototype.setVisible=function(e){t.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},e.prototype.init=function(t){var e=this,n={suppressColumnMove:!1,suppressColumnSelectAll:!1,suppressColumnFilter:!1,suppressColumnExpandAll:!1,contractColumnSelection:!1,suppressPivotMode:!1,suppressRowGroups:!1,suppressValues:!1,suppressPivots:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi};if(this.params=__assign$N(__assign$N(__assign$N({},n),t),{context:this.gridOptionsService.context}),this.isRowGroupingModuleLoaded()&&!this.params.suppressPivotMode&&(this.pivotModePanel=this.createBean(new PivotModePanel),this.childDestroyFuncs.push((function(){return e.destroyBean(e.pivotModePanel)})),this.appendChild(this.pivotModePanel)),this.primaryColsPanel=this.createBean(new PrimaryColsPanel),this.childDestroyFuncs.push((function(){return e.destroyBean(e.primaryColsPanel)})),this.primaryColsPanel.init(!0,this.params,"toolPanelUi"),this.primaryColsPanel.addCssClass("ag-column-panel-column-select"),this.appendChild(this.primaryColsPanel),this.isRowGroupingModuleLoaded()){this.params.suppressRowGroups||(this.rowGroupDropZonePanel=this.createBean(new RowGroupDropZonePanel(!1)),this.childDestroyFuncs.push((function(){return e.destroyBean(e.rowGroupDropZonePanel)})),this.appendChild(this.rowGroupDropZonePanel)),this.params.suppressValues||(this.valuesDropZonePanel=this.createBean(new ValuesDropZonePanel(!1)),this.childDestroyFuncs.push((function(){return e.destroyBean(e.valuesDropZonePanel)})),this.appendChild(this.valuesDropZonePanel)),this.params.suppressPivots||(this.pivotDropZonePanel=this.createBean(new PivotDropZonePanel(!1)),this.childDestroyFuncs.push((function(){return e.destroyBean(e.pivotDropZonePanel)})),this.appendChild(this.pivotDropZonePanel)),this.setLastVisible();var o=this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,(function(){e.resetChildrenHeight(),e.setLastVisible()}));this.childDestroyFuncs.push((function(){return o()}))}this.initialised=!0},e.prototype.setPivotModeSectionVisible=function(t){var e=this;this.isRowGroupingModuleLoaded()&&(this.pivotModePanel?this.pivotModePanel.setDisplayed(t):t&&(this.pivotModePanel=this.createBean(new PivotModePanel),this.getGui().insertBefore(this.pivotModePanel.getGui(),this.getGui().firstChild),this.childDestroyFuncs.push((function(){return e.destroyBean(e.pivotModePanel)}))),this.setLastVisible())},e.prototype.setRowGroupsSectionVisible=function(t){this.isRowGroupingModuleLoaded()&&(this.rowGroupDropZonePanel?this.rowGroupDropZonePanel.setDisplayed(t):t&&(this.rowGroupDropZonePanel=this.createManagedBean(new RowGroupDropZonePanel(!1)),this.appendChild(this.rowGroupDropZonePanel)),this.setLastVisible())},e.prototype.setValuesSectionVisible=function(t){this.isRowGroupingModuleLoaded()&&(this.valuesDropZonePanel?this.valuesDropZonePanel.setDisplayed(t):t&&(this.valuesDropZonePanel=this.createManagedBean(new ValuesDropZonePanel(!1)),this.appendChild(this.valuesDropZonePanel)),this.setLastVisible())},e.prototype.setPivotSectionVisible=function(t){this.isRowGroupingModuleLoaded()&&(this.pivotDropZonePanel?this.pivotDropZonePanel.setDisplayed(t):t&&(this.pivotDropZonePanel=this.createManagedBean(new PivotDropZonePanel(!1)),this.appendChild(this.pivotDropZonePanel),this.pivotDropZonePanel.setDisplayed(t)),this.setLastVisible())},e.prototype.setResizers=function(){[this.primaryColsPanel,this.rowGroupDropZonePanel,this.valuesDropZonePanel,this.pivotDropZonePanel].forEach((function(t){if(t){var e=t.getGui();t.toggleResizable(!e.classList.contains("ag-last-column-drop")&&!e.classList.contains("ag-hidden"))}}))},e.prototype.setLastVisible=function(){var t=this.getGui();Array.prototype.slice.call(t.querySelectorAll(".ag-column-drop")).forEach((function(t){return t.classList.remove("ag-last-column-drop")}));var e=t.querySelectorAll(".ag-column-drop:not(.ag-hidden)"),n=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(e);n&&n.classList.add("ag-last-column-drop"),this.setResizers()},e.prototype.resetChildrenHeight=function(){for(var t=this.getGui().children,e=0;e<t.length;e++){var n=t[e];n.style.removeProperty("height"),n.style.removeProperty("flex")}},e.prototype.isRowGroupingModuleLoaded=function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RowGroupingModule,"Row Grouping")},e.prototype.expandColumnGroups=function(t){this.primaryColsPanel.expandGroups(t)},e.prototype.collapseColumnGroups=function(t){this.primaryColsPanel.collapseGroups(t)},e.prototype.setColumnLayout=function(t){this.primaryColsPanel.setColumnLayout(t)},e.prototype.syncLayoutWithGrid=function(){this.primaryColsPanel.syncLayoutWithGrid()},e.prototype.destroyChildren=function(){this.childDestroyFuncs.forEach((function(t){return t()})),this.childDestroyFuncs.length=0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.getGui())},e.prototype.refresh=function(){this.destroyChildren(),this.init(this.params)},e.prototype.destroy=function(){this.destroyChildren(),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-column-panel"></div>',__decorate$27([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$27([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],e.prototype,"columnApi",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2X=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$26=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},HorizontalResizeComp=function(t){function e(){var e=t.call(this,'<div class="ag-tool-panel-horizontal-resize"></div>')||this;return e.minWidth=100,e.maxWidth=null,e}return __extends$2X(e,t),e.prototype.setElementToResize=function(t){this.elementToResize=t},e.prototype.postConstruct=function(){var t=this.horizontalResizeService.addResizeBar({eResizeBar:this.getGui(),dragStartPixels:1,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this),onResizeEnd:this.onResizeEnd.bind(this)});this.addDestroyFunc(t),this.setInverted(this.gridOptionsService.is("enableRtl"))},e.prototype.dispatchResizeEvent=function(t,e,n){var o={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_TOOL_PANEL_SIZE_CHANGED,width:n,started:t,ended:e};this.eventService.dispatchEvent(o)},e.prototype.onResizeStart=function(){this.startingWidth=this.elementToResize.offsetWidth,this.dispatchResizeEvent(!0,!1,this.startingWidth)},e.prototype.onResizeEnd=function(t){return this.onResizing(t,!0)},e.prototype.onResizing=function(t,e){void 0===e&&(e=!1);var n=this.inverted?-1:1,o=Math.max(this.minWidth,Math.floor(this.startingWidth-t*n));null!=this.maxWidth&&(o=Math.min(this.maxWidth,o)),this.elementToResize.style.width=o+"px",this.dispatchResizeEvent(!1,e,o)},e.prototype.setInverted=function(t){this.inverted=t},e.prototype.setMaxWidth=function(t){this.maxWidth=t},e.prototype.setMinWidth=function(t){this.minWidth=null!=t?t:100},__decorate$26([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("horizontalResizeService")],e.prototype,"horizontalResizeService",void 0),__decorate$26([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2W=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$25=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},SideBarButtonComp=function(t){function e(e){var n=t.call(this)||this;return n.toolPanelDef=e,n}return __extends$2W(e,t),e.prototype.getToolPanelId=function(){return this.toolPanelDef.id},e.prototype.postConstruct=function(){var t=this.createTemplate();this.setTemplate(t),this.setLabel(),this.setIcon(),this.addManagedListener(this.eToggleButton,"click",this.onButtonPressed.bind(this))},e.prototype.createTemplate=function(){return'<div class="ag-side-button" role="presentation">\n                <button type="button" ref="eToggleButton" tabindex="-1" role="tab" class="ag-side-button-button">\n                    <div ref="eIconWrapper" class="ag-side-button-icon-wrapper" aria-hidden="true"></div>\n                    <span ref ="eLabel" class="ag-side-button-label"></span>\n                </button>\n            </div>'},e.prototype.setLabel=function(){var t=this.localeService.getLocaleTextFunc(),e=this.toolPanelDef,n=t(e.labelKey,e.labelDefault);this.eLabel.innerText=n},e.prototype.setIcon=function(){this.eIconWrapper.insertAdjacentElement("afterbegin",ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan(this.toolPanelDef.iconKey,this.gridOptionsService))},e.prototype.onButtonPressed=function(){this.dispatchEvent({type:e.EVENT_TOGGLE_BUTTON_CLICKED})},e.prototype.setSelected=function(t){this.addOrRemoveCssClass("ag-selected",t)},e.EVENT_TOGGLE_BUTTON_CLICKED="toggleButtonClicked",__decorate$25([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eToggleButton")],e.prototype,"eToggleButton",void 0),__decorate$25([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eIconWrapper")],e.prototype,"eIconWrapper",void 0),__decorate$25([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eLabel")],e.prototype,"eLabel",void 0),__decorate$25([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2V=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$24=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},SideBarButtonsComp=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.buttonComps=[],n}return __extends$2V(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.getFocusableElement(),"keydown",this.handleKeyDown.bind(this))},e.prototype.handleKeyDown=function(t){if(t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.TAB&&t.shiftKey){var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.columnModel.getAllDisplayedColumns());this.focusService.focusGridView(e,!0)&&t.preventDefault()}},e.prototype.setToolPanelDefs=function(t){t.forEach(this.addButtonComp.bind(this))},e.prototype.setActiveButton=function(t){this.buttonComps.forEach((function(e){e.setSelected(t===e.getToolPanelId())}))},e.prototype.addButtonComp=function(t){var n=this,o=this.createBean(new SideBarButtonComp(t));this.buttonComps.push(o),this.appendChild(o),o.addEventListener(SideBarButtonComp.EVENT_TOGGLE_BUTTON_CLICKED,(function(){n.dispatchEvent({type:e.EVENT_SIDE_BAR_BUTTON_CLICKED,toolPanelId:t.id})}))},e.prototype.clearButtons=function(){this.buttonComps=this.destroyBeans(this.buttonComps),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.getGui())},e.EVENT_SIDE_BAR_BUTTON_CLICKED="sideBarButtonClicked",e.TEMPLATE='<div class="ag-side-buttons" role="tablist"></div>',__decorate$24([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),__decorate$24([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$24([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),__decorate$24([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],e.prototype,"clearButtons",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),SideBarDefParser=function(){function t(){}return t.parse=function(e){if(e){if(!0===e)return{toolPanels:[t.DEFAULT_COLUMN_COMP,t.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if("string"==typeof e)return t.parse([e]);if(Array.isArray(e)){var n=[];if(e.forEach((function(e){var o=t.DEFAULT_BY_KEY[e];o?n.push(o):console.warn("AG Grid: the key "+e+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(t.DEFAULT_BY_KEY).join(","))})),0===n.length)return;return{toolPanels:n,defaultToolPanel:n[0].id}}return{toolPanels:t.parseComponents(e.toolPanels),defaultToolPanel:e.defaultToolPanel,hiddenByDefault:e.hiddenByDefault,position:e.position}}},t.parseComponents=function(e){var n=[];return e?(e.forEach((function(e){var o=null;if("string"==typeof e){var r=t.DEFAULT_BY_KEY[e];if(!r)return void console.warn("AG Grid: the key "+e+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(t.DEFAULT_BY_KEY).join(","));o=r}else o=e;n.push(o)})),n):n},t.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},t.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"},t.DEFAULT_BY_KEY={columns:t.DEFAULT_COLUMN_COMP,filters:t.DEFAULT_FILTER_COMP},t}(),__extends$2U=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$23=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ToolPanelWrapper=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return __extends$2U(e,t),e.prototype.setupResize=function(){var t=this.getGui(),e=this.resizeBar=this.createManagedBean(new HorizontalResizeComp);e.setElementToResize(t),this.appendChild(e)},e.prototype.getToolPanelId=function(){return this.toolPanelId},e.prototype.setToolPanelDef=function(t){var e=t.id,n=t.minWidth,o=t.maxWidth,r=t.width;this.toolPanelId=e,this.width=r;var i=this.userComponentFactory.getToolPanelCompDetails(t,{}).newAgStackInstance();null!=i?(i.then(this.setToolPanelComponent.bind(this)),null!=n&&this.resizeBar.setMinWidth(n),null!=o&&this.resizeBar.setMaxWidth(o)):console.warn("AG Grid: error processing tool panel component "+e+". You need to specify either 'toolPanel' or 'toolPanelFramework'")},e.prototype.setToolPanelComponent=function(t){var e=this;this.toolPanelCompInstance=t,this.appendChild(t.getGui()),this.addDestroyFunc((function(){e.destroyBean(t)})),this.width&&(this.getGui().style.width=this.width+"px")},e.prototype.getToolPanelInstance=function(){return this.toolPanelCompInstance},e.prototype.setResizerSizerSide=function(t){var e="left"===t,n=this.gridOptionsService.is("enableRtl")?e:!e;this.resizeBar.setInverted(n)},e.prototype.refresh=function(){this.toolPanelCompInstance.refresh()},e.TEMPLATE='<div class="ag-tool-panel-wrapper"/>',__decorate$23([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],e.prototype,"userComponentFactory",void 0),__decorate$23([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"setupResize",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2T=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$22=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},SideBarComp=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.toolPanelWrappers=[],n}return __extends$2T(e,t),e.prototype.postConstruct=function(){var t=this;this.sideBarButtonsComp.addEventListener(SideBarButtonsComp.EVENT_SIDE_BAR_BUTTON_CLICKED,this.onToolPanelButtonClicked.bind(this)),this.setSideBarDef(),this.addManagedPropertyListener("sideBar",(function(){t.clearDownUi(),t.setSideBarDef()})),this.gridApi.registerSideBarComp(this),this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.D_6(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))},e.prototype.onTabKeyDown=function(t){if(!t.defaultPrevented){var e=this.focusService,n=this.sideBarButtonsComp,o=this.getGui(),r=n.getGui(),i=this.gridOptionsService.getDocument().activeElement,s=o.querySelector(".ag-tool-panel-wrapper:not(.ag-hidden)"),a=t.target;if(s)if(r.contains(i))e.focusInto(s,t.shiftKey)&&t.preventDefault();else if(t.shiftKey){var l=null;s.contains(i)?l=this.focusService.findNextFocusableElement(s,void 0,!0):e.isTargetUnderManagedComponent(s,a)&&t.shiftKey&&(l=this.focusService.findFocusableElementBeforeTabGuard(s,a)),l||(l=r.querySelector(".ag-selected button")),l&&(t.preventDefault(),l.focus())}}},e.prototype.handleKeyDown=function(t){var e=this.gridOptionsService.getDocument();if(this.sideBarButtonsComp.getGui().contains(e.activeElement)){var n=this.sideBarButtonsComp.getGui(),o=Array.prototype.slice.call(n.querySelectorAll(".ag-side-button")),r=e.activeElement,i=o.findIndex((function(t){return t.contains(r)})),s=null;switch(t.key){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.LEFT:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.UP:s=Math.max(0,i-1);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.RIGHT:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.DOWN:s=Math.min(i+1,o.length-1)}if(null!==s){var a=o[s].querySelector("button");a&&(a.focus(),t.preventDefault())}}},e.prototype.onToolPanelButtonClicked=function(t){var e=t.toolPanelId;this.openedItem()===e?this.openToolPanel(void 0,"sideBarButtonClicked"):this.openToolPanel(e,"sideBarButtonClicked")},e.prototype.clearDownUi=function(){this.sideBarButtonsComp.clearButtons(),this.destroyToolPanelWrappers()},e.prototype.setSideBarDef=function(){this.setDisplayed(!1);var t=this.gridOptionsService.get("sideBar");if(this.sideBar=SideBarDefParser.parse(t),this.sideBar&&this.sideBar.toolPanels){var e=!this.sideBar.hiddenByDefault;this.setDisplayed(e);var n=this.sideBar.toolPanels;this.sideBarButtonsComp.setToolPanelDefs(n),this.setupToolPanels(n),this.setSideBarPosition(this.sideBar.position),this.sideBar.hiddenByDefault||this.openToolPanel(this.sideBar.defaultToolPanel,"sideBarInitializing")}},e.prototype.getDef=function(){return this.sideBar},e.prototype.setSideBarPosition=function(t){t||(t="right");var e="left"===t,n=e?"right":"left";return this.addOrRemoveCssClass("ag-side-bar-left",e),this.addOrRemoveCssClass("ag-side-bar-right",!e),this.toolPanelWrappers.forEach((function(t){t.setResizerSizerSide(n)})),this},e.prototype.setupToolPanels=function(t){var e=this;t.forEach((function(t){if(null!=t.id){if("agColumnsToolPanel"===t.toolPanel)if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ColumnsToolPanelModule,"Column Tool Panel"))return;if("agFiltersToolPanel"===t.toolPanel)if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.FiltersToolPanelModule,"Filters Tool Panel"))return;var n=new ToolPanelWrapper;e.getContext().createBean(n),n.setToolPanelDef(t),n.setDisplayed(!1),e.getGui().appendChild(n.getGui()),e.toolPanelWrappers.push(n)}else console.warn("AG Grid: please review all your toolPanel components, it seems like at least one of them doesn't have an id")}))},e.prototype.refresh=function(){this.toolPanelWrappers.forEach((function(t){return t.refresh()}))},e.prototype.openToolPanel=function(t,e){void 0===e&&(e="api");var n=this.openedItem();n!==t&&(this.toolPanelWrappers.forEach((function(e){var n=t===e.getToolPanelId();e.setDisplayed(n)})),n!==this.openedItem()&&(this.sideBarButtonsComp.setActiveButton(t),this.raiseToolPanelVisibleEvent(t,null!=n?n:void 0,e)))},e.prototype.getToolPanelInstance=function(t){var e=this.toolPanelWrappers.filter((function(e){return e.getToolPanelId()===t}))[0];if(e)return e.getToolPanelInstance();console.warn("AG Grid: unable to lookup Tool Panel as invalid key supplied: "+t)},e.prototype.raiseToolPanelVisibleEvent=function(t,e,n){var o={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_TOOL_PANEL_VISIBLE_CHANGED,source:t};if(this.eventService.dispatchEvent(o),e){var r={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_INTERNAL_TOOL_PANEL_VISIBLE_CHANGED,source:n,key:e,visible:!1};this.eventService.dispatchEvent(r)}if(t){var i={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_INTERNAL_TOOL_PANEL_VISIBLE_CHANGED,source:n,key:t,visible:!0};this.eventService.dispatchEvent(i)}},e.prototype.close=function(t){void 0===t&&(t="api"),this.openToolPanel(void 0,t)},e.prototype.isToolPanelShowing=function(){return!!this.openedItem()},e.prototype.openedItem=function(){var t=null;return this.toolPanelWrappers.forEach((function(e){e.isDisplayed()&&(t=e.getToolPanelId())})),t},e.prototype.destroyToolPanelWrappers=function(){var t=this;this.toolPanelWrappers.forEach((function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(e.getGui()),t.destroyBean(e)})),this.toolPanelWrappers.length=0},e.prototype.destroy=function(){this.destroyToolPanelWrappers(),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-side-bar ag-unselectable">\n            <ag-side-bar-buttons ref="sideBarButtons"></ag-side-bar-buttons>\n        </div>',__decorate$22([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$22([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),__decorate$22([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("sideBarButtons")],e.prototype,"sideBarButtonsComp",void 0),__decorate$22([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2S=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$21=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ToolPanelColDefService=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isColGroupDef=function(t){return t&&void 0!==t.children},e.getId=function(t){return e.isColGroupDef(t)?t.groupId:t.colId},e}return __extends$2S(e,t),e.prototype.createColumnTree=function(t){var e=this,n=[],o=function(t,r){if(e.isColGroupDef(t)){var i=t,s=void 0!==i.groupId?i.groupId:i.headerName,a=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm(i,s,!1,r),l=[];return i.children.forEach((function(t){var e=o(t,r+1);e&&l.push(e)})),a.setChildren(l),a}var c=t,u=c.colId?c.colId:c.field,d=e.columnModel.getPrimaryColumn(u);return d||n.push(c),d},r=[];return t.forEach((function(t){var e=o(t,0);e&&r.push(e)})),n.length>0&&console.warn("AG Grid: unable to find grid columns for the supplied colDef(s):",n),r},e.prototype.syncLayoutWithGrid=function(t){var e=this.getLeafPathTrees();t(this.mergeLeafPathTrees(e))},e.prototype.getLeafPathTrees=function(){var t=function(e,n){var o;if(e instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm)if(e.isPadding())o=n;else{var r=Object.assign({},e.getColGroupDef());r.groupId=e.getGroupId(),r.children=[n],o=r}else{var i=Object.assign({},e.getColDef());i.colId=e.getColId(),o=i}var s=e.getOriginalParent();return s?t(s,o):o},e=this.columnModel.getAllGridColumns().filter((function(t){var e=t.getColDef();return t.isPrimary()&&!e.showRowGroup}));return e.map((function(e){return t(e,e.getColDef())}))},e.prototype.mergeLeafPathTrees=function(t){for(var e,n,o=this,r=function(t,e){if(!o.isColGroupDef(e))return t;var n=t,i=e;if(i.children&&i.groupId&&o.addChildrenToGroup(n,i.groupId,i.children[0]))return n;return i.children.forEach((function(t){return r(n,t)})),n},i=[],s=1;s<=t.length;s++){var a=t[s-1],l=t[s];e=a,n=l,o.isColGroupDef(e)&&o.isColGroupDef(n)&&o.getId(e)===o.getId(n)?t[s]=r(a,l):i.push(a)}return i},e.prototype.addChildrenToGroup=function(t,e,n){var o=this;if(!this.isColGroupDef(t))return!0;var r=t,i=n;if(function(t,e){var n=t.children.map(o.getId),r=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(n,o.getId(e)),i=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(t.children),s=i&&o.getId(i)!==o.getId(e);return r&&s}(r,i))return r.children.push(i),!0;if(r.groupId===e){var s=r.children.map(this.getId);if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(s,this.getId(i)))return r.children.push(i),!0}return r.children.forEach((function(t){return o.addChildrenToGroup(t,e,n)})),!1},__decorate$21([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),e=__decorate$21([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("toolPanelColDefService")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),VERSION$f="29.3.4",SideBarModule={version:VERSION$f,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.SideBarModule,beans:[ToolPanelColDefService],agStackComponents:[{componentName:"AgHorizontalResize",componentClass:HorizontalResizeComp},{componentName:"AgSideBar",componentClass:SideBarComp},{componentName:"AgSideBarButtons",componentClass:SideBarButtonsComp}],dependantModules:[EnterpriseCoreModule]},__decorate$20=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ModelItemUtils=function(){function t(){}return t.prototype.selectAllChildren=function(t,e,n){var o=this.extractAllLeafColumns(t);this.setAllColumns(o,e,n)},t.prototype.setColumn=function(t,e,n){this.setAllColumns([t],e,n)},t.prototype.setAllColumns=function(t,e,n){this.columnModel.isPivotMode()?this.setAllPivot(t,e,n):this.setAllVisible(t,e,n)},t.prototype.extractAllLeafColumns=function(t){var e=[],n=function(t){t.forEach((function(t){t.isPassesFilter()&&(t.isGroup()?n(t.getChildren()):e.push(t.getColumn()))}))};return n(t),e},t.prototype.setAllVisible=function(t,e,n){var o=[];t.forEach((function(t){t.getColDef().lockVisible||t.isVisible()!=e&&o.push({colId:t.getId(),hide:!e})})),o.length>0&&this.columnModel.applyColumnState({state:o},n)},t.prototype.setAllPivot=function(t,e,n){this.gridOptionsService.is("functionsPassive")?this.setAllPivotPassive(t,e):this.setAllPivotActive(t,e,n)},t.prototype.setAllPivotPassive=function(t,e){var n=this.columnModel.getPivotColumns().slice(),o=this.columnModel.getValueColumns().slice(),r=this.columnModel.getRowGroupColumns().slice(),i=!1,s=!1,a=!1,l=e?function(t){t.isAnyFunctionActive()||(t.isAllowValue()?(o.push(t),s=!0):t.isAllowRowGroup()?(r.push(t),i=!0):t.isAllowPivot()&&(n.push(t),a=!0))}:function(t){t.isAnyFunctionActive()&&(n.indexOf(t)>=0&&(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(n,t),i=!0),o.indexOf(t)>=0&&(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(o,t),s=!0),r.indexOf(t)>=0&&(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(r,t),a=!0))};if(t.forEach(l),i){var c={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:n};this.eventService.dispatchEvent(c)}if(a){var u={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:r};this.eventService.dispatchEvent(u)}if(s){var d={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:r};this.eventService.dispatchEvent(d)}},t.prototype.setAllPivotActive=function(t,e,n){var o=this,r=[],i=e?function(t){if(!t.isAnyFunctionActive())if(t.isAllowValue()){var e="string"==typeof t.getAggFunc()?t.getAggFunc():o.aggFuncService.getDefaultAggFunc(t);r.push({colId:t.getId(),aggFunc:e})}else t.isAllowRowGroup()?r.push({colId:t.getId(),rowGroup:!0}):t.isAllowPivot()&&r.push({colId:t.getId(),pivot:!0})}:function(t){(t.isPivotActive()||t.isRowGroupActive()||t.isValueActive())&&r.push({colId:t.getId(),pivot:!1,rowGroup:!1,aggFunc:null})};t.forEach(i),r.length>0&&this.columnModel.applyColumnState({state:r},n)},__decorate$20([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("aggFuncService")],t.prototype,"aggFuncService",void 0),__decorate$20([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$20([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridOptionsService")],t.prototype,"gridOptionsService",void 0),__decorate$20([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("eventService")],t.prototype,"eventService",void 0),t=__decorate$20([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("modelItemUtils")],t)}(),VERSION$e="29.3.4",ColumnsToolPanelModule={version:VERSION$e,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ColumnsToolPanelModule,beans:[ModelItemUtils],agStackComponents:[{componentName:"AgPrimaryColsHeader",componentClass:PrimaryColsHeaderPanel},{componentName:"AgPrimaryColsList",componentClass:PrimaryColsListPanel},{componentName:"AgPrimaryCols",componentClass:PrimaryColsPanel}],userComponents:[{componentName:"agColumnsToolPanel",componentClass:ColumnToolPanel}],dependantModules:[EnterpriseCoreModule,RowGroupingModule,SideBarModule]},workbook={getTemplate:function(){return{name:"Workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",html:"http://www.w3.org/TR/REC-html40"}}],rawMap:{xmlns:"urn:schemas-microsoft-com:office:spreadsheet"}}}}},excelWorkbook={getTemplate:function(){return{name:"ExcelWorkbook",properties:{rawMap:{xmlns:"urn:schemas-microsoft-com:office:excel"}},children:[{name:"WindowHeight",textNode:"8130"},{name:"WindowWidth",textNode:"15135"},{name:"WindowHeight",textNode:"8130"},{name:"WindowTopX",textNode:"120"},{name:"WindowTopY",textNode:"45"},{name:"ProtectStructure",textNode:"False"},{name:"ProtectWindow",textNode:"False"}]}}},column={getTemplate:function(t){return{name:"Column",properties:{prefixedAttributes:[{prefix:"ss:",map:{Width:t.width}}]}}}},cell={getTemplate:function(t){var e=t.mergeAcross,n=t.styleId,o=t.data,r={};return e&&(r.MergeAcross=e),n&&(r.StyleID=n),{name:"Cell",properties:{prefixedAttributes:[{prefix:"ss:",map:r}]},children:[{name:"Data",properties:{prefixedAttributes:[{prefix:"ss:",map:{Type:null==o?void 0:o.type}}]},textNode:null==o?void 0:o.value}]}}},row={getTemplate:function(t){return{name:"Row",children:t.cells.map((function(t){return cell.getTemplate(t)}))}}},worksheet={getTemplate:function(t){var e=t.table,n=t.name,o=e.columns,r=e.rows,i=o.map((function(t){return column.getTemplate(t)})),s=r.map((function(t){return row.getTemplate(t)}));return{name:"Worksheet",children:[{name:"Table",children:i.concat(s)}],properties:{prefixedAttributes:[{prefix:"ss:",map:{Name:n}}]}}}},documentProperties={getTemplate:function(){return{name:"DocumentProperties",properties:{rawMap:{xmlns:"urn:schemas-microsoft-com:office:office"}},children:[{name:"Version",textNode:"12.00"}]}}},alignment={getTemplate:function(t){var e=t.alignment;return{name:"Alignment",properties:{prefixedAttributes:[{prefix:"ss:",map:{Vertical:e.vertical,Horizontal:e.horizontal,Indent:e.indent,ReadingOrder:e.readingOrder,Rotate:e.rotate,ShrinkToFit:e.shrinkToFit,VerticalText:e.verticalText,WrapText:e.wrapText}}]}}}},borders={getTemplate:function(t){var e=t.borders;return{name:"Borders",children:[e.borderBottom,e.borderLeft,e.borderRight,e.borderTop].map((function(t,e){return{name:"Border",properties:{prefixedAttributes:[{prefix:"ss:",map:{Position:0==e?"Bottom":1==e?"Left":2==e?"Right":"Top",LineStyle:t.lineStyle,Weight:t.weight,Color:t.color}}]}}}))}}},font={getTemplate:function(t){var e=t.font;return{name:"Font",properties:{prefixedAttributes:[{prefix:"ss:",map:{Bold:e.bold,FontName:e.fontName,Italic:e.italic,Color:e.color,Outline:e.outline,Shadow:e.shadow,Size:e.size,StrikeThrough:e.strikeThrough,Underline:e.underline,VerticalAlign:e.verticalAlign}},{prefix:"x:",map:{CharSet:e.charSet,Family:e.family}}]}}}},interior={getTemplate:function(t){var e=t.interior;return{name:"Interior",properties:{prefixedAttributes:[{prefix:"ss:",map:{Color:e.color,Pattern:e.pattern,PatternColor:e.patternColor}}]}}}},protection={getTemplate:function(t){return{name:"Protection",properties:{prefixedAttributes:[{prefix:"ss:",map:{Protected:t.protection.protected,HideFormula:t.protection.hideFormula}}]}}}},numberFormat={getTemplate:function(t){return{name:"NumberFormat",properties:{prefixedAttributes:[{prefix:"ss:",map:{Format:t.numberFormat.format}}]}}}},style={getTemplate:function(t){var e=t.id,n=t.name;return{name:"Style",properties:{prefixedAttributes:[{prefix:"ss:",map:{ID:e,Name:n||e}}]}}}},ExcelXmlFactory=function(){function t(){}return t.createExcel=function(t,e){var n=this.excelXmlHeader(),o=documentProperties.getTemplate(),r=excelWorkbook.getTemplate(),i=this.workbook(o,r,t,e);return""+n+ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.IUB.createXml(i,(function(t){return t?"1":"0"}))},t.workbook=function(t,e,n,o){var r=[t,e,this.stylesXmlElement(n)].concat(worksheet.getTemplate(o));return Object.assign({},workbook.getTemplate(),{children:r})},t.excelXmlHeader=function(){return'<?xml version="1.0" ?>\n        <?mso-application progid="Excel.Sheet" ?>\n        '},t.stylesXmlElement=function(t){var e=this;return{name:"Styles",children:t?t.map((function(t){return e.styleXmlElement(t)})):[]}},t.styleXmlElement=function(t){var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.compose(this.addProperty("alignment",t),this.addProperty("borders",t),this.addProperty("font",t),this.addProperty("interior",t),this.addProperty("protection",t),this.addProperty("numberFormat",t))([]);return Object.assign({},style.getTemplate(t),{children:e})},t.addProperty=function(t,e){return function(n){if(!e[t])return n;var o={alignment,borders,font,interior,numberFormat,protection};return n.concat(o[t].getTemplate(e))}},t.factoryMode=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.nPL.SINGLE_SHEET,t}(),INCH_TO_EMU=9525,numberFormatMap={0:1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49},pixelsToPoint=function(t){return Math.round(72*t/96)},pointsToPixel=function(t){return Math.round(96*t/72)},pixelsToEMU=function(t){return Math.ceil(t*INCH_TO_EMU)},getFontFamilyId=function(t){if(void 0!==t){var e=["Automatic","Roman","Swiss","Modern","Script","Decorative"].indexOf(t||"Automatic");return Math.max(e,0)}},getHeightFromProperty=function(t,e){if(e){var n;if("number"==typeof e)n=e;else n=e({rowIndex:t});return pixelsToPoint(n)}},setExcelImageTotalWidth=function(t,e){var n=t.position,o=n.colSpan,r=n.column;if(t.width)if(o)for(var i=e.slice(r-1,r+o-1),s=0,a=0;a<i.length;a++){var l=i[a].getActualWidth();if(t.width<s+l){t.position.colSpan=a+1,t.totalWidth=t.width,t.width=t.totalWidth-s;break}s+=l}else t.totalWidth=t.width},setExcelImageTotalHeight=function(t,e){var n=t.position,o=n.rowSpan,r=n.row;if(t.height)if(o)for(var i=0,s=0,a=r;a<r+o;a++){var l=pointsToPixel(getHeightFromProperty(a,e)||20);if(t.height<i+l){t.position.rowSpan=s+1,t.totalHeight=t.height,t.height=t.totalHeight-i;break}i+=l,s++}else t.totalHeight=t.height},createXmlPart=function(t){return""+ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.IUB.createHeader({encoding:"UTF-8",standalone:"yes"})+ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.IUB.createXml(t)},getExcelColumnName=function(t){var e=String.fromCharCode,n=Math.floor(t/26),o=t%26;return n&&26!==t?o?n<26?e(65+n-1)+e(65+o-1):getExcelColumnName(n)+e(65+o-1):getExcelColumnName(n-1)+"Z":e(65+t-1)},__extends$2R=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$M=function(){return __assign$M=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$M.apply(this,arguments)},__read$17=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$F=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$17(arguments[e]));return t},BaseExcelSerializingSession=function(t){function e(e){var n=t.call(this,e)||this;return n.mixedStyles={},n.mixedStyleCounter=0,n.rows=[],n.config=Object.assign({},e),n.stylesByIds={},n.config.baseExcelStyles.forEach((function(t){n.stylesByIds[t.id]=t})),n.excelStyles=__spread$F(n.config.baseExcelStyles),n}return __extends$2R(e,t),e.prototype.addCustomContent=function(t){var e=this;t.forEach((function(t){var n=e.rows.length+1,o={height:getHeightFromProperty(n,t.height||e.config.rowHeight),cells:(t.cells||[]).map((function(t,o){var r,i,s,a=e.addImage(n,e.columnsToExport[o],null===(r=t.data)||void 0===r?void 0:r.value),l=null;t.styleId&&(l="string"==typeof t.styleId?[t.styleId]:t.styleId);var c=e.getStyleId(l);if(a)return e.createCell(c,e.getDataTypeForValue(a.value),null==a.value?"":a.value);var u=null!==(s=null===(i=t.data)||void 0===i?void 0:i.value)&&void 0!==s?s:"",d=e.getDataTypeForValue(u);return t.mergeAcross?e.createMergedCell(c,d,u,t.mergeAcross):e.createCell(c,d,u)})),outlineLevel:t.outlineLevel||void 0};null!=t.collapsed&&(o.collapsed=t.collapsed),null!=t.hidden&&(o.hidden=t.hidden),e.rows.push(o)}))},e.prototype.onNewHeaderGroupingRow=function(){var t=this,e=[];return this.rows.push({cells:e,height:getHeightFromProperty(this.rows.length+1,this.config.headerRowHeight)}),{onColumn:function(n,o,r,i,s){var a=t.config.styleLinker({rowType:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aCu.HEADER_GROUPING,rowIndex:1,value:"grouping-"+o,columnGroup:n});e.push(__assign$M(__assign$M({},t.createMergedCell(t.getStyleId(a),t.getDataTypeForValue("string"),o,i)),{collapsibleRanges:s}))}}},e.prototype.onNewHeaderRow=function(){return this.onNewRow(this.onNewHeaderColumn,this.config.headerRowHeight)},e.prototype.onNewBodyRow=function(){return this.onNewRow(this.onNewBodyColumn,this.config.rowHeight)},e.prototype.prepare=function(e){var n=this;t.prototype.prepare.call(this,e),this.columnsToExport=__spread$F(e),this.cols=e.map((function(t,e){return n.convertColumnToExcel(t,e)}))},e.prototype.parse=function(){for(var t=this.rows.reduce((function(t,e){return Math.max(t,e.cells.length)}),0);this.cols.length<t;)this.cols.push(this.convertColumnToExcel(null,this.cols.length+1));var e={name:this.config.sheetName,table:{columns:this.cols,rows:this.rows}};return this.createExcel(e)},e.prototype.isFormula=function(t){return null!=t&&(this.config.autoConvertFormulas&&t.toString().startsWith("="))},e.prototype.isNumerical=function(t){return isFinite(t)&&""!==t&&!isNaN(parseFloat(t))},e.prototype.getStyleById=function(t){return null==t?null:this.stylesByIds[t]||null},e.prototype.convertColumnToExcel=function(t,e){var n=this.config.columnWidth;if(n)return"number"==typeof n?{width:n}:{width:n({column:t,index:e})};if(t){return{width:Math.max(t.getActualWidth(),75)}}return{}},e.prototype.onNewHeaderColumn=function(t,e){var n=this;return function(o,r){var i=n.extractHeaderValue(o),s=n.config.styleLinker({rowType:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aCu.HEADER,rowIndex:t,value:i,column:o});e.push(n.createCell(n.getStyleId(s),n.getDataTypeForValue("string"),i))}},e.prototype.onNewRow=function(t,e){var n=[];return this.rows.push({cells:n,height:getHeightFromProperty(this.rows.length+1,e)}),{onColumn:t.bind(this,this.rows.length,n)()}},e.prototype.onNewBodyColumn=function(t,e){var n=this,o=0;return function(r,i,s){if(o>0)o-=1;else{if(!n.config.gridOptionsService.is("groupHideOpenParents")&&null!=s.level){var a=s.footer?1:0;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(n.rows).outlineLevel=s.level+a}var l=n.extractRowCellValue(r,i,t,"excel",s),c=n.config.styleLinker({rowType:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aCu.BODY,rowIndex:t,value:l,column:r,node:s}),u=n.getStyleId(c),d=r.getColSpan(s),p=n.addImage(t,r,l);p?e.push(n.createCell(u,n.getDataTypeForValue(p.value),null==p.value?"":p.value)):d>1?(o=d-1,e.push(n.createMergedCell(u,n.getDataTypeForValue(l),l,d-1))):e.push(n.createCell(u,n.getDataTypeForValue(l),l))}}},e.prototype.getStyleId=function(t){if(!t||!t.length)return null;if(1===t.length)return t[0];var e=t.join("-");return this.mixedStyles[e]||this.addNewMixedStyle(t),this.mixedStyles[e].excelID},e.prototype.addNewMixedStyle=function(t){var e=this;this.mixedStyleCounter+=1;var n="mixedStyle"+this.mixedStyleCounter,o={};t.forEach((function(t){e.excelStyles.forEach((function(e){e.id===t&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.mergeDeep(o,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.deepCloneObject(e))}))})),o.id=n,o.name=n;var r=t.join("-");this.mixedStyles[r]={excelID:n,key:r,result:o},this.excelStyles.push(o),this.stylesByIds[n]=o},e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.WKU),__extends$2Q=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ExcelXmlSerializingSession=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2Q(e,t),e.prototype.createExcel=function(t){return ExcelXmlFactory.createExcel(this.excelStyles,t)},e.prototype.getDataTypeForValue=function(t){return this.isNumerical(t)?"Number":"String"},e.prototype.getType=function(t,e,n){if(this.isFormula(n))return"Formula";if(e&&e.dataType)switch(e.dataType.toLocaleLowerCase()){case"string":return"Formula";case"number":return"Number";case"datetime":return"DateTime";case"error":return"Error";case"boolean":return"Boolean";default:console.warn("AG Grid: Unrecognized data type for excel export ["+e.id+".dataType="+e.dataType+"]")}return t},e.prototype.addImage=function(){},e.prototype.createCell=function(t,e,n){var o=this.getStyleById(t),r=this.getType(e,o,n)||e;return{styleId:o?t:void 0,data:{type:r,value:this.getValueTransformed(r,n)}}},e.prototype.getValueTransformed=function(t,e){var n,o=this;switch(t){case"String":return function(t){if(o.config.suppressTextAsCDATA)return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(t);var e="<![CDATA[",n="]]>",r=new RegExp(n,"g");return e+String(t).replace(r,"]]"+n+e+">")+n}(e);case"Number":return Number(e).valueOf()+"";case"Boolean":return(n=e)&&"0"!==n&&"false"!==n?"1":"0";default:return e}},e.prototype.createMergedCell=function(t,e,n,o){return{styleId:this.getStyleById(t)?t:void 0,data:{type:e,value:n},mergeAcross:o}},e}(BaseExcelSerializingSession),coreFactory={getTemplate:function(t){var e=(new Date).toJSON();return{name:"cp:coreProperties",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"}}]},children:[{name:"dc:creator",textNode:t},{name:"dc:title",textNode:"Workbook"},{name:"dcterms:created",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:e},{name:"dcterms:modified",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:e}]}}},contentTypeFactory={getTemplate:function(t){var e=t.name,n=t.ContentType;return{name:e,properties:{rawMap:{Extension:t.Extension,PartName:t.PartName,ContentType:n}}}}},__read$16=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$E=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$16(arguments[e]));return t},contentTypesFactory={getTemplate:function(t){var e=new Array(t).fill(void 0).map((function(t,e){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",PartName:"/xl/worksheets/sheet"+(e+1)+".xml"}})),n=ExcelXlsxFactory.worksheetImages.size,o={};ExcelXlsxFactory.workbookImageIds.forEach((function(t){o[t.type]=!0}));var r=new Array(n).fill(void 0).map((function(t,e){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml",PartName:"/xl/drawings/drawing"+(e+1)+".xml"}})),i=Object.keys(o).map((function(t){return{name:"Default",ContentType:"image/"+t,Extension:t}}));return{name:"Types",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"}},children:__spread$E(i,[{name:"Default",Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"},{name:"Default",ContentType:"application/xml",Extension:"xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",PartName:"/xl/workbook.xml"}],e,[{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml",PartName:"/xl/theme/theme1.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",PartName:"/xl/styles.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",PartName:"/xl/sharedStrings.xml"}],r,[{name:"Override",ContentType:"application/vnd.openxmlformats-package.core-properties+xml",PartName:"/docProps/core.xml"}]).map((function(t){return contentTypeFactory.getTemplate(t)}))}}},getAnchor=function(t,e){return{name:"xdr:"+t,children:[{name:"xdr:col",textNode:e.col.toString()},{name:"xdr:colOff",textNode:e.offsetX.toString()},{name:"xdr:row",textNode:e.row.toString()},{name:"xdr:rowOff",textNode:e.offsetY.toString()}]}},getExt=function(t){var e=[{name:"a:ext",properties:{rawMap:{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}},children:[{name:"a16:creationId",properties:{rawMap:{id:"{822E6D20-D7BC-2841-A643-D49A6EF008A2}","xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main"}}}]}];switch(t.recolor&&t.recolor.toLowerCase()){case"grayscale":case"sepia":case"washout":e.push({name:"a:ext",properties:{rawMap:{uri:"{C183D7F6-B498-43B3-948B-1728B52AA6E4}"}},children:[{name:"adec:decorative",properties:{rawMap:{val:"0","xmlns:adec":"http://schemas.microsoft.com/office/drawing/2017/decorative"}}}]})}return{name:"a:extLst",children:e}},getNvPicPr=function(t,e){return{name:"xdr:nvPicPr",children:[{name:"xdr:cNvPr",properties:{rawMap:{id:e,name:t.id,descr:null!=t.altText?t.altText:void 0}},children:[getExt(t)]},{name:"xdr:cNvPicPr",properties:{rawMap:{preferRelativeResize:"0"}},children:[{name:"a:picLocks"}]}]}},getColorDetails=function(t){if(t.saturation||t.tint){var e=[];return t.saturation&&e.push({name:"a:satMod",properties:{rawMap:{val:1e3*t.saturation}}}),t.tint&&e.push({name:"a:tint",properties:{rawMap:{val:1e3*t.tint}}}),e}},getDuoTone=function(t,e){return{name:"a:duotone",children:[{name:"a:prstClr",properties:{rawMap:{val:t.color}},children:getColorDetails(t)},{name:"a:srgbClr",properties:{rawMap:{val:e.color}},children:getColorDetails(e)}]}},getBlipFill=function(t,e){var n;if(t.transparency){var o=Math.min(Math.max(t.transparency,0),100);n=[{name:"a:alphaModFix",properties:{rawMap:{amt:1e5-Math.round(1e3*o)}}}]}if(t.recolor)switch(n||(n=[]),t.recolor.toLocaleLowerCase()){case"grayscale":n.push({name:"a:grayscl"});break;case"sepia":n.push(getDuoTone({color:"black"},{color:"D9C3A5",tint:50,saturation:180}));break;case"washout":n.push({name:"a:lum",properties:{rawMap:{bright:"70000",contrast:"-70000"}}})}return{name:"xdr:blipFill",children:[{name:"a:blip",properties:{rawMap:{cstate:"print","r:embed":"rId"+e,"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}},children:n},{name:"a:stretch",children:[{name:"a:fillRect"}]}]}},getSpPr=function(t,e){var n={name:"a:xfrm",children:[{name:"a:off",properties:{rawMap:{x:0,y:0}}},{name:"a:ext",properties:{rawMap:{cx:e.width,cy:e.height}}}]};if(t.rotation){var o=t.rotation;n.properties={rawMap:{rot:6e4*Math.min(Math.max(o,0),360)}}}return{name:"xdr:spPr",children:[n,{name:"a:prstGeom",properties:{rawMap:{prst:"rect"}},children:[{name:"a:avLst"}]}]}},getImageBoxSize=function(t){t.fitCell=!!t.fitCell||!t.width||!t.height;var e=t.position,n=void 0===e?{}:e,o=t.fitCell,r=t.width,i=void 0===r?0:r,s=t.height,a=void 0===s?0:s,l=t.totalHeight,c=t.totalWidth,u=n.offsetX,d=void 0===u?0:u,p=n.offsetY,h=void 0===p?0:p,f=n.row,g=void 0===f?1:f,_=n.rowSpan,m=void 0===_?1:_,y=n.column,v=void 0===y?1:y,C=n.colSpan,E=void 0===C?1:C;return{from:{row:g-1,col:v-1,offsetX:pixelsToEMU(d),offsetY:pixelsToEMU(h)},to:{row:g-1+(o?1:m-1),col:v-1+(o?1:E-1),offsetX:pixelsToEMU(i+d),offsetY:pixelsToEMU(a+h)},height:pixelsToEMU(l||a),width:pixelsToEMU(c||i)}},getPicture=function(t,e,n,o){return{name:"xdr:pic",children:[getNvPicPr(t,e+1),getBlipFill(t,n+1),getSpPr(t,o)]}},drawingFactory={getTemplate:function(t){var e=t.sheetIndex,n=ExcelXlsxFactory.worksheetImages.get(e),o=ExcelXlsxFactory.worksheetImageIds.get(e);return{name:"xdr:wsDr",properties:{rawMap:{"xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main","xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing"}},children:n.map((function(t,e){var n=getImageBoxSize(t);return{name:"xdr:twoCellAnchor",properties:{rawMap:{editAs:"absolute"}},children:[getAnchor("from",n.from),getAnchor("to",n.to),getPicture(t,e,o.get(t.id).index,n),{name:"xdr:clientData"}]}}))}}},__read$15=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},getColorChildren=function(t){var e=__read$15(t,4);return{name:"a:"+e[0],children:[{name:"a:"+e[1],properties:{rawMap:{val:e[2],lastClr:e[3]}}}]}},colorScheme={getTemplate:function(){return{name:"a:clrScheme",properties:{rawMap:{name:"Office"}},children:[getColorChildren(["dk1","sysClr","windowText","000000"]),getColorChildren(["lt1","sysClr","window","FFFFFF"]),getColorChildren(["dk2","srgbClr","44546A"]),getColorChildren(["lt2","srgbClr","E7E6E6"]),getColorChildren(["accent1","srgbClr","4472C4"]),getColorChildren(["accent2","srgbClr","ED7D31"]),getColorChildren(["accent3","srgbClr","A5A5A5"]),getColorChildren(["accent4","srgbClr","FFC000"]),getColorChildren(["accent5","srgbClr","5B9BD5"]),getColorChildren(["accent6","srgbClr","70AD47"]),getColorChildren(["hlink","srgbClr","0563C1"]),getColorChildren(["folHlink","srgbClr","954F72"])]}}},__read$14=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},getFont$1=function(t){var e=__read$14(t,4),n=e[0],o=e[1];return{name:"a:"+n,properties:{rawMap:{script:e[2],typeface:o,panose:e[3]}}}},fontScheme={getTemplate:function(){var t=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode;return{name:"a:fontScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:majorFont",children:[getFont$1(["latin","Calibri Light",void 0,"020F0302020204030204"]),getFont$1(["ea",""]),getFont$1(["cs",""]),getFont$1(["font",t(" Light"),"Jpan"]),getFont$1(["font",t(" "),"Hang"]),getFont$1(["font",t(" Light"),"Hans"]),getFont$1(["font",t(""),"Hant"]),getFont$1(["font","Times New Roman","Arab"]),getFont$1(["font","Times New Roman","Hebr"]),getFont$1(["font","Tahoma","Thai"]),getFont$1(["font","Nyala","Ethi"]),getFont$1(["font","Vrinda","Beng"]),getFont$1(["font","Shruti","Gujr"]),getFont$1(["font","MoolBoran","Khmr"]),getFont$1(["font","Tunga","Knda"]),getFont$1(["font","Raavi","Guru"]),getFont$1(["font","Euphemia","Cans"]),getFont$1(["font","Plantagenet Cherokee","Cher"]),getFont$1(["font","Microsoft Yi Baiti","Yiii"]),getFont$1(["font","Microsoft Himalaya","Tibt"]),getFont$1(["font","MV Boli","Thaa"]),getFont$1(["font","Mangal","Deva"]),getFont$1(["font","Gautami","Telu"]),getFont$1(["font","Latha","Taml"]),getFont$1(["font","Estrangelo Edessa","Syrc"]),getFont$1(["font","Kalinga","Orya"]),getFont$1(["font","Kartika","Mlym"]),getFont$1(["font","DokChampa","Laoo"]),getFont$1(["font","Iskoola Pota","Sinh"]),getFont$1(["font","Mongolian Baiti","Mong"]),getFont$1(["font","Times New Roman","Viet"]),getFont$1(["font","Microsoft Uighur","Uigh"]),getFont$1(["font","Sylfaen","Geor"]),getFont$1(["font","Arial","Armn"]),getFont$1(["font","Leelawadee UI","Bugi"]),getFont$1(["font","Microsoft JhengHei","Bopo"]),getFont$1(["font","Javanese Text","Java"]),getFont$1(["font","Segoe UI","Lisu"]),getFont$1(["font","Myanmar Text","Mymr"]),getFont$1(["font","Ebrima","Nkoo"]),getFont$1(["font","Nirmala UI","Olck"]),getFont$1(["font","Ebrima","Osma"]),getFont$1(["font","Phagspa","Phag"]),getFont$1(["font","Estrangelo Edessa","Syrn"]),getFont$1(["font","Estrangelo Edessa","Syrj"]),getFont$1(["font","Estrangelo Edessa","Syre"]),getFont$1(["font","Nirmala UI","Sora"]),getFont$1(["font","Microsoft Tai Le","Tale"]),getFont$1(["font","Microsoft New Tai Lue","Talu"]),getFont$1(["font","Ebrima","Tfng"])]},{name:"a:minorFont",children:[getFont$1(["latin","Calibri",void 0,"020F0502020204030204"]),getFont$1(["ea",""]),getFont$1(["cs",""]),getFont$1(["font",t(""),"Jpan"]),getFont$1(["font",t(" "),"Hang"]),getFont$1(["font",t(""),"Hans"]),getFont$1(["font",t(""),"Hant"]),getFont$1(["font","Arial","Arab"]),getFont$1(["font","Arial","Hebr"]),getFont$1(["font","Tahoma","Thai"]),getFont$1(["font","Nyala","Ethi"]),getFont$1(["font","Vrinda","Beng"]),getFont$1(["font","Shruti","Gujr"]),getFont$1(["font","DaunPenh","Khmr"]),getFont$1(["font","Tunga","Knda"]),getFont$1(["font","Raavi","Guru"]),getFont$1(["font","Euphemia","Cans"]),getFont$1(["font","Plantagenet Cherokee","Cher"]),getFont$1(["font","Microsoft Yi Baiti","Yiii"]),getFont$1(["font","Microsoft Himalaya","Tibt"]),getFont$1(["font","MV Boli","Thaa"]),getFont$1(["font","Mangal","Deva"]),getFont$1(["font","Gautami","Telu"]),getFont$1(["font","Latha","Taml"]),getFont$1(["font","Estrangelo Edessa","Syrc"]),getFont$1(["font","Kalinga","Orya"]),getFont$1(["font","Kartika","Mlym"]),getFont$1(["font","DokChampa","Laoo"]),getFont$1(["font","Iskoola Pota","Sinh"]),getFont$1(["font","Mongolian Baiti","Mong"]),getFont$1(["font","Arial","Viet"]),getFont$1(["font","Microsoft Uighur","Uigh"]),getFont$1(["font","Sylfaen","Geor"]),getFont$1(["font","Arial","Armn"]),getFont$1(["font","Leelawadee UI","Bugi"]),getFont$1(["font","Microsoft JhengHei","Bopo"]),getFont$1(["font","Javanese Text","Java"]),getFont$1(["font","Segoe UI","Lisu"]),getFont$1(["font","Myanmar Text","Mymr"]),getFont$1(["font","Ebrima","Nkoo"]),getFont$1(["font","Nirmala UI","Olck"]),getFont$1(["font","Ebrima","Osma"]),getFont$1(["font","Phagspa","Phag"]),getFont$1(["font","Estrangelo Edessa","Syrn"]),getFont$1(["font","Estrangelo Edessa","Syrj"]),getFont$1(["font","Estrangelo Edessa","Syre"]),getFont$1(["font","Nirmala UI","Sora"]),getFont$1(["font","Microsoft Tai Le","Tale"]),getFont$1(["font","Microsoft New Tai Lue","Talu"]),getFont$1(["font","Ebrima","Tfng"])]}]}}},__read$13=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},getPropertyVal=function(t,e,n){return{name:"a:"+t,properties:{rawMap:{val:e}},children:n}},getGs=function(t){var e=__read$13(t,6),n=e[0],o=e[1],r=e[2],i=e[3],s=e[4],a=e[5],l=[];return l.push(getPropertyVal("satMod",r)),i&&l.push(getPropertyVal("lumMod",i)),s&&l.push(getPropertyVal("tint",s)),a&&l.push(getPropertyVal("shade",a)),{name:"a:gs",properties:{rawMap:{pos:n}},children:[{name:"a:schemeClr",properties:{rawMap:{val:o}},children:l}]}},getSolidFill=function(t,e){return{name:"a:solidFill",children:[getPropertyVal("schemeClr",t,e)]}},getGradFill=function(t){var e=__read$13(t,5),n=e[0],o=e[1],r=e[2],i=e[3],s=e[4],a=__read$13(s,2),l=a[0],c=a[1];return{name:"a:gradFill",properties:{rawMap:{rotWithShape:n}},children:[{name:"a:gsLst",children:[getGs(o),getGs(r),getGs(i)]},{name:"a:lin",properties:{rawMap:{ang:l,scaled:c}}}]}},getLine=function(t){var e=__read$13(t,4);return{name:"a:ln",properties:{rawMap:{w:e[0],cap:e[1],cmpd:e[2],algn:e[3]}},children:[getSolidFill("phClr"),getPropertyVal("prstDash","solid"),{name:"a:miter",properties:{rawMap:{lim:"800000"}}}]}},getEffectStyle=function(t){var e=[];if(t){var n=__read$13(t,5),o=n[0],r=n[1],i=n[2],s=n[3],a=n[4];e.push({name:"a:outerShdw",properties:{rawMap:{blurRad:o,dist:r,dir:i,algn:s,rotWithShape:a}},children:[getPropertyVal("srgbClr","000000",[getPropertyVal("alpha","63000")])]})}return{name:"a:effectStyle",children:[Object.assign({},{name:"a:effectLst"},e.length?{children:e}:{})]}},getFillStyleList=function(){return{name:"a:fillStyleLst",children:[getSolidFill("phClr"),getGradFill(["1",["0","phClr","105000","110000","67000"],["50000","phClr","103000","105000","73000"],["100000","phClr","109000","105000","81000"],["5400000","0"]]),getGradFill(["1",["0","phClr","103000","102000","94000"],["50000","phClr","110000","100000",void 0,"100000"],["100000","phClr","120000","99000",void 0,"78000"],["5400000","0"]])]}},getLineStyleList=function(){return{name:"a:lnStyleLst",children:[getLine(["6350","flat","sng","ctr"]),getLine(["12700","flat","sng","ctr"]),getLine(["19050","flat","sng","ctr"])]}},getEffectStyleList=function(){return{name:"a:effectStyleLst",children:[getEffectStyle(),getEffectStyle(),getEffectStyle(["57150","19050","5400000","ctr","0"])]}},getBgFillStyleList=function(){return{name:"a:bgFillStyleLst",children:[getSolidFill("phClr"),getSolidFill("phClr",[getPropertyVal("tint","95000"),getPropertyVal("satMod","170000")]),getGradFill(["1",["0","phClr","150000","102000","93000","98000"],["50000","phClr","130000","103000","98000","90000"],["100000","phClr","120000",void 0,void 0,"63000"],["5400000","0"]])]}},formatScheme={getTemplate:function(){return{name:"a:fmtScheme",properties:{rawMap:{name:"Office"}},children:[getFillStyleList(),getLineStyleList(),getEffectStyleList(),getBgFillStyleList()]}}},themeElements={getTemplate:function(){return{name:"a:themeElements",children:[colorScheme.getTemplate(),fontScheme.getTemplate(),formatScheme.getTemplate()]}}},officeTheme={getTemplate:function(){return{name:"a:theme",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{a:"http://schemas.openxmlformats.org/drawingml/2006/main"}}],rawMap:{name:"Office Theme"}},children:[themeElements.getTemplate(),{name:"a:objectDefaults"},{name:"a:extraClrSchemeLst"}]}}},buildSharedString=function(t){var e=[];return t.forEach((function(t,n){var o=n.toString(),r={name:"t",textNode:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(o))};o.trim().length!==o.length&&(r.properties={rawMap:{"xml:space":"preserve"}}),e.push({name:"si",children:[r]})})),e},sharedStrings={getTemplate:function(t){return{name:"sst",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:t.size,uniqueCount:t.size}},children:buildSharedString(t)}}},numberFormatFactory={getTemplate:function(t){return{name:"numFmt",properties:{rawMap:{formatCode:t.formatCode,numFmtId:t.numFmtId}}}}},numberFormatsFactory={getTemplate:function(t){return{name:"numFmts",properties:{rawMap:{count:t.length}},children:t.map((function(t){return numberFormatFactory.getTemplate(t)}))}}},fontFactory={getTemplate:function(t){var e=t.size,n=t.colorTheme,o=t.color,r=void 0===o?"FF000000":o,i=t.fontName,s=void 0===i?"Calibri":i,a=t.family,l=t.scheme,c=t.italic,u=t.bold,d=t.strikeThrough,p=t.outline,h=t.shadow,f=t.underline,g=t.verticalAlign,_=[{name:"sz",properties:{rawMap:{val:e}}},{name:"color",properties:{rawMap:{theme:n,rgb:r}}},{name:"name",properties:{rawMap:{val:s}}}];return a&&_.push({name:"family",properties:{rawMap:{val:a}}}),l&&_.push({name:"scheme",properties:{rawMap:{val:l}}}),c&&_.push({name:"i"}),u&&_.push({name:"b"}),d&&_.push({name:"strike"}),p&&_.push({name:"outline"}),h&&_.push({name:"shadow"}),f&&_.push({name:"u",properties:{rawMap:{val:f}}}),g&&_.push({name:"vertAlign",properties:{rawMap:{val:g}}}),{name:"font",children:_}}},fontsFactory={getTemplate:function(t){return{name:"fonts",properties:{rawMap:{count:t.length}},children:t.map((function(t){return fontFactory.getTemplate(t)}))}}},fillFactory={getTemplate:function(t){var e=t.patternType,n=t.fgTheme,o=t.fgTint,r=t.fgRgb,i=t.bgRgb,s=t.bgIndexed,a={name:"patternFill",properties:{rawMap:{patternType:e}}};return(n||o||r)&&(a.children=[{name:"fgColor",properties:{rawMap:{theme:n,tint:o,rgb:r}}}]),(s||i)&&(a.children||(a.children=[]),a.children.push({name:"bgColor",properties:{rawMap:{indexed:s,rgb:i}}})),{name:"fill",children:[a]}}},fillsFactory={getTemplate:function(t){return{name:"fills",properties:{rawMap:{count:t.length}},children:t.map((function(t){return fillFactory.getTemplate(t)}))}}},getWeightName=function(t){switch(t){case 1:return"thin";case 2:return"medium";case 3:return"thick";default:return"hair"}},mappedBorderNames={None:"None",Dot:"Dotted",Dash:"Dashed",Double:"Double",DashDot:"DashDot",DashDotDot:"DashDotDot",SlantDashDot:"SlantDashDot"},mediumBorders=["Dashed","DashDot","DashDotDot"],colorMap={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinDiagStripe:"lightUp",ThinHorzCross:"lightGrid",ThinDiagCross:"lightTrellis",Gray125:"gray125",Gray0625:"gray0625"},horizontalAlignmentMap={Automatic:"general",Left:"left",Center:"center",Right:"right",Fill:"fill",Justify:"justify",CenterAcrossSelection:"centerContinuous",Distributed:"distributed",JustifyDistributed:"justify"},verticalAlignmentMap={Automatic:void 0,Top:"top",Bottom:"bottom",Center:"center",Justify:"justify",Distributed:"distributed",JustifyDistributed:"justify"},convertLegacyPattern=function(t){return t?colorMap[t]||t:"none"},convertLegacyColor=function(t){return null==t?t:("#"===t.charAt(0)&&(t=t.substr(1)),6===t.length?"FF"+t:t)},convertLegacyBorder=function(t,e){if(!t)return"thin";var n=getWeightName(e),o=mappedBorderNames[t];return"Continuous"===t?n:"medium"===n&&-1!==mediumBorders.indexOf(o)?"medium"+o:o.charAt(0).toLowerCase()+o.substr(1)},convertLegacyHorizontalAlignment=function(t){return horizontalAlignmentMap[t]||"general"},convertLegacyVerticalAlignment=function(t){return verticalAlignmentMap[t]||void 0},getBorderColor=function(t){return{name:"color",properties:{rawMap:{rgb:convertLegacyColor(t||"#000000")}}}},borderFactory$1={getTemplate:function(t){var e=t.left,n=t.right,o=t.top,r=t.bottom,i=t.diagonal,s=e?[getBorderColor(e.color)]:void 0,a=n?[getBorderColor(n.color)]:void 0,l=o?[getBorderColor(o.color)]:void 0,c=r?[getBorderColor(r.color)]:void 0,u=i?[getBorderColor(i.color)]:void 0;return{name:"border",children:[{name:"left",properties:{rawMap:{style:e&&e.style}},children:s},{name:"right",properties:{rawMap:{style:n&&n.style}},children:a},{name:"top",properties:{rawMap:{style:o&&o.style}},children:l},{name:"bottom",properties:{rawMap:{style:r&&r.style}},children:c},{name:"diagonal",properties:{rawMap:{style:i&&i.style}},children:u}]}}},bordersFactory={getTemplate:function(t){return{name:"borders",properties:{rawMap:{count:t.length}},children:t.map((function(t){return borderFactory$1.getTemplate(t)}))}}},getReadingOrderId=function(t){var e=["Context","LeftToRight","RightToLeft"].indexOf(t);return Math.max(e,0)},alignmentFactory={getTemplate:function(t){var e=t.horizontal,n=t.indent,o=t.readingOrder,r=t.rotate,i=t.shrinkToFit,s=t.vertical,a=t.wrapText;return{name:"alignment",properties:{rawMap:{horizontal:e&&convertLegacyHorizontalAlignment(e),indent:n,readingOrder:o&&getReadingOrderId(o),textRotation:r,shrinkToFit:i,vertical:s&&convertLegacyVerticalAlignment(s),wrapText:a}}}}},protectionFactory={getTemplate:function(t){var e=!1===t.protected?0:1;return{name:"protection",properties:{rawMap:{hidden:!0===t.hideFormula?1:0,locked:e}}}}},xfFactory={getTemplate:function(t){var e=t.alignment,n=t.borderId,o=t.fillId,r=t.fontId,i=t.numFmtId,s=t.protection,a=t.xfId,l=[];return e&&l.push(alignmentFactory.getTemplate(e)),s&&l.push(protectionFactory.getTemplate(s)),{name:"xf",properties:{rawMap:{applyAlignment:e?1:void 0,applyProtection:s?1:void 0,applyBorder:n?1:void 0,applyFill:o?1:void 0,borderId:n,fillId:o,applyFont:r?1:void 0,fontId:r,applyNumberFormat:i?1:void 0,numFmtId:i,xfId:a}},children:l.length?l:void 0}}},cellStylesXfsFactory={getTemplate:function(t){return{name:"cellStyleXfs",properties:{rawMap:{count:t.length}},children:t.map((function(t){return xfFactory.getTemplate(t)}))}}},cellXfsFactory={getTemplate:function(t){return{name:"cellXfs",properties:{rawMap:{count:t.length}},children:t.map((function(t){return xfFactory.getTemplate(t)}))}}},borderFactory={getTemplate:function(t){return{name:"cellStyle",properties:{rawMap:{builtinId:t.builtinId,name:t.name,xfId:t.xfId}}}}},cellStylesFactory={getTemplate:function(t){return{name:"cellStyles",properties:{rawMap:{count:t.length}},children:t.map((function(t){return borderFactory.getTemplate(t)}))}}},__assign$L=function(){return __assign$L=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$L.apply(this,arguments)},stylesMap,registeredNumberFmts,registeredFonts,registeredFills,registeredBorders,registeredCellStyleXfs,registeredCellXfs,registeredCellStyles,currentSheet,getStyleName=function(t,e){return-1!==t.indexOf("mixedStyle")&&e>1&&(t+="_"+e),t},resetStylesheetValues=function(){stylesMap={base:0},registeredNumberFmts=[],registeredFonts=[{fontName:"Calibri",colorTheme:"1",family:"2",scheme:"minor"}],registeredFills=[{patternType:"none"},{patternType:"gray125"}],registeredBorders=[{left:void 0,right:void 0,top:void 0,bottom:void 0,diagonal:void 0}],registeredCellStyleXfs=[{borderId:0,fillId:0,fontId:0,numFmtId:0}],registeredCellXfs=[{borderId:0,fillId:0,fontId:0,numFmtId:0,xfId:0}],registeredCellStyles=[{builtinId:0,name:"Normal",xfId:0}]},registerFill=function(t){var e=convertLegacyPattern(t.pattern),n=convertLegacyColor(t.color),o=convertLegacyColor(t.patternColor),r=registeredFills.findIndex((function(t){var r=t.patternType,i=t.fgRgb,s=t.bgRgb;return r==e&&i==n&&s==o}));return-1===r&&(r=registeredFills.length,registeredFills.push({patternType:e,fgRgb:n,bgRgb:o})),r},registerNumberFmt=function(t){if(t=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode(t),numberFormatMap[t])return numberFormatMap[t];var e=registeredNumberFmts.findIndex((function(e){return e.formatCode===t}));return-1===e?(e=registeredNumberFmts.length+164,registeredNumberFmts.push({formatCode:t,numFmtId:e})):e=registeredNumberFmts[e].numFmtId,e},registerBorders=function(t){var e,n,o,r,i,s,a,l,c=t.borderBottom,u=t.borderTop,d=t.borderLeft,p=t.borderRight;d&&(o=convertLegacyBorder(d.lineStyle,d.weight),a=convertLegacyColor(d.color)),p&&(r=convertLegacyBorder(p.lineStyle,p.weight),l=convertLegacyColor(p.color)),c&&(e=convertLegacyBorder(c.lineStyle,c.weight),i=convertLegacyColor(c.color)),u&&(n=convertLegacyBorder(u.lineStyle,u.weight),s=convertLegacyColor(u.color));var h=registeredBorders.findIndex((function(t){var c=t.left,u=t.right,d=t.top,p=t.bottom;if(!c&&(o||a))return!1;if(!u&&(r||l))return!1;if(!d&&(n||s))return!1;if(!p&&(e||i))return!1;var h=c||{},f=h.style,g=h.color,_=u||{},m=_.style,y=_.color,v=d||{},C=v.style,E=v.color,b=p||{},S=b.style,w=b.color;return f==o&&g==a&&(m==r&&y==l&&(C==n&&E==s&&(S==e&&w==i)))}));return-1===h&&(h=registeredBorders.length,registeredBorders.push({left:{style:o,color:a},right:{style:r,color:l},top:{style:n,color:s},bottom:{style:e,color:i},diagonal:{style:void 0,color:void 0}})),h},registerFont=function(t){var e=t.fontName,n=void 0===e?"Calibri":e,o=t.color,r=t.size,i=t.bold,s=t.italic,a=t.outline,l=t.shadow,c=t.strikeThrough,u=t.underline,d=t.family,p=t.verticalAlign,h=n?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode(n):n,f=convertLegacyColor(o),g=getFontFamilyId(d),_=u?u.toLocaleLowerCase():void 0,m=p?p.toLocaleLowerCase():void 0,y=registeredFonts.findIndex((function(t){return t.fontName==h&&t.color==f&&t.size==r&&t.bold==i&&t.italic==s&&t.outline==a&&t.shadow==l&&t.strikeThrough==c&&t.underline==_&&t.verticalAlign==m&&t.family==g}));return-1===y&&(y=registeredFonts.length,registeredFonts.push({fontName:h,color:f,size:r,bold:i,italic:s,outline:a,shadow:l,strikeThrough:c,underline:_,verticalAlign:m,family:null!=g?g.toString():void 0})),y},registerStyle=function(t){var e=t.alignment,n=t.borders,o=t.font,r=t.interior,i=t.numberFormat,s=t.protection,a=t.id,l=0,c=0,u=0,d=0;a&&(a=getStyleName(a,currentSheet),null==stylesMap[a]&&(r&&(l=registerFill(r)),n&&(c=registerBorders(n)),o&&(u=registerFont(o)),i&&(d=registerNumberFmt(i.format)),stylesMap[a]=registeredCellXfs.length,registeredCellXfs.push({alignment:e,borderId:c||0,fillId:l||0,fontId:u||0,numFmtId:d||0,protection:s,xfId:0})))},stylesheetFactory={getTemplate:function(t){var e=numberFormatsFactory.getTemplate(registeredNumberFmts),n=fontsFactory.getTemplate(registeredFonts.map((function(e){return __assign$L(__assign$L({},e),{size:null!=e.size?e.size:t})}))),o=fillsFactory.getTemplate(registeredFills),r=bordersFactory.getTemplate(registeredBorders),i=cellStylesXfsFactory.getTemplate(registeredCellStyleXfs),s=cellXfsFactory.getTemplate(registeredCellXfs),a=cellStylesFactory.getTemplate(registeredCellStyles);return resetStylesheetValues(),{name:"styleSheet",properties:{rawMap:{"mc:Ignorable":"x14ac x16r2 xr",xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision"}},children:[e,n,o,r,i,s,a,{name:"tableStyles",properties:{rawMap:{count:0,defaultPivotStyle:"PivotStyleLight16",defaultTableStyle:"TableStyleMedium2"}}}]}}},getStyleId=function(t,e){return stylesMap[getStyleName(t,e)]||0},registerStyles=function(t,e){1===(currentSheet=e)&&resetStylesheetValues(),t.forEach(registerStyle)},sheetFactory={getTemplate:function(t,e){var n=(e+1).toString();return{name:"sheet",properties:{rawMap:{name:t,sheetId:n,"r:id":"rId"+n}}}}},sheetsFactory={getTemplate:function(t){return{name:"sheets",children:t.map((function(t,e){return sheetFactory.getTemplate(t,e)}))}}},workbookFactory={getTemplate:function(t){return{name:"workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:[sheetsFactory.getTemplate(t)]}}},getExcelCellWidth=function(t){return Math.ceil((t-12)/7+1)},columnFactory={getTemplate:function(t){var e=t.min,n=t.max,o=t.outlineLevel,r=t.s,i=t.width,s=t.hidden,a=t.bestFit,l=1,c="0";return i>1&&(l=getExcelCellWidth(i),c="1"),{name:"col",properties:{rawMap:{min:e,max:n,outlineLevel:null!=o?o:void 0,width:l,style:r,hidden:s?"1":"0",bestFit:a?"1":"0",customWidth:c}}}}},convertLegacyType=function(t){var e=t.charAt(0).toLowerCase();return"s"===e?"inlineStr":e},cellFactory={getTemplate:function(t,e,n){var o=t.ref,r=t.data,i=t.styleId,s=r||{type:"empty",value:null},a=s.type,l=s.value,c=a;"f"===a?c="str":a.charAt(0)===a.charAt(0).toUpperCase()&&(c=convertLegacyType(a));var u,d={name:"c",properties:{rawMap:{r:o,t:"empty"===c?void 0:c,s:i?getStyleId(i,n):void 0}}};return"empty"===c?d:(u="str"===c&&"f"===a?[{name:"f",textNode:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode(l))}]:"inlineStr"===c?[{name:"is",children:[{name:"t",textNode:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode(l))}]}]:[{name:"v",textNode:l}],Object.assign({},d,{children:u}))}},__read$12=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$D=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$12(arguments[e]));return t},addEmptyCells=function(t,e){for(var n=[],o=0,r=0;r<t.length;r++){(s=t[r]).mergeAcross&&(n.push({pos:r,excelPos:o}),o+=s.mergeAcross),o++}if(n.length)for(r=n.length-1;r>=0;r--){for(var i=[],s=t[n[r].pos],a=1;a<=s.mergeAcross;a++)i.push({ref:""+getExcelColumnName(n[r].excelPos+1+a)+(e+1),styleId:s.styleId,data:{type:"empty",value:null}});i.length&&t.splice.apply(t,__spread$D([n[r].pos+1,0],i))}},shouldDisplayCell=function(t){var e;return""!==(null===(e=t.data)||void 0===e?void 0:e.value)||void 0!==t.styleId},rowFactory={getTemplate:function(t,e,n){var o=t.collapsed,r=t.hidden,i=t.height,s=t.outlineLevel,a=t.cells,l=void 0===a?[]:a;addEmptyCells(l,e);var c=l.filter(shouldDisplayCell).map((function(t,e){return cellFactory.getTemplate(t,e,n)}));return{name:"row",properties:{rawMap:{r:e+1,collapsed:o,hidden:r?"1":"0",ht:i,customHeight:null!=i?"1":"0",spans:"1:1",outlineLevel:s||void 0}},children:c}}},mergeCellFactory={getTemplate:function(t){return{name:"mergeCell",properties:{rawMap:{ref:t}}}}},getMergedCellsAndAddColumnGroups=function(t,e){var n=[],o=[];t.forEach((function(t,r){var i,s=t.cells,a=0;s.forEach((function(t,s){var l=s+a+1,c=getExcelColumnName(l),u=r+1;if(t.mergeAcross){a+=t.mergeAcross;var d=getExcelColumnName(s+a+1);n.push(""+c+u+":"+d+u)}e[l-1]||(e[l-1]={});var p=t.collapsibleRanges;p&&p.forEach((function(t){o.push([l+t[0],l+t[1]])})),(i=e[l-1]).min=l,i.max=l,t.ref=""+c+u}))})),o.sort((function(t,e){return t[0]!==e[0]?t[0]-e[0]:e[1]-t[1]}));var r=new Map,i=new Map;return o.filter((function(t){var e=t.toString();return!r.get(e)&&(r.set(e,!0),!0)})).forEach((function(t){var n=e.find((function(e){return e.min==t[0]&&e.max==t[1]})),o=i.get(t[0]);e.push({min:t[0],max:t[1],outlineLevel:o||1,width:(n||{width:100}).width}),i.set(t[0],(o||0)+1)})),n},getPageOrientation=function(t){return!t||"Portrait"!==t&&"Landscape"!==t?"portrait":t.toLocaleLowerCase()},getPageSize=function(t){if(null==t)return 1;var e=["Letter","Letter Small","Tabloid","Ledger","Legal","Statement","Executive","A3","A4","A4 Small","A5","A6","B4","B5","Folio","Envelope","Envelope DL","Envelope C5","Envelope B5","Envelope C3","Envelope C4","Envelope C6","Envelope Monarch","Japanese Postcard","Japanese Double Postcard"].indexOf(t);return-1===e?1:e+1},addColumns=function(t){return function(e){return t.length&&e.push({name:"cols",children:t.map((function(t){return columnFactory.getTemplate(t)}))}),e}},addSheetData=function(t,e){return function(n){return t.length&&n.push({name:"sheetData",children:t.map((function(t,n){return rowFactory.getTemplate(t,n,e)}))}),n}},addMergeCells=function(t){return function(e){return t.length&&e.push({name:"mergeCells",properties:{rawMap:{count:t.length}},children:t.map((function(t){return mergeCellFactory.getTemplate(t)}))}),e}},addPageMargins=function(t){return function(e){var n=t.top,o=void 0===n?.75:n,r=t.right,i=void 0===r?.7:r,s=t.bottom,a=void 0===s?.75:s,l=t.left,c=void 0===l?.7:l,u=t.header,d=void 0===u?.3:u,p=t.footer,h=void 0===p?.3:p;return e.push({name:"pageMargins",properties:{rawMap:{bottom:a,footer:h,header:d,left:c,right:i,top:o}}}),e}},addPageSetup=function(t){return function(e){return t&&e.push({name:"pageSetup",properties:{rawMap:{horizontalDpi:0,verticalDpi:0,orientation:getPageOrientation(t.orientation),paperSize:getPageSize(t.pageSize)}}}),e}},replaceHeaderFooterTokens=function(t){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject({"&[Page]":"&P","&[Pages]":"&N","&[Date]":"&D","&[Time]":"&T","&[Tab]":"&A","&[Path]":"&Z","&[File]":"&F"},(function(e,n){t=t.replace(e,n)})),t},getHeaderPosition=function(t){return"Center"===t?"C":"Right"===t?"R":"L"},applyHeaderFontStyle=function(t,e){return e?(t+="&amp;&quot;",t+=e.fontName||"Calibri",e.bold!==e.italic?t+=e.bold?",Bold":",Italic":e.bold?t+=",Bold Italic":t+=",Regular",t+="&quot;",e.size&&(t+="&amp;"+e.size),e.strikeThrough&&(t+="&amp;S"),e.underline&&(t+="&amp;"+("Double"===e.underline?"E":"U")),e.color&&(t+="&amp;K"+e.color.replace("#","").toUpperCase()),t):t},processHeaderFooterContent=function(t){return t.reduce((function(t,e){var n=getHeaderPosition(e.position);return""+applyHeaderFontStyle(t+"&amp;"+n,e.font)+ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(replaceHeaderFooterTokens(e.value))}),"")},buildHeaderFooter=function(t){var e=[];return["all","first","even"].forEach((function(n){var o=t[n],r="all"===n?"odd":n;o&&(o.header||o.footer)&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject(o,(function(t,n){var o=""+t.charAt(0).toUpperCase()+t.slice(1);n&&e.push({name:""+r+o,properties:{rawMap:{"xml:space":"preserve"}},textNode:processHeaderFooterContent(n)})}))})),e},addHeaderFooter=function(t){return function(e){if(!t)return e;var n=null!=t.first?1:0,o=null!=t.even?1:0;return e.push({name:"headerFooter",properties:{rawMap:{differentFirst:n,differentOddEven:o}},children:buildHeaderFooter(t)}),e}},addDrawingRel=function(t){return function(e){return ExcelXlsxFactory.worksheetImages.get(t)&&e.push({name:"drawing",properties:{rawMap:{"r:id":"rId1"}}}),e}},addSheetPr=function(){return function(t){return t.push({name:"sheetPr",children:[{name:"outlinePr",properties:{rawMap:{summaryBelow:0}}}]}),t}},addSheetFormatPr=function(t){return function(e){var n=t.reduce((function(t,e){return e.outlineLevel&&e.outlineLevel>t?e.outlineLevel:t}),0);return e.push({name:"sheetFormatPr",properties:{rawMap:{baseColWidth:10,defaultRowHeight:16,outlineLevelRow:n||void 0}}}),e}},worksheetFactory={getTemplate:function(t){var e=t.worksheet,n=t.currentSheet,o=t.margins,r=void 0===o?{}:o,i=t.pageSetup,s=t.headerFooterConfig,a=e.table,l=a.rows,c=a.columns,u=c&&c.length?getMergedCellsAndAddColumnGroups(l,c):[];return{name:"worksheet",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.compose(addSheetPr(),addSheetFormatPr(l),addColumns(c),addSheetData(l,n+1),addMergeCells(u),addPageMargins(r),addPageSetup(i),addHeaderFooter(s),addDrawingRel(n))([])}}},relationshipFactory={getTemplate:function(t){return{name:"Relationship",properties:{rawMap:{Id:t.Id,Type:t.Type,Target:t.Target}}}}},relationshipsFactory={getTemplate:function(t){return{name:"Relationships",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}},children:t.map((function(t){return relationshipFactory.getTemplate(t)}))}}},__read$11=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$C=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$11(arguments[e]));return t},ExcelXlsxFactory=function(){function t(){}return t.createExcel=function(t,e,n,o,r){return this.addSheetName(e),registerStyles(t,this.sheetNames.length),this.createWorksheet(e,n,o,r)},t.buildImageMap=function(t,e,n,o,r){var i=this.sheetNames.length,s=this.images.get(t.id);t.position&&t.position.row&&t.position.column||(t.position||(t.position={}),t.position=Object.assign({},t.position,{row:e,column:o.indexOf(n)+1}));var a=t;if(setExcelImageTotalWidth(a,o),setExcelImageTotalHeight(a,r),s){var l=s.find((function(t){return t.sheetId===i}));l?l.image.push(a):s.push({sheetId:i,image:[a]})}else this.images.set(a.id,[{sheetId:i,image:[a]}]),this.workbookImageIds.set(a.id,{type:a.imageType,index:this.workbookImageIds.size});this.buildSheetImageMap(i,a)},t.buildSheetImageMap=function(t,e){var n=this.worksheetImageIds.get(t);n||(n=new Map,this.worksheetImageIds.set(t,n));var o=this.worksheetImages.get(t);o?(o.push(e),n.get(e.id)||n.set(e.id,{index:n.size,type:e.imageType})):(this.worksheetImages.set(t,[e]),n.set(e.id,{index:0,type:e.imageType}))},t.addSheetName=function(t){for(var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(t.name)||"",n="";-1!==this.sheetNames.indexOf(""+e+n);)if(""===n)n="_1";else{var o=parseInt(n.slice(1),10);n="_"+(o+1)}t.name=""+e+n,this.sheetNames.push(t.name)},t.getStringPosition=function(t){return this.sharedStrings.has(t)?this.sharedStrings.get(t):(this.sharedStrings.set(t,this.sharedStrings.size),this.sharedStrings.size-1)},t.resetFactory=function(){this.sharedStrings=new Map,this.images=new Map,this.worksheetImages=new Map,this.workbookImageIds=new Map,this.worksheetImageIds=new Map,this.sheetNames=[],this.factoryMode=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.nPL.SINGLE_SHEET},t.createWorkbook=function(){return createXmlPart(workbookFactory.getTemplate(this.sheetNames))},t.createStylesheet=function(t){return createXmlPart(stylesheetFactory.getTemplate(t))},t.createSharedStrings=function(){return createXmlPart(sharedStrings.getTemplate(this.sharedStrings))},t.createCore=function(t){return createXmlPart(coreFactory.getTemplate(t))},t.createContentTypes=function(t){return createXmlPart(contentTypesFactory.getTemplate(t))},t.createRels=function(){var t=relationshipsFactory.getTemplate([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Target:"xl/workbook.xml"},{Id:"rId2",Type:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",Target:"docProps/core.xml"}]);return createXmlPart(t)},t.createTheme=function(){return createXmlPart(officeTheme.getTemplate())},t.createWorkbookRels=function(t){var e=new Array(t).fill(void 0).map((function(t,e){return{Id:"rId"+(e+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",Target:"worksheets/sheet"+(e+1)+".xml"}})),n=relationshipsFactory.getTemplate(__spread$C(e,[{Id:"rId"+(t+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Target:"theme/theme1.xml"},{Id:"rId"+(t+2),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Target:"styles.xml"},{Id:"rId"+(t+3),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Target:"sharedStrings.xml"}]));return createXmlPart(n)},t.createDrawing=function(t){return createXmlPart(drawingFactory.getTemplate({sheetIndex:t}))},t.createDrawingRel=function(t){var e=this,n=this.worksheetImageIds.get(t),o=[];return n.forEach((function(t,n){o.push({Id:"rId"+(t.index+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:"../media/image"+(e.workbookImageIds.get(n).index+1)+"."+t.type})})),createXmlPart(relationshipsFactory.getTemplate(o))},t.createWorksheetDrawingRel=function(t){var e=relationshipsFactory.getTemplate([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:"../drawings/drawing"+(t+1)+".xml"}]);return createXmlPart(e)},t.createWorksheet=function(t,e,n,o){return createXmlPart(worksheetFactory.getTemplate({worksheet:t,currentSheet:this.sheetNames.length-1,margins:e,pageSetup:n,headerFooterConfig:o}))},t.sharedStrings=new Map,t.sheetNames=[],t.images=new Map,t.worksheetImages=new Map,t.workbookImageIds=new Map,t.worksheetImageIds=new Map,t.factoryMode=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.nPL.SINGLE_SHEET,t}(),__extends$2P=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ExcelXlsxSerializingSession=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2P(e,t),e.prototype.createExcel=function(t){var e=this.excelStyles,n=this.config,o=n.margins,r=n.pageSetup,i=n.headerFooterConfig;return ExcelXlsxFactory.createExcel(e,t,o,r,i)},e.prototype.getDataTypeForValue=function(t){return void 0===t?"empty":this.isNumerical(t)?"n":"s"},e.prototype.getType=function(t,e,n){if(this.isFormula(n))return"f";if(e&&e.dataType)switch(e.dataType.toLocaleLowerCase()){case"formula":return"f";case"string":return"s";case"number":return"n";case"datetime":return"d";case"error":return"e";case"boolean":return"b";default:console.warn("AG Grid: Unrecognized data type for excel export ["+e.id+".dataType="+e.dataType+"]")}return t},e.prototype.addImage=function(t,e,n){if(this.config.addImageToCell){var o=this.config.addImageToCell(t,e,n);if(o)return ExcelXlsxFactory.buildImageMap(o.image,t,e,this.columnsToExport,this.config.rowHeight),o}},e.prototype.createCell=function(t,e,n){var o=this.getStyleById(t),r=this.getType(e,o,n)||e;return{styleId:o?t:void 0,data:{type:r,value:this.getCellValue(r,n)}}},e.prototype.createMergedCell=function(t,e,n,o){var r=null==n?"":n;return{styleId:this.getStyleById(t)?t:void 0,data:{type:e,value:"s"===e?ExcelXlsxFactory.getStringPosition(r).toString():n},mergeAcross:o}},e.prototype.getCellValue=function(t,e){if(null==e)return ExcelXlsxFactory.getStringPosition("").toString();switch(t){case"s":return""===e?"":ExcelXlsxFactory.getStringPosition(e).toString();case"f":return e.slice(1);case"n":return Number(e).toString();default:return e}},e}(BaseExcelSerializingSession),__extends$2O=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$K=function(){return __assign$K=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$K.apply(this,arguments)},__decorate$1$=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},getMultipleSheetsAsExcel=function(t){var e=t.data,n=t.fontSize,o=void 0===n?11:n,r=t.author,i=void 0===r?"AG Grid":r,s=ExcelXlsxFactory.images.size>0;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFolders(["_rels/","docProps/","xl/","xl/theme/","xl/_rels/","xl/worksheets/"]),s){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFolders(["xl/worksheets/_rels","xl/drawings/","xl/drawings/_rels","xl/media/"]);var a=0;ExcelXlsxFactory.images.forEach((function(t){var e=t[0].image[0],n=e.imageType;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/media/image"+ ++a+"."+n,e.base64,!0)}))}if(!e||0===e.length)return console.warn("AG Grid: Invalid params supplied to getMultipleSheetsAsExcel() - `ExcelExportParams.data` is empty."),void ExcelXlsxFactory.resetFactory();var l=e.length,c=0;e.forEach((function(t,e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/worksheets/sheet"+(e+1)+".xml",t),s&&ExcelXlsxFactory.worksheetImages.get(e)&&createImageRelationsForSheet(e,c++)})),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/workbook.xml",ExcelXlsxFactory.createWorkbook()),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/styles.xml",ExcelXlsxFactory.createStylesheet(o)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/sharedStrings.xml",ExcelXlsxFactory.createSharedStrings()),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/theme/theme1.xml",ExcelXlsxFactory.createTheme()),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/_rels/workbook.xml.rels",ExcelXlsxFactory.createWorkbookRels(l)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("docProps/core.xml",ExcelXlsxFactory.createCore(i)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("[Content_Types].xml",ExcelXlsxFactory.createContentTypes(l)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("_rels/.rels",ExcelXlsxFactory.createRels()),ExcelXlsxFactory.resetFactory();var u=t.mimeType||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.getContent(u)},exportMultipleSheetsAsExcel=function(t){var e=t.fileName,n=void 0===e?"export.xlsx":e,o=getMultipleSheetsAsExcel(t);o&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aVm.download(n,o)},createImageRelationsForSheet=function(t,e){var n="xl/drawings",o=n+"/drawing"+(e+1)+".xml",r=n+"/_rels/drawing"+(e+1)+".xml.rels",i="xl/worksheets/_rels/sheet"+(t+1)+".xml.rels";ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile(r,ExcelXlsxFactory.createDrawingRel(t)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile(o,ExcelXlsxFactory.createDrawing(t)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile(i,ExcelXlsxFactory.createWorksheetDrawingRel(e))},ExcelCreator=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.exportMode="xlsx",e}return __extends$2O(e,t),e.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})},e.prototype.getMergedParams=function(t){var e=this.gridOptionsService.get("defaultExcelExportParams");return Object.assign({},e,t)},e.prototype.getData=function(e){return this.setExportMode(e.exportMode||"xlsx"),t.prototype.getData.call(this,e)},e.prototype.export=function(t){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var e=this.getMergedParams(t),n=this.getData(e),o={data:[n],fontSize:e.fontSize,author:e.author,mimeType:e.mimeType},r=this.packageFile(o);return r&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aVm.download(this.getFileName(e.fileName),r),n},e.prototype.exportDataAsExcel=function(t){return this.export(t)},e.prototype.getDataAsExcel=function(t){var e=this.getMergedParams(t),n=this.getData(e);if(t&&"xml"===t.exportMode)return n;var o={data:[n],fontSize:e.fontSize,author:e.author,mimeType:e.mimeType};return this.packageFile(o)},e.prototype.setFactoryMode=function(t,e){void 0===e&&(e="xlsx"),("xlsx"===e?ExcelXlsxFactory:ExcelXmlFactory).factoryMode=t},e.prototype.getFactoryMode=function(t){return("xlsx"===t?ExcelXlsxFactory:ExcelXmlFactory).factoryMode},e.prototype.getSheetDataForExcel=function(t){var e=this.getMergedParams(t);return this.getData(e)},e.prototype.getMultipleSheetsAsExcel=function(t){return getMultipleSheetsAsExcel(t)},e.prototype.exportMultipleSheetsAsExcel=function(t){return exportMultipleSheetsAsExcel(t)},e.prototype.getDefaultFileName=function(){return"export."+this.getExportMode()},e.prototype.getDefaultFileExtension=function(){return this.getExportMode()},e.prototype.createSerializingSession=function(t){var e=this,n=e.columnModel,o=e.valueService,r=e.gridOptionsService,i="xlsx"===this.getExportMode(),s="ag-grid";null!=t.sheetName&&(s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode(t.sheetName.toString().substr(0,31)));var a=__assign$K(__assign$K({},t),{sheetName:s,columnModel:n,valueService:o,gridOptionsService:r,headerRowHeight:t.headerRowHeight||t.rowHeight,baseExcelStyles:this.gridOptionsService.get("excelStyles")||[],styleLinker:this.styleLinker.bind(this)});return new(i?ExcelXlsxSerializingSession:ExcelXmlSerializingSession)(a)},e.prototype.styleLinker=function(t){var e=t.rowType,n=t.rowIndex,o=t.value,r=t.column,i=t.columnGroup,s=t.node,a=e===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aCu.HEADER,l=e===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aCu.HEADER_GROUPING,c=a?r:i,u=[];if(a||l)return u.push("header"),l&&u.push("headerGroup"),c&&(u=u.concat(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fQL.getHeaderClassesFromColDef(c.getDefinition(),this.gridOptionsService,r||null,i||null))),u;var d=this.gridOptionsService.get("excelStyles"),p=["cell"];if(!d||!d.length)return p;var h=d.map((function(t){return t.id}));return this.stylingService.processAllCellClasses(r.getDefinition(),{value:o,data:s.data,node:s,colDef:r.getDefinition(),column:r,rowIndex:n,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context},(function(t){h.indexOf(t)>-1&&p.push(t)})),p.sort((function(t,e){return h.indexOf(t)<h.indexOf(e)?-1:1}))},e.prototype.isExportSuppressed=function(){return this.gridOptionsService.is("suppressExcelExport")},e.prototype.setExportMode=function(t){this.exportMode=t},e.prototype.getExportMode=function(){return this.exportMode},e.prototype.packageFile=function(t){if("xml"===this.getExportMode()){var e=t.mimeType||"application/vnd.ms-excel";return new Blob(["\ufeff",t.data[0]],{type:e})}return getMultipleSheetsAsExcel(t)},__decorate$1$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$1$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),__decorate$1$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("stylingService")],e.prototype,"stylingService",void 0),__decorate$1$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridSerializer")],e.prototype,"gridSerializer",void 0),__decorate$1$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridOptionsService")],e.prototype,"gridOptionsService",void 0),__decorate$1$([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e=__decorate$1$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("excelCreator")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.z0n),VERSION$d="29.3.4",ExcelExportModule={version:VERSION$d,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ExcelExportModule,beans:[ExcelCreator,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.YaM,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.IFn],dependantModules:[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jMC,EnterpriseCoreModule]},__extends$2N=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1_=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},EXPAND_STATE;!function(t){t[t.EXPANDED=0]="EXPANDED",t[t.COLLAPSED=1]="COLLAPSED",t[t.INDETERMINATE=2]="INDETERMINATE"}(EXPAND_STATE||(EXPAND_STATE={}));var FiltersToolPanelHeaderPanel=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2N(e,t),e.prototype.preConstruct=function(){this.setTemplate('<div class="ag-filter-toolpanel-search" role="presentation">\n                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>\n                <ag-input-text-field ref="eFilterTextField" class="ag-filter-toolpanel-search-input"></ag-input-text-field>\n            </div>')},e.prototype.postConstruct=function(){var t=this.localeService.getLocaleTextFunc();this.eFilterTextField.onValueChange(this.onSearchTextChanged.bind(this)),this.eFilterTextField.setInputAriaLabel(t("ariaFilterColumnsInput","Filter Columns Input")),this.createExpandIcons(),this.setExpandState(EXPAND_STATE.EXPANDED),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this))},e.prototype.init=function(t){this.params=t,this.columnModel.isReady()&&this.showOrHideOptions()},e.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectOpen",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandUnchecked=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectClosed",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandIndeterminate=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsService))},e.prototype.showOrHideOptions=function(){var t=!this.params.suppressFilterSearch,e=!this.params.suppressExpandAll,n=this.localeService.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(n("searchOoo","Search..."));var o=this.columnModel.getAllGridColumns().some((function(t){return t.getOriginalParent()&&t.isFilterAllowed()}));ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eFilterTextField.getGui(),t),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpand,e&&o)},e.prototype.onSearchTextChanged=function(){var t=this;this.onSearchTextChangedDebounced||(this.onSearchTextChangedDebounced=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.debounce((function(){t.dispatchEvent({type:"searchChanged",searchText:t.eFilterTextField.getValue()})}),300)),this.onSearchTextChangedDebounced()},e.prototype.onExpandClicked=function(){var t=this.currentExpandState===EXPAND_STATE.EXPANDED?{type:"collapseAll"}:{type:"expandAll"};this.dispatchEvent(t)},e.prototype.setExpandState=function(t){this.currentExpandState=t,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandChecked,this.currentExpandState===EXPAND_STATE.EXPANDED),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandUnchecked,this.currentExpandState===EXPAND_STATE.COLLAPSED),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandIndeterminate,this.currentExpandState===EXPAND_STATE.INDETERMINATE)},__decorate$1_([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$1_([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eExpand")],e.prototype,"eExpand",void 0),__decorate$1_([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterTextField")],e.prototype,"eFilterTextField",void 0),__decorate$1_([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$j7],e.prototype,"preConstruct",null),__decorate$1_([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2M=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1Z=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ToolPanelFilterComp=function(t){function e(n){void 0===n&&(n=!1);var o=t.call(this,e.TEMPLATE)||this;return o.expanded=!1,o.hideHeader=n,o}return __extends$2M(e,t),e.prototype.postConstruct=function(){this.eExpandChecked=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectOpen",this.gridOptionsService),this.eExpandUnchecked=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectClosed",this.gridOptionsService),this.eExpand.appendChild(this.eExpandChecked),this.eExpand.appendChild(this.eExpandUnchecked)},e.prototype.setColumn=function(t){var e=this;this.column=t,this.eFilterName.innerText=this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)||"",this.addManagedListener(this.eFilterToolPanelHeader,"click",this.toggleExpanded.bind(this)),this.addManagedListener(this.eFilterToolPanelHeader,"keydown",(function(t){t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER&&e.toggleExpanded()})),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this)),this.addInIcon("filter",this.eFilterIcon,this.column),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eFilterIcon,this.isFilterActive(),{skipAriaHidden:!0}),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandChecked,!1),this.hideHeader?(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eFilterToolPanelHeader,!1),this.eFilterToolPanelHeader.removeAttribute("tabindex")):this.eFilterToolPanelHeader.setAttribute("tabindex","0"),this.addManagedListener(this.column,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FILTER_DESTROYED,this.onFilterDestroyed.bind(this))},e.prototype.getColumn=function(){return this.column},e.prototype.getColumnFilterName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)},e.prototype.addCssClassToTitleBar=function(t){this.eFilterToolPanelHeader.classList.add(t)},e.prototype.addInIcon=function(t,e,n){if(null!=e){var o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan(t,this.gridOptionsService,n);e.appendChild(o)}},e.prototype.isFilterActive=function(){return this.filterManager.isFilterActive(this.column)},e.prototype.onFilterChanged=function(){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eFilterIcon,this.isFilterActive(),{skipAriaHidden:!0}),this.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_FILTER_CHANGED})},e.prototype.onFilterDestroyed=function(t){this.expanded&&"api"===t.source&&t.column.getId()===this.column.getId()&&this.columnModel.getPrimaryColumn(this.column)&&(this.removeFilterElement(),this.addFilterElement())},e.prototype.toggleExpanded=function(){this.expanded?this.collapse():this.expand()},e.prototype.expand=function(){this.expanded||(this.expanded=!0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaExpanded(this.eFilterToolPanelHeader,!0),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandChecked,!0),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandUnchecked,!1),this.addFilterElement())},e.prototype.addFilterElement=function(){var t=this,e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.loadTemplate('<div class="ag-filter-toolpanel-instance-filter"></div>'),n=this.filterManager.getOrCreateFilterWrapper(this.column,"TOOLBAR");if(n){var o=n.filterPromise,r=n.guiPromise;null==o||o.then((function(n){t.underlyingFilter=n,n&&r.then((function(o){o&&e.appendChild(o),t.agFilterToolPanelBody.appendChild(e),n.afterGuiAttached&&n.afterGuiAttached({container:"toolPanel"})}))}))}},e.prototype.collapse=function(){var t,e;this.expanded&&(this.expanded=!1,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaExpanded(this.eFilterToolPanelHeader,!1),this.removeFilterElement(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandChecked,!1),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandUnchecked,!0),null===(e=null===(t=this.underlyingFilter)||void 0===t?void 0:t.afterGuiDetached)||void 0===e||e.call(t))},e.prototype.removeFilterElement=function(){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.agFilterToolPanelBody)},e.prototype.isExpanded=function(){return this.expanded},e.prototype.refreshFilter=function(t){var e;if(this.expanded){var n=this.underlyingFilter;n&&(t?"function"==typeof n.refreshVirtualList&&n.refreshVirtualList():null===(e=n.afterGuiDetached)||void 0===e||e.call(n))}},e.prototype.onFilterOpened=function(t){"COLUMN_MENU"===t.source&&t.column===this.column&&this.expanded&&this.collapse()},e.TEMPLATE='\n        <div class="ag-filter-toolpanel-instance">\n            <div class="ag-filter-toolpanel-header ag-filter-toolpanel-instance-header" ref="eFilterToolPanelHeader" role="button" aria-expanded="false">\n                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>\n                <span ref="eFilterName" class="ag-header-cell-text"></span>\n                <span ref="eFilterIcon" class="ag-header-icon ag-filter-icon ag-filter-toolpanel-instance-header-icon" aria-hidden="true"></span>\n            </div>\n            <div class="ag-filter-toolpanel-instance-body ag-filter" ref="agFilterToolPanelBody"></div>\n        </div>',__decorate$1Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterToolPanelHeader")],e.prototype,"eFilterToolPanelHeader",void 0),__decorate$1Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterName")],e.prototype,"eFilterName",void 0),__decorate$1Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("agFilterToolPanelBody")],e.prototype,"agFilterToolPanelBody",void 0),__decorate$1Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterIcon")],e.prototype,"eFilterIcon",void 0),__decorate$1Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eExpand")],e.prototype,"eExpand",void 0),__decorate$1Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],e.prototype,"filterManager",void 0),__decorate$1Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$1Z([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2L=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1Y=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ToolPanelFilterGroupComp=function(t){function e(e,n,o,r,i){var s=t.call(this)||this;return s.columnGroup=e,s.childFilterComps=n,s.depth=r,s.expandedCallback=o,s.showingColumn=i,s}return __extends$2L(e,t),e.prototype.preConstruct=function(){this.setTemplate(e.TEMPLATE,{filterGroupComp:{cssIdentifier:"filter-toolpanel",direction:"vertical"}})},e.prototype.init=function(){var t=this;this.setGroupTitle(),this.filterGroupComp.setAlignItems("stretch"),this.filterGroupComp.addCssClass("ag-filter-toolpanel-group-level-"+this.depth),this.filterGroupComp.addCssClassToTitleBar("ag-filter-toolpanel-group-level-"+this.depth+"-header"),this.childFilterComps.forEach((function(e){t.filterGroupComp.addItem(e),e.addCssClassToTitleBar("ag-filter-toolpanel-group-level-"+(t.depth+1)+"-header")})),this.refreshFilterClass(),this.addExpandCollapseListeners(),this.addFilterChangedListeners(),this.setupTooltip()},e.prototype.setupTooltip=function(){var t=this;if(this.showingColumn){var e=function(){var e=t.columnGroup.getColDef().headerTooltip;t.setTooltip(e)};e(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,e)}},e.prototype.getTooltipParams=function(){var e=t.prototype.getTooltipParams.call(this);return e.location="filterToolPanelColumnGroup",e},e.prototype.addCssClassToTitleBar=function(t){this.filterGroupComp.addCssClassToTitleBar(t)},e.prototype.refreshFilters=function(t){this.childFilterComps.forEach((function(n){n instanceof e?n.refreshFilters(t):n.refreshFilter(t)}))},e.prototype.isColumnGroup=function(){return this.columnGroup instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm},e.prototype.isExpanded=function(){return this.filterGroupComp.isExpanded()},e.prototype.getChildren=function(){return this.childFilterComps},e.prototype.getFilterGroupName=function(){return this.filterGroupName?this.filterGroupName:""},e.prototype.getFilterGroupId=function(){return this.columnGroup.getId()},e.prototype.hideGroupItem=function(t,e){this.filterGroupComp.hideItem(t,e)},e.prototype.hideGroup=function(t){this.setDisplayed(!t)},e.prototype.forEachToolPanelFilterChild=function(t){this.childFilterComps.forEach((function(e){e instanceof ToolPanelFilterComp&&t(e)}))},e.prototype.addExpandCollapseListeners=function(){var t=this,e=this.isColumnGroup()?function(){return t.expandedCallback()}:function(){return t.forEachToolPanelFilterChild((function(t){return t.expand()}))},n=this.isColumnGroup()?function(){return t.expandedCallback()}:function(){return t.forEachToolPanelFilterChild((function(t){return t.collapse()}))};this.addManagedListener(this.filterGroupComp,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u.EVENT_EXPANDED,e),this.addManagedListener(this.filterGroupComp,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u.EVENT_COLLAPSED,n)},e.prototype.getColumns=function(){return this.columnGroup instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm?this.columnGroup.getLeafColumns():[this.columnGroup]},e.prototype.addFilterChangedListeners=function(){var t=this;this.getColumns().forEach((function(e){t.addManagedListener(e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_FILTER_CHANGED,(function(){return t.refreshFilterClass()}))})),this.columnGroup instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm||this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this))},e.prototype.refreshFilterClass=function(){var t=this.getColumns();this.filterGroupComp.addOrRemoveCssClass("ag-has-filter",t.some((function(t){return t.isFilterActive()})))},e.prototype.onFilterOpened=function(t){"COLUMN_MENU"===t.source&&t.column===this.columnGroup&&this.isExpanded()&&this.collapse()},e.prototype.expand=function(){this.filterGroupComp.toggleGroupExpand(!0)},e.prototype.collapse=function(){this.filterGroupComp.toggleGroupExpand(!1)},e.prototype.setGroupTitle=function(){this.filterGroupName=this.columnGroup instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm?this.getColumnGroupName(this.columnGroup):this.getColumnName(this.columnGroup),this.filterGroupComp.setTitle(this.filterGroupName||"")},e.prototype.getColumnGroupName=function(t){return this.columnModel.getDisplayNameForProvidedColumnGroup(null,t,"filterToolPanel")},e.prototype.getColumnName=function(t){return this.columnModel.getDisplayNameForColumn(t,"filterToolPanel",!1)},e.prototype.destroyFilters=function(){this.childFilterComps=this.destroyBeans(this.childFilterComps),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.getGui())},e.prototype.destroy=function(){this.destroyFilters(),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-filter-toolpanel-group-wrapper">\n            <ag-group-component ref="filterGroupComp"></ag-group-component>\n        </div>',__decorate$1Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("filterGroupComp")],e.prototype,"filterGroupComp",void 0),__decorate$1Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$1Y([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$j7],e.prototype,"preConstruct",null),__decorate$1Y([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2K=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1X=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},FiltersToolPanelListPanel=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.initialised=!1,n.filterGroupComps=[],n}return __extends$2K(e,t),e.prototype.init=function(t){var e=this;this.initialised=!0;var n={suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context};ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.mergeDeep(n,t),this.params=n,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_MOVED,(function(){return e.onColumnsChanged()})),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,(function(){return e.onColumnsChanged()})),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_INTERNAL_TOOL_PANEL_VISIBLE_CHANGED,(function(t){"filters"===t.key&&e.refreshFilters(t.visible)})),this.columnModel.isReady()&&this.onColumnsChanged()},e.prototype.onColumnsChanged=function(){var t=this.columnModel.isPivotMode();!this.params.suppressSyncLayoutWithGrid&&!t?this.syncFilterLayout():this.buildTreeFromProvidedColumnDefs()},e.prototype.syncFilterLayout=function(){this.toolPanelColDefService.syncLayoutWithGrid(this.setFiltersLayout.bind(this))},e.prototype.buildTreeFromProvidedColumnDefs=function(){var t=this.columnModel.getPrimaryColumnTree();this.recreateFilters(t)},e.prototype.setFiltersLayout=function(t){var e=this.toolPanelColDefService.createColumnTree(t);this.recreateFilters(e)},e.prototype.recreateFilters=function(t){var e=this,n=this.gridOptionsService.getDocument().activeElement,o=this.getExpansionState();this.destroyFilters(),this.filterGroupComps=this.recursivelyAddComps(t,0,o);var r=this.filterGroupComps.length;r&&(this.filterGroupComps.forEach((function(t){return e.appendChild(t)})),this.setFirstAndLastVisible(0,r-1)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(this.searchFilterText)&&this.searchFilters(this.searchFilterText),this.fireExpandedEvent(),this.getGui().contains(n)&&n.focus()},e.prototype.recursivelyAddComps=function(t,e,n){var o=this;return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.flatten(t.map((function(t){if(t instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm)return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.flatten(o.recursivelyAddFilterGroupComps(t,e,n));var r=t;if(!o.shouldDisplayFilter(r))return[];var i=new ToolPanelFilterComp(0===e);if(o.createBean(i),i.setColumn(r),n.get(r.getId())&&i.expand(),e>0)return i;var s=o.createBean(new ToolPanelFilterGroupComp(r,[i],o.onGroupExpanded.bind(o),e,!0));return s.addCssClassToTitleBar("ag-filter-toolpanel-header"),n.get(s.getFilterGroupId())||s.collapse(),s})))},e.prototype.recursivelyAddFilterGroupComps=function(t,e,n){if(this.filtersExistInChildren(t.getChildren())){var o=t.getColGroupDef();if(o&&o.suppressFiltersToolPanel)return[];var r=t.isPadding()?e:e+1,i=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.flatten(this.recursivelyAddComps(t.getChildren(),r,n));if(t.isPadding())return i;var s=new ToolPanelFilterGroupComp(t,i,this.onGroupExpanded.bind(this),e,!1);return this.createBean(s),s.addCssClassToTitleBar("ag-filter-toolpanel-header"),!1===n.get(s.getFilterGroupId())&&s.collapse(),[s]}},e.prototype.filtersExistInChildren=function(t){var e=this;return t.some((function(t){return t instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm?e.filtersExistInChildren(t.getChildren()):e.shouldDisplayFilter(t)}))},e.prototype.shouldDisplayFilter=function(t){var e=t.getColDef()&&t.getColDef().suppressFiltersToolPanel;return t.isFilterAllowed()&&!e},e.prototype.getExpansionState=function(){var t=new Map,e=function(n){t.set(n.getFilterGroupId(),n.isExpanded()),n.getChildren().forEach((function(n){n instanceof ToolPanelFilterGroupComp?e(n):t.set(n.getColumn().getId(),n.isExpanded())}))};return this.filterGroupComps.forEach(e),t},e.prototype.refresh=function(){},e.prototype.setVisible=function(e){t.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},e.prototype.expandFilterGroups=function(t,e){var n=[],o=function(r){var i=r.getFilterGroupId();(!e||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(e,i))&&(t&&r.isColumnGroup()?r.expand():r.collapse(),n.push(i)),r.getChildren().forEach((function(t){t instanceof ToolPanelFilterGroupComp&&o(t)}))};if(this.filterGroupComps.forEach(o),this.onGroupExpanded(),e){var r=e.filter((function(t){return n.indexOf(t)<0}));r.length>0&&console.warn("AG Grid: unable to find groups for these supplied groupIds:",r)}},e.prototype.expandFilters=function(t,e){var n=[],o=function(r){if(r instanceof ToolPanelFilterGroupComp){var i=!1;return r.getChildren().forEach((function(e){o(e)&&(t?(r.expand(),i=!0):r.isColumnGroup()||r.collapse())})),i}var s=r.getColumn().getColId(),a=!e||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(e,s);return a&&(t?r.expand():r.collapse(),n.push(s)),a};if(this.filterGroupComps.forEach(o),this.onGroupExpanded(),e){var r=e.filter((function(t){return n.indexOf(t)<0}));r.length>0&&console.warn("AG Grid: unable to find columns for these supplied colIds:",r)}},e.prototype.onGroupExpanded=function(){this.fireExpandedEvent()},e.prototype.fireExpandedEvent=function(){var t,e=0,n=0,o=function(t){t.isColumnGroup()&&(t.isExpanded()?e++:n++,t.getChildren().forEach((function(t){t instanceof ToolPanelFilterGroupComp&&o(t)})))};this.filterGroupComps.forEach(o),t=e>0&&n>0?EXPAND_STATE.INDETERMINATE:n>0?EXPAND_STATE.COLLAPSED:EXPAND_STATE.EXPANDED,this.dispatchEvent({type:"groupExpanded",state:t})},e.prototype.performFilterSearch=function(t){this.searchFilterText=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t)?t.toLowerCase():null,this.searchFilters(this.searchFilterText)},e.prototype.searchFilters=function(t){var e,n,o=function(e){return!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t)||-1!==e.toLowerCase().indexOf(t)},r=function(t,e){if(!(t instanceof ToolPanelFilterGroupComp))return o(t.getColumnFilterName()||"");var n=t.getChildren(),i=o(t.getFilterGroupName()),s=e||i;if(s){t.hideGroup(!1);for(var a=0;a<n.length;a++)r(n[a],s),t.hideGroupItem(!1,a);return!0}var l=!1;return n.forEach((function(n,o){var i=r(n,e);t.hideGroupItem(!i,o),i&&(l=!0)})),t.hideGroup(!l),l};this.filterGroupComps.forEach((function(t,o){r(t,!1),void 0===e?t.containsCssClass("ag-hidden")||(e=o,n=o):t.containsCssClass("ag-hidden")||n===o||(n=o)})),this.setFirstAndLastVisible(e,n)},e.prototype.setFirstAndLastVisible=function(t,e){this.filterGroupComps.forEach((function(n,o){n.removeCssClass("ag-first-group-visible"),n.removeCssClass("ag-last-group-visible"),o===t&&n.addCssClass("ag-first-group-visible"),o===e&&n.addCssClass("ag-last-group-visible")}))},e.prototype.refreshFilters=function(t){this.filterGroupComps.forEach((function(e){return e.refreshFilters(t)}))},e.prototype.destroyFilters=function(){this.filterGroupComps=this.destroyBeans(this.filterGroupComps),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.getGui())},e.prototype.destroy=function(){this.destroyFilters(),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-filter-list-panel"></div>',__decorate$1X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$1X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],e.prototype,"columnApi",void 0),__decorate$1X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("toolPanelColDefService")],e.prototype,"toolPanelColDefService",void 0),__decorate$1X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2J=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$J=function(){return __assign$J=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$J.apply(this,arguments)},__decorate$1W=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},FiltersToolPanel=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.initialised=!1,n.listenerDestroyFuncs=[],n}return __extends$2J(e,t),e.prototype.init=function(t){this.initialised&&(this.listenerDestroyFuncs.forEach((function(t){return t()})),this.listenerDestroyFuncs=[]),this.initialised=!0;var e={suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi};this.params=__assign$J(__assign$J(__assign$J({},e),t),{context:this.gridOptionsService.context}),this.filtersToolPanelHeaderPanel.init(this.params),this.filtersToolPanelListPanel.init(this.params);var n=this.params.suppressExpandAll,o=this.params.suppressFilterSearch;n&&o&&this.filtersToolPanelHeaderPanel.setDisplayed(!1),this.listenerDestroyFuncs.push(this.addManagedListener(this.filtersToolPanelHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"searchChanged",this.onSearchChanged.bind(this)),this.addManagedListener(this.filtersToolPanelListPanel,"groupExpanded",this.onGroupExpanded.bind(this)))},e.prototype.setVisible=function(e){t.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},e.prototype.onExpandAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!0)},e.prototype.onCollapseAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!1)},e.prototype.onSearchChanged=function(t){this.filtersToolPanelListPanel.performFilterSearch(t.searchText)},e.prototype.setFilterLayout=function(t){this.filtersToolPanelListPanel.setFiltersLayout(t)},e.prototype.onGroupExpanded=function(t){this.filtersToolPanelHeaderPanel.setExpandState(t.state)},e.prototype.expandFilterGroups=function(t){this.filtersToolPanelListPanel.expandFilterGroups(!0,t)},e.prototype.collapseFilterGroups=function(t){this.filtersToolPanelListPanel.expandFilterGroups(!1,t)},e.prototype.expandFilters=function(t){this.filtersToolPanelListPanel.expandFilters(!0,t)},e.prototype.collapseFilters=function(t){this.filtersToolPanelListPanel.expandFilters(!1,t)},e.prototype.syncLayoutWithGrid=function(){this.filtersToolPanelListPanel.syncFilterLayout()},e.prototype.refresh=function(){this.init(this.params)},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-filter-toolpanel">\n            <ag-filters-tool-panel-header ref="filtersToolPanelHeaderPanel"></ag-filters-tool-panel-header>\n            <ag-filters-tool-panel-list ref="filtersToolPanelListPanel"></ag-filters-tool-panel-list>\n         </div>',__decorate$1W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("filtersToolPanelHeaderPanel")],e.prototype,"filtersToolPanelHeaderPanel",void 0),__decorate$1W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("filtersToolPanelListPanel")],e.prototype,"filtersToolPanelListPanel",void 0),__decorate$1W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$1W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],e.prototype,"columnApi",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),VERSION$c="29.3.4",FiltersToolPanelModule={version:VERSION$c,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.FiltersToolPanelModule,beans:[],agStackComponents:[{componentName:"AgFiltersToolPanelHeader",componentClass:FiltersToolPanelHeaderPanel},{componentName:"AgFiltersToolPanelList",componentClass:FiltersToolPanelListPanel}],userComponents:[{componentName:"agFiltersToolPanel",componentClass:FiltersToolPanel}],dependantModules:[SideBarModule,EnterpriseCoreModule]},__extends$2I=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),TimeInterval=function(){function t(t,e,n){this._encode=t,this._decode=e,this._rangeCallback=n}return t.prototype.floor=function(t){var e=new Date(t),n=this._encode(e);return this._decode(n)},t.prototype.ceil=function(t){var e=new Date(Number(t)-1),n=this._encode(e);return this._decode(n+1)},t.prototype.range=function(t,e,n){var o,r=null===(o=this._rangeCallback)||void 0===o?void 0:o.call(this,t,e),i=this._encode(n?this.floor(t):this.ceil(t)),s=this._encode(n?this.ceil(e):this.floor(e));if(s<i)return[];for(var a=[],l=i;l<=s;l++){var c=this._decode(l);a.push(c)}return null==r||r(),a},t}(),CountableTimeInterval=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2I(e,t),e.prototype.getOffset=function(t,e){var n="number"==typeof t||t instanceof Date?this._encode(new Date(t)):0;return Math.floor(n)%e},e.prototype.every=function(t,e){var n,o=this,r=0,i=(null!=e?e:{}).snapTo,s=void 0===i?"start":i;if("string"==typeof s){var a=r;n=function(e,n){var i="start"===s?e:n;return r=o.getOffset(i,t),function(){return r=a}}}else"number"==typeof s?r=this.getOffset(new Date(s),t):s instanceof Date&&(r=this.getOffset(s,t));return new TimeInterval((function(e){var n=o._encode(e);return Math.floor((n-r)/t)}),(function(e){return o._decode(e*t+r)}),n)},e}(TimeInterval);function encode$b(t){return t.getTime()}function decode$b(t){return new Date(t)}var millisecond=new CountableTimeInterval(encode$b,decode$b);new Date(0).getFullYear();var durationSecond=1e3,durationMinute=60*durationSecond,durationHour=60*durationMinute,durationDay=24*durationHour,durationWeek=7*durationDay,durationMonth=30*durationDay,durationYear=365*durationDay,offset$2=(new Date).getTimezoneOffset()*durationMinute;function encode$a(t){return Math.floor((t.getTime()-offset$2)/durationSecond)}function decode$a(t){return new Date(offset$2+t*durationSecond)}var second=new CountableTimeInterval(encode$a,decode$a),offset$1=(new Date).getTimezoneOffset()*durationMinute;function encode$9(t){return Math.floor((t.getTime()-offset$1)/durationMinute)}function decode$9(t){return new Date(offset$1+t*durationMinute)}var minute=new CountableTimeInterval(encode$9,decode$9),offset=(new Date).getTimezoneOffset()*durationMinute;function encode$8(t){return Math.floor((t.getTime()-offset)/durationHour)}function decode$8(t){return new Date(offset+t*durationHour)}var hour=new CountableTimeInterval(encode$8,decode$8);function encode$7(t){var e=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.floor(e/durationDay)}function decode$7(t){var e=new Date(0);return e.setDate(e.getDate()+t),e.setHours(0,0,0,0),e}var day=new CountableTimeInterval(encode$7,decode$7),baseSunday=new Date(2023,0,1);function weekday(t){var e=Date.UTC(baseSunday.getFullYear(),baseSunday.getMonth(),baseSunday.getDate())+t*durationDay;return new CountableTimeInterval((function(t){var n=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.floor((n-e)/durationWeek)}),(function(t){var n=new Date(e);return n.setDate(n.getDate()+7*t),n}))}var sunday=weekday(0),monday=weekday(1),tuesday=weekday(2),wednesday=weekday(3),thursday=weekday(4),friday=weekday(5),saturday=weekday(6);function encode$6(t){return 12*t.getFullYear()+t.getMonth()}function decode$6(t){var e=Math.floor(t/12);return new Date(e,t-12*e,1)}var month=new CountableTimeInterval(encode$6,decode$6);function encode$5(t){return t.getFullYear()}function decode$5(t){var e=new Date;return e.setFullYear(t),e.setMonth(0,1),e.setHours(0,0,0,0),e}var year=new CountableTimeInterval(encode$5,decode$5);function encode$4(t){return Math.floor(t.getTime()/durationMinute)}function decode$4(t){return new Date(t*durationMinute)}var utcMinute=new CountableTimeInterval(encode$4,decode$4);function encode$3(t){return Math.floor(t.getTime()/durationHour)}function decode$3(t){return new Date(t*durationHour)}var utcHour=new CountableTimeInterval(encode$3,decode$3);function encode$2(t){return Math.floor(t.getTime()/durationDay)}function decode$2(t){var e=new Date(0);return e.setUTCDate(e.getUTCDate()+t),e.setUTCHours(0,0,0,0),e}var utcDay=new CountableTimeInterval(encode$2,decode$2);function encode$1(t){return 12*t.getUTCFullYear()+t.getUTCMonth()}function decode$1(t){var e=Math.floor(t/12),n=t-12*e;return new Date(Date.UTC(e,n,1))}var utcMonth=new CountableTimeInterval(encode$1,decode$1);function encode(t){return t.getUTCFullYear()}function decode(t){var e=new Date;return e.setUTCFullYear(t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0),e}var utcYear=new CountableTimeInterval(encode,decode),time=Object.freeze({__proto__:null,millisecond,second,minute,hour,day,sunday,monday,tuesday,wednesday,thursday,friday,saturday,month,year,utcMinute,utcHour,utcDay,utcMonth,utcYear}),MOBILE=[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i];function isDesktop(){var t=navigator.userAgent;return!MOBILE.some((function(e){return e.test(t)}))}var HdpiCanvas=function(){function t(t){var e=t.document,n=void 0===e?window.document:e,o=t.width,r=void 0===o?600:o,i=t.height,s=void 0===i?300:i,a=t.domLayer,l=void 0!==a&&a,c=t.zIndex,u=void 0===c?0:c,d=t.name,p=void 0===d?void 0:d,h=t.overrideDevicePixelRatio,f=void 0===h?void 0:h;this._container=void 0,this._enabled=!0,this._pixelRatio=NaN,this._width=0,this._height=0,this.document=n,this.element=n.createElement("canvas"),this.element.width=r,this.element.height=s,this.context=this.element.getContext("2d"),this.imageSource=this.context.canvas;var g=this.element.style;g.userSelect="none",g.display="block",l&&(g.position="absolute",g.zIndex=String(u),g.top="0",g.left="0",g.pointerEvents="none",g.opacity="1",p&&(this.element.id=p)),this.setPixelRatio(f),this.resize(r,s)}return Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(t){this._container!==t&&(this.remove(),t&&t.appendChild(this.element),this._container=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this.element.style.display=t?"block":"none",this._enabled=!!t},enumerable:!1,configurable:!0}),t.prototype.remove=function(){var t=this.element.parentNode;null!=t&&t.removeChild(this.element)},t.prototype.destroy=function(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)},t.prototype.snapshot=function(){},t.prototype.clear=function(){this.context.save(),this.context.resetTransform(),this.context.clearRect(0,0,this.width,this.height),this.context.restore()},t.prototype.toImage=function(){var t=this.document.createElement("img");return t.src=this.getDataURL(),t},t.prototype.getDataURL=function(t){return this.element.toDataURL(t)},t.prototype.download=function(t,e){void 0===e&&(e="image/png"),t=(t||"").trim()||"image";var n=this.getDataURL(e),o=this.document,r=o.createElement("a");r.href=n,r.download=t,r.style.display="none",o.body.appendChild(r),r.click(),o.body.removeChild(r)},Object.defineProperty(t.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!1,configurable:!0}),t.prototype.setPixelRatio=function(e){var n=null!=e?e:window.devicePixelRatio;isDesktop()||(n=1),t.overrideScale(this.context,n),this._pixelRatio=n},Object.defineProperty(t.prototype,"pixelated",{get:function(){return"pixelated"===this.element.style.imageRendering},set:function(t){this.element.style.imageRendering=t?"pixelated":"auto"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.resize=function(t,e){if(t>0&&e>0){var n=this,o=n.element,r=n.context,i=n.pixelRatio;o.width=Math.round(t*i),o.height=Math.round(e*i),o.style.width=t+"px",o.style.height=e+"px",r.resetTransform(),this._width=t,this._height=e}},Object.defineProperty(t,"textMeasuringContext",{get:function(){if(this._textMeasuringContext)return this._textMeasuringContext;var t=document.createElement("canvas");return this._textMeasuringContext=t.getContext("2d"),this._textMeasuringContext},enumerable:!1,configurable:!0}),Object.defineProperty(t,"svgText",{get:function(){if(this._svgText)return this._svgText;var t="http://www.w3.org/2000/svg",e=document.createElementNS(t,"svg");e.setAttribute("width","100"),e.setAttribute("height","100"),e.classList?e.classList.add("text-measuring-svg"):e.setAttribute("class","text-measuring-svg"),e.style.position="absolute",e.style.top="-1000px",e.style.visibility="hidden";var n=document.createElementNS(t,"text");return n.setAttribute("x","0"),n.setAttribute("y","30"),n.setAttribute("text","black"),e.appendChild(n),document.body.appendChild(e),this._svgText=n,n},enumerable:!1,configurable:!0}),Object.defineProperty(t,"has",{get:function(){if(this._has)return this._has;var t=navigator.userAgent.indexOf("Chrome")>-1,e=navigator.userAgent.indexOf("Firefox")>-1,n=!t&&navigator.userAgent.indexOf("Safari")>-1;return this._has=Object.freeze({textMetrics:void 0!==this.textMeasuringContext.measureText("test").actualBoundingBoxDescent&&!e&&!n,getTransform:void 0!==this.textMeasuringContext.getTransform}),this._has},enumerable:!1,configurable:!0}),t.measureText=function(t,e,n,o){var r=this.textMeasuringContext;return r.font=e,r.textBaseline=n,r.textAlign=o,r.measureText(t)},t.getTextSize=function(t,e){if(this.has.textMetrics){var n=this.textMeasuringContext;n.font=e;var o=n.measureText(t);return{width:o.width,height:o.actualBoundingBoxAscent+o.actualBoundingBoxDescent}}return this.measureSvgText(t,e)},t.measureSvgText=function(t,e){var n=this.textSizeCache,o=n[e];if(o){var r=o[t];if(r)return r}else n[e]={};var i=this.svgText;i.style.font=e,i.textContent=t;var s=i.getBBox(),a={width:s.width,height:s.height};return n[e][t]=a,a},t.overrideScale=function(t,e){var n=0,o={save:function(){this.$save(),n++},restore:function(){if(!(n>0))throw new Error("AG Charts - Unable to restore() past depth 0");this.$restore(),n--},setTransform:function(t,n,o,r,i,s){"object"==typeof t?this.$setTransform(t):this.$setTransform(t*e,n*e,o*e,r*e,i*e,s*e)},resetTransform:function(){this.$setTransform(e,0,0,e,0,0)},verifyDepthZero:function(){if(0!==n)throw new Error("AG Charts - Save/restore depth is non-zero: "+n)}};for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t["$"+r]||(t["$"+r]=t[r]),t[r]=o[r])},t.textSizeCache={},t}(),__assign$I=function(){return __assign$I=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$I.apply(this,arguments)},__read$10=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},BBox=function(){function t(t,e,n,o){this.x=t,this.y=e,this.width=n,this.height=o}return t.prototype.clone=function(){var e=this;return new t(e.x,e.y,e.width,e.height)},t.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},t.prototype.containsPoint=function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},t.prototype.collidesBBox=function(t){return this.x<t.x+t.width&&this.x+this.width>t.x&&this.y<t.y+t.height&&this.y+this.height>t.y},t.prototype.isInfinite=function(){return Math.abs(this.x)===1/0||Math.abs(this.y)===1/0||Math.abs(this.width)===1/0||Math.abs(this.height)===1/0},t.prototype.shrink=function(t,e){var n=this,o=function(t,e){switch(t){case"top":n.y+=e;case"bottom":n.height-=e;break;case"left":n.x+=e;case"right":n.width-=e;break;case"vertical":n.y+=e,n.height-=2*e;break;case"horizontal":n.x+=e,n.width-=2*e;break;default:n.x+=e,n.width-=2*e,n.y+=e,n.height-=2*e}};return"number"==typeof t?o(e,t):Object.entries(t).forEach((function(t){var e=__read$10(t,2),n=e[0],r=e[1];return o(n,r)})),this},t.prototype.grow=function(t,e){if("number"==typeof t)this.shrink(-t,e);else{var n=__assign$I({},t);for(var o in n)n[o]*=-1;this.shrink(n)}return this},t.merge=function(e){var n=1/0,o=1/0,r=-1/0,i=-1/0;return e.forEach((function(t){t.x<n&&(n=t.x),t.y<o&&(o=t.y),t.x+t.width>r&&(r=t.x+t.width),t.y+t.height>i&&(i=t.y+t.height)})),new t(n,o,r-n,i-o)},t}(),__read$$=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Matrix=function(){function t(t){void 0===t&&(t=[1,0,0,1,0,0]),this.elements=t}return t.prototype.setElements=function(t){var e=this.elements;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],this},Object.defineProperty(t.prototype,"identity",{get:function(){var t=this.elements;return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a",{get:function(){return this.elements[0]},set:function(t){this.elements[0]=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"b",{get:function(){return this.elements[1]},set:function(t){this.elements[1]=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"c",{get:function(){return this.elements[2]},set:function(t){this.elements[2]=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"d",{get:function(){return this.elements[3]},set:function(t){this.elements[3]=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"e",{get:function(){return this.elements[4]},set:function(t){this.elements[4]=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"f",{get:function(){return this.elements[5]},set:function(t){this.elements[5]=t},enumerable:!1,configurable:!0}),t.prototype.AxB=function(t,e,n){var o=t[0]*e[0]+t[2]*e[1],r=t[1]*e[0]+t[3]*e[1],i=t[0]*e[2]+t[2]*e[3],s=t[1]*e[2]+t[3]*e[3],a=t[0]*e[4]+t[2]*e[5]+t[4],l=t[1]*e[4]+t[3]*e[5]+t[5];(n=n||t)[0]=o,n[1]=r,n[2]=i,n[3]=s,n[4]=a,n[5]=l},t.prototype.multiplySelf=function(t){return this.AxB(this.elements,t.elements),this},t.prototype.multiply=function(e){var n=new Array(6);return this.AxB(this.elements,e.elements,n),new t(n)},t.prototype.preMultiplySelf=function(t){return this.AxB(t.elements,this.elements,this.elements),this},t.prototype.inverse=function(){var e=this.elements,n=e[0],o=e[1],r=e[2],i=e[3],s=e[4],a=e[5],l=1/(n*i-o*r);return new t([i*=l,-(o*=l),-(r*=l),n*=l,r*a-i*s,o*s-n*a])},t.prototype.inverseTo=function(t){var e=this.elements,n=e[0],o=e[1],r=e[2],i=e[3],s=e[4],a=e[5],l=1/(n*i-o*r);return n*=l,o*=l,r*=l,i*=l,t.setElements([i,-o,-r,n,r*a-i*s,o*s-n*a]),this},t.prototype.invertSelf=function(){var t=this.elements,e=t[0],n=t[1],o=t[2],r=t[3],i=t[4],s=t[5],a=1/(e*r-n*o);return e*=a,n*=a,o*=a,r*=a,t[0]=r,t[1]=-n,t[2]=-o,t[3]=e,t[4]=o*s-r*i,t[5]=n*i-e*s,this},t.prototype.transformPoint=function(t,e){var n=this.elements;return{x:t*n[0]+e*n[2]+n[4],y:t*n[1]+e*n[3]+n[5]}},t.prototype.transformBBox=function(t,e){var n=this.elements,o=n[0],r=n[1],i=n[2],s=n[3],a=.5*t.width,l=.5*t.height,c=t.x+a,u=t.y+l,d=Math.abs(a*o)+Math.abs(l*i),p=Math.abs(a*r)+Math.abs(l*s);return e||(e=new BBox(0,0,0,0)),e.x=c*o+u*i+n[4]-d,e.y=c*r+u*s+n[5]-p,e.width=d+d,e.height=p+p,e},t.prototype.toContext=function(t){if(!this.identity){var e=this.elements;t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}},t.flyweight=function(e){return t.instance.setElements(e.elements)},t.updateTransformMatrix=function(t,e,n,o,r,i,s){var a,l,c=__read$$([0,0],2),u=c[0],d=c[1],p=e,h=n;1===p&&1===h?(a=0,l=0):(a=null==(null==s?void 0:s.scalingCenterX)?u:null==s?void 0:s.scalingCenterX,l=null==(null==s?void 0:s.scalingCenterY)?d:null==s?void 0:s.scalingCenterY);var f,g,_=o,m=Math.cos(_),y=Math.sin(_);0===_?(f=0,g=0):(f=null==(null==s?void 0:s.rotationCenterX)?u:null==s?void 0:s.rotationCenterX,g=null==(null==s?void 0:s.rotationCenterY)?d:null==s?void 0:s.rotationCenterY);var v=r,C=i,E=a*(1-p)-f,b=l*(1-h)-g;return t.setElements([m*p,y*p,-y*h,m*h,m*E-y*b+f+v,y*E+m*b+g+C]),t},t.fromContext=function(e){var n=e.getTransform();return new t([n.a,n.b,n.c,n.d,n.e,n.f])},t.instance=new t,t}(),ID_MAP={},RedrawType;function createId$1(t){var e,n=t.constructor,o=Object.prototype.hasOwnProperty.call(n,"className")?n.className:n.name;if(!o)throw new Error("The "+n+" is missing the 'className' property.");var r=(null!==(e=ID_MAP[o])&&void 0!==e?e:0)+1;return ID_MAP[o]=r,o+"-"+r}function windowValue(t){var e="undefined"!=typeof window?window:void 0;return null==e?void 0:e[t]}function evalAvailable(){try{return eval(""),!0}catch(t){return!1}}!function(t){t[t.NONE=0]="NONE",t[t.TRIVIAL=1]="TRIVIAL",t[t.MINOR=2]="MINOR",t[t.MAJOR=3]="MAJOR"}(RedrawType||(RedrawType={}));var EVAL_USEABLE=evalAvailable();function SceneChangeDetection(opts){var _a=opts||{},_b=_a.redraw,redraw=void 0===_b?RedrawType.TRIVIAL:_b,_c=_a.type,type=void 0===_c?"normal":_c,changeCb=_a.changeCb,convertor=_a.convertor,_d=_a.checkDirtyOnAssignment,checkDirtyOnAssignment=void 0!==_d&&_d,debug=null!=windowValue("agChartsSceneChangeDetectionDebug");return function(target,key){var privateKey="__"+key;if(!target[key])if(EVAL_USEABLE){var setterJs="\n                "+(debug?"var setCount = 0;":"")+"\n                function set_"+key+"(value) {\n                    const oldValue = this."+privateKey+";\n                    "+(convertor?"value = convertor(value);":"")+"\n                    if (value !== oldValue) {\n                        this."+privateKey+" = value;\n                        "+(debug?"console.log({ t: this, property: '"+key+"', oldValue, value, stack: new Error().stack });":"")+"\n                        "+("normal"===type?"this.markDirty(this, "+redraw+");":"")+"\n                        "+("transform"===type?"this.markDirtyTransform("+redraw+");":"")+"\n                        "+("path"===type?"if (!this._dirtyPath) { this._dirtyPath = true; this.markDirty(this, "+redraw+"); }":"")+"\n                        "+("font"===type?"if (!this._dirtyFont) { this._dirtyFont = true; this.markDirty(this, "+redraw+"); }":"")+"\n                        "+(changeCb?"changeCb(this);":"")+"\n                    }\n                    "+(checkDirtyOnAssignment?"if (value != null && value._dirty > "+RedrawType.NONE+") { this.markDirty(value, value._dirty); }":"")+"\n                };\n                set_"+key+";\n            ",getterJs="\n                function get_"+key+"() {\n                    return this."+privateKey+";\n                };\n                get_"+key+";\n            ";Object.defineProperty(target,key,{set:eval(setterJs),get:eval(getterJs),enumerable:!0,configurable:!0})}else{var setter=function(t){var e=this[privateKey];(t=convertor?convertor(t):t)!==e&&(this[privateKey]=t,"normal"===type&&this.markDirty(this,redraw),"transform"===type&&this.markDirtyTransform(redraw),"path"!==type||this._dirtyPath||(this._dirtyPath=!0,this.markDirty(this,redraw)),"font"!==type||this._dirtyFont||(this._dirtyFont=!0,this.markDirty(this,redraw)),changeCb&&changeCb(this)),checkDirtyOnAssignment&&null!=t&&t._dirty>RedrawType.NONE&&this.markDirty(t,t._dirty)},getter=function(){return this[privateKey]};Object.defineProperty(target,key,{set:setter,get:getter,enumerable:!0,configurable:!0})}}}var ChangeDetectable=function(){function t(){this._dirty=RedrawType.MAJOR}return t.prototype.markDirty=function(t,e){void 0===e&&(e=RedrawType.TRIVIAL),this._dirty>e||(this._dirty=e)},t.prototype.markClean=function(t){this._dirty=RedrawType.NONE},t.prototype.isDirty=function(){return this._dirty>RedrawType.NONE},t}(),__extends$2H=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1V=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__values$B=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$_=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$B=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$_(arguments[e]));return t},PointerEvents;!function(t){t[t.All=0]="All",t[t.None=1]="None"}(PointerEvents||(PointerEvents={}));var zIndexChangedCallback=function(t){t.parent&&(t.parent.dirtyZIndex=!0),t.zIndexChanged()},Node=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.serialNumber=e._nextSerialNumber++,n.id=createId$1(n),n.tag=NaN,n.isContainerNode=!1,n._children=[],n.childSet={},n.matrix=new Matrix,n.inverseMatrix=new Matrix,n._dirtyTransform=!1,n.scalingX=1,n.scalingY=1,n.scalingCenterX=null,n.scalingCenterY=null,n.rotationCenterX=null,n.rotationCenterY=null,n.rotation=0,n.translationX=0,n.translationY=0,n.visible=!0,n.dirtyZIndex=!1,n.zIndex=0,n.zIndexSubOrder=void 0,n.pointerEvents=PointerEvents.All,n}return __extends$2H(e,t),Object.defineProperty(e.prototype,"datum",{get:function(){var t;return void 0!==this._datum?this._datum:null===(t=this._parent)||void 0===t?void 0:t.datum},set:function(t){this._datum=t},enumerable:!1,configurable:!0}),e.prototype._setLayerManager=function(t){var e,n;this._layerManager=t,this._debug=null==t?void 0:t.debug;try{for(var o=__values$B(this.children),r=o.next();!r.done;r=o.next()){r.value._setLayerManager(t)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},Object.defineProperty(e.prototype,"layerManager",{get:function(){return this._layerManager},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._children},enumerable:!1,configurable:!0}),e.prototype.append=function(t){var e,n;Array.isArray(t)||(t=[t]);try{for(var o=__values$B(t),r=o.next();!r.done;r=o.next()){var i=r.value;if(i.parent)throw new Error(i+" already belongs to another parent: "+i.parent+".");if(i.layerManager)throw new Error(i+" already belongs to a scene: "+i.layerManager+".");if(this.childSet[i.id])throw new Error("Duplicate "+i.constructor.name+" node: "+i);this._children.push(i),this.childSet[i.id]=!0,i._parent=this,i._setLayerManager(this.layerManager)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}this.dirtyZIndex=!0,this.markDirty(this,RedrawType.MAJOR)},e.prototype.appendChild=function(t){return this.append(t),t},e.prototype.removeChild=function(t){if(t.parent===this){var e=this.children.indexOf(t);if(e>=0)return this._children.splice(e,1),delete this.childSet[t.id],t._parent=void 0,t._setLayerManager(),this.dirtyZIndex=!0,this.markDirty(t,RedrawType.MAJOR),t}throw new Error("The node to be removed is not a child of this node.")},e.prototype.insertBefore=function(t,e){var n=t.parent;if(t.parent&&t.parent.removeChild(t),e&&e.parent===this){var o=this.children.indexOf(e);if(!(o>=0))throw new Error(e+" has "+n+" as the parent, but is not in its list of children.");this._children.splice(o,0,t),this.childSet[t.id]=!0,t._parent=this,t._setLayerManager(this.layerManager),this.dirtyZIndex=!0,this.markDirty(t,RedrawType.MAJOR)}else this.append(t);return t},e.prototype.calculateCumulativeMatrix=function(){this.computeTransformMatrix();for(var t=Matrix.flyweight(this.matrix),e=this.parent;e;)e.computeTransformMatrix(),t.preMultiplySelf(e.matrix),e=e.parent;return t},e.prototype.transformPoint=function(t,e){return this.calculateCumulativeMatrix().invertSelf().transformPoint(t,e)},e.prototype.inverseTransformPoint=function(t,e){return this.calculateCumulativeMatrix().transformPoint(t,e)},e.prototype.transformBBox=function(t){return this.calculateCumulativeMatrix().invertSelf().transformBBox(t)},e.prototype.inverseTransformBBox=function(t){return this.calculateCumulativeMatrix().transformBBox(t)},e.prototype.markDirtyTransform=function(){this._dirtyTransform=!0,this.markDirty(this,RedrawType.MAJOR)},e.prototype.containsPoint=function(t,e){return!1},e.prototype.pickNode=function(t,e){var n;if(this.visible&&this.pointerEvents!==PointerEvents.None&&this.containsPoint(t,e)){var o=this.children;if(o.length>1e3)for(var r=o.length-1;r>=0;r--){if(i=(null===(n=o[r].computeBBox())||void 0===n?void 0:n.containsPoint(t,e))?o[r].pickNode(t,e):void 0)return i}else if(o.length)for(r=o.length-1;r>=0;r--){var i;if(i=o[r].pickNode(t,e))return i}else if(!this.isContainerNode)return this}},e.prototype.findNodes=function(t){var e,n,o=t(this)?[this]:[];try{for(var r=__values$B(this.children),i=r.next();!i.done;i=r.next()){var s=i.value.findNodes(t);s&&o.push.apply(o,__spread$B(s))}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return o},e.prototype.computeBBox=function(){},e.prototype.computeTransformedBBox=function(){var t=this.computeBBox();if(t){this.computeTransformMatrix();for(var e=Matrix.flyweight(this.matrix),n=this.parent;n;)n.computeTransformMatrix(),e.preMultiplySelf(n.matrix),n=n.parent;return e.transformBBox(t,t),t}},e.prototype.computeTransformMatrix=function(){if(this._dirtyTransform){var t=this,e=t.matrix,n=t.scalingX,o=t.scalingY,r=t.rotation,i=t.translationX,s=t.translationY,a=t.scalingCenterX,l=t.scalingCenterY,c=t.rotationCenterX,u=t.rotationCenterY;Matrix.updateTransformMatrix(e,n,o,r,i,s,{scalingCenterX:a,scalingCenterY:l,rotationCenterX:c,rotationCenterY:u}),e.inverseTo(this.inverseMatrix),this._dirtyTransform=!1}},e.prototype.render=function(t){var e=t.stats;this._dirty=RedrawType.NONE,e&&e.nodesRendered++},e.prototype.clearBBox=function(t){var e=this.computeBBox();if(null!=e){var n=e.x,o=e.y,r=e.width,i=e.height,s=this.transformPoint(n,o),a=this.transformPoint(n+r,o+i);t.clearRect(s.x,s.y,a.x-s.x,a.y-s.y)}},e.prototype.markDirty=function(t,e,n){void 0===e&&(e=RedrawType.TRIVIAL),void 0===n&&(n=e),this._dirty>e||this._dirty===e&&e===n||(this._dirty=e,this.parent?this.parent.markDirty(this,n):this.layerManager&&this.layerManager.markDirty())},Object.defineProperty(e.prototype,"dirty",{get:function(){return this._dirty},enumerable:!1,configurable:!0}),e.prototype.markClean=function(t){var e,n,o=t||{},r=o.force,i=void 0!==r&&r,s=o.recursive,a=void 0===s||s;if((this._dirty!==RedrawType.NONE||i)&&(this._dirty=RedrawType.NONE,a))try{for(var l=__values$B(this.children),c=l.next();!c.done;c=l.next()){c.value.markClean()}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}},e.prototype.visibilityChanged=function(){},Object.defineProperty(e.prototype,"nodeCount",{get:function(){var t,e,n=1,o=this._dirty>=RedrawType.NONE||this._dirtyTransform?1:0,r=this.visible?1:0;try{for(var i=__values$B(this._children),s=i.next();!s.done;s=i.next()){var a=s.value.nodeCount,l=a.count,c=a.visibleCount,u=a.dirtyCount;n+=l,r+=c,o+=u}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return{count:n,visibleCount:r,dirtyCount:o}},enumerable:!1,configurable:!0}),e.prototype.zIndexChanged=function(){},e._nextSerialNumber=0,__decorate$1V([SceneChangeDetection({type:"transform"})],e.prototype,"scalingX",void 0),__decorate$1V([SceneChangeDetection({type:"transform"})],e.prototype,"scalingY",void 0),__decorate$1V([SceneChangeDetection({type:"transform"})],e.prototype,"scalingCenterX",void 0),__decorate$1V([SceneChangeDetection({type:"transform"})],e.prototype,"scalingCenterY",void 0),__decorate$1V([SceneChangeDetection({type:"transform"})],e.prototype,"rotationCenterX",void 0),__decorate$1V([SceneChangeDetection({type:"transform"})],e.prototype,"rotationCenterY",void 0),__decorate$1V([SceneChangeDetection({type:"transform"})],e.prototype,"rotation",void 0),__decorate$1V([SceneChangeDetection({type:"transform"})],e.prototype,"translationX",void 0),__decorate$1V([SceneChangeDetection({type:"transform"})],e.prototype,"translationY",void 0),__decorate$1V([SceneChangeDetection({redraw:RedrawType.MAJOR,changeCb:function(t){return t.visibilityChanged()}})],e.prototype,"visible",void 0),__decorate$1V([SceneChangeDetection({redraw:RedrawType.TRIVIAL,changeCb:zIndexChangedCallback})],e.prototype,"zIndex",void 0),__decorate$1V([SceneChangeDetection({redraw:RedrawType.TRIVIAL,changeCb:zIndexChangedCallback})],e.prototype,"zIndexSubOrder",void 0),e}(ChangeDetectable);function ascendingStringNumberUndefined(t,e){var n=0;return"number"==typeof t&&"number"==typeof e?n=t-e:"string"==typeof t&&"string"==typeof e?n=t.localeCompare(e):null==t&&null==e||(n=null==t?-1:null==e?1:String(t).localeCompare(String(e))),n}function compoundAscending(t,e,n){var o=function(t){return"function"==typeof t?t():t};for(var r in t){var i=n(o(t[r]),o(e[r]));if(0!==i)return i}return 0}var doOnceFlags$1={};function doOnce$1(t,e){doOnceFlags$1[e]||(t(),doOnceFlags$1[e]=!0)}var __read$Z=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$A=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$Z(arguments[e]));return t},Logger={debug:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.log.apply(console,__spread$A(t))},warn:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];console.warn.apply(console,__spread$A(["AG Charts - "+t],e))},error:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];console.error.apply(console,__spread$A(["AG Charts - "+t],e))},warnOnce:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];doOnce$1((function(){return Logger.warn.apply(Logger,__spread$A([t],e))}),"Logger.warn: "+t)},errorOnce:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];doOnce$1((function(){return Logger.error.apply(Logger,__spread$A([t],e))}),"Logger.warn: "+t)}},__extends$2G=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$H=function(){return __assign$H=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$H.apply(this,arguments)},__decorate$1U=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__values$A=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$Y=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$z=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$Y(arguments[e]));return t},Group=function(t){function e(e){var n,o=t.call(this)||this;o.opts=e,o.opacity=1,o.lastBBox=void 0;var r=e||{},i=r.zIndex,s=r.zIndexSubOrder;return o.isContainerNode=!0,void 0!==i&&(o.zIndex=i),void 0!==s&&(o.zIndexSubOrder=s),o.name=null===(n=o.opts)||void 0===n?void 0:n.name,o}return __extends$2G(e,t),e.prototype.zIndexChanged=function(){var t;this.layer&&(null===(t=this._layerManager)||void 0===t||t.moveLayer(this.layer,this.zIndex,this.zIndexSubOrder))},e.prototype.isLayer=function(){return null!=this.layer},e.prototype._setLayerManager=function(e){var n,o=this;if(this._layerManager&&this.layer&&(this._layerManager.removeLayer(this.layer),this.layer=void 0),this.layer)throw new Error("AG Charts - unable to deregister scene rendering layer!");if(t.prototype._setLayerManager.call(this,e),e&&(null===(n=this.opts)||void 0===n?void 0:n.layer)){var r=this.opts||{},i=r.zIndex,s=r.zIndexSubOrder,a=r.name;this.layer=e.addLayer({zIndex:i,zIndexSubOrder:s,name:a,getComputedOpacity:function(){return o.getComputedOpacity()},getVisibility:function(){return o.getVisibility()}})}},e.prototype.getComputedOpacity=function(){var t=1,n=this;do{n instanceof e&&(t*=n.opacity)}while(n=n.parent);return t},e.prototype.getVisibility=function(){for(var t=this,e=this.visible;t=t.parent;)t.visible||(e=t.visible);return e},e.prototype.visibilityChanged=function(){this.layer&&(this.layer.enabled=this.visible)},e.prototype.markDirty=function(e,n){void 0===n&&(n=RedrawType.TRIVIAL);var o=n<=RedrawType.MINOR?RedrawType.TRIVIAL:n;t.prototype.markDirty.call(this,e,n,o)},e.prototype.containsPoint=function(t,e){return!0},e.prototype.computeBBox=function(){return this.computeTransformMatrix(),e.computeBBox(this.children)},e.prototype.computeTransformedBBox=function(){return this.computeBBox()},e.prototype.render=function(e){var n,o,r,i,s=this.opts,a=(void 0===s?{}:s).name,l=void 0===a?void 0:a,c=this._debug,u=(void 0===c?{}:c).consoleLog,d=void 0!==u&&u,p=this,h=p.dirty,f=p.dirtyZIndex,g=p.layer,_=p.children,m=p.clipRect,y=e.ctx,v=e.forceRender,C=e.clipBBox,E=e.resized,b=e.stats,S=y.getTransform(),w=h>=RedrawType.MINOR||f||E,O=w||_.some((function(t){return t.dirty>=RedrawType.TRIVIAL}));if(l&&d&&Logger.debug({name:l,group:this,isDirty:w,isChildDirty:O,renderCtx:e,forceRender:v}),g){var P=this.computeBBox();void 0!==this.lastBBox&&this.lastBBox.equals(P)?P.isInfinite()||(v=!1):(v=!0,this.lastBBox=P)}if(!w&&!O&&!v){if(l&&d&&b){var T=this.nodeCount;Logger.debug({name:l,result:"skipping",renderCtx:e,counts:T,group:this})}return g&&b&&(b.layersSkipped++,b.nodesSkipped+=this.nodeCount.count),void this.markClean({recursive:!1})}var R=this.visible;if(g){if((y=g.context).save(),y.resetTransform(),v=!0,g.clear(),C){var D=C.width,x=C.height,M=C.x,A=C.y;d&&Logger.debug({name:l,clipBBox:C,ctxTransform:y.getTransform(),renderCtx:e,group:this}),this.clipCtx(y,M,A,D,x)}y.setTransform(S)}else y.globalAlpha*=this.opacity;if(this.computeTransformMatrix(),this.matrix.toContext(y),m){M=m.x,A=m.y,D=m.width,x=m.height;y.save(),d&&Logger.debug({name:l,clipRect:m,ctxTransform:y.getTransform(),renderCtx:e,group:this}),this.clipCtx(y,M,A,D,x),C=this.matrix.inverse().transformBBox(m)}f&&(this.sortChildren(),v=!0);var L=v!==e.forceRender||C!==e.clipBBox||y!==e.ctx?__assign$H(__assign$H({},e),{ctx:y,forceRender:v,clipBBox:C}):e,I=0;try{for(var N=__values$A(_),k=N.next();!k.done;k=N.next()){var F=k.value;F.visible&&R?v||F.dirty!==RedrawType.NONE?(y.save(),F.render(L),y.restore()):b&&(I+=F.nodeCount.count):(F.markClean(),b&&(I+=F.nodeCount.count))}}catch(t){n={error:t}}finally{try{k&&!k.done&&(o=N.return)&&o.call(N)}finally{if(n)throw n.error}}if(b&&(b.nodesSkipped+=I),t.prototype.render.call(this,e),m&&y.restore(),g&&(b&&b.layersRendered++,y.restore(),g.snapshot(),null===(i=(r=g.context).verifyDepthZero)||void 0===i||i.call(r)),l&&d&&b){T=this.nodeCount;Logger.debug({name:l,result:"rendered",skipped:I,renderCtx:e,counts:T,group:this})}},e.prototype.sortChildren=function(){this.dirtyZIndex=!1,this.children.sort((function(t,e){var n,o;return compoundAscending(__spread$z([t.zIndex],null!==(n=t.zIndexSubOrder)&&void 0!==n?n:[void 0,void 0],[t.serialNumber]),__spread$z([e.zIndex],null!==(o=e.zIndexSubOrder)&&void 0!==o?o:[void 0,void 0],[e.serialNumber]),ascendingStringNumberUndefined)}))},e.prototype.clipCtx=function(t,e,n,o,r){t.beginPath(),t.moveTo(e,n),t.lineTo(e+o,n),t.lineTo(e+o,n+r),t.lineTo(e,n+r),t.closePath(),t.clip()},e.computeBBox=function(t){var e=1/0,n=-1/0,o=1/0,r=-1/0;return t.forEach((function(t){if(t.visible){var i=t.computeTransformedBBox();if(i){var s=i.x,a=i.y;s<e&&(e=s),a<o&&(o=a),s+i.width>n&&(n=s+i.width),a+i.height>r&&(r=a+i.height)}}})),new BBox(e,o,n-e,r-o)},e.prototype.setClipRectInGroupCoordinateSpace=function(t){this.clipRect=t?this.transformBBox(t):void 0},e.className="Group",__decorate$1U([SceneChangeDetection({convertor:function(t){return Math.min(1,Math.max(0,t))}})],e.prototype,"opacity",void 0),e}(Node),HdpiOffscreenCanvas=function(){function t(t){var e=t.width,n=void 0===e?600:e,o=t.height,r=void 0===o?300:o,i=t.overrideDevicePixelRatio,s=void 0===i?void 0:i;this.enabled=!0,this._pixelRatio=NaN,this._width=0,this._height=0,this.canvas=new OffscreenCanvas(n,r),this.context=this.canvas.getContext("2d"),this.imageSource=this.canvas.transferToImageBitmap(),this.setPixelRatio(s),this.resize(n,r)}return t.isSupported=function(){return null!=window.OffscreenCanvas},t.prototype.snapshot=function(){this.imageSource.close(),this.imageSource=this.canvas.transferToImageBitmap()},t.prototype.destroy=function(){this.imageSource.close(),this.canvas.width=0,this.canvas.height=0,this.context.clearRect(0,0,0,0)},t.prototype.clear=function(){this.context.save(),this.context.resetTransform(),this.context.clearRect(0,0,this.width,this.height),this.context.restore()},Object.defineProperty(t.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!1,configurable:!0}),t.prototype.setPixelRatio=function(t){var e=null!=t?t:window.devicePixelRatio;isDesktop()||(e=1),HdpiCanvas.overrideScale(this.context,e),this._pixelRatio=e},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.resize=function(t,e){if(t>0&&e>0){var n=this,o=n.canvas,r=n.context,i=n.pixelRatio;o.width=Math.round(t*i),o.height=Math.round(e*i),r.resetTransform(),this._width=t,this._height=e}},t}(),__assign$G=function(){return __assign$G=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$G.apply(this,arguments)},__awaiter$f=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{l(o.next(t))}catch(t){i(t)}}function a(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((o=o.apply(t,e||[])).next())}))},__generator$f=function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},__read$X=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$y=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$X(arguments[e]));return t},__values$z=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function buildSceneNodeHighlight(){var t,e=null!==(t=windowValue("agChartsSceneDebug"))&&void 0!==t?t:[];"string"==typeof e&&(e=[e]);var n=[];return e.forEach((function(t){"layout"===t?n.push("seriesRoot","legend","root",/.*Axis-\d+-axis.*/):n.push(t)})),n}var Scene=function(){function t(t){var e,n;this.id=createId$1(this),this.layers=[],this._nextZIndex=0,this._nextLayerId=0,this._dirty=!1,this._root=null,this.debug={dirtyTree:!1,stats:!1,renderBoundingBoxes:!1,consoleLog:!1,sceneNodeHighlight:[]};var o=t.document,r=void 0===o?window.document:o,i=t.mode,s=void 0===i?windowValue("agChartsSceneRenderModel")||"adv-composite":i,a=t.width,l=t.height,c=t.overrideDevicePixelRatio,u=void 0===c?void 0:c;this.overrideDevicePixelRatio=u,this.opts={document:r,mode:s},this.debug.consoleLog=!0===windowValue("agChartsDebug"),this.debug.stats=null!==(e=windowValue("agChartsSceneStats"))&&void 0!==e&&e,this.debug.dirtyTree=null!==(n=windowValue("agChartsSceneDirtyTree"))&&void 0!==n&&n,this.debug.sceneNodeHighlight=buildSceneNodeHighlight(),this.canvas=new HdpiCanvas({document:r,width:a,height:l,overrideDevicePixelRatio:u})}return Object.defineProperty(t.prototype,"container",{get:function(){return this.canvas.container},set:function(t){this.canvas.container=t},enumerable:!1,configurable:!0}),t.prototype.download=function(t,e){this.canvas.download(t,e)},t.prototype.getDataURL=function(t){return this.canvas.getDataURL(t)},Object.defineProperty(t.prototype,"width",{get:function(){return this.pendingSize?this.pendingSize[0]:this.canvas.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.pendingSize?this.pendingSize[1]:this.canvas.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(t,e){t=Math.round(t),e=Math.round(e);var n=t<=0||e<=0,o=isNaN(t)||isNaN(e);return!(t===this.width&&e===this.height||o||n)&&(this.pendingSize=[t,e],this.markDirty(),!0)},t.prototype.addLayer=function(t){var e,n=this.opts.mode;if(["composite","dom-composite","adv-composite"].includes(n)){var o=t.zIndex,r=void 0===o?this._nextZIndex++:o,i=t.name,s=t.zIndexSubOrder,a=t.getComputedOpacity,l=t.getVisibility,c=this,u=c.width,d=c.height,p=c.overrideDevicePixelRatio,h="dom-composite"===n,f="adv-composite"===n&&HdpiOffscreenCanvas.isSupported()?new HdpiOffscreenCanvas({width:u,height:d,overrideDevicePixelRatio:p}):new HdpiCanvas({document:this.opts.document,width:u,height:d,domLayer:h,zIndex:r,name:i,overrideDevicePixelRatio:p}),g={id:this._nextLayerId++,name:i,zIndex:r,zIndexSubOrder:s,canvas:f,getComputedOpacity:a,getVisibility:l};if(r>=this._nextZIndex&&(this._nextZIndex=r+1),this.layers.push(g),this.sortLayers(),h){var _=this.layers.map((function(t){return t.canvas})).filter((function(t){return t instanceof HdpiCanvas})),m=_.findIndex((function(t){return t===f}));(null!==(e=_[m-1])&&void 0!==e?e:this.canvas).element.insertAdjacentElement("afterend",f.element)}return this.debug.consoleLog&&Logger.debug({layers:this.layers}),g.canvas}},t.prototype.removeLayer=function(t){var e=this.layers.findIndex((function(e){return e.canvas===t}));e>=0&&(this.layers.splice(e,1),t.destroy(),this.markDirty(),this.debug.consoleLog&&Logger.debug({layers:this.layers}))},t.prototype.moveLayer=function(t,e,n){var o=this.layers.find((function(e){return e.canvas===t}));o&&(o.zIndex=e,o.zIndexSubOrder=n,this.sortLayers(),this.markDirty(),this.debug.consoleLog&&Logger.debug({layers:this.layers}))},t.prototype.sortLayers=function(){this.layers.sort((function(t,e){var n,o;return compoundAscending(__spread$y([t.zIndex],null!==(n=t.zIndexSubOrder)&&void 0!==n?n:[void 0,void 0],[t.id]),__spread$y([e.zIndex],null!==(o=e.zIndexSubOrder)&&void 0!==o?o:[void 0,void 0],[e.id]),ascendingStringNumberUndefined)}))},t.prototype.markDirty=function(){this._dirty=!0},Object.defineProperty(t.prototype,"dirty",{get:function(){return this._dirty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._root},set:function(t){t!==this._root&&(this._root&&this._root._setLayerManager(),this._root=t,t&&(null===t.parent&&t.layerManager&&t.layerManager!==this&&(t.layerManager.root=null),t._setLayerManager(this)),this.markDirty())},enumerable:!1,configurable:!0}),t.prototype.strip=function(){var t,e,n=this.layers;try{for(var o=__values$z(n),r=o.next();!r.done;r=o.next()){var i=r.value;i.canvas.destroy(),delete i.canvas}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}n.splice(0,n.length),this.root=null,this._dirty=!1,this.canvas.context.resetTransform()},t.prototype.destroy=function(){this.container=void 0,this.strip(),this.canvas.destroy(),Object.assign(this,{canvas:void 0,ctx:void 0})},t.prototype.render=function(t){var e;return __awaiter$f(this,void 0,void 0,(function(){var n,o,r,i,s,a,l,c,u,d,p,h,f,g,_,m,y,v;return __generator$f(this,(function(C){return o=(n=t||{}).debugSplitTimes,r=void 0===o?[performance.now()]:o,i=n.extraDebugStats,s=void 0===i?{}:i,l=(a=this).canvas,c=a.canvas.context,u=a.root,d=a.layers,p=a.pendingSize,h=a.opts.mode,p&&((v=this.canvas).resize.apply(v,__spread$y(p)),this.layers.forEach((function(t){var e;return(e=t.canvas).resize.apply(e,__spread$y(p))})),this.pendingSize=void 0),u&&!u.visible?(this._dirty=!1,[2]):u&&!this.dirty?(this.debug.consoleLog&&Logger.debug("no-op",{redrawType:RedrawType[u.dirty],tree:this.buildTree(u)}),this.debugStats(r,c,void 0,s),[2]):(f={ctx:c,forceRender:!0,resized:!!p,debugNodes:{}},"detailed"===this.debug.stats&&(f.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0}),g=!1,(!u||u.dirty>=RedrawType.TRIVIAL)&&(g=!0,l.clear()),u&&this.debug.dirtyTree&&(_=this.buildDirtyTree(u),m=_.dirtyTree,y=_.paths,Logger.debug({dirtyTree:m,paths:y})),u&&g&&(this.debug.consoleLog&&Logger.debug("before",{redrawType:RedrawType[u.dirty],canvasCleared:g,tree:this.buildTree(u)}),u.visible&&(c.save(),u.render(f),c.restore())),"dom-composite"!==h&&d.length>0&&g&&(this.sortLayers(),c.save(),c.setTransform(1/l.pixelRatio,0,0,1/l.pixelRatio,0,0),d.forEach((function(t){var e=t.canvas,n=e.imageSource,o=e.enabled,r=t.getComputedOpacity,i=t.getVisibility;o&&i()&&(c.globalAlpha=r(),c.drawImage(n,0,0))})),c.restore()),null===(e=c.verifyDepthZero)||void 0===e||e.call(c),this._dirty=!1,this.debugStats(r,c,f.stats,s),this.debugSceneNodeHighlight(c,this.debug.sceneNodeHighlight,f.debugNodes),u&&this.debug.consoleLog&&Logger.debug("after",{redrawType:RedrawType[u.dirty],canvasCleared:g,tree:this.buildTree(u)}),[2])}))}))},t.prototype.debugStats=function(t,e,n,o){var r,i;void 0===o&&(o={});var s=performance.now();if(this.debug.stats){var a=t[0];t.push(s);var l=function(t,e){var n=t+e;return t+" / "+n+" ("+Math.round(100*t/n)+"%)"},c=function(t,e){return Math.round(100*(e-t))/100+"ms"},u=null!=n?n:{},d=u.layersRendered,p=void 0===d?0:d,h=u.layersSkipped,f=void 0===h?0:h,g=u.nodesRendered,_=void 0===g?0:g,m=u.nodesSkipped,y=void 0===m?0:m,v=t.map((function(e,n){return n>0?c(t[n-1],e):null})).filter((function(t){return null!=t})).join(" + "),C=Object.entries(o).map((function(t){var e=__read$X(t,2);return e[0]+": "+e[1]})).join(" ; "),E=[c(a,s)+" ("+v+")",""+C,"detailed"===this.debug.stats?"Layers: "+l(p,f):null,"detailed"===this.debug.stats?"Nodes: "+l(_,y):null].filter((function(t){return null!=t}));e.save(),e.fillStyle="white",e.fillRect(0,0,200,10+15*E.length),e.fillStyle="black";var b=0;try{for(var S=__values$z(E),w=S.next();!w.done;w=S.next()){var O=w.value;e.fillText(O,2,10+15*b++)}}catch(t){r={error:t}}finally{try{w&&!w.done&&(i=S.return)&&i.call(S)}finally{if(r)throw r.error}}e.restore()}},t.prototype.debugSceneNodeHighlight=function(t,e,n){var o,r,i,s,a,l,c,u=function(t){return function(e){return!!t.test(e.id)||e instanceof Group&&null!=e.name&&t.test(e.name)}},d=function(t){return function(e){return t===e.id||e instanceof Group&&null!=e.name&&t===e.name}};try{for(var p=__values$z(e),h=p.next();!h.done;h=p.next()){var f=h.value;if("string"!=typeof f||null==n[f]){var g="string"==typeof f?d(f):u(f),_=null===(c=this.root)||void 0===c?void 0:c.findNodes(g);if(_&&0!==_.length)try{for(var m=(i=void 0,__values$z(_)),y=m.next();!y.done;y=m.next()){(E=y.value)instanceof Group&&E.name?n[E.name]=E:n[E.id]=E}}catch(t){i={error:t}}finally{try{y&&!y.done&&(s=m.return)&&s.call(m)}finally{if(i)throw i.error}}else Logger.debug("no debugging node with id ["+f+"] in scene graph.")}}}catch(t){o={error:t}}finally{try{h&&!h.done&&(r=p.return)&&r.call(p)}finally{if(o)throw o.error}}t.save();try{for(var v=__values$z(Object.entries(n)),C=v.next();!C.done;C=v.next()){var E,b=__read$X(C.value,2),S=b[0],w=(E=b[1]).computeTransformedBBox();w?(t.globalAlpha=.8,t.strokeStyle="red",t.lineWidth=1,t.strokeRect(w.x,w.y,w.width,w.height),t.fillStyle="red",t.strokeStyle="white",t.font="16px sans-serif",t.textBaseline="top",t.textAlign="left",t.lineWidth=2,t.strokeText(S,w.x,w.y,w.width),t.fillText(S,w.x,w.y,w.width)):Logger.debug("no bbox for debugged node ["+S+"].")}}catch(t){a={error:t}}finally{try{C&&!C.done&&(l=v.return)&&l.call(v)}finally{if(a)throw a.error}}t.restore()},t.prototype.buildTree=function(t){var e,n=this,o=null!==(e=t instanceof Group?t.name:null)&&void 0!==e?e:t.id;return __assign$G({name:o,node:t,dirty:RedrawType[t.dirty]},t.children.map((function(t){return n.buildTree(t)})).reduce((function(t,e){var n=e.name,o=e.node,r=o.visible,i=o.opacity,s=o.zIndex,a=o.zIndexSubOrder,l=e.node;return(!r||i<=0)&&(n="("+n+")"),l instanceof Group&&l.isLayer()&&(n="*"+n+"*"),t[[""+(null!=n?n:"<unknown>"),"z: "+s,a&&"zo: "+a.join(" / ")].filter((function(t){return!!t})).join(" ")]=e,t}),{}))},t.prototype.buildDirtyTree=function(t){var e,n=this;if(t.dirty===RedrawType.NONE)return{dirtyTree:{},paths:[]};var o=t.children.map((function(t){return n.buildDirtyTree(t)})).filter((function(t){return t.paths.length>0})),r=null!==(e=t instanceof Group?t.name:null)&&void 0!==e?e:t.id,i=0===o.length?[r]:o.map((function(t){return t.paths})).reduce((function(t,e){return t.concat(e)}),[]).map((function(t){return r+"."+t}));return{dirtyTree:__assign$G({name:r,node:t,dirty:RedrawType[t.dirty]},o.map((function(t){return t.dirtyTree})).filter((function(t){return void 0!==t.dirty})).reduce((function(t,e){return t[e.name||"<unknown>"]=e,t}),{})),paths:i}},t.className="Scene",t}(),Observable=function(){function t(){this.allEventListeners=new Map}return t.prototype.addEventListener=function(t,e){if("function"!=typeof e)throw new Error("AG Charts - listener must be a Function");var n=this.allEventListeners,o=n.get(t);o||(o=new Set,n.set(t,o)),o.has(e)||o.add(e)},t.prototype.removeEventListener=function(t,e){var n=this.allEventListeners,o=n.get(t);o&&(o.delete(e),0===o.size&&n.delete(t))},t.prototype.hasEventListener=function(t){return this.allEventListeners.has(t)},t.prototype.clearEventListeners=function(){this.allEventListeners.clear()},t.prototype.fireEvent=function(t){var e=this.allEventListeners.get(t.type);null==e||e.forEach((function(e){return e(t)}))},t}(),isString$1=function(t){return"string"==typeof t},isStringObject$1=function(t){return!!t&&Object.prototype.hasOwnProperty.call(t,"toString")&&isString$1(t.toString())},isDate$1=function(t){return t instanceof Date&&!isNaN(+t)};function isDiscrete(t){return isString$1(t)||isStringObject$1(t)}function isContinuous(t){var e;return isNumber$4(t)||!!(e=t)&&Object.prototype.hasOwnProperty.call(e,"valueOf")&&isNumber$4(e.valueOf())||function(t){return t instanceof Date&&!isNaN(+t)}(t)}function checkDatum(t,e){return e&&isContinuous(t)?t:e?void 0:isDiscrete(t)?t:String(t)}var isNumber$4=function(t){return"number"==typeof t&&Number.isFinite(t)},__values$y=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},BREAK_TRANSFORM_CHAIN=Symbol("BREAK"),CONFIG_KEY="__decorator_config";function initialiseConfig(t,e,n,o){null==Object.getOwnPropertyDescriptor(t,CONFIG_KEY)&&Object.defineProperty(t,CONFIG_KEY,{value:{}});var r=t[CONFIG_KEY];if(null!=r[n])return r[n];r[n]={setters:[],getters:[]};var i=Object.getOwnPropertyDescriptor(t,e),s=null==i?void 0:i.set,a=null==i?void 0:i.get;return Object.defineProperty(t,e,{set:function(t){var i,l,c,u,d,p=null!==(u=null===(c=r[n])||void 0===c?void 0:c.setters)&&void 0!==u?u:[];p.some((function(t){return t.length>2}))&&(d=a?a.call(this):this[o]);try{for(var h=__values$y(p),f=h.next();!f.done;f=h.next()){if((t=(0,f.value)(this,e,t,d))===BREAK_TRANSFORM_CHAIN)return}}catch(t){i={error:t}}finally{try{f&&!f.done&&(l=h.return)&&l.call(h)}finally{if(i)throw i.error}}s?s.call(this,t):this[o]=t},get:function(){var t,i,s,l,c=a?a.call(this):this[o];try{for(var u=__values$y(null!==(l=null===(s=r[n])||void 0===s?void 0:s.getters)&&void 0!==l?l:[]),d=u.next();!d.done;d=u.next()){if((c=(0,d.value)(this,e,c))===BREAK_TRANSFORM_CHAIN)return}}catch(e){t={error:e}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(t)throw t.error}}return c},enumerable:!0,configurable:!1}),r[n]}function addTransformToInstanceProperty(t,e){return function(n,o){var r=o.toString(),i=initialiseConfig(n,o,r,"__"+r),s=i.getters;i.setters.push(t),e&&s.splice(0,0,e)}}function createDeprecationWarning(){return function(t,e){var n=["Property ["+t+"] is deprecated.",e].filter((function(t){return null!=t})).join(" ");Logger.warnOnce(n)}}function Deprecated(t,e){var n=null==e?void 0:e.default,o=createDeprecationWarning();return addTransformToInstanceProperty((function(e,r,i){return i!==n&&o(r.toString(),t),i}))}function DeprecatedAndRenamedTo(t,e){var n=createDeprecationWarning();return addTransformToInstanceProperty((function(o,r,i){return i!==o[t]&&(n(r.toString(),"Use ["+t+"] instead."),o[t]=e?e(i):i),BREAK_TRANSFORM_CHAIN}),(function(e,o){return n(o.toString(),"Use ["+t+"] instead."),e[t]}))}var __read$W=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Color=function(){function t(t,e,n,o){void 0===o&&(o=1),this.r=Math.min(1,Math.max(0,t||0)),this.g=Math.min(1,Math.max(0,e||0)),this.b=Math.min(1,Math.max(0,n||0)),this.a=Math.min(1,Math.max(0,o||0))}return t.validColorString=function(e){return e.indexOf("#")>=0?!!t.parseHex(e):e.indexOf("rgb")>=0?!!t.stringToRgba(e):!!t.nameToHex[e.toLowerCase()]},t.fromString=function(e){if(e.indexOf("#")>=0)return t.fromHexString(e);var n=t.nameToHex[e.toLowerCase()];if(n)return t.fromHexString(n);if(e.indexOf("rgb")>=0)return t.fromRgbaString(e);throw new Error("Invalid color string: '"+e+"'")},t.tryParseFromString=function(e){try{return t.fromString(e)}catch(n){return Logger.warnOnce("invalid color string: '"+e+"'."),t.fromArray([0,0,0])}},t.parseHex=function(t){var e;switch((t=t.replace(/ /g,"").slice(1)).length){case 6:case 8:e=[];for(var n=0;n<t.length;n+=2)e.push(parseInt(""+t[n]+t[n+1],16));break;case 3:case 4:e=t.split("").map((function(t){return parseInt(t,16)})).map((function(t){return t+16*t}))}if((null==e?void 0:e.length)>=3&&e.every((function(t){return t>=0})))return 3===e.length&&e.push(255),e},t.fromHexString=function(e){var n=t.parseHex(e);if(n){var o=__read$W(n,4);return new t(o[0]/255,o[1]/255,o[2]/255,o[3]/255)}throw new Error("Malformed hexadecimal color string: '"+e+"'")},t.stringToRgba=function(t){for(var e=__read$W([NaN,NaN],2),n=e[0],o=e[1],r=0;r<t.length;r++){var i=t[r];if(n||"("!==i){if(")"===i){o=r;break}}else n=r}var s=n&&o&&t.substring(n+1,o);if(s){var a=s.split(","),l=[];for(r=0;r<a.length;r++){var c=a[r],u=parseFloat(c);if(isNaN(u))return;c.indexOf("%")>=0?(u=Math.max(0,Math.min(100,u)),u/=100):3===r?u=Math.max(0,Math.min(1,u)):(u=Math.max(0,Math.min(255,u)),u/=255),l.push(u)}return l}},t.fromRgbaString=function(e){var n=t.stringToRgba(e);if(n){if(3===n.length)return new t(n[0],n[1],n[2]);if(4===n.length)return new t(n[0],n[1],n[2],n[3])}throw new Error("Malformed rgb/rgba color string: '"+e+"'")},t.fromArray=function(e){if(4===e.length)return new t(e[0],e[1],e[2],e[3]);if(3===e.length)return new t(e[0],e[1],e[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},t.fromHSB=function(e,n,o,r){void 0===r&&(r=1);var i=t.HSBtoRGB(e,n,o);return new t(i[0],i[1],i[2],r)},t.padHex=function(t){return 1===t.length?"0"+t:t},t.prototype.toHexString=function(){var e="#"+t.padHex(Math.round(255*this.r).toString(16))+t.padHex(Math.round(255*this.g).toString(16))+t.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(e+=t.padHex(Math.round(255*this.a).toString(16))),e},t.prototype.toRgbaString=function(t){void 0===t&&(t=3);var e=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],n=Math.pow(10,t);return 1!==this.a?(e.push(Math.round(this.a*n)/n),"rgba("+e.join(", ")+")"):"rgb("+e.join(", ")+")"},t.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},t.prototype.toHSB=function(){return t.RGBtoHSB(this.r,this.g,this.b)},t.RGBtoHSB=function(t,e,n){var o=Math.min(t,e,n),r=Math.max(t,e,n),i=NaN;if(o!==r){var s=r-o,a=(r-t)/s,l=(r-e)/s,c=(r-n)/s;i=t===r?c-l:e===r?2+a-c:4+l-a,(i/=6)<0&&(i+=1)}return[360*i,0!==r?(r-o)/r:0,r]},t.HSBtoRGB=function(t,e,n){isNaN(t)&&(t=0),t=(t%360+360)%360/360;var o=0,r=0,i=0;if(0===e)o=r=i=n;else{var s=6*(t-Math.floor(t)),a=s-Math.floor(s),l=n*(1-e),c=n*(1-e*a),u=n*(1-e*(1-a));switch(s>>0){case 0:o=n,r=u,i=l;break;case 1:o=c,r=n,i=l;break;case 2:o=l,r=n,i=u;break;case 3:o=l,r=c,i=n;break;case 4:o=u,r=l,i=n;break;case 5:o=n,r=l,i=c}}return[o,r,i]},t.prototype.derive=function(e,n,o,r){var i=t.RGBtoHSB(this.r,this.g,this.b),s=i[2];0==s&&o>1&&(s=.05);var a=((i[0]+e)%360+360)%360,l=Math.max(Math.min(i[1]*n,1),0);s=Math.max(Math.min(s*o,1),0);var c=Math.max(Math.min(this.a*r,1),0),u=t.HSBtoRGB(a,l,s);return u.push(c),t.fromArray(u)},t.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},t.prototype.darker=function(){return this.derive(0,1,.7,1)},t.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",transparent:"#00000000",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),t}();function Validate(t){return addTransformToInstanceProperty((function(e,n,o){var r,i,s;if(t(o,{target:e}))return o;var a=n.toString().replace(/^_*/,""),l=null!==(i=null===(r=e.constructor)||void 0===r?void 0:r.className)&&void 0!==i?i:null===(s=e.constructor)||void 0===s?void 0:s.name;(null==l?void 0:l.length)<3&&(l=null);var c=l?"of ["+l+"] ":"";return t.message?Logger.warn("Property ["+a+"] "+c+"cannot be set to ["+JSON.stringify(o)+"]; "+t.message+", ignoring."):Logger.warn("Property ["+a+"] "+c+"cannot be set to ["+JSON.stringify(o)+"], ignoring."),BREAK_TRANSFORM_CHAIN}))}function predicateWithMessage(t,e){return t.message=e,t}var OPTIONAL=function(t,e,n){return void 0===t||n(t,e)},ARRAY=function(t,e){return predicateWithMessage((function(n,o){return Array.isArray(n)&&(!t||n.length===t)&&(!e||n.every((function(t){return e(t,o)})))}),"expecting an Array")},OPT_ARRAY=function(t){return predicateWithMessage((function(e,n){return OPTIONAL(e,n,ARRAY(t))}),"expecting an optional Array")},AND=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return predicateWithMessage((function(e,n){return t.every((function(t){return t(e,n)}))}),t.map((function(t){return t.message})).filter((function(t){return null!=t})).join(" AND "))},OR=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return predicateWithMessage((function(e,n){return t.some((function(t){return t(e,n)}))}),t.map((function(t){return t.message})).filter((function(t){return null!=t})).join(" OR "))},isComparable=function(t){return null!=t&&!isNaN(t)},LESS_THAN=function(t){return predicateWithMessage((function(e,n){return!isComparable(e)||!isComparable(n.target[t])||e<n.target[t]}),"expected to be less than "+t)},GREATER_THAN=function(t){return predicateWithMessage((function(e,n){return!isComparable(e)||!isComparable(n.target[t])||e>n.target[t]}),"expected to be greater than "+t)},FUNCTION=predicateWithMessage((function(t){return"function"==typeof t}),"expecting a Function"),OPT_FUNCTION=predicateWithMessage((function(t,e){return OPTIONAL(t,e,FUNCTION)}),"expecting an optional Function"),BOOLEAN=predicateWithMessage((function(t){return!0===t||!1===t}),"expecting a Boolean"),OPT_BOOLEAN=predicateWithMessage((function(t,e){return OPTIONAL(t,e,BOOLEAN)}),"expecting an optional Boolean"),STRING=predicateWithMessage((function(t){return"string"==typeof t}),"expecting a String"),OPT_STRING=predicateWithMessage((function(t,e){return OPTIONAL(t,e,STRING)}),"expecting an optional String"),DATE=predicateWithMessage((function(t){return t instanceof Date&&!isNaN(+t)}),"expecting a Date object"),OPT_DATE=predicateWithMessage((function(t,e){return OPTIONAL(t,e,DATE)}),"expecting an optional Date");predicateWithMessage(ARRAY(void 0,DATE),"expecting an Array of Date objects");var DATETIME_MS=NUMBER(0),OPT_DATETIME_MS=predicateWithMessage((function(t,e){return OPTIONAL(t,e,DATETIME_MS)}),"expecting an optional number"),OPT_DATE_OR_DATETIME_MS=OR(OPT_DATE,OPT_DATETIME_MS),colorMessage="A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc",COLOR_STRING=predicateWithMessage((function(t){return"string"==typeof t&&Color.validColorString(t)}),"expecting a color String. "+colorMessage),OPT_COLOR_STRING=predicateWithMessage((function(t,e){return OPTIONAL(t,e,COLOR_STRING)}),"expecting an optional color String. "+colorMessage),COLOR_STRING_ARRAY=predicateWithMessage(ARRAY(void 0,COLOR_STRING),"expecting an Array of color strings. "+colorMessage),OPT_COLOR_STRING_ARRAY=predicateWithMessage((function(t,e){return OPTIONAL(t,e,COLOR_STRING_ARRAY)}),"expecting an optional Array of color strings. "+colorMessage);function NUMBER(t,e){return predicateWithMessage((function(n){return"number"==typeof n&&Number.isFinite(n)&&(void 0===t||n>=t)&&(void 0===e||n<=e)}),"expecting a finite Number"+(void 0!==t?", more than or equal to "+t:"")+(void 0!==e?", less than or equal to "+e:""))}function OPT_NUMBER(t,e){return predicateWithMessage((function(n,o){return OPTIONAL(n,o,NUMBER(t,e))}),"expecting an optional finite Number"+(void 0!==t?", more than or equal to "+t:"")+(void 0!==e?", less than or equal to "+e:""))}function NUMBER_OR_NAN(t,e){return predicateWithMessage((function(n){return"number"==typeof n&&(isNaN(n)||Number.isFinite(n)&&(void 0===t||n>=t)&&(void 0===e||n<=e))}),"expecting a finite Number"+(void 0!==t?", more than or equal to "+t:"")+(void 0!==e?", less than or equal to "+e:""))}var NUMBER_ARRAY=predicateWithMessage(ARRAY(void 0,NUMBER()),"expecting an Array of numbers"),OPT_NUMBER_ARRAY=predicateWithMessage((function(t,e){return OPTIONAL(t,e,NUMBER_ARRAY)}),"expecting an optional Array of numbers"),STRING_ARRAY=predicateWithMessage(ARRAY(void 0,STRING),"expecting an Array of strings");function STRING_UNION(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return predicateWithMessage((function(e){return"string"==typeof e&&t.indexOf(e)>=0}),"expecting one of: "+t.join(", "))}predicateWithMessage((function(t,e){return OPTIONAL(t,e,STRING_ARRAY)}),"expecting an optional Array of strings");var BOOLEAN_ARRAY=predicateWithMessage(ARRAY(void 0,BOOLEAN),"expecting an Array of boolean values");predicateWithMessage((function(t,e){return OPTIONAL(t,e,BOOLEAN_ARRAY)}),"expecting an optional Array of boolean values");var FONT_WEIGHTS=["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"],FONT_STYLE=predicateWithMessage((function(t){return"normal"===t||"italic"===t||"oblique"===t}),"expecting a font style keyword such as 'normal', 'italic' or 'oblique'"),OPT_FONT_STYLE=predicateWithMessage((function(t,e){return OPTIONAL(t,e,FONT_STYLE)}),"expecting an optional font style keyword such as 'normal', 'italic' or 'oblique'"),FONT_WEIGHT=predicateWithMessage((function(t){return FONT_WEIGHTS.includes(t)}),"expecting a font weight keyword such as 'normal', 'bold' or 'bolder' or a numeric value such as 100, 300 or 600"),OPT_FONT_WEIGHT=predicateWithMessage((function(t,e){return OPTIONAL(t,e,FONT_WEIGHT)}),"expecting an optional font weight keyword such as 'normal', 'bold' or 'bolder' or a numeric value such as 100, 300 or 600"),LINE_DASH=predicateWithMessage(ARRAY(void 0,NUMBER(0)),"expecting an Array of numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),OPT_LINE_DASH=predicateWithMessage((function(t,e){return OPTIONAL(t,e,LINE_DASH)}),"expecting an optional Array of numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),LINE_CAPS=["butt","round","square"],LINE_CAP=predicateWithMessage((function(t){return LINE_CAPS.includes(t)}),"expecting a line cap keyword such as 'butt', 'round' or 'square'");predicateWithMessage((function(t,e){return OPTIONAL(t,e,LINE_CAP)}),"expecting an optional line cap keyword such as 'butt', 'round' or 'square'");var LINE_JOINS=["round","bevel","miter"],LINE_JOIN=predicateWithMessage((function(t){return LINE_JOINS.includes(t)}),"expecting a line join keyword such as 'round', 'bevel' or 'miter'");predicateWithMessage((function(t,e){return OPTIONAL(t,e,LINE_JOIN)}),"expecting an optional line join keyword such as 'round', 'bevel' or 'miter'");var POSITIONS=["top","right","bottom","left"],POSITION=predicateWithMessage((function(t){return POSITIONS.includes(t)}),"expecting a position keyword such as 'top', 'right', 'bottom' or 'left"),INTERACTION_RANGES=["exact","nearest"],INTERACTION_RANGE=predicateWithMessage((function(t){return"number"==typeof t&&Number.isFinite(t)||INTERACTION_RANGES.includes(t)}),"expecting an interaction range of 'exact', 'nearest' or a number"),Layers,ChartAxisDirection;!function(t){t[t.SERIES_BACKGROUND_ZINDEX=-10]="SERIES_BACKGROUND_ZINDEX",t[t.AXIS_GRID_ZINDEX=0]="AXIS_GRID_ZINDEX",t[t.AXIS_ZINDEX=20]="AXIS_ZINDEX",t[t.SERIES_CROSSLINE_RANGE_ZINDEX=30]="SERIES_CROSSLINE_RANGE_ZINDEX",t[t.SERIES_LAYER_ZINDEX=500]="SERIES_LAYER_ZINDEX",t[t.SERIES_CROSSHAIR_ZINDEX=1e3]="SERIES_CROSSHAIR_ZINDEX",t[t.SERIES_LABEL_ZINDEX=1500]="SERIES_LABEL_ZINDEX",t[t.SERIES_CROSSLINE_LINE_ZINDEX=2500]="SERIES_CROSSLINE_LINE_ZINDEX",t[t.LEGEND_ZINDEX=3e3]="LEGEND_ZINDEX"}(Layers||(Layers={})),function(t){t.X="x",t.Y="y"}(ChartAxisDirection||(ChartAxisDirection={}));var __decorate$1T=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__values$x=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},DEFAULT_TOOLTIP_CLASS="ag-chart-tooltip",defaultTooltipCss$1="\n."+DEFAULT_TOOLTIP_CLASS+" {\n    transition: transform 0.1s ease;\n    display: table;\n    position: fixed;\n    left: 0px;\n    top: 0px;\n    white-space: nowrap;\n    z-index: 99999;\n    font: 12px Verdana, sans-serif;\n    color: black;\n    background: rgb(244, 244, 244);\n    border-radius: 5px;\n    box-shadow: 0 0 1px rgba(3, 3, 3, 0.7), 0.5vh 0.5vh 1vh rgba(3, 3, 3, 0.25);\n}\n\n."+DEFAULT_TOOLTIP_CLASS+"-no-interaction {\n    pointer-events: none;\n    user-select: none;\n}\n\n."+DEFAULT_TOOLTIP_CLASS+"-no-animation {\n    transition: none !important;\n}\n\n."+DEFAULT_TOOLTIP_CLASS+"-hidden {\n    visibility: hidden;\n}\n\n."+DEFAULT_TOOLTIP_CLASS+"-title {\n    font-weight: bold;\n    padding: 7px;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n    color: white;\n    background-color: #888888;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n}\n\n."+DEFAULT_TOOLTIP_CLASS+"-content {\n    padding: 7px;\n    line-height: 1.7em;\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n    overflow: hidden;\n}\n\n."+DEFAULT_TOOLTIP_CLASS+"-content:empty {\n    padding: 0;\n    height: 7px;\n}\n\n."+DEFAULT_TOOLTIP_CLASS+'-arrow::before {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 6px solid #989898;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: #989898;\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.'+DEFAULT_TOOLTIP_CLASS+'-arrow::after {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 5px solid black;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: rgb(244, 244, 244);\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n';function toTooltipHtml$1(t,e){if("string"==typeof t)return t;e=e||{};var n=t.content,o=void 0===n?e.content||"":n,r=t.title,i=void 0===r?e.title||void 0:r,s=t.color,a=void 0===s?e.color||"white":s,l=t.backgroundColor,c=void 0===l?e.backgroundColor||"#888":l;return(i?'<div class="'+DEFAULT_TOOLTIP_CLASS+'-title"\n        style="color: '+a+"; background-color: "+c+'">'+i+"</div>":"")+'<div class="'+DEFAULT_TOOLTIP_CLASS+'-content">'+o+"</div>"}var POSITION_TYPES=["pointer","node"],POSITION_TYPE=predicateWithMessage((function(t){return POSITION_TYPES.includes(t)}),"expecting a position type keyword such as 'pointer' or 'node'"),TooltipPosition=function(){function t(){this.type="pointer",this.xOffset=0,this.yOffset=0}return __decorate$1T([Validate(POSITION_TYPE)],t.prototype,"type",void 0),__decorate$1T([Validate(NUMBER())],t.prototype,"xOffset",void 0),__decorate$1T([Validate(NUMBER())],t.prototype,"yOffset",void 0),t}(),Tooltip=function(){function t(e,n,o){var r=this;this.enableInteraction=!1,this.enabled=!0,this.class=void 0,this.lastClass=void 0,this.delay=0,this.range="nearest",this.position=new TooltipPosition,this.showTimeout=0,this.showArrow=!0,this.tooltipRoot=o;var i=n.createElement("div");if(this.element=this.tooltipRoot.appendChild(i),this.element.classList.add(DEFAULT_TOOLTIP_CLASS),this.canvasElement=e,window.IntersectionObserver){var s=new IntersectionObserver((function(t){var e,n;try{for(var o=__values$x(t),i=o.next();!i.done;i=o.next()){var s=i.value;s.target===r.canvasElement&&0===s.intersectionRatio&&r.toggle(!1)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}}),{root:this.tooltipRoot});s.observe(this.canvasElement),this.observer=s}if(t.tooltipDocuments.indexOf(n)<0){var a=n.createElement("style");a.innerHTML=defaultTooltipCss$1,n.head.insertBefore(a,n.head.querySelector("style")),t.tooltipDocuments.push(n)}}return t.prototype.destroy=function(){var t=this.element.parentNode;t&&t.removeChild(this.element),this.observer&&this.observer.unobserve(this.canvasElement)},t.prototype.isVisible=function(){return!this.element.classList.contains(DEFAULT_TOOLTIP_CLASS+"-hidden")},t.prototype.updateClass=function(t,e){var n=this,o=n.element,r=n.class,i=n.lastClass,s=n.enableInteraction,a=function(t,e){var n=DEFAULT_TOOLTIP_CLASS+"-"+t;e?o.classList.add(n):o.classList.remove(n)};a("no-animation",!this.isVisible()&&!!t),a("no-interaction",!s),a("hidden",!t),a("arrow",!!e),r!==i&&(i&&o.classList.remove(i),r&&o.classList.add(r),this.lastClass=r)},t.prototype.show=function(t,e,n){var o,r,i,s,a,l=this;void 0===n&&(n=!1);var c=this.element,u=this.canvasElement;if(void 0!==e)c.innerHTML=e;else if(!c.innerHTML)return;var d=function(t,e,n){return Math.max(Math.min(e,n),t)},p=null!==(r=null===(o=t.position)||void 0===o?void 0:o.xOffset)&&void 0!==r?r:0,h=null!==(s=null===(i=t.position)||void 0===i?void 0:i.yOffset)&&void 0!==s?s:0,f=u.getBoundingClientRect(),g=f.left+t.offsetX-c.clientWidth/2+p,_=f.top+t.offsetY-c.clientHeight-8+h,m=this.getWindowBoundingBox(),y=m.x+m.width-c.clientWidth-1,v=m.y+m.height-c.clientHeight,C=d(m.x,g,y),E=d(m.y,_,v),b=0!==p||0!==h,S=C!==g||E!==_;if(this.showArrow=!S&&!b,c.style.transform="translate("+Math.round(C)+"px, "+Math.round(E)+"px)",this.enableInteraction=null!==(a=t.enableInteraction)&&void 0!==a&&a,this.delay>0&&!n)return this.toggle(!1),void(this.showTimeout=window.setTimeout((function(){l.toggle(!0)}),this.delay));this.toggle(!0)},t.prototype.getWindowBoundingBox=function(){return new BBox(0,0,window.innerWidth,window.innerHeight)},t.prototype.toggle=function(t){t||window.clearTimeout(this.showTimeout),this.updateClass(t,this.showArrow)},t.prototype.pointerLeftOntoTooltip=function(t){var e;if(!this.enableInteraction)return!1;var n=null===(e=t.sourceEvent.relatedTarget)||void 0===e?void 0:e.classList,o=Boolean(["","-title","-content"].filter((function(t){return null==n?void 0:n.contains(""+DEFAULT_TOOLTIP_CLASS+t)})));return void 0!==n&&o},t.tooltipDocuments=[],__decorate$1T([Validate(BOOLEAN)],t.prototype,"enabled",void 0),__decorate$1T([Validate(OPT_STRING)],t.prototype,"class",void 0),__decorate$1T([Validate(NUMBER(0))],t.prototype,"delay",void 0),__decorate$1T([DeprecatedAndRenamedTo("range",(function(t){return t?"nearest":"exact"}))],t.prototype,"tracking",void 0),__decorate$1T([Validate(INTERACTION_RANGE)],t.prototype,"range",void 0),t}(),__extends$2F=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$F=function(){return __assign$F=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$F.apply(this,arguments)},__decorate$1S=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__values$w=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$V=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$x=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$V(arguments[e]));return t},SeriesNodePickMode;!function(t){t[t.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",t[t.NEAREST_BY_MAIN_AXIS_FIRST=1]="NEAREST_BY_MAIN_AXIS_FIRST",t[t.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST=2]="NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST",t[t.NEAREST_NODE=3]="NEAREST_NODE"}(SeriesNodePickMode||(SeriesNodePickMode={}));var warnDeprecated=createDeprecationWarning(),warnSeriesDeprecated=function(){return warnDeprecated("series","Use seriesId to get the series ID")};function keyProperty(t,e,n){return void 0===n&&(n={}),__assign$F(__assign$F({},n),{property:t,type:"key",valueType:e?"range":"category",validation:function(t){return null!=checkDatum(t,e)}})}function valueProperty(t,e,n){return void 0===n&&(n={}),__assign$F(__assign$F({},n),{property:t,type:"value",valueType:e?"range":"category",validation:function(t){return null!=checkDatum(t,e)}})}function sumProperties(t){return{properties:t,type:"sum"}}var SeriesNodeBaseClickEvent=function(){function t(t,e,n){this.type="nodeClick",this.event=t,this.datum=e.datum,this.seriesId=n.id,this._series=n}return Object.defineProperty(t.prototype,"series",{get:function(){return warnSeriesDeprecated(),this._series},enumerable:!1,configurable:!0}),t}(),SeriesNodeClickEvent=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2F(e,t),e}(SeriesNodeBaseClickEvent),SeriesNodeDoubleClickEvent=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeDoubleClick",e}return __extends$2F(e,t),e}(SeriesNodeBaseClickEvent),SeriesItemHighlightStyle=function(){function t(){this.fill="yellow",this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=void 0}return __decorate$1S([Validate(OPT_COLOR_STRING)],t.prototype,"fill",void 0),__decorate$1S([Validate(OPT_NUMBER(0,1))],t.prototype,"fillOpacity",void 0),__decorate$1S([Validate(OPT_COLOR_STRING)],t.prototype,"stroke",void 0),__decorate$1S([Validate(OPT_NUMBER(0))],t.prototype,"strokeWidth",void 0),t}(),SeriesHighlightStyle=function(){function t(){this.strokeWidth=void 0,this.dimOpacity=void 0,this.enabled=void 0}return __decorate$1S([Validate(OPT_NUMBER(0))],t.prototype,"strokeWidth",void 0),__decorate$1S([Validate(OPT_NUMBER(0,1))],t.prototype,"dimOpacity",void 0),__decorate$1S([Validate(OPT_BOOLEAN)],t.prototype,"enabled",void 0),t}(),TextHighlightStyle=function(){function t(){this.color="black"}return __decorate$1S([Validate(OPT_COLOR_STRING)],t.prototype,"color",void 0),t}(),HighlightStyle=function(){this.item=new SeriesItemHighlightStyle,this.series=new SeriesHighlightStyle,this.text=new TextHighlightStyle},SeriesTooltip=function(){function t(){this.enabled=!0,this.interaction=new SeriesTooltipInteraction,this.position=new TooltipPosition}return __decorate$1S([Validate(BOOLEAN)],t.prototype,"enabled",void 0),t}(),SeriesTooltipInteraction=function(){function t(){this.enabled=!1}return __decorate$1S([Validate(BOOLEAN)],t.prototype,"enabled",void 0),t}(),Series=function(t){function e(e){var n=void 0===e?{}:e,o=n.useSeriesGroupLayer,r=void 0===o||o,i=n.useLabelLayer,s=void 0!==i&&i,a=n.pickModes,l=void 0===a?[SeriesNodePickMode.NEAREST_BY_MAIN_AXIS_FIRST]:a,c=n.directionKeys,u=void 0===c?{}:c,d=t.call(this)||this;d.id=createId$1(d),d.rootGroup=new Group({name:"seriesRoot"}),d.directions=[ChartAxisDirection.X,ChartAxisDirection.Y],d.nodeDataRefresh=!0,d._data=void 0,d._visible=!0,d.showInLegend=!0,d.cursor="default",d.nodeClickRange="exact",d._declarationOrder=-1,d.highlightStyle=new HighlightStyle;var p=d.rootGroup;return d.directionKeys=u,d.contentGroup=p.appendChild(new Group({name:d.id+"-content",layer:r,zIndex:Layers.SERIES_LAYER_ZINDEX,zIndexSubOrder:[function(){return d._declarationOrder},0]})),d.highlightGroup=p.appendChild(new Group({name:d.id+"-highlight",layer:!0,zIndex:Layers.SERIES_LAYER_ZINDEX,zIndexSubOrder:[function(){return d._declarationOrder},15e3]})),d.highlightNode=d.highlightGroup.appendChild(new Group({name:"highlightNode"})),d.highlightLabel=d.highlightGroup.appendChild(new Group({name:"highlightLabel"})),d.highlightNode.zIndex=0,d.highlightLabel.zIndex=10,d.pickModes=l,s&&(d.labelGroup=p.appendChild(new Group({name:d.id+"-series-labels",layer:!0,zIndex:Layers.SERIES_LABEL_ZINDEX}))),d}return __extends$2F(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.constructor.type||""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t,this.nodeDataRefresh=!0},enumerable:!1,configurable:!0}),e.prototype.hasData=function(){var t=this.data;return t&&(!Array.isArray(t)||t.length>0)},Object.defineProperty(e.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t,this.visibleChanged()},enumerable:!1,configurable:!0}),e.prototype.getBandScalePadding=function(){return{inner:1,outer:0}},e.prototype.destroy=function(){},Object.defineProperty(e.prototype,"grouped",{set:function(t){if(!0===t)throw new Error("AG Charts - grouped: true is unsupported for series of type: "+this.type)},enumerable:!1,configurable:!0}),e.prototype.getKeys=function(t){var e=this,n=this.directionKeys,o=this.resolveKeyDirection(t),r=n&&n[o],i=[],s=function(){for(var t,e,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];try{for(var r=__values$w(n),i=r.next();!i.done;i=r.next()){var s=i.value;a(s)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},a=function(t){Array.isArray(t)?s.apply(void 0,__spread$x(t)):i.push(t)};return r?(r.forEach((function(t){var n=e[t];n&&a(n)})),i):i},e.prototype.resolveKeyDirection=function(t){return t},e.prototype.markNodeDataDirty=function(){this.nodeDataRefresh=!0},e.prototype.visibleChanged=function(){},e.prototype.getOpacity=function(t){var e=this.highlightStyle.series,n=e.dimOpacity,o=void 0===n?1:n,r=e.enabled;if(!1===(void 0===r||r)||1===o)return 1;switch(this.isItemIdHighlighted(t)){case"no-highlight":case"highlighted":return 1;case"peer-highlighted":case"other-highlighted":return o}},e.prototype.getStrokeWidth=function(t,e){var n=this.highlightStyle.series,o=n.strokeWidth,r=n.enabled;if(!1===(void 0===r||r)||void 0===o)return t;switch(this.isItemIdHighlighted(e)){case"highlighted":return o;case"no-highlight":case"other-highlighted":case"peer-highlighted":return t}},e.prototype.isItemIdHighlighted=function(t){var e,n=null===(e=this.highlightManager)||void 0===e?void 0:e.getActiveHighlight(),o=null!=n?n:{},r=o.series,i=o.itemId;return null!=r?r!==this?"other-highlighted":void 0===i?"highlighted":t&&n!==t&&i!==t.itemId?"peer-highlighted":"highlighted":"no-highlight"},e.prototype.pickNode=function(t,e){var n,o,r=this,i=r.pickModes,s=r.visible,a=r.rootGroup;if(s&&a.visible)try{for(var l=__values$w(i),c=l.next();!c.done;c=l.next()){var u=c.value;if(!e||e.includes(u)){var d=void 0;switch(u){case SeriesNodePickMode.EXACT_SHAPE_MATCH:d=this.pickNodeExactShape(t);break;case SeriesNodePickMode.NEAREST_BY_MAIN_AXIS_FIRST:case SeriesNodePickMode.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST:d=this.pickNodeMainAxisFirst(t,u===SeriesNodePickMode.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST);break;case SeriesNodePickMode.NEAREST_NODE:d=this.pickNodeClosestDatum(t)}if(d)return{pickMode:u,match:d.datum,distance:d.distance}}}}catch(t){n={error:t}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}},e.prototype.pickNodeExactShape=function(t){var e=this.contentGroup.pickNode(t.x,t.y);if(e)return{datum:e.datum,distance:0}},e.prototype.pickNodeClosestDatum=function(t){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")},e.prototype.pickNodeMainAxisFirst=function(t,e){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")},e.prototype.fireNodeClickEvent=function(t,e){var n=this.getNodeClickEvent(t,e);this.fireEvent(n)},e.prototype.fireNodeDoubleClickEvent=function(t,e){var n=this.getNodeDoubleClickEvent(t,e);this.fireEvent(n)},e.prototype.getNodeClickEvent=function(t,e){return new SeriesNodeClickEvent(t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){return new SeriesNodeDoubleClickEvent(t,e,this)},e.prototype.toggleSeriesItem=function(t,e){this.visible=e,this.nodeDataRefresh=!0},e.prototype.toggleOtherSeriesItems=function(t,e,n,o){},e.prototype.isEnabled=function(){return this.visible},e.prototype.fixNumericExtent=function(t,e){var n;if(void 0===t)return[];var o=__read$V(t,2),r=o[0],i=o[1];if(i=+i,0===(r=+r)&&0===i)return[0,1];if(r===1/0&&i===-1/0)return[];if(r===1/0&&(r=0),i===-1/0&&(i=0),r===i){var s=null!==(n=null==e?void 0:e.calculatePadding(r,i))&&void 0!==n?n:1;r-=s,i+=s}return isNumber$4(r)&&isNumber$4(i)?[r,i]:[]},e.highlightedZIndex=1e12,__decorate$1S([Validate(STRING)],e.prototype,"id",void 0),__decorate$1S([Validate(BOOLEAN)],e.prototype,"_visible",void 0),__decorate$1S([Validate(BOOLEAN)],e.prototype,"showInLegend",void 0),__decorate$1S([Validate(STRING)],e.prototype,"cursor",void 0),__decorate$1S([Validate(INTERACTION_RANGE)],e.prototype,"nodeClickRange",void 0),e}(Observable),__decorate$1R=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Padding$1=function(){function t(t,e,n,o){void 0===t&&(t=0),void 0===e&&(e=t),void 0===n&&(n=t),void 0===o&&(o=e),this.top=t,this.right=e,this.bottom=n,this.left=o}return t.prototype.clear=function(){this.top=this.right=this.bottom=this.left=0},__decorate$1R([Validate(NUMBER(0))],t.prototype,"top",void 0),__decorate$1R([Validate(NUMBER(0))],t.prototype,"right",void 0),__decorate$1R([Validate(NUMBER(0))],t.prototype,"bottom",void 0),__decorate$1R([Validate(NUMBER(0))],t.prototype,"left",void 0),t}(),Selection=function(){function t(t,e){this._nodes=[],this._data=[],this._parent=t,this._factory=Object.prototype.isPrototypeOf.call(Node,e)?function(){return new e}:e}return t.select=function(e,n){return new t(e,n)},t.prototype.each=function(t){return this._nodes.forEach((function(e,n){return t(e,e.datum,n)})),this},t.prototype.update=function(t,e){var n=this,o=this._data,r=this._parent,i=this._factory;t.length>o.length?t.slice(o.length).forEach((function(t){var o=i(t);o.datum=t,e&&e(o),r.appendChild(o),n._nodes.push(o)})):t.length<o.length&&this._nodes.splice(t.length).forEach((function(t){r.removeChild(t)})),this._data=t.slice(0);for(var s=0;s<t.length;s++)this._nodes[s].datum=this._data[s];return this},t.prototype.clear=function(){return this.update([]),this},t.prototype.select=function(t){var e=[],n=function(o){t(o)&&e.push(o),o.children.forEach(n)};return n(this._parent),e},t.prototype.selectByClass=function(t){return this.select((function(e){return e instanceof t}))},t.prototype.selectByTag=function(t){return this.select((function(e){return e.tag===t}))},t.prototype.nodes=function(){return this._nodes},t}(),Gradient=function(){this.stops=[]},twoPi=2*Math.PI;function normalizeAngle360(t){return t%=twoPi,t+=twoPi,t%=twoPi}function normalizeAngle360Inclusive(t){return t%=twoPi,(t+=twoPi)!==twoPi&&(t%=twoPi),t}function normalizeAngle180(t){return(t%=twoPi)<-Math.PI?t+=twoPi:t>=Math.PI&&(t-=twoPi),t}function toRadians$1(t){return t/180*Math.PI}var __extends$2E=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),LinearGradient=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.angle=0,e}return __extends$2E(e,t),e.prototype.createGradient=function(t,e){var n=this.stops,o=normalizeAngle360(toRadians$1(this.angle+90)),r=Math.cos(o),i=Math.sin(o),s=e.width,a=e.height,l=e.x+.5*s,c=e.y+.5*a;if(s>0&&a>0){var u=Math.sqrt(a*a+s*s)/2,d=Math.atan2(a,s),p=void 0;p=o<Math.PI/2?o:o<Math.PI?Math.PI-o:o<3*Math.PI/2?o-Math.PI:2*Math.PI-o;var h=u*Math.abs(Math.cos(p-d)),f=t.createLinearGradient(l+r*h,c+i*h,l-r*h,c-i*h);return n.forEach((function(t){f.addColorStop(t.offset,t.color)})),f}return"black"},e}(Gradient),__extends$2D=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1Q=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},LINEAR_GRADIENT_REGEXP=/^linear-gradient\((.*?)deg,\s*(.*?)\s*\)$/i,Shape=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.lastInstanceId=0,n.fillOpacity=1,n.strokeOpacity=1,n.fill=e.defaultStyles.fill,n.stroke=e.defaultStyles.stroke,n.strokeWidth=e.defaultStyles.strokeWidth,n.lineDash=e.defaultStyles.lineDash,n.lineDashOffset=e.defaultStyles.lineDashOffset,n.lineCap=e.defaultStyles.lineCap,n.lineJoin=e.defaultStyles.lineJoin,n.opacity=e.defaultStyles.opacity,n.fillShadow=e.defaultStyles.fillShadow,n}return __extends$2D(e,t),e.createInstance=function(t){var e=Object.create(t);return e._setParent(void 0),e.id=t.id+"-Instance-"+String(++t.lastInstanceId),e},e.prototype.restoreOwnStyles=function(){for(var t=this.constructor.defaultStyles,e=Object.getOwnPropertyNames(t),n=0,o=e.length;n<o;n++){var r=e[n];this[r]=t[r]}},e.prototype.restoreAllStyles=function(){var t=this.constructor.defaultStyles;for(var e in t)this[e]=t[e]},e.prototype.restoreOverriddenStyles=function(){var t=this.constructor.defaultStyles,e=Object.getPrototypeOf(t);for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&Object.prototype.hasOwnProperty.call(e,n)&&(this[n]=t[n])},e.prototype.updateGradient=function(){var t,e=this.fill;if((null==e?void 0:e.startsWith("linear-gradient"))&&(t=e.match(LINEAR_GRADIENT_REGEXP))){for(var n=parseFloat(t[1]),o=[],r=t[2],i=/(#[0-9a-f]+)|(rgba?\(.+?\))|([a-z]+)/gi,s=void 0;s=i.exec(r);)o.push(s[0]);this.gradient=new LinearGradient,this.gradient.angle=n,this.gradient.stops=o.map((function(t,e){return{offset:e/(o.length-1),color:t}}))}else this.gradient=void 0},e.prototype.align=function(t,e){var n,o,r,i=null!==(r=null===(o=null===(n=this.layerManager)||void 0===n?void 0:n.canvas)||void 0===o?void 0:o.pixelRatio)&&void 0!==r?r:1,s=Math.round(t*i)/i;return null==e?s:0===e?0:e<1?Math.ceil(e*i)/i:Math.round((e+t)*i)/i-s},e.prototype.fillStroke=function(t){this.renderFill(t),this.renderStroke(t)},e.prototype.renderFill=function(t){if(this.fill){var e=t.globalAlpha;this.applyFill(t),this.applyFillAlpha(t),this.applyShadow(t),t.fill(),t.globalAlpha=e}t.shadowColor="rgba(0, 0, 0, 0)"},e.prototype.applyFill=function(t){this.gradient?t.fillStyle=this.gradient.createGradient(t,this.computeBBox()):t.fillStyle=this.fill},e.prototype.applyFillAlpha=function(t){var e=t.globalAlpha;t.globalAlpha=e*this.opacity*this.fillOpacity},e.prototype.applyShadow=function(t){var e,n,o=null!==(n=null===(e=this.layerManager)||void 0===e?void 0:e.canvas.pixelRatio)&&void 0!==n?n:1,r=this.fillShadow;r&&r.enabled&&(t.shadowColor=r.color,t.shadowOffsetX=r.xOffset*o,t.shadowOffsetY=r.yOffset*o,t.shadowBlur=r.blur*o)},e.prototype.renderStroke=function(t){if(this.stroke&&this.strokeWidth){var e=t.globalAlpha;t.strokeStyle=this.stroke,t.globalAlpha=e*this.opacity*this.strokeOpacity,t.lineWidth=this.strokeWidth,this.lineDash&&t.setLineDash(this.lineDash),this.lineDashOffset&&(t.lineDashOffset=this.lineDashOffset),this.lineCap&&(t.lineCap=this.lineCap),this.lineJoin&&(t.lineJoin=this.lineJoin),t.stroke(),t.globalAlpha=e}},e.prototype.containsPoint=function(t,e){return this.isPointInPath(t,e)},e.defaultStyles=Object.assign({},{fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0}),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"fillOpacity",void 0),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"strokeOpacity",void 0),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR,changeCb:function(t){return t.updateGradient()}})],e.prototype,"fill",void 0),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"stroke",void 0),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"strokeWidth",void 0),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"lineDash",void 0),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"lineDashOffset",void 0),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"lineCap",void 0),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"lineJoin",void 0),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR,convertor:function(t){return Math.min(1,Math.max(0,t))}})],e.prototype,"opacity",void 0),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR,checkDirtyOnAssignment:!0})],e.prototype,"fillShadow",void 0),e}(Node),__extends$2C=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1P=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};function SceneFontChangeDetection(t){var e=t||{},n=e.redraw;return SceneChangeDetection({redraw:void 0===n?RedrawType.MAJOR:n,type:"font",changeCb:e.changeCb})}var Text=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.x=0,n.y=0,n.lines=[],n.text="",n._dirtyFont=!0,n.fontSize=10,n.fontFamily="sans-serif",n.textAlign=e.defaultStyles.textAlign,n.textBaseline=e.defaultStyles.textBaseline,n.lineHeight=void 0,n}return __extends$2C(e,t),e.prototype._splitText=function(){this.lines="string"==typeof this.text?this.text.split(/\r?\n/g):[]},Object.defineProperty(e.prototype,"font",{get:function(){return this._dirtyFont&&(this._dirtyFont=!1,this._font=getFont(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)),this._font},enumerable:!1,configurable:!0}),e.prototype.computeBBox=function(){return HdpiCanvas.has.textMetrics?this.getPreciseBBox():this.getApproximateBBox()},e.prototype.getPreciseBBox=function(){for(var t,e,n=0,o=0,r=0,i=0,s=0,a=0;a<this.lines.length;a++){var l=HdpiCanvas.measureText(this.lines[a],this.font,this.textBaseline,this.textAlign);n=Math.max(n,l.actualBoundingBoxLeft),r=Math.max(r,l.width),0==a?(o+=l.actualBoundingBoxAscent,i+=l.actualBoundingBoxAscent):s+=null!==(t=l.fontBoundingBoxAscent)&&void 0!==t?t:l.emHeightAscent,a==this.lines.length-1?i+=l.actualBoundingBoxDescent:s+=null!==(e=l.fontBoundingBoxDescent)&&void 0!==e?e:l.emHeightDescent}return void 0!==this.lineHeight&&(s=(this.lines.length-1)*this.lineHeight),i+=s,o+=s*this.getVerticalOffset(),new BBox(this.x-n,this.y-o,r,i)},e.prototype.getVerticalOffset=function(){switch(this.textBaseline){case"top":case"hanging":return 0;case"bottom":case"alphabetic":case"ideographic":return 1;case"middle":return.5}},e.prototype.getApproximateBBox=function(){var t,e=0,n=0,o=0;this.lines.length>0&&(e=(i=HdpiCanvas.getTextSize(this.lines[0],this.font)).width,n=i.height);for(var r=1;r<this.lines.length;r++){var i=HdpiCanvas.getTextSize(this.lines[r],this.font);e=Math.max(e,i.width),o+=null!==(t=this.lineHeight)&&void 0!==t?t:i.height}var s=this.x,a=this.y;switch(this.textAlign){case"end":case"right":s-=e;break;case"center":s-=e/2}switch(this.textBaseline){case"alphabetic":a-=.7*n+.5*o;break;case"middle":a-=.45*n+.5*o;break;case"ideographic":case"bottom":a-=n+o;break;case"hanging":a-=.2*n+.5*o}return new BBox(s,a,e,n+o)},e.prototype.getLineHeight=function(t){var e,n;if(this.lineHeight)return this.lineHeight;if(HdpiCanvas.has.textMetrics){var o=HdpiCanvas.measureText(t,this.font,this.textBaseline,this.textAlign);return(null!==(e=o.fontBoundingBoxAscent)&&void 0!==e?e:o.emHeightAscent)+(null!==(n=o.fontBoundingBoxDescent)&&void 0!==n?n:o.emHeightDescent)}return HdpiCanvas.getTextSize(t,this.font).height},e.prototype.isPointInPath=function(t,e){var n=this.transformPoint(t,e),o=this.computeBBox();return!!o&&o.containsPoint(n.x,n.y)},e.prototype.render=function(e){var n=e.ctx,o=e.forceRender,r=e.stats;if(this.dirty!==RedrawType.NONE||o)if(this.lines.length&&this.layerManager){this.computeTransformMatrix(),this.matrix.toContext(n);var i=this,s=i.fill,a=i.stroke,l=i.strokeWidth;n.font=this.font,n.textAlign=this.textAlign,n.textBaseline=this.textBaseline;var c=this.layerManager.canvas.pixelRatio||1,u=n.globalAlpha;if(s){n.fillStyle=s,n.globalAlpha=u*this.opacity*this.fillOpacity;var d=this.fillShadow;d&&d.enabled&&(n.shadowColor=d.color,n.shadowOffsetX=d.xOffset*c,n.shadowOffsetY=d.yOffset*c,n.shadowBlur=d.blur*c),this.renderLines((function(t,e,o){return n.fillText(t,e,o)}))}if(a&&l){n.strokeStyle=a,n.lineWidth=l,n.globalAlpha=u*this.opacity*this.strokeOpacity;var p=this,h=p.lineDash,f=p.lineDashOffset,g=p.lineCap,_=p.lineJoin;h&&n.setLineDash(h),f&&(n.lineDashOffset=f),g&&(n.lineCap=g),_&&(n.lineJoin=_),this.renderLines((function(t,e,o){return n.strokeText(t,e,o)}))}t.prototype.render.call(this,e)}else r&&(r.nodesSkipped+=this.nodeCount.count);else r&&(r.nodesSkipped+=this.nodeCount.count)},e.prototype.renderLines=function(t){for(var e=this,n=this,o=n.lines,r=n.x,i=n.y,s=this.lines.map((function(t){return e.getLineHeight(t)})),a=-(s.reduce((function(t,e){return t+e}),0)-s[0])*this.getVerticalOffset(),l=0;l<o.length;l++)t(o[l],r,i+a),a+=s[l]},e.className="Text",e.defaultStyles=Object.assign({},Shape.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"}),__decorate$1P([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"x",void 0),__decorate$1P([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"y",void 0),__decorate$1P([SceneChangeDetection({redraw:RedrawType.MAJOR,changeCb:function(t){return t._splitText()}})],e.prototype,"text",void 0),__decorate$1P([SceneFontChangeDetection()],e.prototype,"fontStyle",void 0),__decorate$1P([SceneFontChangeDetection()],e.prototype,"fontWeight",void 0),__decorate$1P([SceneFontChangeDetection()],e.prototype,"fontSize",void 0),__decorate$1P([SceneFontChangeDetection()],e.prototype,"fontFamily",void 0),__decorate$1P([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"textAlign",void 0),__decorate$1P([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"textBaseline",void 0),__decorate$1P([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"lineHeight",void 0),e}(Shape);function getFont(t,e,n,o){return[n||"",o||"",t+"px",e].join(" ").trim()}function linearRoot(t,e){var n=-e/t;return 0!==t&&n>=0&&n<=1?[n]:[]}function quadraticRoots(t,e,n){if(0===t)return linearRoot(e,n);var o=e*e-4*t*n,r=[];if(0===o){var i=-e/(2*t);i>=0&&i<=1&&r.push(i)}else if(o>0){var s=Math.sqrt(o),a=(-e-s)/(2*t),l=(-e+s)/(2*t);a>=0&&a<=1&&r.push(a),l>=0&&l<=1&&r.push(l)}return r}function cubicRoots(t,e,n,o){if(0===t)return quadraticRoots(e,n,o);var r=e/t,i=n/t,s=(3*i-r*r)/9,a=(9*r*i-27*(o/t)-2*r*r*r)/54,l=s*s*s+a*a,c=1/3,u=[];if(l>=0){var d=Math.sqrt(l),p=Math.sign(a+d)*Math.pow(Math.abs(a+d),c),h=Math.sign(a-d)*Math.pow(Math.abs(a-d),c),f=Math.abs(Math.sqrt(3)*(p-h)/2),g=-c*r+(p+h);if(g>=0&&g<=1&&u.push(g),0===f){var _=-c*r-(p+h)/2;_>=0&&_<=1&&u.push(_)}}else{var m=Math.acos(a/Math.sqrt(-s*s*s)),y=c*r,v=2*Math.sqrt(-s),C=v*Math.cos(c*m)-y,E=v*Math.cos(c*(m+2*Math.PI))-y,b=v*Math.cos(c*(m+4*Math.PI))-y;C>=0&&C<=1&&u.push(C),E>=0&&E<=1&&u.push(E),b>=0&&b<=1&&u.push(b)}return u}var __values$v=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function segmentIntersection(t,e,n,o,r,i,s,a){var l=(n-t)*(a-i)-(o-e)*(s-r);if(0===l)return null;var c=((s-r)*(e-i)-(t-r)*(a-i))/l,u=((n-t)*(e-i)-(o-e)*(t-r))/l;return c>=0&&c<=1&&u>=0&&u<=1?{x:t+c*(n-t),y:e+c*(o-e)}:null}function cubicSegmentIntersections(t,e,n,o,r,i,s,a,l,c,u,d){var p,h,f=[],g=c-d,_=u-l,m=l*(d-c)-c*(u-l),y=bezierCoefficients(t,n,r,s),v=bezierCoefficients(e,o,i,a),C=cubicRoots(g*y[0]+_*v[0],g*y[1]+_*v[1],g*y[2]+_*v[2],g*y[3]+_*v[3]+m);try{for(var E=__values$v(C),b=E.next();!b.done;b=E.next()){var S=b.value,w=S*S,O=S*w,P=y[0]*O+y[1]*w+y[2]*S+y[3],T=v[0]*O+v[1]*w+v[2]*S+v[3],R=void 0;(R=l!==u?(P-l)/(u-l):(T-c)/(d-c))>=0&&R<=1&&f.push({x:P,y:T})}}catch(t){p={error:t}}finally{try{b&&!b.done&&(h=E.return)&&h.call(E)}finally{if(p)throw p.error}}return f}function bezierCoefficients(t,e,n,o){return[3*e-t-3*n+o,3*t-6*e+3*n,-3*t+3*e,t]}function arcIntersections(t,e,n,o,r,i,s,a,l,c){var u=(c-a)/(l-s),d=a-u*s,p=Math.pow(u,2)+1,h=2*(u*(d-e)-t),f=Math.pow(t,2)+Math.pow(d-e,2)-Math.pow(n,2),g=Math.pow(h,2)-4*p*f;if(g<0)return[];var _=(-h+Math.sqrt(g))/2/p,m=(-h-Math.sqrt(g))/2/p,y=[];return[_,m].forEach((function(t){if(t>=Math.min(s,l)&&t<=Math.max(s,l)){var e=u*t,n=normalizeAngle360(i?r:o),a=normalizeAngle360(i?o:r),c=normalizeAngle360(Math.atan2(e,t));a<=n&&(a+=2*Math.PI),c<n&&(c+=2*Math.PI),c>=n&&c<=a&&y.push({x:t,y:e})}})),y}var __values$u=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Command;!function(t){t[t.Move=0]="Move",t[t.Line=1]="Line",t[t.Arc=2]="Arc",t[t.Curve=3]="Curve",t[t.ClosePath=4]="ClosePath"}(Command||(Command={}));var Path2D=function(){function t(){this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this._closedPath=!1}return t.prototype.isDirty=function(){if(this._closedPath!==this.previousClosedPath)return!0;if(this.previousCommands.length!==this.commands.length)return!0;if(this.previousParams.length!==this.params.length)return!0;for(var t=0;t<this.commands.length;t++)if(this.commands[t]!==this.previousCommands[t])return!0;for(t=0;t<this.params.length;t++)if(this.params[t]!==this.previousParams[t])return!0;return!1},t.prototype.draw=function(t){var e,n,o=this.commands,r=this.params,i=0;t.beginPath();try{for(var s=__values$u(o),a=s.next();!a.done;a=s.next()){switch(a.value){case Command.Move:t.moveTo(r[i++],r[i++]);break;case Command.Line:t.lineTo(r[i++],r[i++]);break;case Command.Curve:t.bezierCurveTo(r[i++],r[i++],r[i++],r[i++],r[i++],r[i++]);break;case Command.Arc:t.arc(r[i++],r[i++],r[i++],r[i++],r[i++],1===r[i++]);break;case Command.ClosePath:t.closePath()}}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}0===o.length&&t.closePath()},t.prototype.moveTo=function(t,e){this.xy?(this.xy[0]=t,this.xy[1]=e):this.xy=[t,e],this.commands.push(Command.Move),this.params.push(t,e)},t.prototype.lineTo=function(t,e){this.xy?(this.commands.push(Command.Line),this.params.push(t,e),this.xy[0]=t,this.xy[1]=e):this.moveTo(t,e)},t.prototype.rect=function(t,e,n,o){this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+o),this.lineTo(t,e+o),this.closePath()},t.prototype.arc=function(t,e,n,o,r,i){void 0===i&&(i=!1);var s=t+n*Math.cos(r),a=e+n*Math.sin(r);this.xy?(this.xy[0]=s,this.xy[1]=a):this.xy=[s,a],this.commands.push(Command.Arc),this.params.push(t,e,n,o,r,i?1:0)},t.prototype.cubicCurveTo=function(t,e,n,o,r,i){this.xy||this.moveTo(t,e),this.commands.push(Command.Curve),this.params.push(t,e,n,o,r,i),this.xy[0]=r,this.xy[1]=i},Object.defineProperty(t.prototype,"closedPath",{get:function(){return this._closedPath},enumerable:!1,configurable:!0}),t.prototype.closePath=function(){this.xy&&(this.xy=void 0,this.commands.push(Command.ClosePath),this._closedPath=!0)},t.prototype.clear=function(t){(void 0===t?{trackChanges:!1}:t).trackChanges?(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this._closedPath,this.commands=[],this.params=[]):(this.commands.length=0,this.params.length=0),this.xy=void 0,this._closedPath=!1},t.prototype.isPointInPath=function(t,e){for(var n=this.commands,o=this.params,r=n.length,i=-1e4,s=-1e4,a=NaN,l=NaN,c=0,u=0,d=0,p=0,h=0;p<r;p++)switch(n[p]){case Command.Move:isNaN(a)||segmentIntersection(a,l,c,u,i,s,t,e)&&d++,a=c=o[h++],l=u=o[h++];break;case Command.Line:segmentIntersection(c,u,o[h++],o[h++],i,s,t,e)&&d++,c=o[h-2],u=o[h-1];break;case Command.Curve:d+=cubicSegmentIntersections(c,u,o[h++],o[h++],o[h++],o[h++],o[h++],o[h++],i,s,t,e).length,c=o[h-2],u=o[h-1];break;case Command.Arc:d+=arcIntersections(o[h++],o[h++],o[h++],o[h++],o[h++],Boolean(o[h++]),i,s,t,e).length,c=o[h-2],u=o[h-1];break;case Command.ClosePath:isNaN(a)||segmentIntersection(a,l,c,u,i,s,t,e)&&d++}return d%2==1},t}(),__extends$2B=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1O=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};function ScenePathChangeDetection(t){var e=t||{},n=e.redraw,o=void 0===n?RedrawType.MAJOR:n,r=e.changeCb;return SceneChangeDetection({redraw:o,type:"path",convertor:e.convertor,changeCb:r})}var Path=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.path=new Path2D,e._dirtyPath=!0,e}return __extends$2B(e,t),Object.defineProperty(e.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(t){this._dirtyPath!==t&&(this._dirtyPath=t,t&&this.markDirty(this,RedrawType.MAJOR))},enumerable:!1,configurable:!0}),e.prototype.checkPathDirty=function(){var t,e;this._dirtyPath||(this.dirtyPath=this.path.isDirty()||null!==(e=null===(t=this.fillShadow)||void 0===t?void 0:t.isDirty())&&void 0!==e&&e)},e.prototype.isPointInPath=function(t,e){var n=this.transformPoint(t,e);return this.path.closedPath&&this.path.isPointInPath(n.x,n.y)},e.prototype.isDirtyPath=function(){return!1},e.prototype.updatePath=function(){},e.prototype.render=function(e){var n,o,r=e.ctx,i=e.forceRender,s=e.stats;if(this.dirty!==RedrawType.NONE||i){if(this.computeTransformMatrix(),this.matrix.toContext(r),(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1),this.clipPath){if(r.save(),"normal"===this.clipMode&&(this.clipPath.draw(r),r.clip()),this.path.draw(r),this.fillStroke(r),"punch-out"===this.clipMode){this.clipPath.draw(r),r.clip();var a=null!==(n=this.computeBBox())&&void 0!==n?n:{},l=a.x,c=void 0===l?-1e4:l,u=a.y,d=void 0===u?-1e4:u,p=a.width,h=void 0===p?2e4:p,f=a.height,g=void 0===f?2e4:f;r.clearRect(c,d,h,g)}r.restore()}else this.path.draw(r),this.fillStroke(r);null===(o=this.fillShadow)||void 0===o||o.markClean(),t.prototype.render.call(this,e)}else s&&(s.nodesSkipped+=this.nodeCount.count)},e.className="Path",__decorate$1O([ScenePathChangeDetection()],e.prototype,"clipPath",void 0),__decorate$1O([ScenePathChangeDetection()],e.prototype,"clipMode",void 0),e}(Shape),__extends$2A=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1N=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__values$t=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Marker=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.x=0,e.y=0,e.size=12,e}return __extends$2A(e,t),e.prototype.computeBBox=function(){var t=this,e=t.x,n=t.y,o=t.size,r=o/2;return new BBox(e-r,n-r,o,o)},e.prototype.applyPath=function(t,e){var n,o,r=this.path,i=this.x,s=this.y;r.clear();try{for(var a=__values$t(e),l=a.next();!l.done;l=a.next()){var c=l.value,u=c.x,d=c.y,p=c.t;i+=u*t,s+=d*t,"move"===p?r.moveTo(i,s):r.lineTo(i,s)}}catch(t){n={error:t}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}r.closePath()},__decorate$1N([ScenePathChangeDetection()],e.prototype,"x",void 0),__decorate$1N([ScenePathChangeDetection()],e.prototype,"y",void 0),__decorate$1N([ScenePathChangeDetection({convertor:Math.abs})],e.prototype,"size",void 0),e}(Path),__extends$2z=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Square=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2z(e,t),e.prototype.updatePath=function(){var t=this,e=t.path,n=t.x,o=t.y,r=this.size/2;e.clear(),e.moveTo(this.align(n-r),this.align(o-r)),e.lineTo(this.align(n+r),this.align(o-r)),e.lineTo(this.align(n+r),this.align(o+r)),e.lineTo(this.align(n-r),this.align(o+r)),e.closePath()},e.className="Square",e}(Marker);function ProxyPropertyOnWrite(t,e){return addTransformToInstanceProperty((function(n,o,r){return n[t][null!=e?e:o]=r,r}))}function ActionOnSet(t){var e=t.newValue,n=t.oldValue,o=t.changeValue;return addTransformToInstanceProperty((function(t,r,i,s){return i!==s&&(void 0!==s&&(null==n||n.call(t,s)),void 0!==i&&(null==e||e.call(t,i)),null==o||o.call(t,i,s)),i}))}var __extends$2y=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1M=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},MarkerLabel=function(t){function e(){var e=t.call(this,{name:"markerLabelGroup"})||this;e.label=new Text,e._marker=new Square,e._markerSize=15,e._spacing=8;var n=e.label;return n.textBaseline="middle",n.fontSize=12,n.fontFamily="Verdana, sans-serif",n.fill="black",n.y=HdpiCanvas.has.textMetrics?1:0,e.append([e.marker,n]),e.update(),e}return __extends$2y(e,t),Object.defineProperty(e.prototype,"marker",{get:function(){return this._marker},set:function(t){this._marker!==t&&(this.removeChild(this._marker),this._marker=t,this.appendChild(t),this.update())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"markerSize",{get:function(){return this._markerSize},set:function(t){this._markerSize!==t&&(this._markerSize=t,this.update())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){return this._spacing},set:function(t){this._spacing!==t&&(this._spacing=t,this.update())},enumerable:!1,configurable:!0}),e.prototype.update=function(){var t=this.marker,e=this.markerSize;t.size=e,this.label.x=e/2+this.spacing},e.prototype.render=function(e){this.marker.opacity=this.opacity,this.label.opacity=this.opacity,t.prototype.render.call(this,e)},e.className="MarkerLabel",__decorate$1M([ProxyPropertyOnWrite("label")],e.prototype,"text",void 0),__decorate$1M([ProxyPropertyOnWrite("label")],e.prototype,"fontStyle",void 0),__decorate$1M([ProxyPropertyOnWrite("label")],e.prototype,"fontWeight",void 0),__decorate$1M([ProxyPropertyOnWrite("label")],e.prototype,"fontSize",void 0),__decorate$1M([ProxyPropertyOnWrite("label")],e.prototype,"fontFamily",void 0),__decorate$1M([ProxyPropertyOnWrite("label","fill")],e.prototype,"color",void 0),__decorate$1M([ProxyPropertyOnWrite("marker","fill")],e.prototype,"markerFill",void 0),__decorate$1M([ProxyPropertyOnWrite("marker","stroke")],e.prototype,"markerStroke",void 0),__decorate$1M([ProxyPropertyOnWrite("marker","strokeWidth")],e.prototype,"markerStrokeWidth",void 0),__decorate$1M([ProxyPropertyOnWrite("marker","fillOpacity")],e.prototype,"markerFillOpacity",void 0),__decorate$1M([ProxyPropertyOnWrite("marker","strokeOpacity")],e.prototype,"markerStrokeOpacity",void 0),e}(Group),__extends$2x=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Circle=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2x(e,t),e.prototype.updatePath=function(){var t=this,e=t.x,n=t.y,o=t.path,r=t.size/2;o.clear(),o.arc(e,n,r,0,2*Math.PI),o.closePath()},e.className="Circle",e}(Marker),__extends$2w=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Cross=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2w(e,t),e.prototype.updatePath=function(){var n=this.size/4.2;t.prototype.applyPath.call(this,n,e.moves)},e.className="Cross",e.moves=[{x:-1,y:0,t:"move"},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:-1,y:1},{x:-1,y:-1}],e}(Marker),__extends$2v=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Diamond=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2v(e,t),e.prototype.updatePath=function(){var n=this.size/2;t.prototype.applyPath.call(this,n,e.moves)},e.className="Diamond",e.moves=[{x:0,y:-1,t:"move"},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:1,y:-1}],e}(Marker),__extends$2u=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Heart=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2u(e,t),e.prototype.rad=function(t){return t/180*Math.PI},e.prototype.updatePath=function(){var t=this,e=t.x,n=t.path,o=t.size,r=t.rad,i=o/4,s=this.y+i/2;n.clear(),n.arc(e-i,s-i,i,r(130),r(330)),n.arc(e+i,s-i,i,r(220),r(50)),n.lineTo(e,s+i),n.closePath()},e.className="Heart",e}(Marker),__extends$2t=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Plus=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2t(e,t),e.prototype.updatePath=function(){var n=this.size/3;t.prototype.applyPath.call(this,n,e.moves)},e.className="Plus",e.moves=[{x:-.5,y:-.5,t:"move"},{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:-1},{x:-1,y:0},{x:0,y:-1}],e}(Marker),__extends$2s=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Triangle=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2s(e,t),e.prototype.updatePath=function(){var n=1.1*this.size;t.prototype.applyPath.call(this,n,e.moves)},e.className="Triangle",e.moves=[{x:0,y:-.48,t:"move"},{x:.5,y:.87},{x:-1,y:0}],e}(Marker),ChartUpdateType;function getMarker$1(t){if(void 0===t&&(t=Square),"string"==typeof t)switch(t){case"circle":return Circle;case"cross":return Cross;case"diamond":return Diamond;case"heart":return Heart;case"plus":return Plus;case"triangle":return Triangle;default:return Square}return"function"==typeof t?t:Square}!function(t){t[t.FULL=0]="FULL",t[t.PROCESS_DATA=1]="PROCESS_DATA",t[t.PERFORM_LAYOUT=2]="PERFORM_LAYOUT",t[t.SERIES_UPDATE=3]="SERIES_UPDATE",t[t.TOOLTIP_RECALCULATION=4]="TOOLTIP_RECALCULATION",t[t.SCENE_RENDER=5]="SCENE_RENDER",t[t.NONE=6]="NONE"}(ChartUpdateType||(ChartUpdateType={}));var __values$s=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function gridLayout(t){for(var e=t.orientation,n=t.bboxes,o=t.maxHeight,r=t.maxWidth,i=t.itemPaddingY,s=void 0===i?0:i,a=t.itemPaddingX,l=void 0===a?0:a,c=t.forceResult,u=void 0!==c&&c,d="horizontal"===e,p={max:d?r:o,fn:d?function(t){return t.width}:function(t){return t.height},padding:d?l:s},h={max:d?o:r,fn:d?function(t){return t.height}:function(t){return t.width},padding:d?s:l},f=0,g=[];f<n.length;){var _=processBBoxes(n.slice(f),f,p,h,u);if(!_)return;f+=_.processedBBoxCount,g.push(_.pageIndices)}return buildPages(g,e,n,s,l)}function processBBoxes(t,e,n,o,r){var i=estimateStartingGuess(t,n);if(i<1){if(!r)return;i=1}for(var s=i;s>=1;s--){var a=calculatePage(t,e,s,n,o,r);if(null==a&&s<=1)return;if(null!=a){if("number"!=typeof a)return{processedBBoxCount:a.length*a[0].length,pageIndices:a};if(a<=1)return;s=a<s&&a>1?a:s}}}function calculatePage(t,e,n,o,r,i){for(var s,a=[],l=0,c=0,u=[],d=[],p=0;p<t.length;p++){var h=(p+n)%n;0===h&&(l+=c,c=0,u.length>0&&a.push(u),u=[]);var f=o.fn(t[p])+o.padding;d[h]=Math.max(null!==(s=d[h])&&void 0!==s?s:0,f);var g=l+(c=Math.max(c,r.fn(t[p])+r.padding)),_=!i||a.length>0;if(g>r.max&&_){u=[];break}if(d.reduce((function(t,e){return t+e}),0)>o.max&&!i)return d.length<n?d.length:void 0;u.push(p+e)}return u.length>0&&a.push(u),a.length>0?a:void 0}function buildPages(t,e,n,o,r){var i=0,s=0,a=t.map((function(t){"horizontal"===e&&(t=transpose(t));var a=0,l=t.map((function(t){var e=t.map((function(t){return a=Math.max(t,a),n[t]})),i=0,s=0;return e.forEach((function(t){i+=t.height+o,s=Math.max(s,t.width+r)})),{indices:t,bboxes:e,columnHeight:i,columnWidth:s}})),c=0,u=0;return l.forEach((function(t){c+=t.columnWidth,u=Math.max(u,t.columnHeight)})),i=Math.max(c,i),s=Math.max(u,s),{columns:l,startIndex:t[0][0],endIndex:a,pageWidth:c,pageHeight:u}}));return{pages:a,maxPageWidth:i,maxPageHeight:s}}function transpose(t){var e,n,o=[];try{for(var r=__values$s(t[0]),i=r.next();!i.done;i=r.next()){i.value;o.push([])}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return t.forEach((function(t,e){t.forEach((function(t,n){o[n][e]=t}))})),o}function estimateStartingGuess(t,e){for(var n=t.length,o=0,r=0;r<n;r++){if((o+=e.fn(t[r])+e.padding)>e.max)return n/r<2?Math.ceil(n/2):r}return n}var __decorate$1L=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},PaginationLabel=function(){function t(){this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}return __decorate$1L([Validate(COLOR_STRING)],t.prototype,"color",void 0),__decorate$1L([Validate(OPT_FONT_STYLE)],t.prototype,"fontStyle",void 0),__decorate$1L([Validate(OPT_FONT_WEIGHT)],t.prototype,"fontWeight",void 0),__decorate$1L([Validate(NUMBER(0))],t.prototype,"fontSize",void 0),__decorate$1L([Validate(STRING)],t.prototype,"fontFamily",void 0),t}(),PaginationMarkerStyle=function(){function t(){this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}return __decorate$1L([Validate(NUMBER(0))],t.prototype,"size",void 0),__decorate$1L([Validate(OPT_COLOR_STRING)],t.prototype,"fill",void 0),__decorate$1L([Validate(OPT_NUMBER(0,1))],t.prototype,"fillOpacity",void 0),__decorate$1L([Validate(OPT_COLOR_STRING)],t.prototype,"stroke",void 0),__decorate$1L([Validate(NUMBER(0))],t.prototype,"strokeWidth",void 0),__decorate$1L([Validate(NUMBER(0,1))],t.prototype,"strokeOpacity",void 0),t}(),PaginationMarker=function(){function t(){this.size=15,this._shape=Triangle,this.padding=8}return Object.defineProperty(t.prototype,"shape",{get:function(){return this._shape},set:function(t){var e;this._shape=t,null===(e=this.parent)||void 0===e||e.onMarkerShapeChange()},enumerable:!1,configurable:!0}),__decorate$1L([Validate(NUMBER(0))],t.prototype,"size",void 0),__decorate$1L([Validate(NUMBER(0))],t.prototype,"padding",void 0),t}(),Pagination=function(){function t(t,e,n,o){var r=this;this.chartUpdateCallback=t,this.pageUpdateCallback=e,this.interactionManager=n,this.cursorManager=o,this.id=createId$1(this),this.group=new Group({name:"pagination"}),this.labelNode=new Text,this.marker=new PaginationMarker,this.activeStyle=new PaginationMarkerStyle,this.inactiveStyle=new PaginationMarkerStyle,this.highlightStyle=new PaginationMarkerStyle,this.label=new PaginationLabel,this.totalPages=0,this.currentPage=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this._nextButton=new Triangle,this._previousButton=new Triangle;var i=this.labelNode;i.textBaseline="middle",i.fontSize=12,i.fontFamily="Verdana, sans-serif",i.fill="black",i.y=HdpiCanvas.has.textMetrics?1:0,this.group.append([this.nextButton,this.previousButton,i]),this.interactionManager.addListener("click",(function(t){return r.onPaginationClick(t)})),this.interactionManager.addListener("hover",(function(t){return r.onPaginationMouseMove(t)})),this.marker.parent=this,this.update(),this.updateMarkers()}return Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),t.prototype.updateGroupVisibility=function(){this.group.visible=this.enabled&&this.visible},Object.defineProperty(t.prototype,"orientation",{get:function(){return this._orientation},set:function(t){if(this._orientation=t,"horizontal"===t)this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2;else this.previousButton.rotation=0,this.nextButton.rotation=Math.PI},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"translationX",{get:function(){return this.group.translationX},set:function(t){this.group.translationX=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"translationY",{get:function(){return this.group.translationY},set:function(t){this.group.translationY=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextButton",{get:function(){return this._nextButton},set:function(t){this._nextButton!==t&&(this.group.removeChild(this._nextButton),this._nextButton=t,this.group.appendChild(t))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousButton",{get:function(){return this._previousButton},set:function(t){this._previousButton!==t&&(this.group.removeChild(this._previousButton),this._previousButton=t,this.group.appendChild(t))},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()},t.prototype.updatePositions=function(){this.updateLabelPosition(),this.updateNextButtonPosition()},t.prototype.updateLabelPosition=function(){var t=this.marker,e=t.size,n=t.padding;this.nextButton.size=e,this.previousButton.size=e,this.labelNode.x=e/2+n},t.prototype.updateNextButtonPosition=function(){var t=this.labelNode.computeBBox();this.nextButton.translationX=t.x+t.width+this.marker.size/2+this.marker.padding},t.prototype.updateLabel=function(){var t=this,e=t.currentPage,n=t.totalPages,o=t.labelNode,r=t.label,i=r.color,s=r.fontStyle,a=r.fontWeight,l=r.fontSize,c=r.fontFamily;o.text=e+1+" / "+n,o.fill=i,o.fontStyle=s,o.fontWeight=a,o.fontSize=l,o.fontFamily=c},t.prototype.updateMarkers=function(){var t=this,e=t.nextButton,n=t.previousButton,o=t.nextButtonDisabled,r=t.previousButtonDisabled,i=t.activeStyle,s=t.inactiveStyle,a=t.highlightStyle,l=t.highlightActive,c=function(t,e){return e?s:t===l?a:i};this.updateMarker(e,c("next",o)),this.updateMarker(n,c("previous",r))},t.prototype.updateMarker=function(t,e){var n,o=this.marker.size;t.size=o,t.fill=e.fill,t.fillOpacity=null!==(n=e.fillOpacity)&&void 0!==n?n:1,t.stroke=e.stroke,t.strokeWidth=e.strokeWidth,t.strokeOpacity=e.strokeOpacity},t.prototype.enableOrDisableButtons=function(){var t=this.currentPage,e=this.totalPages,n=0===e,o=t===e-1,r=0===t;this.nextButtonDisabled=o||n,this.previousButtonDisabled=r||n},t.prototype.nextButtonContainsPoint=function(t,e){return!this.nextButtonDisabled&&this.nextButton.containsPoint(t,e)},t.prototype.previousButtonContainsPoint=function(t,e){return!this.previousButtonDisabled&&this.previousButton.containsPoint(t,e)},t.prototype.onPaginationClick=function(t){var e=t.offsetX,n=t.offsetY;this.nextButtonContainsPoint(e,n)?(this.incrementPage(),this.onPaginationChanged(),t.consume()):this.previousButtonContainsPoint(e,n)&&(this.decrementPage(),this.onPaginationChanged(),t.consume())},t.prototype.onPaginationMouseMove=function(t){var e=t.offsetX,n=t.offsetY;this.nextButtonContainsPoint(e,n)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="next"):this.previousButtonContainsPoint(e,n)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="previous"):(this.cursorManager.updateCursor(this.id),this.highlightActive=void 0),this.updateMarkers(),this.chartUpdateCallback(ChartUpdateType.SCENE_RENDER)},t.prototype.onPaginationChanged=function(){this.pageUpdateCallback(this.currentPage)},t.prototype.incrementPage=function(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)},t.prototype.decrementPage=function(){this.currentPage=Math.max(this.currentPage-1,0)},t.prototype.onMarkerShapeChange=function(){var t=getMarker$1(this.marker.shape||Triangle);this.previousButton=new t,this.nextButton=new t,this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(ChartUpdateType.SCENE_RENDER)},t.prototype.attachPagination=function(t){t.append(this.group)},t.prototype.computeBBox=function(){return this.group.computeBBox()},t.className="Pagination",t}(),__decorate$1K=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__read$U=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$w=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$U(arguments[e]));return t},__values$r=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ORIENTATIONS=["horizontal","vertical"],OPT_ORIENTATION=predicateWithMessage((function(t,e){return OPTIONAL(t,e,(function(t){return ORIENTATIONS.includes(t)}))}),"expecting an orientation keyword such as 'horizontal' or 'vertical'"),LegendLabel=function(){function t(){this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.formatter=void 0}return t.prototype.getFont=function(){return getFont(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)},__decorate$1K([Validate(OPT_NUMBER(0))],t.prototype,"maxLength",void 0),__decorate$1K([Validate(COLOR_STRING)],t.prototype,"color",void 0),__decorate$1K([Validate(OPT_FONT_STYLE)],t.prototype,"fontStyle",void 0),__decorate$1K([Validate(OPT_FONT_WEIGHT)],t.prototype,"fontWeight",void 0),__decorate$1K([Validate(NUMBER(0))],t.prototype,"fontSize",void 0),__decorate$1K([Validate(STRING)],t.prototype,"fontFamily",void 0),__decorate$1K([Validate(OPT_FUNCTION)],t.prototype,"formatter",void 0),t}(),LegendMarker=function(){function t(){this.size=15,this._shape=void 0,this.padding=8,this.strokeWidth=1}return Object.defineProperty(t.prototype,"shape",{get:function(){return this._shape},set:function(t){var e;this._shape=t,null===(e=this.parent)||void 0===e||e.onMarkerShapeChange()},enumerable:!1,configurable:!0}),__decorate$1K([Validate(NUMBER(0))],t.prototype,"size",void 0),__decorate$1K([Validate(NUMBER(0))],t.prototype,"padding",void 0),__decorate$1K([Validate(NUMBER(0))],t.prototype,"strokeWidth",void 0),t}(),LegendItem=function(){function t(){this.marker=new LegendMarker,this.label=new LegendLabel,this.maxWidth=void 0,this.paddingX=16,this.paddingY=8,this.toggleSeriesVisible=!0}return __decorate$1K([Validate(OPT_NUMBER(0))],t.prototype,"maxWidth",void 0),__decorate$1K([Validate(NUMBER(0))],t.prototype,"paddingX",void 0),__decorate$1K([Validate(NUMBER(0))],t.prototype,"paddingY",void 0),__decorate$1K([Validate(BOOLEAN)],t.prototype,"toggleSeriesVisible",void 0),t}(),LegendListeners=function(){function t(){this.legendItemClick=void 0,this.legendItemDoubleClick=void 0}return __decorate$1K([Validate(OPT_FUNCTION)],t.prototype,"legendItemClick",void 0),t}(),Legend=function(){function t(t,e,n,o,r,i){var s,a=this;this.chart=t,this.interactionManager=e,this.cursorManager=n,this.highlightManager=o,this.tooltipManager=r,this.layoutService=i,this.id=createId$1(this),this.group=new Group({name:"legend",layer:!0,zIndex:Layers.LEGEND_ZINDEX}),this.itemSelection=Selection.select(this.group,MarkerLabel),this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.item=new LegendItem,this.listeners=new LegendListeners,this.truncatedItems=new Set,this._data=[],this._enabled=!0,this.position="right",this.maxWidth=void 0,this.maxHeight=void 0,this.reverseOrder=void 0,this.destroyFns=[],this.spacing=20,this.characterWidths=new Map,this.size=[0,0],this._visible=!0,this.item.marker.parent=this,this.pagination=new Pagination((function(t){return a.chart.update(t)}),(function(t){return a.updatePageNumber(t)}),this.interactionManager,this.cursorManager),this.pagination.attachPagination(this.group),this.item.marker.parent=this;var l=[this.interactionManager.addListener("click",(function(t){return a.checkLegendClick(t)})),this.interactionManager.addListener("dblclick",(function(t){return a.checkLegendDoubleClick(t)})),this.interactionManager.addListener("hover",(function(t){return a.handleLegendMouseMove(t)}))],c=[this.layoutService.addListener("start-layout",(function(t){return a.positionLegend(t.shrinkRect)}))];(s=this.destroyFns).push.apply(s,__spread$w(l.map((function(t){return function(){return a.interactionManager.removeListener(t)}})),c.map((function(t){return function(){return a.layoutService.removeListener(t)}}))))}return Object.defineProperty(t.prototype,"translationX",{get:function(){return this.group.translationX},set:function(t){this.group.translationX=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"translationY",{get:function(){return this.group.translationY},set:function(t){this.group.translationY=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),t.prototype.getOrientation=function(){if(void 0!==this.orientation)return this.orientation;switch(this.position){case"right":case"left":return"vertical";case"bottom":case"top":return"horizontal"}},t.prototype.destroy=function(){this.destroyFns.forEach((function(t){return t()}))},t.prototype.onMarkerShapeChange=function(){this.itemSelection.clear(),this.group.markDirty(this.group,RedrawType.MINOR)},t.prototype.getCharacterWidths=function(t){var e=this.characterWidths;if(e.has(t))return e.get(t);var n={"...":HdpiCanvas.getTextSize("...",t).width};return e.set(t,n),n},Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),t.prototype.updateGroupVisibility=function(){this.group.visible=this.enabled&&this.visible&&this.data.length>0},t.prototype.attachLegend=function(t){t.append(this.group)},t.prototype.performLayout=function(t,e){var n=this,o=this.item,r=o.paddingX,i=o.paddingY,s=o.label,a=o.maxWidth,l=o.marker,c=l.size,u=l.padding,d=l.shape,p=o.label,h=p.maxLength,f=void 0===h?1/0:h,g=p.fontStyle,_=p.fontWeight,m=p.fontSize,y=p.fontFamily,v=__spread$w(this.data);this.reverseOrder&&v.reverse(),this.itemSelection.update(v);var C=[],E=s.getFont(),b=null!=a?a:.8*t,S=c+u+r;if(this.itemSelection.each((function(t,e){var o,r=getMarker$1(d||e.marker.shape);t.marker&&t.marker instanceof r||(t.marker=new r),t.markerSize=c,t.spacing=u,t.fontStyle=g,t.fontWeight=_,t.fontSize=m,t.fontFamily=y;var i=e.itemId||e.id,s=(null!==(o=e.label.text)&&void 0!==o?o:"<unknown>").replace(/\r?\n/g," ");t.text=n.truncate(s,f,b,S,E,i),C.push(t.computeBBox())})),t=Math.max(1,t),e=Math.max(1,e),!isFinite(t))return!1;var w=this.size,O=this.oldSize;w[0]=t,w[1]=e,w[0]===O[0]&&w[1]===O[1]||(O[0]=w[0],O[1]=w[1]);var P=this.updatePagination(C,t,e),T=P.pages,R=P.maxPageHeight,D=P.maxPageWidth;this.pages=T,this.maxPageSize=[D-r,R-i];var x=this.pagination.currentPage,M=this.pages[x];this.pages.length<1||!M?this.visible=!1:(this.visible=!0,this.updatePositions(x),this.update())},t.prototype.truncate=function(t,e,n,o,r,i){var s,a,l=t.split(""),c=!1;if(t.length>e&&(t=""+t.substring(0,e),c=!0),Math.floor(o+HdpiCanvas.getTextSize(t,r).width)>n){var u="",d=this.getCharacterWidths(r),p=o+d["..."];try{for(var h=__values$r(l),f=h.next();!f.done;f=h.next()){var g=f.value;if(d[g]||(d[g]=HdpiCanvas.getTextSize(g,r).width),(p+=d[g])>n)break;u+=g}}catch(t){s={error:t}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(s)throw s.error}}t=u,c=!0}return c?(t+="...",this.truncatedItems.add(i)):this.truncatedItems.delete(i),t},t.prototype.updatePagination=function(t,e,n){var o=this.getOrientation(),r=Math.min(this.paginationTrackingIndex,t.length);this.pagination.orientation=o,this.pagination.translationX=0,this.pagination.translationY=0;var i=this.calculatePagination(t,e,n),s=i.pages,a=i.maxPageHeight,l=i.maxPageWidth,c=i.paginationBBox,u=i.paginationVertical,d=s.findIndex((function(t){return t.endIndex>=r}));this.pagination.currentPage=Math.min(Math.max(d,0),s.length-1);var p=this.item,h=l-p.paddingX,f=a-p.paddingY,g=0,_=-c.y-this.item.marker.size/2;return u?_+=f+8:(g+=-c.x+h+8,_+=(f-c.height)/2),this.pagination.translationX=g,this.pagination.translationY=_,this.pagination.update(),this.pagination.updateMarkers(),{maxPageHeight:a,maxPageWidth:l,pages:s}},t.prototype.calculatePagination=function(t,e,n){var o,r,i,s=this.item,a=s.paddingX,l=s.paddingY,c=this.getOrientation(),u=["left","right"].includes(this.position),d=this.pagination.computeBBox(),p=new BBox(0,0,0,0),h=[],f=0,g=0,_=0,m=function(t){var e=t.width,n=t.height;return e===d.width&&n===d.height},y=void 0!==this.maxWidth||void 0!==this.maxHeight;do{if(_++>10){Logger.warn("unable to find stable legend layout.");break}d=p;var v=e-(u?0:d.width),C=gridLayout({orientation:c,bboxes:t,maxHeight:n-(u?d.height:0),maxWidth:v,itemPaddingY:l,itemPaddingX:a,forceResult:y});h=null!==(o=null==C?void 0:C.pages)&&void 0!==o?o:[],f=null!==(r=null==C?void 0:C.maxPageWidth)&&void 0!==r?r:0,g=null!==(i=null==C?void 0:C.maxPageHeight)&&void 0!==i?i:0;var E=h.length;if(this.pagination.visible=E>1,this.pagination.totalPages=E,this.pagination.update(),p=this.pagination.computeBBox(),!this.pagination.visible)break}while(!m(p));return{maxPageWidth:f,maxPageHeight:g,pages:h,paginationBBox:d,paginationVertical:u}},t.prototype.updatePositions=function(t){void 0===t&&(t=0);var e=this,n=e.item.paddingY,o=e.itemSelection,r=e.pages;if(!(r.length<1)&&r[t]){var i=r[t],s=i.columns,a=i.startIndex,l=i.endIndex,c=0,u=0,d=s.length,p=s[0].indices.length,h="horizontal"===this.getOrientation(),f=s[0].bboxes[0].height+n,g=[];o.each((function(t,e,n){var o,r;if(n<a||n>l)t.visible=!1;else{var i=n-a,_=0,m=0;h?(_=i%d,m=Math.floor(i/d)):(_=Math.floor(i/p),m=i%p),t.visible=!0;var y=s[_];y&&(u=f*m,c=null!==(o=g[m])&&void 0!==o?o:0,g[m]=(null!==(r=g[m])&&void 0!==r?r:0)+y.columnWidth,t.translationX=Math.floor(c),t.translationY=Math.floor(u))}}))}},t.prototype.updatePageNumber=function(t){var e=this.pages,n=e[t],o=n.startIndex,r=n.endIndex;0===o?this.paginationTrackingIndex=0:t===e.length-1?this.paginationTrackingIndex=r:this.paginationTrackingIndex=Math.floor((o+r)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(t),this.chart.update(ChartUpdateType.SCENE_RENDER)},t.prototype.update=function(){var t=this.item,e=t.marker.strokeWidth,n=t.label.color;this.itemSelection.each((function(t,o){var r=o.marker;t.markerFill=r.fill,t.markerStroke=r.stroke,t.markerStrokeWidth=e,t.markerFillOpacity=r.fillOpacity,t.markerStrokeOpacity=r.strokeOpacity,t.opacity=o.enabled?1:.5,t.color=n}))},t.prototype.getDatumForPoint=function(t,e){var n,o,r=[],i={dist:1/0,datum:void 0};try{for(var s=__values$r(this.group.children),a=s.next();!a.done;a=s.next()){var l=a.value;if(l.visible&&l instanceof MarkerLabel){var c=l.computeBBox();if(c.grow(this.item.paddingX/2,"horizontal"),c.grow(this.item.paddingY/2,"vertical"),c.containsPoint(t,e))return l.datum;var u=t-c.x-this.item.paddingX/2,d=e-c.y-this.item.paddingY/2,p=Math.pow(u,2)+Math.pow(d,2);u>=0&&d>=0&&p<i.dist&&(i.dist=p,i.datum=l.datum),r.push(c)}}}catch(t){n={error:t}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}if(BBox.merge(r).containsPoint(t,e))return i.datum},t.prototype.computeBBox=function(){return this.group.computeBBox()},t.prototype.computePagedBBox=function(){var t=this.group.computeBBox();if(this.pages.length<=1)return t;var e=__read$U(this.maxPageSize,2),n=e[0],o=e[1];return t.height=Math.max(o,t.height),t.width=Math.max(n,t.width),t},t.prototype.checkLegendClick=function(t){var e=this,n=e.listeners.legendItemClick,o=e.chart,r=e.highlightManager,i=e.item.toggleSeriesVisible,s=this.getDatumForPoint(t.offsetX,t.offsetY);if(s){var a=s.id,l=s.itemId,c=s.enabled,u=o.series.find((function(t){return t.id===a}));if(u){t.consume();var d=c;i&&(d=!c,o.series.forEach((function(t){t.id===u.id?t.toggleSeriesItem(l,d):t.toggleOtherSeriesItems(u,s,d)}))),d?r.updateHighlight(this.id,{series:u,itemId:l,datum:void 0}):r.updateHighlight(this.id),this.chart.update(ChartUpdateType.PROCESS_DATA,{forceNodeDataRefresh:!0}),null==n||n({type:"click",enabled:d,itemId:l,seriesId:u.id})}}},t.prototype.checkLegendDoubleClick=function(t){var e,n,o=this,r=o.listeners.legendItemDoubleClick,i=o.chart,s=o.item.toggleSeriesVisible;if("integrated"!==i.mode){var a=this.getDatumForPoint(t.offsetX,t.offsetY);if(a){var l=a.id,c=a.itemId,u=a.seriesId,d=i.series.find((function(t){return t.id===l}));if(d){if(t.consume(),s){var p=i.series.reduce((function(t,e){return __spread$w(t,e.getLegendData())}),[]),h=p.filter((function(t){return t.enabled})).length,f=p.find((function(t){return t.itemId===c&&t.seriesId===u})),g=p.reduce((function(t,e){var n,o;return null!==(n=t[o=e.seriesId])&&void 0!==n||(t[o]=0),t[e.seriesId]++,t}),{}),_=p.reduce((function(t,e){var n,o;return e.enabled?(null!==(n=t[o=e.seriesId])&&void 0!==n||(t[o]=0),t[e.seriesId]++,t):t}),{}),m=0===Object.values(g).filter((function(t){return t>1})).length,y=0===Object.values(_).filter((function(t){return t>1})).length,v=1===h&&null!==(e=null==f?void 0:f.enabled)&&void 0!==e&&e,C=y&&null!==(n=null==f?void 0:f.enabled)&&void 0!==n&&n;i.series.forEach((function(t){t.getLegendData().forEach((function(e){var n=e.itemId===c&&e.seriesId===u||m&&v||!m&&C;t.toggleSeriesItem(e.itemId,n)})),t.id!==d.id&&t.toggleOtherSeriesItems(d,a,void 0,C)}))}this.chart.update(ChartUpdateType.PROCESS_DATA,{forceNodeDataRefresh:!0}),null==r||r({type:"dblclick",enabled:!0,itemId:c,seriesId:d.id})}}}},t.prototype.handleLegendMouseMove=function(t){var e=this,n=e.enabled,o=e.item.toggleSeriesVisible,r=e.listeners;if(n){var i=this.computeBBox(),s=t.pageX,a=t.pageY,l=t.offsetX,c=t.offsetY,u=this.group.visible&&i.containsPoint(l,c);if(!u)return this.cursorManager.updateCursor(this.id),this.highlightManager.updateHighlight(this.id),void this.tooltipManager.removeTooltip(this.id);t.consume();var d=this.getDatumForPoint(l,c);if(!(u&&void 0!==d))return this.cursorManager.updateCursor(this.id),void this.highlightManager.updateHighlight(this.id);var p=d?this.chart.series.find((function(t){return t.id===(null==d?void 0:d.id)})):void 0;d&&this.truncatedItems.has(d.itemId||d.id)?this.tooltipManager.updateTooltip(this.id,{pageX:s,pageY:a,offsetX:l,offsetY:c,event:t},toTooltipHtml$1({content:d.label.text})):this.tooltipManager.removeTooltip(this.id),(o||null!=r.legendItemClick)&&this.cursorManager.updateCursor(this.id,"pointer"),(null==d?void 0:d.enabled)&&p?this.highlightManager.updateHighlight(this.id,{series:p,itemId:null==d?void 0:d.itemId,datum:void 0}):this.highlightManager.updateHighlight(this.id)}},t.prototype.positionLegend=function(t){var e=this,n=t.clone();if(!this.enabled||!this.data.length)return{shrinkRect:n};var o=__read$U(this.calculateLegendDimensions(t),2),r=o[0],i=o[1],s=0,a=0;this.translationX=0,this.translationY=0,this.performLayout(r,i);var l=this.computePagedBBox(),c=function(){switch(e.position){case"top":case"left":return 0;case"bottom":return t.height-l.height;default:return t.width-l.width}};if(this.visible){switch(this.position){case"top":case"bottom":s=(t.width-l.width)/2,a=c(),n.shrink(l.height,this.position);break;default:s=c(),a=(t.height-l.height)/2,n.shrink(l.width,this.position)}this.translationX=Math.floor(-l.x+t.x+s),this.translationY=Math.floor(-l.y+t.y+a)}if(this.visible&&this.enabled&&this.data.length){var u=this.spacing;n.shrink(u,this.position);var d=l.clone();d.x+=this.translationX,d.y+=this.translationY,this.tooltipManager.updateExclusiveRect(this.id,d)}else this.tooltipManager.updateExclusiveRect(this.id);return{shrinkRect:n}},t.prototype.calculateLegendDimensions=function(t){var e=t.width,n=t.height,o=e/n,r=0,i=0;switch(this.position){case"top":case"bottom":var s=o<1?Math.min(.5,1/o*.2):.2;r=this.maxWidth?Math.min(this.maxWidth,e):e,i=this.maxHeight?Math.min(this.maxHeight,n):Math.round(n*s);break;default:var a=o>1?Math.min(.5,.25*o):.25;r=this.maxWidth?Math.min(this.maxWidth,e):Math.round(e*a),i=this.maxHeight?Math.min(this.maxHeight,n):n}return[r,i]},t.className="Legend",__decorate$1K([Validate(BOOLEAN)],t.prototype,"_enabled",void 0),__decorate$1K([Validate(POSITION)],t.prototype,"position",void 0),__decorate$1K([Validate(OPT_NUMBER(0))],t.prototype,"maxWidth",void 0),__decorate$1K([Validate(OPT_NUMBER(0))],t.prototype,"maxHeight",void 0),__decorate$1K([Validate(OPT_BOOLEAN)],t.prototype,"reverseOrder",void 0),__decorate$1K([Validate(OPT_ORIENTATION)],t.prototype,"orientation",void 0),__decorate$1K([Validate(NUMBER(0))],t.prototype,"spacing",void 0),t}(),__values$q=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},SizeMonitor=function(){function t(){}return t.init=function(){var t=this,e=window.ResizeObserver;if(e)this.resizeObserver=new e((function(e){var n,o;try{for(var r=__values$q(e),i=r.next();!i.done;i=r.next()){var s=i.value,a=s.contentRect,l=a.width,c=a.height;t.checkSize(t.elements.get(s.target),s.target,l,c)}}catch(t){n={error:t}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}}));else{window.setInterval((function(){t.elements.forEach((function(e,n){t.checkClientSize(n,e)}))}),100)}this.ready=!0},t.checkSize=function(t,e,n,o){t&&(t.size&&n===t.size.width&&o===t.size.height||(t.size={width:n,height:o},t.cb(t.size,e)))},t.observe=function(t,e){this.ready||this.init(),this.unobserve(t),this.resizeObserver&&this.resizeObserver.observe(t),this.elements.set(t,{cb:e}),this.checkClientSize(t,{cb:e})},t.unobserve=function(t){this.resizeObserver&&this.resizeObserver.unobserve(t),this.elements.delete(t)},t.checkClientSize=function(t,e){var n=t.clientWidth?t.clientWidth:0,o=t.clientHeight?t.clientHeight:0;this.checkSize(e,t,n,o)},t.elements=new Map,t.ready=!1,t}();function circleRectOverlap(t,e,n,o,r){var i=t.x<e?e:t.x>e+o?e+o:t.x,s=t.y<n?n:t.y>n+r?n+r:t.y,a=t.x-i,l=t.y-s;return Math.sqrt(a*a+l*l)<=.5*t.size}function rectRectOverlap(t,e,n,o,r){var i=t.x+t.width>e&&t.x<e+o,s=t.y+t.height>n&&t.y<n+r;return i&&s}function rectContainsRect(t,e,n,o,r){return e+o<t.x+t.width&&e>t.x&&n>t.y&&n+r<t.y+t.height}function isPointLabelDatum(t){return null!=t&&"object"==typeof t.point&&"object"==typeof t.label}function placeLabels(t,e,n){void 0===n&&(n=5);var o=[];t=t.map((function(t){return t.slice().sort((function(t,e){return e.point.size-t.point.size}))}));for(var r=0;r<t.length;r++){var i=o[r]=[],s=t[r];if(s&&s.length&&s[0].label)for(var a=function(r,a){var l=s[r],c=l.label,u=.5*l.point.size,d=l.point.x-.5*c.width,p=l.point.y-u-c.height-n,h=c.width,f=c.height;if(!(!e||rectContainsRect(e,d,p,h,f)))return"continue";var g=t.some((function(t){return t.some((function(t){return circleRectOverlap(t.point,d,p,h,f)}))}));if(g)return"continue";var _=o.some((function(t){return t.some((function(t){return rectRectOverlap(t,d,p,h,f)}))}));if(_)return"continue";i.push({index:r,text:c.text,x:d,y:p,width:h,height:f,datum:l})},l=0,c=s.length;l<c;l++)a(l)}return o}function axisLabelsOverlap(t,e){for(var n=[],o=function(o){var r=t[o],i=r.point,s=i.x,a=i.y,l=r.label.text,c=r.label,u=c.width,d=c.height;if(u+=null!=e?e:0,d+=null!=e?e:0,n.some((function(t){return rectRectOverlap(t,s,a,u,d)})))return{value:!0};n.push({index:o,text:l,x:s,y:a,width:u,height:d,datum:r})},r=0;r<t.length;r++){var i=o(r);if("object"==typeof i)return i.value}return!1}var __awaiter$e=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{l(o.next(t))}catch(t){i(t)}}function a(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((o=o.apply(t,e||[])).next())}))},__generator$e=function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function debouncedAnimationFrame(t){return buildScheduler((function(t){return requestAnimationFrame(t)}),t)}function debouncedCallback(t){return buildScheduler((function(t){return setTimeout(t,0)}),t)}function buildScheduler(t,e){var n,o,r=0,i=!1,s=function(){return i},a=function(){i=!1,null==o||o(),o=void 0,n=void 0,r>0&&t(l)},l=function(){var t=r;r=0,i=!0;var n=e({count:t});n?n.then(a).catch(a):a()};return{schedule:function(){0!==r||s()||t(l),r++},await:function(){return __awaiter$e(this,void 0,void 0,(function(){return __generator$e(this,(function(t){switch(t.label){case 0:if(!s())return[2];n||(n=new Promise((function(t){o=t}))),t.label=1;case 1:return s()?[4,n]:[3,3];case 2:return t.sent(),[3,1];case 3:return[2]}}))}))}}}var __extends$2r=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1J=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},MARKER_SHAPES=["circle","cross","diamond","heart","plus","square","triangle"],MARKER_SHAPE=predicateWithMessage((function(t){return MARKER_SHAPES.includes(t)||Object.getPrototypeOf(t)===Marker}),"expecting a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class"),SeriesMarker=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enabled=!0,e.shape=Circle,e.size=6,e.maxSize=30,e.domain=void 0,e.fill=void 0,e.stroke=void 0,e.strokeWidth=1,e.fillOpacity=void 0,e.strokeOpacity=void 0,e}return __extends$2r(e,t),__decorate$1J([Validate(BOOLEAN),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"enabled",void 0),__decorate$1J([Validate(MARKER_SHAPE),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"shape",void 0),__decorate$1J([Validate(NUMBER(0)),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"size",void 0),__decorate$1J([Validate(NUMBER(0)),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"maxSize",void 0),__decorate$1J([Validate(OPT_NUMBER_ARRAY),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"domain",void 0),__decorate$1J([Validate(OPT_COLOR_STRING),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"fill",void 0),__decorate$1J([Validate(OPT_COLOR_STRING),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"stroke",void 0),__decorate$1J([Validate(OPT_NUMBER(0)),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"strokeWidth",void 0),__decorate$1J([Validate(OPT_NUMBER(0,1)),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"fillOpacity",void 0),__decorate$1J([Validate(OPT_NUMBER(0,1)),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"strokeOpacity",void 0),e}(ChangeDetectable),__read$T=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},ContinuousScale=function(){function t(e,n){this.domain=e,this.range=n,this.nice=!1,this.tickCount=t.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.niceDomain=null,this.strictClampByDefault=!1,this.cache=null,this.cacheProps=["domain","range","nice","tickCount","minTickCount","maxTickCount"]}return t.prototype.transform=function(t){return t},t.prototype.transformInvert=function(t){return t},t.prototype.fromDomain=function(t){return"number"==typeof t?t:t instanceof Date?t.getTime():NaN},t.prototype.getDomain=function(){return this.nice&&(this.refresh(),this.niceDomain)?this.niceDomain:this.domain},t.prototype.convert=function(t,e){var n,o=this;if(!this.domain||this.domain.length<2)return NaN;this.refresh();var r=null!==(n=null==e?void 0:e.strict)&&void 0!==n?n:this.strictClampByDefault,i=this.getDomain().map((function(t){return o.transform(t)})),s=__read$T(i,2),a=s[0],l=s[1],c=this.range,u=__read$T(c,2),d=u[0],p=u[1];return(t=this.transform(t))<a?r?NaN:d:t>l?r?NaN:p:a===l?(d+p)/2:t===a?d:t===l?p:d+(this.fromDomain(t)-this.fromDomain(a))/(this.fromDomain(l)-this.fromDomain(a))*(p-d)},t.prototype.invert=function(t){var e=this;this.refresh();var n,o=this.getDomain().map((function(t){return e.transform(t)})),r=__read$T(o,2),i=r[0],s=r[1],a=this.range,l=__read$T(a,2),c=l[0],u=l[1],d=c>u;return t<(d?u:c)?d?s:i:t>(d?c:u)?d?i:s:(n=c===u?this.toDomain((this.fromDomain(i)+this.fromDomain(s))/2):this.toDomain(this.fromDomain(i)+(t-c)/(u-c)*(this.fromDomain(s)-this.fromDomain(i))),this.transformInvert(n))},t.prototype.didChange=function(){var t=this,e=this.cache;return!(e&&!this.cacheProps.some((function(n){return t[n]!==e[n]})))&&(this.cache={},this.cacheProps.forEach((function(e){return t.cache[e]=t[e]})),!0)},t.prototype.refresh=function(){this.didChange()&&this.update()},t.prototype.isDenseInterval=function(t){var e=t.start,n=t.stop,o=t.interval,r=t.count,i=this.range,s=n-e,a=Math.min(i[0],i[1]);return null!=r||(r=s/("number"==typeof o?o:1)),r>=Math.max(i[0],i[1])-a&&(Logger.warn("the configured tick interval, "+JSON.stringify(o)+", results in more than 1 tick per pixel, ignoring. Supply a larger tick interval or omit this configuration."),!0)},t.defaultTickCount=5,t.defaultMaxTickCount=6,t}(),__read$S=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s};function clamp(t,e,n){return Math.max(e,Math.min(n,t))}var BandScale$5=function(){function t(){this.type="band",this.cache=null,this.cacheProps=["_domain","range","_paddingInner","_paddingOuter","round","interval"],this.index=new Map,this.ordinalRange=[],this._domain=[],this.range=[0,1],this._bandwidth=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0,this.round=!1}return t.prototype.didChange=function(){var t=this,e=this.cache;return!(e&&!this.cacheProps.some((function(n){return t[n]!==e[n]})))&&(this.cache={},this.cacheProps.forEach((function(e){return t.cache[e]=t[e]})),!0)},t.prototype.refresh=function(){this.didChange()&&this.update()},Object.defineProperty(t.prototype,"domain",{get:function(){return this._domain},set:function(t){var e=[];this.index=new Map;var n=this.index;t.forEach((function(t){void 0===n.get(t)&&n.set(t,e.push(t)-1)})),this._domain=e},enumerable:!1,configurable:!0}),t.prototype.ticks=function(){this.refresh();var t=this.interval,e=void 0===t?1:t,n=Math.abs(Math.round(e));return this._domain.filter((function(t,e){return e%n==0}))},t.prototype.convert=function(t){this.refresh();var e=this.index.get(t);if(void 0===e)return NaN;var n=this.ordinalRange[e];return void 0===n?NaN:n},t.prototype.invert=function(t){this.refresh();var e=this.ordinalRange.findIndex((function(e){return e===t}));return this.domain[e]},Object.defineProperty(t.prototype,"bandwidth",{get:function(){return this.refresh(),this._bandwidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rawBandwidth",{get:function(){return this.refresh(),this._rawBandwidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._paddingInner},set:function(t){t=clamp(t,0,1),this._paddingInner=t,this._paddingOuter=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"paddingInner",{get:function(){return this._paddingInner},set:function(t){this._paddingInner=clamp(t,0,1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"paddingOuter",{get:function(){return this._paddingOuter},set:function(t){this._paddingOuter=clamp(t,0,1)},enumerable:!1,configurable:!0}),t.prototype.update=function(){var t=this._domain.length;if(0!==t){for(var e=this.round,n=this._paddingInner,o=this._paddingOuter,r=__read$S(this.range,2),i=r[0],s=r[1]-i,a=s/Math.max(1,t+2*o-n),l=e?Math.floor(a):a,c=i+(s-l*(t-n))/2,u=e?Math.round(c):c,d=l*(1-n),p=e?Math.round(d):d,h=a*(1-n),f=[],g=0;g<t;g++)f.push(u+l*g);this._bandwidth=p,this._rawBandwidth=h,this.ordinalRange=f}},t}(),__extends$2q=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1I=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Line=function(t){function e(){var e=t.call(this)||this;return e.x1=0,e.y1=0,e.x2=0,e.y2=0,e.restoreOwnStyles(),e}return __extends$2q(e,t),e.prototype.computeBBox=function(){return new BBox(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)},e.prototype.isPointInPath=function(t,e){return!1},e.prototype.render=function(e){var n,o=e.ctx,r=e.forceRender,i=e.stats;if(this.dirty!==RedrawType.NONE||r){this.computeTransformMatrix(),this.matrix.toContext(o);var s=this.x1,a=this.y1,l=this.x2,c=this.y2;if(s===l){var u=Math.round(s)+Math.floor(this.strokeWidth)%2/2;s=u,l=u}else if(a===c){var d=Math.round(a)+Math.floor(this.strokeWidth)%2/2;a=d,c=d}o.beginPath(),o.moveTo(s,a),o.lineTo(l,c),this.fillStroke(o),null===(n=this.fillShadow)||void 0===n||n.markClean(),t.prototype.render.call(this,e)}else i&&(i.nodesSkipped+=this.nodeCount.count)},e.className="Line",e.defaultStyles=Object.assign({},Shape.defaultStyles,{fill:void 0,strokeWidth:1}),__decorate$1I([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"x1",void 0),__decorate$1I([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"y1",void 0),__decorate$1I([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"x2",void 0),__decorate$1I([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"y2",void 0),e}(Shape);function isEqual$2(t,e,n){return void 0===n&&(n=1e-10),Math.abs(t-e)<n}function toFixed(t,e){void 0===e&&(e=2);var n=Math.floor(Math.log(Math.abs(t))/Math.LN10);return n>=0||!isFinite(n)?t.toFixed(e):t.toFixed(Math.abs(n)-1+e)}function mod(t,e){return t>=0?Math.floor(t%e):Math.floor(t%e+e)}var __extends$2p=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1H=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ArcType;!function(t){t[t.Open=0]="Open",t[t.Chord=1]="Chord",t[t.Round=2]="Round"}(ArcType||(ArcType={}));var Arc=function(t){function e(){var e=t.call(this)||this;return e.centerX=0,e.centerY=0,e.radius=10,e.startAngle=0,e.endAngle=2*Math.PI,e.counterClockwise=!1,e.type=ArcType.Open,e.restoreOwnStyles(),e}return __extends$2p(e,t),Object.defineProperty(e.prototype,"fullPie",{get:function(){return isEqual$2(normalizeAngle360(this.startAngle),normalizeAngle360(this.endAngle))},enumerable:!1,configurable:!0}),e.prototype.updatePath=function(){var t=this.path;t.clear(),t.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),this.type===ArcType.Chord?t.closePath():this.type!==ArcType.Round||this.fullPie||(t.lineTo(this.centerX,this.centerY),t.closePath())},e.prototype.computeBBox=function(){return new BBox(this.centerX-this.radius,this.centerY-this.radius,2*this.radius,2*this.radius)},e.prototype.isPointInPath=function(t,e){var n=this.transformPoint(t,e),o=this.computeBBox();return this.type!==ArcType.Open&&o.containsPoint(n.x,n.y)&&this.path.isPointInPath(n.x,n.y)},e.className="Arc",e.defaultStyles=Object.assign({},Shape.defaultStyles,{lineWidth:1,fillStyle:null}),__decorate$1H([ScenePathChangeDetection()],e.prototype,"centerX",void 0),__decorate$1H([ScenePathChangeDetection()],e.prototype,"centerY",void 0),__decorate$1H([ScenePathChangeDetection()],e.prototype,"radius",void 0),__decorate$1H([ScenePathChangeDetection()],e.prototype,"startAngle",void 0),__decorate$1H([ScenePathChangeDetection()],e.prototype,"endAngle",void 0),__decorate$1H([ScenePathChangeDetection()],e.prototype,"counterClockwise",void 0),__decorate$1H([ScenePathChangeDetection()],e.prototype,"type",void 0),e}(Path),__decorate$1G=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Caption=function(){function t(){this.node=new Text,this.enabled=!1,this.text="",this.fontSize=10,this.fontFamily="sans-serif",this.spacing=t.PADDING,this._lineHeight=void 0;var e=this.node;e.textAlign="center",e.pointerEvents=PointerEvents.None}return Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight=t,this.node.lineHeight=t},enumerable:!1,configurable:!0}),t.PADDING=10,__decorate$1G([Validate(BOOLEAN)],t.prototype,"enabled",void 0),__decorate$1G([Validate(STRING),ProxyPropertyOnWrite("node")],t.prototype,"text",void 0),__decorate$1G([Validate(OPT_FONT_STYLE),ProxyPropertyOnWrite("node")],t.prototype,"fontStyle",void 0),__decorate$1G([Validate(OPT_FONT_WEIGHT),ProxyPropertyOnWrite("node")],t.prototype,"fontWeight",void 0),__decorate$1G([Validate(NUMBER(0)),ProxyPropertyOnWrite("node")],t.prototype,"fontSize",void 0),__decorate$1G([Validate(STRING),ProxyPropertyOnWrite("node")],t.prototype,"fontFamily",void 0),__decorate$1G([Validate(OPT_COLOR_STRING),ProxyPropertyOnWrite("node","fill")],t.prototype,"color",void 0),__decorate$1G([Validate(OPT_NUMBER(0))],t.prototype,"spacing",void 0),__decorate$1G([Validate(OPT_NUMBER(0))],t.prototype,"_lineHeight",void 0),t}();function areArrayItemsStrictlyEqual(t,e){return t.length===e.length&&t.every((function(t,n){var o=e[n];return Array.isArray(t)&&Array.isArray(o)?areArrayItemsStrictlyEqual(t,o):t===o}))}function areArrayNumbersEqual(t,e){return t.length===e.length&&t.every((function(t,n){return Number(t)===Number(e[n])}))}var __extends$2o=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();function ticks(t,e,n,o,r){if(n<2)return range(t,e,e-t);var i=tickStep(t,e,n,o,r);return isNaN(i)?new NumericTicks(0):range(t=Math.ceil(t/i)*i,e=Math.floor(e/i)*i,i)}var tickMultipliers=[1,2,5,10];function tickStep(t,e,n,o,r){void 0===o&&(o=0),void 0===r&&(r=1/0);var i=(e-t)/n,s=Math.floor(Math.log10(i)),a=Math.pow(10,s),l=tickMultipliers.map((function(i){var s=i*a,l=Math.ceil((e-t)/s);return{multiplier:i,isWithinBounds:l>=o&&l<=r,diffCount:Math.abs(l-n)}})).sort((function(t,e){return t.isWithinBounds!==e.isWithinBounds?t.isWithinBounds?-1:1:t.diffCount-e.diffCount}))[0].multiplier;return!l||isNaN(l)?NaN:l*a}function singleTickDomain(t,e){var n=Math.floor(Math.log10(e-t)),o=Math.pow(10,n);return tickMultipliers.map((function(n){var r=n*o,i=Math.floor(t/r)*r,s=Math.ceil(e/r)*r;return{error:1-(e-t)/(s-i),domain:[i,s]}})).sort((function(t,e){return t.error-e.error}))[0].domain}var NumericTicks=function(t){function e(e,n){var o=t.call(this)||this;if(n)for(var r=0,i=n.length;r<i;r++)o[r]=n[r];return o.fractionDigits=e,o}return __extends$2o(e,t),e}(Array);function range(t,e,n){for(var o=function(t){var e,n,o=t.split("e");return Math.max((null!==(n=null===(e=o[0].split(".")[1])||void 0===e?void 0:e.length)&&void 0!==n?n:0)-Number(o[1]),0)}((n%1).toExponential()),r=Math.pow(10,o),i=Math.ceil((e-t)/n),s=new NumericTicks(o),a=0;a<=i;a++){var l=t+n*a;s.push(Math.round(l*r)/r)}return s}var CONSTANTS={periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function dayOfYear(t,e){void 0===e&&(e=new Date(t.getFullYear(),0,1));var n=t.getTimezoneOffset()-e.getTimezoneOffset(),o=t.getTime()-e.getTime()+6e4*n;return Math.floor(o/864e5)}function weekOfYear(t,e){var n=(e-new Date(t.getFullYear(),0,1).getDay()+7)%7,o=new Date(t.getFullYear(),0,n+1);return o<=t?Math.floor(dayOfYear(t,o)/7)+1:0}var SUNDAY=0,MONDAY=1,THURSDAY=4;function isoWeekOfYear(t,e){void 0===e&&(e=t.getFullYear());var n=new Date(e,0,1).getDay(),o=new Date(e,0,(THURSDAY-n+7)%7-(THURSDAY-MONDAY)+1);return o<=t?Math.floor(dayOfYear(t,o)/7)+1:isoWeekOfYear(t,e-1)}function timezone(t){var e=t.getTimezoneOffset(),n=Math.abs(e);return""+(e>0?"-":"+")+pad(Math.floor(n/60),2,"0")+pad(Math.floor(n%60),2,"0")}var FORMATTERS={a:function(t){return CONSTANTS.shortDays[t.getDay()]},A:function(t){return CONSTANTS.days[t.getDay()]},b:function(t){return CONSTANTS.shortMonths[t.getMonth()]},B:function(t){return CONSTANTS.months[t.getMonth()]},c:"%x, %X",d:function(t,e){return pad(t.getDate(),2,null!=e?e:"0")},e:"%_d",f:function(t,e){return pad(1e3*t.getMilliseconds(),6,null!=e?e:"0")},H:function(t,e){return pad(t.getHours(),2,null!=e?e:"0")},I:function(t,e){var n=t.getHours()%12;return 0===n?"12":pad(n,2,null!=e?e:"0")},j:function(t,e){return pad(dayOfYear(t)+1,3,null!=e?e:"0")},m:function(t,e){return pad(t.getMonth()+1,2,null!=e?e:"0")},M:function(t,e){return pad(t.getMinutes(),2,null!=e?e:"0")},L:function(t,e){return pad(t.getMilliseconds(),3,null!=e?e:"0")},p:function(t){return t.getHours()<12?"AM":"PM"},Q:function(t){return String(t.getTime())},s:function(t){return String(Math.floor(t.getTime()/1e3))},S:function(t,e){return pad(t.getSeconds(),2,null!=e?e:"0")},u:function(t){var e=t.getDay();return e<1&&(e+=7),String(e%7)},U:function(t,e){return pad(weekOfYear(t,SUNDAY),2,null!=e?e:"0")},V:function(t,e){return pad(isoWeekOfYear(t),2,null!=e?e:"0")},w:function(t,e){return pad(t.getDay(),2,null!=e?e:"0")},W:function(t,e){return pad(weekOfYear(t,MONDAY),2,null!=e?e:"0")},x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:function(t,e){return pad(t.getFullYear()%100,2,null!=e?e:"0")},Y:function(t,e){return pad(t.getFullYear(),4,null!=e?e:"0")},Z:function(t){return timezone(t)},"%":function(){return"%"}},PADS={_:" ",0:"0","-":""};function pad(t,e,n){var o=String(Math.floor(t));return o.length>=e?o:""+n.repeat(e-o.length)+o}function buildFormatter(t){for(var e=[];t.length>0;){var n=t.indexOf("%");if(0!==n){var o=n>0?t.substring(0,n):t;e.push(o)}if(n<0)break;var r=t[n+1],i=PADS[r];null!=i&&n++;var s=t[n+1],a=FORMATTERS[s];if("function"==typeof a)e.push([a,i]);else if("string"==typeof a){var l=buildFormatter(a);e.push([l,i])}else e.push(""+(null!=i?i:"")+s);t=t.substring(n+2)}return function(t){var n="number"==typeof t?new Date(t):t;return e.map((function(t){return"string"==typeof t?t:t[0](n,t[1])})).join("")}}var __extends$2n=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__values$p=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$R=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$v=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$R(arguments[e]));return t},_a$2,DefaultTimeFormats;!function(t){t[t.MILLISECOND=0]="MILLISECOND",t[t.SECOND=1]="SECOND",t[t.MINUTE=2]="MINUTE",t[t.HOUR=3]="HOUR",t[t.WEEK_DAY=4]="WEEK_DAY",t[t.SHORT_MONTH=5]="SHORT_MONTH",t[t.MONTH=6]="MONTH",t[t.SHORT_YEAR=7]="SHORT_YEAR",t[t.YEAR=8]="YEAR"}(DefaultTimeFormats||(DefaultTimeFormats={}));var formatStrings=(_a$2={},_a$2[DefaultTimeFormats.MILLISECOND]=".%L",_a$2[DefaultTimeFormats.SECOND]=":%S",_a$2[DefaultTimeFormats.MINUTE]="%I:%M",_a$2[DefaultTimeFormats.HOUR]="%I %p",_a$2[DefaultTimeFormats.WEEK_DAY]="%a",_a$2[DefaultTimeFormats.SHORT_MONTH]="%b %d",_a$2[DefaultTimeFormats.MONTH]="%B",_a$2[DefaultTimeFormats.SHORT_YEAR]="%y",_a$2[DefaultTimeFormats.YEAR]="%Y",_a$2);function toNumber(t){return t instanceof Date?t.getTime():t}var TimeScale$1=function(t){function e(){var e=t.call(this,[new Date(2022,11,7),new Date(2022,11,8)],[0,1])||this;return e.type="time",e.cacheProps=["domain","range","nice","tickCount","interval","minTickCount","maxTickCount"],e.year=year,e.month=month,e.week=sunday,e.day=day,e.hour=hour,e.minute=minute,e.second=second,e.millisecond=millisecond,e.tickIntervals=[[e.second,1,durationSecond],[e.second,5,5*durationSecond],[e.second,15,15*durationSecond],[e.second,30,30*durationSecond],[e.minute,1,durationMinute],[e.minute,5,5*durationMinute],[e.minute,15,15*durationMinute],[e.minute,30,30*durationMinute],[e.hour,1,durationHour],[e.hour,3,3*durationHour],[e.hour,6,6*durationHour],[e.hour,12,12*durationHour],[e.day,1,durationDay],[e.day,2,2*durationDay],[e.week,1,durationWeek],[e.week,2,2*durationWeek],[e.week,3,3*durationWeek],[e.month,1,durationMonth],[e.month,2,2*durationMonth],[e.month,3,3*durationMonth],[e.month,4,4*durationMonth],[e.month,6,6*durationMonth],[e.year,1,durationYear]],e}return __extends$2n(e,t),e.prototype.toDomain=function(t){return new Date(t)},e.prototype.calculateDefaultTickFormat=function(t){var e,n;void 0===t&&(t=[]);var o=DefaultTimeFormats.YEAR,r=function(t){t<o&&(o=t)};try{for(var i=__values$p(t),s=i.next();!s.done;s=i.next()){var a=s.value;r(this.getLowestGranularityFormat(a))}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}var l=toNumber(t[0]),c=toNumber(t[t.length-1]),u=new Date(l).getFullYear(),d=new Date(c).getFullYear()-u>0;return this.buildFormatString(o,d)},e.prototype.buildFormatString=function(t,e){var n=[formatStrings[t]],o=0,r=this.getDomain(),i=Math.min.apply(Math,__spread$v(r.map(toNumber))),s=Math.max.apply(Math,__spread$v(r.map(toNumber)))-i;switch(t){case DefaultTimeFormats.SECOND:s/durationMinute>1&&n.push(formatStrings[DefaultTimeFormats.MINUTE]);case DefaultTimeFormats.MINUTE:s/durationHour>1&&n.push(formatStrings[DefaultTimeFormats.HOUR]);case DefaultTimeFormats.HOUR:o=n.length,s/durationDay>1&&n.push(formatStrings[DefaultTimeFormats.WEEK_DAY]);case DefaultTimeFormats.WEEK_DAY:if(s/durationWeek>1||e){var a=n.indexOf(formatStrings[DefaultTimeFormats.WEEK_DAY]);a>-1&&n.splice(a,1,formatStrings[DefaultTimeFormats.SHORT_MONTH])}case DefaultTimeFormats.SHORT_MONTH:case DefaultTimeFormats.MONTH:(s/durationYear>1||e)&&n.push(formatStrings[DefaultTimeFormats.YEAR])}return o<n.length&&(n=__spread$v(n.slice(0,o),[n.slice(o).join(" ")])),o>0&&o<(n=__spread$v(n.slice(0,o).reverse(),n.slice(o))).length&&n.splice(o,0," "),n.join("")},e.prototype.getLowestGranularityFormat=function(t){return this.second.floor(t)<t?DefaultTimeFormats.MILLISECOND:this.minute.floor(t)<t?DefaultTimeFormats.SECOND:this.hour.floor(t)<t?DefaultTimeFormats.MINUTE:this.day.floor(t)<t?DefaultTimeFormats.HOUR:this.month.floor(t)<t?this.week.floor(t)<t?DefaultTimeFormats.WEEK_DAY:DefaultTimeFormats.SHORT_MONTH:this.year.floor(t)<t?DefaultTimeFormats.MONTH:DefaultTimeFormats.YEAR},e.prototype.defaultTickFormat=function(t){var e=this.calculateDefaultTickFormat(t);return function(t){return buildFormatter(e)(t)}},e.prototype.getTickInterval=function(t){for(var e,n,o,r=t.start,i=t.stop,s=t.count,a=t.minCount,l=t.maxCount,c=this.tickIntervals,u=null!=s?s:ContinuousScale.defaultTickCount,d=Math.abs(i-r)/Math.max(u,1),p=0;p<c.length&&d>c[p][2];)p++;if(0===p)o=Math.max(tickStep(r,i,u,a,l),1),n=this.millisecond;else if(p===c.length){o=tickStep(r/durationYear,i/durationYear,u,a,l),n=this.year}else{var h=d-c[p-1][2],f=c[p][2]-d;n=(e=__read$R(c[h<f?p-1:p],2))[0],o=e[1]}return n.every(o)},e.prototype.invert=function(e){return new Date(t.prototype.invert.call(this,e))},e.prototype.ticks=function(){if(!this.domain||this.domain.length<2)return[];this.refresh();var t=__read$R(this.getDomain().map(toNumber),2),e=t[0],n=t[1];if(void 0!==this.interval)return this.getTicksForInterval({start:e,stop:n});if(this.nice){var o=this.tickCount;if(2===o)return this.niceDomain;if(1===o)return this.niceDomain.slice(0,1)}return this.getDefaultTicks({start:e,stop:n})},e.prototype.getDefaultTicks=function(t){var e=t.start,n=t.stop,o=this.getTickInterval({start:e,stop:n,count:this.tickCount,minCount:this.minTickCount,maxCount:this.maxTickCount});return o?o.range(new Date(e),new Date(n)):[]},e.prototype.getTicksForInterval=function(t){var e=t.start,n=t.stop,o=this.interval,r=this.tickIntervals;if(!o)return[];if(o instanceof TimeInterval){var i=o.range(new Date(e),new Date(n));return this.isDenseInterval({start:e,stop:n,interval:o,count:i.length})?this.getDefaultTicks({start:e,stop:n}):i}var s=Math.abs(o);if(this.isDenseInterval({start:e,stop:n,interval:s}))return this.getDefaultTicks({start:e,stop:n});var a=__spread$v(r);a.reverse();var l=a.find((function(t){return s%t[2]==0}));if(l)return l[0].every(s/(l[2]/l[1])).range(new Date(e),new Date(n));for(var c=new Date(e),u=new Date(n),d=[];c<=u;)d.push(c),(c=new Date(c)).setMilliseconds(c.getMilliseconds()+s);return d},e.prototype.tickFormat=function(t){var e=t.ticks,n=t.specifier;return null==n?this.defaultTickFormat(e):buildFormatter(n)},e.prototype.update=function(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()},e.prototype.updateNiceDomain=function(){for(var t=__read$R(this.domain,2),e=t[0],n=t[1],o=0;o<4;o++){this.updateNiceDomainIteration(e,n);var r=__read$R(this.niceDomain,2),i=r[0],s=r[1];if(toNumber(e)===toNumber(i)&&toNumber(n)===toNumber(s))break;e=i,n=s}},e.prototype.updateNiceDomainIteration=function(t,e){var n,o=toNumber(t),r=toNumber(e),i=this.interval;if(i instanceof TimeInterval)n=i;else{var s="number"==typeof i?(r-o)/Math.max(i,1):this.tickCount;n=this.getTickInterval({start:o,stop:r,count:s,minCount:this.minTickCount,maxCount:this.maxTickCount})}if(n){var a=n.range(t,e,!0),l=a[0],c=a[a.length-1];this.niceDomain=[l,c]}},e}(ContinuousScale),__read$Q=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$u=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$Q(arguments[e]));return t},_a$1,group=function(t){return"("+t+")"},optionalGroup=function(t){return group(t)+"?"},nonCapturingGroup=function(t){return optionalGroup("?:"+t)},formatRegEx=new RegExp(["^",nonCapturingGroup(""+optionalGroup(".")+group("[<>=^]")),optionalGroup("[+\\-( ]"),optionalGroup("[$#]"),optionalGroup("0"),optionalGroup("\\d+"),optionalGroup(","),nonCapturingGroup("\\."+group("\\d+")),optionalGroup("~"),optionalGroup("[%a-z]"),"$"].join(""),"i"),surroundedRegEx=new RegExp(["^",group(".*?"),"#\\{"+group(".+?")+"\\}",group(".*?"),"$"].join(""));function parseFormatter(t){var e,n,o,r=t.match(surroundedRegEx);r&&(n=(e=__read$Q(r,4))[1],t=e[2],o=e[3]);var i=t.match(formatRegEx);if(!i)throw new Error("The number formatter is invalid: "+t);var s=__read$Q(i,11),a=s[1],l=s[2],c=s[3],u=s[4],d=s[5],p=s[6],h=s[7],f=s[8],g=s[9],_=s[10];return{fill:a,align:l,sign:c,symbol:u,zero:d,width:parseInt(p),comma:h,precision:parseInt(f),trim:Boolean(g),type:_,prefix:n,suffix:o}}function format(t){var e,n="string"==typeof t?parseFormatter(t):t,o=n.fill,r=n.align,i=n.sign,s=void 0===i?"-":i,a=n.symbol,l=n.zero,c=n.width,u=n.comma,d=n.type,p=n.prefix,h=void 0===p?"":p,f=n.suffix,g=void 0===f?"":f,_=n.precision,m=n.trim;if(d)if(d in decimalTypes&&d in integerTypes)e=isNaN(_)?integerTypes[d]:decimalTypes[d];else if(d in decimalTypes)e=decimalTypes[d];else{if(!(d in integerTypes))throw new Error("The number formatter type is invalid: "+d);e=integerTypes[d]}else e=decimalTypes.g,m=!0;return isNaN(_)&&(_=d?6:12),function(t){var n=e(t,_);return m&&(n=removeTrailingZeros(n)),u&&(n=insertSeparator(n,u)),n=addSign(t,n,s),a&&"#"!==a&&(n=""+a+n),"#"===a&&"x"===d&&(n="0x"+n),"s"===d&&(n=""+n+getSIPrefix(t)),"%"!==d&&"p"!==d||(n+="%"),isNaN(c)||(n=addPadding(n,c,o||l,r)),n=""+h+n+g}}var absFloor=function(t){return Math.floor(Math.abs(t))},integerTypes={b:function(t){return absFloor(t).toString(2)},c:function(t){return String.fromCharCode(t)},d:function(t){return Math.round(Math.abs(t)).toFixed(0)},o:function(t){return absFloor(t).toString(8)},x:function(t){return absFloor(t).toString(16)},X:function(t){return integerTypes.x(t).toUpperCase()},n:function(t){return integerTypes.d(t)},"%":function(t){return""+absFloor(100*t).toFixed(0)}},decimalTypes={e:function(t,e){return Math.abs(t).toExponential(e)},E:function(t,e){return decimalTypes.e(t,e).toUpperCase()},f:function(t,e){return Math.abs(t).toFixed(e)},F:function(t,e){return decimalTypes.f(t,e).toUpperCase()},g:function(t,e){if(0===t)return"0";var n=Math.abs(t),o=Math.floor(Math.log10(n));return o>=-4&&o<e?n.toFixed(e-1-o):n.toExponential(e-1)},G:function(t,e){return decimalTypes.g(t,e).toUpperCase()},n:function(t,e){return decimalTypes.g(t,e)},p:function(t,e){return decimalTypes.r(100*t,e)},r:function(t,e){if(0===t)return"0";var n=Math.abs(t),o=Math.floor(Math.log10(n))-(e-1);if(o<=0)return n.toFixed(-o);var r=Math.pow(10,o);return(Math.round(n/r)*r).toFixed()},s:function(t,e){var n=getSIPrefixPower(t);return decimalTypes.r(t/Math.pow(10,n),e)},"%":function(t,e){return decimalTypes.f(100*t,e)}};function removeTrailingZeros(t){return t.replace(/\.0+$/,"").replace(/(\.[1-9])0+$/,"$1")}function insertSeparator(t,e){var n=t.indexOf(".");n<0&&(n=t.length);for(var o=t.substring(0,n).split(""),r=t.substring(n),i=o.length-3;i>0;i-=3)o.splice(i,0,e);return""+o.join("")+r}function getSIPrefix(t){return siPrefixes[getSIPrefixPower(t)]}function getSIPrefixPower(t){var e=Math.log10(Math.abs(t)),n=3*Math.floor(e/3);return Math.max(minSIPrefix,Math.min(maxSIPrefix,n))}var minSIPrefix=-24,maxSIPrefix=24,siPrefixes=(_a$1={},_a$1[minSIPrefix]="y",_a$1[-21]="z",_a$1[-18]="a",_a$1[-15]="f",_a$1[-12]="p",_a$1[-9]="n",_a$1[-6]="",_a$1[-3]="m",_a$1[0]="",_a$1[3]="k",_a$1[6]="M",_a$1[9]="G",_a$1[12]="T",_a$1[15]="P",_a$1[18]="E",_a$1[21]="Z",_a$1[maxSIPrefix]="Y",_a$1),minusSign="";function addSign(t,e,n){return void 0===n&&(n=""),"("===n?t>=0?e:"("+e+")":""+(t>=0?"+"===n?"+":"":minusSign)+e}function addPadding(t,e,n,o){void 0===n&&(n=" "),void 0===o&&(o=">");var r=t;if(">"!==o&&o){if("<"===o)r=r.padEnd(e,n);else if("^"===o){var i=Math.max(0,e-r.length),s=Math.ceil(i/2),a=Math.floor(i/2);r=(r=r.padStart(s+r.length,n)).padEnd(a+r.length,n)}}else r=r.padStart(e,n);return r}function tickFormat(t,e){var n=parseFormatter(e||",f");isNaN(n.precision)&&("f"===n.type||"%"===n.type?n.precision=Math.max.apply(Math,__spread$u(t.map((function(t){if("number"!=typeof t||0===t)return 0;var e=Math.floor(Math.log10(Math.abs(t))),o=n.type?6:12,r=t.toExponential(o-1).replace(/\.?0+e/,"e"),i=r.indexOf(".");if(i<0)return e>=0?0:-e;var s=r.indexOf("e")-i;return Math.max(0,s-e-1)})))):n.type&&!(n.type in decimalTypes)||(n.precision=Math.max.apply(Math,__spread$u(t.map((function(t){if("number"!=typeof t)return 0;var e=t.toExponential((n.type?6:12)-1).replace(/\.?0+e/,"e");return e.substring(0,e.indexOf("e")).replace(".","").length}))))));var o=format(n);return function(t){return o(Number(t))}}var __extends$2m=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1F=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__read$P=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$t=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$P(arguments[e]));return t},identity=function(t){return t},LogScale=function(t){function e(){var e=t.call(this,[1,10],[0,1])||this;return e.type="log",e.base=10,e.cacheProps=["domain","range","nice","tickCount","base"],e.baseLog=identity,e.basePow=identity,e.log=function(t){return e.domain[0]>=0?e.baseLog(t):-e.baseLog(-t)},e.pow=function(t){return e.domain[0]>=0?e.basePow(t):-e.basePow(-t)},e}return __extends$2m(e,t),e.prototype.toDomain=function(t){return t},e.prototype.transform=function(t){return this.domain[0]>=0?Math.log(t):-Math.log(-t)},e.prototype.transformInvert=function(t){return this.domain[0]>=0?Math.exp(t):-Math.exp(-t)},e.prototype.update=function(){!this.domain||this.domain.length<2||(this.updateLogFn(),this.updatePowFn(),this.nice&&this.updateNiceDomain())},e.prototype.updateLogFn=function(){var t,e=this.base;if(10===e)t=Math.log10;else if(e===Math.E)t=Math.log;else if(2===e)t=Math.log2;else{var n=Math.log(e);t=function(t){return Math.log(t)/n}}this.baseLog=t},e.prototype.updatePowFn=function(){var t,n=this.base;t=10===n?e.pow10:n===Math.E?Math.exp:function(t){return Math.pow(n,t)},this.basePow=t},e.prototype.updateNiceDomain=function(){var t=__read$P(this.domain,2),e=t[0],n=t[1],o=this.pow(Math.floor(this.log(e))),r=this.pow(Math.ceil(this.log(n)));this.niceDomain=[o,r]},e.pow10=function(t){return t>=0?Math.pow(10,t):1/Math.pow(10,-t)},e.prototype.ticks=function(){var t,e=this,n=null!==(t=this.tickCount)&&void 0!==t?t:10;if(!this.domain||this.domain.length<2||n<1)return[];this.refresh();var o=this.base,r=__read$P(this.getDomain(),2),i=r[0],s=r[1],a=this.log(i),l=this.log(s);if(this.interval){var c=Math.abs(this.interval),u=Math.abs(l-a),d=range(a,l,Math.min(u,c)).map((function(t){return e.pow(t)})).filter((function(t){return t>=i&&t<=s}));if(!this.isDenseInterval({start:i,stop:s,interval:c,count:d.length}))return d}if(!(o%1==0)||l-a>=n)return ticks(a,l,Math.min(l-a,n)).map((function(t){return e.pow(t)}));var p=[],h=i>0;a=Math.floor(a)-1,l=Math.round(l)+1;for(var f=Math.min.apply(Math,__spread$t(this.range)),g=(Math.max.apply(Math,__spread$t(this.range))-f)/n,_=1/0,m=a;m<=l;m++)for(var y=this.convert(this.pow(m+1)),v=1;v<o;v++){var C=h?v:o-v+1,E=this.pow(m)*C,b=this.convert(E),S=Math.abs(_-b),w=Math.abs(b-y);E>=i&&E<=s&&(1===v||S>=g&&w>=g)&&(p.push(E),_=b)}return p},e.prototype.tickFormat=function(t){var e=t.count,n=t.ticks,o=t.specifier,r=this.base;return null==o&&(o=10===r?".0e":","),"function"!=typeof o&&(o=format(o)),e===1/0?o:(null==e&&(e=10),n=null!=n?n:this.ticks(),function(t){return o(t)})},__decorate$1F([Validate(NUMBER(0))],e.prototype,"base",void 0),e}(ContinuousScale);function Default(t,e){return void 0===e&&(e=[void 0]),addTransformToInstanceProperty((function(n,o,r){return e.includes(r)?t:r}))}function extent$4(t){var e=t.length;if(0!==e){for(var n=1/0,o=-1/0,r=0;r<e;r++){var i=t[r];i instanceof Date&&(i=i.getTime()),"number"==typeof i&&(i<n&&(n=i),i>o&&(o=i))}var s=[n,o];if(!s.some((function(t){return!isFinite(t)})))return s}}var __decorate$1E=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Label$1=function(){function t(){this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.fontStyle=void 0,this.fontWeight=void 0,this.color="rgba(70, 70, 70, 1)"}return t.prototype.getFont=function(){return getFont(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)},__decorate$1E([Validate(BOOLEAN)],t.prototype,"enabled",void 0),__decorate$1E([Validate(NUMBER(0))],t.prototype,"fontSize",void 0),__decorate$1E([Validate(STRING)],t.prototype,"fontFamily",void 0),__decorate$1E([Validate(OPT_FONT_STYLE)],t.prototype,"fontStyle",void 0),__decorate$1E([Validate(OPT_FONT_WEIGHT)],t.prototype,"fontWeight",void 0),__decorate$1E([Validate(COLOR_STRING)],t.prototype,"color",void 0),t}();function calculateLabelRotation(t){var e=t.parallelFlipRotation,n=void 0===e?0:e,o=t.regularFlipRotation,r=void 0===o?0:o,i=t.rotation?normalizeAngle360(toRadians$1(t.rotation)):0,s=!i&&n>=0&&n<=Math.PI?-1:1,a=!i&&r>=0&&r<=Math.PI?-1:1,l=0;return t.parallel?l=s*Math.PI/2:-1===a&&(l=Math.PI),{labelRotation:i,autoRotation:l,parallelFlipFlag:s,regularFlipFlag:a}}var __decorate$1D=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__read$O=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$s=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$O(arguments[e]));return t},TICK_COUNT=predicateWithMessage((function(t,e){return NUMBER(0)(t,e)||t instanceof TimeInterval}),"expecting a tick count Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),OPT_TICK_COUNT=predicateWithMessage((function(t,e){return OPTIONAL(t,e,TICK_COUNT)}),"expecting an optional tick count Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),OPT_TICK_INTERVAL=predicateWithMessage((function(t,e){return OPTIONAL(t,e,(function(t,e){return 0!==t&&NUMBER(0)(t,e)||t instanceof TimeInterval}))}),"expecting an optional non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),GRID_STYLE_KEYS=["stroke","lineDash"],GRID_STYLE=predicateWithMessage(ARRAY(void 0,(function(t){for(var e in t)if(!GRID_STYLE_KEYS.includes(e))return!1;return!0})),"expecting an Array of objects with gridline style properties such as 'stroke' and 'lineDash'"),Tags;!function(t){t[t.TickLine=0]="TickLine",t[t.TickLabel=1]="TickLabel",t[t.GridLine=2]="GridLine",t[t.GridArc=3]="GridArc",t[t.AxisLine=4]="AxisLine"}(Tags||(Tags={}));var AxisLine=function(){function t(){this.width=1,this.color="rgba(195, 195, 195, 1)"}return __decorate$1D([Validate(NUMBER(0))],t.prototype,"width",void 0),__decorate$1D([Validate(OPT_COLOR_STRING)],t.prototype,"color",void 0),t}(),AxisTick=function(){function t(){this.width=1,this.size=6,this.color="rgba(195, 195, 195, 1)",this.count=void 0,this.interval=void 0,this.values=void 0,this.minSpacing=NaN,this.maxSpacing=NaN}return __decorate$1D([Validate(NUMBER(0))],t.prototype,"width",void 0),__decorate$1D([Validate(NUMBER(0))],t.prototype,"size",void 0),__decorate$1D([Validate(OPT_COLOR_STRING)],t.prototype,"color",void 0),__decorate$1D([Validate(OPT_TICK_COUNT),Deprecated("Use tick.interval or tick.minSpacing and tick.maxSpacing instead")],t.prototype,"count",void 0),__decorate$1D([Validate(OPT_TICK_INTERVAL)],t.prototype,"interval",void 0),__decorate$1D([Validate(OPT_ARRAY())],t.prototype,"values",void 0),__decorate$1D([Validate(AND(NUMBER_OR_NAN(1),LESS_THAN("maxSpacing"))),Default(NaN)],t.prototype,"minSpacing",void 0),__decorate$1D([Validate(AND(NUMBER_OR_NAN(1),GREATER_THAN("minSpacing"))),Default(NaN)],t.prototype,"maxSpacing",void 0),t}(),AxisLabel=function(){function t(){this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.minSpacing=NaN,this.color="rgba(87, 87, 87, 1)",this.rotation=void 0,this.autoRotate=void 0,this.autoRotateAngle=335,this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1,this.formatter=void 0,this.format=void 0}return __decorate$1D([Validate(OPT_FONT_STYLE)],t.prototype,"fontStyle",void 0),__decorate$1D([Validate(OPT_FONT_WEIGHT)],t.prototype,"fontWeight",void 0),__decorate$1D([Validate(NUMBER(1))],t.prototype,"fontSize",void 0),__decorate$1D([Validate(STRING)],t.prototype,"fontFamily",void 0),__decorate$1D([Validate(NUMBER(0))],t.prototype,"padding",void 0),__decorate$1D([Validate(NUMBER_OR_NAN()),Default(NaN)],t.prototype,"minSpacing",void 0),__decorate$1D([Validate(OPT_COLOR_STRING)],t.prototype,"color",void 0),__decorate$1D([Validate(OPT_NUMBER(-360,360))],t.prototype,"rotation",void 0),__decorate$1D([Validate(OPT_BOOLEAN)],t.prototype,"autoRotate",void 0),__decorate$1D([Validate(NUMBER(-360,360))],t.prototype,"autoRotateAngle",void 0),__decorate$1D([Validate(BOOLEAN)],t.prototype,"avoidCollisions",void 0),__decorate$1D([Validate(BOOLEAN)],t.prototype,"mirrored",void 0),__decorate$1D([Validate(BOOLEAN)],t.prototype,"parallel",void 0),__decorate$1D([Validate(OPT_STRING)],t.prototype,"format",void 0),t}(),Axis=function(){function t(t){this.id=createId$1(this),this.nice=!0,this.dataDomain=[],this.axisGroup=new Group({name:this.id+"-axis",zIndex:Layers.AXIS_ZINDEX}),this.lineNode=this.axisGroup.appendChild(new Line),this.tickLineGroup=this.axisGroup.appendChild(new Group({name:this.id+"-Axis-tick-lines",zIndex:Layers.AXIS_ZINDEX})),this.tickLabelGroup=this.axisGroup.appendChild(new Group({name:this.id+"-Axis-tick-labels",zIndex:Layers.AXIS_ZINDEX})),this.crossLineGroup=new Group({name:this.id+"-CrossLines"}),this.gridGroup=new Group({name:this.id+"-Axis-grid"}),this.gridLineGroup=this.gridGroup.appendChild(new Group({name:this.id+"-gridLines",zIndex:Layers.AXIS_GRID_ZINDEX})),this.gridArcGroup=this.gridGroup.appendChild(new Group({name:this.id+"-gridArcs",zIndex:Layers.AXIS_GRID_ZINDEX})),this.tickLineGroupSelection=Selection.select(this.tickLineGroup,Line),this.tickLabelGroupSelection=Selection.select(this.tickLabelGroup,Text),this.gridLineGroupSelection=Selection.select(this.gridLineGroup,Line),this.gridArcGroupSelection=Selection.select(this.gridArcGroup,Arc),this._crossLines=[],this.line=new AxisLine,this.tick=new AxisTick,this.label=new AxisLabel,this.translation={x:0,y:0},this.rotation=0,this.layout={label:{align:"center",baseline:"middle",rotation:0,fractionDigits:0,padding:this.label.padding,format:this.label.format}},this.requestedRange=[0,1],this._visibleRange=[0,1],this._title=void 0,this._gridLength=0,this.gridStyle=[{stroke:"rgba(219, 219, 219, 1)",lineDash:[4,2]}],this._radialGrid=!1,this.fractionDigits=0,this.gridPadding=0,this.seriesAreaPadding=0,this.thickness=0,this._scale=t,this.refreshScale()}return Object.defineProperty(t.prototype,"scale",{get:function(){return this._scale},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"crossLines",{get:function(){return this._crossLines},set:function(t){var e,n,o=this;null===(e=this._crossLines)||void 0===e||e.forEach((function(t){return o.detachCrossLine(t)})),this._crossLines=t,null===(n=this._crossLines)||void 0===n||n.forEach((function(t){o.attachCrossLine(t),o.initCrossLine(t)}))},enumerable:!1,configurable:!0}),t.prototype.attachCrossLine=function(t){this.crossLineGroup.appendChild(t.group)},t.prototype.detachCrossLine=function(t){this.crossLineGroup.removeChild(t.group)},t.prototype.destroy=function(){},t.prototype.refreshScale=function(){var t,e=this;this.requestedRange=this.scale.range.slice(),null===(t=this.crossLines)||void 0===t||t.forEach((function(t){e.initCrossLine(t)}))},t.prototype.updateRange=function(){var t,e=this,n=e.requestedRange,o=e.visibleRange,r=e.scale,i=(n[1]-n[0])/(o[1]-o[0]),s=i*o[0],a=n[0]-s;r.range=[a,a+i],null===(t=this.crossLines)||void 0===t||t.forEach((function(t){t.clippedRange=[n[0],n[1]]}))},t.prototype.setCrossLinesVisible=function(t){this.crossLineGroup.visible=t},t.prototype.attachAxis=function(t,e){t.insertBefore(this.gridGroup,e),t.insertBefore(this.axisGroup,e),t.insertBefore(this.crossLineGroup,e)},t.prototype.detachAxis=function(t){t.removeChild(this.gridGroup),t.removeChild(this.axisGroup),t.removeChild(this.crossLineGroup)},t.prototype.inRange=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),0===this.inRangeEx(t,e,n)},t.prototype.inRangeEx=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=0);var o=this.range,r=Math.min(o[0],o[1]),i=Math.max(o[0],o[1]);return t+e<r-n?-1:t>i+n?1:0},Object.defineProperty(t.prototype,"range",{get:function(){return this.requestedRange},set:function(t){this.requestedRange=t.slice(),this.updateRange()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleRange",{get:function(){return this._visibleRange.slice()},set:function(t){if(t&&2===t.length){var e=__read$O(t,2),n=e[0],o=e[1];n=Math.max(0,n),o=Math.min(1,o),n=Math.min(n,o),o=Math.max(n,o),this._visibleRange=[n,o],this.updateRange()}},enumerable:!1,configurable:!0}),t.prototype.onLabelFormatChange=function(t,e){var n=this.scale,o=this.fractionDigits,r=!(n instanceof LogScale)&&o>0?function(t){return"number"==typeof t?t.toFixed(o):String(t)}:function(t){return String(t)};if(e&&n&&n.tickFormat)try{this.labelFormatter=n.tickFormat({ticks:t,specifier:e})}catch(t){this.labelFormatter=r,Logger.warnOnce("the axis label format string "+e+" is invalid. No formatting will be applied")}else this.labelFormatter=r},Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(t){var e=this._title;e!==t&&(e&&this.axisGroup.removeChild(e.node),t&&(t.node.rotation=-Math.PI/2,this.axisGroup.appendChild(t.node)),this._title=t,this.setTickCount(this.tick.count),this.setTickInterval(this.tick.interval),this.updateTitle({ticks:this.scale.ticks()}))},enumerable:!1,configurable:!0}),t.prototype.setDomain=function(){var t,e=this,n=e.scale,o=e.dataDomain,r=e.tick.values;if(r&&n instanceof ContinuousScale){var i=__read$O(null!==(t=extent$4(r))&&void 0!==t?t:[1/0,-1/0],2),s=i[0],a=i[1],l=Math.min(n.fromDomain(o[0]),s),c=Math.max(n.fromDomain(o[1]),a);n.domain=[n.toDomain(l),n.toDomain(c)]}else n.domain=o},t.prototype.setTickInterval=function(t){var e;this.scale.interval=null!==(e=this.tick.interval)&&void 0!==e?e:t},t.prototype.setTickCount=function(t,e,n){var o=this.scale;if(t&&o instanceof ContinuousScale)return"number"==typeof t?(o.tickCount=t,o.minTickCount=null!=e?e:0,void(o.maxTickCount=null!=n?n:1/0)):void(o instanceof TimeScale$1&&this.setTickInterval(t))},Object.defineProperty(t.prototype,"gridLength",{get:function(){return this._gridLength},set:function(t){var e,n=this;(this._gridLength&&!t||!this._gridLength&&t)&&(this.gridLineGroupSelection=this.gridLineGroupSelection.clear(),this.gridArcGroupSelection=this.gridArcGroupSelection.clear()),this._gridLength=t,null===(e=this.crossLines)||void 0===e||e.forEach((function(t){n.initCrossLine(t)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"radialGrid",{get:function(){return this._radialGrid},set:function(t){this._radialGrid!==t&&(this._radialGrid=t,this.gridLineGroupSelection=this.gridLineGroupSelection.clear(),this.gridArcGroupSelection=this.gridArcGroupSelection.clear())},enumerable:!1,configurable:!0}),t.prototype.update=function(t){var e,n;this.calculateDomain();var o=this,r=o.scale,i=o.gridLength,s=o.tick,a=o.label,l=a.parallel,c=a.mirrored,u=a.avoidCollisions,d=o.requestedRange,p=Math.min.apply(Math,__spread$s(d)),h=Math.max.apply(Math,__spread$s(d)),f=toRadians$1(this.rotation),g=this.isAnySeriesActive(),_=c?1:-1,m=normalizeAngle360(f),y=normalizeAngle360(f-Math.PI/2),v=this.nice;this.setDomain(),this.setTickInterval(this.tick.interval),r instanceof ContinuousScale&&(r.nice=v,this.setTickCount(this.tick.count),r.update());var C=(r.bandwidth||0)/2;this.updatePosition(),this.updateLine();for(var E=0,b=!0,S=[],w=this.estimateTickCount({minSpacing:this.tick.minSpacing,maxSpacing:this.tick.maxSpacing}),O=w.maxTickCount,P=w.minTickCount,T=w.defaultTickCount,R=r instanceof ContinuousScale,D=void 0!==t,x=u&&void 0===this.tick.interval&&void 0===this.tick.values,M=!isNaN(this.tick.minSpacing)||!isNaN(this.tick.maxSpacing),A=this.tick.count||!R||isNaN(O)?10:O;b;){for(var L=!0,I=function(){if(E>A)return"break";var n=S,o=Math.max(T-E,P),s=x&&!(R&&void 0===N.tick.count)&&(M||0!==E);if(N.tick.values?S=N.tick.values:0===O?S=[]:0!==E&&s||(N.setTickCount(null!==(e=N.tick.count)&&void 0!==e?e:o,P,O),S=r.ticks()),s){var a=M?Math.ceil(S.length/o):2;S=S.filter((function(t,e){return e%a==0}))}var l=void 0;D&&(l=N.updateSecondaryAxisTicks(t),S=l),N.updateSelections({halfBandwidth:C,gridLength:i,ticks:S}),!D&&S.length>0&&(t=S.length),L=!!x&&areArrayNumbersEqual(S,n),E++},N=this;L;){if("break"===I())break}if(L)break;this.onLabelFormatChange(S,this.label.format);var k=this.updateLabels({parallelFlipRotation:m,regularFlipRotation:y,sideFlag:_,tickLabelGroupSelection:this.tickLabelGroupSelection,ticks:S}),F=k.labelData,G=k.rotated,B=this.getLabelSpacing(G);b=!!x&&axisLabelsOverlap(F,B)}this.updateGridLines({gridLength:i,halfBandwidth:C,sideFlag:_});var U=!1,j=function(t){var e=Math.floor(p),n=Math.ceil(h);if(e!==n){t.translationY>=e-1&&t.translationY<e&&(t.translationY=e),t.translationY>n&&t.translationY<=n+1&&(t.translationY=n);var o=t.translationY>=e&&t.translationY<=n;o&&(U=!0),t.visible=o}else t.visible=!1},V=this,W=V.gridLineGroupSelection,H=V.gridArcGroupSelection,$=V.tickLineGroupSelection,z=V.tickLabelGroupSelection;return W.each(j),H.each(j),$.each(j),z.each(j),this.tickLineGroup.visible=U,this.tickLabelGroup.visible=U,this.gridLineGroup.visible=U,this.gridArcGroup.visible=U,null===(n=this.crossLines)||void 0===n||n.forEach((function(t){t.sideFlag=-_,t.direction=f===-Math.PI/2?ChartAxisDirection.X:ChartAxisDirection.Y,t.label.parallel=void 0!==t.label.parallel?t.label.parallel:l,t.parallelFlipRotation=m,t.regularFlipRotation=y,t.update(g)})),this.updateTitle({ticks:S}),$.each((function(t){t.strokeWidth=s.width,t.stroke=s.color,t.visible=U,t.x1=_*s.size,t.x2=0,t.y1=0,t.y2=0})),t},t.prototype.estimateTickCount=function(e){var n=e.minSpacing,o=e.maxSpacing,r=this.requestedRange,i=Math.min.apply(Math,__spread$s(r)),s=Math.max.apply(Math,__spread$s(r))-i,a=Math.max(t.defaultTickMinSpacing,s/ContinuousScale.defaultMaxTickCount);isNaN(n)&&isNaN(o)?(n=a)>(o=s)&&(o=n):isNaN(n)?(n=a)>o&&(n=o):isNaN(o)&&n>(o=s)&&(o=n);var l=Math.max(1,Math.floor(s/n)),c=Math.min(l,Math.ceil(s/o)),u=ContinuousScale.defaultTickCount;return u>l?u=l:u<c&&(u=c),{minTickCount:c,maxTickCount:l,defaultTickCount:u}},t.prototype.getLabelSpacing=function(t){var e=this.label;return isNaN(e.minSpacing)?t?0:10:e.minSpacing},t.prototype.calculateDomain=function(){},t.prototype.updatePosition=function(){var t=this,e=t.label,n=t.crossLineGroup,o=t.axisGroup,r=t.gridGroup,i=t.translation,s=t.gridLineGroupSelection,a=t.gridPadding,l=t.gridLength,c=toRadians$1(this.rotation),u=e.mirrored?1:-1,d=Math.floor(i.x),p=Math.floor(i.y);n.translationX=d,n.translationY=p,n.rotation=c,o.translationX=d,o.translationY=p,o.rotation=c,r.translationX=d,r.translationY=p,r.rotation=c,s.each((function(t){t.x1=a,t.x2=-u*l+a,t.y1=0,t.y2=0}))},t.prototype.updateSecondaryAxisTicks=function(t){throw new Error("AG Charts - unexpected call to updateSecondaryAxisTicks() - check axes configuration.")},t.prototype.updateSelections=function(t){var e=t.ticks,n=t.halfBandwidth,o=t.gridLength,r=this.scale,i=e.map((function(t){return{tick:t,translationY:r.convert(t)+n}})),s=this.radialGrid?this.gridLineGroupSelection:this.gridLineGroupSelection.update(o?i:[],(function(t){var e=new Line;e.tag=Tags.GridLine,t.append(e)})),a=this.radialGrid?this.gridArcGroupSelection.update(o?i:[],(function(t){var e=new Arc;e.tag=Tags.GridArc,t.append(e)})):this.gridArcGroupSelection,l=this.tickLineGroupSelection.update(i,(function(t){var e=new Line;e.tag=Tags.TickLine,t.appendChild(e)})),c=this.tickLabelGroupSelection.update(i,(function(t){var e=new Text;e.tag=Tags.TickLabel,t.appendChild(e)})),u=function(t){return t.translationY=Math.round(t.datum.translationY)};s.each(u),a.each(u),l.each(u),c.each(u),this.tickLineGroupSelection=l,this.tickLabelGroupSelection=c,this.gridLineGroupSelection=s,this.gridArcGroupSelection=a},t.prototype.updateGridLines=function(t){var e=t.gridLength,n=t.halfBandwidth,o=t.sideFlag,r=this,i=r.gridStyle,s=r.scale,a=r.tick,l=r.gridPadding;if(e&&i.length){var c=i.length,u=void 0;if(this.radialGrid){var d=normalizeAngle360Inclusive(toRadians$1(e));u=this.gridArcGroupSelection.each((function(t,e){var o=Math.round(s.convert(e)+n);t.centerX=0,t.centerY=s.range[0]-o,t.endAngle=d,t.radius=o}))}else u=this.gridLineGroupSelection.each((function(t){t.x1=l,t.x2=-o*e+l,t.y1=0,t.y2=0}));u.each((function(t,e,n){var o=i[n%c];t.stroke=o.stroke,t.strokeWidth=a.width,t.lineDash=o.lineDash,t.fill=void 0}))}},t.prototype.updateLabels=function(t){var e=this,n=t.ticks,o=t.tickLabelGroupSelection,r=t.sideFlag,i=t.parallelFlipRotation,s=t.regularFlipRotation,a=this,l=a.label,c=a.label,u=c.parallel,d=c.rotation,p=a.tick,h=0,f=calculateLabelRotation({rotation:d,parallel:u,regularFlipRotation:s,parallelFlipRotation:i}),g=f.autoRotation,_=f.labelRotation,m=f.parallelFlipFlag,y=f.regularFlipFlag;this.fractionDigits=n.fractionDigits>=0?n.fractionDigits:0;var v=new Map,C=r*(p.size+l.padding+this.seriesAreaPadding),E=new Matrix;Matrix.updateTransformMatrix(E,1,1,g,0,0);var b=[],S=o.each((function(t,n,o){var r=n.tick,i=n.translationY;t.fontStyle=l.fontStyle,t.fontWeight=l.fontWeight,t.fontSize=l.fontSize,t.fontFamily=l.fontFamily,t.fill=l.color,t.text=e.formatTickDatum(r,o);var s=""===t.text||null==t.text,a=t.computeBBox(),c=a.width,u=a.height,d=new BBox(C,i,0,0);E.transformBBox(d,a);var p=a.x,h=void 0===p?0:p,f=a.y,g=void 0===f?0:f;a.width=c,a.height=u,v.set(o,s?null:a),s||b.push({point:{x:h,y:g,size:0},label:{width:c,height:u,text:""}})})),w=this.getLabelSpacing(),O=axisLabelsOverlap(b,w);void 0===l.rotation&&!0===l.autoRotate&&O&&(h=normalizeAngle360(toRadians$1(l.autoRotateAngle)));var P="middle";u&&!_&&(P=r*m==-1?"hanging":"bottom");var T=_>0&&_<=Math.PI,R=h>0&&h<=Math.PI,D="start";u?_||h?r*(T||R?-1:1)==-1&&(D="end"):D="center":r*y==-1&&(D="end");var x=g+_+h;return x&&Matrix.updateTransformMatrix(E,1,1,x,0,0),b=[],S.each((function(t,e,n){if(""!==t.text&&null!=t.text){t.textBaseline=P,t.textAlign=D,t.x=C,t.rotationCenterX=C,t.rotation=x;var o=v.get(n);if(o){t.visible=!0;var r=o.width,i=void 0===r?0:r,s=o.height,a=void 0===s?0:s,l=e.translationY,c=new BBox(C,l,0,0);E.transformBBox(c,o);var u=o.x,d=void 0===u?0:u,p=o.y,h=void 0===p?0:p;b.push({point:{x:d,y:h,size:0},label:{width:i,height:a,text:t.text}})}}else t.visible=!1})),this.layout.label={align:D,baseline:P,rotation:x,fractionDigits:this.fractionDigits,padding:this.label.padding,format:this.label.format},{labelData:b,rotated:!(!_&&!h)}},t.prototype.updateLine=function(){var t=this.lineNode,e=this.requestedRange;t.x1=0,t.x2=0,t.y1=e[0],t.y2=e[1],t.strokeWidth=this.line.width,t.stroke=this.line.color,t.visible=!0},t.prototype.updateTitle=function(t){var e=t.ticks,n=this,o=n.label,r=n.rotation,i=n.title,s=n.lineNode,a=n.requestedRange,l=n.tickLineGroup,c=n.tickLabelGroup;if(i){var u=!1;if(i.enabled&&s.visible){u=!0;var d=o.mirrored?1:-1,p=normalizeAngle360(r),h=Caption.PADDING,f=i.node,g=-1===d&&p>Math.PI&&p<2*Math.PI?-1:1;f.rotation=g*d*Math.PI/2,f.x=Math.floor(g*d*(a[0]+a[1])/2);var _=0;if((null==e?void 0:e.length)>0){var m=Group.computeBBox([l,c]),y=0===r?m.width:m.height;Math.abs(y)<1/0&&(_+=y)}f.y=-1===d?Math.floor(g*(-h-_)):Math.floor(-h-_),f.textBaseline=1===g?"bottom":"top"}i.node.visible=u}},t.prototype.formatTickDatum=function(t,e){var n=this,o=n.label,r=n.labelFormatter,i=n.fractionDigits;return o.formatter?o.formatter({value:i>0?t:String(t),index:e,fractionDigits:i,formatter:r}):r?r(t):String(t)},t.prototype.formatDatum=function(t){return String(t)},t.prototype.computeBBox=function(){return this.axisGroup.computeBBox()},t.prototype.initCrossLine=function(t){t.scale=this.scale,t.gridLength=this.gridLength},t.prototype.isAnySeriesActive=function(){return!1},t.prototype.clipTickLines=function(t,e,n,o){this.tickLineGroup.setClipRectInGroupCoordinateSpace(new BBox(t,e,n,o))},t.prototype.clipGrid=function(t,e,n,o){this.gridGroup.setClipRectInGroupCoordinateSpace(new BBox(t,e,n,o))},t.prototype.calculatePadding=function(t,e){return Math.abs(.01*t)},t.defaultTickMinSpacing=50,__decorate$1D([Validate(BOOLEAN)],t.prototype,"nice",void 0),__decorate$1D([Validate(GRID_STYLE)],t.prototype,"gridStyle",void 0),__decorate$1D([Validate(NUMBER(0))],t.prototype,"thickness",void 0),t}(),__extends$2l=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__read$N=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},LinearScale$1=function(t){function e(){var e=t.call(this,[0,1],[0,1])||this;return e.type="linear",e}return __extends$2l(e,t),e.prototype.toDomain=function(t){return t},e.prototype.ticks=function(){var t,e=null!==(t=this.tickCount)&&void 0!==t?t:ContinuousScale.defaultTickCount;if(!this.domain||this.domain.length<2||e<1||this.domain.some((function(t){return!isFinite(t)})))return[];this.refresh();var n=__read$N(this.getDomain(),2),o=n[0],r=n[1],i=this.interval;if(i){var s=Math.abs(i);if(!this.isDenseInterval({start:o,stop:r,interval:s}))return range(o,r,s)}return ticks(o,r,e,this.minTickCount,this.maxTickCount)},e.prototype.update=function(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()},e.prototype.updateNiceDomain=function(){var t,e,n=null!==(t=this.tickCount)&&void 0!==t?t:ContinuousScale.defaultTickCount,o=__read$N(this.domain,2),r=o[0],i=o[1];if(n<1)this.niceDomain=[r,i];else if(1!==n){for(var s=r,a=i,l=0;l<4;l++){var c=null!==(e=this.interval)&&void 0!==e?e:tickStep(r,i,n,this.minTickCount,this.maxTickCount),u=__read$N(this.domain,2),d=u[0],p=u[1];if(c>=1)r=Math.floor(d/c)*c,i=Math.ceil(p/c)*c;else{var h=1/c;r=Math.floor(d*h)/h,i=Math.ceil(p*h)/h}if(r===s&&i===a)break;s=r,a=i}this.niceDomain=[r,i]}else this.niceDomain=singleTickDomain(r,i)},e.prototype.tickFormat=function(t){var e=t.ticks,n=t.specifier;return tickFormat(e||this.ticks(),n)},e}(ContinuousScale),__extends$2k=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$E=function(){return __assign$E=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$E.apply(this,arguments)},__decorate$1C=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__read$M=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$r=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$M(arguments[e]));return t},__values$o=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function flipChartAxisDirection(t){return t===ChartAxisDirection.X?ChartAxisDirection.Y:ChartAxisDirection.X}var ChartAxis=function(t){function e(e,n){var o=t.call(this,n)||this;return o.moduleCtx=e,o.keys=[],o.direction=ChartAxisDirection.Y,o.boundSeries=[],o.includeInvisibleDomains=!1,o.modules={},o._position="left",o}return __extends$2k(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.constructor.type||""},enumerable:!1,configurable:!0}),e.prototype.useCalculatedTickCount=function(){return this.scale instanceof LinearScale$1},Object.defineProperty(e.prototype,"position",{get:function(){return this._position},set:function(t){if(this._position!==t){switch(this._position=t,t){case"top":this.direction=ChartAxisDirection.X,this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.direction=ChartAxisDirection.Y,this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.direction=ChartAxisDirection.X,this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.direction=ChartAxisDirection.Y,this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1}this.axisContext&&(this.axisContext.position=t,this.axisContext.direction=this.direction)}},enumerable:!1,configurable:!0}),e.prototype.calculateDomain=function(){var t,e=this,n=e.direction,o=e.boundSeries,r=e.includeInvisibleDomains;if(this.linkedTo)this.dataDomain=this.linkedTo.dataDomain;else{var i=[];o.filter((function(t){return r||t.isEnabled()})).forEach((function(t){i.push(t.getDomain(n))}));var s=(t=new Array).concat.apply(t,__spread$r(i));this.dataDomain=this.normaliseDataDomain(s)}},e.prototype.normaliseDataDomain=function(t){return t},e.prototype.isAnySeriesActive=function(){var t=this;return this.boundSeries.some((function(e){return t.includeInvisibleDomains||e.isEnabled()}))},e.prototype.getLayoutState=function(){return __assign$E({rect:this.computeBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.tick.size},this.layout)},e.prototype.addModule=function(t){var e=this;if(null!=this.modules[t.optionsKey])throw new Error("AG Charts - module already initialised: "+t.optionsKey);if(null==this.axisContext){this.axisContext={axisId:this.id,position:this.position,direction:this.direction,continuous:this.scale instanceof ContinuousScale,keys:function(){return e.boundSeries.map((function(t){return t.getKeys(e.direction)})).reduce((function(t,e){return t.push.apply(t,__spread$r(e)),t}),[])},scaleValueFormatter:function(t){var n,o,r;return null!==(r=null===(o=(n=e.scale).tickFormat)||void 0===o?void 0:o.call(n,{specifier:t}))&&void 0!==r?r:void 0},scaleBandwidth:function(){var t;return null!==(t=e.scale.bandwidth)&&void 0!==t?t:0},scaleConvert:function(t){return e.scale.convert(t)},scaleInvert:function(t){var n,o,r;return null!==(r=null===(o=(n=e.scale).invert)||void 0===o?void 0:o.call(n,t))&&void 0!==r?r:void 0}}}var n=t.initialiseModule(__assign$E(__assign$E({},this.moduleCtx),{parent:this.axisContext}));this.modules[t.optionsKey]=n,this[t.optionsKey]=n.instance},e.prototype.removeModule=function(t){var e,n;null===(n=null===(e=this.modules[t.optionsKey])||void 0===e?void 0:e.instance)||void 0===n||n.destroy(),delete this.modules[t.optionsKey],delete this[t.optionsKey]},e.prototype.isModuleEnabled=function(t){return null!=this.modules[t.optionsKey]},e.prototype.destroy=function(){var e,n;t.prototype.destroy.call(this);try{for(var o=__values$o(Object.entries(this.modules)),r=o.next();!r.done;r=o.next()){var i=__read$M(r.value,2),s=i[0];i[1].instance.destroy(),delete this.modules[s],delete this[s]}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},__decorate$1C([Validate(STRING_ARRAY)],e.prototype,"keys",void 0),__decorate$1C([Validate(POSITION)],e.prototype,"_position",void 0),e}(Axis),__extends$2j=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1B=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__read$L=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$q=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$L(arguments[e]));return t},CategoryAxis=function(t){function e(e){var n=t.call(this,e,new BandScale$5)||this;return n._paddingOverrideEnabled=!1,n.groupPaddingInner=.1,n.includeInvisibleDomains=!0,n}return __extends$2j(e,t),Object.defineProperty(e.prototype,"paddingInner",{get:function(){return this._paddingOverrideEnabled=!0,this.scale.paddingInner},set:function(t){this._paddingOverrideEnabled=!0,this.scale.paddingInner=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"paddingOuter",{get:function(){return this.scale.paddingOuter},set:function(t){this.scale.paddingOuter=t},enumerable:!1,configurable:!0}),e.prototype.normaliseDataDomain=function(t){var e=new Set(t);return new(Array.bind.apply(Array,__spread$q([void 0],e.values())))},e.prototype.calculateDomain=function(){if(!this._paddingOverrideEnabled){var e=this.boundSeries.map((function(t){var e;return null===(e=t.getBandScalePadding)||void 0===e?void 0:e.call(t)})).filter((function(t){return null!=t}));e.length>0&&(this.scale.paddingInner=Math.min.apply(Math,__spread$q(e.map((function(t){return t.inner})))),this.scale.paddingOuter=Math.max.apply(Math,__spread$q(e.map((function(t){return t.outer})))))}return t.prototype.calculateDomain.call(this)},e.className="CategoryAxis",e.type="category",__decorate$1B([Validate(NUMBER(0,1))],e.prototype,"groupPaddingInner",void 0),e}(ChartAxis),__assign$D=function(){return __assign$D=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$D.apply(this,arguments)},__read$K=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$p=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$K(arguments[e]));return t},__values$n=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function jsonDiff(t,e){var n,o,r=classify(t),i=classify(e);if("array"===i){var s=e;return"array"!==r||t.length!==s.length||s.some((function(e,n){var o;return null!=jsonDiff(null===(o=t)||void 0===o?void 0:o[n],e)}))?__spread$p(s):null}if("primitive"===i)return"primitive"!==r?__assign$D({},e):t!==e?e:null;var a=t||{},l=e||{},c=new Set(__spread$p(Object.keys(a),Object.keys(l))),u=0,d={},p=function(t){if(a[t]===l[t])return"continue";var e=function(e){d[t]=e,u++},n=classify(a[t]),o=classify(l[t]);if(n!==o)return e(l[t]),"continue";if("primitive"===o||null===o)return e(l[t]),"continue";if("array"===o&&a[t].length!==l[t].length)return e(l[t]),"continue";if("class-instance"===o)return e(l[t]),"continue";if("function"===o&&a[t]!==l[t])return e(l[t]),"continue";var r=jsonDiff(a[t],l[t]);null!==r&&e(r)};try{for(var h=__values$n(c),f=h.next();!f.done;f=h.next()){p(f.value)}}catch(t){n={error:t}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(n)throw n.error}}return 0===u?null:d}var DELETE=Symbol("<delete-property>"),NOT_SPECIFIED=Symbol("<unspecified-property>");function jsonMerge(t,e){var n,o,r=(null==e?void 0:e.avoidDeepClone)||[];if(t.map((function(t){return classify(t)})).some((function(t){return"array"===t}))){var i=t[t.length-1];return i instanceof Array?i.map((function(t){var n=classify(t);return"array"===n?jsonMerge([[],t],e):"object"===n?jsonMerge([{},t],e):t})):i}var s={},a=new Set(t.map((function(t){return null!=t?Object.keys(t):[]})).reduce((function(t,e){return t.concat(e)}),[])),l=function(n){var o=t.map((function(t){return null!=t&&n in t?t[n]:NOT_SPECIFIED})).filter((function(t){return t!==NOT_SPECIFIED}));if(0===o.length)return"continue";var i=o[o.length-1];if(i===DELETE)return"continue";var a=o.map((function(t){return classify(t)})),l=a[0];if(a.some((function(t){return t!==l})))return s[n]=i,"continue";"array"!==l&&"object"!==l||r.includes(n)?s[n]="array"===l?__spread$p(i):i:s[n]=jsonMerge(o,e)};try{for(var c=__values$n(a),u=c.next();!u.done;u=c.next()){l(u.value)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}return s}function jsonApply(t,e,n){var o;void 0===n&&(n={});var r=n.path,i=void 0===r?void 0:r,s=n.matcherPath,a=void 0===s?i?i.replace(/(\[[0-9+]+\])/i,"[]"):void 0:s,l=n.skip,c=void 0===l?[]:l,u=n.constructors,d=void 0===u?{}:u,p=n.allowedTypes,h=void 0===p?{}:p,f=n.idx;if(null==t)throw new Error("AG Charts - target is uninitialised: "+(i||"<root>"));if(null==e)return t;var g=t;null!=f&&"_declarationOrder"in g&&(g._declarationOrder=f);var _=classify(t),m=function(r){var s=(a?a+".":"")+r;if(c.indexOf(s)>=0)return"continue";var l=e[r],u=(i?i+".":"")+r,p=g.constructor,f=g[r],m=null!==(o=d[r])&&void 0!==o?o:d[s];try{var y=classify(f),v=classify(l);if("class-instance"===_&&!(r in t)&&!Object.prototype.hasOwnProperty.call(g,r))return Logger.warn("unable to set ["+u+"] in "+(null==p?void 0:p.name)+" - property is unknown"),"continue";var C=h[s]||[y];if("class-instance"===y&&"object"===v);else if(null!=y&&null!=v&&!C.includes(v))return Logger.warn("unable to set ["+u+"] in "+(null==p?void 0:p.name)+" - can't apply type of ["+v+"], allowed types are: ["+C+"]"),"continue";if("array"===v)if(null!=(m=null!=m?m:d[s+"[]"])){var E=l;g[r]=E.map((function(t,e){return jsonApply(new m,t,__assign$D(__assign$D({},n),{path:u,matcherPath:s+"[]",idx:e}))}))}else g[r]=l;else"class-instance"===v?g[r]=l:"object"===v?null!=f?jsonApply(f,l,__assign$D(__assign$D({},n),{path:u,matcherPath:s,idx:void 0})):g[r]=null!=m?jsonApply(new m,l,__assign$D(__assign$D({},n),{path:u,matcherPath:s,idx:void 0})):l:g[r]=l}catch(t){var b=t;return Logger.warn("unable to set ["+u+"] in ["+(null==p?void 0:p.name)+"]; nested error is: "+b.message),"continue"}};for(var y in e)m(y);return t}function jsonWalk(t,e,n){for(var o=[],r=3;r<arguments.length;r++)o[r-3]=arguments[r];var i=classify(t),s=n.skip||[];if("array"!==i){if("object"===i){e.apply(void 0,__spread$p([i,t],o));var a=function(r){if(s.indexOf(r)>=0)return"continue";var i=t[r],a=null==o?void 0:o.map((function(t){return null==t?void 0:t[r]})),l=classify(i);"object"!==l&&"array"!==l||jsonWalk.apply(void 0,__spread$p([i,e,n],a))};for(var l in t)a(l)}}else t.forEach((function(t,r){jsonWalk.apply(void 0,__spread$p([t,e,n],(null!=o?o:[]).map((function(t){return null==t?void 0:t[r]}))))}))}function classify(t){return null==t?null:t instanceof HTMLElement?"primitive":t instanceof Array?"array":t instanceof Date?"primitive":"object"==typeof t&&t.constructor===Object?"object":"function"==typeof t?"function":"object"==typeof t&&null!=t.constructor?"class-instance":"primitive"}var __extends$2i=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1A=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__awaiter$d=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{l(o.next(t))}catch(t){i(t)}}function a(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((o=o.apply(t,e||[])).next())}))},__generator$d=function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},__read$J=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$o=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$J(arguments[e]));return t},__values$m=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_a,DEFAULT_DIRECTION_KEYS=(_a={},_a[ChartAxisDirection.X]=["xKey"],_a[ChartAxisDirection.Y]=["yKey"],_a),CartesianSeriesNodeBaseClickEvent=function(t){function e(e,n,o,r,i){var s=t.call(this,o,r,i)||this;return s.xKey=e,s.yKey=n,s}return __extends$2i(e,t),e}(SeriesNodeBaseClickEvent),CartesianSeriesNodeClickEvent=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeClick",e}return __extends$2i(e,t),e}(CartesianSeriesNodeBaseClickEvent),CartesianSeriesNodeDoubleClickEvent=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeDoubleClick",e}return __extends$2i(e,t),e}(CartesianSeriesNodeBaseClickEvent),CartesianSeries=function(t){function e(e){var n;void 0===e&&(e={});var o=t.call(this,{useSeriesGroupLayer:!0,pickModes:e.pickModes,directionKeys:null!==(n=e.directionKeys)&&void 0!==n?n:DEFAULT_DIRECTION_KEYS})||this;o._contextNodeData=[],o.nodeDataDependencies={},o.highlightSelection=Selection.select(o.highlightNode,(function(){return o.opts.hasMarkers?o.markerFactory():o.nodeFactory()})),o.highlightLabelSelection=Selection.select(o.highlightLabel,Text),o.subGroups=[],o.subGroupId=0,o.seriesItemEnabled=new Map;var r=e.pathsPerSeries,i=void 0===r?1:r,s=e.hasMarkers,a=void 0!==s&&s,l=e.pathsZIndexSubOrderOffset,c=void 0===l?[]:l,u=e.renderLayerPerSubSeries,d=void 0===u||u;return o.opts={pathsPerSeries:i,hasMarkers:a,pathsZIndexSubOrderOffset:c,renderLayerPerSubSeries:d},o}return __extends$2i(e,t),Object.defineProperty(e.prototype,"contextNodeData",{get:function(){var t;return null===(t=this._contextNodeData)||void 0===t?void 0:t.slice()},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this),this._contextNodeData.splice(0,this._contextNodeData.length),this.subGroups.splice(0,this.subGroups.length)},e.prototype.checkDomainXY=function(t,e,n,o){return(n&&isContinuous(t)||!n&&isDiscrete(t))&&(o&&isContinuous(e)||!o&&isDiscrete(e))?[t,e]:void 0},e.prototype.checkRangeXY=function(t,e,n,o){return!isNaN(t)&&!isNaN(e)&&n.inRange(t)&&o.inRange(e)},e.prototype.update=function(t){var e,n,o=t.seriesRect;return __awaiter$d(this,void 0,void 0,(function(){var t,r,i,s,a,l,c;return __generator$d(this,(function(u){switch(u.label){case 0:return r=(t=this).seriesItemEnabled,i=t.visible,s=(null!==(n=null===(e=this.highlightManager)||void 0===e?void 0:e.getActiveHighlight())&&void 0!==n?n:{}).series,a=s?s===this:void 0,l=i&&0===r.size||__spread$o(r.values()).some((function(t){return!0===t})),c={seriesRectWidth:null==o?void 0:o.width,seriesRectHeight:null==o?void 0:o.height},null!=jsonDiff(this.nodeDataDependencies,c)&&(this.nodeDataDependencies=c,this.markNodeDataDirty()),[4,this.updateSelections(a,l)];case 1:return u.sent(),[4,this.updateNodes(a,l)];case 2:return u.sent(),[2]}}))}))},e.prototype.updateSelections=function(t,e){return __awaiter$d(this,void 0,void 0,(function(){var n,o=this;return __generator$d(this,(function(r){switch(r.label){case 0:return[4,this.updateHighlightSelection(t)];case 1:return r.sent(),e?this.nodeDataRefresh||this.isPathOrSelectionDirty()?this.nodeDataRefresh?(this.nodeDataRefresh=!1,n=this,[4,this.createNodeData()]):[3,4]:[2]:[2];case 2:return n._contextNodeData=r.sent(),[4,this.updateSeriesGroups()];case 3:r.sent(),r.label=4;case 4:return[4,Promise.all(this.subGroups.map((function(e,n){return o.updateSeriesGroupSelections(e,n,t)})))];case 5:return r.sent(),[2]}}))}))},e.prototype.updateSeriesGroupSelections=function(t,e,n){return __awaiter$d(this,void 0,void 0,(function(){var o,r,i,s,a,l,c,u,d,p,h;return __generator$d(this,(function(f){switch(f.label){case 0:return o=t.datumSelection,r=t.labelSelection,i=t.markerSelection,s=t.paths,a=this._contextNodeData[e],l=a.nodeData,c=a.labelData,u=a.itemId,[4,this.updatePaths({seriesHighlighted:n,itemId:u,contextData:a,paths:s,seriesIdx:e})];case 1:return f.sent(),d=t,[4,this.updateDatumSelection({nodeData:l,datumSelection:o,seriesIdx:e})];case 2:return d.datumSelection=f.sent(),p=t,[4,this.updateLabelSelection({labelData:c,labelSelection:r,seriesIdx:e})];case 3:return p.labelSelection=f.sent(),i?(h=t,[4,this.updateMarkerSelection({nodeData:l,markerSelection:i,seriesIdx:e})]):[3,5];case 4:h.markerSelection=f.sent(),f.label=5;case 5:return[2]}}))}))},e.prototype.nodeFactory=function(){return new Group},e.prototype.markerFactory=function(){return new(getMarker$1())},e.prototype.updateSeriesGroups=function(){var t;return __awaiter$d(this,void 0,void 0,(function(){var e,n,o,r,i,s,a,l,c,u,d,p,h,f,g,_,m,y,v,C=this;return __generator$d(this,(function(E){if(n=(e=this)._contextNodeData,o=e.contentGroup,r=e.subGroups,i=e.opts,s=i.pathsPerSeries,a=i.hasMarkers,l=i.pathsZIndexSubOrderOffset,c=i.renderLayerPerSubSeries,n.length===r.length)return[2];for(n.length<r.length&&r.splice(n.length).forEach((function(t){var e,n,r=t.dataNodeGroup,i=t.markerGroup,s=t.labelGroup,a=t.paths;o.removeChild(r),i&&o.removeChild(i),s&&o.removeChild(s);try{for(var l=__values$m(a),c=l.next();!c.done;c=l.next()){var u=c.value;o.removeChild(u)}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}})),u=n.length;u>r.length;){for(d=c,p=this.subGroupId++,h=p,f=new Group({name:this.id+"-series-sub"+p+"-dataNodes",layer:d,zIndex:Layers.SERIES_LAYER_ZINDEX,zIndexSubOrder:[function(){return C._declarationOrder},h]}),g=a?new Group({name:this.id+"-series-sub"+this.subGroupId+++"-markers",layer:d,zIndex:Layers.SERIES_LAYER_ZINDEX,zIndexSubOrder:[function(){return C._declarationOrder},1e4+p]}):void 0,_=new Group({name:this.id+"-series-sub"+this.subGroupId+++"-labels",layer:d,zIndex:Layers.SERIES_LABEL_ZINDEX,zIndexSubOrder:[function(){return C._declarationOrder},p]}),o.appendChild(f),o.appendChild(_),g&&o.appendChild(g),m=c?f:o,y=[],v=0;v<s;v++)y[v]=new Path,y[v].zIndex=Layers.SERIES_LAYER_ZINDEX,y[v].zIndexSubOrder=[function(){return C._declarationOrder},(null!==(t=l[v])&&void 0!==t?t:0)+h],m.appendChild(y[v]);r.push({paths:y,dataNodeGroup:f,markerGroup:g,labelGroup:_,labelSelection:Selection.select(_,Text),datumSelection:Selection.select(f,(function(){return C.nodeFactory()})),markerSelection:g?Selection.select(g,(function(){return C.markerFactory()})):void 0})}return[2]}))}))},e.prototype.updateNodes=function(t,e){var n;return __awaiter$d(this,void 0,void 0,(function(){var o,r,i,s,a,l,c,u,d,p,h,f,g=this;return __generator$d(this,(function(_){switch(_.label){case 0:return r=(o=this).highlightSelection,i=o.highlightLabelSelection,s=o._contextNodeData,a=o.seriesItemEnabled,l=o.opts,c=l.hasMarkers,u=l.renderLayerPerSubSeries,d=this.visible&&(null===(n=this._contextNodeData)||void 0===n?void 0:n.length)>0&&e,this.rootGroup.visible=d,this.contentGroup.visible=d,this.highlightGroup.visible=d&&!!t,p=this.getOpacity(),h=this.subGroups.map((function(t,e){var n=s[e].itemId;return g.getOpacity({itemId:n})})),f=h.some((function(t){return t!==p})),this.contentGroup.opacity=f?1:p,c?[4,this.updateMarkerNodes({markerSelection:r,isHighlight:!0,seriesIdx:-1})]:[3,2];case 1:return _.sent(),[3,4];case 2:return[4,this.updateDatumNodes({datumSelection:r,isHighlight:!0,seriesIdx:-1})];case 3:_.sent(),_.label=4;case 4:return[4,this.updateLabelNodes({labelSelection:i,seriesIdx:-1})];case 5:return _.sent(),[4,Promise.all(this.subGroups.map((function(e,n){return __awaiter$d(g,void 0,void 0,(function(){var o,r,i,l,p,g,_,m,y,v,C,E,b,S,w,O;return __generator$d(this,(function(P){switch(P.label){case 0:o=e.dataNodeGroup,r=e.markerGroup,i=e.datumSelection,l=e.labelSelection,p=e.markerSelection,g=e.paths,_=e.labelGroup,m=s[n].itemId,y=d&&(null===(O=a.get(m))||void 0===O||O),v=f?h[n]:1,o.opacity=v,o.visible=y,_.visible=y,r&&(r.opacity=v,r.zIndex=o.zIndex>=Layers.SERIES_LAYER_ZINDEX?o.zIndex:o.zIndex+1,r.visible=y),_&&(_.opacity=v);try{for(C=__values$m(g),E=C.next();!E.done;E=C.next())b=E.value,u||(b.opacity=v,b.visible=y)}catch(t){S={error:t}}finally{try{E&&!E.done&&(w=C.return)&&w.call(C)}finally{if(S)throw S.error}}return o.visible?[4,this.updatePathNodes({seriesHighlighted:t,itemId:m,paths:g,seriesIdx:n})]:[2];case 1:return P.sent(),[4,this.updateDatumNodes({datumSelection:i,isHighlight:!1,seriesIdx:n})];case 2:return P.sent(),[4,this.updateLabelNodes({labelSelection:l,seriesIdx:n})];case 3:return P.sent(),c&&p?[4,this.updateMarkerNodes({markerSelection:p,isHighlight:!1,seriesIdx:n})]:[3,5];case 4:P.sent(),P.label=5;case 5:return[2]}}))}))})))];case 6:return _.sent(),[2]}}))}))},e.prototype.updateHighlightSelection=function(t){var e;return __awaiter$d(this,void 0,void 0,(function(){var n,o,r,i,s,a,l,c,u,d,p,h,f,g,_,m;return __generator$d(this,(function(y){switch(y.label){case 0:return o=(n=this).highlightSelection,r=n.highlightLabelSelection,i=n._contextNodeData,s=null===(e=this.highlightManager)||void 0===e?void 0:e.getActiveHighlight(),a=t&&(null==s?void 0:s.datum)?s:void 0,l=this,[4,this.updateHighlightSelectionItem({item:a,highlightSelection:o})];case 1:if(l.highlightSelection=y.sent(),this.isLabelEnabled()&&null!=a){u=a.itemId,d=void 0===u?void 0:u;try{for(p=__values$m(i),h=p.next();!h.done&&(f=h.value.labelData,null==(c=f.find((function(t){return t.datum===a.datum&&t.itemId===d}))));h=p.next());}catch(t){_={error:t}}finally{try{h&&!h.done&&(m=p.return)&&m.call(p)}finally{if(_)throw _.error}}}return g=this,[4,this.updateHighlightSelectionLabel({item:c,highlightLabelSelection:r})];case 2:return g.highlightLabelSelection=y.sent(),[2]}}))}))},e.prototype.pickNodeExactShape=function(e){var n,o,r=t.prototype.pickNodeExactShape.call(this,e);if(r)return r;var i=e.x,s=e.y,a=this.opts.hasMarkers;try{for(var l=__values$m(this.subGroups),c=l.next();!c.done;c=l.next()){var u=c.value,d=u.dataNodeGroup,p=u.markerGroup,h=d.pickNode(i,s);if(!h&&a&&(h=null==p?void 0:p.pickNode(i,s)),h)return{datum:h.datum,distance:0}}}catch(t){n={error:t}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}},e.prototype.pickNodeClosestDatum=function(t){var e,n,o,r,i,s,a,l=t.x,c=t.y,u=this,d=u.xAxis,p=u.yAxis,h=u.rootGroup,f=u._contextNodeData,g=h.transformPoint(l,c),_=1/0;try{for(var m=__values$m(f),y=m.next();!y.done;y=m.next()){var v=y.value;try{for(var C=(o=void 0,__values$m(v.nodeData)),E=C.next();!E.done;E=C.next()){var b,S=E.value,w=S.point,O=void 0===w?{}:w,P=O.x,T=void 0===P?NaN:P,R=O.y,D=void 0===R?NaN:R;if(!isNaN(T)&&!isNaN(D))if((null==d?void 0:d.inRange(T))&&(null==p?void 0:p.inRange(D)))(b=Math.max(Math.pow(g.x-T,2)+Math.pow(g.y-D,2),0))<_&&(_=b,a=S)}}catch(t){o={error:t}}finally{try{E&&!E.done&&(r=C.return)&&r.call(C)}finally{if(o)throw o.error}}}}catch(t){e={error:t}}finally{try{y&&!y.done&&(n=m.return)&&n.call(m)}finally{if(e)throw e.error}}if(a)return{datum:a,distance:b=Math.max(Math.sqrt(_)-(null!==(s=null===(i=a.point)||void 0===i?void 0:i.size)&&void 0!==s?s:0),0)}},e.prototype.pickNodeMainAxisFirst=function(t,e){var n,o,r,i,s,a,l=t.x,c=t.y,u=this,d=u.xAxis,p=u.yAxis,h=u.rootGroup,f=u._contextNodeData,g=[d,p].filter((function(t){return t instanceof CategoryAxis})).map((function(t){return t.direction}));if(!e||0!==g.length){var _=__read$J(g,1)[0],m=void 0===_?ChartAxisDirection.X:_,y=h.transformPoint(l,c),v=m===ChartAxisDirection.X?[y.x,y.y]:[y.y,y.x],C=[1/0,1/0],E=void 0;try{for(var b=__values$m(f),S=b.next();!S.done;S=b.next()){var w=S.value;try{for(var O=(r=void 0,__values$m(w.nodeData)),P=O.next();!P.done;P=O.next()){var T=P.value,R=T.point,D=void 0===R?{}:R,x=D.x,M=void 0===x?NaN:x,A=D.y,L=void 0===A?NaN:A;if(!isNaN(M)&&!isNaN(L))if((null==d?void 0:d.inRange(M))&&(null==p?void 0:p.inRange(L))){for(var I=m===ChartAxisDirection.X?[M,L]:[L,M],N=!0,k=0;k<I.length;k++){var F=Math.abs(I[k]-v[k]);if(F>C[k]){N=!1;break}F<C[k]&&(C[k]=F,C.fill(1/0,k+1,C.length))}N&&(E=T)}}}catch(t){r={error:t}}finally{try{P&&!P.done&&(i=O.return)&&i.call(O)}finally{if(r)throw r.error}}}}catch(t){n={error:t}}finally{try{S&&!S.done&&(o=b.return)&&o.call(b)}finally{if(n)throw n.error}}if(E)return{datum:E,distance:Math.max(Math.sqrt(Math.pow(C[0],2)+Math.pow(C[1],2))-(null!==(a=null===(s=E.point)||void 0===s?void 0:s.size)&&void 0!==a?a:0),0)}}},e.prototype.toggleSeriesItem=function(e,n){this.seriesItemEnabled.size>0?(this.seriesItemEnabled.set(e,n),this.nodeDataRefresh=!0):t.prototype.toggleSeriesItem.call(this,e,n)},e.prototype.isEnabled=function(){var e,n;if(this.seriesItemEnabled.size>0){try{for(var o=__values$m(this.seriesItemEnabled),r=o.next();!r.done;r=o.next()){if(__read$J(r.value,2)[1])return!0}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return!1}return t.prototype.isEnabled.call(this)},e.prototype.isPathOrSelectionDirty=function(){return!1},e.prototype.getLabelData=function(){return[]},e.prototype.isAnySeriesVisible=function(){var t,e;try{for(var n=__values$m(this.seriesItemEnabled.values()),o=n.next();!o.done;o=n.next()){if(o.value)return!0}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return!1},e.prototype.validateXYData=function(t,e,n,o,r,i,s,a){var l;if(void 0===a&&(a=1),"integrated"===(null===(l=this.chart)||void 0===l?void 0:l.mode))return!0;if(!o||!r||0===n.length||this.seriesItemEnabled.size>0&&!this.isAnySeriesVisible())return!0;var c=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),t.some(e===n?function(t){return isContinuous(t)}:function(t){return c(t,e+1,n)})},u=o.scale instanceof ContinuousScale,d=r.scale instanceof ContinuousScale,p=!0;return u&&!c(i)&&(Logger.warnOnce("the number axis has no numeric data supplied for xKey: ["+t+"]."),p=!1),d&&!c(s,0,a-1)&&(Logger.warnOnce("the number axis has no numeric data supplied for yKey: ["+e+"]."),p=!1),p},e.prototype.updatePaths=function(t){return __awaiter$d(this,void 0,void 0,(function(){return __generator$d(this,(function(e){return t.paths.forEach((function(t){return t.visible=!1})),[2]}))}))},e.prototype.updatePathNodes=function(t){return __awaiter$d(this,void 0,void 0,(function(){return __generator$d(this,(function(t){return[2]}))}))},e.prototype.updateHighlightSelectionItem=function(t){return __awaiter$d(this,void 0,void 0,(function(){var e,n,o,r,i;return __generator$d(this,(function(s){return e=this.opts.hasMarkers,n=t.item,o=t.highlightSelection,r=n?[n]:[],e?(i=o,[2,this.updateMarkerSelection({nodeData:r,markerSelection:i,seriesIdx:-1})]):[2,this.updateDatumSelection({nodeData:r,datumSelection:o,seriesIdx:-1})]}))}))},e.prototype.updateHighlightSelectionLabel=function(t){return __awaiter$d(this,void 0,void 0,(function(){var e,n,o;return __generator$d(this,(function(r){return e=t.item,n=t.highlightLabelSelection,o=e?[e]:[],[2,this.updateLabelSelection({labelData:o,labelSelection:n,seriesIdx:-1})]}))}))},e.prototype.updateDatumSelection=function(t){return __awaiter$d(this,void 0,void 0,(function(){return __generator$d(this,(function(e){return[2,t.datumSelection]}))}))},e.prototype.updateDatumNodes=function(t){return __awaiter$d(this,void 0,void 0,(function(){return __generator$d(this,(function(t){return[2]}))}))},e.prototype.updateMarkerSelection=function(t){return __awaiter$d(this,void 0,void 0,(function(){return __generator$d(this,(function(e){return[2,t.markerSelection]}))}))},e.prototype.updateMarkerNodes=function(t){return __awaiter$d(this,void 0,void 0,(function(){return __generator$d(this,(function(t){return[2]}))}))},e}(Series),CartesianSeriesMarker=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e}return __extends$2i(e,t),__decorate$1A([Validate(OPT_FUNCTION),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"formatter",void 0),e}(SeriesMarker);function sleep(t){return new Promise((function(e){setTimeout((function(){return e(void 0)}),t)}))}var __decorate$1z=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Overlay=function(){function t(t,e){this.renderer=void 0,this.text=void 0,this.className=t,this.parentElement=e}return t.prototype.show=function(t){var e,n,o=this.element;if(this.element||((o=document.createElement("div")).className=this.className,this.element=o),o.style.position="absolute",o.style.left=t.x+"px",o.style.top=t.y+"px",o.style.width=t.width+"px",o.style.height=t.height+"px",this.renderer)this.element.innerHTML=this.renderer();else{var r=document.createElement("div");r.style.alignItems="center",r.style.boxSizing="border-box",r.style.display="flex",r.style.justifyContent="center",r.style.margin="8px",r.style.height="100%",r.style.font="12px Verdana, sans-serif",r.innerText=null!==(e=this.text)&&void 0!==e?e:"No data to display",o.append(r)}null===(n=this.parentElement)||void 0===n||n.append(o)},t.prototype.hide=function(){var t;null===(t=this.element)||void 0===t||t.remove(),this.element=void 0},__decorate$1z([Validate(OPT_FUNCTION)],t.prototype,"renderer",void 0),__decorate$1z([Validate(OPT_STRING)],t.prototype,"text",void 0),t}(),ChartOverlays=function(t){this.noData=new Overlay("ag-chart-no-data-overlay",t)},__read$I=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$n=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$I(arguments[e]));return t},__values$l=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Listeners=function(){function t(){this.registeredListeners={}}return t.prototype.addListener=function(t,e){var n,o=Symbol(t);return this.registeredListeners[t]||(this.registeredListeners[t]=[]),null===(n=this.registeredListeners[t])||void 0===n||n.push({symbol:o,handler:e}),o},t.prototype.dispatch=function(t){for(var e,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];return(null!==(e=this.registeredListeners[t])&&void 0!==e?e:[]).map((function(t){return t.handler.apply(t,__spread$n(n))}))},t.prototype.cancellableDispatch=function(t,e){for(var n,o,r,i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=null!==(r=this.registeredListeners[t])&&void 0!==r?r:[],l=[];try{for(var c=__values$l(a),u=c.next();!u.done;u=c.next()){var d=u.value;if(e())break;l.push(d.handler.apply(d,__spread$n(i)))}}catch(t){n={error:t}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}return l},t.prototype.reduceDispatch=function(t,e){for(var n,o,r,i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=null!==(r=this.registeredListeners[t])&&void 0!==r?r:[],l=void 0;try{for(var c=__values$l(a),u=c.next();!u.done;u=c.next()){var d=u.value;l=d.handler.apply(d,__spread$n(i)),i=e.apply(void 0,__spread$n([l],i))}}catch(t){n={error:t}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}return l},t.prototype.removeListener=function(t){for(var e in this.registeredListeners){var n=this.registeredListeners[e],o=null==n?void 0:n.findIndex((function(e){return e.symbol===t}));null!=o&&o>=0&&(null==n||n.splice(o,1)),null!=o&&0===(null==n?void 0:n.length)&&delete this.registeredListeners[e]}},t}(),BaseManager=function(){function t(){this.listeners=new Listeners}return t.prototype.addListener=function(t,e){return this.listeners.addListener(t,e)},t.prototype.removeListener=function(t){this.listeners.removeListener(t)},t}(),__extends$2h=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$C=function(){return __assign$C=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$C.apply(this,arguments)},__awaiter$c=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{l(o.next(t))}catch(t){i(t)}}function a(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((o=o.apply(t,e||[])).next())}))},__generator$c=function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},__values$k=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},WINDOW_EVENT_HANDLERS=["pagehide","mousemove","mouseup","wheel"],EVENT_HANDLERS=["click","dblclick","contextmenu","mousedown","mouseout","mouseenter","touchstart","touchmove","touchend","touchcancel"],CSS="\n.ag-chart-wrapper {\n    touch-action: none;\n}\n",InteractionManager=function(t){function e(n,o){var r,i,s,a;void 0===o&&(o=document);var l=t.call(this)||this;l.eventHandler=function(t){return l.processEvent(t)},l.mouseDown=!1,l.touchDown=!1,l.rootElement=o.body,l.element=n;try{for(var c=__values$k(EVENT_HANDLERS),u=c.next();!u.done;u=c.next()){(h=u.value).startsWith("touch")?n.addEventListener(h,l.eventHandler,{passive:!0}):n.addEventListener(h,l.eventHandler)}}catch(t){r={error:t}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}try{for(var d=__values$k(WINDOW_EVENT_HANDLERS),p=d.next();!p.done;p=d.next()){var h=p.value;window.addEventListener(h,l.eventHandler)}}catch(t){s={error:t}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(s)throw s.error}}if(e.interactionDocuments.indexOf(o)<0){var f=document.createElement("style");f.innerHTML=CSS,document.head.insertBefore(f,document.head.querySelector("style")),e.interactionDocuments.push(o)}return l}return __extends$2h(e,t),e.prototype.destroy=function(){var t,e,n,o;try{for(var r=__values$k(WINDOW_EVENT_HANDLERS),i=r.next();!i.done;i=r.next()){var s=i.value;window.removeEventListener(s,this.eventHandler)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}try{for(var a=__values$k(EVENT_HANDLERS),l=a.next();!l.done;l=a.next()){s=l.value;this.element.removeEventListener(s,this.eventHandler)}}catch(t){n={error:t}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}},e.prototype.processEvent=function(t){var e=this.decideInteractionEventTypes(t);e.length>0&&this.dispatchEvent(t,e)},e.prototype.dispatchEvent=function(t,e){return __awaiter$c(this,void 0,void 0,(function(){var n,o,r,i,s,a,l,c;return __generator$c(this,(function(u){if(null==(n=this.calculateCoordinates(t)))return[2];o=function(e){var o=r.buildEvent(__assign$C(__assign$C({event:t},n),{type:e}));r.listeners.cancellableDispatch(e,(function(){return o.consumed}),o)},r=this;try{for(i=__values$k(e),s=i.next();!s.done;s=i.next())a=s.value,o(a)}catch(t){l={error:t}}finally{try{s&&!s.done&&(c=i.return)&&c.call(i)}finally{if(l)throw l.error}}return[2]}))}))},e.prototype.decideInteractionEventTypes=function(t){switch(t.type){case"click":return["click"];case"dblclick":return["dblclick"];case"contextmenu":return["contextmenu"];case"mousedown":return this.mouseDown=!0,this.dragStartElement=t.target,["drag-start"];case"touchstart":return this.touchDown=!0,this.dragStartElement=t.target,["drag-start"];case"touchmove":case"mousemove":return this.mouseDown||this.touchDown||this.isEventOverElement(t)?this.mouseDown||this.touchDown?["drag"]:["hover"]:[];case"mouseup":return this.mouseDown||this.isEventOverElement(t)?(this.mouseDown=!1,this.dragStartElement=void 0,["drag-end"]):[];case"touchend":return this.touchDown||this.isEventOverElement(t)?(this.touchDown=!1,this.dragStartElement=void 0,["drag-end"]):[];case"mouseout":case"touchcancel":return["leave"];case"mouseenter":var e=t instanceof MouseEvent&&1==(1&t.buttons);return this.mouseDown!==e?(this.mouseDown=e,[e?"drag-start":"drag-end"]):[];case"pagehide":return["page-left"];case"wheel":return["wheel"]}return[]},e.prototype.isEventOverElement=function(t){var e;return t.target===this.element||(null===(e=t.target)||void 0===e?void 0:e.parentElement)===this.element},e.prototype.calculateCoordinates=function(t){var n;if(t instanceof MouseEvent){var o=t.clientX,r=t.clientY,i=t.pageX,s=t.pageY,a=t.offsetX,l=t.offsetY;return this.fixOffsets(t,{clientX:o,clientY:r,pageX:i,pageY:s,offsetX:a,offsetY:l})}if("undefined"!=typeof TouchEvent&&t instanceof TouchEvent){var c=null!==(n=t.touches[0])&&void 0!==n?n:t.changedTouches[0];o=c.clientX,r=c.clientY,i=c.pageX,s=c.pageY;return __assign$C(__assign$C({},e.NULL_COORDS),{clientX:o,clientY:r,pageX:i,pageY:s})}if(t instanceof PageTransitionEvent){if(t.persisted)return;return e.NULL_COORDS}},e.prototype.fixOffsets=function(t,e){var n=function(t){for(var e=0,n=0;t;)e+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent;return{x:e,y:n}};if(null!=this.dragStartElement&&t.target!==this.dragStartElement){var o=n(this.dragStartElement),r=n(t.target);e.offsetX-=o.x-r.x,e.offsetY-=o.y-r.y}return e},e.prototype.buildEvent=function(t){var e=t.type,n=t.event,o=t.clientX,r=t.clientY,i=t.offsetX,s=t.offsetY,a=t.pageX,l=t.pageY;if(!isNumber$4(i)||!isNumber$4(s)){var c=this.element.getBoundingClientRect();i=o-c.left,s=r-c.top}if(!isNumber$4(a)||!isNumber$4(l)){var u=this.rootElement.getBoundingClientRect();a=o-u.left,l=r-u.top}var d={type:e,offsetX:i,offsetY:s,pageX:a,pageY:l,sourceEvent:n,consumed:!1,consume:function(){return d.consumed=!0}};return d},e.interactionDocuments=[],e.NULL_COORDS={clientX:-1/0,clientY:-1/0,pageX:-1/0,pageY:-1/0,offsetX:-1/0,offsetY:-1/0},e}(BaseManager),__read$H=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},CursorManager=function(){function t(t){this.states={},this.element=t}return t.prototype.updateCursor=function(t,e){delete this.states[t],null!=e&&(this.states[t]={style:e}),this.applyStates()},t.prototype.applyStates=function(){var t="default";Object.entries(this.states).reverse().slice(0,1).forEach((function(e){var n=__read$H(e,2);n[0];var o=n[1].style;return t=o})),this.element.style.cursor=t},t}(),__extends$2g=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__read$G=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s};function isEqual$1(t,e){return t===e||(null==t?void 0:t.series)===(null==e?void 0:e.series)&&((null==t?void 0:t.itemId)===(null==e?void 0:e.itemId)&&(null==t?void 0:t.datum)===(null==e?void 0:e.datum))}var HighlightManager=function(t){function e(){var e=t.call(this)||this;return e.states={},e.activeHighlight=void 0,e}return __extends$2g(e,t),e.prototype.updateHighlight=function(t,e){delete this.states[t],null!=e&&(this.states[t]={highlightedDatum:e}),this.applyStates()},e.prototype.getActiveHighlight=function(){return this.activeHighlight},e.prototype.applyStates=function(){var t=this.activeHighlight,e=void 0;if(Object.entries(this.states).reverse().slice(0,1).forEach((function(t){var n=__read$G(t,2);n[0];var o=n[1].highlightedDatum;return e=o})),this.activeHighlight=e,!isEqual$1(t,this.activeHighlight)){var n={type:"highlight-change",previousHighlight:t,currentHighlight:this.activeHighlight};this.listeners.dispatch("highlight-change",n)}},e}(BaseManager),__values$j=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$F=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},TooltipManager=function(){function t(t,e){var n=this;this.states={},this.exclusiveAreas={},this.destroyFns=[],this.tooltip=t;var o=e.addListener("hover",(function(t){return n.checkExclusiveRects(t)}));this.destroyFns.push((function(){return e.removeListener(o)}))}return t.prototype.updateTooltip=function(t,e,n){var o;null==n&&(n=null===(o=this.states[t])||void 0===o?void 0:o.content),this.states[t]={content:n,meta:e},this.applyStates()},t.prototype.updateExclusiveRect=function(t,e){e?this.exclusiveAreas[t]=e:delete this.exclusiveAreas[t]},t.prototype.removeTooltip=function(t){delete this.states[t],this.applyStates()},t.prototype.getTooltipMeta=function(t){var e;return null===(e=this.states[t])||void 0===e?void 0:e.meta},t.prototype.destroy=function(){var t,e;try{for(var n=__values$j(this.destroyFns),o=n.next();!o.done;o=n.next()){(0,o.value)()}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t.prototype.checkExclusiveRects=function(t){var e,n,o;try{for(var r=__values$j(Object.entries(this.exclusiveAreas)),i=r.next();!i.done;i=r.next()){var s=__read$F(i.value,2),a=s[0];if(s[1].containsPoint(t.offsetX,t.offsetY)){o=a;break}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}o!==this.appliedExclusiveArea&&(this.appliedExclusiveArea=o,this.applyStates())},t.prototype.applyStates=function(){var t,e=this,n=this.appliedExclusiveArea?[this.appliedExclusiveArea]:Object.keys(this.states),o=void 0,r=void 0;if(n.reverse().slice(0,1).forEach((function(t){var n,i=null!==(n=e.states[t])&&void 0!==n?n:{},s=i.content,a=i.meta;o=s,r=a})),void 0===r||void 0===o)return this.appliedState=void 0,void this.tooltip.toggle(!1);if((null===(t=this.appliedState)||void 0===t?void 0:t.content)===o){var i=this.tooltip.isVisible();this.tooltip.show(r,void 0,i)}else this.tooltip.show(r,o);this.appliedState={content:o,meta:r}},t}(),__extends$2f=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$B=function(){return __assign$B=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$B.apply(this,arguments)},__values$i=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$E=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s};function isEqual(t,e){var n,o,r,i,s,a,l,c;return t===e||(null===(n=null==t?void 0:t.x)||void 0===n?void 0:n.min)===(null===(o=null==e?void 0:e.x)||void 0===o?void 0:o.min)&&((null===(r=null==t?void 0:t.x)||void 0===r?void 0:r.max)===(null===(i=null==e?void 0:e.x)||void 0===i?void 0:i.max)&&((null===(s=null==t?void 0:t.y)||void 0===s?void 0:s.max)===(null===(a=null==e?void 0:e.y)||void 0===a?void 0:a.max)&&(null===(l=null==t?void 0:t.y)||void 0===l?void 0:l.min)===(null===(c=null==e?void 0:e.y)||void 0===c?void 0:c.min)))}var ZoomManager=function(t){function e(){var e=t.call(this)||this;return e.states={},e.currentZoom=void 0,e}return __extends$2f(e,t),e.prototype.updateZoom=function(t,e){delete this.states[t],null!=e&&(this.states[t]=__assign$B({},e)),this.applyStates()},e.prototype.getZoom=function(){return this.currentZoom},e.prototype.applyStates=function(){var t,e,n=this.currentZoom,o={};try{for(var r=__values$i(Object.entries(this.states)),i=r.next();!i.done;i=r.next()){var s=__read$E(i.value,2),a=(s[0],s[1]),l=a.x,c=a.y;o.x=null!=l?l:o.x,o.y=null!=c?c:o.y}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}if(this.currentZoom=null!=o.x||null!=o.y?o:void 0,!isEqual(n,this.currentZoom)){var u=__assign$B({type:"zoom-change"},null!=n?n:{});this.listeners.dispatch("zoom-change",u)}},e}(BaseManager),__assign$A=function(){return __assign$A=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$A.apply(this,arguments)};function isLayoutStage(t){return"layout-complete"!==t}function isLayoutComplete(t){return"layout-complete"===t}var LayoutService=function(){function t(){this.layoutProcessors=new Listeners,this.listeners=new Listeners}return t.prototype.addListener=function(t,e){if(isLayoutStage(t))return this.layoutProcessors.addListener(t,e);if(isLayoutComplete(t))return this.listeners.addListener(t,e);throw new Error("AG Charts - unsupported listener type: "+t)},t.prototype.removeListener=function(t){this.listeners.removeListener(t),this.layoutProcessors.removeListener(t)},t.prototype.dispatchPerformLayout=function(t,e){var n=this.layoutProcessors.reduceDispatch(t,(function(t,e){var n=t.shrinkRect;return[__assign$A(__assign$A({},e),{shrinkRect:n})]}),e);return null!=n?n:e},t.prototype.dispatchLayoutComplete=function(t){this.listeners.dispatch("layout-complete",t)},t}(),UpdateService=function(){function t(t){this.updateCallback=t}return t.prototype.update=function(t){void 0===t&&(t=ChartUpdateType.FULL),this.updateCallback(t)},t}(),__decorate$1y=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ChartHighlight=function(){function t(){this.range="tooltip"}return __decorate$1y([Validate(STRING_UNION("tooltip","node"))],t.prototype,"range",void 0),t}(),__extends$2e=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$z=function(){return __assign$z=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$z.apply(this,arguments)},__decorate$1x=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__awaiter$b=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{l(o.next(t))}catch(t){i(t)}}function a(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((o=o.apply(t,e||[])).next())}))},__generator$b=function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},__values$h=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$D=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$m=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$D(arguments[e]));return t},Chart=function(t){function e(e,n,o){var r;void 0===e&&(e=window.document);var i=t.call(this)||this;i.id=createId$1(i),i.processedOptions={},i.userOptions={},i.queuedUserOptions=[],i.seriesRoot=new Group({name:i.id+"-Series-root"}),i.extraDebugStats={},i._container=void 0,i.data=[],i.padding=new Padding$1(20),i.seriesAreaPadding=new Padding$1(0),i.title=void 0,i.subtitle=void 0,i.footnote=void 0,i.mode="standalone",i._destroyed=!1,i.modules={},i._pendingFactoryUpdates=[],i._performUpdateNoRenderCount=0,i._performUpdateType=ChartUpdateType.NONE,i.seriesToUpdate=new Set,i.performUpdateTrigger=debouncedCallback((function(t){var e=t.count;return __awaiter$b(i,void 0,void 0,(function(){var t;return __generator$b(this,(function(n){switch(n.label){case 0:if(this._destroyed)return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.performUpdate(e)];case 2:return n.sent(),[3,4];case 3:return t=n.sent(),this._lastPerformUpdateError=t,Logger.error("update error",t),[3,4];case 4:return[2]}}))}))})),i._axes=[],i._series=[],i.lastInteractionEvent=void 0,i.pointerScheduler=debouncedAnimationFrame((function(){i.lastInteractionEvent&&i.handlePointer(i.lastInteractionEvent),i.lastInteractionEvent=void 0})),i.onSeriesNodeClick=function(t){var e=__assign$z(__assign$z({},t),{type:"seriesNodeClick"});Object.defineProperty(e,"series",{enumerable:!1,get:function(){return t.series}}),i.fireEvent(e)},i.onSeriesNodeDoubleClick=function(t){var e=__assign$z(__assign$z({},t),{type:"seriesNodeDoubleClick"});i.fireEvent(e)};var s=null==o?void 0:o.scene,a=null!==(r=null==o?void 0:o.element)&&void 0!==r?r:e.createElement("div"),l=null==o?void 0:o.container,c=new Group({name:"root"});return c.visible=!1,c.append(i.seriesRoot),i.axisGroup=new Group({name:"Axes",layer:!0,zIndex:Layers.AXIS_ZINDEX}),c.appendChild(i.axisGroup),i.element=a,a.classList.add("ag-chart-wrapper"),a.style.position="relative",i.scene=null!=s?s:new Scene({document:e,overrideDevicePixelRatio:n}),i.debug=!1,i.scene.debug.consoleLog=!1,i.scene.root=c,i.scene.container=a,i.autoSize=!0,i.interactionManager=new InteractionManager(a),i.cursorManager=new CursorManager(a),i.highlightManager=new HighlightManager,i.zoomManager=new ZoomManager,i.layoutService=new LayoutService,i.updateService=new UpdateService((function(t){return void 0===t&&(t=ChartUpdateType.FULL),i.update(t)})),SizeMonitor.observe(i.element,(function(t){var e=t.width,n=t.height;i.autoSize&&(0===e&&0===n||e===i.width&&n===i.height||(i._lastAutoSize=[e,n],i.resize(e,n)))})),i.layoutService.addListener("start-layout",(function(t){return i.positionPadding(t.shrinkRect)})),i.layoutService.addListener("start-layout",(function(t){return i.positionCaptions(t.shrinkRect)})),i.tooltip=new Tooltip(i.scene.canvas.element,e,e.body),i.tooltipManager=new TooltipManager(i.tooltip,i.interactionManager),i.legend=new Legend(i,i.interactionManager,i.cursorManager,i.highlightManager,i.tooltipManager,i.layoutService),i.overlays=new ChartOverlays(i.element),i.highlight=new ChartHighlight,i.container=l,i.interactionManager.addListener("click",(function(t){return i.onClick(t)})),i.interactionManager.addListener("dblclick",(function(t){return i.onDoubleClick(t)})),i.interactionManager.addListener("hover",(function(t){return i.onMouseMove(t)})),i.interactionManager.addListener("leave",(function(t){return i.onLeave(t)})),i.interactionManager.addListener("page-left",(function(){return i.destroy()})),i.interactionManager.addListener("wheel",(function(){return i.disablePointer()})),i.zoomManager.addListener("zoom-change",(function(t){return i.update(ChartUpdateType.PROCESS_DATA,{forceNodeDataRefresh:!0})})),i.highlightManager.addListener("highlight-change",(function(t){return i.changeHighlightDatum(t)})),i}return __extends$2e(e,t),e.prototype.getOptions=function(){var t,e=this.queuedUserOptions;return jsonMerge([null!==(t=e[e.length-1])&&void 0!==t?t:this.userOptions])},Object.defineProperty(e.prototype,"container",{get:function(){return this._container},set:function(t){if(this._container!==t){var e=this.element.parentNode;null!=e&&e.removeChild(this.element),t&&!this.destroyed&&t.appendChild(this.element),this._container=t}},enumerable:!1,configurable:!0}),e.prototype.autoSizeChanged=function(t){var e=this.element.style;if(t){if(e.display="block",e.width="100%",e.height="100%",!this._lastAutoSize)return;this.resize(this._lastAutoSize[0],this._lastAutoSize[1])}else e.display="inline-block",e.width="auto",e.height="auto"},e.prototype.download=function(t,e){this.scene.download(t,e)},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),e.prototype.addModule=function(t){if(null!=this.modules[t.optionsKey])throw new Error("AG Charts - module already initialised: "+t.optionsKey);var e=t.initialiseModule(this.getModuleContext());this.modules[t.optionsKey]=e,this[t.optionsKey]=e.instance},e.prototype.removeModule=function(t){var e,n;null===(n=null===(e=this.modules[t.optionsKey])||void 0===e?void 0:e.instance)||void 0===n||n.destroy(),delete this.modules[t.optionsKey],delete this[t.optionsKey]},e.prototype.isModuleEnabled=function(t){return null!=this.modules[t.optionsKey]},e.prototype.getModuleContext=function(){var t=this;return{scene:t.scene,interactionManager:t.interactionManager,zoomManager:t.zoomManager,cursorManager:t.cursorManager,highlightManager:t.highlightManager,tooltipManager:t.tooltipManager,layoutService:t.layoutService,updateService:t.updateService}},e.prototype.destroy=function(t){var e,n;if(!this._destroyed){var o=null==t?void 0:t.keepTransferableResources,r=void 0;this._performUpdateType=ChartUpdateType.NONE,this._pendingFactoryUpdates.splice(0),this.tooltipManager.destroy(),this.tooltip.destroy(),this.legend.destroy(),SizeMonitor.unobserve(this.element);try{for(var i=__values$h(Object.entries(this.modules)),s=i.next();!s.done;s=i.next()){var a=__read$D(s.value,2),l=a[0];a[1].instance.destroy(),delete this.modules[l],delete this[l]}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return this.interactionManager.destroy(),o?(this.scene.strip(),r={container:this.container,scene:this.scene,element:this.element}):(this.scene.destroy(),this.container=void 0),this.series.forEach((function(t){return t.destroy()})),this.series=[],this.axes.forEach((function(t){return t.destroy()})),this.axes=[],this._destroyed=!0,r}},e.prototype.log=function(t){this.debug&&Logger.debug(t)},e.prototype.disablePointer=function(t){void 0===t&&(t=!1),t||this.tooltipManager.removeTooltip(this.id),this.highlightManager.updateHighlight(this.id),this.lastInteractionEvent&&(this.lastInteractionEvent=void 0)},e.prototype.requestFactoryUpdate=function(t){var e=this._pendingFactoryUpdates,n=e.length;0===n?(e.push(t),this._processCallbacks()):e.splice(1,n-1,t)},e.prototype._processCallbacks=function(){return __awaiter$b(this,void 0,void 0,(function(){var t,e;return __generator$b(this,(function(n){switch(n.label){case 0:t=this._pendingFactoryUpdates,n.label=1;case 1:return t.length>0?this.updatePending?[4,sleep(1)]:[3,3]:[3,7];case 2:return n.sent(),[3,1];case 3:return n.trys.push([3,5,,6]),[4,t[0]()];case 4:return n.sent(),[3,6];case 5:return e=n.sent(),Logger.error("update error",e),[3,6];case 6:return t.shift(),[3,1];case 7:return[2]}}))}))},Object.defineProperty(e.prototype,"performUpdateType",{get:function(){return this._performUpdateType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updatePending",{get:function(){return this._performUpdateType!==ChartUpdateType.NONE||null!=this.lastInteractionEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastPerformUpdateError",{get:function(){return this._lastPerformUpdateError},enumerable:!1,configurable:!0}),e.prototype.awaitUpdateCompletion=function(){return __awaiter$b(this,void 0,void 0,(function(){return __generator$b(this,(function(t){switch(t.label){case 0:return[4,this.performUpdateTrigger.await()];case 1:return t.sent(),[2]}}))}))},e.prototype.update=function(t,e){var n,o;void 0===t&&(t=ChartUpdateType.FULL);var r=e||{},i=r.forceNodeDataRefresh,s=void 0!==i&&i,a=r.seriesToUpdate,l=void 0===a?this.series:a;s&&this.series.forEach((function(t){return t.markNodeDataDirty()}));try{for(var c=__values$h(l),u=c.next();!u.done;u=c.next()){var d=u.value;this.seriesToUpdate.add(d)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}t<this._performUpdateType&&(this._performUpdateType=t,this.performUpdateTrigger.schedule())},e.prototype.performUpdate=function(t){var e;return __awaiter$b(this,void 0,void 0,(function(){var n,o,r,i,s,a,l,c;return __generator$b(this,(function(u){switch(u.label){case 0:switch(o=(n=this)._performUpdateType,r=n.extraDebugStats,i=[performance.now()],o){case ChartUpdateType.FULL:case ChartUpdateType.PROCESS_DATA:return[3,1];case ChartUpdateType.PERFORM_LAYOUT:return[3,3];case ChartUpdateType.SERIES_UPDATE:return[3,5];case ChartUpdateType.TOOLTIP_RECALCULATION:return[3,7];case ChartUpdateType.SCENE_RENDER:return[3,8];case ChartUpdateType.NONE:return[3,10]}return[3,11];case 1:return[4,this.processData()];case 2:u.sent(),this.disablePointer(!0),i.push(performance.now()),u.label=3;case 3:return this.autoSize&&!this._lastAutoSize&&this._performUpdateNoRenderCount++<5?(this._performUpdateType=ChartUpdateType.PERFORM_LAYOUT,this.performUpdateTrigger.schedule(),[3,11]):(this._performUpdateNoRenderCount=0,[4,this.performLayout()]);case 4:u.sent(),this.handleOverlays(),i.push(performance.now()),u.label=5;case 5:return s=this.seriesRect,a=__spread$m(this.seriesToUpdate).map((function(t){return t.update({seriesRect:s})})),this.seriesToUpdate.clear(),[4,Promise.all(a)];case 6:u.sent(),i.push(performance.now()),u.label=7;case 7:l=this.tooltipManager.getTooltipMeta(this.id),o<ChartUpdateType.SERIES_UPDATE&&"hover"===(null===(e=null==l?void 0:l.event)||void 0===e?void 0:e.type)&&this.handlePointer(l.event),u.label=8;case 8:return[4,this.scene.render({debugSplitTimes:i,extraDebugStats:r})];case 9:u.sent(),this.extraDebugStats={},u.label=10;case 10:this._performUpdateType=ChartUpdateType.NONE,u.label=11;case 11:return c=performance.now(),this.log({chart:this,durationMs:Math.round(100*(c-i[0]))/100,count:t,performUpdateType:ChartUpdateType[o]}),[2]}}))}))},Object.defineProperty(e.prototype,"axes",{get:function(){return this._axes},set:function(t){var e=this,n=new Set;this._axes.forEach((function(t){t.detachAxis(e.axisGroup),n.add(t)})),this._axes=t.filter((function(t){return!t.linkedTo})).concat(t.filter((function(t){return t.linkedTo}))),this._axes.forEach((function(t){t.attachAxis(e.axisGroup),n.delete(t)})),n.forEach((function(t){return t.destroy()}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"series",{get:function(){return this._series},set:function(t){var e=this;this.removeAllSeries(),t.forEach((function(t){return e.addSeries(t)}))},enumerable:!1,configurable:!0}),e.prototype.addSeries=function(t,e){var n=this.series,o=this.seriesRoot;if(n.indexOf(t)<0){var r=e?n.indexOf(e):-1;return r>=0?(n.splice(r,0,t),o.insertBefore(t.rootGroup,e.rootGroup)):(n.push(t),o.append(t.rootGroup)),this.initSeries(t),!0}return!1},e.prototype.initSeries=function(t){t.chart=this,t.highlightManager=this.highlightManager,t.data||(t.data=this.data),this.addSeriesListeners(t)},e.prototype.freeSeries=function(t){t.chart=void 0,t.removeEventListener("nodeClick",this.onSeriesNodeClick),t.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick)},e.prototype.removeAllSeries=function(){var t=this;this.series.forEach((function(e){t.freeSeries(e),t.seriesRoot.removeChild(e.rootGroup)})),this._series=[]},e.prototype.addSeriesListeners=function(t){this.hasEventListener("seriesNodeClick")&&t.addEventListener("nodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&t.addEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick)},e.prototype.updateAllSeriesListeners=function(){var t=this;this.series.forEach((function(e){e.removeEventListener("nodeClick",t.onSeriesNodeClick),e.removeEventListener("nodeDoubleClick",t.onSeriesNodeDoubleClick),t.addSeriesListeners(e)}))},e.prototype.assignSeriesToAxes=function(){var t=this;this.axes.forEach((function(e){e.boundSeries=t.series.filter((function(t){return(e.direction===ChartAxisDirection.X?t.xAxis:t.yAxis)===e}))}))},e.prototype.assignAxesToSeries=function(t){var e=this;void 0===t&&(t=!1);var n={};this.axes.forEach((function(t){var e=t.direction;(n[e]||(n[e]=[])).push(t)})),this.series.forEach((function(o){o.directions.forEach((function(r){if(!(r===ChartAxisDirection.X?o.xAxis:o.yAxis)||t){var i=n[r];if(i){var s=o.getKeys(r),a=e.findMatchingAxis(i,o.getKeys(r));a?r===ChartAxisDirection.X?o.xAxis=a:o.yAxis=a:Logger.warn("no matching axis for direction ["+r+"] and keys ["+s+"]; check series and axes configuration.")}else Logger.warn("no available axis for direction ["+r+"]; check series and axes configuration.")}}))}))},e.prototype.findMatchingAxis=function(t,e){var n,o,r,i;try{for(var s=__values$h(t),a=s.next();!a.done;a=s.next()){var l=a.value,c=l.keys;if(!c.length)return l;if(e)try{for(var u=(r=void 0,__values$h(e)),d=u.next();!d.done;d=u.next()){var p=d.value;if(c.indexOf(p)>=0)return l}}catch(t){r={error:t}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}}}catch(t){n={error:t}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}},e.prototype.resize=function(t,e){t&&e&&Number.isFinite(t)&&Number.isFinite(e)&&this.scene.resize(t,e)&&(this.disablePointer(),this.update(ChartUpdateType.PERFORM_LAYOUT,{forceNodeDataRefresh:!0}))},e.prototype.processData=function(){return __awaiter$b(this,void 0,void 0,(function(){return __generator$b(this,(function(t){switch(t.label){case 0:return(this.axes.length>0||this.series.some((function(t){return t instanceof CartesianSeries})))&&(this.assignAxesToSeries(!0),this.assignSeriesToAxes()),[4,Promise.all(this.series.map((function(t){return t.processData()})))];case 1:return t.sent(),[4,this.updateLegend()];case 2:return t.sent(),[2]}}))}))},e.prototype.placeLabels=function(){var t,e,n=[],o=[];try{for(var r=__values$h(this.series),i=r.next();!i.done;i=r.next()){var s=i.value;if(s.visible){var a=s.getLabelData();a&&isPointLabelDatum(a[0])&&(o.push(a),n.push(s))}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}var l=this.seriesRect,c=l&&o.length>0?placeLabels(o,{x:0,y:0,width:l.width,height:l.height}):[];return new Map(c.map((function(t,e){return[n[e],t]})))},e.prototype.updateLegend=function(){return __awaiter$b(this,void 0,void 0,(function(){var t,e;return __generator$b(this,(function(n){return t=[],this.series.filter((function(t){return t.showInLegend})).forEach((function(e){t.push.apply(t,__spread$m(e.getLegendData()))})),(e=this.legend.item.label.formatter)&&t.forEach((function(t){return t.label.text=e({get id(){return Logger.warnOnce("LegendLabelFormatterParams.id is deprecated, use seriesId instead"),t.seriesId},itemId:t.itemId,value:t.label.text,seriesId:t.seriesId})})),this.legend.data=t,[2]}))}))},e.prototype.performLayout=function(){return __awaiter$b(this,void 0,void 0,(function(){var t,e,n,o;return __generator$b(this,(function(r){return this.scene.root.visible=!0,t=this.scene,e=t.width,n=t.height,o=new BBox(0,0,e,n),o=this.layoutService.dispatchPerformLayout("start-layout",{shrinkRect:o}).shrinkRect,[2,o=this.layoutService.dispatchPerformLayout("before-series",{shrinkRect:o}).shrinkRect]}))}))},e.prototype.positionPadding=function(t){var e=this.padding;return t.shrink(e.left,"left"),t.shrink(e.top,"top"),t.shrink(e.right,"right"),t.shrink(e.bottom,"bottom"),{shrinkRect:t}},e.prototype.positionCaptions=function(t){var e=this,n=e.title,o=e.subtitle,r=e.footnote,i=t.clone(),s=function(t){var e,n=i.y;t.node.x=i.x+i.width/2,t.node.y=n,t.node.textBaseline="top";var o=t.node.computeBBox(),r=Math.ceil(o.y-n+o.height+(null!==(e=t.spacing)&&void 0!==e?e:0));i.shrink(r,"top")};return n&&(n.node.visible=n.enabled,n.node.visible&&s(n)),o&&(o.node.visible=void 0!==n&&n.enabled&&o.enabled,o.node.visible&&s(o)),r&&(r.node.visible=r.enabled,r.node.visible&&function(t){var e,n=i.y+i.height;t.node.x=i.x+i.width/2,t.node.y=n,t.node.textBaseline="bottom";var o=t.node.computeBBox(),r=Math.ceil(n-o.y+(null!==(e=t.spacing)&&void 0!==e?e:0));i.shrink(r,"bottom")}(r)),{shrinkRect:i}},e.prototype.getSeriesRect=function(){return this.seriesRect},e.prototype.pickSeriesNode=function(t,e,n){var o,r,i,s,a=performance.now(),l=e?[SeriesNodePickMode.EXACT_SHAPE_MATCH]:void 0,c=__spread$m(this.series).reverse(),u=void 0;try{for(var d=__values$h(c),p=d.next();!p.done;p=d.next()){var h=p.value;if(h.visible&&h.rootGroup.visible){var f=null!==(i=h.pickNode(t,l))&&void 0!==i?i:{},g=f.match,_=f.distance;if(g&&null!=_&&((!u||u.distance>_)&&_<=(null!=n?n:1/0)&&(u={series:h,distance:_,datum:g}),0===_))break}}}catch(t){o={error:t}}finally{try{p&&!p.done&&(r=d.return)&&r.call(d)}finally{if(o)throw o.error}}return this.extraDebugStats.pickSeriesNode=Math.round((null!==(s=this.extraDebugStats.pickSeriesNode)&&void 0!==s?s:0)+(performance.now()-a)),u},e.prototype.onMouseMove=function(t){this.lastInteractionEvent=t,this.pointerScheduler.schedule(),this.extraDebugStats.mouseX=t.offsetX,this.extraDebugStats.mouseY=t.offsetY,this.update(ChartUpdateType.SCENE_RENDER)},e.prototype.onLeave=function(t){this.tooltip.pointerLeftOntoTooltip(t)||this.disablePointer()},e.prototype.handlePointer=function(t){var e=this,n=this.lastPick,o=this.hoverRect,r=t.offsetX,i=t.offsetY,s=function(t){void 0===t&&(t=!1),n&&e.disablePointer(t)};(null==o?void 0:o.containsPoint(r,i))?(this.handlePointerTooltip(t,s),this.handlePointerNode(t)):s()},e.prototype.handlePointerTooltip=function(t,e){var n,o,r,i=this.lastPick,s=this.tooltip.range,a=t.pageX,l=t.pageY,c=t.offsetX,u=t.offsetY;"number"==typeof s&&Number.isFinite(s)&&(r=s);var d=this.pickSeriesNode({x:c,y:u},"exact"===s,r);if(!d)return this.tooltipManager.updateTooltip(this.id),void("tooltip"===this.highlight.range&&e(!0));var p,h="node"===this.highlight.range||!i||i.datum!==d.datum;h?(p=d.series.getTooltipHtml(d.datum),"tooltip"===this.highlight.range&&this.highlightManager.updateHighlight(this.id,d.datum)):i&&(i.event=t.sourceEvent);var f=null!=r,g=this.tooltip.enabled&&d.series.tooltip.enabled,_="exact"===s&&0===d.distance,m=g&&("nearest"===s||f||_)&&(!h||void 0!==p),y={xOffset:d.datum.series.tooltip.position.xOffset,yOffset:d.datum.series.tooltip.position.yOffset},v=this.mergePointerDatum({pageX:a,pageY:l,offsetX:c,offsetY:u,event:t,position:y},d.datum);v.enableInteraction=null!==(o=null===(n=d.series.tooltip.interaction)||void 0===n?void 0:n.enabled)&&void 0!==o&&o,m&&this.tooltipManager.updateTooltip(this.id,v,p)},e.prototype.handlePointerNode=function(t){var e=this;this.checkSeriesNodeRange(t,(function(t,n){(t.hasEventListener("nodeClick")||t.hasEventListener("nodeDoubleClick"))&&e.cursorManager.updateCursor("chart","pointer"),"node"===e.highlight.range&&e.highlightManager.updateHighlight(e.id,n)}))||(this.cursorManager.updateCursor("chart"),"node"===this.highlight.range&&this.highlightManager.updateHighlight(this.id))},e.prototype.onClick=function(t){this.checkSeriesNodeClick(t)?this.update(ChartUpdateType.SERIES_UPDATE):this.fireEvent({type:"click",event:t.sourceEvent})},e.prototype.onDoubleClick=function(t){this.checkSeriesNodeDoubleClick(t)?this.update(ChartUpdateType.SERIES_UPDATE):this.fireEvent({type:"doubleClick",event:t.sourceEvent})},e.prototype.checkSeriesNodeClick=function(t){return this.checkSeriesNodeRange(t,(function(e,n){return e.fireNodeClickEvent(t.sourceEvent,n)}))},e.prototype.checkSeriesNodeDoubleClick=function(t){return this.checkSeriesNodeRange(t,(function(e,n){return e.fireNodeDoubleClickEvent(t.sourceEvent,n)}))},e.prototype.checkSeriesNodeRange=function(t,e){var n,o=this.pickSeriesNode({x:t.offsetX,y:t.offsetY},!1),r=null==o?void 0:o.datum,i=null==r?void 0:r.series.nodeClickRange;if(r&&"nearest"===i)return e(r.series,r),!0;"number"==typeof i&&Number.isFinite(i)&&(n=i);var s=this.pickSeriesNode({x:t.offsetX,y:t.offsetY},"exact"===i,n);if(!s)return!1;var a=null!=n,l="exact"===i&&0===s.distance;return!(!a&&!l)&&(e(s.series,s.datum),!0)},e.prototype.mergePointerDatum=function(t,e){if("node"===e.series.tooltip.position.type&&e.nodeMidPoint){var n=e.nodeMidPoint,o=n.x,r=n.y,i=this.scene.canvas,s=e.series.rootGroup.inverseTransformPoint(o,r),a=i.element.getBoundingClientRect();return __assign$z(__assign$z({},t),{pageX:Math.round(a.left+window.scrollX+s.x),pageY:Math.round(a.top+window.scrollY+s.y),offsetX:Math.round(s.x),offsetY:Math.round(s.y)})}return t},e.prototype.changeHighlightDatum=function(t){var e=new Set,n=t.currentHighlight||{},o=n.series,r=void 0===o?void 0:o,i=n.datum,s=t.previousHighlight||{},a=s.series,l=void 0===a?void 0:a,c=s.datum;l&&e.add(l),r&&e.add(r),(null==l?void 0:l.cursor)&&c&&this.cursorManager.updateCursor(l.id),(null==r?void 0:r.cursor)&&i&&this.cursorManager.updateCursor(r.id,r.cursor),this.lastPick=t.currentHighlight?{datum:t.currentHighlight}:void 0,null==r||null==l?this.update(ChartUpdateType.SERIES_UPDATE):this.update(ChartUpdateType.SERIES_UPDATE,{seriesToUpdate:e})},e.prototype.waitForUpdate=function(t){return void 0===t&&(t=5e3),__awaiter$b(this,void 0,void 0,(function(){var e;return __generator$b(this,(function(n){switch(n.label){case 0:e=performance.now(),n.label=1;case 1:if(!(this._pendingFactoryUpdates.length>0||this.updatePending))return[3,3];if(performance.now()-e>t)throw new Error("waitForUpdate() timeout reached.");return[4,sleep(5)];case 2:return n.sent(),[3,1];case 3:return[4,this.awaitUpdateCompletion()];case 4:return n.sent(),[2]}}))}))},e.prototype.handleOverlays=function(){this.handleNoDataOverlay()},e.prototype.handleNoDataOverlay=function(){var t=!this.series.some((function(t){return t.hasData()})),e=this.getSeriesRect();t&&e?this.overlays.noData.show(e):this.overlays.noData.hide()},__decorate$1x([ActionOnSet({newValue:function(t){this.scene.debug.consoleLog=t}})],e.prototype,"debug",void 0),__decorate$1x([ActionOnSet({newValue:function(t){var e;null===(e=this.series)||void 0===e||e.forEach((function(e){return e.data=t}))}})],e.prototype,"data",void 0),__decorate$1x([ActionOnSet({newValue:function(t){this.autoSize=!1,this.resize(t,this.height)}})],e.prototype,"width",void 0),__decorate$1x([ActionOnSet({newValue:function(t){this.autoSize=!1,this.resize(this.width,t)}})],e.prototype,"height",void 0),__decorate$1x([ActionOnSet({changeValue:function(t){this.autoSizeChanged(t)}}),Validate(BOOLEAN)],e.prototype,"autoSize",void 0),__decorate$1x([ActionOnSet({newValue:function(t){var e;null===(e=this.scene.root)||void 0===e||e.appendChild(t.node)},oldValue:function(t){var e;null===(e=this.scene.root)||void 0===e||e.removeChild(t.node)}})],e.prototype,"title",void 0),__decorate$1x([ActionOnSet({newValue:function(t){var e;null===(e=this.scene.root)||void 0===e||e.appendChild(t.node)},oldValue:function(t){var e;null===(e=this.scene.root)||void 0===e||e.removeChild(t.node)}})],e.prototype,"subtitle",void 0),__decorate$1x([ActionOnSet({newValue:function(t){var e;null===(e=this.scene.root)||void 0===e||e.appendChild(t.node)},oldValue:function(t){var e;null===(e=this.scene.root)||void 0===e||e.removeChild(t.node)}})],e.prototype,"footnote",void 0),__decorate$1x([Validate(STRING_UNION("standalone","integrated"))],e.prototype,"mode",void 0),e}(Observable),TreeNode=function(){function t(t,e,n){void 0===t&&(t=""),void 0===n&&(n=0),this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=t,this.parent=e,this.depth=e?e.depth+1:0,this.number=n}return t.prototype.getLeftSibling=function(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0},t.prototype.getLeftmostSibling=function(){return this.number>0&&this.parent?this.parent.children[0]:void 0},t.prototype.nextLeft=function(){return this.children?this.children[0]:this.thread},t.prototype.nextRight=function(){return this.children?this.children[this.children.length-1]:this.thread},t.prototype.getSiblings=function(){var t=this;return this.parent?this.parent.children.filter((function(e,n){return n!==t.number})):[]},t}();function ticksToTree(t,e){void 0===e&&(e=!0);var n=new TreeNode,o=0;return e&&t.forEach((function(t){return o=Math.max(o,t.labels.length)})),t.forEach((function(t){if(e)for(;t.labels.length<o;)t.labels.unshift("");insertTick(n,t)})),n}function insertTick(t,e){var n=e.labels.slice().reverse(),o=n.length-1;n.forEach((function(e,n){var r=t.children,i=r.find((function(t){return t.label===e})),s=n!==o;if(i&&s)t=i;else{var a=new TreeNode(e,t);a.number=r.length,r.push(a),s&&(t=a)}}))}function moveSubtree(t,e,n){var o=n/(e.number-t.number);e.change-=o,e.shift+=n,t.change+=o,e.prelim+=n,e.mod+=n}function ancestor(t,e,n){return e.getSiblings().indexOf(t.ancestor)>=0?t.ancestor:n}function executeShifts(t){var e=t.children;if(e)for(var n=0,o=0,r=e.length-1;r>=0;r--){var i=e[r];i.prelim+=n,i.mod+=n,o+=i.change,n+=i.shift+o}}function apportion(t,e,n){var o=t.getLeftSibling();if(o){for(var r=t,i=t,s=o,a=i.getLeftmostSibling(),l=i.mod,c=r.mod,u=s.mod,d=a.mod;s.nextRight()&&i.nextLeft();){s=s.nextRight(),i=i.nextLeft(),a=a.nextLeft(),(r=r.nextRight()).ancestor=t;var p=s.prelim+u-(i.prelim+l)+n;p>0&&(moveSubtree(ancestor(s,t,e),t,p),l+=p,c+=p),u+=s.mod,l+=i.mod,d+=a.mod,c+=r.mod}s.nextRight()&&!r.nextRight()?(r.thread=s.nextRight(),r.mod+=u-c):(i.nextLeft()&&!a.nextLeft()&&(a.thread=i.nextLeft(),a.mod+=l-d),e=t)}return e}function firstWalk(t,e){var n=t.children;if(n.length){var o=n[0];n.forEach((function(t){firstWalk(t,e),o=apportion(t,o,e)})),executeShifts(t);var r=(n[0].prelim+n[n.length-1].prelim)/2;(i=t.getLeftSibling())?(t.prelim=i.prelim+e,t.mod=t.prelim-r):t.prelim=r}else{var i=t.getLeftSibling();t.prelim=i?i.prelim+e:0}}var Dimensions=function(){function t(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}return t.prototype.update=function(t,e){var n=e(t),o=n.x,r=n.y;o>this.right&&(this.right=o),o<this.left&&(this.left=o),r>this.bottom&&(this.bottom=r),r<this.top&&(this.top=r)},t}();function secondWalk(t,e,n){t.x=t.prelim+e,t.y=t.depth,n.update(t),t.children.forEach((function(o){return secondWalk(o,e+t.mod,n)}))}function thirdWalk(t){var e=t.children,n=0;e.forEach((function(t){thirdWalk(t),t.children.length?n+=t.leafCount:n++})),t.leafCount=n,e.length?(t.subtreeLeft=e[0].subtreeLeft,t.subtreeRight=e[t.children.length-1].subtreeRight,t.x=(t.subtreeLeft+t.subtreeRight)/2):(t.subtreeLeft=t.x,t.subtreeRight=t.x)}function treeLayout(t){var e=new TreeLayout;return firstWalk(t,1),secondWalk(t,-t.prelim,e),thirdWalk(t),e}var TreeLayout=function(){function t(){this.dimensions=new Dimensions,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}return t.prototype.update=function(t){this.dimensions.update(t,(function(t){return{x:t.x,y:t.y}})),t.children.length?this.nonLeafNodes.push(t):(this.leafCount++,this.leafNodes.push(t)),t.depth>this.depth&&(this.depth=t.depth),this.nodes.push(t)},t.prototype.resize=function(t,e,n,o,r){void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r=!1);var i=this.leafCount-1,s=this.depth,a=this.dimensions,l=1,c=1;if(t>0&&i){var u=(a.right-a.left)/i;l=t/i/u,r&&(l=-l)}if(e>0&&s){var d=(a.bottom-a.top)/s;c=e/s/d}var p=new Dimensions;this.nodes.forEach((function(t){t.screenX=t.x*l,t.screenY=t.y*c,p.update(t,(function(t){return{x:t.screenX,y:t.screenY}}))}));var h=-p.left,f=-p.top;this.nodes.forEach((function(t){t.screenX+=h+n,t.screenY+=f+o}))},t}(),__extends$2d=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1w=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__read$C=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$l=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$C(arguments[e]));return t},GroupedCategoryAxisLabel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.grid=!1,e}return __extends$2d(e,t),__decorate$1w([Validate(BOOLEAN)],e.prototype,"grid",void 0),e}(AxisLabel),GroupedCategoryAxis=function(t){function e(e){var n=t.call(this,e,new BandScale$5)||this;n.tickScale=new BandScale$5,n.translation={x:0,y:0},n.line=new AxisLine,n.label=new GroupedCategoryAxisLabel,n.labelColor="rgba(87, 87, 87, 1)",n.includeInvisibleDomains=!0;var o=n,r=o.tickLineGroup,i=o.tickLabelGroup,s=o.gridLineGroup,a=o.tickScale,l=o.scale;return l.paddingOuter=.1,l.paddingInner=2*l.paddingOuter,n.requestedRange=l.range.slice(),n.refreshScale(),a.paddingInner=1,a.paddingOuter=0,n.gridLineSelection=Selection.select(s,Line),n.axisLineSelection=Selection.select(r,Line),n.separatorSelection=Selection.select(r,Line),n.labelSelection=Selection.select(i,Text),n}return __extends$2d(e,t),Object.defineProperty(e.prototype,"range",{get:function(){return this.requestedRange.slice()},set:function(t){this.requestedRange=t.slice(),this.updateRange()},enumerable:!1,configurable:!0}),e.prototype.updateRange=function(){var t=this,e=t.requestedRange,n=t.visibleRange,o=t.scale,r=(e[1]-e[0])/(n[1]-n[0]),i=r*n[0],s=e[0]-i;this.tickScale.range=o.range=[s,s+r],this.resizeTickTree()},e.prototype.resizeTickTree=function(){var t=this.scale,e=t.domain.length?[t.convert(t.domain[0]),t.convert(t.domain[t.domain.length-1])]:t.range,n=this.tickTreeLayout,o=this.lineHeight;n&&n.resize(Math.abs(e[1]-e[0]),n.depth*o,(Math.min(e[0],e[1])||0)+(t.bandwidth||0)/2,-n.depth*o,e[1]-e[0]<0)},Object.defineProperty(e.prototype,"lineHeight",{get:function(){return 1.5*this.label.fontSize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gridLength",{get:function(){return this._gridLength},set:function(t){(this._gridLength&&!t||!this._gridLength&&t)&&(this.gridLineSelection.clear(),this.labelSelection.clear()),this._gridLength=t},enumerable:!1,configurable:!0}),e.prototype.calculateDomain=function(){var t,e=this.direction,n=this.boundSeries,o=[],r=void 0;n.filter((function(t){return t.visible})).forEach((function(t){if(e===ChartAxisDirection.X)if(void 0===r){var n=t.getDomain(e);o.push(n),r="number"==typeof n[0]}else r&&o.push(t.getDomain(e));else o.push(t.getDomain(e))}));var i=(t=new Array).concat.apply(t,__spread$l(o)),s=extent$4(i)||i;this.dataDomain=this.normaliseDataDomain(s)},e.prototype.normaliseDataDomain=function(t){var e=t.filter((function(t,e,n){return n.indexOf(t)===e})),n=ticksToTree(e);this.tickTreeLayout=treeLayout(n);var o=e.slice();return o.push(""),this.tickScale.domain=o,this.resizeTickTree(),e},e.prototype.update=function(t){var e=this;this.calculateDomain();var n=this,o=n.scale,r=n.label,i=n.label.parallel,s=n.tickScale,a=n.requestedRange;o.domain=this.dataDomain;var l=o.range[0],c=o.range[1],u=Math.abs(c-l)/o.domain.length||0,d=toRadians$1(this.rotation),p=Math.abs(Math.cos(d))<1e-8;this.updatePosition();var h=this.title;h&&(h.node.visible=!1);var f=this.lineHeight,g=this.tickTreeLayout,_=o.ticks(),m=g?g.nodes:[],y=!!g&&g.depth>1,v=s.ticks(),C=r.mirrored?1:-1,E=calculateLabelRotation({rotation:r.rotation,parallel:i,regularFlipRotation:normalizeAngle360(d-Math.PI/2),parallelFlipRotation:normalizeAngle360(d)}),b=E.autoRotation,S=E.labelRotation,w=E.parallelFlipFlag,O=this.gridLineSelection.update(this.gridLength?v:[]),P=this.labelSelection.update(m),T=r.formatter,R=new Map,D=0;P.each((function(t,e,n){t.fontStyle=r.fontStyle,t.fontWeight=r.fontWeight,t.fontSize=r.fontSize,t.fontFamily=r.fontFamily,t.fill=r.color,t.textBaseline=-1===w?"bottom":"hanging",t.textAlign="center",t.translationX=e.screenY-.25*r.fontSize,t.translationY=e.screenX,0===n?h&&h.enabled&&_.length>0?(t.visible=!0,t.text=h.text,t.fontSize=h.fontSize,t.fontStyle=h.fontStyle,t.fontWeight=h.fontWeight,t.fontFamily=h.fontFamily,t.textBaseline="hanging"):t.visible=!1:(t.text=T?T({value:String(e.label),index:n}):String(e.label),t.visible=e.screenX>=a[0]&&e.screenX<=a[1]);var o=t.computeBBox();R.set(t.id,o),o.width>D&&(D=o.width)}));var x=C*r.padding,M=this.label.grid,A=[];P.each((function(t,n,o){if(t.x=x,t.rotationCenterX=x,n.children.length){t.translationX-=D-f+e.label.padding;var r=n.leafCount*u;(i=R.get(t.id))&&i.width>r?t.visible=!1:t.rotation=p?b:-Math.PI/2}else{var i;t.rotation=S,t.textAlign="end",t.textBaseline="middle",(i=R.get(t.id))&&i.height>u&&(t.visible=!1)}if(n.parent&&y){var s=n.children.length?n.screenX-n.leafCount*u/2:n.screenX-u/2;if(n.children.length){var a=-D-2*e.label.padding+n.screenY;A.push({y:s,x1:a+f,x2:a,toString:function(){return String(o)}})}else(n.number!==n.children.length-1||M)&&A.push({y:s,x1:0,x2:-D-2*e.label.padding,toString:function(){return String(o)}})}}));var L=0;A.forEach((function(t){return L=Math.min(L,t.x2)})),A.push({y:Math.max(l,c),x1:0,x2:L,toString:function(){return String(A.length)}});var I=this.separatorSelection.update(A);I.each((function(t,n){t.x1=n.x1,t.x2=n.x2,t.y1=n.y,t.y2=n.y,t.visible=n.y>=a[0]-1e-7&&n.y<=a[1]+1e-7,t.stroke=e.tick.color,t.fill=void 0,t.strokeWidth=1})),this.gridLineSelection=O,this.labelSelection=P;for(var N=g?g.depth+1:1,k=[],F=0;F<N;F++)k.push(F);if(this.axisLineSelection.update(k).each((function(t,n,o){var r=o>0?-D-2*e.label.padding-(o-1)*f:0;t.x1=r,t.x2=r,t.y1=a[0],t.y2=a[1],t.strokeWidth=e.line.width,t.stroke=e.line.color,t.visible=_.length>0&&(0===o||M&&y)})),this.gridLength){var G=this.gridStyle,B=G.length;O.each((function(t,n,o){var r=Math.round(s.convert(n));t.x1=0,t.x2=-C*e.gridLength,t.y1=r,t.y2=r,t.visible=r>=a[0]&&r<=a[1];var i=G[o%B];t.stroke=i.stroke,t.strokeWidth=e.tick.width,t.lineDash=i.lineDash,t.fill=void 0}))}return t},e.className="GroupedCategoryAxis",e.type="groupedCategory",__decorate$1w([Validate(OPT_COLOR_STRING)],e.prototype,"labelColor",void 0),e}(ChartAxis),__extends$2c=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$y=function(){return __assign$y=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$y.apply(this,arguments)},__awaiter$a=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{l(o.next(t))}catch(t){i(t)}}function a(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((o=o.apply(t,e||[])).next())}))},__generator$a=function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},__values$g=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$B=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},directions=["top","right","bottom","left"],CartesianChart=function(t){function e(e,n,o){void 0===e&&(e=window.document);var r=t.call(this,e,n,o)||this;r.paired=!0,r._lastAxisWidths={top:0,bottom:0,left:0,right:0},r._lastVisibility={crossLines:!0,series:!0};var i=r.scene.root;return r.legend.attachLegend(i),r}return __extends$2c(e,t),e.prototype.performLayout=function(){return __awaiter$a(this,void 0,void 0,(function(){var e,n,o,r,i,s,a,l,c,u;return __generator$a(this,(function(d){switch(d.label){case 0:return[4,t.prototype.performLayout.call(this)];case 1:return e=d.sent(),n=this.updateAxes(e),o=n.seriesRect,r=n.visibility,i=n.clipSeries,this.seriesRoot.visible=r.series,this.seriesRect=o,this.series.forEach((function(t){t.rootGroup.translationX=Math.floor(o.x),t.rootGroup.translationY=Math.floor(o.y)})),a=(s=this).seriesRoot,l=s.seriesAreaPadding,c=o.clone().grow(l),20,u=c.clone().grow(20),this.hoverRect=u,this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},series:{rect:o,paddedRect:c,hoverRect:u,visible:r.series},axes:this.axes.map((function(t){return __assign$y({id:t.id},t.getLayoutState())}))}),i?a.setClipRectInGroupCoordinateSpace(c):a.setClipRectInGroupCoordinateSpace(),[2,e]}}))}))},e.prototype.updateAxes=function(t){var e,n,o,r=__assign$y({},this._lastAxisWidths),i=__assign$y({},this._lastVisibility),s=new Set(this._axes.map((function(t){return t.position})));try{for(var a=__values$g(Object.keys(r)),l=a.next();!l.done;l=a.next()){var c=l.value;s.has(c)||delete r[c]}}catch(t){e={error:t}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}var u,d=function(t,e){return!Object.keys(t).some((function(t){return null==r[t]}))&&(i.crossLines===e.crossLines&&i.series===e.series&&Object.entries(r).every((function(e){var n=__read$B(e,2),o=n[0],r=n[1],i=t[o];return null==r&&null==i||r===i})))},p={},h={},f=!1,g=null===(o=this.seriesRect)||void 0===o?void 0:o.clone(),_=0;do{Object.assign(r,p),Object.assign(i,h);var m=this.updateAxesPass(r,t.clone(),g);if(u=m.axisWidths,p=Object.entries(u).reduce((function(t,e){var n=__read$B(e,2),o=n[0],r=n[1];return r&&Math.abs(r)===1/0&&(r=0),t[o]=null!=r?Math.ceil(r):r,t}),{}),h=m.visibility,f=m.clipSeries,g=m.seriesRect,_++>10){Logger.warn("unable to find stable axis layout.");break}}while(!d(p,h));return this.axes.forEach((function(e){if(e.setCrossLinesVisible(i.crossLines),g)switch(e.clipGrid(g.x,g.y,g.width+5,g.height+5),e.position){case"left":case"right":e.clipTickLines(t.x,g.y,t.width+5,g.height+5);break;case"top":case"bottom":e.clipTickLines(g.x,t.y,g.width+5,t.height+5)}})),this._lastAxisWidths=r,this._lastVisibility=i,{seriesRect:g,visibility:i,clipSeries:f}},e.prototype.updateAxesPass=function(t,e,n){var o=this,r=this.axes,i={},s={},a={series:!0,crossLines:!0},l=!1,c={},u=this.applySeriesPadding(e),d=n?this.buildCrossLinePadding(n,t):{},p=this.buildAxisBound(u,t,d,a),h=this.buildSeriesRect(p,t);return r.forEach((function(e){var n,r,a=e.position,u=o.calculateAxisDimensions({axis:e,seriesRect:h,axisWidths:t,newAxisWidths:s,primaryTickCounts:c,clipSeries:l,addInterAxisPadding:(null!==(n=i[a])&&void 0!==n?n:0)>0}),d=u.clipSeries,f=u.axisThickness,g=u.axisOffset;i[a]=(null!==(r=i[a])&&void 0!==r?r:0)+1,l=l||d,o.positionAxis({axis:e,axisBound:p,axisOffset:g,axisThickness:f,axisWidths:t,primaryTickCounts:c,seriesRect:h})})),{clipSeries:l,seriesRect:h,axisWidths:s,visibility:a}},e.prototype.buildCrossLinePadding=function(t,e){var n,o,r,i={};this.axes.forEach((function(e){e.crossLines&&e.crossLines.forEach((function(e){e.calculatePadding(i,t)}))}));try{for(var s=__values$g(Object.entries(i)),a=s.next();!a.done;a=s.next()){var l=__read$B(a.value,2),c=l[0],u=l[1],d=void 0===u?0:u;i[c]=Math.max(d-(null!==(r=e[c])&&void 0!==r?r:0),0)}}catch(t){n={error:t}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}return i},e.prototype.applySeriesPadding=function(t){var e=this,n=t.clone(),o=this.axes.slice().reverse();return directions.forEach((function(t){var r=e.seriesAreaPadding[t],i=o.find((function(e){return e.position===t}));i?i.seriesAreaPadding=r:n.shrink(r,t)})),n},e.prototype.buildAxisBound=function(t,e,n,o){var r,i,s,a,l=t.clone(),c=n.top,u=void 0===c?0:c,d=n.right,p=void 0===d?0:d,h=n.bottom,f=void 0===h?0:h,g=n.left,_=void 0===g?0:g,m=_+p,y=u+f,v=(null!==(r=e.left)&&void 0!==r?r:0)+(null!==(i=e.right)&&void 0!==i?i:0)+m,C=(null!==(s=e.top)&&void 0!==s?s:0)+(null!==(a=e.bottom)&&void 0!==a?a:0)+y;return l.width<=v||l.height<=C?(o.crossLines=!1,o.series=!1,l):(l.x+=_,l.y+=u,l.width-=m,l.height-=y,l)},e.prototype.buildSeriesRect=function(t,e){var n=t.clone(),o=e.top,r=e.bottom,i=e.left,s=e.right;return n.x+=null!=i?i:0,n.y+=null!=o?o:0,n.width-=(null!=i?i:0)+(null!=s?s:0),n.height-=(null!=o?o:0)+(null!=r?r:0),n.width=Math.max(0,n.width),n.height=Math.max(0,n.height),n},e.prototype.clampToOutsideSeriesRect=function(t,e,n,o){var r=t.x,i=t.y,s=[r,i,r+t.width,i+t.height];return(1===o?Math.min:Math.max)(e,s[("x"===n?0:1)+(1===o?0:2)])},e.prototype.calculateAxisDimensions=function(t){var e,n,o,r,i,s,a=t.axis,l=t.seriesRect,c=t.axisWidths,u=t.newAxisWidths,d=t.primaryTickCounts,p=t.addInterAxisPadding,h=t.clipSeries,f=a.position,g=a.direction;a.label.mirrored=["top","right"].includes(f);var _=null!==(e=u[f])&&void 0!==e?e:0;switch(f){case"top":case"bottom":a.range=[0,l.width],a.gridLength=l.height;break;case"right":case"left":a.range=function(t){return t instanceof CategoryAxis||t instanceof GroupedCategoryAxis?[0,l.height]:[l.height,0]}(a),a.gridLength=l.width}var m=null===(n=this.zoomManager.getZoom())||void 0===n?void 0:n[a.direction],y=null!=m?m:{},v=y.min,C=void 0===v?0:v,E=y.max,b=void 0===E?1:E;a.visibleRange=[C,b],!h&&(a.visibleRange[0]>0||a.visibleRange[1]<1)&&(h=!0);var S=a.nice?d[g]:void 0;S=a.update(S),d[g]=null!==(o=d[g])&&void 0!==o?o:S;var w=0;if(a.thickness)w=a.thickness;else{var O=a.computeBBox();w=g===ChartAxisDirection.X?O.height:O.width}return p&&(w+=15),w=Math.ceil(w),u[f]=(null!==(r=u[f])&&void 0!==r?r:0)+w,a.gridPadding=(null!==(i=c[f])&&void 0!==i?i:0)-(null!==(s=u[f])&&void 0!==s?s:0),{clipSeries:h,axisThickness:w,axisOffset:_}},e.prototype.positionAxis=function(t){var e,n,o,r,i=t.axis,s=t.axisBound,a=t.axisWidths,l=t.seriesRect,c=t.axisOffset,u=t.axisThickness;switch(i.position){case"top":i.translation.x=s.x+(null!==(e=a.left)&&void 0!==e?e:0),i.translation.y=this.clampToOutsideSeriesRect(l,s.y+1+c+u,"y",1);break;case"bottom":i.translation.x=s.x+(null!==(n=a.left)&&void 0!==n?n:0),i.translation.y=this.clampToOutsideSeriesRect(l,s.y+s.height+1-u-c,"y",-1);break;case"left":i.translation.y=s.y+(null!==(o=a.top)&&void 0!==o?o:0),i.translation.x=this.clampToOutsideSeriesRect(l,s.x+c+u,"x",1);break;case"right":i.translation.y=s.y+(null!==(r=a.top)&&void 0!==r?r:0),i.translation.x=this.clampToOutsideSeriesRect(l,s.x+s.width-u-c,"x",-1)}i.updatePosition()},e.className="CartesianChart",e.type="cartesian",e}(Chart),__extends$2b=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),PolarSeries=function(t){function e(e){var n,o=e.useLabelLayer,r=void 0!==o&&o,i=t.call(this,{useLabelLayer:r,pickModes:[SeriesNodePickMode.EXACT_SHAPE_MATCH],directionKeys:(n={},n[ChartAxisDirection.X]=["angleKey"],n[ChartAxisDirection.Y]=["radiusKey"],n)})||this;return i.centerX=0,i.centerY=0,i.radius=0,i}return __extends$2b(e,t),e.prototype.getLabelData=function(){return[]},e.prototype.computeLabelsBBox=function(t){return null},e}(Series),__extends$2a=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__awaiter$9=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{l(o.next(t))}catch(t){i(t)}}function a(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((o=o.apply(t,e||[])).next())}))},__generator$9=function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},PolarChart=function(t){function e(e,n,o){void 0===e&&(e=window.document);var r=t.call(this,e,n,o)||this;r.padding=new Padding$1(40);var i=r.scene.root;return r.legend.attachLegend(i),r}return __extends$2a(e,t),e.prototype.performLayout=function(){return __awaiter$9(this,void 0,void 0,(function(){var e,n,o;return __generator$9(this,(function(r){switch(r.label){case 0:return[4,t.prototype.performLayout.call(this)];case 1:return e=r.sent(),n=e.clone(),this.computeSeriesRect(e),this.computeCircle(),20,o=e.clone().grow(20),this.hoverRect=o,this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},series:{rect:n,paddedRect:e,hoverRect:o,visible:!0},axes:[]}),[2,e]}}))}))},e.prototype.computeSeriesRect=function(t){var e=this.seriesAreaPadding;t.shrink(e.left,"left"),t.shrink(e.top,"top"),t.shrink(e.right,"right"),t.shrink(e.bottom,"bottom"),this.seriesRect=t},e.prototype.computeCircle=function(){var t=this,e=this.seriesRect,n=this.series.filter((function(t){return t instanceof PolarSeries})),o=function(t,e,o){n.forEach((function(n){n.centerX=t,n.centerY=e,n.radius=o}))},r=e.x+e.width/2,i=e.y+e.height/2,s=Math.max(0,Math.min(e.width,e.height)/2),a=s;o(r,i,a);var l=function(e){var l=(void 0===e?{}:e).hideWhenNecessary,c=void 0!==l&&l,u=n.map((function(t){return t.computeLabelsBBox({hideWhenNecessary:c})})).filter((function(t){return null!=t}));if(0!==u.length){var d=BBox.merge(u),p=t.refineCircle(d,a);o(p.centerX,p.centerY,p.radius),p.radius!==a&&(a=p.radius)}else o(r,i,s)};l(),l(),l(),l({hideWhenNecessary:!0}),l({hideWhenNecessary:!0})},e.prototype.refineCircle=function(t,e){var n=this.seriesRect,o=-e,r=-e,i=e,s=e,a=Math.max(0,o-t.x),l=Math.max(0,r-t.y),c=Math.max(0,t.x+t.width-i),u=Math.max(0,t.y+t.height-s),d=n.width-a-c,p=n.height-l-u,h=Math.min(d,p)/2,f=.5*n.width/2,g=.5*n.height/2,_=Math.min(f,g);if(h<_){var m=a+c;if(2*(h=_)+(l+u)>n.height){var y=n.height-2*h;2*Math.min(l,u)>y?(l=y/2,u=y/2):l>u?l=y-u:u=y-l}if(2*h+m>n.width){var v=n.width-2*h;2*Math.min(a,c)>v?(a=v/2,c=v/2):a>c?a=v-c:c=v-a}}var C=a+2*h+c,E=l+2*h+u;return{centerX:n.x+(n.width-C)/2+a+h,centerY:n.y+(n.height-E)/2+l+h,radius:h}},e.className="PolarChart",e.type="polar",e}(Chart),__extends$29=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__awaiter$8=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{l(o.next(t))}catch(t){i(t)}}function a(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((o=o.apply(t,e||[])).next())}))},__generator$8=function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},HierarchyChart=function(t){function e(e,n,o){void 0===e&&(e=window.document);var r=t.call(this,e,n,o)||this;r._data={};var i=r.scene.root;return r.legend.attachLegend(i),r}return __extends$29(e,t),e.prototype.performLayout=function(){return __awaiter$8(this,void 0,void 0,(function(){var e,n,o,r;return __generator$8(this,(function(i){switch(i.label){case 0:return[4,t.prototype.performLayout.call(this)];case 1:return e=i.sent(),n=this.seriesAreaPadding,o=e.clone(),e.shrink(n.left,"left"),e.shrink(n.top,"top"),e.shrink(n.right,"right"),e.shrink(n.bottom,"bottom"),this.seriesRect=e,20,r=e.clone().grow(20),this.hoverRect=r,this.series.forEach((function(t){t.rootGroup.translationX=Math.floor(e.x),t.rootGroup.translationY=Math.floor(e.y),t.update({seriesRect:e})})),this.seriesRoot.setClipRectInGroupCoordinateSpace(new BBox(e.x,e.y,e.width,e.height)),this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},series:{rect:o,paddedRect:e,hoverRect:r,visible:!0},axes:[]}),[2,e]}}))}))},e.className="HierarchyChart",e.type="hierarchy",e}(Chart),__read$A=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},interpolatePattern=/(#\{(.*?)\})/g;function interpolate(t,e,n){return t.replace(interpolatePattern,(function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var r=t[2],i=__read$A(r.split(":"),2),s=i[0],a=i[1],l=e[s];if("number"==typeof l){var c;if(c=a&&n&&n[a]){var u=c,d=u.locales,p=u.options;return l.toLocaleString(d,p)}return String(l)}return l instanceof Date?"string"==typeof(c=a&&n&&n[a])?buildFormatter(c)(l):l.toDateString():"string"==typeof l||l&&l.toString?String(l):""}))}var element=null;function sanitizeHtml(t){return element=element||document.createElement("div"),t?(element.textContent=t,element.innerHTML):""}function calculateNiceSecondaryAxis(t,e){var n=Math.floor(t[0]),o=t[1],r=getTickStep(n=calculateNiceStart(n,o,e),o,e);return[[n,o=n+(e-1)*r],getTicks(n,r,e)]}function calculateNiceStart(t,e,n){var o=Math.abs(e-t)/(n-1),r=Math.floor(Math.log10(o)),i=Math.pow(10,r);return Math.floor(t/i)*i}function getTicks(t,e,n){for(var o=Math.floor(Math.log10(e)),r=e>0&&e<1?Math.abs(o):0,i=Math.pow(10,r),s=new NumericTicks(r),a=0;a<n;a++){var l=t+e*a;s[a]=Math.round(l*i)/i}return s}function getTickStep(t,e,n){return calculateNextNiceStep((e-t)/(n-1))}function calculateNextNiceStep(t){var e=Math.floor(Math.log10(t)),n=Math.pow(10,e),o=t/n*10;return o>0&&o<=1?n/10:o>1&&o<=2?2*n/10:o>1&&o<=5?5*n/10:o>5&&o<=10?10*n/10:o>10&&o<=20?20*n/10:o>20&&o<=40?40*n/10:o>40&&o<=50?50*n/10:o>50&&o<=100?100*n/10:o}var __extends$28=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1v=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__read$z=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},NumberAxis=function(t){function e(e,n){void 0===n&&(n=new LinearScale$1);var o=t.call(this,e,n)||this;return o.min=NaN,o.max=NaN,n.strictClampByDefault=!0,o}return __extends$28(e,t),e.prototype.normaliseDataDomain=function(t){var e=this.min,n=this.max;return t.length>2&&(t=extent$4(t)||[NaN,NaN]),isNaN(e)||(t=[e,t[1]]),isNaN(n)||(t=[t[0],n]),t[0]>t[1]&&(t=[]),t},e.prototype.formatDatum=function(t){return"number"==typeof t?t.toFixed(2):(Logger.warnOnce("data contains Date objects which are being plotted against a number axis, please only use a number axis for numbers."),String(t))},e.prototype.updateSecondaryAxisTicks=function(t){if(null==this.dataDomain)throw new Error("AG Charts - dataDomain not calculated, cannot perform tick calculation.");var e=__read$z(calculateNiceSecondaryAxis(this.dataDomain,null!=t?t:0),2),n=e[0],o=e[1];return this.scale.nice=!1,this.scale.domain=n,this.scale.update(),o},e.className="NumberAxis",e.type="number",__decorate$1v([Validate(AND(NUMBER_OR_NAN(),LESS_THAN("max"))),Default(NaN)],e.prototype,"min",void 0),__decorate$1v([Validate(AND(NUMBER_OR_NAN(),GREATER_THAN("min"))),Default(NaN)],e.prototype,"max",void 0),e}(ChartAxis),__extends$27=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1u=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};function NON_ZERO_NUMBER(){return predicateWithMessage((function(t){return"number"==typeof t&&0!==t}),"expecting a non-zero Number")}var LogAxis=function(t){function e(e){var n=t.call(this,e,new LogScale)||this;return n.min=NaN,n.max=NaN,n.scale.strictClampByDefault=!0,n}return __extends$27(e,t),e.prototype.normaliseDataDomain=function(t){var e=this.min,n=this.max;t.length>2&&(t=extent$4(t)||[NaN,NaN]),isNaN(e)||(t=[e,t[1]]),isNaN(n)||(t=[t[0],n]);var o=t[0]>t[1],r=t[0]<0&&t[1]>0,i=0===t[0]&&0===t[1];return(o||r||i)&&(t=[],r?Logger.warn("the data domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."):i&&Logger.warn("the data domain has 0 extent, no data is rendered.")),0===t[0]&&(t[0]=1),0===t[1]&&(t[1]=-1),t},Object.defineProperty(e.prototype,"base",{get:function(){return this.scale.base},set:function(t){this.scale.base=t},enumerable:!1,configurable:!0}),e.className="LogAxis",e.type="log",__decorate$1u([Validate(AND(NUMBER_OR_NAN(),LESS_THAN("max"),NON_ZERO_NUMBER())),Default(NaN)],e.prototype,"min",void 0),__decorate$1u([Validate(AND(NUMBER_OR_NAN(),GREATER_THAN("min"),NON_ZERO_NUMBER())),Default(NaN)],e.prototype,"max",void 0),e}(NumberAxis),__assign$x=function(){return __assign$x=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$x.apply(this,arguments)},__values$f=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$y=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$k=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$y(arguments[e]));return t};function extendDomain(t,e){var n,o;void 0===e&&(e=[1/0,-1/0]);try{for(var r=__values$f(t),i=r.next();!i.done;i=r.next()){var s=i.value;"number"==typeof s&&(s<e[0]&&(e[0]=s),s>e[1]&&(e[1]=s))}}catch(t){n={error:t}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return e}function sumValues(t,e){var n,o;void 0===e&&(e=[0,0]);try{for(var r=__values$f(t),i=r.next();!i.done;i=r.next()){var s=i.value;"number"==typeof s&&(s<0&&(e[0]+=s),s>0&&(e[1]+=s))}}catch(t){n={error:t}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return e}function toKeyString(t){return t.map((function(t){return null==t||"number"==typeof t||"string"==typeof t||"boolean"==typeof t?t:"object"==typeof t?JSON.stringify(t):t})).join("-")}var SMALLEST_KEY_INTERVAL={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:function(){var t=NaN;return function(e,n){var o=n.keys[0],r=Math.abs(o-t);return t=o,!isNaN(r)&&r>0&&r<e?r:e}}},SUM_VALUE_EXTENT={type:"processor",property:"sumValueExtent",calculate:function(t){var e,n,o,r,i,s,a=__spread$k(null!==(r=null===(o=t.domain.sumValues)||void 0===o?void 0:o[0])&&void 0!==r?r:[0,0]);try{for(var l=__values$f(null!==(s=null===(i=t.domain.sumValues)||void 0===i?void 0:i.slice(1))&&void 0!==s?s:[]),c=l.next();!c.done;c=l.next()){var u=__read$y(c.value,2),d=u[0],p=u[1];d<a[0]&&(a[0]=d),p>a[1]&&(a[1]=p)}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return a}},INVALID_VALUE=Symbol("invalid"),DataModel=function(){function t(t){var e,n,o,r,i,s=this,a=t.props,l=!0;try{for(var c=__values$f(a),u=c.next();!u.done;u=c.next()){var d=u.value;if("key"===d.type&&!l)throw new Error("AG Charts - internal config error: keys must come before values.");"value"===d.type&&l&&(l=!1)}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}this.opts=__assign$x({dataVisible:!0},t),this.keys=a.filter((function(t){return"key"===t.type})).map((function(t,e){return __assign$x(__assign$x({},t),{index:e,missing:!1})})),this.values=a.filter((function(t){return"value"===t.type})).map((function(t,e){return __assign$x(__assign$x({},t),{index:e,missing:!1})})),this.sums=a.filter((function(t){return"sum"===t.type})),this.reducers=a.filter((function(t){return"reducer"===t.type})),this.processors=a.filter((function(t){return"processor"===t.type}));try{for(var p=__values$f(null!==(i=this.sums)&&void 0!==i?i:[]),h=p.next();!h.done;h=p.next()){var f=h.value.properties;if(0!==f.length&&!f.some((function(t){return s.values.some((function(e){return e.property===t}))})))throw new Error("AG Charts - internal config error: sum properties must match defined properties ("+f+").")}}catch(t){o={error:t}}finally{try{h&&!h.done&&(r=p.return)&&r.call(p)}finally{if(o)throw o.error}}}return t.prototype.resolveProcessedDataIndex=function(t){var e=this.resolveProcessedDataDef(t);if("key"===(null==e?void 0:e.type)||"value"===(null==e?void 0:e.type))return{type:e.type,index:e.index}},t.prototype.resolveProcessedDataDef=function(t){var e=this.keys,n=this.values,o=__spread$k(e,n).find((function(e){return e.property===t}));if(o)return o},t.prototype.getDomain=function(t,e){var n=this.resolveProcessedDataIndex(t);return n?e.domain["key"===n.type?"keys":"values"][n.index]:[]},t.prototype.processData=function(t){var e,n,o,r,i=this,s=i.opts,a=s.groupByKeys,l=s.normaliseTo,c=i.sums,u=i.reducers,d=i.processors,p=performance.now();try{for(var h=__values$f(__spread$k(this.keys,this.values)),f=h.next();!f.done;f=h.next()){(y=f.value).missing=!1}}catch(t){e={error:t}}finally{try{f&&!f.done&&(n=h.return)&&n.call(h)}finally{if(e)throw e.error}}if(!a||0!==this.keys.length){var g=this.extractData(t);a&&(g=this.groupData(g)),c.length>0&&this.sumData(g),"number"==typeof l&&this.normaliseData(g),u.length>0&&this.reduceData(g),d.length>0&&this.postProcessData(g);try{for(var _=__values$f(__spread$k(this.keys,this.values)),m=_.next();!m.done;m=_.next()){var y;(y=m.value).missing&&Logger.warnOnce("the key '"+y.property+"' was not found in at least one data element.")}}catch(t){o={error:t}}finally{try{m&&!m.done&&(r=_.return)&&r.call(_)}finally{if(o)throw o.error}}var v=performance.now();return g.time=v-p,g}},t.prototype.extractData=function(t){var e,n,o,r,i,s,a=this,l=a.keys,c=a.values,u=a.opts.dataVisible,d=this.initDataDomainProcessor(),p=d.dataDomain,h=d.processValue,f=new Array(u?t.length:0),g=0;try{t:for(var _=__values$f(t),m=_.next();!m.done;m=_.next()){var y=m.value,v=u?new Array(l.length):void 0,C=0;try{for(var E=(o=void 0,__values$f(l)),b=E.next();!b.done;b=E.next()){var S=h(b.value,y);if(S===INVALID_VALUE)continue t;v&&(v[C++]=S)}}catch(t){o={error:t}}finally{try{b&&!b.done&&(r=E.return)&&r.call(E)}finally{if(o)throw o.error}}var w=u?new Array(c.length):void 0,O=0;try{for(var P=(i=void 0,__values$f(c)),T=P.next();!T.done;T=P.next()){var R=h(T.value,y);if(R===INVALID_VALUE)continue t;w&&(w[O++]=R)}}catch(t){i={error:t}}finally{try{T&&!T.done&&(s=P.return)&&s.call(P)}finally{if(i)throw i.error}}u&&(f[g++]={datum:y,keys:v,values:w})}}catch(t){e={error:t}}finally{try{m&&!m.done&&(n=_.return)&&n.call(_)}finally{if(e)throw e.error}}f.length=g;var D=function(t){var e=p.get(t.property).domain;return Array.isArray(e)&&e[0]>e[1]?[]:__spread$k(e)};return{type:"ungrouped",data:f,domain:{keys:l.map((function(t){return D(t)})),values:c.map((function(t){return D(t)}))},indices:{keys:l.reduce((function(t,e){var n=e.property,o=e.index;return t[n]=o,t}),{}),values:c.reduce((function(t,e){var n=e.property,o=e.index;return t[n]=o,t}),{})},defs:{keys:l,values:c},time:0}},t.prototype.groupData=function(t){var e,n,o,r,i=new Map;try{for(var s=__values$f(t.data),a=s.next();!a.done;a=s.next()){var l=a.value,c=l.keys,u=l.values,d=l.datum,p=toKeyString(c);if(i.has(p)){var h=i.get(p);h.values.push(u),h.datum.push(d)}else i.set(p,{keys:c,values:[u],datum:[d]})}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}var f=new Array(i.size),g=0;try{for(var _=__values$f(i.entries()),m=_.next();!m.done;m=_.next()){var y=__read$y(m.value,2)[1];c=y.keys,u=y.values,d=y.datum;f[g++]={keys:c,values:u,datum:d}}}catch(t){o={error:t}}finally{try{m&&!m.done&&(r=_.return)&&r.call(_)}finally{if(o)throw o.error}}return __assign$x(__assign$x({},t),{type:"grouped",data:f})},t.prototype.sumData=function(t){var e,n,o,r,i,s,a,l=this.values,c=this.sums;if(c){var u=c.map((function(){return[1/0,-1/0]})),d=c.map((function(t){return t.properties.map((function(t){return l.findIndex((function(e){return e.property===t}))}))}));try{for(var p=__values$f(t.data),h=p.next();!h.done;h=p.next()){var f=h.value,g=f.values;null!==(a=f.sumValues)&&void 0!==a||(f.sumValues=new Array(d.length)),"ungrouped"===t.type&&(g=[g]);var _=0;try{for(var m=(o=void 0,__values$f(d)),y=m.next();!y.done;y=m.next()){var v=y.value,C=extendDomain([]),E=function(t){var e=sumValues(v.map((function(e){return t[e]})));e&&extendDomain(e,C)};try{for(var b=(i=void 0,__values$f(g)),S=b.next();!S.done;S=b.next()){E(S.value)}}catch(t){i={error:t}}finally{try{S&&!S.done&&(s=b.return)&&s.call(b)}finally{if(i)throw i.error}}extendDomain(C,u[_]),f.sumValues[_++]=C}}catch(t){o={error:t}}finally{try{y&&!y.done&&(r=m.return)&&r.call(m)}finally{if(o)throw o.error}}}}catch(t){e={error:t}}finally{try{h&&!h.done&&(n=p.return)&&n.call(p)}finally{if(e)throw e.error}}t.domain.sumValues=u}},t.prototype.normaliseData=function(t){var e,n,o,r,i,s,a,l,c,u,d,p,h,f,g,_=this,m=_.sums,y=_.values,v=_.opts.normaliseTo;if(null!=v)for(var C=t.domain.sumValues,E=m.map((function(t){return t.properties.map((function(t){return y.findIndex((function(e){return e.property===t}))}))})),b=function(t,e){var n=t*v/e;return n>=0?Math.min(v,n):Math.max(-v,n)},S=0;S<m.length;S++){var w=null==C?void 0:C[S];if(null!=w){var O=-1/0;try{for(var P=(e=void 0,__values$f(w)),T=P.next();!T.done;T=P.next()){var R=T.value;O<(U=Math.abs(R))&&(O=U)}}catch(t){e={error:t}}finally{try{T&&!T.done&&(n=P.return)&&n.call(P)}finally{if(e)throw e.error}}var D=0;try{for(var x=(o=void 0,__values$f(w)),M=x.next();!M.done;M=x.next()){M.value;w[D]=b(w[D],O),D++}}catch(t){o={error:t}}finally{try{M&&!M.done&&(r=x.return)&&r.call(x)}finally{if(o)throw o.error}}try{for(var A=(i=void 0,__values$f(t.data)),L=A.next();!L.done;L=A.next()){var I=L.value,N=I.sumValues,k=I.values;"ungrouped"===t.type&&(k=[k]);var F=0;try{for(var G=(a=void 0,__values$f(null!==(g=null==N?void 0:N[S])&&void 0!==g?g:[])),B=G.next();!B.done;B=G.next()){var U;R=B.value;F<(U=Math.abs(R))&&(F=U)}}catch(t){a={error:t}}finally{try{B&&!B.done&&(l=G.return)&&l.call(G)}finally{if(a)throw a.error}}try{for(var j=(c=void 0,__values$f(k)),V=j.next();!V.done;V=j.next()){var W=V.value;try{for(var H=(d=void 0,__values$f(E[S])),$=H.next();!$.done;$=H.next()){var z=$.value;W[z]=b(W[z],F)}}catch(t){d={error:t}}finally{try{$&&!$.done&&(p=H.return)&&p.call(H)}finally{if(d)throw d.error}}}}catch(t){c={error:t}}finally{try{V&&!V.done&&(u=j.return)&&u.call(j)}finally{if(c)throw c.error}}if(null!=N){D=0;try{for(var K=(h=void 0,__values$f(N[S])),Y=K.next();!Y.done;Y=K.next()){Y.value;N[S][D]=b(N[S][D],F),D++}}catch(t){h={error:t}}finally{try{Y&&!Y.done&&(f=K.return)&&f.call(K)}finally{if(h)throw h.error}}}}}catch(t){i={error:t}}finally{try{L&&!L.done&&(s=A.return)&&s.call(A)}finally{if(i)throw i.error}}}}},t.prototype.reduceData=function(t){var e,n,o,r,i,s=this.reducers,a=s.map((function(t){return t.reducer()})),l=s.map((function(t){return t.initialValue}));try{for(var c=__values$f(t.data),u=c.next();!u.done;u=c.next()){var d=u.value,p=0;try{for(var h=(o=void 0,__values$f(a)),f=h.next();!f.done;f=h.next()){var g=f.value;l[p]=g(l[p],d),p++}}catch(t){o={error:t}}finally{try{f&&!f.done&&(r=h.return)&&r.call(h)}finally{if(o)throw o.error}}}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}for(var _=0;_<l.length;_++)null!==(i=t.reduced)&&void 0!==i||(t.reduced={}),t.reduced[s[_].property]=l[_]},t.prototype.postProcessData=function(t){var e,n,o,r=this.processors;try{for(var i=__values$f(r),s=i.next();!s.done;s=i.next()){var a=s.value;null!==(o=t.reduced)&&void 0!==o||(t.reduced={}),t.reduced[a.property]=a.calculate(t)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.initDataDomainProcessor=function(){var t=this.keys,e=this.values,n=new Map,o=function(t,e,n){"category"===e?n.set(t,{type:e,domain:new Set}):n.set(t,{type:e,domain:[1/0,-1/0]})},r=function(r){return void 0===r&&(r=n),t.forEach((function(t){return o(t.property,t.valueType,r)})),e.forEach((function(t){return o(t.property,t.valueType,r)})),r};r();return{dataDomain:n,processValue:function(t,e,o){var i,s;void 0===o&&(o=n);var a=t.property in e,l="missingValue"in t;t.missing||a||l||(t.missing=!0),o.has(t.property)||r(o);var c=a?e[t.property]:t.missingValue;if(a&&!(null===(s=null===(i=t.validation)||void 0===i?void 0:i.call(t,c))||void 0===s||s)){if(!("invalidValue"in t))return INVALID_VALUE;c=t.invalidValue}var u=o.get(t.property);return"category"===(null==u?void 0:u.type)?u.domain.add(c):"range"===(null==u?void 0:u.type)&&(u.domain[0]>c&&(u.domain[0]=c),u.domain[1]<c&&(u.domain[1]=c)),c},initDataDomain:r}},t}(),__extends$26=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1t=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},TimeAxis=function(t){function e(e){var n=t.call(this,e,new TimeScale$1)||this;n.datumFormat="%m/%d/%y, %H:%M:%S",n.min=void 0,n.max=void 0;var o=n.scale;return o.strictClampByDefault=!0,n.refreshScale(),n.datumFormatter=o.tickFormat({specifier:n.datumFormat}),n}return __extends$26(e,t),e.prototype.normaliseDataDomain=function(t){var e=this.min,n=this.max;return"number"==typeof e&&(e=new Date(e)),"number"==typeof n&&(n=new Date(n)),t.length>2&&(t=(extent$4(t)||[0,1e3]).map((function(t){return new Date(t)}))),e instanceof Date&&(t=[e,t[1]]),n instanceof Date&&(t=[t[0],n]),t[0]>t[1]&&(t=[]),t},e.prototype.onLabelFormatChange=function(e,n){n?t.prototype.onLabelFormatChange.call(this,e,n):this.labelFormatter=this.scale.tickFormat({ticks:e})},e.prototype.formatDatum=function(t){return this.datumFormatter(t)},e.prototype.calculatePadding=function(t,e){return 1},e.className="TimeAxis",e.type="time",__decorate$1t([Validate(AND(OPT_DATE_OR_DATETIME_MS,LESS_THAN("max")))],e.prototype,"min",void 0),__decorate$1t([Validate(AND(OPT_DATE_OR_DATETIME_MS,GREATER_THAN("min")))],e.prototype,"max",void 0),e}(ChartAxis),__extends$25=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1s=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__awaiter$7=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{l(o.next(t))}catch(t){i(t)}}function a(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((o=o.apply(t,e||[])).next())}))},__generator$7=function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},__read$x=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$j=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$x(arguments[e]));return t},__values$e=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},AreaSeriesLabel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e}return __extends$25(e,t),__decorate$1s([Validate(OPT_FUNCTION)],e.prototype,"formatter",void 0),e}(Label$1),AreaSeriesTooltip=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e.format=void 0,e}return __extends$25(e,t),__decorate$1s([Validate(OPT_FUNCTION)],e.prototype,"renderer",void 0),__decorate$1s([Validate(OPT_STRING)],e.prototype,"format",void 0),e}(SeriesTooltip),AreaSeriesTag;!function(t){t[t.Fill=0]="Fill",t[t.Stroke=1]="Stroke",t[t.Marker=2]="Marker",t[t.Label=3]="Label"}(AreaSeriesTag||(AreaSeriesTag={}));var AreaSeries=function(t){function e(){var e=t.call(this,{pathsPerSeries:2,pathsZIndexSubOrderOffset:[0,1e3],hasMarkers:!0,renderLayerPerSubSeries:!1,directionKeys:{x:["xKey"],y:["yKeys"]}})||this;e.tooltip=new AreaSeriesTooltip,e.marker=new CartesianSeriesMarker,e.label=new AreaSeriesLabel,e.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],e.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],e.fillOpacity=1,e.strokeOpacity=1,e.lineDash=[0],e.lineDashOffset=0,e._xKey="",e.xName="",e._yKeys=[],e._visibles=[],e.yNames=[],e.strokeWidth=2,e.shadow=void 0;var n=e,o=n.marker,r=n.label;return o.enabled=!1,r.enabled=!1,e}return __extends$25(e,t),Object.defineProperty(e.prototype,"xKey",{get:function(){return this._xKey},set:function(t){this._xKey=t,this.processedData=void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"yKeys",{get:function(){return this._yKeys},set:function(t){areArrayItemsStrictlyEqual(this._yKeys,t)||(this._yKeys=t,this.processedData=void 0,this.processSeriesItemEnabled())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"visibles",{get:function(){return this._visibles},set:function(t){this._visibles=t,this.processSeriesItemEnabled()},enumerable:!1,configurable:!0}),e.prototype.processSeriesItemEnabled=function(){var t=this.seriesItemEnabled,e=this._visibles,n=void 0===e?[]:e;t.clear(),this._yKeys.forEach((function(e,o){var r;return t.set(e,null===(r=n[o])||void 0===r||r)}))},Object.defineProperty(e.prototype,"normalizedTo",{get:function(){return this._normalizedTo},set:function(t){var e=t?Math.abs(t):void 0;this._normalizedTo!==e&&(this._normalizedTo=e)},enumerable:!1,configurable:!0}),e.prototype.processData=function(){return __awaiter$7(this,void 0,void 0,(function(){var t,e,n,o,r,i,s,a,l,c,u,d;return __generator$7(this,(function(p){return e=(t=this).xKey,n=t.yKeys,o=t.seriesItemEnabled,r=t.xAxis,i=t.yAxis,s=t.normalizedTo,a=e&&n.length&&this.data?this.data:[],l=(null==r?void 0:r.scale)instanceof ContinuousScale,c=(null==i?void 0:i.scale)instanceof ContinuousScale,u=__spread$j(o.entries()).filter((function(t){return __read$x(t,2)[1]})).map((function(t){return __read$x(t,1)[0]})),d=s&&isFinite(s)?s:void 0,this.dataModel=new DataModel({props:__spread$j([keyProperty(e,l)],u.map((function(t){return valueProperty(t,c,{missingValue:NaN,invalidValue:void 0})})),[sumProperties(u),SUM_VALUE_EXTENT]),groupByKeys:!0,dataVisible:this.visible&&u.length>0,normaliseTo:d}),this.processedData=this.dataModel.processData(a),[2]}))}))},e.prototype.getDomain=function(t){var e=this,n=e.processedData,o=e.xAxis,r=e.yAxis;if(!n)return[];var i=n,s=__read$x(i.defs.keys,1)[0],a=i.domain,l=__read$x(a.keys,1)[0],c=__read$x(a.values,1)[0],u=i.reduced,d=(void 0===u?{}:u)[SUM_VALUE_EXTENT.property];return t===ChartAxisDirection.X?"category"===s.valueType?l:this.fixNumericExtent(extent$4(l),o):r instanceof LogAxis||r instanceof TimeAxis?this.fixNumericExtent(c,r):this.fixNumericExtent(d,r)},e.prototype.createNodeData=function(){return __awaiter$7(this,void 0,void 0,(function(){var t,e,n,o,r,i,s,a,l,c,u,d,p,h,f,g,_,m,y,v,C,E,b,S,w=this;return __generator$7(this,(function(O){return e=(t=this).xAxis,n=t.yAxis,o=t.data,r=t.processedData,i=(void 0===r?{}:r).data,e&&n&&o?(s=[],l=(a=this).yKeys,c=a.xKey,u=a.marker,d=a.label,p=a.fills,h=a.strokes,f=a.id,g=e.scale,_=n.scale,m=_ instanceof ContinuousScale,y=(g.bandwidth||0)/2,v=o.length,C=new Array(v).fill(null).map((function(){return{left:0,right:0}})),E=new Array(v).fill(0),b=function(t,e,n,o){var r=g.convert(t)+y,i=C[n][o],s=C[n][o]+e,a=_.convert(i,{strict:!1}),l=_.convert(s,{strict:!1});return C[n][o]=s,[{x:r,y:l,size:u.size},{x:r,y:a,size:u.size}]},S=function(t,e,n,o){var r,i=w.normalizedTo&&isFinite(w.normalizedTo),s=i&&m&&isContinuous(o);return(!i&&!isNaN(o)||s)&&(r=E[n]+=e),{x:g.convert(t)+y,y:_.convert(r,{strict:!1}),size:u.size}},l.forEach((function(t,e){var n,o=null===(n=w.dataModel)||void 0===n?void 0:n.resolveProcessedDataIndex(t),r=[],a=[],l={itemId:t,points:[],yValues:[]},g={itemId:t,points:[]};if(s[e]={itemId:t,fillSelectionData:g,labelData:r,nodeData:a,strokeSelectionData:l},o){var _=g.points,m=[],y=l.points,v=l.yValues,C=-1;null==i||i.forEach((function(n,s){var l=__read$x(n.keys,1)[0],g=n.datum,O=n.values;O.forEach((function(P,T){C++;var R,D=g[T],x=P[o.index],M=isNaN(x)?void 0:x,A=T<O.length-1,L=A?n:i[s+1],I=null==L?void 0:L.keys[0],N=A?T+1:0,k=null==L?void 0:L.values[N][o.index],F=isNaN(k)?void 0:k,G=S(l,+M,C,D[t]);u&&a.push({index:C,series:w,itemId:t,datum:D,nodeMidPoint:{x:G.x,y:G.y},cumulativeValue:E[C],yValue:M,yKey:t,xKey:c,point:G,fill:p[e%p.length],stroke:h[e%h.length]}),R=d.formatter?d.formatter({value:M,seriesId:f}):isNumber$4(M)?Number(M).toFixed(2):String(M),d&&r.push({index:C,itemId:t,point:G,label:R?{text:R,fontStyle:d.fontStyle,fontWeight:d.fontWeight,fontSize:d.fontSize,fontFamily:d.fontFamily,textAlign:"center",textBaseline:"bottom",fill:d.color}:void 0});var B=[l,I],U=[M,F];if(!B.some((function(t){return null==t}))){U.some((function(t){return null==t}))&&(U[0]=0,U[1]=0);var j=b(B[0],+U[0],C,"right");_.push(j[0]),m.push(j[1]);var V=b(B[1],+U[1],C,"left");_.push(V[0]),m.push(V[1]),y.push({x:NaN,y:NaN}),v.push(void 0),y.push(j[0]),v.push(M),void 0!==F&&(y.push(V[0]),v.push(M))}}))}));for(var O=m.length-1;O>=0;O--)_.push(m[O])}})),[2,s]):[2,[]]}))}))},e.prototype.isPathOrSelectionDirty=function(){return this.marker.isDirty()},e.prototype.updatePaths=function(t){return __awaiter$7(this,void 0,void 0,(function(){var e,n,o,r,i,s;return __generator$7(this,(function(a){return e=t.contextData,n=e.fillSelectionData,o=e.strokeSelectionData,r=__read$x(t.paths,2),i=r[0],s=r[1],i.datum=n,i.tag=AreaSeriesTag.Fill,i.lineJoin="round",i.stroke=void 0,i.pointerEvents=PointerEvents.None,s.datum=o,s.tag=AreaSeriesTag.Stroke,s.fill=void 0,s.lineJoin=s.lineCap="round",s.pointerEvents=PointerEvents.None,[2]}))}))},e.prototype.updatePathNodes=function(t){return __awaiter$7(this,void 0,void 0,(function(){var e,n,o,r,i,s,a,l,c,u,d,p,h,f,g,_,m,y,v,C,E,b,S,w,O,P,T;return __generator$7(this,(function(R){e=__read$x(t.paths,2),n=e[0],o=e[1],r=t.seriesIdx,i=t.itemId,a=(s=this).strokes,l=s.fills,c=s.fillOpacity,u=s.strokeOpacity,d=s.strokeWidth,p=s.shadow,_=n.datum.points,n.fill=l[r%l.length],n.fillOpacity=c,n.strokeOpacity=u,n.strokeWidth=d,n.lineDash=this.lineDash,n.lineDashOffset=this.lineDashOffset,n.fillShadow=p,(v=n.path).clear({trackChanges:!0}),C=0;try{for(h=__values$e(_),f=h.next();!f.done;f=h.next())S=f.value,C++>0?v.lineTo(S.x,S.y):v.moveTo(S.x,S.y)}catch(t){w={error:t}}finally{try{f&&!f.done&&(O=h.return)&&O.call(h)}finally{if(w)throw w.error}}v.closePath(),n.checkPathDirty(),g=o.datum,_=g.points,m=g.yValues,y=!0,o.stroke=a[r%a.length],o.strokeWidth=this.getStrokeWidth(this.strokeWidth,{itemId:i}),o.strokeOpacity=u,o.lineDash=this.lineDash,o.lineDashOffset=this.lineDashOffset,(v=o.path).clear({trackChanges:!0}),C=0;try{for(E=__values$e(_),b=E.next();!b.done;b=E.next())S=b.value,void 0===m[C++]?y=!0:y?(v.moveTo(S.x,S.y),y=!1):v.lineTo(S.x,S.y)}catch(t){P={error:t}}finally{try{b&&!b.done&&(T=E.return)&&T.call(E)}finally{if(P)throw P.error}}return o.checkPathDirty(),[2]}))}))},e.prototype.markerFactory=function(){return new(getMarker$1(this.marker.shape))},e.prototype.updateMarkerSelection=function(t){return __awaiter$7(this,void 0,void 0,(function(){var e,n,o,r;return __generator$7(this,(function(i){return e=t.nodeData,n=t.markerSelection,o=this.marker.enabled,r=o&&e?e:[],this.marker.isDirty()&&n.clear(),[2,n.update(r,(function(t){t.tag=AreaSeriesTag.Marker}))]}))}))},e.prototype.updateMarkerNodes=function(t){return __awaiter$7(this,void 0,void 0,(function(){var e,n,o,r,i,s,a,l,c,u,d,p,h,f,g,_,m,y,v,C,E,b,S,w;return __generator$7(this,(function(O){return e=t.markerSelection,n=t.isHighlight,r=(o=this).id,i=o.xKey,s=o.marker,a=o.seriesItemEnabled,l=o.yKeys,c=o.fills,u=o.strokes,d=o.fillOpacity,p=o.marker.fillOpacity,h=void 0===p?d:p,f=o.strokeOpacity,g=o.highlightStyle.item,_=g.fill,m=g.fillOpacity,y=void 0===m?h:m,v=g.stroke,C=g.strokeWidth,E=s.size,b=s.formatter,S=void 0!==s.strokeWidth?s.strokeWidth:this.strokeWidth,w="function"==typeof s.shape,e.each((function(t,e){var o,d,p=l.indexOf(e.yKey),g=n&&void 0!==_?_:s.fill||c[p%c.length],m=n?y:h,O=n&&void 0!==v?v:s.stroke||u[p%c.length],P=n&&void 0!==C?C:S,T=void 0;b&&(T=b({datum:e.datum,xKey:i,yKey:e.yKey,fill:g,stroke:O,strokeWidth:P,size:E,highlighted:n,seriesId:r})),t.fill=T&&T.fill||g,t.stroke=T&&T.stroke||O,t.strokeWidth=T&&void 0!==T.strokeWidth?T.strokeWidth:P,t.fillOpacity=null!=m?m:1,t.strokeOpacity=null!==(d=null!==(o=s.strokeOpacity)&&void 0!==o?o:f)&&void 0!==d?d:1,t.size=T&&void 0!==T.size?T.size:E,t.translationX=e.point.x,t.translationY=e.point.y,t.visible=t.size>0&&!!a.get(e.yKey)&&!isNaN(e.point.x)&&!isNaN(e.point.y),w&&!t.dirtyPath&&(t.path.clear({trackChanges:!0}),t.updatePath(),t.checkPathDirty())})),n||this.marker.markClean(),[2]}))}))},e.prototype.updateLabelSelection=function(t){return __awaiter$7(this,void 0,void 0,(function(){var e;return __generator$7(this,(function(n){return e=t.labelData,[2,t.labelSelection.update(e,(function(t){t.tag=AreaSeriesTag.Label}))]}))}))},e.prototype.updateLabelNodes=function(t){return __awaiter$7(this,void 0,void 0,(function(){var e,n,o,r,i,s,a,l;return __generator$7(this,(function(c){return e=t.labelSelection,n=this.label,o=n.enabled,r=n.fontStyle,i=n.fontWeight,s=n.fontSize,a=n.fontFamily,l=n.color,e.each((function(t,e){var n=e.point,c=e.label;c&&o?(t.fontStyle=r,t.fontWeight=i,t.fontSize=s,t.fontFamily=a,t.textAlign=c.textAlign,t.textBaseline=c.textBaseline,t.text=c.text,t.x=n.x,t.y=n.y-10,t.fill=l,t.visible=!0):t.visible=!1})),[2]}))}))},e.prototype.getNodeClickEvent=function(t,e){return new CartesianSeriesNodeClickEvent(this.xKey,e.yKey,t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){return new CartesianSeriesNodeDoubleClickEvent(this.xKey,e.yKey,t,e,this)},e.prototype.getTooltipHtml=function(t){var e,n,o,r=this.xKey,i=this.id,s=t.yKey,a=null===(e=this.dataModel)||void 0===e?void 0:e.resolveProcessedDataIndex(s);if(!r||!s||!a)return"";var l=t.datum,c=l[r],u=l[s],d=this,p=d.xAxis,h=d.yAxis,f=d.yKeys;if(!(p&&h&&isNumber$4(u)&&a))return"";var g=this,_=g.xName,m=g.yNames,y=g.fills,v=g.strokes,C=g.tooltip,E=g.marker,b=E.size,S=E.formatter,w=E.strokeWidth,O=E.fill,P=E.stroke,T=p.formatDatum(c),R=h.formatDatum(u),D=f.indexOf(s),x=null===(o=null===(n=this.processedData)||void 0===n?void 0:n.data[t.index])||void 0===o?void 0:o.values[0][null==a?void 0:a.index],M=m[D],A=sanitizeHtml(M),L=sanitizeHtml(T+": "+R),I=void 0!==w?w:this.strokeWidth,N=O||y[D%y.length],k=P||v[D%y.length],F=void 0;S&&(F=S({datum:l,xKey:r,yKey:s,fill:N,stroke:k,strokeWidth:I,size:b,highlighted:!1,seriesId:i}));var G=F&&F.fill||N,B={title:A,backgroundColor:G,content:L},U=C.renderer,j=C.format;if(j||U){var V={datum:l,xKey:r,xName:_,xValue:c,yKey:s,yValue:u,processedYValue:x,yName:M,color:G,title:A,seriesId:i};if(j)return toTooltipHtml$1({content:interpolate(j,V)},B);if(U)return toTooltipHtml$1(U(V),B)}return toTooltipHtml$1(B)},e.prototype.getLegendData=function(){var t,e,n=this,o=n.data,r=n.id,i=n.xKey,s=n.yKeys,a=n.yNames,l=n.seriesItemEnabled,c=n.marker,u=n.fills,d=n.strokes,p=n.fillOpacity,h=n.strokeOpacity;if(!(o&&o.length&&i&&s.length))return[];for(var f=[],g=s.length-1;g>=0;g--){var _=s[g];f.push({id:r,itemId:_,seriesId:r,enabled:l.get(_)||!1,label:{text:a[g]||s[g]},marker:{shape:c.shape,fill:c.fill||u[g%u.length],stroke:c.stroke||d[g%d.length],fillOpacity:null!==(t=c.fillOpacity)&&void 0!==t?t:p,strokeOpacity:null!==(e=c.strokeOpacity)&&void 0!==e?e:h}})}return f},e.prototype.isLabelEnabled=function(){return this.label.enabled},e.className="AreaSeries",e.type="area",__decorate$1s([Validate(COLOR_STRING_ARRAY)],e.prototype,"fills",void 0),__decorate$1s([Validate(COLOR_STRING_ARRAY)],e.prototype,"strokes",void 0),__decorate$1s([Validate(NUMBER(0,1))],e.prototype,"fillOpacity",void 0),__decorate$1s([Validate(NUMBER(0,1))],e.prototype,"strokeOpacity",void 0),__decorate$1s([Validate(OPT_LINE_DASH)],e.prototype,"lineDash",void 0),__decorate$1s([Validate(NUMBER(0))],e.prototype,"lineDashOffset",void 0),__decorate$1s([Validate(STRING)],e.prototype,"_xKey",void 0),__decorate$1s([Validate(STRING)],e.prototype,"xName",void 0),__decorate$1s([Validate(STRING_ARRAY)],e.prototype,"_yKeys",void 0),__decorate$1s([Validate(BOOLEAN_ARRAY)],e.prototype,"_visibles",void 0),__decorate$1s([Validate(STRING_ARRAY)],e.prototype,"yNames",void 0),__decorate$1s([Validate(OPT_NUMBER())],e.prototype,"_normalizedTo",void 0),__decorate$1s([Validate(NUMBER(0))],e.prototype,"strokeWidth",void 0),e}(CartesianSeries),__extends$24=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1r=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Rect=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.borderPath=new Path2D,e.x=0,e.y=0,e.width=10,e.height=10,e.radius=0,e.crisp=!1,e.lastUpdatePathStrokeWidth=Shape.defaultStyles.strokeWidth,e.effectiveStrokeWidth=Shape.defaultStyles.strokeWidth,e.microPixelEffectOpacity=1,e}return __extends$24(e,t),e.prototype.isDirtyPath=function(){var t;return this.lastUpdatePathStrokeWidth!==this.strokeWidth||!!(this.path.isDirty()||this.borderPath.isDirty()||(null===(t=this.clipPath)||void 0===t?void 0:t.isDirty()))},e.prototype.updatePath=function(){var t,e,n,o=this,r=o.path,i=o.borderPath,s=o.crisp,a=this,l=a.x,c=a.y,u=a.width,d=a.height,p=a.strokeWidth,h=1/(null!==(e=null===(t=this.layerManager)||void 0===t?void 0:t.canvas.pixelRatio)&&void 0!==e?e:1),f=1;if(r.clear({trackChanges:!0}),i.clear({trackChanges:!0}),s&&(u<=h&&(f*=u/h),d<=h&&(f*=d/h),u=this.align(l,u),d=this.align(c,d),l=this.align(l),c=this.align(c)),p)if(u<h){var g=l+h/2;i.moveTo(g,c),i.lineTo(g,c+d),p=h,this.borderClipPath=void 0}else if(d<h){var _=c+h/2;i.moveTo(l,_),i.lineTo(l+u,_),p=h,this.borderClipPath=void 0}else if(p<u&&p<d){var m=p/2;l+=m,c+=m,u-=p,d-=p,this.borderClipPath=void 0,r.rect(l,c,u,d),i.rect(l,c,u,d)}else this.borderClipPath=null!==(n=this.borderClipPath)&&void 0!==n?n:new Path2D,this.borderClipPath.clear({trackChanges:!0}),this.borderClipPath.rect(l,c,u,d),i.rect(l,c,u,d);else this.borderClipPath=void 0,r.rect(l,c,u,d);this.effectiveStrokeWidth=p,this.lastUpdatePathStrokeWidth=p,this.microPixelEffectOpacity=f},e.prototype.computeBBox=function(){var t=this,e=t.x,n=t.y,o=t.width,r=t.height;return new BBox(e,n,o,r)},e.prototype.isPointInPath=function(t,e){var n=this.transformPoint(t,e);return this.computeBBox().containsPoint(n.x,n.y)},e.prototype.applyFillAlpha=function(t){var e=this,n=e.fillOpacity,o=e.microPixelEffectOpacity,r=e.opacity;t.globalAlpha=r*n*o},e.prototype.renderStroke=function(t){var e=this,n=e.stroke,o=e.effectiveStrokeWidth,r=e.borderPath,i=e.borderClipPath,s=e.opacity,a=e.microPixelEffectOpacity;if(!!n&&!!o){var l=this,c=l.strokeOpacity,u=l.lineDash,d=l.lineDashOffset,p=l.lineCap,h=l.lineJoin;i&&(i.draw(t),t.clip()),r.draw(t);var f=t.globalAlpha;t.strokeStyle=n,t.globalAlpha=f*s*c*a,t.lineWidth=o,u&&t.setLineDash(u),d&&(t.lineDashOffset=d),p&&(t.lineCap=p),h&&(t.lineJoin=h),t.stroke(),t.globalAlpha=f}},e.className="Rect",__decorate$1r([ScenePathChangeDetection()],e.prototype,"x",void 0),__decorate$1r([ScenePathChangeDetection()],e.prototype,"y",void 0),__decorate$1r([ScenePathChangeDetection()],e.prototype,"width",void 0),__decorate$1r([ScenePathChangeDetection()],e.prototype,"height",void 0),__decorate$1r([ScenePathChangeDetection()],e.prototype,"radius",void 0),__decorate$1r([ScenePathChangeDetection()],e.prototype,"crisp",void 0),e}(Path),__extends$23=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1q=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__awaiter$6=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{l(o.next(t))}catch(t){i(t)}}function a(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((o=o.apply(t,e||[])).next())}))},__generator$6=function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},__read$w=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$i=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$w(arguments[e]));return t},BAR_LABEL_PLACEMENTS=["inside","outside"],OPT_BAR_LABEL_PLACEMENT=function(t,e){return OPTIONAL(t,e,(function(t){return BAR_LABEL_PLACEMENTS.includes(t)}))},BarSeriesNodeTag;!function(t){t[t.Bar=0]="Bar",t[t.Label=1]="Label"}(BarSeriesNodeTag||(BarSeriesNodeTag={}));var BarSeriesLabel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e.placement="inside",e}return __extends$23(e,t),__decorate$1q([Validate(OPT_FUNCTION)],e.prototype,"formatter",void 0),__decorate$1q([Validate(OPT_BAR_LABEL_PLACEMENT)],e.prototype,"placement",void 0),e}(Label$1),BarSeriesTooltip=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e}return __extends$23(e,t),__decorate$1q([Validate(OPT_FUNCTION)],e.prototype,"renderer",void 0),e}(SeriesTooltip);function is2dArray$1(t){return t.length>0&&Array.isArray(t[0])}var BarSeries=function(t){function e(){var e,n=t.call(this,{pickModes:[SeriesNodePickMode.EXACT_SHAPE_MATCH],pathsPerSeries:0,directionKeys:(e={},e[ChartAxisDirection.X]=["xKey"],e[ChartAxisDirection.Y]=["yKeys"],e)})||this;return n.label=new BarSeriesLabel,n.tooltip=new BarSeriesTooltip,n.flipXY=!1,n.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],n.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],n.fillOpacity=1,n.strokeOpacity=1,n.lineDash=[0],n.lineDashOffset=0,n.formatter=void 0,n.groupScale=new BandScale$5,n._xKey="",n.xName="",n.cumYKeyCount=[],n.flatYKeys=void 0,n.hideInLegend=[],n.yKeys=[],n.yKeysCache=[],n.visibles=[],n._grouped=!1,n.stackGroups={},n.yNames={},n.strokeWidth=1,n.shadow=void 0,n.smallestDataInterval=void 0,n.label.enabled=!1,n}return __extends$23(e,t),e.prototype.resolveKeyDirection=function(t){return this.flipXY?flipChartAxisDirection(t):t},Object.defineProperty(e.prototype,"xKey",{get:function(){return this._xKey},set:function(t){this._xKey=t,this.processedData=void 0},enumerable:!1,configurable:!0}),e.prototype.processYKeys=function(){var t=this,e=this.yKeys,n=void 0;is2dArray$1(e)||(n=e,e=this.grouped?n.map((function(t){return[t]})):[n]);var o=Object.values(this.stackGroups);if(o.length>0){var r=function(t){return t.reduce((function(t,e){return t.concat(e)}),[])},i=r(e),s=new Set(r(o)),a=i.filter((function(t){return!s.has(t)}));e=o.map((function(t){return t})),a.length>0&&e.push(a);var l=r(e),c=l.reduce((function(t,e,n){return t.set(e,n)}),new Map),u=function(t){var e=Array.from({length:t.length});return t.forEach((function(t,n){var o=i[n],r=c.get(o);e[r]=t})),e};this.fills=u(this.fills),this.strokes=u(this.strokes),this.visibles=u(this.visibles)}if(!areArrayItemsStrictlyEqual(this.yKeysCache,e)){this.flatYKeys=n||void 0,this.yKeys=e;var d=0;this.cumYKeyCount=[];var p=[];e.forEach((function(e,n){e.length>0&&p.push(String(n)),t.cumYKeyCount.push(d),d+=e.length})),this.processSeriesItemEnabled(),this.groupScale.domain=p}this.yKeysCache=e},e.prototype.processSeriesItemEnabled=function(){var t=this.seriesItemEnabled,e=this.visibles.reduce((function(t,e){return t.concat.apply(t,__spread$i(Array.isArray(e)?e:[e]))}),[]);t.clear();var n=0;this.yKeys.forEach((function(o){o.forEach((function(o){var r;return t.set(o,null===(r=e[n++])||void 0===r||r)}))}))},Object.defineProperty(e.prototype,"grouped",{get:function(){return this._grouped},set:function(t){this._grouped=t},enumerable:!1,configurable:!0}),e.prototype.getStackGroup=function(t){var e,n=this.stackGroups;return null===(e=Object.entries(n).find((function(e){var n=__read$w(e,2);return n[0],n[1].includes(t)})))||void 0===e?void 0:e[0]},e.prototype.processYNames=function(){var t=this.yNames;if(Array.isArray(t)&&this.flatYKeys){var e={};this.flatYKeys.forEach((function(n,o){e[n]=t[o]})),this.yNames=e}},Object.defineProperty(e.prototype,"normalizedTo",{get:function(){return this._normalizedTo},set:function(t){var e=t?Math.abs(t):void 0;this._normalizedTo=e},enumerable:!1,configurable:!0}),e.prototype.processData=function(){var t,e,n,o,r;return __awaiter$6(this,void 0,void 0,(function(){var i,s,a,l,c,u,d,p,h,f,g;return __generator$6(this,(function(_){return this.processYKeys(),this.processYNames(),s=(i=this).xKey,a=i.seriesItemEnabled,l=i.normalizedTo,c=i.data,u=void 0===c?[]:c,d=(null===(t=this.getCategoryAxis())||void 0===t?void 0:t.scale)instanceof ContinuousScale,p=(null===(e=this.getValueAxis())||void 0===e?void 0:e.scale)instanceof ContinuousScale,h=__spread$i(a.entries()).filter((function(t){return __read$w(t,2)[1]})).map((function(t){return __read$w(t,1)[0]})),f=this.yKeys.map((function(t){return t.filter((function(t){return a.get(t)}))})).filter((function(t){return t.length>0})),g=l&&isFinite(l)?l:void 0,this.dataModel=new DataModel({props:__spread$i([keyProperty(s,d)],h.map((function(t){return valueProperty(t,p,{invalidValue:null})})),f.map((function(t){return sumProperties(t)})),d?[SMALLEST_KEY_INTERVAL]:[],[SUM_VALUE_EXTENT]),groupByKeys:!0,dataVisible:this.visible&&h.length>0,normaliseTo:g}),this.processedData=this.dataModel.processData(u),this.smallestDataInterval={x:null!==(r=null===(o=null===(n=this.processedData)||void 0===n?void 0:n.reduced)||void 0===o?void 0:o[SMALLEST_KEY_INTERVAL.property])&&void 0!==r?r:1/0,y:1/0},[2]}))}))},e.prototype.getDomain=function(t){var e=this.flipXY,n=this.processedData;if(!n)return[];e&&(t=flipChartAxisDirection(t));var o=n,r=__read$w(o.defs.keys,1)[0],i=o.domain,s=__read$w(i.keys,1)[0],a=__read$w(i.values,1)[0],l=o.reduced,c=void 0===l?{}:l,u=c[SMALLEST_KEY_INTERVAL.property],d=c[SUM_VALUE_EXTENT.property];if(t===ChartAxisDirection.X){if("category"===r.valueType)return s;var p=extent$4(s)||[NaN,NaN];return e?[p[0]+-u,p[1]]:[p[0],p[1]+u]}return this.getValueAxis()instanceof LogAxis?this.fixNumericExtent(a):this.fixNumericExtent(d)},e.prototype.getNodeClickEvent=function(t,e){return new CartesianSeriesNodeClickEvent(this.xKey,e.yKey,t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){return new CartesianSeriesNodeDoubleClickEvent(this.xKey,e.yKey,t,e,this)},e.prototype.getCategoryAxis=function(){return this.flipXY?this.yAxis:this.xAxis},e.prototype.getValueAxis=function(){return this.flipXY?this.xAxis:this.yAxis},e.prototype.calculateStep=function(t){var e,n=this.smallestDataInterval,o=this.getCategoryAxis();if(o){var r=(o.dataDomain[1]-o.dataDomain[0])/(null!==(e=null==n?void 0:n.x)&&void 0!==e?e:1)+1,i=Math.floor(t),s=Math.min(r,i);return t/Math.max(1,s)}},e.prototype.createNodeData=function(){return __awaiter$6(this,void 0,void 0,(function(){var t,e,n,o,r,i,s,a,l,c,u,d,p,h,f,g,_,m,y,v,C,E,b,S,w,O,P,T,R,D,x,M,A=this;return __generator$6(this,(function(L){return e=(t=this).data,n=t.visible,o=this.getCategoryAxis(),r=this.getValueAxis(),e&&n&&o&&r?(i=o.scale,s=r.scale,l=(a=this).groupScale,c=a.yKeys,u=a.xKey,d=a.cumYKeyCount,p=a.fills,h=a.strokes,f=a.strokeWidth,g=a.seriesItemEnabled,_=a.label,m=a.flipXY,y=a.id,v=a.processedData,C=_.fontStyle,E=_.fontWeight,b=_.fontSize,S=_.fontFamily,w=_.color,O=_.formatter,P=_.placement,T=i.bandwidth,i instanceof ContinuousScale&&(R=Math.max(o.range[0],o.range[1]),D=this.calculateStep(R),T=D),l.range=[0,T],l.padding=o instanceof CategoryAxis?o.groupPaddingInner:o instanceof GroupedCategoryAxis?.1:0,0===l.padding?l.round=!1:l.round=!0,x=l.bandwidth>=1?l.bandwidth:l.rawBandwidth,M=[],null==v||v.data.forEach((function(t,e){for(var n,r,a,_,T,R,D=t.keys,L=t.datum,I=t.values,N=i.convert(D[0]),k=0;k<(null!==(n=null==c?void 0:c.length)&&void 0!==n?n:0);k++){var F=null!==(r=null==c?void 0:c[k])&&void 0!==r?r:[];null!==(a=M[k])&&void 0!==a||(M[k]=[]);for(var G=0,B=0,U=0;U<F.length;U++){var j=F[U],V=null!==(_=null==v?void 0:v.indices.values[j])&&void 0!==_?_:-1;if(null!==(T=(R=M[k])[U])&&void 0!==T||(R[U]={itemId:j,nodeData:[],labelData:[]}),void 0!==V){var W=I[0][V],H=+W,$=N+l.convert(String(k));if(o.inRange($,x)&&!isNaN(H)){var z=H<0?G:B,K=s.convert(z+H,{strict:!1}),Y=s.convert(z,{strict:!1}),Z=void 0;Z=O?O({value:isNumber$4(W)?W:void 0,seriesId:y}):isNumber$4(W)?W.toFixed(2):"";var q=void 0,X=void 0;m?(X=$+x/2,q="inside"===P?K+(W>=0?-1:1)*Math.abs(Y-K)/2:K+4*(W>=0?1:-1)):(q=$+x/2,X="inside"===P?K+(W>=0?1:-1)*Math.abs(Y-K)/2:K+(W>=0?-3:4));var J=void 0,Q=void 0;"inside"===P?(J="center",Q="middle"):(J=m?W>=0?"start":"end":"center",Q=m?"middle":W>=0?"bottom":"top");var tt=d[k]+U,et={x:m?Math.min(K,Y):$,y:m?$:Math.min(K,Y),width:m?Math.abs(Y-K):x,height:m?x:Math.abs(Y-K)},nt={x:et.x+et.width/2,y:et.y+et.height/2},ot={index:e,series:A,itemId:j,datum:L[0],cumulativeValue:z+H,yValue:W,yKey:j,xKey:u,x:et.x,y:et.y,width:et.width,height:et.height,nodeMidPoint:nt,colorIndex:tt,fill:p[tt%p.length],stroke:h[tt%h.length],strokeWidth:f,label:g.get(j)&&Z?{text:Z,fontStyle:C,fontWeight:E,fontSize:b,fontFamily:S,textAlign:J,textBaseline:Q,fill:w,x:q,y:X}:void 0};M[k][U].nodeData.push(ot),M[k][U].labelData.push(ot),H<0?G+=H:B+=H}}}}})),[2,M.reduce((function(t,e){return t.concat.apply(t,__spread$i(e))}),[])]):[2,[]]}))}))},e.prototype.nodeFactory=function(){return new Rect},e.prototype.updateDatumSelection=function(t){return __awaiter$6(this,void 0,void 0,(function(){var e;return __generator$6(this,(function(n){return e=t.nodeData,[2,t.datumSelection.update(e,(function(t){return t.tag=BarSeriesNodeTag.Bar}))]}))}))},e.prototype.updateDatumNodes=function(t){var e,n;return __awaiter$6(this,void 0,void 0,(function(){var o,r,i,s,a,l,c,u,d,p,h,f,g,_,m,y,v,C,E,b,S,w,O=this;return __generator$6(this,(function(P){return o=t.datumSelection,r=t.isHighlight,s=(i=this).fills,a=i.strokes,l=i.fillOpacity,c=i.strokeOpacity,u=i.shadow,d=i.formatter,p=i.xKey,h=i.flipXY,f=i.highlightStyle.item,g=f.fill,_=f.fillOpacity,m=void 0===_?l:_,y=f.stroke,v=f.strokeWidth,C=i.id,E=__read$w(null!==(n=null===(e=this.xAxis)||void 0===e?void 0:e.visibleRange)&&void 0!==n?n:[],2),b=E[0],S=E[1],w=!(0!==b||1!==S),o.each((function(t,e){var n=e.colorIndex,o=r&&void 0!==g?g:s[n%s.length],i=r&&void 0!==y?y:a[n%s.length],f=r&&void 0!==v?v:O.getStrokeWidth(O.strokeWidth,e),_=r?m:l,E=O.getStackGroup(e.yKey),b=void 0;d&&(b=d({datum:e.datum,fill:o,stroke:i,strokeWidth:f,highlighted:r,xKey:p,yKey:e.yKey,seriesId:C,stackGroup:E})),t.crisp=w,t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height,t.fill=b&&b.fill||o,t.stroke=b&&b.stroke||i,t.strokeWidth=b&&void 0!==b.strokeWidth?b.strokeWidth:f,t.fillOpacity=_,t.strokeOpacity=c,t.lineDash=O.lineDash,t.lineDashOffset=O.lineDashOffset,t.fillShadow=u,t.visible=h?e.width>0:e.height>0})),[2]}))}))},e.prototype.updateLabelSelection=function(t){return __awaiter$6(this,void 0,void 0,(function(){var e,n,o,r;return __generator$6(this,(function(i){return e=t.labelData,n=t.labelSelection,o=this.label.enabled,r=o?e:[],[2,n.update(r,(function(t){t.tag=BarSeriesNodeTag.Label,t.pointerEvents=PointerEvents.None}))]}))}))},e.prototype.updateLabelNodes=function(t){return __awaiter$6(this,void 0,void 0,(function(){var e,n,o,r,i,s,a,l;return __generator$6(this,(function(c){return e=t.labelSelection,n=this.label,o=n.enabled,r=n.fontStyle,i=n.fontWeight,s=n.fontSize,a=n.fontFamily,l=n.color,e.each((function(t,e){var n=e.label;n&&o?(t.fontStyle=r,t.fontWeight=i,t.fontSize=s,t.fontFamily=a,t.textAlign=n.textAlign,t.textBaseline=n.textBaseline,t.text=n.text,t.x=n.x,t.y=n.y,t.fill=l,t.visible=!0):t.visible=!1})),[2]}))}))},e.prototype.getTooltipHtml=function(t){var e=this,n=e.xKey,o=e.yKeys,r=e.processedData,i=this.getCategoryAxis(),s=this.getValueAxis(),a=t.yKey;if(!(r&&n&&a&&i&&s))return"";for(var l=0,c=0,u=0;u<o.length;u++){var d=o[u];if((c=d.indexOf(a))>=0){l+=c;break}l+=d.length}var p=this,h=p.xName,f=p.yNames,g=p.fills,_=p.strokes,m=p.tooltip,y=p.formatter,v=p.id,C=m.renderer,E=t.datum,b=f[a],S=this.getStackGroup(a),w=g[l%g.length],O=_[l%g.length],P=this.getStrokeWidth(this.strokeWidth),T=E[n],R=E[a],D=sanitizeHtml(i.formatDatum(T)),x=sanitizeHtml(s.formatDatum(R)),M=sanitizeHtml(b),A=D+": "+x,L=void 0;y&&(L=y({datum:E,fill:w,stroke:O,strokeWidth:P,highlighted:!1,xKey:n,yKey:a,seriesId:v,stackGroup:S}));var I=L&&L.fill||w,N={title:M,backgroundColor:I,content:A};return C?toTooltipHtml$1(C({datum:E,xKey:n,xValue:T,xName:h,yKey:a,yValue:R,yName:b,color:I,title:M,seriesId:v,stackGroup:S}),N):toTooltipHtml$1(N)},e.prototype.getLegendData=function(){var t=this,e=t.id,n=t.data,o=t.xKey,r=t.yKeys,i=t.yNames,s=t.cumYKeyCount,a=t.seriesItemEnabled,l=t.hideInLegend,c=t.fills,u=t.strokes,d=t.fillOpacity,p=t.strokeOpacity,h=t.flipXY;if(!(n&&n.length&&o&&r.length))return[];var f=[];return this.yKeys.forEach((function(t,n){for(var o=h?0:t.length-1,r=h?1:-1,g=o,_=0;_<t.length;g+=r,_++){var m=t[g];if(l.indexOf(m)>=0)return;var y=s[n]+g;f.push({id:e,itemId:m,seriesId:e,enabled:a.get(m)||!1,label:{text:i[m]||m},marker:{fill:c[y%c.length],stroke:u[y%u.length],fillOpacity:d,strokeOpacity:p}})}})),f},e.prototype.toggleSeriesItem=function(e,n){t.prototype.toggleSeriesItem.call(this,e,n);var o=this.yKeys.map((function(t){return t.slice()}));this.seriesItemEnabled.forEach((function(t,e){t||o.forEach((function(t){var n=t.indexOf(e);n>=0&&t.splice(n,1)}))}));var r=[];o.forEach((function(t,e){t.length>0&&r.push(String(e))})),this.groupScale.domain=r,this.nodeDataRefresh=!0},e.prototype.isLabelEnabled=function(){return this.label.enabled},e.prototype.getBandScalePadding=function(){return{inner:.2,outer:.3}},e.className="BarSeries",e.type="bar",__decorate$1q([Validate(BOOLEAN)],e.prototype,"flipXY",void 0),__decorate$1q([Validate(COLOR_STRING_ARRAY)],e.prototype,"fills",void 0),__decorate$1q([Validate(COLOR_STRING_ARRAY)],e.prototype,"strokes",void 0),__decorate$1q([Validate(NUMBER(0,1))],e.prototype,"fillOpacity",void 0),__decorate$1q([Validate(NUMBER(0,1))],e.prototype,"strokeOpacity",void 0),__decorate$1q([Validate(OPT_LINE_DASH)],e.prototype,"lineDash",void 0),__decorate$1q([Validate(NUMBER(0))],e.prototype,"lineDashOffset",void 0),__decorate$1q([Validate(OPT_FUNCTION)],e.prototype,"formatter",void 0),__decorate$1q([Validate(STRING)],e.prototype,"_xKey",void 0),__decorate$1q([Validate(STRING)],e.prototype,"xName",void 0),__decorate$1q([Validate(STRING_ARRAY)],e.prototype,"hideInLegend",void 0),__decorate$1q([Validate(BOOLEAN_ARRAY)],e.prototype,"visibles",void 0),__decorate$1q([Validate(BOOLEAN)],e.prototype,"_grouped",void 0),__decorate$1q([Validate(OPT_NUMBER())],e.prototype,"_normalizedTo",void 0),__decorate$1q([Validate(NUMBER(0))],e.prototype,"strokeWidth",void 0),e}(CartesianSeries),__extends$22=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1p=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__awaiter$5=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{l(o.next(t))}catch(t){i(t)}}function a(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((o=o.apply(t,e||[])).next())}))},__generator$5=function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},__read$v=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$h=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$v(arguments[e]));return t},HISTOGRAM_AGGREGATIONS=["count","sum","mean"],HISTOGRAM_AGGREGATION=predicateWithMessage((function(t){return HISTOGRAM_AGGREGATIONS.includes(t)}),"expecting a histogram aggregation keyword such as 'count', 'sum' or 'mean"),HistogramSeriesNodeTag;!function(t){t[t.Bin=0]="Bin",t[t.Label=1]="Label"}(HistogramSeriesNodeTag||(HistogramSeriesNodeTag={}));var HistogramSeriesLabel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e}return __extends$22(e,t),__decorate$1p([Validate(OPT_FUNCTION)],e.prototype,"formatter",void 0),e}(Label$1),defaultBinCount=10,aggregationFunctions={count:function(t){return t.data.length},sum:function(t,e){return t.data.reduce((function(t,n){return t+n[e]}),0)},mean:function(t,e){return aggregationFunctions.sum(t,e)/aggregationFunctions.count(t,e)}},HistogramBin=function(){function t(t){var e=__read$v(t,2),n=e[0],o=e[1];this.data=[],this.aggregatedValue=0,this.frequency=0,this.domain=[n,o]}return t.prototype.addDatum=function(t){this.data.push(t),this.frequency++},Object.defineProperty(t.prototype,"domainWidth",{get:function(){var t=__read$v(this.domain,2),e=t[0];return t[1]-e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"relativeHeight",{get:function(){return this.aggregatedValue/this.domainWidth},enumerable:!1,configurable:!0}),t.prototype.calculateAggregatedValue=function(t,e){e||(t="count");var n=aggregationFunctions[t];this.aggregatedValue=n(this,e)},t.prototype.getY=function(t){return t?this.relativeHeight:this.aggregatedValue},t}(),HistogramSeriesTooltip=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e}return __extends$22(e,t),__decorate$1p([Validate(OPT_FUNCTION)],e.prototype,"renderer",void 0),e}(SeriesTooltip),HistogramSeries=function(t){function e(){var e=t.call(this,{pickModes:[SeriesNodePickMode.EXACT_SHAPE_MATCH]})||this;return e.binnedData=[],e.xDomain=[],e.yDomain=[],e.label=new HistogramSeriesLabel,e.tooltip=new HistogramSeriesTooltip,e.fill=void 0,e.stroke=void 0,e.fillOpacity=1,e.strokeOpacity=1,e.lineDash=[0],e.lineDashOffset=0,e.xKey="",e.areaPlot=!1,e.bins=void 0,e.aggregation="count",e.binCount=void 0,e.xName="",e.yKey="",e.yName="",e.strokeWidth=1,e.shadow=void 0,e.label.enabled=!1,e}return __extends$22(e,t),e.prototype.deriveBins=function(){var t=this,e=this.bins;if(!this.data)return[];var n=this.data.map((function(e){return e[t.xKey]})),o=this.fixNumericExtent(extent$4(n));if(void 0===this.binCount){if(e)return e;var r=ticks(o[0],o[1],defaultBinCount),i=tickStep(o[0],o[1],defaultBinCount),s=r[0];return __spread$h([[s-i,s]],r.map((function(t){return[t,t+i]})))}return this.calculateNiceBins(o,this.binCount)},e.prototype.calculateNiceBins=function(t,e){var n=Math.floor(t[0]),o=t[1],r=e||1,i=this.calculateNiceStart(n,o,r),s=i.start,a=i.binSize;return this.getBins(s,o,a,r)},e.prototype.getBins=function(t,e,n,o){for(var r=[],i=0;i<o;i++){var s=Math.round(10*(t+i*n))/10,a=Math.round(10*(t+(i+1)*n))/10;i===o-1&&(a=Math.max(a,e)),r[i]=[s,a]}return r},e.prototype.calculateNiceStart=function(t,e,n){var o=Math.abs(e-t)/n,r=Math.floor(Math.log10(o)),i=Math.pow(10,r);return{start:Math.floor(t/i)*i,binSize:o}},e.prototype.placeDataInBins=function(t){var e=this,n=this.xKey,o=this.deriveBins();this.bins=o;for(var r=t.slice().sort((function(t,e){return t[n]<e[n]?-1:t[n]>e[n]?1:0})),i=[new HistogramBin(o[0])],s=0,a=0;a<r.length&&s<o.length;a++){for(var l=r[a];l[n]>o[s][1]&&s<o.length;)s++,i.push(new HistogramBin(o[s]));s<o.length&&i[s].addDatum(l)}return i.forEach((function(t){return t.calculateAggregatedValue(e.aggregation,e.yKey)})),i},Object.defineProperty(e.prototype,"xMax",{get:function(){var t=this;return this.data&&this.data.reduce((function(e,n){return Math.max(e,n[t.xKey])}),Number.NEGATIVE_INFINITY)},enumerable:!1,configurable:!0}),e.prototype.processData=function(){return __awaiter$5(this,void 0,void 0,(function(){var t,e,n,o,r,i,s,a,l,c=this;return __generator$5(this,(function(u){return e=(t=this).xKey,n=t.data,this.binnedData=this.placeDataInBins(e&&n?n:[]),o=this.binnedData.map((function(t){return t.getY(c.areaPlot)})),r=extent$4(o),this.yDomain=this.fixNumericExtent([0,r?r[1]:1]),i=this.binnedData[0],s=this.binnedData[this.binnedData.length-1],a=i.domain[0],l=s.domain[1],this.xDomain=[a,l],[2]}))}))},e.prototype.getDomain=function(t){return t===ChartAxisDirection.X?this.xDomain:this.yDomain},e.prototype.getNodeClickEvent=function(t,e){return new CartesianSeriesNodeClickEvent(this.xKey,this.yKey,t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){return new CartesianSeriesNodeDoubleClickEvent(this.xKey,this.yKey,t,e,this)},e.prototype.createNodeData=function(){return __awaiter$5(this,void 0,void 0,(function(){var t,e,n,o,r,i,s,a,l,c,u,d,p,h,f,g,_,m,y,v,C,E,b=this;return __generator$5(this,(function(S){return e=(t=this).xAxis,n=t.yAxis,this.seriesItemEnabled&&e&&n?(o=e.scale,r=n.scale,s=(i=this).fill,a=i.stroke,l=i.strokeWidth,c=i.id,u=i.yKey,d=i.xKey,p=[],h=function(t){return String(t.value)},f=this.label,g=f.formatter,_=void 0===g?h:g,m=f.fontStyle,y=f.fontWeight,v=f.fontSize,C=f.fontFamily,E=f.color,this.binnedData.forEach((function(t){var e=t.aggregatedValue,n=t.frequency,i=__read$v(t.domain,2),h=i[0],f=i[1],g=t.relativeHeight,S=o.convert(h),w=o.convert(f),O=b.areaPlot?g:u?e:n,P=r.convert(0),T=r.convert(O),R=w-S,D=Math.abs(T-P),x=0!==O?{text:_({value:t.aggregatedValue,seriesId:c}),fontStyle:m,fontWeight:y,fontSize:v,fontFamily:C,fill:E,x:S+R/2,y:T+D/2}:void 0,M={x:S+R/2,y:T+D/2};p.push({series:b,datum:t,aggregatedValue:t.aggregatedValue,domain:t.domain,yKey:u,xKey:d,x:S,y:T,width:R,height:D,nodeMidPoint:M,fill:s,stroke:a,strokeWidth:l,label:x})})),[2,[{itemId:this.yKey,nodeData:p,labelData:p}]]):[2,[]]}))}))},e.prototype.nodeFactory=function(){return new Rect},e.prototype.updateDatumSelection=function(t){return __awaiter$5(this,void 0,void 0,(function(){var e;return __generator$5(this,(function(n){return e=t.nodeData,[2,t.datumSelection.update(e,(function(t){t.tag=HistogramSeriesNodeTag.Bin,t.crisp=!0}))]}))}))},e.prototype.updateDatumNodes=function(t){return __awaiter$5(this,void 0,void 0,(function(){var e,n,o,r,i,s,a,l,c,u,d,p,h=this;return __generator$5(this,(function(f){return e=t.datumSelection,n=t.isHighlight,r=(o=this).fillOpacity,i=o.strokeOpacity,s=o.shadow,a=o.highlightStyle.item,l=a.fill,c=a.fillOpacity,u=void 0===c?r:c,d=a.stroke,p=a.strokeWidth,e.each((function(t,e,o){var a=n&&void 0!==p?p:e.strokeWidth,c=n?u:r;t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height,t.fill=n&&void 0!==l?l:e.fill,t.stroke=n&&void 0!==d?d:e.stroke,t.fillOpacity=c,t.strokeOpacity=i,t.strokeWidth=a,t.lineDash=h.lineDash,t.lineDashOffset=h.lineDashOffset,t.fillShadow=s,t.zIndex=n?Series.highlightedZIndex:o,t.visible=e.height>0})),[2]}))}))},e.prototype.updateLabelSelection=function(t){return __awaiter$5(this,void 0,void 0,(function(){var e;return __generator$5(this,(function(n){return e=t.labelData,[2,t.labelSelection.update(e,(function(t){t.tag=HistogramSeriesNodeTag.Label,t.pointerEvents=PointerEvents.None,t.textAlign="center",t.textBaseline="middle"}))]}))}))},e.prototype.updateLabelNodes=function(t){return __awaiter$5(this,void 0,void 0,(function(){var e,n;return __generator$5(this,(function(o){return e=t.labelSelection,n=this.label.enabled,e.each((function(t,e){var o=e.label;o&&n?(t.text=o.text,t.x=o.x,t.y=o.y,t.fontStyle=o.fontStyle,t.fontWeight=o.fontWeight,t.fontSize=o.fontSize,t.fontFamily=o.fontFamily,t.fill=o.fill,t.visible=!0):t.visible=!1})),[2]}))}))},e.prototype.getTooltipHtml=function(t){var e=this,n=e.xKey,o=e.yKey,r=e.xAxis,i=e.yAxis;if(!n||!r||!i)return"";var s=this,a=s.xName,l=s.yName,c=s.fill,u=s.tooltip,d=s.aggregation,p=s.id,h=u.renderer,f=t.datum,g=f.aggregatedValue,_=f.frequency,m=__read$v(f.domain,2),y=m[0],v=m[1],C=sanitizeHtml(a||n)+": "+r.formatDatum(y)+" - "+r.formatDatum(v),E=o?"<b>"+sanitizeHtml(l||o)+" ("+d+")</b>: "+i.formatDatum(g)+"<br>":"",b={title:C,backgroundColor:c,content:E+="<b>Frequency</b>: "+_};return h?toTooltipHtml$1(h({datum:f,xKey:n,xValue:f.domain,xName:a,yKey:o,yValue:f.aggregatedValue,yName:l,color:c,title:C,seriesId:p}),b):toTooltipHtml$1(b)},e.prototype.getLegendData=function(){var t=this,e=t.id,n=t.data,o=t.xKey,r=t.yName,i=t.visible,s=t.fill,a=t.stroke,l=t.fillOpacity,c=t.strokeOpacity;return n&&0!==n.length?[{id:e,itemId:o,seriesId:e,enabled:i,label:{text:r||o||"Frequency"},marker:{fill:s||"rgba(0, 0, 0, 0)",stroke:a||"rgba(0, 0, 0, 0)",fillOpacity:l,strokeOpacity:c}}]:[]},e.prototype.isLabelEnabled=function(){return this.label.enabled},e.className="HistogramSeries",e.type="histogram",__decorate$1p([Validate(OPT_COLOR_STRING)],e.prototype,"fill",void 0),__decorate$1p([Validate(OPT_COLOR_STRING)],e.prototype,"stroke",void 0),__decorate$1p([Validate(NUMBER(0,1))],e.prototype,"fillOpacity",void 0),__decorate$1p([Validate(NUMBER(0,1))],e.prototype,"strokeOpacity",void 0),__decorate$1p([Validate(OPT_LINE_DASH)],e.prototype,"lineDash",void 0),__decorate$1p([Validate(NUMBER(0))],e.prototype,"lineDashOffset",void 0),__decorate$1p([Validate(STRING)],e.prototype,"xKey",void 0),__decorate$1p([Validate(BOOLEAN)],e.prototype,"areaPlot",void 0),__decorate$1p([Validate(OPT_ARRAY())],e.prototype,"bins",void 0),__decorate$1p([Validate(HISTOGRAM_AGGREGATION)],e.prototype,"aggregation",void 0),__decorate$1p([Validate(OPT_NUMBER(0))],e.prototype,"binCount",void 0),__decorate$1p([Validate(STRING)],e.prototype,"xName",void 0),__decorate$1p([Validate(STRING)],e.prototype,"yKey",void 0),__decorate$1p([Validate(STRING)],e.prototype,"yName",void 0),__decorate$1p([Validate(NUMBER(0))],e.prototype,"strokeWidth",void 0),e}(CartesianSeries),__extends$21=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1o=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__awaiter$4=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{l(o.next(t))}catch(t){i(t)}}function a(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((o=o.apply(t,e||[])).next())}))},__generator$4=function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},__values$d=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$u=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},LineSeriesLabel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e}return __extends$21(e,t),__decorate$1o([Validate(OPT_FUNCTION)],e.prototype,"formatter",void 0),e}(Label$1),LineSeriesTooltip=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e.format=void 0,e}return __extends$21(e,t),__decorate$1o([Validate(OPT_FUNCTION)],e.prototype,"renderer",void 0),__decorate$1o([Validate(OPT_STRING)],e.prototype,"format",void 0),e}(SeriesTooltip),LineSeries=function(t){function e(){var e=t.call(this,{hasMarkers:!0,pickModes:[SeriesNodePickMode.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST,SeriesNodePickMode.NEAREST_NODE,SeriesNodePickMode.EXACT_SHAPE_MATCH]})||this;e.xDomain=[],e.yDomain=[],e.pointsData=[],e.marker=new CartesianSeriesMarker,e.label=new LineSeriesLabel,e.title=void 0,e.stroke="#874349",e.lineDash=[0],e.lineDashOffset=0,e.strokeWidth=2,e.strokeOpacity=1,e.tooltip=new LineSeriesTooltip,e._xKey="",e.xName="",e._yKey="",e.yName="";var n=e,o=n.marker,r=n.label;return o.fill="#c16068",o.stroke="#874349",r.enabled=!1,e}return __extends$21(e,t),Object.defineProperty(e.prototype,"xKey",{get:function(){return this._xKey},set:function(t){this._xKey=t,this.pointsData.splice(0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"yKey",{get:function(){return this._yKey},set:function(t){this._yKey=t,this.pointsData.splice(0)},enumerable:!1,configurable:!0}),e.prototype.getDomain=function(t){return t===ChartAxisDirection.X?this.xDomain:this.yDomain},e.prototype.processData=function(){return __awaiter$4(this,void 0,void 0,(function(){var t,e,n,o,r,i,s,a,l,c,u,d,p,h,f,g,_,m,y,v;return __generator$4(this,(function(C){if(e=(t=this).xAxis,n=t.yAxis,o=t.xKey,r=t.yKey,i=t.pointsData,s=o&&r&&this.data?this.data:[],!e||!n)return[2];a=e.scale instanceof ContinuousScale,l=n.scale instanceof ContinuousScale,c=[],u=[],i.splice(0);try{for(d=__values$d(s),p=d.next();!p.done;p=d.next())h=p.value,f=h[o],g=h[r],_=checkDatum(f,a),a&&void 0===_||(m=checkDatum(g,l),c.push(_),u.push(m),i.push({xDatum:_,yDatum:m,datum:h}))}catch(t){y={error:t}}finally{try{p&&!p.done&&(v=d.return)&&v.call(d)}finally{if(y)throw y.error}}return this.validateXYData(this.xKey,this.yKey,s,e,n,c,u,1),this.xDomain=a?this.fixNumericExtent(extent$4(c),e):c,this.yDomain=l?this.fixNumericExtent(extent$4(u),n):u,[2]}))}))},e.prototype.createNodeData=function(){var t;return __awaiter$4(this,void 0,void 0,(function(){var e,n,o,r,i,s,a,l,c,u,d,p,h,f,g,_,m,y,v,C,E,b,S,w,O,P,T,R,D,x,M,A,L,I,N;return __generator$4(this,(function(k){if(n=(e=this).data,o=e.xAxis,r=e.yAxis,i=e.marker,s=i.enabled,a=i.size,l=i.strokeWidth,!n||!o||!r)return[2,[]];for(u=(c=this).pointsData,d=c.label,p=c.yKey,h=c.xKey,f=c.id,g=o.scale,_=r.scale,m=(g.bandwidth||0)/2,y=(_.bandwidth||0)/2,v=new Array(n.length),C=s?a:0,E=!0,b=void 0,S=void 0,w=0,O=0;O<u.length;O++)if(void 0===(P=S||u[O]).yDatum)b=void 0,E=!0;else{if(T=P.xDatum,R=P.yDatum,D=P.datum,x=g.convert(T)+m,isNaN(x)){b=void 0,E=!0;continue}if(M=(g.bandwidth||.5*a+(l||0))+1,S=void 0===(null===(t=u[O+1])||void 0===t?void 0:t.yDatum)?void 0:u[O+1],A=o.inRangeEx(x,0,M),L=S&&o.inRangeEx(g.convert(S.xDatum)+m,0,M),-1===A&&-1===L){E=!0;continue}if(1===A&&1===b){E=!0;continue}b=A,I=_.convert(R)+y,N=void 0,N=d.formatter?d.formatter({value:R,seriesId:f}):"number"==typeof R&&isFinite(R)?R.toFixed(2):R?String(R):"",v[w++]={series:this,datum:D,yKey:p,xKey:h,point:{x,y:I,moveTo:E,size:C},nodeMidPoint:{x,y:I},label:N?{text:N,fontStyle:d.fontStyle,fontWeight:d.fontWeight,fontSize:d.fontSize,fontFamily:d.fontFamily,textAlign:"center",textBaseline:"bottom",fill:d.color}:void 0},E=!1}return v.length=w,[2,[{itemId:p,nodeData:v,labelData:v}]]}))}))},e.prototype.isPathOrSelectionDirty=function(){return this.marker.isDirty()},e.prototype.updatePaths=function(t){return __awaiter$4(this,void 0,void 0,(function(){var e,n,o,r,i,s,a,l,c;return __generator$4(this,(function(u){e=t.contextData.nodeData,n=__read$u(t.paths,1),o=n[0],r=o.path,o.fill=void 0,o.lineJoin="round",o.pointerEvents=PointerEvents.None,r.clear({trackChanges:!0});try{for(i=__values$d(e),s=i.next();!s.done;s=i.next())(a=s.value).point.moveTo?r.moveTo(a.point.x,a.point.y):r.lineTo(a.point.x,a.point.y)}catch(t){l={error:t}}finally{try{s&&!s.done&&(c=i.return)&&c.call(i)}finally{if(l)throw l.error}}return o.checkPathDirty(),[2]}))}))},e.prototype.updatePathNodes=function(t){return __awaiter$4(this,void 0,void 0,(function(){var e,n;return __generator$4(this,(function(o){return e=__read$u(t.paths,1),(n=e[0]).stroke=this.stroke,n.strokeWidth=this.getStrokeWidth(this.strokeWidth),n.strokeOpacity=this.strokeOpacity,n.lineDash=this.lineDash,n.lineDashOffset=this.lineDashOffset,[2]}))}))},e.prototype.markerFactory=function(){return new(getMarker$1(this.marker.shape))},e.prototype.updateMarkerSelection=function(t){return __awaiter$4(this,void 0,void 0,(function(){var e,n,o,r,i;return __generator$4(this,(function(s){return e=t.nodeData,n=t.markerSelection,o=this.marker,r=o.shape,i=o.enabled,e=r&&i?e:[],this.marker.isDirty()&&n.clear(),[2,n.update(e)]}))}))},e.prototype.updateMarkerNodes=function(t){return __awaiter$4(this,void 0,void 0,(function(){var e,n,o,r,i,s,a,l,c,u,d,p,h,f,g,_,m,y,v,C;return __generator$4(this,(function(E){return e=t.markerSelection,n=t.isHighlight,r=(o=this).marker,i=o.marker.fillOpacity,s=o.xKey,a=o.yKey,l=o.stroke,c=o.strokeOpacity,u=o.highlightStyle.item,d=u.fill,p=u.fillOpacity,h=void 0===p?i:p,f=u.stroke,g=u.strokeWidth,_=o.id,m=r.size,y=r.formatter,v=void 0!==r.strokeWidth?r.strokeWidth:this.strokeWidth,C="function"==typeof r.shape,e.each((function(t,e){var o,u,p=n&&void 0!==d?d:r.fill,E=n?h:i,b=n&&void 0!==f?f:r.stroke||l,S=n&&void 0!==g?g:v,w=void 0;y&&(w=y({datum:e.datum,xKey:s,yKey:a,fill:p,stroke:b,strokeWidth:S,size:m,highlighted:n,seriesId:_})),t.fill=w&&w.fill||p,t.stroke=w&&w.stroke||b,t.strokeWidth=w&&void 0!==w.strokeWidth?w.strokeWidth:S,t.fillOpacity=null!=E?E:1,t.strokeOpacity=null!==(u=null!==(o=r.strokeOpacity)&&void 0!==o?o:c)&&void 0!==u?u:1,t.size=w&&void 0!==w.size?w.size:m,t.translationX=e.point.x,t.translationY=e.point.y,t.visible=t.size>0&&!isNaN(e.point.x)&&!isNaN(e.point.y),C&&!t.dirtyPath&&(t.path.clear({trackChanges:!0}),t.updatePath(),t.checkPathDirty())})),n||this.marker.markClean(),[2]}))}))},e.prototype.updateLabelSelection=function(t){return __awaiter$4(this,void 0,void 0,(function(){var e,n,o,r,i;return __generator$4(this,(function(s){return e=t.labelData,n=t.labelSelection,o=this.marker,r=o.shape,i=o.enabled,e=r&&i?e:[],[2,n.update(e)]}))}))},e.prototype.updateLabelNodes=function(t){return __awaiter$4(this,void 0,void 0,(function(){var e,n,o,r,i,s,a,l;return __generator$4(this,(function(c){return e=t.labelSelection,n=this.label,o=n.enabled,r=n.fontStyle,i=n.fontWeight,s=n.fontSize,a=n.fontFamily,l=n.color,e.each((function(t,e){var n=e.point,c=e.label;e&&c&&o?(t.fontStyle=r,t.fontWeight=i,t.fontSize=s,t.fontFamily=a,t.textAlign=c.textAlign,t.textBaseline=c.textBaseline,t.text=c.text,t.x=n.x,t.y=n.y-10,t.fill=l,t.visible=!0):t.visible=!1})),[2]}))}))},e.prototype.getNodeClickEvent=function(t,e){return new CartesianSeriesNodeClickEvent(this.xKey,this.yKey,t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){return new CartesianSeriesNodeDoubleClickEvent(this.xKey,this.yKey,t,e,this)},e.prototype.getTooltipHtml=function(t){var e=this,n=e.xKey,o=e.yKey,r=e.xAxis,i=e.yAxis;if(!(n&&o&&r&&i))return"";var s=this,a=s.xName,l=s.yName,c=s.tooltip,u=s.marker,d=s.id,p=c.renderer,h=c.format,f=t.datum,g=f[n],_=f[o],m=r.formatDatum(g),y=i.formatDatum(_),v=sanitizeHtml(this.title||l),C=sanitizeHtml(m+": "+y),E=u.formatter,b=u.fill,S=u.stroke,w=u.strokeWidth,O=u.size,P=void 0!==w?w:this.strokeWidth,T=void 0;E&&(T=E({datum:f,xKey:n,yKey:o,fill:b,stroke:S,strokeWidth:P,size:O,highlighted:!1,seriesId:d}));var R=T&&T.fill||b,D={title:v,backgroundColor:R,content:C};if(h||p){var x={datum:f,xKey:n,xValue:g,xName:a,yKey:o,yValue:_,yName:l,title:v,color:R,seriesId:d};if(h)return toTooltipHtml$1({content:interpolate(h,x)},D);if(p)return toTooltipHtml$1(p(x),D)}return toTooltipHtml$1(D)},e.prototype.getLegendData=function(){var t,e,n,o=this,r=o.id,i=o.data,s=o.xKey,a=o.yKey,l=o.yName,c=o.visible,u=o.title,d=o.marker,p=o.stroke,h=o.strokeOpacity;return i&&i.length&&s&&a?[{id:r,itemId:a,seriesId:r,enabled:c,label:{text:u||l||a},marker:{shape:d.shape,fill:d.fill||"rgba(0, 0, 0, 0)",stroke:d.stroke||p||"rgba(0, 0, 0, 0)",fillOpacity:null!==(t=d.fillOpacity)&&void 0!==t?t:1,strokeOpacity:null!==(n=null!==(e=d.strokeOpacity)&&void 0!==e?e:h)&&void 0!==n?n:1}}]:[]},e.prototype.isLabelEnabled=function(){return this.label.enabled},e.className="LineSeries",e.type="line",__decorate$1o([Validate(OPT_STRING)],e.prototype,"title",void 0),__decorate$1o([Validate(OPT_COLOR_STRING)],e.prototype,"stroke",void 0),__decorate$1o([Validate(OPT_LINE_DASH)],e.prototype,"lineDash",void 0),__decorate$1o([Validate(NUMBER(0))],e.prototype,"lineDashOffset",void 0),__decorate$1o([Validate(NUMBER(0))],e.prototype,"strokeWidth",void 0),__decorate$1o([Validate(NUMBER(0,1))],e.prototype,"strokeOpacity",void 0),__decorate$1o([Validate(STRING)],e.prototype,"_xKey",void 0),__decorate$1o([Validate(STRING)],e.prototype,"xName",void 0),__decorate$1o([Validate(STRING)],e.prototype,"_yKey",void 0),__decorate$1o([Validate(STRING)],e.prototype,"yName",void 0),e}(CartesianSeries),__extends$20=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$w=function(){return __assign$w=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$w.apply(this,arguments)},__decorate$1n=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__awaiter$3=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{l(o.next(t))}catch(t){i(t)}}function a(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((o=o.apply(t,e||[])).next())}))},__generator$3=function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},__read$t=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$g=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$t(arguments[e]));return t},__values$c=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ScatterSeriesNodeBaseClickEvent=function(t){function e(e,n,o,r,i,s){var a=t.call(this,n,o,r,i,s)||this;return a.sizeKey=e,a}return __extends$20(e,t),e}(CartesianSeriesNodeBaseClickEvent),ScatterSeriesNodeClickEvent=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeClick",e}return __extends$20(e,t),e}(ScatterSeriesNodeBaseClickEvent),ScatterSeriesNodeDoubleClickEvent=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeDoubleClick",e}return __extends$20(e,t),e}(ScatterSeriesNodeBaseClickEvent),ScatterSeriesTooltip=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e}return __extends$20(e,t),__decorate$1n([Validate(OPT_FUNCTION)],e.prototype,"renderer",void 0),e}(SeriesTooltip),ScatterSeries=function(t){function e(){var e=t.call(this,{pickModes:[SeriesNodePickMode.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST,SeriesNodePickMode.NEAREST_NODE,SeriesNodePickMode.EXACT_SHAPE_MATCH],pathsPerSeries:0,hasMarkers:!0})||this;return e.sizeScale=new LinearScale$1,e.marker=new CartesianSeriesMarker,e.label=new Label$1,e.title=void 0,e.labelKey=void 0,e.xName="",e.yName="",e.sizeName="Size",e.labelName="Label",e._xKey="",e._yKey="",e._sizeKey=void 0,e.tooltip=new ScatterSeriesTooltip,e.label.enabled=!1,e}return __extends$20(e,t),Object.defineProperty(e.prototype,"xKey",{get:function(){return this._xKey},set:function(t){this._xKey=t,this.processedData=void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"yKey",{get:function(){return this._yKey},set:function(t){this._yKey=t,this.processedData=void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeKey",{get:function(){return this._sizeKey},set:function(t){this._sizeKey=t,this.processedData=void 0},enumerable:!1,configurable:!0}),e.prototype.processData=function(){var t,e,n,o;return __awaiter$3(this,void 0,void 0,(function(){var r,i,s,a,l,c,u,d,p,h,f,g;return __generator$3(this,(function(_){return i=(r=this).xKey,s=r.yKey,a=r.sizeKey,l=r.xAxis,c=r.yAxis,u=r.marker,d=r.data,p=(null==l?void 0:l.scale)instanceof ContinuousScale,h=(null==c?void 0:c.scale)instanceof ContinuousScale,this.dataModel=new DataModel({props:__spread$g([valueProperty(i,p),valueProperty(s,h)],a?[valueProperty(a,!0)]:[]),dataVisible:this.visible}),this.processedData=this.dataModel.processData(null!=d?d:[]),a&&(f=null!==(e=null===(t=this.dataModel.resolveProcessedDataIndex(a))||void 0===t?void 0:t.index)&&void 0!==e?e:-1,g=null!==(o=null===(n=this.processedData)||void 0===n?void 0:n.domain.values[f])&&void 0!==o?o:[],this.sizeScale.domain=u.domain?u.domain:g),[2]}))}))},e.prototype.getDomain=function(t){var e,n,o,r,i,s,a=null===(e=this.dataModel)||void 0===e?void 0:e.resolveProcessedDataIndex(this.xKey),l=null===(n=this.dataModel)||void 0===n?void 0:n.resolveProcessedDataIndex(this.yKey);return a&&l?t===ChartAxisDirection.X?null!==(r=null===(o=this.processedData)||void 0===o?void 0:o.domain.values[0])&&void 0!==r?r:[]:null!==(s=null===(i=this.processedData)||void 0===i?void 0:i.domain.values[1])&&void 0!==s?s:[]:[]},e.prototype.getNodeClickEvent=function(t,e){return new ScatterSeriesNodeClickEvent(this.sizeKey,this.xKey,this.yKey,t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){return new ScatterSeriesNodeDoubleClickEvent(this.sizeKey,this.xKey,this.yKey,t,e,this)},e.prototype.createNodeData=function(){var t,e,n,o,r,i;return __awaiter$3(this,void 0,void 0,(function(){var s,a,l,c,u,d,p,h,f,g,_,m,y,v,C,E,b,S,w,O,P,T,R,D,x,M,A,L,I,N,k,F;return __generator$3(this,(function(G){if(a=(s=this).visible,l=s.xAxis,c=s.yAxis,u=s.yKey,d=s.xKey,p=s.label,h=s.labelKey,f=null===(t=this.dataModel)||void 0===t?void 0:t.resolveProcessedDataIndex(d),g=null===(e=this.dataModel)||void 0===e?void 0:e.resolveProcessedDataIndex(u),!(f&&g&&a&&l&&c))return[2,[]];_=l.scale,m=c.scale,y=(_.bandwidth||0)/2,v=(m.bandwidth||0)/2,E=(C=this).sizeScale,b=C.marker,S=new Array(null!==(o=null===(n=this.processedData)||void 0===n?void 0:n.data.length)&&void 0!==o?o:0),E.range=[b.size,b.maxSize],w=p.getFont(),O=0;try{for(P=__values$c(null!==(i=null===(r=this.processedData)||void 0===r?void 0:r.data)&&void 0!==i?i:[]),T=P.next();!T.done;T=P.next())R=T.value,D=R.values,x=R.datum,M=_.convert(D[f.index])+y,A=m.convert(D[g.index])+v,this.checkRangeXY(M,A,l,c)&&(L=h?String(x[h]):"",I=HdpiCanvas.getTextSize(L,w),N=D.length>2?E.convert(D[2]):b.size,S[O++]={series:this,itemId:u,yKey:u,xKey:d,datum:x,point:{x:M,y:A,size:N},nodeMidPoint:{x:M,y:A},label:__assign$w({text:L},I)})}catch(t){k={error:t}}finally{try{T&&!T.done&&(F=P.return)&&F.call(P)}finally{if(k)throw k.error}}return S.length=O,[2,[{itemId:this.yKey,nodeData:S,labelData:S}]]}))}))},e.prototype.isPathOrSelectionDirty=function(){return this.marker.isDirty()},e.prototype.getLabelData=function(){var t;return null===(t=this.contextNodeData)||void 0===t?void 0:t.reduce((function(t,e){return t.concat(e.labelData)}),[])},e.prototype.markerFactory=function(){return new(getMarker$1(this.marker.shape))},e.prototype.updateMarkerSelection=function(t){return __awaiter$3(this,void 0,void 0,(function(){var e,n,o,r;return __generator$3(this,(function(i){return e=t.nodeData,n=t.markerSelection,o=this.marker.enabled,this.marker.isDirty()&&n.clear(),r=o?e:[],[2,n.update(r)]}))}))},e.prototype.updateMarkerNodes=function(t){return __awaiter$3(this,void 0,void 0,(function(){var e,n,o,r,i,s,a,l,c,u,d,p,h,f,g,_,m,y,v,C;return __generator$3(this,(function(E){return e=t.markerSelection,n=t.isHighlight,r=(o=this).marker,i=o.xKey,s=o.yKey,a=o.sizeScale,l=o.marker,c=l.fillOpacity,u=l.strokeOpacity,d=l.strokeWidth,p=o.highlightStyle.item,h=p.fill,f=p.fillOpacity,g=void 0===f?c:f,_=p.stroke,m=p.strokeWidth,y=o.id,v=r.formatter,a.range=[r.size,r.maxSize],C="function"==typeof r.shape,e.each((function(t,e){var o,a,l,p,f,E,b,S=n&&void 0!==h?h:r.fill,w=n?g:c,O=n&&void 0!==_?_:r.stroke,P=u,T=n&&void 0!==m?m:null!=d?d:1,R=null!==(a=null===(o=e.point)||void 0===o?void 0:o.size)&&void 0!==a?a:0,D=void 0;v&&(D=v({datum:e.datum,xKey:i,yKey:s,fill:S,stroke:O,strokeWidth:T,size:R,highlighted:n,seriesId:y})),t.fill=D&&D.fill||S,t.stroke=D&&D.stroke||O,t.strokeWidth=null!==(l=null==D?void 0:D.strokeWidth)&&void 0!==l?l:T,t.size=D&&void 0!==D.size?D.size:R,t.fillOpacity=null!=w?w:1,t.strokeOpacity=null!=P?P:1,t.translationX=null!==(f=null===(p=e.point)||void 0===p?void 0:p.x)&&void 0!==f?f:0,t.translationY=null!==(b=null===(E=e.point)||void 0===E?void 0:E.y)&&void 0!==b?b:0,t.visible=t.size>0,C&&!t.dirtyPath&&(t.path.clear({trackChanges:!0}),t.updatePath(),t.checkPathDirty())})),n||this.marker.markClean(),[2]}))}))},e.prototype.updateLabelSelection=function(t){var e,n;return __awaiter$3(this,void 0,void 0,(function(){var o,r,i,s;return __generator$3(this,(function(a){return o=t.labelSelection,r=this.label.enabled,i=r&&null!==(n=null===(e=this.chart)||void 0===e?void 0:e.placeLabels().get(this))&&void 0!==n?n:[],s=i.map((function(t){return __assign$w(__assign$w({},t.datum),{point:{x:t.x,y:t.y,size:t.datum.point.size}})})),[2,o.update(s)]}))}))},e.prototype.updateLabelNodes=function(t){return __awaiter$3(this,void 0,void 0,(function(){var e,n;return __generator$3(this,(function(o){return e=t.labelSelection,n=this.label,e.each((function(t,e){var o,r,i,s;t.text=e.label.text,t.fill=n.color,t.x=null!==(r=null===(o=e.point)||void 0===o?void 0:o.x)&&void 0!==r?r:0,t.y=null!==(s=null===(i=e.point)||void 0===i?void 0:i.y)&&void 0!==s?s:0,t.fontStyle=n.fontStyle,t.fontWeight=n.fontWeight,t.fontSize=n.fontSize,t.fontFamily=n.fontFamily,t.textAlign="left",t.textBaseline="top"})),[2]}))}))},e.prototype.getTooltipHtml=function(t){var e,n,o,r=this,i=r.xKey,s=r.yKey,a=r.xAxis,l=r.yAxis;if(!(i&&s&&a&&l))return"";var c=this,u=c.marker,d=c.tooltip,p=c.xName,h=c.yName,f=c.sizeKey,g=c.sizeName,_=c.labelKey,m=c.labelName,y=c.id,v=u.fill,C=u.stroke,E=this.getStrokeWidth(null!==(e=u.strokeWidth)&&void 0!==e?e:1),b=this.marker.formatter,S=void 0;b&&(S=b({datum:t,xKey:i,yKey:s,fill:v,stroke:C,strokeWidth:E,size:null!==(o=null===(n=t.point)||void 0===n?void 0:n.size)&&void 0!==o?o:0,highlighted:!1,seriesId:y}));var w=S&&S.fill||v||"gray",O=this.title||h,P=t.datum,T=P[i],R=P[s],D=sanitizeHtml(a.formatDatum(T)),x=sanitizeHtml(l.formatDatum(R)),M="<b>"+sanitizeHtml(p||i)+"</b>: "+D+"<br><b>"+sanitizeHtml(h||s)+"</b>: "+x;f&&(M+="<br><b>"+sanitizeHtml(g||f)+"</b>: "+sanitizeHtml(P[f])),_&&(M="<b>"+sanitizeHtml(m||_)+"</b>: "+sanitizeHtml(P[_])+"<br>"+M);var A={title:O,backgroundColor:w,content:M},L=d.renderer;return L?toTooltipHtml$1(L({datum:P,xKey:i,xValue:T,xName:p,yKey:s,yValue:R,yName:h,sizeKey:f,sizeName:g,labelKey:_,labelName:m,title:O,color:w,seriesId:y}),A):toTooltipHtml$1(A)},e.prototype.getLegendData=function(){var t=this,e=t.id,n=t.data,o=t.xKey,r=t.yKey,i=t.yName,s=t.title,a=t.visible,l=t.marker,c=l.fill,u=l.stroke,d=l.fillOpacity,p=l.strokeOpacity;return n&&n.length&&o&&r?[{id:e,itemId:r,seriesId:e,enabled:a,label:{text:s||i||r},marker:{shape:l.shape,fill:l.fill||c||"rgba(0, 0, 0, 0)",stroke:l.stroke||u||"rgba(0, 0, 0, 0)",fillOpacity:null!=d?d:1,strokeOpacity:null!=p?p:1}}]:[]},e.prototype.isLabelEnabled=function(){return this.label.enabled},e.className="ScatterSeries",e.type="scatter",__decorate$1n([Validate(OPT_STRING)],e.prototype,"title",void 0),__decorate$1n([Validate(OPT_STRING)],e.prototype,"labelKey",void 0),__decorate$1n([Validate(STRING)],e.prototype,"xName",void 0),__decorate$1n([Validate(STRING)],e.prototype,"yName",void 0),__decorate$1n([Validate(OPT_STRING)],e.prototype,"sizeName",void 0),__decorate$1n([Validate(OPT_STRING)],e.prototype,"labelName",void 0),__decorate$1n([Validate(STRING)],e.prototype,"_xKey",void 0),__decorate$1n([Validate(STRING)],e.prototype,"_yKey",void 0),__decorate$1n([Validate(OPT_STRING)],e.prototype,"_sizeKey",void 0),e}(CartesianSeries);function isPointInSector(t,e,n){var o=Math.sqrt(Math.pow(t,2)+Math.pow(e,2)),r=n.innerRadius,i=n.outerRadius;if(o<Math.min(r,i)||o>Math.max(r,i))return!1;var s=Math.atan2(e,t);s<-Math.PI/2&&(s+=2*Math.PI);var a=n.startAngle,l=n.endAngle;return l===-Math.PI/2?s<a:a===3*Math.PI/2?s>l:s>=l&&s<=a}function lineCollidesSector(t,e){var n=e.startAngle,o=e.endAngle,r=e.innerRadius,i=e.outerRadius,s={x:i*Math.cos(n),y:i*Math.sin(n)},a={x:i*Math.cos(o),y:i*Math.sin(o)},l=0===r?{x:0,y:0}:{x:r*Math.cos(n),y:r*Math.sin(n)},c=0===r?{x:0,y:0}:{x:r*Math.cos(o),y:r*Math.sin(o)};return null!=segmentIntersection(t.start.x,t.start.y,t.end.x,t.end.y,s.x,s.y,l.x,l.y)||null!=segmentIntersection(t.start.x,t.start.y,t.end.x,t.end.y,a.x,a.y,c.x,c.y)||arcIntersections(0,0,i,n,o,!0,t.start.x,t.start.y,t.end.x,t.end.y).length>0}function boxCollidesSector(t,e){var n={x:t.x,y:t.y},o={x:t.x+t.width,y:t.y},r={x:t.x,y:t.y+t.height},i={x:t.x+t.width,y:t.y+t.height};return lineCollidesSector({start:n,end:o},e)||lineCollidesSector({start:r,end:i},e)}var __extends$1$=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1m=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Sector=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.centerX=0,e.centerY=0,e.innerRadius=10,e.outerRadius=20,e.startAngle=0,e.endAngle=2*Math.PI,e.angleOffset=0,e}return __extends$1$(e,t),e.prototype.computeBBox=function(){var t=this.outerRadius;return new BBox(this.centerX-t,this.centerY-t,2*t,2*t)},e.prototype.updatePath=function(){var t=this.path,e=this.angleOffset,n=Math.min(this.startAngle,this.endAngle)+e,o=Math.max(this.startAngle,this.endAngle)+e,r=Math.min(this.innerRadius,this.outerRadius),i=Math.max(this.innerRadius,this.outerRadius),s=isEqual$2(normalizeAngle360(this.startAngle),normalizeAngle360(this.endAngle)),a=this.centerX,l=this.centerY;t.clear(),s?(t.arc(a,l,i,n,o),r>0&&(t.moveTo(a+r*Math.cos(o),l+r*Math.sin(o)),t.arc(a,l,r,o,n,!0))):(t.moveTo(a+r*Math.cos(n),l+r*Math.sin(n)),t.arc(a,l,i,n,o),r>0?t.arc(a,l,r,o,n,!0):t.lineTo(a,l)),t.closePath(),this.dirtyPath=!1},e.prototype.isPointInPath=function(t,e){var n=this.angleOffset,o=this.startAngle+n,r=this.endAngle+n,i=Math.min(this.innerRadius,this.outerRadius),s=Math.max(this.innerRadius,this.outerRadius),a=this.transformPoint(t,e);return isPointInSector(a.x,a.y,{startAngle:o,endAngle:r,innerRadius:i,outerRadius:s})},e.className="Sector",__decorate$1m([ScenePathChangeDetection()],e.prototype,"centerX",void 0),__decorate$1m([ScenePathChangeDetection()],e.prototype,"centerY",void 0),__decorate$1m([ScenePathChangeDetection()],e.prototype,"innerRadius",void 0),__decorate$1m([ScenePathChangeDetection()],e.prototype,"outerRadius",void 0),__decorate$1m([ScenePathChangeDetection()],e.prototype,"startAngle",void 0),__decorate$1m([ScenePathChangeDetection()],e.prototype,"endAngle",void 0),__decorate$1m([ScenePathChangeDetection()],e.prototype,"angleOffset",void 0),e}(Path),__extends$1_=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$v=function(){return __assign$v=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$v.apply(this,arguments)},__decorate$1l=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__awaiter$2=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{l(o.next(t))}catch(t){i(t)}}function a(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((o=o.apply(t,e||[])).next())}))},__generator$2=function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},__read$s=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$f=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$s(arguments[e]));return t},PieSeriesNodeBaseClickEvent=function(t){function e(e,n,o,r,i,s,a){var l=t.call(this,i,s,a)||this;return l.angleKey=e,l.calloutLabelKey=n,l.sectorLabelKey=o,l.radiusKey=r,l}return __extends$1_(e,t),__decorate$1l([DeprecatedAndRenamedTo("calloutLabelKey")],e.prototype,"labelKey",void 0),e}(SeriesNodeBaseClickEvent),PieSeriesNodeClickEvent=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeClick",e}return __extends$1_(e,t),e}(PieSeriesNodeBaseClickEvent),PieSeriesNodeDoubleClickEvent=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeDoubleClick",e}return __extends$1_(e,t),e}(PieSeriesNodeBaseClickEvent),PieNodeTag;!function(t){t[t.Sector=0]="Sector",t[t.Callout=1]="Callout",t[t.Label=2]="Label"}(PieNodeTag||(PieNodeTag={}));var PieSeriesCalloutLabel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.offset=3,e.minAngle=0,e.formatter=void 0,e.minSpacing=4,e.maxCollisionOffset=50,e}return __extends$1_(e,t),__decorate$1l([Validate(NUMBER(0))],e.prototype,"offset",void 0),__decorate$1l([Validate(NUMBER(0))],e.prototype,"minAngle",void 0),__decorate$1l([Validate(OPT_FUNCTION)],e.prototype,"formatter",void 0),__decorate$1l([Validate(NUMBER(0))],e.prototype,"minSpacing",void 0),__decorate$1l([Validate(NUMBER(0))],e.prototype,"maxCollisionOffset",void 0),e}(Label$1),PieSeriesSectorLabel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.positionOffset=0,e.positionRatio=.5,e.formatter=void 0,e}return __extends$1_(e,t),__decorate$1l([Validate(NUMBER())],e.prototype,"positionOffset",void 0),__decorate$1l([Validate(NUMBER(0,1))],e.prototype,"positionRatio",void 0),__decorate$1l([Validate(OPT_FUNCTION)],e.prototype,"formatter",void 0),e}(Label$1),PieSeriesCalloutLine=function(){function t(){this.colors=void 0,this.length=10,this.strokeWidth=1}return __decorate$1l([Validate(OPT_COLOR_STRING_ARRAY)],t.prototype,"colors",void 0),__decorate$1l([Validate(NUMBER(0))],t.prototype,"length",void 0),__decorate$1l([Validate(NUMBER(0))],t.prototype,"strokeWidth",void 0),t}(),PieSeriesTooltip=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e}return __extends$1_(e,t),__decorate$1l([Validate(OPT_FUNCTION)],e.prototype,"renderer",void 0),e}(SeriesTooltip),PieTitle=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showInLegend=!1,e}return __extends$1_(e,t),__decorate$1l([Validate(BOOLEAN)],e.prototype,"showInLegend",void 0),e}(Caption),DoughnutInnerLabel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.text="",e.margin=2,e}return __extends$1_(e,t),__decorate$1l([Validate(STRING)],e.prototype,"text",void 0),__decorate$1l([Validate(NUMBER())],e.prototype,"margin",void 0),e}(Label$1),DoughnutInnerCircle=function(){function t(){this.fill="transparent",this.fillOpacity=1}return __decorate$1l([Validate(COLOR_STRING)],t.prototype,"fill",void 0),__decorate$1l([Validate(OPT_NUMBER(0,1))],t.prototype,"fillOpacity",void 0),t}(),PieSeries=function(t){function e(){var e,n=t.call(this,{useLabelLayer:!0})||this;n.radiusScale=new LinearScale$1,n.groupSelection=Selection.select(n.contentGroup,Group),n.highlightSelection=Selection.select(n.highlightGroup,Group),n.groupSelectionData=[],n.sectorFormatData=[],n.angleScale=((e=new LinearScale$1).domain=[0,1],e.range=[-Math.PI,Math.PI].map((function(t){return t+Math.PI/2})),e),n.seriesItemEnabled=[],n.calloutLabel=new PieSeriesCalloutLabel,n.label=n.calloutLabel,n.sectorLabel=new PieSeriesSectorLabel,n.calloutLine=new PieSeriesCalloutLine,n.callout=n.calloutLine,n.tooltip=new PieSeriesTooltip,n.angleKey="",n.angleName="",n.innerLabels=[],n.radiusKey=void 0,n.radiusName=void 0,n.radiusMin=void 0,n.radiusMax=void 0,n.calloutLabelKey=void 0,n.calloutLabelName=void 0,n.labelKey=void 0,n.labelName=void 0,n.sectorLabelKey=void 0,n.sectorLabelName=void 0,n.legendItemKey=void 0,n.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],n.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],n.fillOpacity=1,n.strokeOpacity=1,n.lineDash=[0],n.lineDashOffset=0,n.formatter=void 0,n.rotation=0,n.outerRadiusOffset=0,n.outerRadiusRatio=1,n.innerRadiusOffset=0,n.innerRadiusRatio=1,n.strokeWidth=1,n.shadow=void 0,n.highlightStyle=new HighlightStyle,n.datumSectorRefs=new WeakMap,n.backgroundGroup=n.rootGroup.appendChild(new Group({name:n.id+"-background",layer:!0,zIndex:Layers.SERIES_BACKGROUND_ZINDEX}));var o=new Group({name:"pieCalloutLabels"}),r=new Group({name:"pieSectorLabels"}),i=new Group({name:"innerLabels"});return n.labelGroup.append(o),n.labelGroup.append(r),n.labelGroup.append(i),n.calloutLabelSelection=Selection.select(o,Group),n.sectorLabelSelection=Selection.select(r,Text),n.innerLabelsSelection=Selection.select(i,Text),n}return __extends$1_(e,t),Object.defineProperty(e.prototype,"title",{get:function(){return this._title},set:function(t){var e,n,o=this._title;o!==t&&(o&&(null===(e=this.labelGroup)||void 0===e||e.removeChild(o.node)),t&&(t.node.textBaseline="bottom",null===(n=this.labelGroup)||void 0===n||n.appendChild(t.node)),this._title=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t,this.processSeriesItemEnabled()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"innerCircle",{get:function(){return this._innerCircleConfig},set:function(t){var e;if(this._innerCircleConfig!==t){var n=this._innerCircleNode,o=void 0;n&&this.backgroundGroup.removeChild(n),t&&((o=new Circle).fill=t.fill,o.fillOpacity=null!==(e=t.fillOpacity)&&void 0!==e?e:1,this.backgroundGroup.appendChild(o)),this._innerCircleConfig=t,this._innerCircleNode=o}},enumerable:!1,configurable:!0}),e.prototype.visibleChanged=function(){this.processSeriesItemEnabled()},e.prototype.processSeriesItemEnabled=function(){var t=this.data,e=this.visible;this.seriesItemEnabled=(null==t?void 0:t.map((function(){return e})))||[]},e.prototype.getDomain=function(t){return t===ChartAxisDirection.X?this.angleScale.domain:this.radiusScale.domain},e.prototype.processData=function(){return __awaiter$2(this,void 0,void 0,(function(){var t,e,n,o,r,i,s,a,l,c,u,d,p,h,f,g,_,m,y,v,C,E,b,S,w,O,P,T,R,D,x,M,A,L,I,N=this;return __generator$2(this,(function(k){var F;return e=(t=this).angleKey,n=t.radiusKey,o=t.seriesItemEnabled,r=t.angleScale,i=t.groupSelectionData,s=t.sectorFormatData,a=t.calloutLabel,l=t.sectorLabel,c=t.id,u=e&&this.data?this.data:[],d=u.map((function(t,n){return o[n]&&Math.abs(+t[e])||0})),p=d.reduce((function(t,e){return t+e}),0),F=0,h=d.map((function(t){return F+=t/p})),f=a.formatter,g=a.enabled?this.calloutLabelKey:void 0,_=l.enabled?this.sectorLabelKey:void 0,m=[],y=[],v=[],C=function(t){return{datum:t,angleKey:e,angleValue:t[e],angleName:N.angleName,radiusKey:n,radiusValue:n?t[n]:void 0,radiusName:N.radiusName,labelKey:g,labelValue:g?t[g]:void 0,labelName:N.calloutLabelName,calloutLabelKey:g,calloutLabelValue:g?t[g]:void 0,calloutLabelName:N.calloutLabelName,sectorLabelKey:_,sectorLabelValue:_?t[_]:void 0,sectorLabelName:N.sectorLabelName,seriesId:c}},g&&(f?(E=function(){return Logger.warnOnce("the use of { value } in the pie chart label formatter function is deprecated. Please use { datum, labelKey, ... } instead.")},m=u.map((function(t){var e=t[g],n=__assign$v(__assign$v({},C(t)),{get value(){return E(),e},set value(t){E(),e=t}});return f(n)}))):m=u.map((function(t){return String(t[g])}))),b=l.formatter,_&&(y=b?u.map((function(t){var e=C(t);return b(e)})):u.map((function(t){return String(t[_])}))),n&&(w=(S=this).radiusMin,O=S.radiusMax,P=u.map((function(t){return Math.abs(t[n])})),T=null!=w?w:0,R=O||Math.max.apply(Math,__spread$f(P)),D=R-T,v=P.map((function(t){return D?(t-T)/D:1}))),i.length=0,s.length=0,s.push.apply(s,__spread$f(u.map((function(t,e){return N.getSectorFormat(t,e,e,!1)})))),x=toRadians$1(this.rotation),M=Math.PI/2,A=0,L=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],I=0,h.forEach((function(t){if(!isNaN(t)){var e=n?v[A]:1,o=r.convert(t)+x,l=r.convert(I)+x,c=(o+l)/2,d=Math.abs(l-o),p=Math.cos(c),h=Math.sin(c),f=toRadians$1(a.minAngle),C=g&&d>f,E=normalizeAngle180(c)- -3*Math.PI/4,b=mod(Math.floor(E/M),L.length),S=L[b],w=S.textAlign,O=S.textBaseline,P=u[A],T=A;i.push({series:N,datum:P,itemId:T,index:A,radius:e,startAngle:o,endAngle:l,midAngle:c,midCos:p,midSin:h,calloutLabel:C?{text:m[A],textAlign:w,textBaseline:O,hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0}:void 0,sectorLabel:_?{text:y[A]}:void 0,sectorFormat:s[A]}),A++,I=t}})),[2]}))}))},e.prototype.getSectorFormat=function(t,e,n,o){var r,i,s,a,l,c,u=this,d=u.angleKey,p=u.radiusKey,h=u.fills,f=u.strokes,g=u.fillOpacity,_=u.formatter,m=u.id,y=null===(r=this.highlightManager)||void 0===r?void 0:r.getActiveHighlight(),v=o&&(null==y?void 0:y.series)===this&&e===y.itemId,C=v?this.highlightStyle.item:null,E=(null==C?void 0:C.fill)||h[n%h.length],b=null!==(i=null==C?void 0:C.fillOpacity)&&void 0!==i?i:g,S=(null==C?void 0:C.stroke)||f[n%f.length],w=null!==(s=null==C?void 0:C.strokeWidth)&&void 0!==s?s:this.getStrokeWidth(this.strokeWidth);return _&&(c=_({datum:t,angleKey:d,radiusKey:p,fill:E,stroke:S,strokeWidth:w,highlighted:v,seriesId:m})),{fill:(null==c?void 0:c.fill)||E,fillOpacity:null!==(a=null==c?void 0:c.fillOpacity)&&void 0!==a?a:b,stroke:(null==c?void 0:c.stroke)||S,strokeWidth:null!==(l=null==c?void 0:c.strokeWidth)&&void 0!==l?l:w}},e.prototype.createNodeData=function(){return __awaiter$2(this,void 0,void 0,(function(){return __generator$2(this,(function(t){return[2,[]]}))}))},e.prototype.getInnerRadius=function(){var t=this,e=t.radius,n=t.innerRadiusRatio,o=t.innerRadiusOffset,r=e*(null!=n?n:1)+(o||0);return r===e||r<0?0:r},e.prototype.getOuterRadius=function(){var t=this,e=t.radius,n=t.outerRadiusRatio,o=t.outerRadiusOffset,r=e*(null!=n?n:1)+(o||0);return r<0?0:r},e.prototype.updateRadiusScale=function(){var t=this.getInnerRadius(),e=this.getOuterRadius();this.radiusScale.range=[t,e]},e.prototype.getTitleTranslationY=function(){var t,e,n=Math.max(0,this.radiusScale.range[1]);if(0===n)return NaN;var o=2+(null!==(e=null===(t=this.title)||void 0===t?void 0:t.spacing)&&void 0!==e?e:0),r=Math.min.apply(Math,__spread$f([0],this.groupSelectionData.map((function(t){var e,n;return(null===(n=null===(e=t.calloutLabel)||void 0===e?void 0:e.box)||void 0===n?void 0:n.y)||0}))));return-n-o-Math.max(0,-n-r)},e.prototype.update=function(){return __awaiter$2(this,void 0,void 0,(function(){var t,e;return __generator$2(this,(function(n){switch(n.label){case 0:return t=this.title,this.updateRadiusScale(),this.rootGroup.translationX=this.centerX,this.rootGroup.translationY=this.centerY,t&&(e=this.getTitleTranslationY(),isFinite(e)?(t.node.visible=t.enabled,t.node.translationY=e):t.node.visible=!1),this.updateNodeMidPoint(),[4,this.updateSelections()];case 1:return n.sent(),[4,this.updateNodes()];case 2:return n.sent(),[2]}}))}))},e.prototype.updateNodeMidPoint=function(){var t=this;this.groupSelectionData.forEach((function(e){var n=t.radiusScale.convert(e.radius);e.nodeMidPoint={x:e.midCos*Math.max(0,n/2),y:e.midSin*Math.max(0,n/2)}}))},e.prototype.updateSelections=function(){return __awaiter$2(this,void 0,void 0,(function(){return __generator$2(this,(function(t){switch(t.label){case 0:return[4,this.updateGroupSelection()];case 1:return t.sent(),[2]}}))}))},e.prototype.updateGroupSelection=function(){return __awaiter$2(this,void 0,void 0,(function(){var t,e,n,o,r,i,s,a=this;return __generator$2(this,(function(l){return e=(t=this).groupSelection,n=t.highlightSelection,o=t.calloutLabelSelection,r=t.sectorLabelSelection,i=t.innerLabelsSelection,s=function(t){return t.update(a.groupSelectionData,(function(t){var e=new Sector;e.tag=PieNodeTag.Sector,t.appendChild(e)}))},this.groupSelection=s(e),this.highlightSelection=s(n),o.update(this.groupSelectionData,(function(t){var e=new Line;e.tag=PieNodeTag.Callout,e.pointerEvents=PointerEvents.None,t.appendChild(e);var n=new Text;n.tag=PieNodeTag.Label,n.pointerEvents=PointerEvents.None,t.appendChild(n)})),r.update(this.groupSelectionData,(function(t){t.pointerEvents=PointerEvents.None})),i.update(this.innerLabels,(function(t){t.pointerEvents=PointerEvents.None})),[2]}))}))},e.prototype.updateNodes=function(){var t;return __awaiter$2(this,void 0,void 0,(function(){var e,n,o,r,i,s=this;return __generator$2(this,(function(a){return e=null===(t=this.highlightManager)||void 0===t?void 0:t.getActiveHighlight(),n=this.seriesItemEnabled.indexOf(!0)>=0,this.rootGroup.visible=n,this.backgroundGroup.visible=n,this.contentGroup.visible=n,this.highlightGroup.visible=n&&(null==e?void 0:e.series)===this,this.labelGroup.visible=n,this.contentGroup.opacity=this.getOpacity(),this.updateInnerCircle(),o=this.radiusScale,r=o.convert(0),i=function(t,e,n,i){var a=o.convert(e.radius),l=t.parent,c=null==l?void 0:l.parent;i&&l&&c&&(c.removeChild(l),c.appendChild(l)),t.innerRadius=Math.max(0,r),t.outerRadius=Math.max(0,a),t.startAngle=e.startAngle,t.endAngle=e.endAngle;var u=s.getSectorFormat(e.datum,e.itemId,n,i);t.fill=u.fill,t.stroke=u.stroke,t.strokeWidth=u.strokeWidth,t.fillOpacity=u.fillOpacity,t.strokeOpacity=s.strokeOpacity,t.lineDash=s.lineDash,t.lineDashOffset=s.lineDashOffset,t.fillShadow=s.shadow,t.lineJoin="round",t.visible=s.seriesItemEnabled[n],s.datumSectorRefs.set(e,t)},this.groupSelection.selectByTag(PieNodeTag.Sector).forEach((function(t,e){return i(t,t.datum,e,!1)})),this.highlightSelection.selectByTag(PieNodeTag.Sector).forEach((function(t,n){var o=(null==e?void 0:e.series)===s&&t.datum.itemId===e.itemId;t.visible=o,t.visible&&i(t,t.datum,n,o)})),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),[2]}))}))},e.prototype.updateCalloutLineNodes=function(){var t=this.radiusScale,e=this.calloutLine,n=e.length,o=e.strokeWidth,r=e.colors||this.strokes,i=this.calloutLabel.offset;this.calloutLabelSelection.selectByTag(PieNodeTag.Callout).forEach((function(e,s){var a=e.datum,l=t.convert(a.radius),c=Math.max(0,l),u=a.calloutLabel;if(u&&u.text&&!u.hidden&&0!==c){e.visible=!0,e.strokeWidth=o,e.stroke=r[s%r.length],e.fill=void 0;var d=a.midCos*c,p=a.midSin*c,h=a.midCos*(c+n),f=a.midSin*(c+n);if(u.collisionTextAlign||0!==u.collisionOffsetY){var g=u.box,_=(h<g.x?g.x:h>g.x+g.width?g.x+g.width:h)-h,m=(f<g.y?g.y:f>g.y+g.height?g.y+g.height:f)-f,y=Math.sqrt(Math.pow(_,2)+Math.pow(m,2)),v=y-i;v>0&&(h+=_*v/y,f+=m*v/y)}e.x1=d,e.y1=p,e.x2=h,e.y2=f}else e.visible=!1}))},e.prototype.getLabelOverflow=function(t,e){var n=this.chart.getSeriesRect(),o=n.x-this.centerX,r=n.x+n.width-this.centerX,i=n.y-this.centerY,s=n.y+n.height-this.centerY,a=1;e.x+1<o?a=(e.x+e.width-o)/e.width:e.x+e.width-1>r&&(a=(r-e.x)/e.width);var l=e.y+1<i||e.y+e.height-1>s;return{visibleTextPart:a,textLength:Math.floor(t.length*a)-1,hasVerticalOverflow:l}},e.prototype.computeCalloutLabelCollisionOffsets=function(){var t=this,e=this,n=e.radiusScale,o=e.calloutLabel,r=e.calloutLine,i=o.offset,s=o.minSpacing,a=n.convert(0),l=this.groupSelectionData,c=this.groupSelectionData.filter((function(t){return o=(e=t).calloutLabel,r=n.convert(e.radius),i=Math.max(0,r),!(!o||0===i);var e,o,r,i}));if(c.forEach((function(t){var e=t.calloutLabel;e.hidden=!1,e.collisionTextAlign=void 0,e.collisionOffsetY=0})),!(c.length<=1)){var u=c.filter((function(t){return t.midCos<0})).sort((function(t,e){return t.midSin-e.midSin})),d=c.filter((function(t){return t.midCos>=0})).sort((function(t,e){return t.midSin-e.midSin})),p=c.filter((function(t){return t.midSin<0&&"center"===t.calloutLabel.textAlign})).sort((function(t,e){return t.midCos-e.midCos})),h=c.filter((function(t){return t.midSin>=0&&"center"===t.calloutLabel.textAlign})).sort((function(t,e){return t.midCos-e.midCos})),f=new Text,g=function(e){var o=e.calloutLabel,s=n.convert(e.radius),a=Math.max(0,s)+r.length+i,l=e.midCos*a,c=e.midSin*a+o.collisionOffsetY;return t.setTextDimensionalProps(f,l,c,t.calloutLabel,o),f.computeBBox()},_=function(t,e,n){var o=g(t).grow(s/2),r=g(e).grow(s/2);if(o.x<r.x+r.width&&o.x+o.width>r.x&&("to-top"===n?o.y<r.y+r.height:o.y+o.height>r.y)){var i="to-top"===n?o.y-r.y-r.height:o.y+o.height-r.y;e.calloutLabel.collisionOffsetY=i}},m=function(t){for(var e=t.slice().sort((function(t,e){return Math.abs(t.midSin)-Math.abs(e.midSin)}))[0],n=t.indexOf(e),o=n-1;o>=0;o--){var r=t[o+1],i=t[o];_(r,i,"to-top")}for(o=n+1;o<t.length;o++){r=t[o-1],i=t[o];_(r,i,"to-bottom")}},y=function(t){var e=c.some((function(t){return 0!==t.calloutLabel.collisionOffsetY})),o=t.map((function(t){return g(t)})),r=o.map((function(t){return t.clone().grow(s/2)})),i=!1;t:for(var u=0;u<r.length;u++)for(var d=r[u],p=u+1;p<t.length;p++){var h=r[p];if(d.collidesBBox(h)){i=!0;break t}}var f=l.map((function(t){var e=t.startAngle,o=t.endAngle,r=n.convert(t.radius),i=Math.max(0,r);return{startAngle:e,endAngle:o,innerRadius:a,outerRadius:i}})),_=o.some((function(t){return f.some((function(e){return boxCollidesSector(t,e)}))}));(i||e||_)&&t.filter((function(t){return"center"===t.calloutLabel.textAlign})).forEach((function(t){t.calloutLabel.collisionTextAlign=t.midCos<0?"right":t.midCos>0?"left":"center"}))};m(u),m(d),y(p),y(h)}},e.prototype.updateCalloutLabelNodes=function(){var t=this,e=this,n=e.radiusScale,o=e.calloutLabel,r=e.calloutLine.length,i=o.offset,s=o.color,a=new Text;this.calloutLabelSelection.selectByTag(PieNodeTag.Label).forEach((function(e){var o=e.datum,l=o.calloutLabel,c=n.convert(o.radius),u=Math.max(0,c);if(l&&l.text&&0!==u&&!l.hidden){var d=u+r+i,p=o.midCos*d,h=o.midSin*d+l.collisionOffsetY;t.setTextDimensionalProps(a,p,h,t.calloutLabel,l);var f=a.computeBBox(),g=t.getLabelOverflow(l.text,f),_=g.visibleTextPart,m=g.textLength,y=g.hasVerticalOverflow,v=1===_?l.text:l.text.substring(0,m)+"";t.setTextDimensionalProps(e,p,h,t.calloutLabel,__assign$v(__assign$v({},l),{text:v})),e.fill=s,e.visible=!y}else e.visible=!1}))},e.prototype.computeLabelsBBox=function(t){var e=this,n=this,o=n.radiusScale,r=n.calloutLabel,i=n.calloutLine.length,s=r.offset,a=r.maxCollisionOffset;this.updateRadiusScale(),this.computeCalloutLabelCollisionOffsets();var l=new Text,c=this.groupSelectionData.map((function(n){var r=n.calloutLabel,c=o.convert(n.radius),u=Math.max(0,c);if(!r||0===u)return null;var d=u+i+s,p=n.midCos*d,h=n.midSin*d+r.collisionOffsetY;e.setTextDimensionalProps(l,p,h,e.calloutLabel,r);var f=l.computeBBox();if(r.box=f,Math.abs(r.collisionOffsetY)>a)return r.hidden=!0,null;if(t.hideWhenNecessary){var g=e.getLabelOverflow(r.text,f),_=g.textLength,m=g.hasVerticalOverflow,y=r.text.length>2&&_<2;if(m||y)return r.hidden=!0,null}return r.hidden=!1,f})).filter((function(t){return null!=t}));if(this.title&&this.title.text){var u=this.getTitleTranslationY();if(isFinite(u)){this.setTextDimensionalProps(l,0,u,this.title,{text:this.title.text,textBaseline:"bottom",textAlign:"center",hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0});var d=l.computeBBox();c.push(d)}}return 0===c.length?null:BBox.merge(c)},e.prototype.setTextDimensionalProps=function(t,e,n,o,r){var i=o.fontStyle,s=o.fontWeight,a=o.fontSize,l=o.fontFamily;t.fontStyle=i,t.fontWeight=s,t.fontSize=a,t.fontFamily=l,t.text=r.text,t.x=e,t.y=n,t.textAlign=r.collisionTextAlign||r.textAlign,t.textBaseline=r.textBaseline},e.prototype.updateSectorLabelNodes=function(){var t=this,e=this.radiusScale,n=e.convert(0),o=this.sectorLabel,r=o.fontSize,i=o.fontStyle,s=o.fontWeight,a=o.fontFamily,l=o.positionOffset,c=o.positionRatio,u=o.color,d=n>0,p=1===this.seriesItemEnabled.filter(Boolean).length;this.sectorLabelSelection.each((function(o,h){var f=h.sectorLabel,g=e.convert(h.radius),_=Math.max(0,g),m=!1;if(f&&0!==_){var y=n*(1-c)+g*c+l;if(o.fill=u,o.fontStyle=i,o.fontWeight=s,o.fontSize=r,o.fontFamily=a,o.text=f.text,!d&&p?(o.x=0,o.y=0):(o.x=h.midCos*y,o.y=h.midSin*y),o.textAlign="center",o.textBaseline="middle",t.datumSectorRefs.get(h)){var v=o.computeBBox(),C=[[v.x,v.y],[v.x+v.width,v.y],[v.x+v.width,v.y+v.height],[v.x,v.y+v.height]],E={startAngle:h.startAngle,endAngle:h.endAngle,innerRadius:n,outerRadius:_};C.every((function(t){var e=__read$s(t,2);return isPointInSector(e[0],e[1],E)}))&&(m=!0)}}o.visible=m}))},e.prototype.updateInnerCircle=function(){var t=this._innerCircleNode;if(t){var e=this.getInnerRadius();if(0===e)t.size=0;else{var n=Math.min(e,this.getOuterRadius());t.size=Math.ceil(2*n+1)}}},e.prototype.updateInnerLabelNodes=function(){var t=[],e=[];this.innerLabelsSelection.each((function(n,o){var r=o.fontStyle,i=o.fontWeight,s=o.fontSize,a=o.fontFamily,l=o.color;n.fontStyle=r,n.fontWeight=i,n.fontSize=s,n.fontFamily=a,n.text=o.text,n.x=0,n.y=0,n.fill=l,n.textAlign="center",n.textBaseline="alphabetic",t.push(n.computeBBox()),e.push(o.margin)}));for(var n=function(t){return 0===t?0:e[t]},o=function(t){return t===e.length-1?0:e[t]},r=t.reduce((function(t,e,r){return t+e.height+n(r)+o(r)}),0),i=Math.max.apply(Math,__spread$f(t.map((function(t){return t.width})))),s=this.getInnerRadius(),a=Math.sqrt(Math.pow(i/2,2)+Math.pow(r/2,2))<=(s>0?s:this.getOuterRadius()),l=[],c=0,u=-r/2;c<t.length;c++){var d=t[c].height+u+n(c);l.push(d),u=d+o(c)}this.innerLabelsSelection.each((function(t,e,n){t.y=l[n],t.visible=a}))},e.prototype.getNodeClickEvent=function(t,e){return new PieSeriesNodeClickEvent(this.angleKey,this.calloutLabelKey,this.sectorLabelKey,this.radiusKey,t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){return new PieSeriesNodeDoubleClickEvent(this.angleKey,this.calloutLabelKey,this.sectorLabelKey,this.radiusKey,t,e,this)},e.prototype.getTooltipHtml=function(t){var e=this.angleKey;if(!e)return"";var n=this,o=n.tooltip,r=n.angleName,i=n.radiusKey,s=n.radiusName,a=n.calloutLabelKey,l=n.sectorLabelKey,c=n.calloutLabelName,u=n.sectorLabelName,d=n.id,p=o.renderer,h=t.sectorFormat.fill,f=t.datum,g=a?f[a]+": ":"",_=f[e],m="number"==typeof _?toFixed(_):_.toString(),y=this.title?this.title.text:void 0,v={title:y,backgroundColor:h,content:g+m};return p?toTooltipHtml$1(p({datum:f,angleKey:e,angleValue:_,angleName:r,radiusKey:i,radiusValue:i?f[i]:void 0,radiusName:s,labelKey:a,labelName:c,calloutLabelKey:a,calloutLabelName:c,sectorLabelKey:l,sectorLabelName:u,title:y,color:h,seriesId:d}),v):toTooltipHtml$1(v)},e.prototype.getLegendData=function(){var t=this,e=this,n=e.calloutLabelKey,o=e.legendItemKey,r=e.data,i=e.id,s=e.sectorFormatData;if(!r||0===r.length||!o&&!n)return[];var a=this.title&&this.title.showInLegend&&this.title.text;return r.map((function(e,r){var l=[];return a&&l.push(a),o?l.push(String(e[o])):n&&l.push(String(e[n])),{id:i,itemId:r,seriesId:i,enabled:t.seriesItemEnabled[r],label:{text:l.join(" - ")},marker:{fill:s[r].fill,stroke:s[r].stroke,fillOpacity:t.fillOpacity,strokeOpacity:t.strokeOpacity}}}))},e.prototype.toggleSeriesItem=function(t,e){this.seriesItemEnabled[t]=e,this.nodeDataRefresh=!0},e.prototype.toggleOtherSeriesItems=function(t,e,n,o){var r,i,s=this,a=this.legendItemKey;if("pie"===t.type&&void 0!==a){var l=t,c=e&&l.legendItemKey&&(null===(r=l.data)||void 0===r?void 0:r.find((function(t,n){return n===e.itemId}))[l.legendItemKey]);c&&(null===(i=this.data)||void 0===i||i.forEach((function(t,e){void 0!==n&&t[a]===c?s.toggleSeriesItem(e,n):void 0!==o&&s.toggleSeriesItem(e,o||t[a]===c)})))}},e.className="PieSeries",e.type="pie",__decorate$1l([DeprecatedAndRenamedTo("calloutLabel")],e.prototype,"label",void 0),__decorate$1l([DeprecatedAndRenamedTo("calloutLine")],e.prototype,"callout",void 0),__decorate$1l([Validate(STRING)],e.prototype,"angleKey",void 0),__decorate$1l([Validate(STRING)],e.prototype,"angleName",void 0),__decorate$1l([Validate(OPT_STRING)],e.prototype,"radiusKey",void 0),__decorate$1l([Validate(OPT_STRING)],e.prototype,"radiusName",void 0),__decorate$1l([Validate(OPT_NUMBER(0))],e.prototype,"radiusMin",void 0),__decorate$1l([Validate(OPT_NUMBER(0))],e.prototype,"radiusMax",void 0),__decorate$1l([Validate(OPT_STRING)],e.prototype,"calloutLabelKey",void 0),__decorate$1l([Validate(OPT_STRING)],e.prototype,"calloutLabelName",void 0),__decorate$1l([DeprecatedAndRenamedTo("calloutLabelKey")],e.prototype,"labelKey",void 0),__decorate$1l([DeprecatedAndRenamedTo("calloutLabelName")],e.prototype,"labelName",void 0),__decorate$1l([Validate(OPT_STRING)],e.prototype,"sectorLabelKey",void 0),__decorate$1l([Validate(OPT_STRING)],e.prototype,"sectorLabelName",void 0),__decorate$1l([Validate(OPT_STRING)],e.prototype,"legendItemKey",void 0),__decorate$1l([Validate(COLOR_STRING_ARRAY)],e.prototype,"fills",void 0),__decorate$1l([Validate(COLOR_STRING_ARRAY)],e.prototype,"strokes",void 0),__decorate$1l([Validate(NUMBER(0,1))],e.prototype,"fillOpacity",void 0),__decorate$1l([Validate(NUMBER(0,1))],e.prototype,"strokeOpacity",void 0),__decorate$1l([Validate(OPT_LINE_DASH)],e.prototype,"lineDash",void 0),__decorate$1l([Validate(NUMBER(0))],e.prototype,"lineDashOffset",void 0),__decorate$1l([Validate(OPT_FUNCTION)],e.prototype,"formatter",void 0),__decorate$1l([Validate(NUMBER(-360,360))],e.prototype,"rotation",void 0),__decorate$1l([Validate(NUMBER())],e.prototype,"outerRadiusOffset",void 0),__decorate$1l([Validate(NUMBER(0))],e.prototype,"outerRadiusRatio",void 0),__decorate$1l([Validate(NUMBER())],e.prototype,"innerRadiusOffset",void 0),__decorate$1l([Validate(NUMBER(0))],e.prototype,"innerRadiusRatio",void 0),__decorate$1l([Validate(NUMBER(0))],e.prototype,"strokeWidth",void 0),e}(PolarSeries),__extends$1Z=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),HierarchySeries=function(t){function e(){return t.call(this,{pickModes:[SeriesNodePickMode.EXACT_SHAPE_MATCH]})||this}return __extends$1Z(e,t),e.prototype.getLabelData=function(){return[]},e}(Series),__extends$1Y=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1k=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},DropShadow=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enabled=!0,e.color="rgba(0, 0, 0, 0.5)",e.xOffset=0,e.yOffset=0,e.blur=5,e}return __extends$1Y(e,t),__decorate$1k([Validate(BOOLEAN),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"enabled",void 0),__decorate$1k([Validate(COLOR_STRING),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"color",void 0),__decorate$1k([Validate(NUMBER()),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"xOffset",void 0),__decorate$1k([Validate(NUMBER()),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"yOffset",void 0),__decorate$1k([Validate(NUMBER(0)),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"blur",void 0),e}(ChangeDetectable);function number(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function interpolateColor(t,e){if("string"==typeof t)try{t=Color.fromString(t)}catch(e){t=Color.fromArray([0,0,0])}if("string"==typeof e)try{e=Color.fromString(e)}catch(t){e=Color.fromArray([0,0,0])}var n=number(t.r,e.r),o=number(t.g,e.g),r=number(t.b,e.b),i=number(t.a,e.a);return function(t){return Color.fromArray([n(t),o(t),r(t),i(t)]).toRgbaString()}}var ColorScale=function(){function t(){this.domain=[0,1],this._range=["red","green"],this.parsedRange=this._range.map((function(t){return Color.fromString(t)}))}return Object.defineProperty(t.prototype,"range",{get:function(){return this._range},set:function(t){this._range=t,this.parsedRange=t.map((function(t){return Color.fromString(t)}))},enumerable:!1,configurable:!0}),t.prototype.convert=function(t){var e,n,o=this,r=o.domain,i=o.range,s=o.parsedRange,a=r[0],l=r[r.length-1],c=i[0],u=i[i.length-1];if(t<=a)return c;if(t>=l)return u;if(2===r.length){var d=(t-a)/(l-a),p=1/(i.length-1);n=(d-(e=i.length<=2?0:Math.min(Math.floor(d*(i.length-1)),i.length-2))*p)/p}else{for(e=0;e<r.length-2&&!(t<r[e+1]);e++);var h=r[e];n=(t-h)/(r[e+1]-h)}return interpolateColor(s[e],s[e+1])(n)},t}(),__extends$1X=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$u=function(){return __assign$u=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$u.apply(this,arguments)},__decorate$1j=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__awaiter$1=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{l(o.next(t))}catch(t){i(t)}}function a(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((o=o.apply(t,e||[])).next())}))},__generator$1=function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},TreemapSeriesTooltip=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e}return __extends$1X(e,t),__decorate$1j([Validate(OPT_FUNCTION)],e.prototype,"renderer",void 0),e}(SeriesTooltip),TreemapSeriesNodeBaseClickEvent=function(t){function e(e,n,o,r,i,s){var a=t.call(this,r,i,s)||this;return a.labelKey=e,a.sizeKey=n,a.colorKey=o,a}return __extends$1X(e,t),e}(SeriesNodeBaseClickEvent),TreemapSeriesNodeClickEvent=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeClick",e}return __extends$1X(e,t),e}(TreemapSeriesNodeBaseClickEvent),TreemapSeriesNodeDoubleClickEvent=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeDoubleClick",e}return __extends$1X(e,t),e}(TreemapSeriesNodeBaseClickEvent),TreemapSeriesLabel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.padding=10,e}return __extends$1X(e,t),__decorate$1j([Validate(NUMBER(0))],e.prototype,"padding",void 0),e}(Label$1),TreemapValueLabel=function(){function t(){var t;this.style=((t=new Label$1).color="white",t)}return __decorate$1j([Validate(OPT_STRING)],t.prototype,"key",void 0),__decorate$1j([Validate(OPT_STRING)],t.prototype,"name",void 0),__decorate$1j([Validate(OPT_FUNCTION)],t.prototype,"formatter",void 0),t}(),TextNodeTag;function getTextSize(t,e){return HdpiCanvas.getTextSize(t,[e.fontWeight,e.fontSize+"px",e.fontFamily].join(" "))}function validateColor(t){if("string"==typeof t&&!Color.validColorString(t)){return Logger.warnOnce('invalid Treemap tile colour string "'+t+'". Affected treemap tiles will be coloured black.'),"black"}return t}!function(t){t[t.Name=0]="Name",t[t.Value=1]="Value"}(TextNodeTag||(TextNodeTag={}));var TreemapTextHighlightStyle=function(){function t(){this.color="black"}return __decorate$1j([Validate(OPT_COLOR_STRING)],t.prototype,"color",void 0),t}(),TreemapHighlightStyle=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.text=new TreemapTextHighlightStyle,e}return __extends$1X(e,t),e}(HighlightStyle),TreemapSeries=function(t){function e(){var e,n=null!==t&&t.apply(this,arguments)||this;return n.groupSelection=Selection.select(n.contentGroup,Group),n.highlightSelection=Selection.select(n.highlightGroup,Group),n.title=((e=new TreemapSeriesLabel).color="white",e.fontWeight="bold",e.fontSize=12,e.fontFamily="Verdana, sans-serif",e.padding=15,e),n.subtitle=function(){var t=new TreemapSeriesLabel;return t.color="white",t.fontSize=9,t.fontFamily="Verdana, sans-serif",t.padding=13,t}(),n.labels={large:function(){var t=new Label$1;return t.color="white",t.fontWeight="bold",t.fontSize=18,t}(),medium:function(){var t=new Label$1;return t.color="white",t.fontWeight="bold",t.fontSize=14,t}(),small:function(){var t=new Label$1;return t.color="white",t.fontWeight="bold",t.fontSize=10,t}(),value:new TreemapValueLabel},n.nodePadding=2,n.labelKey="label",n.sizeKey="size",n.colorKey="color",n.colorDomain=[-5,5],n.colorRange=["#cb4b3f","#6acb64"],n.groupFill="#272931",n.groupStroke="black",n.groupStrokeWidth=1,n.tileStroke="black",n.tileStrokeWidth=1,n.gradient=!0,n.formatter=void 0,n.colorName="Change",n.rootName="Root",n.highlightGroups=!0,n.tileShadow=new DropShadow,n.labelShadow=new DropShadow,n.tooltip=new TreemapSeriesTooltip,n.highlightStyle=new TreemapHighlightStyle,n}return __extends$1X(e,t),e.prototype.getNodePaddingTop=function(t,e){var n=this,o=n.title,r=n.subtitle,i=n.nodePadding,s=t.label;if(t.isLeaf||!s||0===t.depth)return i;var a=t.depth>1?r:o,l=getTextSize(s,a);return a.fontSize>e.width/3||a.fontSize>e.height/3||l.height>=e.height?i:l.height+2*i},e.prototype.getNodePadding=function(t,e){var n=this.nodePadding;return{top:this.getNodePaddingTop(t,e),right:n,bottom:n,left:n}},e.prototype.squarify=function(t,e,n){void 0===n&&(n=new Map);var o=this.getNodePadding(t,e);n.set(t,e);var r=e.width-o.left-o.right,i=e.height-o.top-o.bottom;if(r<=0||i<=0||t.value<=0)return n;for(var s=0,a=0,l=1/0,c=t.value,u=t.children,d=new BBox(e.x+o.left,e.y+o.top,r,i),p=0;p<u.length;p++){var h=u[p].value,f=u[a].value,g=d.width<d.height;s+=h;var _=g?d.height:d.width,m=g?d.width:d.height,y=m*f/s,v=_*s/c,C=Math.max(y,v)/Math.min(y,v),E=Math.abs(1-C);if(E<l)l=E;else{v=_*(s-=h)/c;for(var b=g?d.x:d.y,S=a;S<p;S++){var w=u[S],O=g?b:d.x,P=g?d.y:b,T=m*w.value/s,R=new BBox(O,P,g?T:v,g?v:T);this.squarify(w,R,n),c-=w.value,b+=T}g?(d.y+=v,d.height-=v):(d.x+=v,d.width-=v),a=p,s=0,l=1/0,p--}}var D=d.width<d.height,x=D?d.x:d.y;for(p=a;p<u.length;p++){O=D?x:d.x,P=D?d.y:x;var M=u[p].value/c,A=d.width*(D?M:1),L=d.height*(D?1:M);R=new BBox(O,P,A,L);this.squarify(u[p],R,n),x+=D?A:L}return n},e.prototype.processData=function(){return __awaiter$1(this,void 0,void 0,(function(){var t,e,n,o,r,i,s,a,l,c,u=this;return __generator$1(this,(function(d){return this.data?(e=(t=this).data,n=t.sizeKey,o=t.labelKey,r=t.colorKey,i=t.colorDomain,s=t.colorRange,a=t.groupFill,(l=new ColorScale).domain=i,l.range=s,c=function(t,e,i){var s,d;void 0===e&&(e=0);var p=o&&t[o]||"",h=r&&null!==(s=t[r])&&void 0!==s?s:e;h=validateColor(h);var f=!t.children,g="string"==typeof h?h:f||!a?l.convert(h):a,_={datum:t,depth:e,parent:i,value:0,label:p,fill:g,series:u,isLeaf:f,children:[]};return f?_.value=n&&null!==(d=t[n])&&void 0!==d?d:1:(t.children.forEach((function(t){var n=c(t,e+1,_),o=n.value;!isNaN(o)&&isFinite(o)&&0!==o&&(_.value+=o,_.children.push(n))})),_.children.sort((function(t,e){return e.value-t.value}))),_},this.dataRoot=c(e),[2]):[2]}))}))},e.prototype.createNodeData=function(){return __awaiter$1(this,void 0,void 0,(function(){return __generator$1(this,(function(t){return[2,[]]}))}))},e.prototype.update=function(){return __awaiter$1(this,void 0,void 0,(function(){return __generator$1(this,(function(t){switch(t.label){case 0:return[4,this.updateSelections()];case 1:return t.sent(),[4,this.updateNodes()];case 2:return t.sent(),[2]}}))}))},e.prototype.updateSelections=function(){return __awaiter$1(this,void 0,void 0,(function(){var t,e,n,o,r,i,s,a,l;return __generator$1(this,(function(c){return this.nodeDataRefresh?(this.nodeDataRefresh=!1,e=(t=this).chart,n=t.dataRoot,e&&n&&e.getSeriesRect()?(o=[],r=function(t){var e;o.push(t),null===(e=t.children)||void 0===e||e.forEach(r)},r(this.dataRoot),s=(i=this).groupSelection,a=i.highlightSelection,l=function(t){return t.update(o,(function(t){var e=new Rect,n=new Text;n.tag=TextNodeTag.Name;var o=new Text;o.tag=TextNodeTag.Value,t.append([e,n,o])}))},this.groupSelection=l(s),this.highlightSelection=l(a),[2]):[2]):[2]}))}))},e.prototype.isDatumHighlighted=function(t){var e;return t===(null===(e=this.highlightManager)||void 0===e?void 0:e.getActiveHighlight())&&(t.isLeaf||this.highlightGroups)},e.prototype.getTileFormat=function(t,e){var n,o=this.formatter;if(!o)return{};var r=this,i=r.gradient,s=r.colorKey,a=r.labelKey,l=r.sizeKey,c=r.tileStroke,u=r.tileStrokeWidth,d=r.groupStroke,p=r.groupStrokeWidth,h=t.isLeaf?c:d,f=t.isLeaf?u:p;return o({seriesId:this.id,datum:t.datum,depth:t.depth,parent:null===(n=t.parent)||void 0===n?void 0:n.datum,colorKey:s,sizeKey:l,labelKey:a,fill:t.fill,stroke:h,strokeWidth:f,gradient:i,highlighted:e})},e.prototype.updateNodes=function(){return __awaiter$1(this,void 0,void 0,(function(){var t,e,n,o,r,i,s,a,l,c,u,d,p,h,f,g,_,m,y,v,C=this;return __generator$1(this,(function(E){return this.chart?(e=(t=this).gradient,n=t.highlightStyle,o=n.item,r=o.fill,i=o.fillOpacity,s=o.stroke,a=o.strokeWidth,l=n.text.color,c=t.tileStroke,u=t.tileStrokeWidth,d=t.groupStroke,p=t.groupStrokeWidth,h=t.tileShadow,f=t.labelShadow,g=this.chart.getSeriesRect(),_=this.squarify(this.dataRoot,new BBox(0,0,g.width,g.height)),m=this.buildLabelMeta(_),this.updateNodeMidPoint(_),y=function(t,n,o){var l,f,g,m,y,v,E=_.get(n);if(E){var b=o&&void 0!==r?r:n.fill,S=null!==(l=o?i:1)&&void 0!==l?l:1,w=o&&void 0!==s?s:n.isLeaf?c:d,O=o&&void 0!==a?a:n.isLeaf?u:p,P=C.getTileFormat(n,o),T=validateColor(null!==(f=null==P?void 0:P.fill)&&void 0!==f?f:b);if(null!==(g=null==P?void 0:P.gradient)&&void 0!==g?g:e){var R=Color.tryParseFromString(b).brighter().toString(),D=Color.tryParseFromString(b).darker().toString();t.fill="linear-gradient(180deg, "+R+", "+D+")"}else t.fill=T;if(t.fillOpacity=null!==(m=null==P?void 0:P.fillOpacity)&&void 0!==m?m:S,t.stroke=validateColor(null!==(y=null==P?void 0:P.stroke)&&void 0!==y?y:w),t.strokeWidth=null!==(v=null==P?void 0:P.strokeWidth)&&void 0!==v?v:O,t.fillShadow=h,t.crisp=!0,t.x=E.x,t.y=E.y,t.width=E.width,t.height=E.height,t.visible=!0,o&&!n.isLeaf){var x=C.getNodePadding(n,E),M=E.x+x.left,A=E.x+E.width-x.right,L=E.y+x.top,I=E.y+E.height-x.bottom;t.clipPath?t.clipPath.clear():t.clipPath=new Path2D,t.clipMode="punch-out",t.clipPath.moveTo(M,L),t.clipPath.lineTo(A,L),t.clipPath.lineTo(A,I),t.clipPath.lineTo(M,I),t.clipPath.lineTo(M,L),t.clipPath.closePath()}}else t.visible=!1},this.groupSelection.selectByClass(Rect).forEach((function(t){return y(t,t.datum,!1)})),this.highlightSelection.selectByClass(Rect).forEach((function(t){var e=C.isDatumHighlighted(t.datum);t.visible=e,t.visible&&y(t,t.datum,e)})),v=function(t,e,n,o){var r=m.get(e),i=null==r?void 0:r[o];i?(t.text=i.text,t.fontFamily=i.style.fontFamily,t.fontSize=i.style.fontSize,t.fontWeight=i.style.fontWeight,t.fill=n&&null!=l?l:i.style.color,t.fillShadow=n?void 0:f,t.textAlign=i.hAlign,t.textBaseline=i.vAlign,t.x=i.x,t.y=i.y,t.visible=!0):t.visible=!1},this.groupSelection.selectByTag(TextNodeTag.Name).forEach((function(t){return v(t,t.datum,!1,"label")})),this.highlightSelection.selectByTag(TextNodeTag.Name).forEach((function(t){var e=C.isDatumHighlighted(t.datum);t.visible=e,t.visible&&v(t,t.datum,e,"label")})),this.groupSelection.selectByTag(TextNodeTag.Value).forEach((function(t){return v(t,t.datum,!1,"value")})),this.highlightSelection.selectByTag(TextNodeTag.Value).forEach((function(t){var e=C.isDatumHighlighted(t.datum);t.visible=e,t.visible&&v(t,t.datum,e,"value")})),[2]):[2]}))}))},e.prototype.updateNodeMidPoint=function(t){t.forEach((function(t,e){e.nodeMidPoint={x:t.x+t.width/2,y:t.y}}))},e.prototype.buildLabelMeta=function(t){var e=this,n=e.labels,o=e.title,r=e.subtitle,i=e.nodePadding,s=e.labelKey,a=new Map;return t.forEach((function(t,e){if(s&&0!==e.depth){var l,c=e.isLeaf?e.label:e.label.toUpperCase();l=e.isLeaf?[n.large,n.medium,n.small].find((function(e){var n=getTextSize(c,e),o=n.width,r=n.height;return o<t.width&&r<t.height}))||n.small:1===e.depth?o:r;var u=getTextSize(c,l),d=t.width-2*i,p=t.height-2*i;if(!(l.fontSize>t.width/3||l.fontSize>t.height/3)){if(u.width>d){var h=Math.floor(c.length*d/u.width)-1;c=c.substring(0,h)+""}var f=n.value,g=f.style,_=(l.fontSize+g.fontSize)/8,m=String(e.isLeaf?f.formatter?f.formatter({datum:e.datum}):f.key?e.datum[f.key]:"":""),y=getTextSize(m,g),v=m&&y.width<d&&y.height+u.height+_<p;a.set(e,{label:__assign$u({text:c,style:l},e.isLeaf?{hAlign:"center",vAlign:"middle",x:t.x+t.width/2,y:t.y+t.height/2-(v?y.height/2+_/2:0)}:{hAlign:"left",vAlign:"top",x:t.x+i,y:t.y+i}),value:v?{text:m,style:g,hAlign:"center",vAlign:"middle",x:t.x+t.width/2,y:t.y+t.height/2+u.height/2+_/2}:void 0})}}})),a},e.prototype.getDomain=function(t){return[0,1]},e.prototype.getNodeClickEvent=function(t,e){return new TreemapSeriesNodeClickEvent(this.labelKey,this.sizeKey,this.colorKey,t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){return new TreemapSeriesNodeDoubleClickEvent(this.labelKey,this.sizeKey,this.colorKey,t,e,this)},e.prototype.getTooltipHtml=function(t){var e;if(!this.highlightGroups&&!t.isLeaf)return"";var n=this,o=n.tooltip,r=n.sizeKey,i=n.labelKey,s=n.colorKey,a=n.rootName,l=n.id,c=n.labels,u=t.datum,d=o.renderer,p=t.depth?u[i]:a||u[i],h="",f=this.getTileFormat(t,!1),g=(null==f?void 0:f.fill)||t.fill||"gray",_=c.value.key,m=c.value.formatter;if(_||m){var y="";if(m)y=m({datum:u});else{var v=u[_];"number"==typeof v&&isFinite(v)&&(y=toFixed(v))}y&&(c.value.name&&(h+="<b>"+c.value.name+":</b> "),h+=y)}var C={title:p,backgroundColor:g,content:h};return d?toTooltipHtml$1(d({datum:t.datum,parent:null===(e=t.parent)||void 0===e?void 0:e.datum,depth:t.depth,sizeKey:r,labelKey:i,colorKey:s,title:p,color:g,seriesId:l}),C):p||h?toTooltipHtml$1(C):""},e.prototype.getLegendData=function(){return[]},e.className="TreemapSeries",e.type="treemap",__decorate$1j([Validate(NUMBER(0))],e.prototype,"nodePadding",void 0),__decorate$1j([Validate(STRING)],e.prototype,"labelKey",void 0),__decorate$1j([Validate(OPT_STRING)],e.prototype,"sizeKey",void 0),__decorate$1j([Validate(OPT_STRING)],e.prototype,"colorKey",void 0),__decorate$1j([Validate(NUMBER_ARRAY)],e.prototype,"colorDomain",void 0),__decorate$1j([Validate(COLOR_STRING_ARRAY)],e.prototype,"colorRange",void 0),__decorate$1j([Validate(OPT_STRING)],e.prototype,"groupFill",void 0),__decorate$1j([Validate(OPT_COLOR_STRING)],e.prototype,"groupStroke",void 0),__decorate$1j([Validate(OPT_NUMBER(0))],e.prototype,"groupStrokeWidth",void 0),__decorate$1j([Validate(OPT_COLOR_STRING)],e.prototype,"tileStroke",void 0),__decorate$1j([Validate(OPT_NUMBER(0))],e.prototype,"tileStrokeWidth",void 0),__decorate$1j([Validate(BOOLEAN)],e.prototype,"gradient",void 0),__decorate$1j([Validate(OPT_FUNCTION)],e.prototype,"formatter",void 0),__decorate$1j([Validate(STRING)],e.prototype,"colorName",void 0),__decorate$1j([Validate(STRING)],e.prototype,"rootName",void 0),__decorate$1j([Validate(OPT_BOOLEAN)],e.prototype,"highlightGroups",void 0),e}(HierarchySeries),types$1={area:"cartesian",bar:"cartesian",column:"cartesian",histogram:"cartesian",line:"cartesian",scatter:"cartesian",treemap:"hierarchy",pie:"polar"},CHART_TYPES={add:function(t,e){types$1[t]=e},delete:function(t){delete types$1[t]},has:function(t){return Object.prototype.hasOwnProperty.call(types$1,t)},isCartesian:function(t){return"cartesian"===types$1[t]},isPolar:function(t){return"polar"===types$1[t]},isHierarchy:function(t){return"hierarchy"===types$1[t]},get seriesTypes(){return Object.keys(types$1)},get cartesianTypes(){var t=this;return this.seriesTypes.filter((function(e){return t.isCartesian(e)}))},get polarTypes(){var t=this;return this.seriesTypes.filter((function(e){return t.isPolar(e)}))},get hierarchyTypes(){var t=this;return this.seriesTypes.filter((function(e){return t.isHierarchy(e)}))}};function deepMerge$1(t,e){if(isPlainObject(t)&&isPlainObject(e)){var n={};return Object.keys(t).forEach((function(o){n[o]=o in e?deepMerge$1(t[o],e[o]):t[o]})),Object.keys(e).forEach((function(o){o in t||(n[o]=e[o])})),n}return Array.isArray(t)&&!Array.isArray(e)||isObject(t)&&!isObject(e)?t:e}function isObject(t){return t&&"object"==typeof t}function isPlainObject(t){return isObject(t)&&t.constructor===Object}var __assign$t=function(){return __assign$t=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$t.apply(this,arguments)},__read$r=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},palette$8={fills:["#f3622d","#fba71b","#57b757","#41a9c9","#4258c9","#9a42c8","#c84164","#888888"],strokes:["#aa4520","#b07513","#3d803d","#2d768d","#2e3e8d","#6c2e8c","#8c2d46","#5f5f5f"]},BOLD="bold",INSIDE="inside",RIGHT="right",ChartTheme=function(){function t(t){var e=(t=deepMerge$1({},t||{})).overrides,n=void 0===e?null:e,o=t.palette,r=void 0===o?null:o,i=this.createChartConfigPerChartType(this.getDefaults());if(n){var s=n.common,a=n.cartesian,l=n.polar,c=n.hierarchy,u=function(t,e,n){n&&(i[t]=deepMerge$1(i[t],n),e.forEach((function(t){var e=t;i[e]=deepMerge$1(i[e],n)})))};u("common",Object.keys(i),s),u("cartesian",CHART_TYPES.cartesianTypes,a),u("polar",CHART_TYPES.polarTypes,l),u("hierarchy",CHART_TYPES.hierarchyTypes,c),CHART_TYPES.seriesTypes.forEach((function(t){var e,o=t,r=n[o];r&&(r.series&&(r.series=((e={})[o]=r.series,e)),i[o]=deepMerge$1(i[o],r))}))}this.palette=null!=r?r:this.getPalette(),this.config=Object.freeze(i)}return t.prototype.getPalette=function(){return palette$8},t.getAxisDefaults=function(){return{top:{},right:{},bottom:{},left:{},thickness:0,title:{enabled:!1,text:"Axis Title",fontStyle:void 0,fontWeight:BOLD,fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)"},label:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,padding:5,rotation:void 0,color:"rgb(87, 87, 87)",formatter:void 0,autoRotate:!1,avoidCollisions:!0},line:{width:1,color:"rgb(195, 195, 195)"},tick:{width:1,size:6,color:"rgb(195, 195, 195)"},gridStyle:[{stroke:"rgb(219, 219, 219)",lineDash:[4,2]}],crossLines:{enabled:!1,fill:"rgb(187,221,232)",stroke:"rgb(70,162,192)",strokeWidth:1,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,padding:5,color:"rgb(87, 87, 87)",rotation:void 0}}}},t.getSeriesDefaults=function(){return{tooltip:{enabled:!0,renderer:void 0},visible:!0,showInLegend:!0,highlightStyle:{item:{fill:"yellow",fillOpacity:1},series:{dimOpacity:1},text:{color:"black"}},nodeClickRange:"exact"}},t.getBarSeriesDefaults=function(){return __assign$t(__assign$t({},this.getSeriesDefaults()),{flipXY:!1,fillOpacity:1,strokeOpacity:1,xKey:"",xName:"",normalizedTo:void 0,strokeWidth:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0,placement:INSIDE},shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5}})},t.getLineSeriesDefaults=function(){var t=this.getSeriesDefaults();return __assign$t(__assign$t({},t),{tooltip:__assign$t(__assign$t({},t.tooltip),{format:void 0,position:{type:"node"}})})},t.getAreaSeriesDefaults=function(){var t=this.getSeriesDefaults();return __assign$t(__assign$t({},t),{nodeClickRange:"nearest",tooltip:__assign$t(__assign$t({},t.tooltip),{position:{type:"node"}})})},t.getScatterSeriesDefaults=function(){var t=this.getSeriesDefaults();return __assign$t(__assign$t({},t),{tooltip:__assign$t(__assign$t({},t.tooltip),{position:{type:"node"}})})},t.getCartesianSeriesMarkerDefaults=function(){return{enabled:!0,shape:"circle",size:6,maxSize:30,strokeWidth:1,formatter:void 0}},t.getChartDefaults=function(){return{background:{visible:!0,fill:"white"},padding:{top:20,right:20,bottom:20,left:20},title:{enabled:!1,text:"Title",fontStyle:void 0,fontWeight:BOLD,fontSize:16,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)"},subtitle:{enabled:!1,text:"Subtitle",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(140, 140, 140)"},footnote:{enabled:!1,text:"Footnote",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(140, 140, 140)",spacing:30},legend:{enabled:!0,position:RIGHT,spacing:20,listeners:{},item:{paddingX:16,paddingY:8,marker:{shape:void 0,size:15,strokeWidth:1,padding:8},label:{color:"black",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,formatter:void 0}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:"rgb(70, 70, 70)"},inactiveStyle:{fill:"rgb(219, 219, 219)"},highlightStyle:{fill:"rgb(70, 70, 70)"},label:{color:"rgb(70, 70, 70)"}}},tooltip:{enabled:!0,range:"nearest",delay:0},listeners:{}}},t.prototype.createChartConfigPerChartType=function(t){var e={cartesian:CHART_TYPES.cartesianTypes,polar:CHART_TYPES.polarTypes,hierarchy:CHART_TYPES.hierarchyTypes,groupedCategory:[]};return Object.entries(e).forEach((function(e){var n=__read$r(e,2),o=n[0];n[1].forEach((function(e){t[e]||(t[e]=deepMerge$1({},t[o]))}))})),t},t.prototype.getDefaults=function(){var e=deepMerge$1({},t.defaults),n=function(e){var n={};return n.series=e.reduce((function(e,n){return Object.prototype.hasOwnProperty.call(t.seriesThemeOverrides,n)&&(e[n]=t.seriesThemeOverrides[n]({seriesDefaults:t.getSeriesDefaults(),defaultFontFamily:t.fontFamily})),e}),{}),n};return deepMerge$1(e,{cartesian:n(CHART_TYPES.cartesianTypes),groupedCategory:n(CHART_TYPES.cartesianTypes),polar:n(CHART_TYPES.polarTypes),hierarchy:n(CHART_TYPES.hierarchyTypes)})},t.prototype.mergeWithParentDefaults=function(t,e){return deepMerge$1(t,e)},t.fontFamily="Verdana, sans-serif",t.seriesThemeOverrides={},t.cartesianDefaults=__assign$t(__assign$t({},t.getChartDefaults()),{axes:{number:__assign$t({},t.getAxisDefaults()),log:__assign$t(__assign$t({},t.getAxisDefaults()),{base:10}),category:__assign$t(__assign$t({},t.getAxisDefaults()),{groupPaddingInner:.1,label:__assign$t(__assign$t({},t.getAxisDefaults().label),{autoRotate:!0})}),groupedCategory:__assign$t({},t.getAxisDefaults()),time:__assign$t({},t.getAxisDefaults())},series:{column:__assign$t(__assign$t({},t.getBarSeriesDefaults()),{flipXY:!1}),bar:__assign$t(__assign$t({},t.getBarSeriesDefaults()),{flipXY:!0}),line:__assign$t(__assign$t({},t.getLineSeriesDefaults()),{title:void 0,xKey:"",xName:"",yKey:"",yName:"",strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,marker:__assign$t(__assign$t({},t.getCartesianSeriesMarkerDefaults()),{fillOpacity:1,strokeOpacity:1}),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}}),scatter:__assign$t(__assign$t({},t.getScatterSeriesDefaults()),{title:void 0,xKey:"",yKey:"",sizeKey:void 0,labelKey:void 0,xName:"",yName:"",sizeName:"Size",labelName:"Label",marker:__assign$t({},t.getCartesianSeriesMarkerDefaults()),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)"}}),area:__assign$t(__assign$t({},t.getAreaSeriesDefaults()),{xKey:"",xName:"",normalizedTo:void 0,fillOpacity:.8,strokeOpacity:1,strokeWidth:2,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5},marker:__assign$t(__assign$t({},t.getCartesianSeriesMarkerDefaults()),{fillOpacity:1,strokeOpacity:1,enabled:!1}),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}}),histogram:__assign$t(__assign$t({},t.getSeriesDefaults()),{xKey:"",yKey:"",xName:"",yName:"",strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,areaPlot:!1,bins:void 0,aggregation:"sum",label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0},shadow:{enabled:!0,color:"rgba(0, 0, 0, 0.5)",xOffset:0,yOffset:0,blur:5}})},navigator:{enabled:!1,height:30,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}}}),t.polarDefaults=__assign$t(__assign$t({},t.getChartDefaults()),{series:{pie:__assign$t(__assign$t({},t.getSeriesDefaults()),{title:{enabled:!0,text:"",fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)"},angleKey:"",angleName:"",radiusKey:void 0,radiusName:void 0,calloutLabelKey:void 0,calloutLabelName:void 0,sectorLabelKey:void 0,sectorLabelName:void 0,calloutLabel:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",offset:3,minAngle:0},sectorLabel:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:1,lineDash:[0],lineDashOffset:0,rotation:0,outerRadiusOffset:0,innerRadiusOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5},innerLabels:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",margin:2}})}}),t.hierarchyDefaults=__assign$t(__assign$t({},t.getChartDefaults()),{series:{treemap:__assign$t(__assign$t({},t.getSeriesDefaults()),{showInLegend:!1,labelKey:"label",sizeKey:"size",colorKey:"color",colorDomain:[-5,5],colorRange:["#cb4b3f","#6acb64"],groupFill:"#272931",groupStroke:"black",groupStrokeWidth:1,tileStroke:"black",tileStrokeWidth:1,gradient:!0,tileShadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5},labelShadow:{enabled:!0,color:"rgba(0, 0, 0, 0.4)",xOffset:1.5,yOffset:1.5,blur:5},highlightGroups:!0,nodePadding:2,title:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:"Verdana, sans-serif",padding:15},subtitle:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:void 0,fontSize:9,fontFamily:"Verdana, sans-serif",padding:13},labels:{large:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:18,fontFamily:"Verdana, sans-serif",color:"white"},medium:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:"Verdana, sans-serif",color:"white"},small:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:10,fontFamily:"Verdana, sans-serif",color:"white"},value:{style:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",color:"white"}}}})}}),t.defaults={cartesian:t.cartesianDefaults,groupedCategory:t.cartesianDefaults,polar:t.polarDefaults,hierarchy:t.hierarchyDefaults},t}(),__extends$1W=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$s=function(){return __assign$s=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$s.apply(this,arguments)},DarkTheme=function(t){function e(e){return t.call(this,e)||this}return __extends$1W(e,t),e.prototype.getDefaults=function(){var n=e.fontColor,o=e.mutedFontColor,r={title:{color:n},label:{color:n},gridStyle:[{stroke:"rgb(88, 88, 88)",lineDash:[4,2]}]},i={label:{color:n}},s={axes:{number:__assign$s({},r),category:__assign$s({},r),time:__assign$s({},r)}},a={background:{fill:"rgb(34, 38, 41)"},title:{color:n},subtitle:{color:o},legend:{item:{label:{color:n}},pagination:{activeStyle:{fill:n},inactiveStyle:{fill:o},highlightStyle:{fill:n},label:{color:n}}}},l=function(t){return t.reduce((function(t,n){return Object.prototype.hasOwnProperty.call(e.seriesDarkThemeOverrides,n)&&(t[n]=e.seriesDarkThemeOverrides[n]({seriesLabelDefaults:e.seriesLabelDefaults})),t}),{})};return this.mergeWithParentDefaults(t.prototype.getDefaults.call(this),{cartesian:__assign$s(__assign$s(__assign$s({},a),s),{series:__assign$s({bar:__assign$s({},i),column:__assign$s({},i),histogram:__assign$s({},i)},l(CHART_TYPES.cartesianTypes))}),groupedCategory:__assign$s(__assign$s(__assign$s({},a),s),{series:__assign$s({bar:__assign$s({},i),column:__assign$s({},i),histogram:__assign$s({},i)},l(CHART_TYPES.cartesianTypes))}),polar:__assign$s(__assign$s({},a),{series:__assign$s({pie:{calloutLabel:{color:n},sectorLabel:{color:n},title:{color:n},innerLabels:{color:n}}},l(CHART_TYPES.polarTypes))}),hierarchy:__assign$s(__assign$s({},a),{series:__assign$s({treemap:{tileStroke:"white",groupStroke:"white",title:{color:n},subtitle:{color:o},labels:{large:{color:n},medium:{color:n},small:{color:n},value:{style:{color:n}}}}},l(CHART_TYPES.hierarchyTypes))})})},e.fontColor="rgb(200, 200, 200)",e.mutedFontColor="rgb(150, 150, 150)",e.seriesLabelDefaults={label:{color:e.fontColor}},e.seriesDarkThemeOverrides={},e}(ChartTheme),__values$b=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},BaseModuleInstance=function(){function t(){this.destroyFns=[]}return t.prototype.destroy=function(){var t,e;try{for(var n=__values$b(this.destroyFns),o=n.next();!o.done;o=n.next()){(0,o.value)()}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t}(),REGISTERED_MODULES=[];function registerModule(t){var e=REGISTERED_MODULES.find((function(e){return t.type===e.type&&t.optionsKey===e.optionsKey}));if(e){if("enterprise"===t.packageType&&"community"===e.packageType){var n=REGISTERED_MODULES.indexOf(e);REGISTERED_MODULES.splice(n,1,t)}}else REGISTERED_MODULES.push(t)}var __extends$1V=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1i=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},RangeHandle$1=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._fill="#f2f2f2",e._stroke="#999999",e._strokeWidth=1,e._lineCap="square",e._centerX=0,e._centerY=0,e._width=8,e._gripLineGap=2,e._gripLineLength=8,e._height=16,e}return __extends$1V(e,t),Object.defineProperty(e.prototype,"centerX",{get:function(){return this._centerX},set:function(t){this._centerX!==t&&(this._centerX=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"centerY",{get:function(){return this._centerY},set:function(t){this._centerY!==t&&(this._centerY=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width!==t&&(this._width=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gripLineGap",{get:function(){return this._gripLineGap},set:function(t){this._gripLineGap!==t&&(this._gripLineGap=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gripLineLength",{get:function(){return this._gripLineLength},set:function(t){this._gripLineLength!==t&&(this._gripLineLength=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height!==t&&(this._height=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),e.prototype.computeBBox=function(){var t=this,e=t.centerX,n=t.centerY,o=t.width,r=t.height;return new BBox(e-o/2,n-r/2,o,r)},e.prototype.isPointInPath=function(t,e){var n=this.transformPoint(t,e);return this.computeBBox().containsPoint(n.x,n.y)},e.prototype.updatePath=function(){var t=this,e=t.path,n=t.centerX,o=t.centerY,r=t.width,i=t.height;e.clear();var s=n-r/2,a=o-i/2,l=this.align(s),c=this.align(a),u=l+this.align(s,r),d=c+this.align(a,i);e.moveTo(l,c),e.lineTo(u,c),e.lineTo(u,d),e.lineTo(l,d),e.lineTo(l,c);var p=this.gripLineGap/2,h=this.gripLineLength/2;e.moveTo(this.align(n-p),this.align(o-h)),e.lineTo(this.align(n-p),this.align(o+h)),e.moveTo(this.align(n+p),this.align(o-h)),e.lineTo(this.align(n+p),this.align(o+h))},e.className="RangeHandle",__decorate$1i([Validate(COLOR_STRING)],e.prototype,"_fill",void 0),__decorate$1i([Validate(COLOR_STRING)],e.prototype,"_stroke",void 0),__decorate$1i([Validate(NUMBER(0))],e.prototype,"_strokeWidth",void 0),__decorate$1i([Validate(LINE_CAP)],e.prototype,"_lineCap",void 0),__decorate$1i([Validate(NUMBER(0))],e.prototype,"_width",void 0),__decorate$1i([Validate(NUMBER(0))],e.prototype,"_gripLineGap",void 0),__decorate$1i([Validate(NUMBER(0))],e.prototype,"_gripLineLength",void 0),__decorate$1i([Validate(NUMBER(0))],e.prototype,"_height",void 0),e}(Path),__extends$1U=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1h=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},RangeMask=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._stroke="#999999",e._strokeWidth=1,e._fill="#999999",e._fillOpacity=.2,e._lineCap="square",e._x=0,e._y=0,e._width=200,e._height=30,e.minRange=.05,e._min=0,e._max=1,e}return __extends$1U(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width!==t&&(this._width=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height!==t&&(this._height=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this._min},set:function(t){var e;t=Math.min(Math.max(t,0),this.max-this.minRange),isNaN(t)||this._min!==t&&(this._min=t,this.dirtyPath=!0,null===(e=this.onRangeChange)||void 0===e||e.call(this))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},set:function(t){var e;t=Math.max(Math.min(t,1),this.min+this.minRange),isNaN(t)||this._max!==t&&(this._max=t,this.dirtyPath=!0,null===(e=this.onRangeChange)||void 0===e||e.call(this))},enumerable:!1,configurable:!0}),e.prototype.computeBBox=function(){var t=this,e=t.x,n=t.y,o=t.width,r=t.height;return new BBox(e,n,o,r)},e.prototype.computeVisibleRangeBBox=function(){var t=this,e=t.x,n=t.y,o=t.width,r=t.height,i=t.min,s=t.max,a=e+o*i;return new BBox(a,n,e+o*s-a,r)},e.prototype.updatePath=function(){var t=this,e=t.path,n=t.x,o=t.y,r=t.width,i=t.height,s=t.min,a=t.max;e.clear();var l=this.align(n),c=this.align(o),u=l+this.align(n,r),d=c+this.align(o,i);e.moveTo(l,c),e.lineTo(u,c),e.lineTo(u,d),e.lineTo(l,d),e.lineTo(l,c);var p=this.align(n+r*s),h=this.align(n+r*a);e.moveTo(p,c),e.lineTo(p,d),e.lineTo(h,d),e.lineTo(h,c),e.lineTo(p,c)},e.className="RangeMask",__decorate$1h([Validate(COLOR_STRING)],e.prototype,"_stroke",void 0),__decorate$1h([Validate(NUMBER(0))],e.prototype,"_strokeWidth",void 0),__decorate$1h([Validate(COLOR_STRING)],e.prototype,"_fill",void 0),__decorate$1h([Validate(NUMBER(0,1))],e.prototype,"_fillOpacity",void 0),__decorate$1h([Validate(LINE_CAP)],e.prototype,"_lineCap",void 0),__decorate$1h([Validate(NUMBER(0))],e.prototype,"_width",void 0),__decorate$1h([Validate(NUMBER(0))],e.prototype,"_height",void 0),__decorate$1h([Validate(NUMBER())],e.prototype,"_min",void 0),__decorate$1h([Validate(NUMBER())],e.prototype,"_max",void 0),e}(Path),__extends$1T=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$r=function(){return __assign$r=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$r.apply(this,arguments)},RangeSelector=function(t){function e(){var n=t.call(this,{name:"rangeSelectorGroup"})||this;return n.minHandle=new RangeHandle$1,n.maxHandle=new RangeHandle$1,n.mask=function(){var t=e.defaults,o=t.x,r=t.y,i=t.width,s=t.height,a=t.min,l=t.max,c=new RangeMask;c.x=o,c.y=r,c.width=i,c.height=s,c.min=a,c.max=l;var u=n,d=u.minHandle,p=u.maxHandle;return d.centerX=o,p.centerX=o+i,d.centerY=p.centerY=r+s/2,n.append([c,d,p]),c.onRangeChange=function(){var t;n.updateHandles(),null===(t=n.onRangeChange)||void 0===t||t.call(n)},c}(),n._x=e.defaults.x,n._y=e.defaults.y,n._width=e.defaults.width,n._height=e.defaults.height,n._min=e.defaults.min,n._max=e.defaults.max,n.isContainerNode=!0,n}return __extends$1T(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this.mask.x},set:function(t){this.mask.x=t,this.updateHandles()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.mask.y},set:function(t){this.mask.y=t,this.updateHandles()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.mask.width},set:function(t){this.mask.width=t,this.updateHandles()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.mask.height},set:function(t){this.mask.height=t,this.updateHandles()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this.mask.min},set:function(t){this.mask.min=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this.mask.max},set:function(t){this.mask.max=t},enumerable:!1,configurable:!0}),e.prototype.updateHandles=function(){var t=this,e=t.minHandle,n=t.maxHandle,o=t.x,r=t.y,i=t.width,s=t.height,a=t.mask;e.centerX=o+i*a.min,n.centerX=o+i*a.max,e.centerY=n.centerY=r+s/2},e.prototype.computeBBox=function(){return this.mask.computeBBox()},e.prototype.computeVisibleRangeBBox=function(){return this.mask.computeVisibleRangeBBox()},e.prototype.render=function(t){var e=t.ctx,n=t.forceRender,o=t.stats;if(this.dirty!==RedrawType.NONE||n){this.computeTransformMatrix(),this.matrix.toContext(e);var r=this;[r.mask,r.minHandle,r.maxHandle].forEach((function(o){o.visible&&(n||o.dirty>RedrawType.NONE)&&(e.save(),o.render(__assign$r(__assign$r({},t),{ctx:e,forceRender:n})),e.restore())})),this.markClean({force:!0}),o&&o.nodesRendered++}else o&&o.nodesSkipped++},e.className="Range",e.defaults={x:0,y:0,width:200,height:30,min:0,max:1},e}(Group),NavigatorMask=function(){function t(t){this.rm=t}return Object.defineProperty(t.prototype,"fill",{get:function(){return this.rm.fill},set:function(t){this.rm.fill=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this.rm.stroke},set:function(t){this.rm.stroke=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this.rm.strokeWidth},set:function(t){this.rm.strokeWidth=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this.rm.fillOpacity},set:function(t){this.rm.fillOpacity=t},enumerable:!1,configurable:!0}),t}(),NavigatorHandle=function(){function t(t){this.rh=t}return Object.defineProperty(t.prototype,"fill",{get:function(){return this.rh.fill},set:function(t){this.rh.fill=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this.rh.stroke},set:function(t){this.rh.stroke=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this.rh.strokeWidth},set:function(t){this.rh.strokeWidth=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.rh.width},set:function(t){this.rh.width=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.rh.height},set:function(t){this.rh.height=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gripLineGap",{get:function(){return this.rh.gripLineGap},set:function(t){this.rh.gripLineGap=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gripLineLength",{get:function(){return this.rh.gripLineLength},set:function(t){this.rh.gripLineLength=t},enumerable:!1,configurable:!0}),t}(),__extends$1S=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1g=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Navigator=function(t){function e(e){var n=t.call(this)||this;return n.ctx=e,n.rs=new RangeSelector,n.mask=new NavigatorMask(n.rs.mask),n.minHandle=new NavigatorHandle(n.rs.minHandle),n.maxHandle=new NavigatorHandle(n.rs.maxHandle),n.minHandleDragging=!1,n.maxHandleDragging=!1,n.panHandleOffset=NaN,n._enabled=!1,n.margin=10,n._visible=!0,n.rs.onRangeChange=function(){return n.ctx.zoomManager.updateZoom("navigator",{x:{min:n.rs.min,max:n.rs.max}})},[e.interactionManager.addListener("drag-start",(function(t){return n.onDragStart(t)})),e.interactionManager.addListener("drag",(function(t){return n.onDrag(t)})),e.interactionManager.addListener("hover",(function(t){return n.onDrag(t)})),e.interactionManager.addListener("drag-end",(function(){return n.onDragStop()}))].forEach((function(t){return n.destroyFns.push((function(){return e.interactionManager.removeListener(t)}))})),[e.layoutService.addListener("before-series",(function(t){return n.layout(t)})),e.layoutService.addListener("layout-complete",(function(t){return n.layoutComplete(t)}))].forEach((function(t){return n.destroyFns.push((function(){return e.layoutService.removeListener(t)}))})),e.scene.root.appendChild(n.rs),n.destroyFns.push((function(){var t;return null===(t=e.scene.root)||void 0===t?void 0:t.removeChild(n.rs)})),n.updateGroupVisibility(),n}return __extends$1S(e,t),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.rs.width},set:function(t){this.rs.width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.rs.height},set:function(t){this.rs.height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this.rs.min},set:function(t){this.rs.min=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this.rs.max},set:function(t){this.rs.max=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),e.prototype.updateGroupVisibility=function(){this.rs.visible=this.enabled&&this.visible},e.prototype.layout=function(t){var e=t.shrinkRect;if(this.enabled){var n=this.rs.height+this.margin;e.shrink(n,"bottom"),this.rs.y=e.y+e.height+this.margin}return{shrinkRect:e}},e.prototype.layoutComplete=function(t){var e=t.series,n=e.rect,o=e.visible;this.enabled&&o&&(this.rs.x=n.x,this.rs.width=n.width),this.visible=o},e.prototype.update=function(){},e.prototype.onDragStart=function(t){if(this.enabled){var e=t.offsetX,n=t.offsetY,o=this.rs,r=o.minHandle,i=o.maxHandle,s=o.x,a=o.width,l=o.min,c=o.computeVisibleRangeBBox();this.minHandleDragging||this.maxHandleDragging||(r.containsPoint(e,n)?this.minHandleDragging=!0:i.containsPoint(e,n)?this.maxHandleDragging=!0:c.containsPoint(e,n)&&(this.panHandleOffset=(e-s)/a-l))}},e.prototype.onDrag=function(t){if(this.enabled){var e=this.rs,n=this.panHandleOffset,o=e.x,r=e.y,i=e.width,s=e.height,a=e.minHandle,l=e.maxHandle,c=t.offsetX,u=t.offsetY,d=o+i*e.min,p=o+i*e.max,h=new BBox(d,r,p-d,s),f=function(){return Math.min(Math.max((c-o)/i,0),1)};if(a.containsPoint(c,u)||l.containsPoint(c,u)?this.ctx.cursorManager.updateCursor("navigator","ew-resize"):h.containsPoint(c,u)?this.ctx.cursorManager.updateCursor("navigator","grab"):this.ctx.cursorManager.updateCursor("navigator"),this.minHandleDragging)e.min=f();else if(this.maxHandleDragging)e.max=f();else if(!isNaN(n)){var g=e.max-e.min,_=Math.min(f()-n,1-g);_<=e.min?(e.min=_,e.max=e.min+g):(e.max=_+g,e.min=e.max-g)}}},e.prototype.onDragStop=function(){this.stopHandleDragging()},e.prototype.stopHandleDragging=function(){this.minHandleDragging=this.maxHandleDragging=!1,this.panHandleOffset=NaN},__decorate$1g([Validate(BOOLEAN)],e.prototype,"_enabled",void 0),__decorate$1g([Validate(NUMBER(0))],e.prototype,"margin",void 0),e}(BaseModuleInstance),CHART_NAVIGATOR_MODULE={type:"root",optionsKey:"navigator",packageType:"community",chartTypes:["cartesian"],initialiseModule:function(t){return{instance:new Navigator(t)}}};registerModule(CHART_NAVIGATOR_MODULE);var __extends$1R=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1f=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Background=function(t){function e(e){var n,o=t.call(this)||this;o.onLayoutComplete=function(t){var e=t.chart,n=e.width,r=e.height;o.rectNode.width=n,o.rectNode.height=r},o.node=new Group({name:"background"}),o.node.zIndex=Layers.SERIES_BACKGROUND_ZINDEX,o.rectNode=new Rect,o.node.appendChild(o.rectNode),o.fill="white",o.visible=!0,null===(n=e.scene.root)||void 0===n||n.appendChild(o.node),o.destroyFns.push((function(){var t;return null===(t=e.scene.root)||void 0===t?void 0:t.removeChild(o.node)}));var r=e.layoutService.addListener("layout-complete",o.onLayoutComplete);return o.destroyFns.push((function(){return e.layoutService.removeListener(r)})),o}return __extends$1R(e,t),e.prototype.update=function(){},__decorate$1f([Validate(BOOLEAN),ProxyPropertyOnWrite("node","visible")],e.prototype,"visible",void 0),__decorate$1f([Validate(OPT_COLOR_STRING),ProxyPropertyOnWrite("rectNode","fill")],e.prototype,"fill",void 0),e}(BaseModuleInstance),CHART_BACKGROUND_MODULE={type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","hierarchy"],initialiseModule:function(t){return{instance:new Background(t)}}};registerModule(CHART_BACKGROUND_MODULE);var builtinSeriesTypes={area:AreaSeries,bar:BarSeries,column:BarSeries,histogram:HistogramSeries,line:LineSeries,pie:PieSeries,scatter:ScatterSeries,treemap:TreemapSeries},extraSeriesFactories={},initialisedSeriesModules=new Map;function initialiseSeriesModules(){REGISTERED_MODULES.filter((function(t){return"series"===t.type})).filter((function(t){return!initialisedSeriesModules.has(t)})).forEach((function(t){return initialiseSeriesModule(t)}))}var seriesDefaults={};function initialiseSeriesModule(t){var e=t.optionsKey,n=t.initialiseModule({seriesFactory:{add:function(t){extraSeriesFactories[e]=t},delete:function(){delete extraSeriesFactories[e]}},defaults:{add:function(t){seriesDefaults[e]=t},delete:function(){delete seriesDefaults[e]}},themes:{chartTheme:{add:function(t){ChartTheme.seriesThemeOverrides[e]=t},delete:function(){delete ChartTheme.seriesThemeOverrides[e]}},darkTheme:{add:function(t){DarkTheme.seriesDarkThemeOverrides[e]=t},delete:function(){delete DarkTheme.seriesDarkThemeOverrides[e]}}}});initialisedSeriesModules.set(t,n);var o=t.chartTypes[0];CHART_TYPES.add(e,o)}function getSeries(t){if(Object.prototype.hasOwnProperty.call(extraSeriesFactories,t))return(0,extraSeriesFactories[t])();if(Object.prototype.hasOwnProperty.call(builtinSeriesTypes,t))return new(0,builtinSeriesTypes[t]);throw new Error("AG Charts - unknown series type: "+t)}var DEFAULT_CARTESIAN_CHART_OVERRIDES={axes:[{type:NumberAxis.type,position:"left"},{type:CategoryAxis.type,position:"bottom"}]},DEFAULT_BAR_CHART_OVERRIDES={axes:[{type:"number",position:"bottom"},{type:"category",position:"left"}]},DEFAULT_SCATTER_HISTOGRAM_CHART_OVERRIDES={axes:[{type:"number",position:"bottom"},{type:"number",position:"left"}]},__assign$q=function(){return __assign$q=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$q.apply(this,arguments)};function transform(t,e){var n={};for(var o in t){var r=e[o]||function(t){return t};n[o]=r(t[o],t)}return n}function is2dArray(t){return null!=t&&t instanceof Array&&t[0]instanceof Array}function yNamesMapping(t,e){if(null==t)return{};if(!(t instanceof Array))return t;var n=e.yKeys;if(null==n||is2dArray(n))throw new Error("AG Charts - yNames and yKeys mismatching configuration.");var o={};return n.forEach((function(e,n){o[e]=t[n]})),o}function yKeysMapping(t,e){return null==t?[[]]:is2dArray(t)?t:e.grouped?t.map((function(t){return[t]})):[t]}function barSeriesTransform(t){var e=__assign$q({},t);return delete e.yKey,delete e.yName,transform(e,{yNames:yNamesMapping,yKeys:yKeysMapping})}function identityTransform(t){return t}var SERIES_TRANSFORMS={area:identityTransform,bar:barSeriesTransform,column:barSeriesTransform,histogram:identityTransform,line:identityTransform,pie:identityTransform,scatter:identityTransform,treemap:identityTransform};function applySeriesTransform(t){var e=t.type||"line",n=SERIES_TRANSFORMS[e];return(null!=n?n:identityTransform)(t)}var __extends$1Q=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),palette$7={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},MaterialLight=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$1Q(e,t),e.prototype.getPalette=function(){return palette$7},e}(ChartTheme),__extends$1P=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),palette$6={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},MaterialDark=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$1P(e,t),e.prototype.getPalette=function(){return palette$6},e}(DarkTheme),__extends$1O=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),palette$5={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},PastelLight=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$1O(e,t),e.prototype.getPalette=function(){return palette$5},e}(ChartTheme),__extends$1N=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),palette$4={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},PastelDark=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$1N(e,t),e.prototype.getPalette=function(){return palette$4},e}(DarkTheme),__extends$1M=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),palette$3={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},SolarLight=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$1M(e,t),e.prototype.getPalette=function(){return palette$3},e}(ChartTheme),__extends$1L=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),palette$2={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},SolarDark=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$1L(e,t),e.prototype.getPalette=function(){return palette$2},e}(DarkTheme),__extends$1K=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),palette$1={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},VividLight=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$1K(e,t),e.prototype.getPalette=function(){return palette$1},e}(ChartTheme),__extends$1J=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),palette={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},VividDark=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$1J(e,t),e.prototype.getPalette=function(){return palette},e}(DarkTheme),__assign$p=function(){return __assign$p=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$p.apply(this,arguments)},lightTheme=function(){return new ChartTheme},darkTheme=function(){return new DarkTheme},lightThemes={undefined:lightTheme,null:lightTheme,"ag-default":lightTheme,"ag-material":function(){return new MaterialLight},"ag-pastel":function(){return new PastelLight},"ag-solar":function(){return new SolarLight},"ag-vivid":function(){return new VividLight}},darkThemes={undefined:darkTheme,null:darkTheme,"ag-default-dark":darkTheme,"ag-material-dark":function(){return new MaterialDark},"ag-pastel-dark":function(){return new PastelDark},"ag-solar-dark":function(){return new SolarDark},"ag-vivid-dark":function(){return new VividDark}},themes$1=__assign$p(__assign$p({},darkThemes),lightThemes);function getChartTheme(t){var e;if(t instanceof ChartTheme)return t;var n=themes$1[t];if(n)return n();for(var o,r=[];"object"==typeof t;)r.push(null!==(e=t.overrides)&&void 0!==e?e:{}),t.palette&&null==o&&(o=t.palette),t=t.baseTheme;r.reverse();var i=__assign$p({baseTheme:t,overrides:jsonMerge(r)},o?{palette:o}:{});return i.baseTheme||i.overrides?new(getChartTheme(i.baseTheme).constructor)(i):lightTheme()}var __assign$o=function(){return __assign$o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$o.apply(this,arguments)},__values$a=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$q=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$e=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$q(arguments[e]));return t};function groupSeriesByType(t){var e,n,o={},r=[];try{for(var i=__values$a(t),s=i.next();!s.done;s=i.next()){var a=s.value;if("column"===a.type||"bar"===a.type||"area"===a.type&&!0===a.stacked){var l=a.type||"line",c=a.stacked?"stacked":"grouped",u=l+"-"+a.xKey+"-"+c;null==o[u]&&(o[u]=[],r.push(o[u])),o[u].push(a)}else r.push([a])}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}var FAIL=Symbol(),SKIP=Symbol(),ARRAY_REDUCER=function(t){return function(e,n){var o;return e.concat.apply(e,__spread$e(null!==(o=n[t])&&void 0!==o?o:[]))}},BOOLEAN_OR_REDUCER=function(t,e){return function(n,o){return"boolean"==typeof o[t]?null!=n&&n||o[t]:null!=n?n:e}},DEFAULTING_ARRAY_REDUCER=function(t,e){return function(n,o,r,i){var s,a=e===SKIP||e===FAIL,l=null!==(s=o[t])&&void 0!==s?s:e;if(l===FAIL)throw new Error("AG Charts - missing value for property ["+t+"] on series config.");if(l===SKIP)return n;if(0===n.length&&!a)for(;n.length<i;)n=n.concat(e);return a?n.concat(l):(n[r]=l,n)}},YKEYS_REDUCER=function(t,e){return function(n,o){return o[t]===e?n.concat.apply(n,__spread$e(o.yKey?[o.yKey]:o.yKeys)):n}},STACK_GROUPS_REDUCER=function(){return function(t,e){var n;return __assign$o(__assign$o({},t),((n={})[e.stackGroup]=__spread$e(t[e.stackGroup]||[],[e.yKey]),n))}},REDUCE_CONFIG={hideInChart:{outputProp:"hideInChart",reducer:ARRAY_REDUCER("hideInChart"),start:[]},hideInLegend:{outputProp:"hideInLegend",reducer:ARRAY_REDUCER("hideInLegend"),start:[]},yKey:{outputProp:"yKeys",reducer:DEFAULTING_ARRAY_REDUCER("yKey",SKIP),start:[]},fill:{outputProp:"fills",reducer:DEFAULTING_ARRAY_REDUCER("fill",SKIP),start:[]},stroke:{outputProp:"strokes",reducer:DEFAULTING_ARRAY_REDUCER("stroke",SKIP),start:[]},yName:{outputProp:"yNames",reducer:DEFAULTING_ARRAY_REDUCER("yName",SKIP),start:[]},visible:{outputProp:"visibles",reducer:DEFAULTING_ARRAY_REDUCER("visible",!0),start:[]},grouped:{outputProp:"grouped",reducer:BOOLEAN_OR_REDUCER("grouped"),seriesType:["bar","column"],start:void 0},showInLegend:{outputProp:"hideInLegend",reducer:YKEYS_REDUCER("showInLegend",!1),seriesType:["bar","column"],start:[]},stackGroup:{outputProp:"stackGroups",reducer:STACK_GROUPS_REDUCER(),seriesType:["bar","column"],start:{}}};function reduceSeries(t){var e={};return t.forEach((function(n,o){Object.keys(n).forEach((function(r){var i,s=REDUCE_CONFIG[r],a=function(){var t,o;e[r]=null!==(o=null!==(t=n[r])&&void 0!==t?t:e[r])&&void 0!==o?o:void 0};if(s){var l=s.outputProp,c=s.reducer,u=s.start,d=void 0===u?void 0:u,p=s.seriesType;if((void 0===p?[n.type]:p).includes(n.type)){var h=c(null!==(i=e[l])&&void 0!==i?i:d,n,o,t.length);void 0!==h&&(e[l]=h)}else a()}else a()}))})),e}function processSeriesOptions(t){var e,n,o=[],r=t.map((function(t){return"bar"!==t.type&&"column"!==t.type||null==t.yKey||t.stacked?t:__assign$o(__assign$o({},t),{grouped:null==t.grouped||t.grouped})}));try{for(var i=__values$a(groupSeriesByType(r)),s=i.next();!s.done;s=i.next()){var a=s.value;switch(a[0].type){case"column":case"bar":case"area":o.push(reduceSeries(a));break;default:a.length>1&&Logger.warn("unexpected grouping of series type: "+a[0].type),o.push(a[0])}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return o}var types={number:"number",time:"time",log:"log",category:"category",groupedCategory:"groupedCategory"},CHART_AXES_TYPES={has:function(t){return Object.prototype.hasOwnProperty.call(types,t)},get axesTypes(){return Object.keys(types)}},__assign$n=function(){return __assign$n=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$n.apply(this,arguments)},__values$9=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$p=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$d=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$p(arguments[e]));return t};function optionsType(t){var e,n,o,r;return null!==(r=null!==(e=t.type)&&void 0!==e?e:null===(o=null===(n=t.series)||void 0===n?void 0:n[0])||void 0===o?void 0:o.type)&&void 0!==r?r:"line"}function isAgCartesianChartOptions(t){var e=optionsType(t);return null==e||("cartesian"===e?(Logger.warnOnce("type '"+e+"' is deprecated, use a series type instead"),!0):CHART_TYPES.isCartesian(e))}function isAgHierarchyChartOptions(t){var e=optionsType(t);return null!=e&&("hierarchy"===e?(Logger.warnOnce("type '"+e+"' is deprecated, use a series type instead"),!0):CHART_TYPES.isHierarchy(e))}function isAgPolarChartOptions(t){var e=optionsType(t);return null!=e&&("polar"===e?(Logger.warnOnce("type '"+e+"' is deprecated, use a series type instead"),!0):CHART_TYPES.isPolar(e))}function isSeriesOptionType(t){return null!=t&&CHART_TYPES.has(t)}function isAxisOptionType(t){return null!=t&&CHART_AXES_TYPES.has(t)}function countArrayElements(t){var e,n,o=0;try{for(var r=__values$9(t),i=r.next();!i.done;i=r.next()){var s=i.value;s instanceof Array&&(o+=countArrayElements(s)),null!=s&&o++}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return o}function takeColours(t,e,n){for(var o=[],r=0;r<n;r++)o.push(e[(r+t.colourIndex)%e.length]);return o}var noDataCloneMergeOptions={avoidDeepClone:["data"]};function prepareOptions(t,e,n){var o,r,i,s,a,l,c,u,d=jsonMerge([e,t],noDataCloneMergeOptions);sanityCheckOptions(d);var p=d.type,h=optionsType(d),f=(null===(a=d.tooltip)||void 0===a?void 0:a.position)||{},g=function(t){if(null!=t&&!isSeriesOptionType(t)&&!(null==n?void 0:n[t]))throw new Error("AG Charts - unknown series type: "+t+"; expected one of: "+CHART_TYPES.seriesTypes)};g(h);try{for(var _=__values$9(null!==(l=d.series)&&void 0!==l?l:[]),m=_.next();!m.done;m=_.next()){var y=m.value.type;null!=y&&g(y)}}catch(t){o={error:t}}finally{try{m&&!m.done&&(r=_.return)&&r.call(_)}finally{if(o)throw o.error}}d=__assign$n(__assign$n({},d),{type:h});var v="line";isAgCartesianChartOptions(d)?v="line":isAgHierarchyChartOptions(d)?v="treemap":isAgPolarChartOptions(d)&&(v="pie");var C={};n&&Object.prototype.hasOwnProperty.call(n,h)?C=n[h]:"bar"===h?C=DEFAULT_BAR_CHART_OVERRIDES:"scatter"===h||"histogram"===h?C=DEFAULT_SCATTER_HISTOGRAM_CHART_OVERRIDES:isAgCartesianChartOptions(d)&&(C=DEFAULT_CARTESIAN_CHART_OVERRIDES);var E=prepareMainOptions(C,d),b=E.context,S=E.mergedOptions,w=E.axesThemes,O=E.seriesThemes;S.series=processSeriesOptions((S.series||[]).map((function(t){var e=v;t.type?e=t.type:isSeriesOptionType(p)&&(e=p);var n=mergeSeriesOptions(t,e,O,f);return"pie"===e&&preparePieOptions(O.pie,t,n),n}))).map((function(t){return prepareSeries(b,t)}));var P=function(t){var e=isAxisOptionType(t);return e||Logger.warnOnce("AG Charts - unknown axis type: "+t+"; expected one of: "+CHART_AXES_TYPES.axesTypes+", ignoring."),e};if(isAgCartesianChartOptions(S)){var T=!0;try{for(var R=__values$9(null!==(c=S.axes)&&void 0!==c?c:[]),D=R.next();!D.done;D=R.next()){P(D.value.type)||(T=!1)}}catch(t){i={error:t}}finally{try{D&&!D.done&&(s=R.return)&&s.call(R)}finally{if(i)throw i.error}}S.axes=T?null===(u=S.axes)||void 0===u?void 0:u.map((function(t){var e=t.type;return prepareAxis(t,jsonMerge([w[e],w[e][t.position||"unknown"]||{}]))})):C.axes}return prepareEnabledOptions(d,S),S}function sanityCheckOptions(t){Object.entries({yKeys:"yKey",yNames:"yName"}).forEach((function(e){var n,o=__read$p(e,2),r=o[0],i=o[1];(null===(n=t.series)||void 0===n?void 0:n.some((function(t){return null!=t[r]})))&&Logger.warnOnce("property [series."+r+"] is deprecated, please use [series."+i+"] and multiple series instead.")}))}function mergeSeriesOptions(t,e,n,o){var r,i=jsonMerge([__assign$n({},o),null===(r=t.tooltip)||void 0===r?void 0:r.position],noDataCloneMergeOptions);return jsonMerge([n[e]||{},__assign$n(__assign$n({},t),{type:e,tooltip:__assign$n(__assign$n({},t.tooltip),{position:i})})],noDataCloneMergeOptions)}function prepareMainOptions(t,e){var n=prepareTheme(e),o=n.theme,r=n.cleanedTheme,i=n.axesThemes,s=n.seriesThemes;return{context:{colourIndex:0,palette:o.palette},mergedOptions:jsonMerge([t,r,e],noDataCloneMergeOptions),axesThemes:i,seriesThemes:s}}function prepareTheme(t){var e=getChartTheme(t.theme),n=e.config[optionsType(t)||"cartesian"],o=Object.entries(e.config).reduce((function(t,e){var n=__read$p(e,2),o=n[0],r=n[1].series;return t[o]=null==r?void 0:r[o],t}),{});return{theme:e,axesThemes:n.axes||{},seriesThemes:o,cleanedTheme:jsonMerge([n,{axes:DELETE,series:DELETE}])}}function prepareSeries(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var r=calculateSeriesPalette(t,e);return applySeriesTransform(jsonMerge(__spread$d(n,[r,e,{stacked:DELETE}]),noDataCloneMergeOptions))}function calculateSeriesPalette(t,e){var n={},o=t.palette,r=o.fills,i=o.strokes,s=countArrayElements(e.yKeys||[])||1;switch(e.type){case"pie":s=Math.max(r.length,i.length);case"area":case"bar":case"column":n.fills=takeColours(t,r,s),n.strokes=takeColours(t,i,s);break;case"histogram":n.fill=takeColours(t,r,1)[0],n.stroke=takeColours(t,i,1)[0];break;case"scatter":n.marker={stroke:takeColours(t,i,1)[0],fill:takeColours(t,r,1)[0]};break;case"line":n.stroke=takeColours(t,r,1)[0],n.marker={stroke:takeColours(t,i,1)[0],fill:takeColours(t,r,1)[0]}}return t.colourIndex+=s,n}function prepareAxis(t,e){var n={top:DELETE,bottom:DELETE,left:DELETE,right:DELETE};if(t.crossLines){Array.isArray(t.crossLines)||(Logger.warn("axis[].crossLines should be an array."),t.crossLines=[]);var o=e.crossLines;t.crossLines=t.crossLines.map((function(t){return jsonMerge([o,t])}))}return jsonMerge([e,{crossLines:DELETE},t,n],noDataCloneMergeOptions)}function prepareEnabledOptions(t,e){jsonWalk(t,(function(t,e,n){if(n){var o=n._enabledFromTheme;null!=o&&delete n._enabledFromTheme,"enabled"in n&&(o||null==e.enabled&&(n.enabled=!0))}}),{skip:["data","theme"]},e),jsonWalk(e,(function(t,e){null!=e._enabledFromTheme&&delete e._enabledFromTheme}),{skip:["data","theme"]})}function preparePieOptions(t,e,n){Array.isArray(e.innerLabels)?n.innerLabels=e.innerLabels.map((function(e){return jsonMerge([t.innerLabels,e])})):n.innerLabels=DELETE}var horizontalCrosslineTranslationDirections={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},topLeft:{xTranslationDirection:1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:-1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:1},bottomRight:{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:1,yTranslationDirection:0},insideRight:{xTranslationDirection:-1,yTranslationDirection:0},insideTop:{xTranslationDirection:0,yTranslationDirection:1},insideBottom:{xTranslationDirection:0,yTranslationDirection:-1},insideTopLeft:{xTranslationDirection:1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomRight:{xTranslationDirection:-1,yTranslationDirection:-1}},verticalCrossLineTranslationDirections={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},topLeft:{xTranslationDirection:-1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},bottomRight:{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:0,yTranslationDirection:1},insideRight:{xTranslationDirection:0,yTranslationDirection:-1},insideTop:{xTranslationDirection:-1,yTranslationDirection:0},insideBottom:{xTranslationDirection:1,yTranslationDirection:0},insideTopLeft:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:-1},insideBottomRight:{xTranslationDirection:1,yTranslationDirection:-1}},calculateLabelTranslation=function(t){var e,n=t.yDirection,o=t.padding,r=void 0===o?0:o,i=t.position,s=t.bbox,a=n?horizontalCrosslineTranslationDirections:verticalCrossLineTranslationDirections,l=null!==(e=a[i])&&void 0!==e?e:a.top,c=l.xTranslationDirection,u=l.yTranslationDirection;return{xTranslation:c*(r+(n?s.width:s.height)/2),yTranslation:u*(r+(n?s.height:s.width)/2)}},POSITION_TOP_COORDINATES=function(t){var e=t.yDirection,n=t.xEnd,o=t.yStart,r=t.yEnd;return e?{x:n/2,y:o}:{x:n,y:isNaN(r)?o:(o+r)/2}},POSITION_LEFT_COORDINATES=function(t){var e=t.yDirection,n=t.xStart,o=t.xEnd,r=t.yStart,i=t.yEnd;return e?{x:n,y:isNaN(i)?r:(r+i)/2}:{x:o/2,y:r}},POSITION_RIGHT_COORDINATES=function(t){var e=t.yDirection,n=t.xEnd,o=t.yStart,r=t.yEnd;return e?{x:n,y:isNaN(r)?o:(o+r)/2}:{x:n/2,y:isNaN(r)?o:r}},POSITION_BOTTOM_COORDINATES=function(t){var e=t.yDirection,n=t.xStart,o=t.xEnd,r=t.yStart,i=t.yEnd;return e?{x:o/2,y:isNaN(i)?r:i}:{x:n,y:isNaN(i)?r:(r+i)/2}},POSITION_INSIDE_COORDINATES=function(t){var e=t.xEnd,n=t.yStart,o=t.yEnd;return{x:e/2,y:isNaN(o)?n:(n+o)/2}},POSITION_TOP_LEFT_COORDINATES=function(t){var e=t.yDirection,n=t.xStart,o=t.xEnd,r=t.yStart;return e?{x:n/2,y:r}:{x:o,y:r}},POSITION_BOTTOM_LEFT_COORDINATES=function(t){var e=t.yDirection,n=t.xStart,o=t.yStart,r=t.yEnd;return e?{x:n,y:isNaN(r)?o:r}:{x:n,y:o}},POSITION_TOP_RIGHT_COORDINATES=function(t){var e=t.yDirection,n=t.xEnd,o=t.yStart,r=t.yEnd;return e?{x:n,y:o}:{x:n,y:isNaN(r)?o:r}},POSITION_BOTTOM_RIGHT_COORDINATES=function(t){var e=t.yDirection,n=t.xStart,o=t.xEnd,r=t.yStart,i=t.yEnd;return e?{x:o,y:isNaN(i)?r:i}:{x:n,y:isNaN(i)?r:i}},labeldDirectionHandling={top:{c:POSITION_TOP_COORDINATES},bottom:{c:POSITION_BOTTOM_COORDINATES},left:{c:POSITION_LEFT_COORDINATES},right:{c:POSITION_RIGHT_COORDINATES},topLeft:{c:POSITION_TOP_LEFT_COORDINATES},topRight:{c:POSITION_TOP_RIGHT_COORDINATES},bottomLeft:{c:POSITION_BOTTOM_LEFT_COORDINATES},bottomRight:{c:POSITION_BOTTOM_RIGHT_COORDINATES},inside:{c:POSITION_INSIDE_COORDINATES},insideLeft:{c:POSITION_LEFT_COORDINATES},insideRight:{c:POSITION_RIGHT_COORDINATES},insideTop:{c:POSITION_TOP_COORDINATES},insideBottom:{c:POSITION_BOTTOM_COORDINATES},insideTopLeft:{c:POSITION_TOP_LEFT_COORDINATES},insideBottomLeft:{c:POSITION_BOTTOM_LEFT_COORDINATES},insideTopRight:{c:POSITION_TOP_RIGHT_COORDINATES},insideBottomRight:{c:POSITION_BOTTOM_RIGHT_COORDINATES}},__extends$1I=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$m=function(){return __assign$m=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$m.apply(this,arguments)},__decorate$1e=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Range=function(t){function e(){var e=t.call(this)||this;return e.x1=0,e.y1=0,e.x2=0,e.y2=0,e.startLine=!1,e.endLine=!1,e.isRange=!1,e.restoreOwnStyles(),e}return __extends$1I(e,t),e.prototype.computeBBox=function(){return new BBox(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)},e.prototype.isPointInPath=function(t,e){return!1},e.prototype.render=function(e){var n,o=e.ctx,r=e.forceRender,i=e.stats;if(this.dirty!==RedrawType.NONE||r){this.computeTransformMatrix(),this.matrix.toContext(o);var s=this,a=s.x1,l=s.y1,c=s.x2,u=s.y2;a=this.align(a),l=this.align(l),c=this.align(c),u=this.align(u);var d=this,p=d.fill,h=d.opacity;if(!(!d.isRange||!p)){var f=this.fillOpacity;o.fillStyle=p,o.globalAlpha=h*f,o.beginPath(),o.moveTo(a,l),o.lineTo(c,l),o.lineTo(c,u),o.lineTo(a,u),o.closePath(),o.fill()}var g=this,_=g.stroke,m=g.strokeWidth,y=g.startLine,v=g.endLine;if(!(!y&&!v||!_||!m)){var C=this,E=C.strokeOpacity,b=C.lineDash,S=C.lineDashOffset,w=C.lineCap,O=C.lineJoin;o.strokeStyle=_,o.globalAlpha=h*E,o.lineWidth=m,b&&o.setLineDash(b),S&&(o.lineDashOffset=S),w&&(o.lineCap=w),O&&(o.lineJoin=O),o.beginPath(),y&&(o.moveTo(a,l),o.lineTo(c,l)),v&&(o.moveTo(c,u),o.lineTo(a,u)),o.stroke()}null===(n=this.fillShadow)||void 0===n||n.markClean(),t.prototype.render.call(this,e)}else i&&(i.nodesSkipped+=this.nodeCount.count)},e.className="Range",e.defaultStyles=__assign$m(__assign$m({},Shape.defaultStyles),{strokeWidth:1}),__decorate$1e([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"x1",void 0),__decorate$1e([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"y1",void 0),__decorate$1e([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"x2",void 0),__decorate$1e([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"y2",void 0),__decorate$1e([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"startLine",void 0),__decorate$1e([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"endLine",void 0),__decorate$1e([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"isRange",void 0),e}(Shape),__decorate$1d=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__read$o=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$c=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$o(arguments[e]));return t},CROSSLINE_LABEL_POSITIONS=["top","left","right","bottom","topLeft","topRight","bottomLeft","bottomRight","inside","insideLeft","insideRight","insideTop","insideBottom","insideTopLeft","insideBottomLeft","insideTopRight","insideBottomRight"],OPT_CROSSLINE_LABEL_POSITION=predicateWithMessage((function(t,e){return OPTIONAL(t,e,(function(t){return CROSSLINE_LABEL_POSITIONS.includes(t)}))}),"expecting an optional crossLine label position keyword such as 'topLeft', 'topRight' or 'inside'"),OPT_CROSSLINE_TYPE=predicateWithMessage((function(t,e){return OPTIONAL(t,e,(function(t){return"range"===t||"line"===t}))}),"expecting a crossLine type keyword such as 'range' or 'line'"),CrossLineLabel=function(){function t(){this.enabled=void 0,this.text=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)",this.position=void 0,this.rotation=void 0,this.parallel=void 0}return __decorate$1d([Validate(OPT_BOOLEAN)],t.prototype,"enabled",void 0),__decorate$1d([Validate(OPT_STRING)],t.prototype,"text",void 0),__decorate$1d([Validate(OPT_FONT_STYLE)],t.prototype,"fontStyle",void 0),__decorate$1d([Validate(OPT_FONT_WEIGHT)],t.prototype,"fontWeight",void 0),__decorate$1d([Validate(NUMBER(0))],t.prototype,"fontSize",void 0),__decorate$1d([Validate(STRING)],t.prototype,"fontFamily",void 0),__decorate$1d([Validate(NUMBER(0))],t.prototype,"padding",void 0),__decorate$1d([Validate(OPT_COLOR_STRING)],t.prototype,"color",void 0),__decorate$1d([Validate(OPT_CROSSLINE_LABEL_POSITION)],t.prototype,"position",void 0),__decorate$1d([Validate(OPT_NUMBER(-360,360))],t.prototype,"rotation",void 0),__decorate$1d([Validate(OPT_BOOLEAN)],t.prototype,"parallel",void 0),t}(),CrossLine=function(){function t(){this.id=createId$1(this),this.enabled=void 0,this.type=void 0,this.range=void 0,this.value=void 0,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=void 0,this.strokeOpacity=void 0,this.lineDash=void 0,this.label=new CrossLineLabel,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction=ChartAxisDirection.X,this.group=new Group({name:""+this.id,layer:!0,zIndex:t.LINE_LAYER_ZINDEX}),this.crossLineRange=new Range,this.crossLineLabel=new Text,this.labelPoint=void 0,this.data=[],this.startLine=!1,this.endLine=!1,this.isRange=!1;var e=this,n=e.group,o=e.crossLineRange,r=e.crossLineLabel;n.append([o,r]),o.pointerEvents=PointerEvents.None}return t.prototype.update=function(t){this.enabled&&(this.group.visible=t,t&&(this.createNodeData()?(this.updateNodes(),this.group.zIndex=this.getZIndex(this.isRange)):this.group.visible=!1))},t.prototype.updateNodes=function(){this.updateRangeNode(),this.label.enabled&&(this.updateLabel(),this.positionLabel())},t.prototype.createNodeData=function(){var t,e,n,o,r,i=this,s=i.scale,a=i.gridLength,l=i.sideFlag,c=i.direction,u=i.label.position,d=void 0===u?"top":u,p=i.clippedRange,h=i.strokeWidth,f=void 0===h?0:h;if(!s)return!1;var g=null!==(o=s.bandwidth)&&void 0!==o?o:0,_=function(t){return Math.max(Math.min.apply(Math,__spread$c(p)),Math.min(Math.max.apply(Math,__spread$c(p)),t))},m=__read$o([0,l*a],2),y=m[0],v=m[1],C=__read$o(this.getRange(),2),E=C[0],b=C[1],S=__read$o([Number(s.convert(E,{strict:!1})),s.convert(b,{strict:!1})+g],2),w=S[0],O=S[1];w=_(w),O=_(O),E=(t=__read$o([Number(s.convert(E)),s.convert(b)+g],2))[0],b=t[1];var P=!isNaN(w)&&!isNaN(O)&&(E===w||b===O||w!==O)&&Math.abs(O-w)>0;P&&(w!==Math.min(w,O)&&(w=(e=__read$o([Math.min(w,O),Math.max(w,O)],2))[0],O=e[1],E=(n=__read$o([b,E],2))[0],b=n[1]));if(this.isRange=P,this.startLine=!isNaN(E)&&f>0&&E===w,this.endLine=!isNaN(b)&&f>0&&b===O,!P&&!this.startLine&&!this.endLine)return!1;if(this.data=[w,O],this.label.enabled){var T=c===ChartAxisDirection.Y,R=(null!==(r=labeldDirectionHandling[d])&&void 0!==r?r:{}).c,D=(void 0===R?POSITION_TOP_COORDINATES:R)({yDirection:T,xStart:y,xEnd:v,yStart:w,yEnd:O}),x=D.x,M=D.y;this.labelPoint={x,y:M}}return!0},t.prototype.updateRangeNode=function(){var t,e=this,n=e.crossLineRange,o=e.sideFlag,r=e.gridLength,i=e.data,s=e.startLine,a=e.endLine,l=e.isRange,c=e.fill,u=e.fillOpacity,d=e.stroke,p=e.strokeWidth,h=e.lineDash;n.x1=0,n.x2=o*r,n.y1=i[0],n.y2=i[1],n.startLine=s,n.endLine=a,n.isRange=l,n.fill=c,n.fillOpacity=null!=u?u:1,n.stroke=d,n.strokeWidth=null!=p?p:1,n.strokeOpacity=null!==(t=this.strokeOpacity)&&void 0!==t?t:1,n.lineDash=h},t.prototype.updateLabel=function(){var t=this.crossLineLabel,e=this.label;e.text&&(t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.fontSize=e.fontSize,t.fontFamily=e.fontFamily,t.fill=e.color,t.text=e.text)},t.prototype.positionLabel=function(){var t=this,e=t.crossLineLabel,n=t.labelPoint,o=void 0===n?{}:n,r=o.x,i=void 0===r?void 0:r,s=o.y,a=void 0===s?void 0:s,l=t.label,c=l.parallel,u=l.rotation,d=l.position,p=void 0===d?"top":d,h=l.padding,f=void 0===h?0:h,g=t.direction,_=t.parallelFlipRotation,m=t.regularFlipRotation;if(void 0!==i&&void 0!==a){var y=calculateLabelRotation({rotation:u,parallel:c,regularFlipRotation:m,parallelFlipRotation:_}),v=y.autoRotation,C=y.labelRotation;e.rotation=v+C,e.textBaseline="middle",e.textAlign="center";var E=this.computeLabelBBox();if(E){var b=g===ChartAxisDirection.Y,S=calculateLabelTranslation({yDirection:b,padding:f,position:p,bbox:E}),w=S.xTranslation,O=S.yTranslation;e.translationX=i+w,e.translationY=a+O}}},t.prototype.getZIndex=function(e){return void 0===e&&(e=!1),e?t.RANGE_LAYER_ZINDEX:t.LINE_LAYER_ZINDEX},t.prototype.getRange=function(){var t,e=this,n=e.value,o=e.range,r=e.scale instanceof ContinuousScale,i=__read$o(null!=o?o:[n,void 0],2),s=i[0],a=i[1];return r||void 0!==a||(a=s),s=(t=__read$o([checkDatum(s,r),checkDatum(a,r)],2))[0],a=t[1],r&&s===a&&(a=void 0),void 0===s&&void 0!==a&&(s=a,a=void 0),[s,a]},t.prototype.computeLabelBBox=function(){return this.crossLineLabel.computeTransformedBBox()},t.prototype.calculatePadding=function(t,e){var n,o,r,i,s,a,l=this,c=l.isRange,u=l.startLine,d=l.endLine;if(c||u||d){var p=this.computeLabelBBox(),h=null==p?void 0:p.x,f=null==p?void 0:p.y;if(null!=h&&null!=f){var g=null!==(n=null==p?void 0:p.width)&&void 0!==n?n:0,_=null!==(o=null==p?void 0:p.height)&&void 0!==o?o:0;if(!(g>e.width||_>e.height)){if(h+g>=e.x+e.width){var m=h+g-(e.x+e.width);t.right=(null!==(r=t.right)&&void 0!==r?r:0)>=m?t.right:m}else if(h<=e.x){var y=e.x-h;t.left=(null!==(i=t.left)&&void 0!==i?i:0)>=y?t.left:y}if(f+_>=e.y+e.height){var v=f+_-(e.y+e.height);t.bottom=(null!==(s=t.bottom)&&void 0!==s?s:0)>=v?t.bottom:v}else if(f<=e.y){var C=e.y-f;t.top=(null!==(a=t.top)&&void 0!==a?a:0)>=C?t.top:C}}}}},t.LINE_LAYER_ZINDEX=Layers.SERIES_CROSSLINE_LINE_ZINDEX,t.RANGE_LAYER_ZINDEX=Layers.SERIES_CROSSLINE_RANGE_ZINDEX,t.className="CrossLine",__decorate$1d([Validate(OPT_BOOLEAN)],t.prototype,"enabled",void 0),__decorate$1d([Validate(OPT_CROSSLINE_TYPE)],t.prototype,"type",void 0),__decorate$1d([Validate(OPT_ARRAY(2))],t.prototype,"range",void 0),__decorate$1d([Validate(OPT_COLOR_STRING)],t.prototype,"fill",void 0),__decorate$1d([Validate(OPT_NUMBER(0,1))],t.prototype,"fillOpacity",void 0),__decorate$1d([Validate(OPT_COLOR_STRING)],t.prototype,"stroke",void 0),__decorate$1d([Validate(OPT_NUMBER())],t.prototype,"strokeWidth",void 0),__decorate$1d([Validate(OPT_NUMBER(0,1))],t.prototype,"strokeOpacity",void 0),__decorate$1d([Validate(OPT_LINE_DASH)],t.prototype,"lineDash",void 0),t}(),__extends$1H=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1c=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Image=function(t){function e(e){var n=t.call(this)||this;return n.x=0,n.y=0,n.width=0,n.height=0,n.opacity=1,n.sourceImage=e,n}return __extends$1H(e,t),e.prototype.render=function(e){var n=e.ctx,o=e.forceRender,r=e.stats;if(this.dirty!==RedrawType.NONE||o){this.computeTransformMatrix(),this.matrix.toContext(n);var i=this.sourceImage;n.globalAlpha=this.opacity,n.drawImage(i,0,0,i.width,i.height,this.x,this.y,this.width,this.height),t.prototype.render.call(this,e)}else r&&r.nodesSkipped++},__decorate$1c([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"x",void 0),__decorate$1c([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"y",void 0),__decorate$1c([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"width",void 0),__decorate$1c([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"height",void 0),__decorate$1c([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"opacity",void 0),e}(Node),BackgroundImage=function(){function t(){var t=this;this._image=document.createElement("img"),this.loadedSynchronously=!0,this.left=void 0,this.top=void 0,this.right=void 0,this.bottom=void 0,this.width=void 0,this.height=void 0,this.opacity=1,this.containerWidth=0,this.containerHeight=0,this.onload=void 0,this.onImageLoad=function(){t.loadedSynchronously||(t.node.visible=!1,t.performLayout(t.containerWidth,t.containerHeight),t.onload&&t.onload())},this.node=new Image(this._image),this._image.onload=this.onImageLoad}return Object.defineProperty(t.prototype,"url",{get:function(){return this._image.src},set:function(t){this._image.src=t,this.loadedSynchronously=this.complete},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"complete",{get:function(){return this._image.width>0&&this._image.height>0},enumerable:!1,configurable:!0}),t.prototype.performLayout=function(t,e){if(this.containerWidth=t,this.containerHeight=e,this.complete){var n=this.calculatePosition(this._image.width,this._image.height);Object.assign(this.node,n),this.node.visible=!0,this.node.opacity=this.opacity}else this.node.visible=!1},t.prototype.calculatePosition=function(t,e){var n=this.left,o=this.right,r=this.width,i=this.top,s=this.bottom,a=this.height;return null!=n?null!=o?r=this.containerWidth-n-o:null!=r&&(o=this.containerWidth-n+r):null!=o&&null!=r&&(n=this.containerWidth-o-r),null!=i?null!=s?a=this.containerHeight-s-i:null!=a&&(s=this.containerHeight-i-a):null!=s&&null!=a&&(i=this.containerHeight-s-a),null==r?null==a?(r=t,a=e):r=Math.ceil(t*a/e):null==a&&(a=Math.ceil(e*r/t)),null==n&&(n=null==o?Math.floor((this.containerWidth-r)/2):this.containerWidth-o-r),null==i&&(i=null==s?Math.floor((this.containerHeight-a)/2):this.containerHeight-a-s),{x:n,y:i,width:r,height:a}},t}(),__assign$l=function(){return __assign$l=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$l.apply(this,arguments)},__awaiter=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{l(o.next(t))}catch(t){i(t)}}function a(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((o=o.apply(t,e||[])).next())}))},__generator=function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},__read$n=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$b=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$n(arguments[e]));return t},__values$8=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function chartType(t){if(isAgCartesianChartOptions(t))return"cartesian";if(isAgPolarChartOptions(t))return"polar";if(isAgHierarchyChartOptions(t))return"hierarchy";throw new Error("AG Chart - unknown type of chart for options with type: "+t.type)}var AgChart=function(){function t(){}return t.create=function(t){return AgChartInternal.createOrUpdate(t)},t.update=function(t,e){if(!AgChartInstanceProxy.isInstance(t))throw new Error("AG Charts - invalid chart reference passed");AgChartInternal.createOrUpdate(e,t)},t.updateDelta=function(t,e){if(!AgChartInstanceProxy.isInstance(t))throw new Error("AG Charts - invalid chart reference passed");return AgChartInternal.updateUserDelta(t,e)},t.download=function(t,e){if(!(t instanceof AgChartInstanceProxy))throw new Error("AG Charts - invalid chart reference passed");return AgChartInternal.download(t,e)},t.getImageDataURL=function(t,e){if(!(t instanceof AgChartInstanceProxy))throw new Error("AG Charts - invalid chart reference passed");return AgChartInternal.getImageDataURL(t,e)},t}(),AgChartInstanceProxy=function(){function t(t){this.chart=t}return t.isInstance=function(e){var n,o;if(e instanceof t)return!0;if("AgChartInstanceProxy"===(null===(n=e.constructor)||void 0===n?void 0:n.name)&&null!=e.chart)return!0;var r=Object.keys(null===(o=e.constructor)||void 0===o?void 0:o.prototype);return!(!Object.keys(t.prototype).every((function(t){return r.includes(t)}))||null==e.chart)},t.prototype.getOptions=function(){return this.chart.getOptions()},t.prototype.destroy=function(){this.chart.destroy()},t}(),AgChartInternal=function(){function t(){}return t.createOrUpdate=function(e,n){var o=this;debug(">>> createOrUpdate() user options",e);var r={};!0===t.DEBUG()&&(r.debug=!0);var i=e.overrideDevicePixelRatio;delete e.overrideDevicePixelRatio,initialiseSeriesModules();var s=prepareOptions(e,r,seriesDefaults),a=null==n?void 0:n.chart;null!=a&&chartType(e)===chartType(a.processedOptions)||(a=t.createChartInstance(s,i,a)),null==n?n=new AgChartInstanceProxy(a):n.chart=a;var l=a;l.queuedUserOptions.push(e);var c=function(){var t=l.queuedUserOptions.indexOf(e);l.queuedUserOptions.splice(0,t)};return l.requestFactoryUpdate((function(){return __awaiter(o,void 0,void 0,(function(){var n;return __generator(this,(function(o){switch(o.label){case 0:return l.destroyed?[2]:null==(n=jsonDiff(l.processedOptions,s))?(c(),[2]):[4,t.updateDelta(l,n,e)];case 1:return o.sent(),c(),[2]}}))}))})),n},t.updateUserDelta=function(e,n){var o,r=e.chart,i=e.chart.queuedUserOptions,s=null!==(o=i[i.length-1])&&void 0!==o?o:r.userOptions,a=jsonMerge([s,n]);debug(">>> updateUserDelta() user delta",n),debug("base options",s),t.createOrUpdate(a,e)},t.download=function(e,n){__awaiter(this,void 0,void 0,(function(){var o;return __generator(this,(function(r){switch(r.label){case 0:return[4,t.prepareResizedChart(e,n)];case 1:return(o=r.sent()).chart.scene.download(null==n?void 0:n.fileName,null==n?void 0:n.fileFormat),o!==e&&o.destroy(),[2]}}))}))},t.getImageDataURL=function(e,n){return __awaiter(this,void 0,void 0,(function(){var o,r,i;return __generator(this,(function(s){switch(s.label){case 0:return[4,t.prepareResizedChart(e,n)];case 1:return o=s.sent(),r=o.chart,i=r.scene.canvas.getDataURL(null==n?void 0:n.fileFormat),o!==e&&o.destroy(),[2,i]}}))}))},t.prepareResizedChart=function(e,n){return __awaiter(this,void 0,void 0,(function(){var o,r,i,s,a,l,c,u;return __generator(this,(function(d){switch(d.label){case 0:return o=e.chart,i=(r=n||{}).width,s=r.height,a=o.width,l=o.height,void 0===i&&void 0===s||1===o.scene.canvas.pixelRatio&&a===i&&l===s?[2,e]:(i=null!=i?i:a,s=null!=s?s:l,c=__assign$l(__assign$l({},o.userOptions),{container:document.createElement("div"),width:i,height:s,autoSize:!1,overrideDevicePixelRatio:1}),[4,(u=t.createOrUpdate(c)).chart.waitForUpdate()]);case 1:return d.sent(),[2,u]}}))}))},t.createChartInstance=function(t,e,n){var o=null==n?void 0:n.destroy({keepTransferableResources:!0});if(isAgCartesianChartOptions(t))return new CartesianChart(document,e,o);if(isAgHierarchyChartOptions(t))return new HierarchyChart(document,e,o);if(isAgPolarChartOptions(t))return new PolarChart(document,e,o);throw new Error("AG Charts - couldn't apply configuration, check type of options: "+t.type)},t.updateDelta=function(t,e,n){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(o){switch(o.label){case 0:return null==e.type&&(e=__assign$l(__assign$l({},e),{type:t.processedOptions.type||optionsType(e)})),[4,t.awaitUpdateCompletion()];case 1:return o.sent(),t.destroyed?[2]:(debug("applying delta",e),applyChartOptions(t,e,n),[2])}}))}))},t.DEBUG=function(){var t;return null!==(t=windowValue("agChartsDebug"))&&void 0!==t&&t},t}();function debug(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];[!0,"opts"].includes(AgChartInternal.DEBUG())&&Logger.debug.apply(Logger,__spread$b([t],e))}function applyChartOptions(t,e,n){var o,r,i,s,a=jsonMerge([null!==(o=t.processedOptions)&&void 0!==o?o:{},e],noDataCloneMergeOptions),l=applyModules(t,a),c=["type","data","series","autoSize","listeners","theme","legend.listeners"];if(isAgCartesianChartOptions(e))c.push("axes");else if(!isAgPolarChartOptions(e)&&!isAgHierarchyChartOptions(e))throw new Error("AG Charts - couldn't apply configuration, check type of options and chart: "+e.type);e.listeners&&registerListeners(t,e.listeners),applyOptionValues(t,e,{skip:c});var u=!1;(e.series&&e.series.length>0&&(applySeries(t,e),u=!0),isAgCartesianChartOptions(e)&&e.axes)&&(applyAxes(t,e)&&(u=!0));var d=e.series,p=!!e.data||(null==d?void 0:d.some((function(t){return null!=t.data}))),h=e.legend||e.title||e.subtitle;u=u||p||!!h,e.data&&(t.data=e.data),null!=e.autoSize&&(t.autoSize=e.autoSize),(null===(r=e.legend)||void 0===r?void 0:r.listeners)&&Object.assign(t.legend.listeners,null!==(i=e.legend.listeners)&&void 0!==i?i:{}),e.listeners&&t.updateAllSeriesListeners(),t.processedOptions=a,t.userOptions=jsonMerge([null!==(s=t.userOptions)&&void 0!==s?s:{},n],noDataCloneMergeOptions);var f=u||l?ChartUpdateType.PROCESS_DATA:ChartUpdateType.PERFORM_LAYOUT;debug("chart update type",{updateType:ChartUpdateType[f]}),t.update(f,{forceNodeDataRefresh:u})}function applyModules(t,e){var n,o,r,i=!1,s=REGISTERED_MODULES.filter((function(t){return"root"===t.type}));try{for(var a=__values$8(s),l=a.next();!l.done;l=a.next()){var c=l.value,u=(r=c,(t instanceof CartesianChart&&r.chartTypes.includes("cartesian")||t instanceof PolarChart&&r.chartTypes.includes("polar")||t instanceof HierarchyChart&&r.chartTypes.includes("hierarchy"))&&null!=e[c.optionsKey]);u!==t.isModuleEnabled(c)&&(i=!0,u?t.addModule(c):t.removeModule(c))}}catch(t){n={error:t}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}return i}function applySeries(t,e){var n=e.series;if(n){var o=t.series.length===n.length&&t.series.every((function(t,e){var o;return t.type===(null===(o=n[e])||void 0===o?void 0:o.type)}));o?t.series.forEach((function(e,o){var r,i,s=jsonDiff((null===(i=null===(r=t.processedOptions)||void 0===r?void 0:r.series)||void 0===i?void 0:i[o])||{},n[o]||{});s&&(debug("applying series diff idx "+o,s),applySeriesValues(e,s,{path:"series["+o+"]",index:o}),e.markNodeDataDirty())})):t.series=createSeries(n)}}function applyAxes(t,e){var n=e.axes;if(!n)return!1;if(t.axes.length===n.length&&t.axes.every((function(t,e){return t.type===n[e].type}))){var o=t.processedOptions;if(isAgCartesianChartOptions(o))return t.axes.forEach((function(t,e){var r,i=jsonDiff((null===(r=o.axes)||void 0===r?void 0:r[e])||{},n[e]);debug("applying axis diff idx "+e,i);applyOptionValues(t,i,{path:"axes["+e+"]",skip:["axes[].type"]})})),!0}return t.axes=createAxis(t,n),!0}function createSeries(t){var e,n,o=[],r=0;try{for(var i=__values$8(t||[]),s=i.next();!s.done;s=i.next()){var a=s.value,l="series["+r+++"]",c=getSeries(a.type);applySeriesValues(c,a,{path:l,index:r}),o.push(c)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return o}function createAxis(t,e){var n,o,r=[],i=["axes[].type"],s=t.getModuleContext(),a=0;try{for(var l=__values$8(e||[]),c=l.next();!c.done;c=l.next()){var u=c.value,d=void 0;switch(u.type){case"number":d=new NumberAxis(s);break;case LogAxis.type:d=new LogAxis(s);break;case CategoryAxis.type:d=new CategoryAxis(s);break;case GroupedCategoryAxis.type:d=new GroupedCategoryAxis(s);break;case TimeAxis.type:d=new TimeAxis(s);break;default:throw new Error("AG Charts - unknown axis type: "+u.type)}var p="axes["+a+++"]";applyAxisModules(d,u),applyOptionValues(d,u,{path:p,skip:i}),r.push(d)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}return r}function applyAxisModules(t,e){var n,o,r=!1,i=REGISTERED_MODULES.filter((function(t){return"axis"===t.type}));try{for(var s=__values$8(i),a=s.next();!a.done;a=s.next()){var l=a.value,c=null!=e[l.optionsKey];c!==t.isModuleEnabled(l)&&(r=!0,c?t.addModule(l):t.removeModule(l))}}catch(t){n={error:t}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}return r}function registerListeners(t,e){for(var n in t.clearEventListeners(),e){var o=e[n];"function"==typeof o&&t.addEventListener(n,o)}}var JSON_APPLY_OPTIONS={constructors:{title:Caption,subtitle:Caption,footnote:Caption,shadow:DropShadow,innerCircle:DoughnutInnerCircle,"axes[].crossLines[]":CrossLine,"series[].innerLabels[]":DoughnutInnerLabel,"background.image":BackgroundImage},allowedTypes:{"legend.pagination.marker.shape":["primitive","function"],"series[].marker.shape":["primitive","function"],"axis[].tick.count":["primitive","class-instance"]}};function applyOptionValues(t,e,n){var o=void 0===n?{}:n,r=o.skip,i=o.path;return jsonApply(t,e,__assign$l(__assign$l(__assign$l({},JSON_APPLY_OPTIONS),{skip:r}),i?{path:i}:{}))}function applySeriesValues(t,e,n){var o=void 0===n?{}:n,r=o.path,i=o.index,s=(null==JSON_APPLY_OPTIONS?void 0:JSON_APPLY_OPTIONS.constructors)||{},a={constructors:__assign$l(__assign$l({},s),{title:"pie"===t.type?PieTitle:s.title})},l=jsonApply(t,e,__assign$l(__assign$l(__assign$l(__assign$l(__assign$l({},JSON_APPLY_OPTIONS),a),{skip:__spread$b(["series[].type"],["series[].listeners"]||[])}),r?{path:r}:{}),{idx:null!=i?i:-1})),c=null==e?void 0:e.listeners;return null!=c&&registerListeners(t,c),l}var VERSION$b="7.3.0",__read$m=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},themes=Object.entries(themes$1).reduce((function(t,e){var n=__read$m(e,2),o=n[0],r=n[1];return t[o]=r(),t}),{}),__extends$1G=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1b=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ChartDatasource=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$1G(e,t),e.prototype.getData=function(t){if(t.crossFiltering){if(t.grouping)return console.warn("AG Grid: crossing filtering with row grouping is not supported."),{chartData:[],columnNames:{}};if(!this.gridOptionsService.isRowModelType("clientSide"))return console.warn("AG Grid: crossing filtering is only supported in the client side row model."),{chartData:[],columnNames:{}}}this.gridOptionsService.isRowModelType("serverSide")&&t.pivoting&&this.updatePivotKeysForSSRM();var e=this.extractRowsFromGridRowModel(t);return e.chartData=this.aggregateRowsByDimension(t,e.chartData),e},e.prototype.extractRowsFromGridRowModel=function(t){var n,o=this,r=[],i={},s={},a={},l={},c=[];if(t.crossFiltering)l=this.getFilteredRowNodes(),n=(c=this.getAllRowNodes()).length;else{var u=this.gridRowModel.getRowCount()-1;n=(t.endRow>=0?Math.min(t.endRow,u):u)-t.startRow+1}for(var d=function(n){var u={},d=t.crossFiltering?c[n]:p.gridRowModel.getRow(n+t.startRow);t.dimensionCols.forEach((function(r){var i=r.colId,l=o.columnModel.getGridColumn(i);if(l){var c=o.valueService.getValue(l,d);if(t.grouping){var p=c&&c.toString?String(c.toString()):"",h=e.getGroupLabels(d,p);u[i]={labels:h,toString:function(){return this.labels.filter((function(t){return!!t})).reverse().join(" - ")}},d.group&&(s[h.toString()]=n);var f=h.slice(1,h.length).toString();f&&(a[f]=s[f])}else u[i]=c}else u[ChartDataModel.DEFAULT_CATEGORY]=n+1})),t.valueCols.forEach((function(e){var n=[],r=e.getColDef().pivotKeys;r&&(n=r.slice());var s=e.getColDef().headerName;s&&n.push(s),n.length>0&&(i[e.getId()]=n);var a=e.getColId();if(t.crossFiltering){var c=a+"-filtered-out",p=null!=(h=o.valueService.getValue(e,d))&&"function"==typeof h.toNumber?h.toNumber():h;l[d.id]?(u[a]=p,u[c]=t.aggFunc||t.isScatter?void 0:0):(u[a]=t.aggFunc||t.isScatter?void 0:0,u[c]=p)}else{var h;(h=o.valueService.getValue(e,d))&&h.hasOwnProperty("toString")&&(h=parseFloat(h.toString())),u[a]=null!=h&&"function"==typeof h.toNumber?h.toNumber():h}})),d.footer&&(u.footer=!0),r.push(u)},p=this,h=0;h<n;h++)d(h);if(t.grouping){var f=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.values(a);r=r.filter((function(t,e){return!t.footer&&!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(f,e)}))}return{chartData:r,columnNames:i}},e.prototype.aggregateRowsByDimension=function(t,e){var n=this,o=t.dimensionCols;if(!t.aggFunc||0===o.length)return e;var r=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(o),i=r&&r.colId,s={},a=[];return e.forEach((function(t){var e=s;o.forEach((function(n){var r=n.colId,s=t[r];if(r===i){var l=e[s];l||(l={__children:[]},o.forEach((function(e){var n=e.colId;l[n]=t[n]})),e[s]=l,a.push(l)),l.__children.push(t)}else e[s]||(e[s]={}),e=e[s]}))})),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RowGroupingModule,"Charting Aggregation")&&a.forEach((function(e){return t.valueCols.forEach((function(o){if(t.crossFiltering)t.valueCols.forEach((function(o){var r=o.getColId(),i=e.__children.filter((function(t){return void 0!==t[r]})).map((function(t){return t[r]})),s=n.aggregationStage.aggregateValues(i,t.aggFunc);e[o.getId()]=s&&void 0!==s.value?s.value:s;var a=r+"-filtered-out",l=e.__children.filter((function(t){return void 0!==t[a]})).map((function(t){return t[a]})),c=n.aggregationStage.aggregateValues(l,t.aggFunc);e[a]=c&&void 0!==c.value?c.value:c}));else{var r=e.__children.map((function(t){return t[o.getId()]})),i=0;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RowGroupingModule,"Charting Aggregation")&&(i=n.aggregationStage.aggregateValues(r,t.aggFunc)),e[o.getId()]=i&&void 0!==i.value?i.value:i}}))})),a},e.prototype.updatePivotKeysForSSRM=function(){var t=this.columnModel.getSecondaryColumns();if(t){var e=this.extractPivotKeySeparator(t);t.forEach((function(t){if(""===e)t.getColDef().pivotKeys=[];else{var n=t.getColId().split(e);t.getColDef().pivotKeys=n.slice(0,n.length-1)}}))}},e.prototype.extractPivotKeySeparator=function(t){if(0===t.length)return"";var e=function(t,n){var o=t.getGroupId();return t.getParent()?e(t.getParent(),o):n.split(o)[1][0]},n=t[0];return null==n.getParent()?"":e(n.getParent(),n.getColId())},e.getGroupLabels=function(t,e){for(var n=[e];t&&0!==t.level;)(t=t.parent)&&n.push(t.key);return n},e.prototype.getFilteredRowNodes=function(){var t={};return this.gridRowModel.forEachNodeAfterFilterAndSort((function(e){t[e.id]=e})),t},e.prototype.getAllRowNodes=function(){var t=[];return this.gridRowModel.forEachNode((function(e){t.push(e)})),this.sortRowNodes(t)},e.prototype.sortRowNodes=function(t){var e=this.sortController.getSortOptions();return!e||0==e.length?t:this.rowNodeSorter.doFullSort(t,e)},__decorate$1b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"gridRowModel",void 0),__decorate$1b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),__decorate$1b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$1b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowNodeSorter")],e.prototype,"rowNodeSorter",void 0),__decorate$1b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("sortController")],e.prototype,"sortController",void 0),__decorate$1b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("aggregationStage")],e.prototype,"aggregationStage",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$1F=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1a=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__read$l=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$a=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$l(arguments[e]));return t},ChartDataModel=function(t){function e(e){var n=t.call(this)||this;return n.unlinked=!1,n.chartData=[],n.valueColState=[],n.dimensionColState=[],n.columnNames={},n.grouping=!1,n.crossFiltering=!1,n.suppressComboChartWarnings=!1,n.chartId=e.chartId,n.chartType=e.chartType,n.pivotChart=e.pivotChart,n.chartThemeName=e.chartThemeName,n.aggFunc=e.aggFunc,n.referenceCellRange=e.cellRange,n.suppliedCellRange=e.cellRange,n.suppressChartRanges=e.suppressChartRanges,n.unlinked=!!e.unlinkChart,n.crossFiltering=!!e.crossFiltering,n.seriesChartTypes=e.seriesChartTypes||[],n.initComboCharts(e),n}return __extends$1F(e,t),e.prototype.initComboCharts=function(t){var e=this.seriesChartTypes&&this.seriesChartTypes.length>0;("customCombo"===t.chartType||e)&&(this.chartType="customCombo",this.savedCustomSeriesChartTypes=this.seriesChartTypes||[])},e.prototype.init=function(){this.datasource=this.createManagedBean(new ChartDatasource),this.updateCellRanges()},e.prototype.updateCellRanges=function(t){this.valueCellRange&&(this.referenceCellRange=this.valueCellRange);var e=this.getAllChartColumns(),n=e.dimensionCols,o=e.valueCols,r=this.getAllColumnsFromRanges();t&&this.updateColumnState(t),this.setDimensionCellRange(n,r,t),this.setValueCellRange(o,r,t),t||(this.resetColumnState(),this.syncDimensionCellRange()),this.updateSeriesChartTypes(),this.updateData()},e.prototype.updateSeriesChartTypes=function(){this.isComboChart()&&(this.seriesChartTypes=this.seriesChartTypes.map((function(t){var e=["groupedColumn","stackedColumn","stackedArea"].includes(t.chartType);return t.secondaryAxis=!e&&t.secondaryAxis,t})),"customCombo"!==this.chartType?this.updateChartSeriesTypesForBuiltInCombos():this.updateSeriesChartTypesForCustomCombo())},e.prototype.updateSeriesChartTypesForCustomCombo=function(){var t=this;this.seriesChartTypes&&this.seriesChartTypes.length>0||this.suppressComboChartWarnings||console.warn("AG Grid: 'seriesChartTypes' are required when the 'customCombo' chart type is specified."),this.seriesChartTypes=this.seriesChartTypes.map((function(t){return e.SUPPORTED_COMBO_CHART_TYPES.includes(t.chartType)||(console.warn("AG Grid: invalid chartType '"+t.chartType+"' supplied in 'seriesChartTypes', converting to 'line' instead."),t.chartType="line"),t}));var n=this.valueColState.map((function(e){t.savedCustomSeriesChartTypes&&0!==t.savedCustomSeriesChartTypes.length||(t.savedCustomSeriesChartTypes=t.seriesChartTypes);var n=t.savedCustomSeriesChartTypes.find((function(t){return t.colId===e.colId}));return n||(e.selected&&!t.suppressComboChartWarnings&&console.warn("AG Grid: no 'seriesChartType' found for colId = '"+e.colId+"', defaulting to 'line'."),{colId:e.colId,chartType:"line",secondaryAxis:!1})}));this.seriesChartTypes=n,this.savedCustomSeriesChartTypes=n,this.suppressComboChartWarnings=!0},e.prototype.updateChartSeriesTypesForBuiltInCombos=function(){var t="columnLineCombo"===this.chartType?"groupedColumn":"stackedArea",e="columnLineCombo"===this.chartType?"line":"groupedColumn",n=this.valueColState.filter((function(t){return t.selected})),o=Math.ceil(n.length/2);this.seriesChartTypes=n.map((function(n,r){var i=r>=o?e:t;return{colId:n.colId,chartType:i,secondaryAxis:!1}}))},e.prototype.updateData=function(){var t=this.getRowIndexes(),e=t.startRow,n=t.endRow;this.pivotChart&&this.resetColumnState(),this.grouping=this.isGrouping();var o={aggFunc:this.aggFunc,dimensionCols:[this.getSelectedDimension()],grouping:this.grouping,pivoting:this.isPivotActive(),crossFiltering:this.crossFiltering,valueCols:this.getSelectedValueCols(),startRow:e,endRow:n,isScatter:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["scatter","bubble"],this.chartType)},r=this.datasource.getData(o),i=r.chartData,s=r.columnNames;this.chartData=i,this.columnNames=s},e.prototype.isGrouping=function(){var t=this.gridOptionsService.isTreeData(),e=t?null:this.columnModel.getRowGroupColumns(),n=t||e&&e.length>0,o=this.getSelectedDimension().colId,r=this.columnModel.getGroupDisplayColumns().map((function(t){return t.getColId()})).some((function(t){return t===o}));return!!n&&r},e.prototype.getSelectedValueCols=function(){return this.valueColState.filter((function(t){return t.selected})).map((function(t){return t.column}))},e.prototype.getSelectedDimension=function(){return this.dimensionColState.filter((function(t){return t.selected}))[0]},e.prototype.getColDisplayName=function(t){return this.columnModel.getDisplayNameForColumn(t,"chart")},e.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},e.prototype.getChartDataType=function(t){var e=this.columnModel.getPrimaryColumn(t);return e?e.getColDef().chartDataType:void 0},e.prototype.isPivotActive=function(){return this.columnModel.isPivotActive()},e.prototype.createCellRange=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return{id:this.chartId,startRow:this.referenceCellRange.startRow,endRow:this.referenceCellRange.endRow,columns:e,startColumn:t===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.DIMENSION?e[0]:this.referenceCellRange.startColumn,type:t}},e.prototype.getAllColumnsFromRanges=function(){if(this.pivotChart)return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.convertToSet(this.columnModel.getAllDisplayedColumns());var t=this.dimensionCellRange||this.valueCellRange?[]:this.referenceCellRange.columns;return this.dimensionCellRange&&t.push.apply(t,__spread$a(this.dimensionCellRange.columns)),this.valueCellRange&&t.push.apply(t,__spread$a(this.valueCellRange.columns)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.convertToSet(t)},e.prototype.getRowIndexes=function(){var t=0,e=0,n=this.rangeService,o=this.valueCellRange;if(n&&o){t=n.getRangeStartRow(o).rowIndex;var r=n.getRangeEndRow(o);e="bottom"===r.rowPinned?-1:r.rowIndex}return{startRow:t,endRow:e}},e.prototype.getAllChartColumns=function(){var t=this,e=this.columnModel.getAllDisplayedColumns(),n=new Set,o=new Set;return e.forEach((function(e){var r=e.getColDef(),i=r.chartDataType;if(i)switch(i){case"category":case"time":return void n.add(e);case"series":return void o.add(e);case"excluded":return;default:console.warn("AG Grid: unexpected chartDataType value '"+i+"' supplied, instead use 'category', 'series' or 'excluded'")}"ag-Grid-AutoColumn"!==r.colId?e.isPrimary()?(t.isNumberCol(e)?o:n).add(e):o.add(e):n.add(e)})),{dimensionCols:n,valueCols:o}},e.prototype.isNumberCol=function(t){if("ag-Grid-AutoColumn"===t.getColId())return!1;var e=this.rowRenderer.getRowNode({rowIndex:0,rowPinned:null});if(!e)return!1;var n=this.valueService.getValue(t,e);return null==n&&(n=this.extractLeafData(e,t)),null!=n&&"function"==typeof n.toNumber&&(n=n.toNumber()),"number"==typeof n},e.prototype.extractLeafData=function(t,e){if(!t.allLeafChildren)return null;for(var n=0;n<t.allLeafChildren.length;n++){var o=t.allLeafChildren[n],r=this.valueService.getValue(e,o);if(null!=r)return r}return null},e.prototype.resetColumnState=function(){var t=this,n=this.getAllChartColumns(),o=n.dimensionCols,r=n.valueCols,i=this.getAllColumnsFromRanges(),s=this.valueColState.length<1;this.dimensionColState=[],this.valueColState=[];var a=!1,l=1,c=this.suppliedCellRange.columns[0];o.forEach((function(e){var n="ag-Grid-AutoColumn"===e.getColId(),o=!1;t.crossFiltering&&t.aggFunc?c.getColId()===e.getColId()&&(o=!0):o=!!n||!a&&i.has(e),t.dimensionColState.push({column:e,colId:e.getColId(),displayName:t.getColDisplayName(e),selected:o,order:l++}),o&&(a=!0)}));var u={colId:e.DEFAULT_CATEGORY,displayName:this.chartTranslationService.translate("defaultCategory"),selected:!a,order:0};this.dimensionColState.unshift(u);var d=this.referenceCellRange.columns.filter((function(t){return r.has(t)}));r.forEach((function(e){s&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(t.referenceCellRange.columns,e)&&(e=d.shift()),t.valueColState.push({column:e,colId:e.getColId(),displayName:t.getColDisplayName(e),selected:i.has(e),order:l++})}))},e.prototype.updateColumnState=function(t){var e=function(e){return e.colId===t.colId},n=this.dimensionColState,o=this.valueColState;n.filter(e).length>0?n.forEach((function(t){return t.selected=e(t)})):o.filter(e).forEach((function(e){return e.selected=t.selected}));var r=__spread$a(n,o),i=[];r.forEach((function(e,n){n===t.order&&i.push(t.colId),e.colId!==t.colId&&i.push(e.colId)})),r.forEach((function(t){var e=i.indexOf(t.colId);t.order=e>=0?i.indexOf(t.colId):r.length-1})),this.reorderColState()},e.prototype.reorderColState=function(){var t=function(t,e){return t.order-e.order};this.dimensionColState.sort(t),this.valueColState.sort(t)},e.prototype.setDimensionCellRange=function(t,n,o){var r=this;if(this.dimensionCellRange=void 0,o||this.dimensionColState.length){var i=o;if(this.crossFiltering&&this.aggFunc){var s=this.suppliedCellRange.columns[0];i=this.dimensionColState.filter((function(t){return t.colId===s.getColId()}))[0]}else i&&t.has(i.column)||(i=this.dimensionColState.filter((function(t){return t.selected}))[0]);i&&i.colId!==e.DEFAULT_CATEGORY&&(this.dimensionCellRange=this.createCellRange(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.DIMENSION,i.column))}else t.forEach((function(t){!r.dimensionCellRange&&n.has(t)&&(r.dimensionCellRange=r.createCellRange(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.DIMENSION,t))}))},e.prototype.setValueCellRange=function(t,e,n){this.valueCellRange=void 0;var o=[];if(t.forEach((function(t){n&&n.colId===t.getColId()?n.selected&&o.push(n.column):e.has(t)&&o.push(t)})),o.length>0){var r=[];this.valueColState.length>0?r=this.valueColState.map((function(t){return t.colId})):e.forEach((function(t){return r.push(t.getColId())})),o.sort((function(t,e){return r.indexOf(t.getColId())-r.indexOf(e.getColId())})),this.valueCellRange=this.createCellRange.apply(this,__spread$a([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.VALUE],o))}},e.prototype.syncDimensionCellRange=function(){var t=this.getSelectedDimension();t&&t.column&&(this.dimensionCellRange=this.createCellRange(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.DIMENSION,t.column))},e.prototype.isComboChart=function(){return["columnLineCombo","areaColumnCombo","customCombo"].includes(this.chartType)},e.DEFAULT_CATEGORY="AG-GRID-DEFAULT-CATEGORY",e.SUPPORTED_COMBO_CHART_TYPES=["line","groupedColumn","stackedColumn","area","stackedArea"],__decorate$1a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$1a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),__decorate$1a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rangeService")],e.prototype,"rangeService",void 0),__decorate$1a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],e.prototype,"rowRenderer",void 0),__decorate$1a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$1a([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),VALID_SERIES_TYPES=["area","bar","column","histogram","line","pie","scatter"];function getSeriesType(t){switch(t){case"bar":case"groupedBar":case"stackedBar":case"normalizedBar":return"bar";case"column":case"groupedColumn":case"stackedColumn":case"normalizedColumn":return"column";case"line":return"line";case"area":case"stackedArea":case"normalizedArea":return"area";case"scatter":case"bubble":return"scatter";case"histogram":return"histogram";case"pie":case"doughnut":return"pie";default:return"cartesian"}}var ALL_AXIS_TYPES=["number","category","groupedCategory","log","time"];function getLegacyAxisType(t){switch(t){case"bar":case"stackedBar":case"normalizedBar":return["number","category"];case"groupedBar":return["number","groupedCategory"];case"column":case"stackedColumn":case"normalizedColumn":case"line":case"area":case"stackedArea":case"normalizedArea":case"histogram":return["category","number"];case"groupedColumn":return["groupedCategory","number"];case"scatter":case"bubble":return["number","number"];default:return}}var __assign$k=function(){return __assign$k=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$k.apply(this,arguments)};function createAgChartTheme(t,e){var n,o=t.chartOptionsToRestore,r=t.chartPaletteToRestore,i=t.chartThemeToRestore,s=getSelectedTheme(t),a=isStockTheme(s),l=a?{baseTheme:s}:null!==(n=lookupCustomChartTheme(t,s))&&void 0!==n?n:{},c=t.getGridOptionsChartThemeOverrides(),u=t.apiChartThemeOverrides,d="pie"===getSeriesType(t.chartType)?"polar":"cartesian",p=t.crossFiltering?createCrossFilterThemeOverrides(e,t,d):void 0,h=__assign$k({},null!=o?o:{}),f=[a?inbuiltStockThemeOverrides(t,function(){var t=function(t){return!!t&&Object.keys(t).some((function(e){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(t[e],"title.enabled",!1)}))};return t(c)||t(u)}()):void 0,p,c,u,h],g=f.filter((function(t){return!!t})).reduce((function(t,e){return{baseTheme:t,overrides:e}}),l);r&&s===i&&(isIdenticalPalette(r,getChartTheme(l).palette)||(g.palette=r));return g}function isIdenticalPalette(t,e){var n=function(t,e){return t.length===e.length&&t.every((function(t,n){return t===e[n]}))};return n(t.fills,e.fills)&&n(t.strokes,e.strokes)}function isStockTheme(t){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(Object.keys(themes),t)}function createCrossFilterThemeOverrides(t,e,n){var o,r={listeners:{legendItemClick:function(e){t.getChart().series.forEach((function(t){t.toggleSeriesItem(e.itemId,e.enabled),t.toggleSeriesItem(e.itemId+"-filtered-out",e.enabled)}))}}},i={};return"polar"===n&&(i.pie={tooltip:{renderer:function(t){var e=t.angleName,n=t.datum,o=t.calloutLabelKey,r=t.radiusKey,i=t.angleValue;return{title:e,content:n[o]+": "+i*n[r]}}}}),(o={})[n]={tooltip:{delay:500},legend:r,listeners:{click:function(t){return e.crossFilterCallback(t,!0)}},series:i},o}var STATIC_INBUILT_STOCK_THEME_AXES_OVERRIDES=ALL_AXIS_TYPES.reduce((function(t,e){var n;return __assign$k(__assign$k({},t),((n={})[e]={title:{_enabledFromTheme:!0}},n))}),{});function inbuiltStockThemeOverrides(t,e){var n=t.getExtraPaddingDirections();return{common:{axes:STATIC_INBUILT_STOCK_THEME_AXES_OVERRIDES,padding:{top:!e&&n.includes("top")?40:20,right:n.includes("right")?30:20,bottom:n.includes("bottom")?40:20,left:n.includes("left")?30:20}},pie:{series:{title:{_enabledFromTheme:!0},calloutLabel:{_enabledFromTheme:!0},sectorLabel:{enabled:!1,_enabledFromTheme:!0}}}}}function getSelectedTheme(t){var e=t.getChartThemeName(),n=t.getChartThemes();return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(n,e)||(e=n[0]),e}function lookupCustomChartTheme(t,e){var n=t.customChartThemes,o=n&&n[e];return o||console.warn("AG Grid: no stock theme exists with the name '"+e+"' and no custom chart theme with that name was supplied to 'customChartThemes'"),o}var __extends$1E=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$19=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},DEFAULT_THEMES=["ag-default","ag-material","ag-pastel","ag-vivid","ag-solar"],ChartController=function(t){function e(e){var n=t.call(this)||this;return n.model=e,n}return __extends$1E(e,t),e.prototype.init=function(){var t=this;this.setChartRange(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_RANGE_SELECTION_CHANGED,(function(e){e.id&&e.id===t.model.chartId&&t.updateForRangeChange()})),this.model.unlinked&&this.rangeService&&this.rangeService.setCellRanges([]),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_MOVED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PINNED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VISIBLE,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CELL_VALUE_CHANGED,this.updateForDataChange.bind(this))},e.prototype.updateForGridChange=function(){this.model.unlinked||(this.model.updateCellRanges(),this.setChartRange())},e.prototype.updateForDataChange=function(){this.model.unlinked||(this.model.updateData(),this.raiseChartModelUpdateEvent())},e.prototype.updateForRangeChange=function(){this.updateForGridChange(),this.raiseChartRangeSelectionChangedEvent()},e.prototype.updateForPanelChange=function(t){this.model.updateCellRanges(t),this.setChartRange(),this.raiseChartRangeSelectionChangedEvent()},e.prototype.getChartUpdateParams=function(){var t=this.getSelectedValueColState().map((function(t){return{colId:t.colId,displayName:t.displayName}})),e=this.getChartData(),n=this.getSelectedDimension();return{data:e,grouping:this.isGrouping(),category:{id:n.colId,name:n.displayName,chartDataType:this.model.getChartDataType(n.colId)},fields:t,chartId:this.getChartId(),getCrossFilteringContext:function(){return{lastSelectedChartId:"xxx"}},seriesChartTypes:this.getSeriesChartTypes()}},e.prototype.getChartModel=function(){var t=this.model.pivotChart?"pivot":"range",e=this.isComboChart()?this.model.seriesChartTypes:void 0;return{modelType:t,chartId:this.model.chartId,chartType:this.model.chartType,chartThemeName:this.getChartThemeName(),chartOptions:this.chartProxy.getChartThemeOverrides(),chartPalette:this.chartProxy.getChartPalette(),cellRange:this.getCellRangeParams(),suppressChartRanges:this.model.suppressChartRanges,aggFunc:this.model.aggFunc,unlinkChart:this.model.unlinked,seriesChartTypes:e}},e.prototype.getChartId=function(){return this.model.chartId},e.prototype.getChartData=function(){return this.model.chartData},e.prototype.getChartType=function(){return this.model.chartType},e.prototype.setChartType=function(t){this.model.chartType=t,this.model.updateSeriesChartTypes(),this.raiseChartModelUpdateEvent(),this.raiseChartOptionsChangedEvent()},e.prototype.setChartThemeName=function(t){this.model.chartThemeName=t,this.raiseChartModelUpdateEvent(),this.raiseChartOptionsChangedEvent()},e.prototype.getChartThemeName=function(){return this.model.chartThemeName},e.prototype.isPivotChart=function(){return this.model.pivotChart},e.prototype.isPivotMode=function(){return this.model.isPivotMode()},e.prototype.isGrouping=function(){return this.model.isGrouping()},e.prototype.getThemes=function(){return this.gridOptionsService.get("chartThemes")||DEFAULT_THEMES},e.prototype.getPalettes=function(){var t=this;return this.getThemes().map((function(e){return getChartTheme(isStockTheme(e)?e:t.chartProxy.lookupCustomChartTheme(e)).palette}))},e.prototype.getValueColState=function(){return this.model.valueColState.map(this.displayNameMapper.bind(this))},e.prototype.getSelectedValueColState=function(){return this.getValueColState().filter((function(t){return t.selected}))},e.prototype.getDimensionColState=function(){return this.model.dimensionColState},e.prototype.getSelectedDimension=function(){return this.model.getSelectedDimension()},e.prototype.displayNameMapper=function(t){var e=this.model.columnNames[t.colId];return t.displayName=e?e.join(" - "):this.model.getColDisplayName(t.column),t},e.prototype.getColStateForMenu=function(){return{dimensionCols:this.model.dimensionColState,valueCols:this.getValueColState()}},e.prototype.isDefaultCategorySelected=function(){return this.model.getSelectedDimension().colId===ChartDataModel.DEFAULT_CATEGORY},e.prototype.setChartRange=function(t){void 0===t&&(t=!1),!this.rangeService||this.model.suppressChartRanges||this.model.unlinked||this.rangeService.setCellRanges(this.getCellRanges()),t||this.raiseChartModelUpdateEvent()},e.prototype.detachChartRange=function(){this.model.unlinked=!this.model.unlinked,this.model.unlinked?this.rangeService&&this.rangeService.setCellRanges([]):this.updateForGridChange()},e.prototype.setChartProxy=function(t){this.chartProxy=t},e.prototype.getChartProxy=function(){return this.chartProxy},e.prototype.isActiveXYChart=function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["scatter","bubble"],this.getChartType())},e.prototype.isChartLinked=function(){return!this.model.unlinked},e.prototype.customComboExists=function(){return this.model.savedCustomSeriesChartTypes&&this.model.savedCustomSeriesChartTypes.length>0},e.prototype.getSeriesChartTypes=function(){return this.model.seriesChartTypes},e.prototype.isComboChart=function(){return this.model.isComboChart()},e.prototype.updateSeriesChartType=function(t,n,o){var r=this.model.seriesChartTypes.find((function(e){return e.colId===t}));if(r){var i="customCombo"!==this.model.chartType;i&&(this.model.chartType="customCombo");var s=r.chartType;null!=n&&(r.chartType=n),null!=o&&(r.secondaryAxis=o),this.model.savedCustomSeriesChartTypes=this.model.seriesChartTypes,this.model.updateSeriesChartTypes(),this.updateForDataChange(),i&&this.dispatchEvent({type:e.EVENT_CHART_TYPE_CHANGED}),s!==n&&this.dispatchEvent({type:e.EVENT_CHART_SERIES_CHART_TYPE_CHANGED}),this.raiseChartOptionsChangedEvent()}},e.prototype.getActiveSeriesChartTypes=function(){var t=this.getSelectedValueColState().map((function(t){return t.colId}));return this.getSeriesChartTypes().filter((function(e){return t.includes(e.colId)}))},e.prototype.getChartSeriesTypes=function(){return this.isComboChart()?["line","column","area"]:[getSeriesType(this.getChartType())]},e.prototype.getCellRanges=function(){return[this.model.dimensionCellRange,this.model.valueCellRange].filter((function(t){return t}))},e.prototype.getCellRangeParams=function(){var t=this.getCellRanges(),e=t[0],n=e&&e.startRow||null,o=e&&e.endRow||null;return{rowStartIndex:n&&n.rowIndex,rowStartPinned:n&&n.rowPinned,rowEndIndex:o&&o.rowIndex,rowEndPinned:o&&o.rowPinned,columns:t.reduce((function(t,e){return t.concat(e.columns.map((function(t){return t.getId()})))}),[])}},e.prototype.raiseChartModelUpdateEvent=function(){var t={type:e.EVENT_CHART_MODEL_UPDATE};this.dispatchEvent(t)},e.prototype.raiseChartUpdatedEvent=function(){var t={type:e.EVENT_CHART_UPDATED};this.dispatchEvent(t)},e.prototype.raiseChartOptionsChangedEvent=function(){var t=this.getChartModel(),e=t.chartId,n=t.chartType,o={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_OPTIONS_CHANGED,chartId:e,chartType:n,chartThemeName:this.getChartThemeName(),chartOptions:this.chartProxy.getChartThemeOverrides()};this.eventService.dispatchEvent(o)},e.prototype.raiseChartRangeSelectionChangedEvent=function(){var t={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_RANGE_SELECTION_CHANGED,id:this.model.chartId,chartId:this.model.chartId,cellRange:this.getCellRangeParams()};this.eventService.dispatchEvent(t)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.rangeService&&this.rangeService.setCellRanges([])},e.EVENT_CHART_UPDATED="chartUpdated",e.EVENT_CHART_MODEL_UPDATE="chartModelUpdate",e.EVENT_CHART_TYPE_CHANGED="chartTypeChanged",e.EVENT_CHART_SERIES_CHART_TYPE_CHANGED="chartSeriesChartTypeChanged",__decorate$19([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rangeService")],e.prototype,"rangeService",void 0),__decorate$19([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$1D=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$18=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__read$k=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$9=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$k(arguments[e]));return t},__values$7=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},DefaultDataPanelDef={groups:[{type:"categories",isOpen:!0},{type:"series",isOpen:!0},{type:"seriesChartType",isOpen:!0}]},ChartDataPanel=function(t){function e(n,o){var r=t.call(this,e.TEMPLATE)||this;return r.chartController=n,r.chartOptionsService=o,r.columnComps=new Map,r}return __extends$1D(e,t),e.prototype.init=function(){this.updatePanels(),this.addManagedListener(this.chartController,ChartController.EVENT_CHART_MODEL_UPDATE,this.updatePanels.bind(this)),this.createAutoScrollService()},e.prototype.destroy=function(){this.clearComponents(),t.prototype.destroy.call(this)},e.prototype.updatePanels=function(){var t,e,n=this,o=this.chartType,r=this.chartController.getColStateForMenu(),i=r.dimensionCols,s=r.valueCols,a=i.map((function(t){return t.colId})).concat(s.map((function(t){return t.colId})));this.chartType=this.chartController.getChartType();var l=this.getGroupExpandedState();if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.areEqual(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.keys(this.columnComps),a)&&this.chartType===o){if(__spread$9(i,s).forEach((function(t){n.columnComps.get(t.colId).setValue(t.selected,!0)})),this.chartController.isActiveXYChart()){var c=this.generateGetSeriesLabel();s.forEach((function(t){n.columnComps.get(t.colId).setLabel(c(t))}))}ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(this.getGui().querySelector("#seriesChartTypeGroup")),this.seriesChartTypeGroupComp=this.destroyBean(this.seriesChartTypeGroupComp);var u=null===(t=this.getDataPanelDef().groups)||void 0===t?void 0:t.reduce((function(t,e,n){return"seriesChartType"===e.type?n:t}),-1);-1!==u&&this.createSeriesChartTypeGroup(s,u)}else this.clearComponents(),null===(e=this.getDataPanelDef().groups)||void 0===e||e.forEach((function(t){var e=t.type;"categories"===e?n.createCategoriesGroup(i):"series"===e?n.createSeriesGroup(s):"seriesChartType"===e?n.createSeriesChartTypeGroup(s):console.warn("AG Grid: invalid charts data panel group name supplied: '"+e+"'")}));this.restoreGroupExpandedState(l)},e.prototype.getGroupExpandedState=function(){var t=this;return[{groupType:"categories",comp:this.categoriesGroupComp},{groupType:"series",comp:this.seriesGroupComp},{groupType:"seriesChartType",comp:this.seriesChartTypeGroupComp}].map((function(e){var n,o,r=e.groupType,i=e.comp,s=Boolean(null===(o=null===(n=t.getDataPanelDef().groups)||void 0===n?void 0:n.find((function(t){return t.type===r})))||void 0===o?void 0:o.isOpen);return i?i.isExpanded():s}))},e.prototype.restoreGroupExpandedState=function(t){[this.categoriesGroupComp,this.seriesGroupComp,this.seriesChartTypeGroupComp].forEach((function(e,n){e&&e.toggleGroupExpand(t[n])}))},e.prototype.createAutoScrollService=function(){var t=this.getGui();this.autoScrollService=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Cvn({scrollContainer:t,scrollAxis:"y",getVerticalPosition:function(){return t.scrollTop},setVerticalPosition:function(e){return t.scrollTop=e}})},e.prototype.createComponent=function(t,e){var n=document.createElement("div");return n.id=e,n.className="ag-chart-data-section",n.appendChild(t.getGui()),n},e.prototype.addComponent=function(t,e,n){var o=this.createComponent(e,n);t.appendChild(o)},e.prototype.addComponentAtIndex=function(t,e,n,o){var r=this.createComponent(e,n);t.insertBefore(r,t.children[o])},e.prototype.addChangeListener=function(t,e){var n=this;this.addManagedListener(t,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.J8Z.EVENT_CHANGED,(function(){e.selected=t.getValue(),n.chartController.updateForPanelChange(e)}))},e.prototype.createCategoriesGroup=function(t){var e=this;this.categoriesGroupComp=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u({title:this.getCategoryGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"}));var n="chartDimension"+this.getCompId();t.forEach((function(t){var o=e.categoriesGroupComp.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.LQq);o.setLabel(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(t.displayName)),o.setValue(t.selected),o.setInputName(n),e.addChangeListener(o,t),e.categoriesGroupComp.addItem(o),e.columnComps.set(t.colId,o)})),this.addComponent(this.getGui(),this.categoriesGroupComp,"categoriesGroup")},e.prototype.createSeriesGroup=function(t){var e=this;if(this.seriesGroupComp=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u({title:this.getSeriesGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"})),this.chartController.isActiveXYChart()){var n=this.seriesGroupComp.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.nN0);n.setLabel(this.chartTranslationService.translate("paired")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getPairedMode()).onValueChange((function(t){e.chartOptionsService.setPairedMode(!!t),e.chartController.updateForGridChange()})),this.seriesGroupComp.addItem(n)}var o=this.generateGetSeriesLabel();t.forEach((function(t){var n=e.seriesGroupComp.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jkc);n.addCssClass("ag-data-select-checkbox");var r=o(t);n.setLabel(r),n.setValue(t.selected),e.addChangeListener(n,t),e.seriesGroupComp.addItem(n),e.columnComps.set(t.colId,n),e.addDragHandle(n,t)}));var r=this.getGui(),i=this.seriesGroupComp.getGui();this.addComponent(r,this.seriesGroupComp,"seriesGroup");var s={getIconName:function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_MOVE},getContainer:function(){return i},onDragging:function(t){return e.onDragging(t)},onDragLeave:function(){return e.onDragLeave()},isInterestedIn:this.isInterestedIn.bind(this),targetContainsSource:!0};this.dragAndDropService.addDropTarget(s),this.addDestroyFunc((function(){return e.dragAndDropService.removeDropTarget(s)}))},e.prototype.createSeriesChartTypeGroup=function(t,e){var n=this;if(this.chartController.isComboChart()){this.seriesChartTypeGroupComp=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u({title:this.chartTranslationService.translate("seriesChartType"),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"}));var o=this.chartController.getSeriesChartTypes();t.forEach((function(t){if(t.selected){var e=o.filter((function(e){return e.colId===t.colId}))[0];if(e){var r=n.seriesChartTypeGroupComp.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u({title:t.displayName,enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-format-sub-level"})),i=n.seriesChartTypeGroupComp.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jkc).setLabel(n.chartTranslationService.translate("secondaryAxis")).setLabelWidth("flex").setDisabled(["groupedColumn","stackedColumn","stackedArea"].includes(e.chartType)).setValue(!!e.secondaryAxis).onValueChange((function(e){return n.chartController.updateSeriesChartType(t.colId,void 0,e)}));r.addItem(i);var s=function(t,e){return n.chartTranslationService.translate(t,e)},a=[{value:"line",text:s("line","Line")},{value:"area",text:s("area","Area")},{value:"stackedArea",text:s("stackedArea","StackedArea")},{value:"groupedColumn",text:s("groupedColumn","Grouped Column")},{value:"stackedColumn",text:s("stackedColumn","Stacked Column")}],l=r.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wGv);l.setLabelAlignment("left").setLabelWidth("flex").addOptions(a).setValue(e.chartType).onValueChange((function(e){return n.chartController.updateSeriesChartType(t.colId,e)})),r.addItem(l),n.seriesChartTypeGroupComp.addItem(r)}}})),void 0===e?this.addComponent(this.getGui(),this.seriesChartTypeGroupComp,"seriesChartTypeGroup"):this.addComponentAtIndex(this.getGui(),this.seriesChartTypeGroupComp,"seriesChartTypeGroup",e)}},e.prototype.addDragHandle=function(t,e){var n=this,o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnDrag",this.gridOptionsService);o.classList.add("ag-drag-handle","ag-chart-data-column-drag-handle"),t.getGui().insertAdjacentElement("beforeend",o);var r={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ChartPanel,eElement:o,dragItemName:e.displayName,getDragItem:function(){return{columns:[e.column]}},onDragStopped:function(){return n.onDragStop()}};this.dragAndDropService.addDragSource(r,!0),this.addDestroyFunc((function(){return n.dragAndDropService.removeDragSource(r)}))},e.prototype.generateGetSeriesLabel=function(){if(!this.chartController.isActiveXYChart())return function(t){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(t.displayName)};var t="bubble"===this.chartType,e=this.isInPairedMode(),n=0,o=new Map;return o.set(0,"X"),o.set(1,"Y"),o.set(2,"size"),function(r){var i,s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(r.displayName);return r.selected?(i=e?o.get(n%(t?3:2)):0===n?"X":t&&n%2==0?"size":"Y",n++,s+" ("+i+")"):s}},e.prototype.getCategoryGroupTitle=function(){return this.chartTranslationService.translate(this.chartController.isActiveXYChart()?"labels":"categories")},e.prototype.getSeriesGroupTitle=function(){return this.chartTranslationService.translate(this.chartController.isActiveXYChart()?"xyValues":"series")},e.prototype.getDataPanelDef=function(){var t,e=null===(t=this.gridOptionsService.get("chartToolPanelsDef"))||void 0===t?void 0:t.dataPanel;return e||DefaultDataPanelDef},e.prototype.isInPairedMode=function(){return this.chartController.isActiveXYChart()&&this.chartOptionsService.getSeriesOption("paired","scatter")},e.prototype.clearComponents=function(){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.getGui()),this.categoriesGroupComp=this.destroyBean(this.categoriesGroupComp),this.seriesGroupComp=this.destroyBean(this.seriesGroupComp),this.seriesChartTypeGroupComp=this.destroyBean(this.seriesChartTypeGroupComp),this.columnComps.clear()},e.prototype.onDragging=function(t){var e=this.checkHoveredItem(t);if(e){this.lastDraggedColumn=t.dragItem.columns[0];var n=e.comp,o=e.position,r=this.lastHoveredItem||{},i=r.comp,s=r.position;if(n!==i||o!==s)this.autoScrollService.check(t.event),this.clearHoveredItems(),this.lastHoveredItem={comp:n,position:o},n.getGui().classList.add("ag-list-item-hovered","ag-item-highlight-"+o)}},e.prototype.checkHoveredItem=function(t){var e,n;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(t.vDirection))return null;var o=t.event;try{for(var r=__values$7(this.columnComps.values()),i=r.next();!i.done;i=r.next()){var s=i.value,a=s.getGui();if(a.querySelector(".ag-chart-data-column-drag-handle")){var l=a.getBoundingClientRect();if(o.clientY>=l.top&&o.clientY<=l.bottom){var c=a.clientHeight;return{comp:s,position:o.clientY>l.top+c/2?"bottom":"top"}}}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null},e.prototype.onDragLeave=function(){this.clearHoveredItems()},e.prototype.onDragStop=function(){var t=this;if(this.lastHoveredItem){var e=this.chartController.getColStateForMenu(),n=e.dimensionCols,o=e.valueCols,r=__spread$9(n,o).find((function(e){return e.column===t.lastDraggedColumn}));if(r){var i=Array.from(this.columnComps.values()).indexOf(this.lastHoveredItem.comp);"bottom"===this.lastHoveredItem.position&&i++,r.order=i,this.chartController.updateForPanelChange(r)}}this.clearHoveredItems(),this.lastDraggedColumn=void 0,this.autoScrollService.ensureCleared()},e.prototype.clearHoveredItems=function(){this.columnComps.forEach((function(t){t.getGui().classList.remove("ag-list-item-hovered","ag-item-highlight-top","ag-item-highlight-bottom")})),this.lastHoveredItem=void 0},e.prototype.isInterestedIn=function(t){return t===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ChartPanel},e.TEMPLATE='<div class="ag-chart-data-wrapper ag-scrollable-container"></div>',__decorate$18([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],e.prototype,"dragAndDropService",void 0),__decorate$18([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$18([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1C=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$17=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},FontPanel=function(t){function e(e){var n=t.call(this)||this;return n.activeComps=[],n.params=e,n}return __extends$1C(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{fontGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initFontFamilySelect(),this.initFontWeightStyleSelect(),this.initFontSizeSelect(),this.initFontColorPicker()},e.prototype.addCompToPanel=function(t){this.fontGroup.addItem(t),this.activeComps.push(t)},e.prototype.setEnabled=function(t){this.fontGroup.setEnabled(t)},e.prototype.initGroup=function(){var t=this;this.fontGroup.setTitle(this.params.name||this.chartTranslationService.translate("font")).setEnabled(this.params.enabled).hideEnabledCheckbox(!!this.params.suppressEnabledCheckbox).hideOpenCloseIcons(!0).onEnableChange((function(e){t.params.setEnabled&&t.params.setEnabled(e)}))},e.prototype.initFontFamilySelect=function(){var t=this,e=["Arial, sans-serif","Aria Black, sans-serif","Book Antiqua,  serif","Charcoal, sans-serif","Comic Sans MS, cursive","Courier, monospace","Courier New, monospace","Gadget, sans-serif","Geneva, sans-serif","Helvetica, sans-serif","Impact, sans-serif","Lucida Console, monospace","Lucida Grande, sans-serif","Lucida Sans Unicode,  sans-serif","Monaco, monospace","Palatino Linotype, serif","Palatino, serif","Times New Roman, serif","Times, serif","Verdana, sans-serif"],n=this.params.initialFont.family,o=e[0];if(n){var r=e.map((function(t){return t.toLowerCase()})).indexOf(n.toLowerCase());if(r>=0)o=e[r];else{var i=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.capitalise(n);e.push(i),o=i}}var s=e.sort().map((function(t){return{value:t,text:t}}));this.familySelect.addOptions(s).setInputWidth("flex").setValue(""+o).onValueChange((function(e){return t.params.setFont({family:e})}))},e.prototype.initFontSizeSelect=function(){var t=this,e=[8,10,12,14,16,18,20,22,24,26,28,30,32,34,36],n=this.params.initialFont.size;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(e,n)||e.push(n);var o=e.sort((function(t,e){return t-e})).map((function(t){return{value:""+t,text:""+t}}));this.sizeSelect.addOptions(o).setInputWidth("flex").setValue(""+n).onValueChange((function(e){return t.params.setFont({size:parseInt(e,10)})})),this.sizeSelect.setLabel(this.chartTranslationService.translate("size"))},e.prototype.initFontWeightStyleSelect=function(){var t=this,e=this.params.initialFont,n=e.weight,o=void 0===n?"normal":n,r=e.style,i=void 0===r?"normal":r,s=[{name:"normal",weight:"normal",style:"normal"},{name:"bold",weight:"bold",style:"normal"},{name:"italic",weight:"normal",style:"italic"},{name:"boldItalic",weight:"bold",style:"italic"}],a=s.find((function(t){return t.weight===o&&t.style===i}));a||(a={name:"predefined",weight:o,style:i},s.unshift(a));var l=s.map((function(e){return{value:e.name,text:t.chartTranslationService.translate(e.name)}}));this.weightStyleSelect.addOptions(l).setInputWidth("flex").setValue(a.name).onValueChange((function(e){var n=s.find((function(t){return t.name===e}));t.params.setFont({weight:n.weight,style:n.style})}))},e.prototype.initFontColorPicker=function(){var t=this;this.colorPicker.setLabel(this.chartTranslationService.translate("color")).setInputWidth(45).setValue(""+this.params.initialFont.color).onValueChange((function(e){return t.params.setFont({color:e})}))},e.prototype.addItemToPanel=function(t){this.fontGroup.addItem(t),this.activeComps.push(t)},e.prototype.destroyActiveComps=function(){var t=this;this.activeComps.forEach((function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(e.getGui()),t.destroyBean(e)}))},e.prototype.destroy=function(){this.destroyActiveComps(),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-font-panel">\n            <ag-group-component ref="fontGroup">\n                <ag-select ref="familySelect"></ag-select>\n                <ag-select ref="weightStyleSelect"></ag-select>\n                <div class="ag-charts-font-size-color">\n                    <ag-select ref="sizeSelect"></ag-select>\n                    <ag-color-picker ref="colorPicker"></ag-color-picker>\n                </div>\n            </ag-group-component>\n        </div>',__decorate$17([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("fontGroup")],e.prototype,"fontGroup",void 0),__decorate$17([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("familySelect")],e.prototype,"familySelect",void 0),__decorate$17([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("weightStyleSelect")],e.prototype,"weightStyleSelect",void 0),__decorate$17([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("sizeSelect")],e.prototype,"sizeSelect",void 0),__decorate$17([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("colorPicker")],e.prototype,"colorPicker",void 0),__decorate$17([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$17([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1B=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$16=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},LegendPanel=function(t){function e(e){var n=e.chartOptionsService,o=e.isExpandedOnInit,r=void 0!==o&&o,i=t.call(this)||this;return i.activePanels=[],i.chartOptionsService=n,i.isExpandedOnInit=r,i}return __extends$1B(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{legendGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initLegendGroup(),this.initLegendPosition(),this.initLegendPadding(),this.initLegendItems(),this.initLabelPanel()},e.prototype.initLegendGroup=function(){var t=this;this.legendGroup.setTitle(this.chartTranslationService.translate("legend")).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("legend.enabled")||!1).toggleGroupExpand(this.isExpandedOnInit).onEnableChange((function(e){t.chartOptionsService.setChartOption("legend.enabled",e),t.legendGroup.toggleGroupExpand(!0)}))},e.prototype.initLegendPosition=function(){var t=this;this.legendPositionSelect.setLabel(this.chartTranslationService.translate("position")).setLabelWidth("flex").setInputWidth(80).addOptions(["top","right","bottom","left"].map((function(e){return{value:e,text:t.chartTranslationService.translate(e)}}))).setValue(this.chartOptionsService.getChartOption("legend.position")).onValueChange((function(e){return t.chartOptionsService.setChartOption("legend.position",e)}))},e.prototype.initLegendPadding=function(){var t=this,e=this.chartOptionsService.getChartOption("legend.spacing");this.legendPaddingSlider.setLabel(this.chartTranslationService.translate("spacing")).setMaxValue(getMaxValue(e,200)).setValue(""+e).setTextFieldWidth(45).onValueChange((function(e){return t.chartOptionsService.setChartOption("legend.spacing",e)}))},e.prototype.initLegendItems=function(){var t=this,e=function(e,n,o,r){var i=t.chartOptionsService.getChartOption("legend."+e);o.setLabel(t.chartTranslationService.translate(n)).setMaxValue(getMaxValue(i,r)).setValue(""+i).setTextFieldWidth(45).onValueChange((function(n){t.chartOptionsService.setChartOption("legend."+e,n)}))};e("item.marker.size","markerSize",this.markerSizeSlider,40),e("item.marker.strokeWidth","markerStroke",this.markerStrokeSlider,10),e("item.marker.padding","itemSpacing",this.markerPaddingSlider,20),e("item.paddingX","layoutHorizontalSpacing",this.itemPaddingXSlider,50),e("item.paddingY","layoutVerticalSpacing",this.itemPaddingYSlider,50)},e.prototype.initLabelPanel=function(){var t=this,e=this.chartOptionsService,n={enabled:!0,suppressEnabledCheckbox:!0,initialFont:{family:e.getChartOption("legend.item.label.fontFamily"),style:e.getChartOption("legend.item.label.fontStyle"),weight:e.getChartOption("legend.item.label.fontWeight"),size:e.getChartOption("legend.item.label.fontSize"),color:e.getChartOption("legend.item.label.color")},setFont:function(e){var n=t.chartOptionsService;e.family&&n.setChartOption("legend.item.label.fontFamily",e.family),e.weight&&n.setChartOption("legend.item.label.fontWeight",e.weight),e.style&&n.setChartOption("legend.item.label.fontStyle",e.style),e.size&&n.setChartOption("legend.item.label.fontSize",e.size),e.color&&n.setChartOption("legend.item.label.color",e.color)}},o=this.createBean(new FontPanel(n));this.legendGroup.addItem(o),this.activePanels.push(o)},e.prototype.destroyActivePanels=function(){var t=this;this.activePanels.forEach((function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(e.getGui()),t.destroyBean(e)}))},e.prototype.destroy=function(){this.destroyActivePanels(),t.prototype.destroy.call(this)},e.TEMPLATE='<div>\n            <ag-group-component ref="legendGroup">\n                <ag-select ref="legendPositionSelect"></ag-select>\n                <ag-slider ref="legendPaddingSlider"></ag-slider>\n                <ag-slider ref="markerSizeSlider"></ag-slider>\n                <ag-slider ref="markerStrokeSlider"></ag-slider>\n                <ag-slider ref="markerPaddingSlider"></ag-slider>\n                <ag-slider ref="itemPaddingXSlider"></ag-slider>\n                <ag-slider ref="itemPaddingYSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$16([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("legendGroup")],e.prototype,"legendGroup",void 0),__decorate$16([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("legendPositionSelect")],e.prototype,"legendPositionSelect",void 0),__decorate$16([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("legendPaddingSlider")],e.prototype,"legendPaddingSlider",void 0),__decorate$16([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("markerSizeSlider")],e.prototype,"markerSizeSlider",void 0),__decorate$16([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("markerStrokeSlider")],e.prototype,"markerStrokeSlider",void 0),__decorate$16([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("markerPaddingSlider")],e.prototype,"markerPaddingSlider",void 0),__decorate$16([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("itemPaddingXSlider")],e.prototype,"itemPaddingXSlider",void 0),__decorate$16([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("itemPaddingYSlider")],e.prototype,"itemPaddingYSlider",void 0),__decorate$16([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$16([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1A=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$15=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},AxisTicksPanel=function(t){function e(e){var n=t.call(this)||this;return n.chartOptionsService=e,n}return __extends$1A(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{axisTicksGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initAxisTicks()},e.prototype.initAxisTicks=function(){var t=this;this.axisTicksGroup.setTitle(this.chartTranslationService.translate("ticks")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0),this.axisTicksColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getAxisProperty("tick.color")).onValueChange((function(e){return t.chartOptionsService.setAxisProperty("tick.color",e)}));var e=function(e,n,o,r){var i=t.chartOptionsService.getAxisProperty(e);n.setLabel(o).setMaxValue(getMaxValue(i,r)).setValue(""+i).setTextFieldWidth(45).onValueChange((function(n){return t.chartOptionsService.setAxisProperty(e,n)}))};e("tick.width",this.axisTicksWidthSlider,this.chartTranslationService.translate("width"),10),e("tick.size",this.axisTicksSizeSlider,this.chartTranslationService.translate("length"),30)},e.TEMPLATE='<div>\n            <ag-group-component ref="axisTicksGroup">\n                <ag-color-picker ref="axisTicksColorPicker"></ag-color-picker>\n                <ag-slider ref="axisTicksWidthSlider"></ag-slider>\n                <ag-slider ref="axisTicksSizeSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$15([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisTicksGroup")],e.prototype,"axisTicksGroup",void 0),__decorate$15([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisTicksColorPicker")],e.prototype,"axisTicksColorPicker",void 0),__decorate$15([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisTicksWidthSlider")],e.prototype,"axisTicksWidthSlider",void 0),__decorate$15([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisTicksSizeSlider")],e.prototype,"axisTicksSizeSlider",void 0),__decorate$15([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$15([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1z=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$14=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},AgAngleSelect=function(t){function e(n){var o=t.call(this,n,e.TEMPLATE)||this;return o.radius=0,o.offsetX=0,o.offsetY=0,o}return __extends$1z(e,t),e.prototype.postConstruct=function(){var e=this;t.prototype.postConstruct.call(this),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:function(t){e.parentCircleRect=e.eParentCircle.getBoundingClientRect()},onDragging:function(t){return e.calculateAngleDrag(t)},onDragStop:function(){}},this.dragService.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue(""+this.degrees).onValueChange((function(t){null!=t&&""!==t||(t="0"),t=e.eAngleValue.normalizeValue(t);var n=parseFloat(t);n>180&&(n-=360),e.setValue(n)})),this.updateNumberInput(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListener(this,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.J8Z.EVENT_CHANGED,(function(){var t=e.gridOptionsService.getDocument();e.eAngleValue.getInputElement().contains(t.activeElement)||e.updateNumberInput()}))},e.prototype.updateNumberInput=function(){var t=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(t.toString())},e.prototype.positionChildCircle=function(t){var e=this.parentCircleRect||{width:24,height:24},n=this.eChildCircle,o=e.width/2,r=e.height/2;n.style.left=o+8*Math.cos(t)+"px",n.style.top=r+8*Math.sin(t)+"px"},e.prototype.calculatePolar=function(){var t=this.offsetX,e=this.offsetY,n=Math.atan2(e,t);this.degrees=this.toDegrees(n),this.radius=Math.sqrt(t*t+e*e),this.positionChildCircle(n)},e.prototype.calculateCartesian=function(){var t=this.toRadians(this.getValue()),e=this.getRadius();this.setOffsetX(Math.cos(t)*e).setOffsetY(Math.sin(t)*e)},e.prototype.setOffsetX=function(t){return this.offsetX!==t&&(this.offsetX=t,this.calculatePolar()),this},e.prototype.setOffsetY=function(t){return this.offsetY!==t&&(this.offsetY=t,this.calculatePolar()),this},e.prototype.calculateAngleDrag=function(t){var e=this.parentCircleRect,n=e.width/2,o=e.height/2,r=t.clientX-e.left-n,i=t.clientY-e.top-o,s=Math.atan2(i,r);this.setValue(s,!0)},e.prototype.toDegrees=function(t){return t/Math.PI*180},e.prototype.toRadians=function(t){return t/180*Math.PI},e.prototype.normalizeNegativeValue=function(t){return t<0?360+t:t},e.prototype.normalizeAngle180=function(t){return(t%=2*Math.PI)<-Math.PI?t+=2*Math.PI:t>=Math.PI&&(t-=2*Math.PI),t},e.prototype.getRadius=function(){return this.radius},e.prototype.setRadius=function(t){return this.radius===t||(this.radius=t,this.calculateCartesian()),this},e.prototype.onValueChange=function(t){var e=this;return this.addManagedListener(this,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.J8Z.EVENT_CHANGED,(function(){t(e.degrees)})),this},e.prototype.getValue=function(t){return t?this.toRadians(this.degrees):this.degrees},e.prototype.setValue=function(t,e){var n;return n=e?t:this.normalizeAngle180(this.toRadians(t)),t=this.toDegrees(n),this.degrees!==t&&(this.degrees=Math.floor(t),this.calculateCartesian(),this.positionChildCircle(n),this.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.J8Z.EVENT_CHANGED})),this},e.prototype.setWidth=function(t){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setFixedWidth(this.getGui(),t),this},e.prototype.setDisabled=function(e){return t.prototype.setDisabled.call(this,e),this.eAngleValue.setDisabled(e),this},e.prototype.destroy=function(){this.dragService.removeDragSource(this.dragListener),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-angle-select">\n            <div ref="eLabel"></div>\n            <div class="ag-wrapper ag-angle-select-wrapper">\n                <div ref="eAngleSelectField" class="ag-angle-select-field">\n                    <div ref="eParentCircle" class="ag-angle-select-parent-circle">\n                        <div ref="eChildCircle" class="ag-angle-select-child-circle"></div>\n                    </div>\n                </div>\n                <ag-input-number-field ref="eAngleValue"></ag-input-number-field>\n            </div>\n        </div>',__decorate$14([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eLabel")],e.prototype,"eLabel",void 0),__decorate$14([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eParentCircle")],e.prototype,"eParentCircle",void 0),__decorate$14([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eChildCircle")],e.prototype,"eChildCircle",void 0),__decorate$14([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eAngleValue")],e.prototype,"eAngleValue",void 0),__decorate$14([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragService")],e.prototype,"dragService",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.ZST),__extends$1y=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$13=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},AxisPanel=function(t){function e(e){var n=e.chartController,o=e.chartOptionsService,r=e.isExpandedOnInit,i=void 0!==r&&r,s=t.call(this)||this;return s.activePanels=[],s.axisLabelUpdateFuncs=[],s.prevXRotation=0,s.prevYRotation=0,s.chartController=n,s.chartOptionsService=o,s.isExpandedOnInit=i,s}return __extends$1y(e,t),e.prototype.init=function(){var t=this;this.setTemplate(e.TEMPLATE,{axisGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initAxis(),this.initAxisTicks(),this.initAxisLabels();this.addManagedListener(this.chartController,ChartController.EVENT_CHART_UPDATED,(function(){return t.axisLabelUpdateFuncs.forEach((function(t){return t()}))}))},e.prototype.initAxis=function(){var t=this;this.axisGroup.setTitle(this.translate("axis")).toggleGroupExpand(this.isExpandedOnInit).hideEnabledCheckbox(!0),this.axisColorInput.setLabel(this.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getAxisProperty("line.color")).onValueChange((function(e){return t.chartOptionsService.setAxisProperty("line.color",e)}));var e=this.chartOptionsService.getAxisProperty("line.width");this.axisLineWidthSlider.setMaxValue(getMaxValue(e,10)).setLabel(this.translate("thickness")).setTextFieldWidth(45).setValue(""+e).onValueChange((function(e){return t.chartOptionsService.setAxisProperty("line.width",e)}))},e.prototype.initAxisTicks=function(){var t=this.createBean(new AxisTicksPanel(this.chartOptionsService));this.axisGroup.addItem(t),this.activePanels.push(t)},e.prototype.initAxisLabels=function(){var t=this,e={family:this.chartOptionsService.getAxisProperty("label.fontFamily"),style:this.chartOptionsService.getAxisProperty("label.fontStyle"),weight:this.chartOptionsService.getAxisProperty("label.fontWeight"),size:this.chartOptionsService.getAxisProperty("label.fontSize"),color:this.chartOptionsService.getAxisProperty("label.color")},n={name:this.translate("labels"),enabled:!0,suppressEnabledCheckbox:!0,initialFont:e,setFont:function(e){e.family&&t.chartOptionsService.setAxisProperty("label.fontFamily",e.family),e.weight&&t.chartOptionsService.setAxisProperty("label.fontWeight",e.weight),e.style&&t.chartOptionsService.setAxisProperty("label.fontStyle",e.style),e.size&&t.chartOptionsService.setAxisProperty("label.fontSize",e.size),e.color&&t.chartOptionsService.setAxisProperty("label.color",e.color)}},o=this.createBean(new FontPanel(n));this.axisGroup.addItem(o),this.activePanels.push(o),this.addAdditionalLabelComps(o)},e.prototype.addAdditionalLabelComps=function(t){this.addLabelPadding(t);var e=this.createRotationWidgets(),n=e.xRotationComp,o=e.yRotationComp,r=this.initLabelRotations(n,o);t.addCompToPanel(r),t.addCompToPanel(n),t.addCompToPanel(o)},e.prototype.initLabelRotations=function(t,e){var n,o,r=this,i=function(t){return r.chartOptionsService.getLabelRotation(t)},s=function(t,e){r.chartOptionsService.setLabelRotation(t,e)},a=(n=i("xAxis"),o=i("yAxis"),null==n&&null==o&&r.chartOptionsService.getAxisProperty("label.autoRotate")),l=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jkc).setLabel(this.translate("autoRotate")).setValue(a).onValueChange((function(n){r.chartOptionsService.setAxisProperty("label.autoRotate",n),n?(r.prevXRotation=i("xAxis"),r.prevYRotation=i("yAxis"),s("xAxis",void 0),s("yAxis",void 0)):(s("xAxis",r.prevXRotation),s("yAxis",r.prevYRotation)),t.setDisabled(n),e.setDisabled(n)}));return t.setDisabled(a),e.setDisabled(a),l},e.prototype.createRotationWidgets=function(){var t=this,e=String.fromCharCode(176),n=function(n,o){var r=t.chartTranslationService.translate(n)+" "+e,i=t.chartOptionsService.getLabelRotation(o),s=(new AgAngleSelect).setLabel(r).setLabelWidth("flex").setValue(i||0).onValueChange((function(e){return t.chartOptionsService.setLabelRotation(o,e)}));return t.axisLabelUpdateFuncs.push((function(){var e=t.chartOptionsService.getLabelRotation(o);s.setValue(e||0)})),t.createBean(s)};return{xRotationComp:n("xRotation","xAxis"),yRotationComp:n("yRotation","yAxis")}},e.prototype.addLabelPadding=function(t){var e=this,n=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_),o=this.chartOptionsService.getAxisProperty("label.padding");n.setLabel(this.chartTranslationService.translate("padding")).setMaxValue(getMaxValue(o,30)).setValue(""+o).setTextFieldWidth(45).onValueChange((function(t){return e.chartOptionsService.setAxisProperty("label.padding",t)})),t.addCompToPanel(n)},e.prototype.translate=function(t,e){return this.chartTranslationService.translate(t,e)},e.prototype.destroyActivePanels=function(){var t=this;this.activePanels.forEach((function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(e.getGui()),t.destroyBean(e)}))},e.prototype.destroy=function(){this.destroyActivePanels(),t.prototype.destroy.call(this)},e.TEMPLATE='<div>\n            <ag-group-component ref="axisGroup">\n                <ag-color-picker ref="axisColorInput"></ag-color-picker>\n                <ag-slider ref="axisLineWidthSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$13([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisGroup")],e.prototype,"axisGroup",void 0),__decorate$13([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisColorInput")],e.prototype,"axisColorInput",void 0),__decorate$13([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisLineWidthSlider")],e.prototype,"axisLineWidthSlider",void 0),__decorate$13([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$13([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1x=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$12=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},NavigatorPanel=function(t){function e(e){var n=e.chartOptionsService,o=e.isExpandedOnInit,r=void 0!==o&&o,i=t.call(this)||this;return i.chartOptionsService=n,i.isExpandedOnInit=r,i}return __extends$1x(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{navigatorGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initNavigator()},e.prototype.initNavigator=function(){var t=this,e=this.chartTranslationService;this.navigatorGroup.setTitle(e.translate("navigator")).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("navigator.enabled")||!1).onEnableChange((function(e){t.chartOptionsService.setChartOption("navigator.enabled",e),t.navigatorGroup.toggleGroupExpand(!0)})).toggleGroupExpand(this.isExpandedOnInit);var n=this.chartOptionsService.getChartOption("navigator.height");this.navigatorHeightSlider.setLabel(e.translate("height")).setMinValue(10).setMaxValue(getMaxValue(n,60)).setTextFieldWidth(45).setValue(""+(n||30)).onValueChange((function(e){return t.chartOptionsService.setChartOption("navigator.height",e)}))},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.TEMPLATE='<div>\n            <ag-group-component ref="navigatorGroup">\n                <ag-slider ref="navigatorHeightSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$12([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("navigatorGroup")],e.prototype,"navigatorGroup",void 0),__decorate$12([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("navigatorHeightSlider")],e.prototype,"navigatorHeightSlider",void 0),__decorate$12([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$12([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1w=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$11=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},PaddingPanel=function(t){function e(e,n){var o=t.call(this)||this;return o.chartOptionsService=e,o.chartController=n,o}return __extends$1w(e,t),e.prototype.init=function(){var t=this;this.setTemplate(e.TEMPLATE,{chartPaddingGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_OPTIONS_CHANGED,(function(e){t.updateTopPadding(e.chartOptions)})),this.initGroup(),this.initChartPaddingItems()},e.prototype.initGroup=function(){this.chartPaddingGroup.setTitle(this.chartTranslationService.translate("padding")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0)},e.prototype.initChartPaddingItems=function(){var t=this,e=function(e,n){var o=t.chartOptionsService.getChartOption("padding."+e);n.setLabel(t.chartTranslationService.translate(e)).setMaxValue(getMaxValue(o,200)).setValue(""+o).setTextFieldWidth(45).onValueChange((function(n){return t.chartOptionsService.setChartOption("padding."+e,n)}))};e("top",this.paddingTopSlider),e("right",this.paddingRightSlider),e("bottom",this.paddingBottomSlider),e("left",this.paddingLeftSlider)},e.prototype.updateTopPadding=function(t){var e,n,o=null===(n=null===(e=t[this.chartController.getChartSeriesTypes()[0]])||void 0===e?void 0:e.padding)||void 0===n?void 0:n.top;null!=o&&this.paddingTopSlider.setValue(o)},e.TEMPLATE='<div>\n            <ag-group-component ref="chartPaddingGroup">\n                <ag-slider ref="paddingTopSlider"></ag-slider>\n                <ag-slider ref="paddingRightSlider"></ag-slider>\n                <ag-slider ref="paddingBottomSlider"></ag-slider>\n                <ag-slider ref="paddingLeftSlider"></ag-slider>\n            </ag-group-component>\n        <div>',__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("chartPaddingGroup")],e.prototype,"chartPaddingGroup",void 0),__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("paddingTopSlider")],e.prototype,"paddingTopSlider",void 0),__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("paddingRightSlider")],e.prototype,"paddingRightSlider",void 0),__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("paddingBottomSlider")],e.prototype,"paddingBottomSlider",void 0),__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("paddingLeftSlider")],e.prototype,"paddingLeftSlider",void 0),__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$11([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1v=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$10=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},BackgroundPanel=function(t){function e(e){var n=t.call(this)||this;return n.chartOptionsService=e,n}return __extends$1v(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{chartBackgroundGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initColorPicker()},e.prototype.initGroup=function(){var t=this;this.group.setTitle(this.chartTranslationService.translate("background")).setEnabled(this.chartOptionsService.getChartOption("background.visible")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange((function(e){return t.chartOptionsService.setChartOption("background.visible",e)}))},e.prototype.initColorPicker=function(){var t=this;this.colorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getChartOption("background.fill")).onValueChange((function(e){return t.chartOptionsService.setChartOption("background.fill",e)}))},e.TEMPLATE='<div>\n            <ag-group-component ref="chartBackgroundGroup">\n                <ag-color-picker ref="colorPicker"></ag-color-picker>\n            </ag-group-component>\n        <div>',__decorate$10([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("chartBackgroundGroup")],e.prototype,"group",void 0),__decorate$10([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("colorPicker")],e.prototype,"colorPicker",void 0),__decorate$10([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$10([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1u=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$$=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},TitlePanel=function(t){function e(n){var o=t.call(this,e.TEMPLATE)||this;return o.chartOptionsService=n,o.activePanels=[],o}return __extends$1u(e,t),e.prototype.init=function(){this.initFontPanel(),this.titlePlaceholder=this.chartTranslationService.translate("titlePlaceholder")},e.prototype.hasTitle=function(){var t=this.getOption("title");return t&&t.enabled&&t.text&&t.text.length>0},e.prototype.initFontPanel=function(){var t=this,e=this.hasTitle(),n=function(e,n){e.family&&t.setOption("title.fontFamily",e.family,n),e.weight&&t.setOption("title.fontWeight",e.weight,n),e.style&&t.setOption("title.fontStyle",e.style,n),e.size&&t.setOption("title.fontSize",e.size,n),e.color&&t.setOption("title.color",e.color,n)},o={family:this.getOption("title.fontFamily"),style:this.getOption("title.fontStyle"),weight:this.getOption("title.fontWeight"),size:this.getOption("title.fontSize"),color:this.getOption("title.color")};e||n(o,!0);var r={name:this.chartTranslationService.translate("title"),enabled:e,suppressEnabledCheckbox:!1,initialFont:o,setFont:n,setEnabled:function(e){if(t.toolbarExists()){var n=t.getOption("padding.top");t.setOption("padding.top",e?n-20:n+20)}t.setOption("title.enabled",e);var o=t.getOption("title.text"),r="Title"===o||0===(null==o?void 0:o.trim().length);e&&r&&t.setOption("title.text",t.titlePlaceholder)}},i=this.createBean(new FontPanel(r));i.addItemToPanel(this.createSpacingSlicer()),this.getGui().appendChild(i.getGui()),this.activePanels.push(i),this.addManagedListener(this.eventService,"chartTitleEdit",(function(){i.setEnabled(t.hasTitle())}))},e.prototype.createSpacingSlicer=function(){var t=this,e=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_),n=this.chartOptionsService.getChartOption("title.spacing");return e.setLabel(this.chartTranslationService.translate("spacing")).setMaxValue(Math.max(n,100)).setValue(""+n).setTextFieldWidth(45).onValueChange((function(e){return t.chartOptionsService.setChartOption("title.spacing",e)})),e},e.prototype.toolbarExists=function(){var t=this.gridOptionsService.getCallback("getChartToolbarItems");if(!t)return!0;var e={defaultItems:["chartUnlink","chartDownload"]};return["chartLink","chartUnlink","chartDownload"].some((function(n){var o;return null===(o=t&&t(e))||void 0===o?void 0:o.includes(n)}))},e.prototype.getOption=function(t){return this.chartOptionsService.getChartOption(t)},e.prototype.setOption=function(t,e,n){this.chartOptionsService.setChartOption(t,e,n)},e.prototype.destroyActivePanels=function(){var t=this;this.activePanels.forEach((function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(e.getGui()),t.destroyBean(e)}))},e.prototype.destroy=function(){this.destroyActivePanels(),t.prototype.destroy.call(this)},e.TEMPLATE="<div></div>",__decorate$$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$$([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1t=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$_=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ChartPanel=function(t){function e(e){var n=e.chartController,o=e.chartOptionsService,r=e.isExpandedOnInit,i=void 0!==r&&r,s=t.call(this)||this;return s.activePanels=[],s.chartController=n,s.chartOptionsService=o,s.isExpandedOnInit=i,s}return __extends$1t(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{chartGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initGroup(),this.initTitles(),this.initPaddingPanel(),this.initBackgroundPanel()},e.prototype.initGroup=function(){this.chartGroup.setTitle(this.chartTranslationService.translate("chart")).toggleGroupExpand(this.isExpandedOnInit).hideEnabledCheckbox(!0)},e.prototype.initTitles=function(){var t=this.createBean(new TitlePanel(this.chartOptionsService));this.chartGroup.addItem(t),this.activePanels.push(t)},e.prototype.initPaddingPanel=function(){var t=this.createBean(new PaddingPanel(this.chartOptionsService,this.chartController));this.chartGroup.addItem(t),this.activePanels.push(t)},e.prototype.initBackgroundPanel=function(){var t=this.createBean(new BackgroundPanel(this.chartOptionsService));this.chartGroup.addItem(t),this.activePanels.push(t)},e.prototype.destroyActivePanels=function(){var t=this;this.activePanels.forEach((function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(e.getGui()),t.destroyBean(e)}))},e.prototype.destroy=function(){this.destroyActivePanels(),t.prototype.destroy.call(this)},e.TEMPLATE='<div>\n            <ag-group-component ref="chartGroup"></ag-group-component>\n        </div>',__decorate$_([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("chartGroup")],e.prototype,"chartGroup",void 0),__decorate$_([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$_([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1s=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$Z=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ShadowPanel=function(t){function e(e,n){var o=t.call(this)||this;return o.chartOptionsService=e,o.getSelectedSeries=n,o}return __extends$1s(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{shadowGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.shadowBlurSlider.setTextFieldWidth(45),this.shadowXOffsetSlider.setTextFieldWidth(45),this.shadowYOffsetSlider.setTextFieldWidth(45),this.initSeriesShadow()},e.prototype.initSeriesShadow=function(){var t=this;this.shadowGroup.setTitle(this.chartTranslationService.translate("shadow")).setEnabled(this.chartOptionsService.getSeriesOption("shadow.enabled",this.getSelectedSeries())).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange((function(e){return t.chartOptionsService.setSeriesOption("shadow.enabled",e,t.getSelectedSeries())})),this.shadowColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getSeriesOption("shadow.color",this.getSelectedSeries())).onValueChange((function(e){return t.chartOptionsService.setSeriesOption("shadow.color",e,t.getSelectedSeries())}));var e=function(e,n,o,r){var i=t.chartOptionsService.getSeriesOption("shadow."+n,t.getSelectedSeries());e.setLabel(t.chartTranslationService.translate(n)).setMinValue(o).setMaxValue(getMaxValue(i,r)).setValue(""+i).onValueChange((function(e){return t.chartOptionsService.setSeriesOption("shadow."+n,e,t.getSelectedSeries())}))};e(this.shadowBlurSlider,"blur",0,20),e(this.shadowXOffsetSlider,"xOffset",-10,10),e(this.shadowYOffsetSlider,"yOffset",-10,10)},e.TEMPLATE='<div>\n            <ag-group-component ref="shadowGroup">\n                <ag-color-picker ref="shadowColorPicker"></ag-color-picker>\n                <ag-slider ref="shadowBlurSlider"></ag-slider>\n                <ag-slider ref="shadowXOffsetSlider"></ag-slider>\n                <ag-slider ref="shadowYOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("shadowGroup")],e.prototype,"shadowGroup",void 0),__decorate$Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("shadowColorPicker")],e.prototype,"shadowColorPicker",void 0),__decorate$Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("shadowBlurSlider")],e.prototype,"shadowBlurSlider",void 0),__decorate$Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("shadowXOffsetSlider")],e.prototype,"shadowXOffsetSlider",void 0),__decorate$Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("shadowYOffsetSlider")],e.prototype,"shadowYOffsetSlider",void 0),__decorate$Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$Z([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2);function initFontPanelParams(t){var e=t.labelName,n=t.chartOptionsService,o=t.getSelectedSeries,r=t.seriesOptionLabelProperty,i=function(t){return r+"."+t},s=function(t){var e=i(t);return n.getSeriesOption(e,o())},a=function(t,e){var r=i(t);n.setSeriesOption(r,e,o())},l={family:s("fontFamily"),style:s("fontStyle"),weight:s("fontWeight"),size:s("fontSize"),color:s("color")},c={name:e,enabled:s("enabled")||!1,setEnabled:function(t){return a("enabled",t)},suppressEnabledCheckbox:!1,initialFont:l,setFont:function(t){t.family&&a("fontFamily",t.family),t.weight&&a("fontWeight",t.weight),t.style&&a("fontStyle",t.style),t.size&&a("fontSize",t.size),t.color&&a("color",t.color)}};return c}var __extends$1r=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$Y=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},MarkersPanel=function(t){function e(e,n){var o=t.call(this)||this;return o.chartOptionsService=e,o.getSelectedSeries=n,o}return __extends$1r(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{seriesMarkersGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical"}}),this.initMarkers()},e.prototype.initMarkers=function(){var t=this;this.seriesMarkerShapeSelect.addOptions([{value:"square",text:"Square"},{value:"circle",text:"Circle"},{value:"cross",text:"Cross"},{value:"diamond",text:"Diamond"},{value:"plus",text:"Plus"},{value:"triangle",text:"Triangle"},{value:"heart",text:"Heart"}]).setLabel(this.chartTranslationService.translate("shape")).setValue(this.getSeriesOption("marker.shape")).onValueChange((function(e){return t.setSeriesOption("marker.shape",e)}));var e=this.chartOptionsService.getChartType(),n=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["scatter","bubble"],e);this.seriesMarkersGroup.setTitle(this.chartTranslationService.translate("markers")).hideEnabledCheckbox(n).setEnabled(this.getSeriesOption("marker.enabled")||!1).hideOpenCloseIcons(!0).onEnableChange((function(e){return t.setSeriesOption("marker.enabled",e)}));var o=function(e,n,o,r){var i=t.getSeriesOption(e);n.setLabel(t.chartTranslationService.translate(o)).setMaxValue(getMaxValue(i,r)).setValue(""+i).setTextFieldWidth(45).onValueChange((function(n){return t.setSeriesOption(e,n)}))};"bubble"===e?(o("marker.maxSize",this.seriesMarkerMinSizeSlider,"maxSize",60),o("marker.size",this.seriesMarkerSizeSlider,"minSize",60)):(this.seriesMarkerMinSizeSlider.setDisplayed(!1),o("marker.size",this.seriesMarkerSizeSlider,"size",60)),o("marker.strokeWidth",this.seriesMarkerStrokeWidthSlider,"strokeWidth",10)},e.prototype.getSeriesOption=function(t){return this.chartOptionsService.getSeriesOption(t,this.getSelectedSeries())},e.prototype.setSeriesOption=function(t,e){this.chartOptionsService.setSeriesOption(t,e,this.getSelectedSeries())},e.TEMPLATE='<div>\n            <ag-group-component ref="seriesMarkersGroup">\n                <ag-select ref="seriesMarkerShapeSelect"></ag-select>\n                <ag-slider ref="seriesMarkerMinSizeSlider"></ag-slider>\n                <ag-slider ref="seriesMarkerSizeSlider"></ag-slider>\n                <ag-slider ref="seriesMarkerStrokeWidthSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("seriesMarkersGroup")],e.prototype,"seriesMarkersGroup",void 0),__decorate$Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("seriesMarkerShapeSelect")],e.prototype,"seriesMarkerShapeSelect",void 0),__decorate$Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("seriesMarkerSizeSlider")],e.prototype,"seriesMarkerSizeSlider",void 0),__decorate$Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("seriesMarkerMinSizeSlider")],e.prototype,"seriesMarkerMinSizeSlider",void 0),__decorate$Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("seriesMarkerStrokeWidthSlider")],e.prototype,"seriesMarkerStrokeWidthSlider",void 0),__decorate$Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$Y([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1q=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$X=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},CalloutPanel=function(t){function e(e,n){var o=t.call(this)||this;return o.chartOptionsService=e,o.getSelectedSeries=n,o}return __extends$1q(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{calloutGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical"}}),this.initCalloutOptions()},e.prototype.initCalloutOptions=function(){var t=this;this.calloutGroup.setTitle(this.chartTranslationService.translate("callout")).setEnabled(!0).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0);var e=function(e,n,o,r){var i=t.chartOptionsService.getSeriesOption(e,t.getSelectedSeries());n.setLabel(t.chartTranslationService.translate(o)).setMaxValue(getMaxValue(i,r)).setValue(""+i).setTextFieldWidth(45).onValueChange((function(n){return t.chartOptionsService.setSeriesOption(e,n,t.getSelectedSeries())}))};e("calloutLine.length",this.calloutLengthSlider,"length",40),e("calloutLine.strokeWidth",this.calloutStrokeWidthSlider,"strokeWidth",10),e("calloutLabel.offset",this.labelOffsetSlider,"offset",30)},e.TEMPLATE='<div>\n            <ag-group-component ref="calloutGroup">\n                <ag-slider ref="calloutLengthSlider"></ag-slider>\n                <ag-slider ref="calloutStrokeWidthSlider"></ag-slider>\n                <ag-slider ref="labelOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("calloutGroup")],e.prototype,"calloutGroup",void 0),__decorate$X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("calloutLengthSlider")],e.prototype,"calloutLengthSlider",void 0),__decorate$X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("calloutStrokeWidthSlider")],e.prototype,"calloutStrokeWidthSlider",void 0),__decorate$X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("labelOffsetSlider")],e.prototype,"labelOffsetSlider",void 0),__decorate$X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$X([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1p=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$W=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},SeriesPanel=function(t){function e(e){var n=e.chartController,o=e.chartOptionsService,r=e.seriesType,i=e.isExpandedOnInit,s=void 0!==i&&i,a=t.call(this)||this;return a.activePanels=[],a.widgetFuncs={lineWidth:function(){return a.initLineWidth()},strokeWidth:function(){return a.initStrokeWidth()},lineDash:function(){return a.initLineDash()},lineOpacity:function(){return a.initLineOpacity()},fillOpacity:function(){return a.initFillOpacity()},markers:function(){return a.initMarkers()},labels:function(){return a.initLabels()},shadow:function(){return a.initShadow()},tooltips:function(){return a.initTooltips()},bins:function(){return a.initBins()}},a.seriesWidgetMappings={area:["tooltips","lineWidth","lineDash","lineOpacity","fillOpacity","markers","labels","shadow"],bar:["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],column:["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],line:["tooltips","lineWidth","lineDash","lineOpacity","markers","labels"],histogram:["tooltips","bins","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],scatter:["tooltips","markers","labels"],pie:["tooltips","strokeWidth","lineOpacity","fillOpacity","labels","shadow"]},a.chartController=n,a.chartOptionsService=o,a.seriesType=r||a.getChartSeriesType(),a.isExpandedOnInit=s,a}return __extends$1p(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.seriesGroup.setTitle(this.translate("series")).toggleGroupExpand(this.isExpandedOnInit).hideEnabledCheckbox(!0),this.addManagedListener(this.chartController,ChartController.EVENT_CHART_SERIES_CHART_TYPE_CHANGED,this.refreshWidgets.bind(this)),this.refreshWidgets()},e.prototype.refreshWidgets=function(){var t=this;this.destroyActivePanels(),this.chartController.getChartProxy().getChart().waitForUpdate().then((function(){t.chartController.isComboChart()&&(t.updateSeriesType(),t.initSeriesSelect()),t.seriesWidgetMappings[t.seriesType].forEach((function(e){return t.widgetFuncs[e]()}))}))},e.prototype.initSeriesSelect=function(){var t=this,e=this.seriesGroup.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wGv);e.setLabel(this.translate("seriesType")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(100).addOptions(this.getSeriesSelectOptions()).setValue(""+this.seriesType).onValueChange((function(e){t.seriesType=e,t.refreshWidgets()})),this.seriesGroup.addItem(e),this.activePanels.push(e)},e.prototype.initTooltips=function(){var t=this,e=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.nN0);e.setLabel(this.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getSeriesOption("tooltip.enabled")||!1).onValueChange((function(e){return t.setSeriesOption("tooltip.enabled",e)})),this.addWidget(e)},e.prototype.initStrokeWidth=function(){var t=this,e=this.getSeriesOption("strokeWidth"),n=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_);n.setLabel(this.translate("strokeWidth")).setMaxValue(getMaxValue(e,10)).setTextFieldWidth(45).setValue(""+e).onValueChange((function(e){return t.setSeriesOption("strokeWidth",e)})),this.addWidget(n)},e.prototype.initLineWidth=function(){var t=this,e=this.getSeriesOption("strokeWidth"),n=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_);n.setLabel(this.translate("lineWidth")).setMaxValue(getMaxValue(e,10)).setTextFieldWidth(45).setValue(""+e).onValueChange((function(e){return t.setSeriesOption("strokeWidth",e)})),this.addWidget(n)},e.prototype.initLineDash=function(){var t=this,e=this.getSeriesOption("lineDash"),n=e?e[0]:0,o=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_);o.setLabel(this.translate("lineDash")).setMaxValue(getMaxValue(n,30)).setTextFieldWidth(45).setValue(""+n).onValueChange((function(e){return t.setSeriesOption("lineDash",[e])})),this.addWidget(o)},e.prototype.initLineOpacity=function(){var t=this,e=this.getSeriesOption("strokeOpacity"),n=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_);n.setLabel(this.translate("strokeOpacity")).setStep(.05).setMaxValue(getMaxValue(e,1)).setTextFieldWidth(45).setValue(""+e).onValueChange((function(e){return t.setSeriesOption("strokeOpacity",e)})),this.addWidget(n)},e.prototype.initFillOpacity=function(){var t=this,e=this.getSeriesOption("fillOpacity"),n=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_);n.setLabel(this.translate("fillOpacity")).setStep(.05).setMaxValue(getMaxValue(e,1)).setTextFieldWidth(45).setValue(""+e).onValueChange((function(e){return t.setSeriesOption("fillOpacity",e)})),this.addWidget(n)},e.prototype.initLabels=function(){var t=this,e="pie"===this.seriesType?"calloutLabel":"label",n=initFontPanelParams({labelName:"pie"===this.seriesType?this.chartTranslationService.translate("calloutLabels"):this.chartTranslationService.translate("labels"),chartOptionsService:this.chartOptionsService,getSelectedSeries:function(){return t.seriesType},seriesOptionLabelProperty:e}),o=this.createBean(new FontPanel(n));if("pie"===this.seriesType){var r=this.createBean(new CalloutPanel(this.chartOptionsService,(function(){return t.seriesType})));o.addCompToPanel(r),this.activePanels.push(r)}if(this.addWidget(o),"pie"===this.seriesType){var i=initFontPanelParams({labelName:this.chartTranslationService.translate("sectorLabels"),chartOptionsService:this.chartOptionsService,getSelectedSeries:function(){return t.seriesType},seriesOptionLabelProperty:"sectorLabel"}),s=this.createBean(new FontPanel(i)),a=this.getSectorLabelPositionRatio();s.addCompToPanel(a),this.addWidget(s)}},e.prototype.getSectorLabelPositionRatio=function(){var t=this,e="sectorLabel.positionRatio",n=this.chartOptionsService.getSeriesOption(e,this.seriesType);return this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_).setLabel(this.translate("positionRatio")).setStep(.05).setMaxValue(getMaxValue(n,1)).setTextFieldWidth(45).setValue(""+n).onValueChange((function(n){return t.chartOptionsService.setSeriesOption(e,n,t.seriesType)}))},e.prototype.initShadow=function(){var t=this,e=this.createBean(new ShadowPanel(this.chartOptionsService,(function(){return t.seriesType})));this.addWidget(e)},e.prototype.initMarkers=function(){var t=this,e=this.createBean(new MarkersPanel(this.chartOptionsService,(function(){return t.seriesType})));this.addWidget(e)},e.prototype.initBins=function(){var t=this,e=this.getSeriesOption("bins").length,n=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_);n.setLabel(this.translate("histogramBinCount")).setMinValue(0).setMaxValue(getMaxValue(e,20)).setTextFieldWidth(45).setValue(""+e).onValueChange((function(e){return t.setSeriesOption("binCount",e)})),this.addWidget(n)},e.prototype.addWidget=function(t){this.seriesGroup.addItem(t),this.activePanels.push(t)},e.prototype.getSeriesOption=function(t){return this.chartOptionsService.getSeriesOption(t,this.seriesType)},e.prototype.setSeriesOption=function(t,e){this.chartOptionsService.setSeriesOption(t,e,this.seriesType)},e.prototype.getChartSeriesType=function(){if(0===this.chartController.getSeriesChartTypes().length)return"column";var t=this.chartController.getSeriesChartTypes()[0].chartType;return"columnLineCombo"===t?"column":"areaColumnCombo"===t?"area":getSeriesType(t)},e.prototype.getSeriesSelectOptions=function(){var t=this;this.seriesSelectOptions||(this.seriesSelectOptions=new Map([["area",{value:"area",text:this.translate("area","Area")}],["bar",{value:"bar",text:this.translate("bar","Bar")}],["column",{value:"column",text:this.translate("column","Column")}],["line",{value:"line",text:this.translate("line","Line")}],["scatter",{value:"scatter",text:this.translate("scatter","Scatter")}],["histogram",{value:"histogram",text:this.translate("histogram","Histogram")}],["pie",{value:"pie",text:this.translate("pie","Pie")}]]));var e=new Set;return this.chartController.getActiveSeriesChartTypes().forEach((function(n){var o=getSeriesType(n.chartType);e.add(t.seriesSelectOptions.get(o))})),Array.from(e)},e.prototype.updateSeriesType=function(){var t=this.chartController.getActiveSeriesChartTypes().map((function(t){return getSeriesType(t.chartType)}));!t.includes(this.seriesType)&&t.length>0&&(this.seriesType=t[0])},e.prototype.translate=function(t,e){return this.chartTranslationService.translate(t,e)},e.prototype.destroyActivePanels=function(){var t=this;this.activePanels.forEach((function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(e.getGui()),t.destroyBean(e)}))},e.prototype.destroy=function(){this.destroyActivePanels(),t.prototype.destroy.call(this)},e.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">\n            </ag-group-component>\n        </div>',__decorate$W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("seriesGroup")],e.prototype,"seriesGroup",void 0),__decorate$W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$W([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1o=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$V=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};function getMaxValue(t,e){return Math.max(t,e)}var DefaultFormatPanelDef={groups:[{type:"chart"},{type:"legend"},{type:"series"},{type:"axis"},{type:"navigator"}]},FormatPanel=function(t){function e(n,o){var r=t.call(this,e.TEMPLATE)||this;return r.chartController=n,r.chartOptionsService=o,r.panels=[],r.isGroupPanelShownInSeries=function(t,e){if(["chart","legend","series"].includes(t))return!0;return!(!["axis","navigator"].includes(t)||!["bar","column","line","area","scatter","histogram","cartesian"].includes(e))},r}return __extends$1o(e,t),e.prototype.init=function(){this.createPanels(),this.addManagedListener(this.chartController,ChartController.EVENT_CHART_UPDATED,this.createPanels.bind(this))},e.prototype.createPanels=function(){var t,e=this,n=this.chartController.getChartType(),o=this.chartController.isGrouping(),r=getSeriesType(n);n===this.chartType&&o===this.isGrouping||(this.destroyPanels(),null===(t=this.getFormatPanelDef().groups)||void 0===t||t.forEach((function(t){var n=t.type;if(e.isGroupPanelShownInSeries(n,r)){var o={chartController:e.chartController,chartOptionsService:e.chartOptionsService,isExpandedOnInit:t.isOpen,seriesType:r};"chart"===n?e.addComponent(new ChartPanel(o)):"legend"===n?e.addComponent(new LegendPanel(o)):"axis"===n?e.addComponent(new AxisPanel(o)):"series"===n?e.addComponent(new SeriesPanel(o)):"navigator"===n?e.addComponent(new NavigatorPanel(o)):console.warn("AG Grid: invalid charts format panel group name supplied: '"+t.type+"'")}})),this.chartType=n,this.isGrouping=o)},e.prototype.getFormatPanelDef=function(){var t,e=null===(t=this.gridOptionsService.get("chartToolPanelsDef"))||void 0===t?void 0:t.formatPanel;return e||DefaultFormatPanelDef},e.prototype.addComponent=function(t){this.createBean(t),this.panels.push(t),t.addCssClass("ag-chart-format-section"),this.getGui().appendChild(t.getGui())},e.prototype.destroyPanels=function(){var t=this;this.panels.forEach((function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(e.getGui()),t.destroyBean(e)}))},e.prototype.destroy=function(){this.destroyPanels(),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-chart-format-wrapper"></div>',__decorate$V([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1n=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$U=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},MiniChart=function(t){function e(e,n){var o=t.call(this)||this;o.size=58,o.padding=5,o.root=new Group;var r=new Scene({document:window.document,width:o.size,height:o.size});return r.canvas.element.classList.add("ag-chart-mini-thumbnail-canvas"),r.root=o.root,r.container=e,o.scene=r,o.tooltipName=n,o}return __extends$1n(e,t),e.prototype.init=function(){this.scene.canvas.element.title=this.chartTranslationService.translate(this.tooltipName),this.scene.render()},__decorate$U([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$U([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1m=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$T=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},MiniChartWithAxes=function(t){function e(e,n){var o=t.call(this,e,n)||this;return o.stroke="gray",o.axisOvershoot=3,o}return __extends$1m(e,t),e.prototype.addAxes=function(){var t=this.size,e=this.padding,n=new Line;n.x1=e,n.y1=e,n.x2=e,n.y2=t-e+this.axisOvershoot,n.stroke=this.stroke;var o=new Line;o.x1=e-this.axisOvershoot+1,o.y1=t-e,o.x2=t-e+1,o.y2=t-e,o.stroke=this.stroke;var r=this.root;r.append(n),r.append(o)},__decorate$T([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"addAxes",null),e}(MiniChart);function createColumnRects(t){var e=t.stacked,n=t.size,o=t.padding,r=t.xScalePadding,i=t.xScaleDomain,s=t.yScaleDomain,a=new BandScale$5;a.domain=i,a.range=[o,n-o],a.paddingInner=r,a.paddingOuter=r;var l=new LinearScale$1;l.domain=s,l.range=[n-o,o];var c=function(t,e,n){return t.map((function(t,o){var r=n.convert(t),i=new Rect;return i.x=e.convert(o),i.y=r,i.width=e.bandwidth,i.height=n.convert(0)-r,i.strokeWidth=1,i.crisp=!0,i}))};return e?t.data.map((function(t){return c(t,a,l)})):c(t.data,a,l)}function createLinePaths(t,e,n,o){var r=new LinearScale$1;r.domain=[0,4],r.range=[o,n-o];var i=new LinearScale$1;i.domain=[0,10],i.range=[n-o,o];var s=e.map((function(t){var e=new Path;return e.strokeWidth=3,e.lineCap="round",e.fill=void 0,t.forEach((function(t,n){e.path[n>0?"lineTo":"moveTo"](r.convert(n),i.convert(t))})),e})),a=new Group;return a.setClipRectInGroupCoordinateSpace(new BBox(o,o,n-2*o,n-2*o)),a.append(s),t.append(a),s}var __extends$1l=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),MiniColumn=function(t){function e(e,n,o){var r=t.call(this,e,"groupedColumnTooltip")||this;r.columnData=[2,3,4];var i=r,s=i.root,a=i.columnData,l=i.size,c=i.padding;return r.columns=createColumnRects({stacked:!1,root:s,data:a,size:l,padding:c,xScaleDomain:[0,1,2],yScaleDomain:[0,4],xScalePadding:.3}),s.append(r.columns),r.updateColors(n,o),r}return __extends$1l(e,t),e.prototype.updateColors=function(t,e){this.columns.forEach((function(n,o){n.fill=t[o],n.stroke=e[o]}))},e.chartType="groupedColumn",e}(MiniChartWithAxes),__extends$1k=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),MiniStackedColumn=function(t){function e(n,o,r,i,s,a){void 0===i&&(i=e.data),void 0===s&&(s=[0,16]),void 0===a&&(a="stackedColumnTooltip");var l=t.call(this,n,a)||this,c=l,u=c.root,d=c.size,p=c.padding;return l.stackedColumns=createColumnRects({stacked:!0,root:u,data:i,size:d,padding:p,xScaleDomain:[0,1,2],yScaleDomain:s,xScalePadding:.3}),u.append([].concat.apply([],l.stackedColumns)),l.updateColors(o,r),l}return __extends$1k(e,t),e.prototype.updateColors=function(t,e){this.stackedColumns.forEach((function(n,o){return n.forEach((function(n){n.fill=t[o],n.stroke=e[o]}))}))},e.chartType="stackedColumn",e.data=[[8,12,16],[6,9,12],[2,3,4]],e}(MiniChartWithAxes),__extends$1j=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),MiniNormalizedColumn=function(t){function e(n,o,r){return t.call(this,n,o,r,e.data,[0,10],"normalizedColumnTooltip")||this}return __extends$1j(e,t),e.chartType="normalizedColumn",e.data=[[10,10,10],[6,7,8],[2,4,6]],e}(MiniStackedColumn),__extends$1i=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),MiniBar=function(t){function e(e,n,o){var r=t.call(this,e,"groupedBarTooltip")||this,i=r.padding,s=r.size,a=new BandScale$5;a.domain=[0,1,2],a.range=[i,s-i],a.paddingInner=.3,a.paddingOuter=.3;var l=new LinearScale$1;l.domain=[0,4],l.range=[s-i,i];var c=l.convert(0),u=a.bandwidth;return r.bars=[2,3,4].map((function(t,e){var n=new Rect;return n.x=i,n.y=a.convert(e),n.width=c-l.convert(t),n.height=u,n.strokeWidth=1,n.crisp=!0,n})),r.updateColors(n,o),r.root.append(r.bars),r}return __extends$1i(e,t),e.prototype.updateColors=function(t,e){this.bars.forEach((function(n,o){n.fill=t[o],n.stroke=e[o]}))},e.chartType="groupedBar",e}(MiniChartWithAxes),__extends$1h=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),MiniStackedBar=function(t){function e(n,o,r,i,s,a){void 0===i&&(i=e.data),void 0===s&&(s=[0,16]),void 0===a&&(a="stackedBarTooltip");var l=t.call(this,n,a)||this,c=l.size,u=l.padding,d=new BandScale$5;d.domain=[0,1,2],d.range=[u,c-u],d.paddingInner=.3,d.paddingOuter=.3;var p=new LinearScale$1;p.domain=s,p.range=[c-u,u];var h=p.convert(0),f=d.bandwidth;return l.bars=i.map((function(t){return t.map((function(t,e){var n=new Rect;return n.x=u,n.y=d.convert(e),n.width=h-p.convert(t),n.height=f,n.strokeWidth=1,n.crisp=!0,n}))})),l.updateColors(o,r),l.root.append([].concat.apply([],l.bars)),l}return __extends$1h(e,t),e.prototype.updateColors=function(t,e){this.bars.forEach((function(n,o){return n.forEach((function(n){n.fill=t[o],n.stroke=e[o]}))}))},e.chartType="stackedBar",e.data=[[8,12,16],[6,9,12],[2,3,4]],e}(MiniChartWithAxes),__extends$1g=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),MiniNormalizedBar=function(t){function e(n,o,r){return t.call(this,n,o,r,e.data,[0,10],"normalizedBarTooltip")||this}return __extends$1g(e,t),e.chartType="normalizedBar",e.data=[[10,10,10],[6,7,8],[2,4,6]],e}(MiniStackedBar),__extends$1f=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__read$j=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},toRadians=toRadians$1,MiniDoughnut=function(t){function e(e,n,o,r,i){void 0===r&&(r=.6),void 0===i&&(i="doughnutTooltip");var s=t.call(this,e,i)||this,a=(s.size-2*s.padding)/2,l=a+s.padding,c=[[toRadians(-90),toRadians(30)],[toRadians(30),toRadians(120)],[toRadians(120),toRadians(180)],[toRadians(180),toRadians(210)],[toRadians(210),toRadians(240)],[toRadians(240),toRadians(270)]];return s.sectors=c.map((function(t){var e=__read$j(t,2),n=e[0],o=e[1],i=new Sector;return i.centerX=l,i.centerY=l,i.innerRadius=a*r,i.outerRadius=a,i.startAngle=n,i.endAngle=o,i.stroke=void 0,i.strokeWidth=1,i})),s.updateColors(n,o),s.root.append(s.sectors),s}return __extends$1f(e,t),e.prototype.updateColors=function(t,e){this.sectors.forEach((function(n,o){n.fill=t[o%t.length],n.stroke=e[o%e.length]}))},e.chartType="doughnut",e}(MiniChart),__extends$1e=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),MiniPie=function(t){function e(e,n,o){return t.call(this,e,n,o,0,"pieTooltip")||this}return __extends$1e(e,t),e.chartType="pie",e}(MiniDoughnut),__extends$1d=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),MiniLine=function(t){function e(e,n,o){var r=t.call(this,e,"lineTooltip")||this;return r.data=[[9,7,8,5,6],[5,6,3,4,1],[1,3,4,8,7]],r.lines=createLinePaths(r.root,r.data,r.size,r.padding),r.updateColors(n,o),r}return __extends$1d(e,t),e.prototype.updateColors=function(t,e){this.lines.forEach((function(e,n){e.stroke=t[n]}))},e.chartType="line",e}(MiniChartWithAxes),__extends$1c=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__read$i=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},MiniScatter=function(t){function e(e,n,o){var r=t.call(this,e,"scatterTooltip")||this,i=r.size,s=r.padding,a=new LinearScale$1;a.domain=[-.5,4],a.range=[2*s,i-s];var l=new LinearScale$1;l.domain=[-.5,3.5],l.range=[i-s,s];var c=[];[[[.3,3],[1.1,.9],[2,.4],[3.4,2.4]],[[0,.3],[1,2],[2.4,1.4],[3,0]]].forEach((function(t){t.forEach((function(t){var e=__read$i(t,2),n=e[0],o=e[1],r=new Arc;r.strokeWidth=1,r.centerX=a.convert(n),r.centerY=l.convert(o),r.radius=2.5,c.push(r)}))})),r.points=c,r.updateColors(n,o);var u=new Group;return u.setClipRectInGroupCoordinateSpace(new BBox(s,s,i-2*s,i-2*s)),u.append(r.points),r.root.append(u),r}return __extends$1c(e,t),e.prototype.updateColors=function(t,e){this.points.forEach((function(n,o){n.stroke=e[o%e.length],n.fill=t[o%t.length]}))},e.chartType="scatter",e}(MiniChartWithAxes),__extends$1b=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__read$h=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},MiniBubble=function(t){function e(e,n,o){var r=t.call(this,e,"bubbleTooltip")||this,i=r.size,s=r.padding,a=new LinearScale$1;a.domain=[0,1],a.range=[2*s,i-s];var l=new LinearScale$1;l.domain=[0,1],l.range=[i-s,s];var c=[];[[[.1,.3,5],[.5,.4,7],[.2,.8,7]],[[.8,.7,5],[.7,.3,9]]].forEach((function(t){t.forEach((function(t){var e=__read$h(t,3),n=e[0],o=e[1],r=e[2],i=new Arc;i.strokeWidth=1,i.centerX=a.convert(n),i.centerY=l.convert(o),i.radius=r,i.fillOpacity=.7,c.push(i)}))})),r.points=c,r.updateColors(n,o);var u=new Group;return u.setClipRectInGroupCoordinateSpace(new BBox(s,s,i-2*s,i-2*s)),u.append(r.points),r.root.append(u),r}return __extends$1b(e,t),e.prototype.updateColors=function(t,e){this.points.forEach((function(n,o){n.stroke=e[o%e.length],n.fill=t[o%t.length]}))},e.chartType="bubble",e}(MiniChartWithAxes),__extends$1a=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),MiniArea=function(t){function e(n,o,r,i){void 0===i&&(i=e.data);var s=t.call(this,n,"groupedAreaTooltip")||this,a=s.size,l=s.padding,c=new BandScale$5;c.domain=[0,1,2],c.paddingInner=1,c.paddingOuter=0,c.range=[l+.5,a-l-.5];var u=new LinearScale$1;u.domain=[0,6],u.range=[a-l+.5,l];var d=2*i.length-1,p=[],h=u.convert(0);return i.forEach((function(t,e){var n=c.convert(e);t.forEach((function(t,o){var r=u.convert(t),i=p[o]||(p[o]=[]);i[e]={x:n,y:r},i[d-e]={x:n,y:h}}))})),s.areas=p.reverse().map((function(t){var e=new Path;e.strokeWidth=1,e.fillOpacity=.7;var n=e.path;return n.clear(),t.forEach((function(t,e){return n[e>0?"lineTo":"moveTo"](t.x,t.y)})),n.closePath(),e})),s.updateColors(o,r),s.root.append(s.areas),s}return __extends$1a(e,t),e.prototype.updateColors=function(t,e){this.areas.forEach((function(n,o){n.fill=t[o],n.stroke=e[o]}))},e.chartType="area",e.data=[[1,3,5],[2,6,4],[5,3,1]],e}(MiniChartWithAxes),__extends$19=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),MiniStackedArea=function(t){function e(n,o,r,i,s){void 0===i&&(i=e.data),void 0===s&&(s="stackedAreaTooltip");var a=t.call(this,n,s)||this,l=a.size,c=a.padding,u=new BandScale$5;u.domain=[0,1,2],u.paddingInner=1,u.paddingOuter=0,u.range=[c+.5,l-c-.5];var d=new LinearScale$1;d.domain=[0,16],d.range=[l-c+.5,c+.5];var p=2*i.length-1,h=[];return i.forEach((function(t,e){var n=u.convert(e),o=0;t.forEach((function(t,r){var i=d.convert(o+t),s=h[r]||(h[r]=[]);s[e]={x:n,y:i},s[p-e]={x:n,y:d.convert(o)},o+=t}))})),a.areas=h.map((function(t){var e=new Path;e.strokeWidth=1;var n=e.path;return n.clear(),t.forEach((function(t,e){return n[e>0?"lineTo":"moveTo"](t.x,t.y)})),n.closePath(),e})),a.updateColors(o,r),a.root.append(a.areas),a}return __extends$19(e,t),e.prototype.updateColors=function(t,e){this.areas.forEach((function(n,o){n.fill=t[o],n.stroke=e[o]}))},e.chartType="stackedArea",e.data=[[2,3,2],[3,6,5],[6,2,2]],e}(MiniChartWithAxes),__extends$18=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),MiniNormalizedArea=function(t){function e(n,o,r,i){return void 0===i&&(i=e.data),t.call(this,n,o,r,i,"normalizedAreaTooltip")||this}return __extends$18(e,t),e.chartType="normalizedArea",e.data=MiniStackedArea.data.map((function(t){var e=t.reduce((function(t,e){return t+e}),0);return t.map((function(t){return t/e*16}))})),e}(MiniStackedArea),__extends$17=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__read$g=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},MiniHistogram=function(t){function e(e,n,o){var r=t.call(this,e,"histogramTooltip")||this,i=r.padding,s=r.size,a=[2,5,11,13,10,6,1],l=new LinearScale$1;l.domain=[0,a.length],l.range=[i,s-i];var c=new LinearScale$1;c.domain=[0,a.reduce((function(t,e){return Math.max(t,e)}),0)],c.range=[s-i,i];var u=c.convert(0);return r.bars=a.map((function(t,e){var n=c.convert(t),o=l.convert(e),r=l.convert(e+1),i=new Rect;return i.x=o,i.y=n,i.width=r-o,i.height=u-n,i.strokeWidth=1,i.crisp=!0,i})),r.updateColors(n,o),r.root.append(r.bars),r}return __extends$17(e,t),e.prototype.updateColors=function(t,e){var n=__read$g(t,1)[0],o=__read$g(e,1)[0];this.bars.forEach((function(t){t.fill=n,t.stroke=o}))},e.chartType="histogram",e}(MiniChartWithAxes),__extends$16=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),MiniColumnLineCombo=function(t){function e(e,n,o){var r=t.call(this,e,"columnLineComboTooltip")||this;r.columnData=[3,4],r.lineData=[[5,4,6,5,4]];var i=r,s=i.root,a=i.columnData,l=i.lineData,c=i.size,u=i.padding;return r.columns=createColumnRects({stacked:!1,root:s,data:a,size:c,padding:u,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5}),s.append(r.columns),r.lines=createLinePaths(s,l,c,u),r.updateColors(n,o),r}return __extends$16(e,t),e.prototype.updateColors=function(t,e){this.columns.forEach((function(n,o){n.fill=t[o],n.stroke=e[o]})),this.lines.forEach((function(e,n){e.stroke=t[n+2]}))},e.chartType="columnLineCombo",e}(MiniChartWithAxes),__extends$15=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),MiniAreaColumnCombo=function(t){function e(e,n,o){var r=t.call(this,e,"areaColumnComboTooltip")||this;r.columnData=[3,4.5],r.areaData=[[5,4,6,5,4]];var i=r,s=i.root,a=i.columnData,l=i.areaData,c=i.size,u=i.padding;r.columns=createColumnRects({stacked:!1,root:s,data:a,size:c,padding:u,xScaleDomain:[0,1],yScaleDomain:[0,6],xScalePadding:.5});var d=new BandScale$5;d.range=[u,c-u],d.domain=[0,1,2,3,4],d.paddingInner=1,d.paddingOuter=0;var p=new LinearScale$1;p.range=[c-u,u],p.domain=[0,6];var h=[],f=p.convert(0),g=d.convert(0);return l.forEach((function(t,e){var n=h[e]||(h[e]=[]);t.forEach((function(t,e){var o=t,r=e,i=d.convert(r),s=p.convert(o);n[e]={x:i,y:s}}));var o=d.convert(t.length-1);h[e].push({x:o,y:f},{x:g,y:f})})),r.areas=h.map((function(t){var e=new Path;e.strokeWidth=1,e.fillOpacity=.8;var n=e.path;return t.forEach((function(t,e){return n[e>0?"lineTo":"moveTo"](t.x,t.y)})),e})),s.append(r.areas),s.append([].concat.apply([],r.columns)),r.updateColors(n,o),r}return __extends$15(e,t),e.prototype.updateColors=function(t,e){this.areas.forEach((function(n,o){n.fill=t[o],n.stroke=e[o]})),this.columns.forEach((function(n,o){n.fill=t[o+1],n.stroke=e[o+1]}))},e.chartType="areaColumnCombo",e}(MiniChartWithAxes),__extends$14=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),MiniCustomCombo=function(t){function e(e,n,o){var r=t.call(this,e,"customComboTooltip")||this;r.columnData=[3,4],r.lineData=[[5,4,6,5,4]];var i=r,s=i.root,a=i.columnData,l=i.lineData,c=i.size,u=i.padding;r.columns=createColumnRects({stacked:!1,root:s,data:a,size:c,padding:u,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5}),s.append(r.columns),r.lines=createLinePaths(s,l,c,u);var d="grey",p=new Line;p.x1=u,p.y1=u,p.x2=u,p.y2=c-u+3,p.stroke=d;var h=new Line;h.x1=u-3+1,h.y1=c-u,h.x2=c-u+1,h.y2=c-u,h.stroke=d;var f=new Path;return r.buildPenIconPath(f),f.fill="whitesmoke",f.stroke="darkslategrey",f.strokeWidth=1,s.append([h,p,f]),r.updateColors(n,o),r}return __extends$14(e,t),e.prototype.updateColors=function(t,e){this.columns.forEach((function(n,o){n.fill=t[o],n.stroke=e[o]})),this.lines.forEach((function(e,n){e.stroke=t[n+2]}))},e.prototype.buildPenIconPath=function(t){var e=t.path;e.moveTo(25.76,43.46),e.lineTo(31.27,48.53),e.moveTo(49.86,22),e.lineTo(49.86,22),e.cubicCurveTo(49.01994659053345,21.317514933510974,47.89593834348529,21.09645997825817,46.86,21.41),e.lineTo(46.86,21.41),e.cubicCurveTo(45.55460035985361,21.77260167850787,44.38777081121966,22.517979360321792,43.51,23.55),e.lineTo(25.51,43.8),e.lineTo(25.43,43.89),e.lineTo(23.01,51.89),e.lineTo(22.83,52.46),e.lineTo(31.02,48.86),e.lineTo(49.02,28.52),e.lineTo(49.02,28.52),e.cubicCurveTo(49.940716461596224,27.521914221246085,50.54302631059587,26.2720342455763,50.75,24.93),e.lineTo(50.75,24.93),e.cubicCurveTo(50.95363374988308,23.866379846512814,50.62080640232334,22.77066734274871,49.86,22),e.closePath(),e.moveTo(41.76,25.5),e.lineTo(47.34,30.5),e.moveTo(40.74,26.65),e.lineTo(46.25,31.71)},e.chartType="customCombo",e}(MiniChart),__extends$13=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$j=function(){return __assign$j=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$j.apply(this,arguments)},__decorate$S=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},miniChartMapping={columnGroup:{column:MiniColumn,stackedColumn:MiniStackedColumn,normalizedColumn:MiniNormalizedColumn},barGroup:{bar:MiniBar,stackedBar:MiniStackedBar,normalizedBar:MiniNormalizedBar},pieGroup:{pie:MiniPie,doughnut:MiniDoughnut},lineGroup:{line:MiniLine},scatterGroup:{scatter:MiniScatter,bubble:MiniBubble},areaGroup:{area:MiniArea,stackedArea:MiniStackedArea,normalizedArea:MiniNormalizedArea},histogramGroup:{histogram:MiniHistogram},combinationGroup:{columnLineCombo:MiniColumnLineCombo,areaColumnCombo:MiniAreaColumnCombo,customCombo:MiniCustomCombo}},MiniChartsContainer=function(t){function e(n,o,r,i){void 0===i&&(i=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.hhW);var s=t.call(this,e.TEMPLATE)||this;return s.wrappers={},s.chartController=n,s.fills=o,s.strokes=r,s.chartGroups=__assign$j({},i),s}return __extends$13(e,t),e.prototype.init=function(){var t=this;!this.chartController.customComboExists()&&this.chartGroups.combinationGroup&&(this.chartGroups.combinationGroup=this.chartGroups.combinationGroup.filter((function(t){return"customCombo"!==t})));var e=this.getGui();Object.keys(this.chartGroups).forEach((function(n){var o=t.chartGroups[n],r=t.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u({title:t.chartTranslationService.translate(n),suppressEnabledCheckbox:!0,enabled:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-settings",direction:"horizontal"}));o.forEach((function(e){var o,i=null===(o=miniChartMapping[n])||void 0===o?void 0:o[e];if(i){var s=document.createElement("div");s.classList.add("ag-chart-mini-thumbnail");var a=i.chartType;t.addManagedListener(s,"click",(function(){t.chartController.setChartType(a),t.updateSelectedMiniChart()})),t.wrappers[a]=s,t.createBean(new i(s,t.fills,t.strokes)),r.addItem(s)}else miniChartMapping[n]?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid - invalid chartGroupsDef config '"+n+"."+e+"'")}),"invalid_chartGroupsDef"+e+"_"+n):ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid - invalid chartGroupsDef config '"+n+"'")}),"invalid_chartGroupsDef"+n)})),e.appendChild(r.getGui())})),this.updateSelectedMiniChart()},e.prototype.updateSelectedMiniChart=function(){var t=this.chartController.getChartType();for(var e in this.wrappers){var n=e===t;this.wrappers[e].classList.toggle("ag-selected",n)}},e.TEMPLATE='<div class="ag-chart-settings-mini-wrapper"></div>',__decorate$S([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$S([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$12=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$R=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ChartSettingsPanel=function(t){function e(n){var o=t.call(this,e.TEMPLATE)||this;return o.miniChartsContainers=[],o.cardItems=[],o.activePaletteIndex=0,o.palettes=[],o.themes=[],o.chartController=n,o}return __extends$12(e,t),e.prototype.postConstruct=function(){var t=this;this.resetPalettes(),this.ePrevBtn.insertAdjacentElement("afterbegin",ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("previous",this.gridOptionsService)),this.eNextBtn.insertAdjacentElement("afterbegin",ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("next",this.gridOptionsService)),this.addManagedListener(this.ePrevBtn,"click",(function(){return t.setActivePalette(t.getPrev(),"left")})),this.addManagedListener(this.eNextBtn,"click",(function(){return t.setActivePalette(t.getNext(),"right")})),this.addManagedListener(this.chartController,ChartController.EVENT_CHART_TYPE_CHANGED,(function(){return t.resetPalettes(!0)})),this.scrollSelectedIntoView()},e.prototype.scrollSelectedIntoView=function(){var t=this;setTimeout((function(){var e=t.miniChartsContainers.find((function(t){return!t.getGui().classList.contains("ag-hidden")})).getGui().querySelector(".ag-selected");if(e){var n=e.offsetParent;n&&t.eMiniChartsContainer.scrollTo(0,n.offsetTop)}}),250)},e.prototype.resetPalettes=function(t){var e,n,o=this,r=this.chartController.getPalettes(),i=null===(n=null===(e=this.gridOptionsService.get("chartToolPanelsDef"))||void 0===e?void 0:e.settingsPanel)||void 0===n?void 0:n.chartGroupsDef;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.shallowCompare(r,this.palettes)&&!t||this.isAnimating||(this.palettes=r,this.themes=this.chartController.getThemes(),this.activePaletteIndex=this.themes.findIndex((function(t){return t===o.chartController.getChartThemeName()})),this.cardItems=[],ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.eCardSelector),this.destroyMiniCharts(),this.palettes.forEach((function(t,e){var n=o.activePaletteIndex===e,r=t.fills,s=t.strokes,a=o.createBean(new MiniChartsContainer(o.chartController,r,s,i));o.miniChartsContainers.push(a),o.eMiniChartsContainer.appendChild(a.getGui()),o.addCardLink(e),n?a.updateSelectedMiniChart():a.setDisplayed(!1)})),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eNavBar,this.palettes.length>1),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.radioCssClass(this.cardItems[this.activePaletteIndex],"ag-selected","ag-not-selected"))},e.prototype.addCardLink=function(t){var e=this,n=document.createElement("div");n.classList.add("ag-chart-settings-card-item"),this.addManagedListener(n,"click",(function(){e.setActivePalette(t,t<e.activePaletteIndex?"left":"right")})),this.eCardSelector.appendChild(n),this.cardItems.push(n)},e.prototype.getPrev=function(){var t=this.activePaletteIndex-1;return t<0&&(t=this.palettes.length-1),t},e.prototype.getNext=function(){var t=this.activePaletteIndex+1;return t>=this.palettes.length&&(t=0),t},e.prototype.setActivePalette=function(t,e){var n=this;if(!this.isAnimating&&this.activePaletteIndex!==t){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.radioCssClass(this.cardItems[t],"ag-selected","ag-not-selected");var o=this.miniChartsContainers[this.activePaletteIndex],r=o.getGui(),i=this.miniChartsContainers[t],s=i.getGui();o.updateSelectedMiniChart(),i.updateSelectedMiniChart();var a="left"===e?-1:1,l=s.style.left=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.getAbsoluteWidth(this.getGui())*a+"px";this.activePaletteIndex=t,this.isAnimating=!0;var c="ag-animating";i.setDisplayed(!0),o.addCssClass(c),i.addCssClass(c),this.chartController.setChartThemeName(this.themes[t]),window.setTimeout((function(){r.style.left=-parseFloat(l)+"px",s.style.left="0px"}),0),window.setTimeout((function(){n.isAnimating=!1,o.removeCssClass(c),i.removeCssClass(c),o.setDisplayed(!1)}),300)}},e.prototype.destroyMiniCharts=function(){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.eMiniChartsContainer),this.miniChartsContainers=this.destroyBeans(this.miniChartsContainers)},e.prototype.destroy=function(){this.destroyMiniCharts(),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-chart-settings-wrapper">\n            <div ref="eMiniChartsContainer" class="ag-chart-settings-mini-charts-container ag-scrollable-container"></div>\n            <div ref="eNavBar" class="ag-chart-settings-nav-bar">\n                <div ref="ePrevBtn" class="ag-chart-settings-prev">\n                    <button type="button" class="ag-chart-settings-prev-button"></button>\n                </div>\n                <div ref="eCardSelector" class="ag-chart-settings-card-selector"></div>\n                <div ref="eNextBtn" class="ag-chart-settings-next">\n                    <button type="button" class="ag-chart-settings-next-button"></button>\n                </div>\n            </div>\n        </div>',__decorate$R([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("resizeObserverService")],e.prototype,"resizeObserverService",void 0),__decorate$R([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eMiniChartsContainer")],e.prototype,"eMiniChartsContainer",void 0),__decorate$R([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eNavBar")],e.prototype,"eNavBar",void 0),__decorate$R([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eCardSelector")],e.prototype,"eCardSelector",void 0),__decorate$R([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("ePrevBtn")],e.prototype,"ePrevBtn",void 0),__decorate$R([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eNextBtn")],e.prototype,"eNextBtn",void 0),__decorate$R([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$11=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$Q=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},TabbedChartMenu=function(t){function e(e){var n=t.call(this)||this;n.tabs=[];var o=e.controller,r=e.panels,i=e.chartOptionsService;return n.chartController=o,n.chartOptionsService=i,n.panels=r,n}return __extends$11(e,t),e.prototype.init=function(){var t=this;this.panels.forEach((function(e){var n=e.replace("chart","").toLowerCase(),o=t.createTab(e,n,t.getPanelClass(n)),r=o.comp,i=o.tab;t.tabs.push(i),t.addDestroyFunc((function(){return t.destroyBean(r)}))})),this.tabbedLayout=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.WD6({items:this.tabs,cssClass:"ag-chart-tabbed-menu",keepScrollPosition:!0}),this.getContext().createBean(this.tabbedLayout)},e.prototype.createTab=function(t,e,n){var o=document.createElement("div");o.classList.add("ag-chart-tab","ag-chart-"+e);var r=new n(this.chartController,this.chartOptionsService);this.getContext().createBean(r),o.appendChild(r.getGui());var i=document.createElement("div"),s=this.chartTranslationService.translate(e);return i.innerText=s,{comp:r,tab:{title:i,titleLabel:s,bodyPromise:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve(o),getScrollableContainer:function(){return o.querySelector(".ag-scrollable-container")||o},name:t}}},e.prototype.showTab=function(t){var e=this.tabs[t];this.tabbedLayout.showItem(e)},e.prototype.getGui=function(){return this.tabbedLayout&&this.tabbedLayout.getGui()},e.prototype.destroy=function(){this.parentComponent&&this.parentComponent.isAlive()&&this.destroyBean(this.parentComponent),t.prototype.destroy.call(this)},e.prototype.getPanelClass=function(t){switch(t){case e.TAB_DATA:return ChartDataPanel;case e.TAB_FORMAT:return FormatPanel;default:return ChartSettingsPanel}},e.TAB_DATA="data",e.TAB_FORMAT="format",__decorate$Q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$Q([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$10=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$P=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__read$f=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$8=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$f(arguments[e]));return t},ChartMenu=function(t){function e(n,o,r,i){var s=t.call(this,e.TEMPLATE)||this;return s.eChartContainer=n,s.eMenuPanelContainer=o,s.chartController=r,s.chartOptionsService=i,s.buttons={chartSettings:["menu",function(){return s.showMenu(s.defaultPanel)}],chartData:["menu",function(){return s.showMenu("chartData")}],chartFormat:["menu",function(){return s.showMenu("chartFormat")}],chartLink:["linked",function(t){return s.toggleDetached(t)}],chartUnlink:["unlinked",function(t){return s.toggleDetached(t)}],chartDownload:["save",function(){return s.saveChart()}]},s.panels=[],s.menuVisible=!1,s}return __extends$10(e,t),e.prototype.postConstruct=function(){var t=this;this.createButtons(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_CREATED,(function(e){var n;e.chartId===t.chartController.getChartId()&&(Boolean(null===(n=t.gridOptionsService.get("chartToolPanelsDef"))||void 0===n?void 0:n.defaultToolPanel)&&t.showMenu(t.defaultPanel,!1))})),this.refreshMenuClasses(),!this.gridOptionsService.is("suppressChartToolPanelsButton")&&this.panels.length>0&&(this.getGui().classList.add("ag-chart-tool-panel-button-enable"),this.addManagedListener(this.eHideButton,"click",this.toggleMenu.bind(this)))},e.prototype.isVisible=function(){return this.menuVisible},e.prototype.getExtraPaddingDirections=function(){var t=this,e=[];return["chartLink","chartUnlink","chartDownload"].some((function(e){return t.chartToolbarOptions.includes(e)}))&&e.push("top"),["chartSettings","chartData","chartFormat"].some((function(e){return t.chartToolbarOptions.includes(e)}))&&e.push(this.gridOptionsService.is("enableRtl")?"left":"right"),e},e.prototype.getToolbarOptions=function(){var t,e,n,o=this;if(Boolean(this.gridOptionsService.get("chartToolPanelsDef"))){var r=[this.chartController.isChartLinked()?"chartLink":"chartUnlink","chartDownload"],i={defaultItems:r},s=(c=this.gridOptionsService.getCallback("getChartToolbarItems"))?c(i).filter((function(t){if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.WU2.includes(t)){var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sO1.includes(t)?"AG Grid: '"+t+"' is a Chart Tool Panel option and will be ignored since 'chartToolPanelsDef' is used. Please use 'chartToolPanelsDef.panels' grid option instead":"AG Grid: '"+t+"' is not a valid Chart Toolbar Option";return console.warn(e),!1}return!0})):r,a=null===(e=null===(t=this.gridOptionsService.get("chartToolPanelsDef"))||void 0===t?void 0:t.panels)||void 0===e?void 0:e.map((function(t){var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.d2Z[t];return e||console.warn("AG Grid - invalid panel in chartToolPanelsDef.panels: '"+t+"'"),e})).filter((function(t){return Boolean(t)}));this.panels=a||Object.values(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.d2Z),this.chartController.isPivotChart()&&(this.panels=this.panels.filter((function(t){return"chartData"!==t})));var l=null===(n=this.gridOptionsService.get("chartToolPanelsDef"))||void 0===n?void 0:n.defaultToolPanel;return this.defaultPanel=l&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.d2Z[l]||this.panels[0],this.panels.length>0?__spread$8([this.panels[0]],s):s}var c,u=["chartSettings","chartData","chartFormat",this.chartController.isChartLinked()?"chartLink":"chartUnlink","chartDownload"];if(c=this.gridOptionsService.getCallback("getChartToolbarItems")){var d=this.gridOptionsService.is("suppressChartToolPanelsButton");u=c(i={defaultItems:d?u:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.WU2}).filter((function(t){if(!o.buttons[t])return console.warn("AG Grid: '"+t+"' is not a valid Chart Toolbar Option"),!1;if(!d&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sO1.includes(t)){var e="AG Grid: '"+t+"' is a Chart Tool Panel option and will be ignored. Please use 'chartToolPanelsDef.panels' grid option instead";return console.warn(e),!1}return!0})),d||(u=u.concat(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sO1))}this.chartController.isPivotChart()&&(u=u.filter((function(t){return"chartData"!==t})));var p=["chartUnlink","chartLink","chartDownload"];return this.panels=u.filter((function(t){return-1===p.indexOf(t)})),this.defaultPanel=this.panels[0],u.filter((function(t){return-1!==p.indexOf(t)||o.panels.length&&t===o.panels[0]}))},e.prototype.toggleDetached=function(t){var e=t.target,n=e.classList.contains("ag-icon-linked");e.classList.toggle("ag-icon-linked",!n),e.classList.toggle("ag-icon-unlinked",n);var o=n?"chartUnlinkToolbarTooltip":"chartLinkToolbarTooltip",r=this.chartTranslationService.translate(o);r&&(e.title=r),this.chartController.detachChartRange()},e.prototype.createButtons=function(){var t=this;this.chartToolbarOptions=this.getToolbarOptions();var e=this.eMenu;this.chartToolbarOptions.forEach((function(n){var o=t.buttons[n],r=__read$f(o,2),i=r[0],s=r[1],a=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan(i,t.gridOptionsService,void 0,!0);a.classList.add("ag-chart-menu-icon");var l=t.chartTranslationService.translate(n+"ToolbarTooltip");l&&a instanceof HTMLElement&&(a.title=l),t.addManagedListener(a,"click",s),e.appendChild(a)}))},e.prototype.saveChart=function(){var t={type:e.EVENT_DOWNLOAD_CHART};this.dispatchEvent(t)},e.prototype.createMenuPanel=function(t){var e=this,n=this.environment.chartMenuPanelWidth(),o=this.menuPanel=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wSp({minWidth:n,width:n,height:"100%",closable:!0,hideTitleBar:!0,cssIdentifier:"chart-menu"}));return o.setParentComponent(this),this.eMenuPanelContainer.appendChild(o.getGui()),this.tabbedMenu=this.createBean(new TabbedChartMenu({controller:this.chartController,type:this.chartController.getChartType(),panels:this.panels,chartOptionsService:this.chartOptionsService})),this.addManagedListener(o,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2.EVENT_DESTROYED,(function(){return e.destroyBean(e.tabbedMenu)})),new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S((function(n){window.setTimeout((function(){o.setBodyComponent(e.tabbedMenu),e.tabbedMenu.showTab(t),n(o),e.addManagedListener(e.eChartContainer,"click",(function(t){e.getGui().contains(t.target)||e.menuVisible&&e.hideMenu()}))}),100)}))},e.prototype.showContainer=function(){this.menuPanel&&(this.menuVisible=!0,this.showParent(this.menuPanel.getWidth()),this.refreshMenuClasses())},e.prototype.toggleMenu=function(){this.menuVisible?this.hideMenu():this.showMenu()},e.prototype.showMenu=function(t,e){var n=this;if(void 0===e&&(e=!0),e||this.eMenuPanelContainer.classList.add("ag-no-transition"),this.menuPanel&&!t)this.showContainer();else{var o=t||this.defaultPanel,r=this.panels.indexOf(o);r<0&&(console.warn("AG Grid: '"+t+"' is not a valid Chart Tool Panel name"),r=this.panels.indexOf(this.defaultPanel)),this.menuPanel?(this.tabbedMenu.showTab(r),this.showContainer()):this.createMenuPanel(r).then(this.showContainer.bind(this))}e||setTimeout((function(){n.isAlive()&&n.eMenuPanelContainer.classList.remove("ag-no-transition")}),500)},e.prototype.hideMenu=function(){var t=this;this.hideParent(),window.setTimeout((function(){t.menuVisible=!1,t.refreshMenuClasses()}),500)},e.prototype.refreshMenuClasses=function(){this.eChartContainer.classList.toggle("ag-chart-menu-visible",this.menuVisible),this.eChartContainer.classList.toggle("ag-chart-menu-hidden",!this.menuVisible),this.gridOptionsService.is("suppressChartToolPanelsButton")||(this.eHideButtonIcon.classList.toggle("ag-icon-contracted",this.menuVisible),this.eHideButtonIcon.classList.toggle("ag-icon-expanded",!this.menuVisible))},e.prototype.showParent=function(t){this.eMenuPanelContainer.style.minWidth=t+"px"},e.prototype.hideParent=function(){this.eMenuPanelContainer.style.minWidth="0"},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.menuPanel&&this.menuPanel.isAlive()&&this.destroyBean(this.menuPanel),this.tabbedMenu&&this.tabbedMenu.isAlive()&&this.destroyBean(this.tabbedMenu)},e.EVENT_DOWNLOAD_CHART="downloadChart",e.TEMPLATE='<div>\n        <div class="ag-chart-menu" ref="eMenu"></div>\n        <button class="ag-chart-menu-close" ref="eHideButton">\n            <span class="ag-icon ag-icon-contracted" ref="eHideButtonIcon"></span>\n        </button>\n    </div>',__decorate$P([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$P([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eMenu")],e.prototype,"eMenu",void 0),__decorate$P([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eHideButton")],e.prototype,"eHideButton",void 0),__decorate$P([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eHideButtonIcon")],e.prototype,"eHideButtonIcon",void 0),__decorate$P([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$$=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$i=function(){return __assign$i=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$i.apply(this,arguments)},__decorate$O=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__values$6=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},TitleEdit=function(t){function e(n){var o=t.call(this,e.TEMPLATE)||this;return o.chartMenu=n,o.destroyableChartListeners=[],o.editing=!1,o}return __extends$$(e,t),e.prototype.init=function(){var t=this;this.addManagedListener(this.getGui(),"keypress",(function(e){t.editing&&"Enter"===e.key&&!e.shiftKey&&(t.handleEndEditing(),e.preventDefault())})),this.addManagedListener(this.getGui(),"input",(function(){t.editing&&t.updateHeight()})),this.addManagedListener(this.getGui(),"blur",(function(){return t.endEditing()}))},e.prototype.refreshTitle=function(t,e){var n,o,r=this;this.chartController=t,this.chartOptionsService=e;try{for(var i=__values$6(this.destroyableChartListeners),s=i.next();!s.done;s=i.next()){(0,s.value)()}}catch(t){n={error:t}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}this.destroyableChartListeners=[];var a=this.chartController.getChartProxy().getChart(),l=a.scene.canvas.element,c=this.addManagedListener(l,"dblclick",(function(t){var e=a.title;if(e&&e.node.containsPoint(t.offsetX,t.offsetY)){var n=e.node.computeBBox(),o=e.node.inverseTransformPoint(n.x,n.y);r.startEditing(__assign$i(__assign$i({},n),o),l.width)}})),u=!1,d=this.addManagedListener(l,"mousemove",(function(t){var e=a.title,n=!!(e&&e.enabled&&e.node.containsPoint(t.offsetX,t.offsetY));u!==n&&(l.style.cursor=n?"pointer":""),u=n}));this.destroyableChartListeners=[c,d]},e.prototype.startEditing=function(t,e){if(!(this.chartMenu&&this.chartMenu.isVisible()||this.editing)){this.editing=!0;var n=Math.max(Math.min(t.width+20,e),300),o=this.getGui();o.classList.add("currently-editing");var r=o.style;r.fontFamily=this.chartOptionsService.getChartOption("title.fontFamily"),r.fontWeight=this.chartOptionsService.getChartOption("title.fontWeight"),r.fontStyle=this.chartOptionsService.getChartOption("title.fontStyle"),r.fontSize=this.chartOptionsService.getChartOption("title.fontSize")+"px",r.color=this.chartOptionsService.getChartOption("title.color");var i=this.chartOptionsService.getChartOption("title.text"),s=i===this.chartTranslationService.translate("titlePlaceholder");o.value=s?"":i;var a=i.split(/\r?\n/g).length;r.left=Math.round(t.x+t.width/2-n/2-1)+"px",r.top=Math.round(t.y+t.height/2-a*this.getLineHeight()/2-2)+"px",r.width=Math.round(n)+"px",r.lineHeight=this.getLineHeight()+"px",this.updateHeight(),o.focus()}},e.prototype.updateHeight=function(){var t=this.getGui(),e=this.chartOptionsService.getChartOption("title.text").split(/\r?\n/g).length,n=t.value.split(/\r?\n/g).length;t.style.height=Math.round(Math.max(e,n)*this.getLineHeight())+4+"px"},e.prototype.getLineHeight=function(){var t=this.chartOptionsService.getChartOption("title.lineHeight");return t?parseInt(t):Math.round(1.2*parseInt(this.chartOptionsService.getChartOption("title.fontSize")))},e.prototype.handleEndEditing=function(){var t=this,e=this.chartOptionsService.getChartOption("title.color");this.chartOptionsService.setChartOption("title.color","rgba(0, 0, 0, 0)"),this.chartOptionsService.awaitChartOptionUpdate((function(){return t.endEditing()})),this.chartOptionsService.awaitChartOptionUpdate((function(){t.chartOptionsService.setChartOption("title.color",e)}))},e.prototype.endEditing=function(){var t=this;if(this.editing){this.editing=!1;var e=this.getGui().value;e&&""!==e.trim()?(this.chartOptionsService.setChartOption("title.text",e),this.chartOptionsService.setChartOption("title.enabled",!0)):(this.chartOptionsService.setChartOption("title.text",""),this.chartOptionsService.setChartOption("title.enabled",!1)),this.getGui().classList.remove("currently-editing"),this.chartOptionsService.awaitChartOptionUpdate((function(){t.eventService.dispatchEvent({type:"chartTitleEdit"})}))}},e.TEMPLATE='<textarea\n             class="ag-chart-title-edit"\n             style="padding:0; border:none; border-radius: 0; min-height: 0; text-align: center; resize: none;" />\n        ',__decorate$O([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$O([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2);function deproxy(t){return null!=t.chart?t.chart:t}var __assign$h=function(){return __assign$h=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$h.apply(this,arguments)},ChartProxy=function(){function t(t){this.chartProxyParams=t,this.clearThemeOverrides=!1,this.chart=t.chartInstance,this.chartType=t.chartType,this.crossFiltering=t.crossFiltering,this.crossFilterCallback=t.crossFilterCallback,this.standaloneChartType=getSeriesType(this.chartType),null==this.chart?this.chart=AgChart.create(this.getCommonChartOptions()):this.clearThemeOverrides=!0}return t.prototype.getChart=function(){return deproxy(this.chart)},t.prototype.getChartRef=function(){return this.chart},t.prototype.downloadChart=function(t,e,n){var o=this.chart,r=deproxy(o),i=e||(r.title?r.title.text:"chart"),s=t||{},a=s.width,l=s.height;AgChart.download(o,{width:a,height:l,fileName:i,fileFormat:n})},t.prototype.getChartImageDataURL=function(t){return this.getChart().scene.getDataURL(t)},t.prototype.getChartOptions=function(){return this.chart.getOptions()},t.prototype.getChartThemeOverrides=function(){var t;return null!==(t=this.getChartOptions().theme.overrides)&&void 0!==t?t:{}},t.prototype.getChartPalette=function(){return getChartTheme(this.getChartOptions().theme).palette},t.prototype.setPaired=function(t){var e,n=getSeriesType(this.chartProxyParams.chartType);AgChart.updateDelta(this.chart,{theme:{overrides:(e={},e[n]={paired:t},e)}})},t.prototype.isPaired=function(){var t=getSeriesType(this.chartProxyParams.chartType);return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(this.getChartThemeOverrides(),t+".paired",!0)},t.prototype.lookupCustomChartTheme=function(t){return lookupCustomChartTheme(this.chartProxyParams,t)},t.prototype.transformData=function(t,e,n){return n?t.map((function(t,n){var o=t[e],r=o&&o.toString?o.toString():"",i=__assign$h({},t);return i[e]={id:n,value:o,toString:function(){return r}},i})):t},t.prototype.getCommonChartOptions=function(){var t,e,n=this.clearThemeOverrides?{}:null!==(e=null===(t=this.chart)||void 0===t?void 0:t.getOptions())&&void 0!==e?e:{},o=null!=this.chart?{overrides:this.getActiveFormattingPanelOverrides()}:{};return this.clearThemeOverrides=!1,__assign$h(__assign$h({},n),{theme:__assign$h(__assign$h({},createAgChartTheme(this.chartProxyParams,this)),o),container:this.chartProxyParams.parentElement,mode:"integrated"})},t.prototype.getActiveFormattingPanelOverrides=function(){var t,e;if(this.clearThemeOverrides)return{};var n=null===(t=this.chart)||void 0===t?void 0:t.getOptions().theme;return null!==(e=null==n?void 0:n.overrides)&&void 0!==e?e:{}},t.prototype.destroy=function(t){var e=(void 0===t?{}:t).keepChartInstance;if(void 0!==e&&e)return this.chart;this.destroyChart()},t.prototype.destroyChart=function(){this.chart&&(this.chart.destroy(),this.chart=void 0)},t}(),__extends$_=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$g=function(){return __assign$g=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$g.apply(this,arguments)},CartesianChartProxy=function(t){function e(e){var n=t.call(this,e)||this;return n.crossFilteringAllPoints=new Set,n.crossFilteringSelectedPoints=[],n}return __extends$_(e,t),e.prototype.update=function(t){var e=this.getAxes(t),n=__assign$g(__assign$g({},this.getCommonChartOptions()),{data:this.getData(t,e),axes:e,series:this.getSeries(t)});AgChart.update(this.getChartRef(),n)},e.prototype.getData=function(t,e){var n,o=["area","line"].includes(this.standaloneChartType),r="bar"===this.standaloneChartType?"left":"bottom",i="category"===(null===(n=e.find((function(t){return t.position===r})))||void 0===n?void 0:n.type);return this.crossFiltering&&o?this.getCrossFilterData(t):this.getDataTransformedData(t,i)},e.prototype.getDataTransformedData=function(t,e){return this.transformData(t.data,t.category.id,e)},e.prototype.getXAxisType=function(t){return t.grouping?"groupedCategory":e.isTimeAxis(t)?"time":"category"},e.isTimeAxis=function(t){if(t.category&&t.category.chartDataType)return"time"===t.category.chartDataType;var e=t.data[0];return(e&&e[t.category.id])instanceof Date},e.prototype.crossFilteringReset=function(){this.crossFilteringSelectedPoints=[],this.crossFilteringAllPoints.clear()},e.prototype.crossFilteringPointSelected=function(t){return 0==this.crossFilteringSelectedPoints.length||this.crossFilteringSelectedPoints.includes(t)},e.prototype.crossFilteringDeselectedPoints=function(){return this.crossFilteringSelectedPoints.length>0&&this.crossFilteringAllPoints.size!==this.crossFilteringSelectedPoints.length},e.prototype.extractLineAreaCrossFilterSeries=function(t,e){var n=this;return t.map((function(t){var o;return t.yKey=(o=t.yKey,"area"===n.standaloneChartType?e.getCrossFilteringContext().lastSelectedChartId===e.chartId?o+"-total":o:o+"-total"),t.listeners={nodeClick:function(e){var o=e.datum[t.xKey],r=e.event.metaKey||e.event.ctrlKey;n.crossFilteringAddSelectedPoint(r,o),n.crossFilterCallback(e)}},t.marker={formatter:function(t){var o=t.datum[e.category.id];return{fill:t.highlighted?"yellow":t.fill,size:t.highlighted?14:n.crossFilteringPointSelected(o)?8:0}}},"area"===n.standaloneChartType&&(t.fillOpacity=n.crossFilteringDeselectedPoints()?.3:1),"line"===n.standaloneChartType&&(t.strokeOpacity=n.crossFilteringDeselectedPoints()?.3:1),t}))},e.prototype.getCrossFilterData=function(t){var e=this;this.crossFilteringAllPoints.clear();var n=t.fields[0].colId,o=n+"-filtered-out",r=t.getCrossFilteringContext().lastSelectedChartId;return t.data.map((function(i){var s=i[t.category.id];e.crossFilteringAllPoints.add(s);var a=e.crossFilteringPointSelected(s);return"area"===e.standaloneChartType&&r===t.chartId&&(i[n+"-total"]=a?i[n]:i[n]+i[o]),"line"===e.standaloneChartType&&(i[n+"-total"]=a?i[n]:i[n]+i[o]),i}))},e.prototype.crossFilteringAddSelectedPoint=function(t,e){t?this.crossFilteringSelectedPoints.push(e):this.crossFilteringSelectedPoints=[e]},e}(ChartProxy);function emptyTarget(t){return Array.isArray(t)?[]:{}}function cloneUnlessOtherwiseSpecified(t,e){return!1!==e.clone&&e.isMergeableObject(t)?deepMerge(emptyTarget(t),t,e):t}function defaultArrayMerge(t,e,n){return t.concat(e).map((function(t){return cloneUnlessOtherwiseSpecified(t,n)}))}function getMergeFunction(t,e){if(!e.customMerge)return deepMerge;var n=e.customMerge(t);return"function"==typeof n?n:deepMerge}function getEnumerableOwnPropertySymbols(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return t.propertyIsEnumerable(e)})):[]}function getKeys(t){return Object.keys(t).concat(getEnumerableOwnPropertySymbols(t))}function propertyIsOnObject(t,e){try{return e in t}catch(t){return!1}}function propertyIsUnsafe(t,e){return propertyIsOnObject(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function mergeObject(t,e,n){void 0===t&&(t={}),void 0===e&&(e={});var o={};return n.isMergeableObject(t)&&getKeys(t).forEach((function(e){o[e]=cloneUnlessOtherwiseSpecified(t[e],n)})),getKeys(e).forEach((function(r){propertyIsUnsafe(t,r)||(propertyIsOnObject(t,r)&&n.isMergeableObject(e[r])?o[r]=getMergeFunction(r,n)(t[r],e[r],n):o[r]=cloneUnlessOtherwiseSpecified(e[r],n))})),o}function defaultIsMergeableObject(t){return isNonNullObject(t)&&!isSpecial(t)}function isNonNullObject(t){return!!t&&"object"==typeof t}function isSpecial(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e}function deepMerge(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||defaultArrayMerge,n.isMergeableObject=n.isMergeableObject||defaultIsMergeableObject,n.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var o=Array.isArray(e);return o===Array.isArray(t)?o?n.arrayMerge(t,e,n):mergeObject(t,e,n):cloneUnlessOtherwiseSpecified(e,n)}function hexToRGBA(t,e){var n=parseInt(t.slice(1,3),16),o=parseInt(t.slice(3,5),16),r=parseInt(t.slice(5,7),16);return e?"rgba("+n+", "+o+", "+r+", "+e+")":"rgba("+n+", "+o+", "+r+")"}function changeOpacity(t,e){return t.map((function(t){var n=Color.fromString(t);return new Color(n.r,n.g,n.b,e).toHexString()}))}var __extends$Z=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$f=function(){return __assign$f=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$f.apply(this,arguments)},BarChartProxy=function(t){function e(e){return t.call(this,e)||this}return __extends$Z(e,t),e.prototype.getAxes=function(t){var e="bar"===this.standaloneChartType,n=[{type:this.getXAxisType(t),position:e?"left":"bottom"},{type:"number",position:e?"bottom":"left"}];if(this.isNormalised()){var o=n[1];o.label=__assign$f(__assign$f({},o.label),{formatter:function(t){return Math.round(t.value)+"%"}})}return n},e.prototype.getSeries=function(t){var e=this,n=!this.crossFiltering&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["groupedColumn","groupedBar"],this.chartType),o=t.fields.map((function(o){return{type:e.standaloneChartType,grouped:n,normalizedTo:e.isNormalised()?100:void 0,xKey:t.category.id,xName:t.category.name,yKey:o.colId,yName:o.displayName}}));return this.crossFiltering?this.extractCrossFilterSeries(o):o},e.prototype.extractCrossFilterSeries=function(t){for(var e,n,o=this,r=this.getChartPalette(),i=function(t){var e=t.yKey+"-filtered-out";return __assign$f(__assign$f({},deepMerge({},t)),{yKey:e,fill:hexToRGBA(t.fill,"0.3"),stroke:hexToRGBA(t.stroke,"0.3"),hideInLegend:[e]})},s=[],a=0;a<t.length;a++){var l=(e=t[a],n=a,__assign$f(__assign$f({},e),{highlightStyle:{item:{fill:void 0}},fill:null==r?void 0:r.fills[n],stroke:null==r?void 0:r.strokes[n],listeners:{nodeClick:o.crossFilterCallback}}));s.push(l),s.push(i(l))}return s},e.prototype.isNormalised=function(){return!this.crossFiltering&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["normalizedColumn","normalizedBar"],this.chartType)},e}(CartesianChartProxy),__extends$Y=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$e=function(){return __assign$e=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$e.apply(this,arguments)},AreaChartProxy=function(t){function e(e){return t.call(this,e)||this}return __extends$Y(e,t),e.prototype.getAxes=function(t){var e=[{type:this.getXAxisType(t),position:"bottom"},{type:"number",position:"left"}];if(this.isNormalised()){var n=e[1];n.label=__assign$e(__assign$e({},n.label),{formatter:function(t){return Math.round(t.value)+"%"}})}return e},e.prototype.getSeries=function(t){var e=this,n=t.fields.map((function(n){return{type:e.standaloneChartType,xKey:t.category.id,xName:t.category.name,yKey:n.colId,yName:n.displayName,normalizedTo:"normalizedArea"===e.chartType?100:void 0,stacked:["normalizedArea","stackedArea"].includes(e.chartType)}}));return this.crossFiltering?this.extractLineAreaCrossFilterSeries(n,t):n},e.prototype.isNormalised=function(){return!this.crossFiltering&&"normalizedArea"===this.chartType},e}(CartesianChartProxy),__extends$X=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),LineChartProxy=function(t){function e(e){return t.call(this,e)||this}return __extends$X(e,t),e.prototype.getAxes=function(t){return[{type:this.getXAxisType(t),position:"bottom"},{type:"number",position:"left"}]},e.prototype.getSeries=function(t){var e=this,n=t.fields.map((function(n){return{type:e.standaloneChartType,xKey:t.category.id,xName:t.category.name,yKey:n.colId,yName:n.displayName}}));return this.crossFiltering?this.extractLineAreaCrossFilterSeries(n,t):n},e}(CartesianChartProxy),__extends$W=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$d=function(){return __assign$d=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$d.apply(this,arguments)},PieChartProxy=function(t){function e(e){return t.call(this,e)||this}return __extends$W(e,t),e.prototype.update=function(t){var e=t.data,n=t.category,o=__assign$d(__assign$d({},this.getCommonChartOptions()),{data:this.crossFiltering?this.getCrossFilterData(t):this.transformData(e,n.id),series:this.getSeries(t)});AgChart.update(this.getChartRef(),o)},e.prototype.getSeries=function(t){var n=this,o=t.fields.length,r={currentOffset:0,offsetAmount:o>1?20:40},i=this.getFields(t).map((function(i){var s,a={type:n.standaloneChartType,angleKey:i.colId,angleName:i.displayName,sectorLabelKey:i.colId,calloutLabelKey:t.category.id,calloutLabelName:t.category.name};if("doughnut"===n.chartType){var l=e.calculateOffsets(r),c=l.outerRadiusOffset,u=l.innerRadiusOffset,d=i.displayName?{title:{text:i.displayName,showInLegend:o>1}}:void 0;return __assign$d(__assign$d(__assign$d(__assign$d({},a),{outerRadiusOffset:c,innerRadiusOffset:u}),d),{calloutLine:{colors:null===(s=n.getChartPalette())||void 0===s?void 0:s.strokes}})}return a}));return this.crossFiltering?this.extractCrossFilterSeries(i):i},e.prototype.getCrossFilterData=function(t){var e=t.fields[0].colId,n=e+"-filtered-out";return t.data.map((function(t){var o=t[e]+t[n];return t[e+"-total"]=o,t[n]=1,t[e]=t[e]/o,t}))},e.prototype.extractCrossFilterSeries=function(t){var e,n=this,o=this.getChartPalette(),r=t[0],i=r.angleKey,s=__assign$d(__assign$d({},e=r),{calloutLabel:{enabled:!1},highlightStyle:{item:{fill:void 0}},radiusKey:e.angleKey,angleKey:e.angleKey+"-total",radiusMin:0,radiusMax:1,listeners:{nodeClick:n.crossFilterCallback}});return[function(t,e){var n,r;return __assign$d(__assign$d({},deepMerge({},s)),{radiusKey:e+"-filtered-out",fills:changeOpacity(null!==(n=t.fills)&&void 0!==n?n:o.fills,.3),strokes:changeOpacity(null!==(r=t.strokes)&&void 0!==r?r:o.strokes,.3),showInLegend:!1})}(r,i),s]},e.calculateOffsets=function(t){var e=t.currentOffset;t.currentOffset-=t.offsetAmount;var n=t.currentOffset;return t.currentOffset-=t.offsetAmount,{outerRadiusOffset:e,innerRadiusOffset:n}},e.prototype.getFields=function(t){return"pie"===this.chartType?t.fields.slice(0,1):t.fields},e.prototype.crossFilteringReset=function(){},e}(ChartProxy),__extends$V=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$c=function(){return __assign$c=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$c.apply(this,arguments)},__values$5=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$e=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$7=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$e(arguments[e]));return t},ScatterChartProxy=function(t){function e(e){return t.call(this,e)||this}return __extends$V(e,t),e.prototype.getAxes=function(t){return[{type:"number",position:"bottom"},{type:"number",position:"left"}]},e.prototype.getSeries=function(t){var e=this,n=this.isPaired(),o=this.getSeriesDefinitions(t.fields,n),r=t.category.id===ChartDataModel.DEFAULT_CATEGORY?void 0:t.category,i=o.map((function(t){return{type:e.standaloneChartType,xKey:t.xField.colId,xName:t.xField.displayName,yKey:t.yField.colId,yName:t.yField.displayName,title:t.yField.displayName+" vs "+t.xField.displayName,sizeKey:t.sizeField?t.sizeField.colId:void 0,sizeName:t.sizeField?t.sizeField.displayName:void 0,labelKey:r?r.id:t.yField.colId,labelName:r?r.name:void 0}}));return this.crossFiltering?this.extractCrossFilterSeries(i,t):i},e.prototype.extractCrossFilterSeries=function(t,e){var n=this,o=e.data,r=this.getChartPalette(),i=function(t){return t+"-filtered-out"},s=t.map((function(t,e){var s=t.sizeKey,a=null==r?void 0:r.fills[e],l=null==r?void 0:r.strokes[e],c=function(t,e){var n,o,r,s=[1/0,-1/0];if(null!=e)try{for(var a=__values$5(t),l=a.next();!l.done;l=a.next()){var c=l.value,u=null!==(r=c[e])&&void 0!==r?r:c[i(e)];u<s[0]&&(s[0]=u),u>s[1]&&(s[1]=u)}}catch(t){n={error:t}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}if(s[0]<=s[1])return s}(o,s),u=__assign$c(__assign$c({},t.marker),{fill:a,stroke:l,domain:c});return __assign$c(__assign$c({},t),{marker:u,highlightStyle:{item:{fill:"yellow"}},listeners:__assign$c(__assign$c({},t.listeners),{nodeClick:n.crossFilterCallback})})}));return __spread$7(s,s.map((function(t){var e=t.sizeKey,o=t.yKey,r=t.xKey;return null!=e&&(e=i(e)),__assign$c(__assign$c({},t),{yKey:i(o),xKey:i(r),marker:__assign$c(__assign$c({},t.marker),{fillOpacity:.3,strokeOpacity:.3}),sizeKey:e,showInLegend:!1,listeners:__assign$c(__assign$c({},t.listeners),{nodeClick:function(t){var e,o=t.datum[i(r)],s=__assign$c(__assign$c({},t),{xKey:r,datum:__assign$c(__assign$c({},t.datum),(e={},e[r]=o,e))});n.crossFilterCallback(s)}})})})))},e.prototype.getSeriesDefinitions=function(t,e){if(t.length<2)return[];var n="bubble"===this.chartType;if(e)return n?t.map((function(e,n){return n%3==0?{xField:e,yField:t[n+1],sizeField:t[n+2]}:null})).filter((function(t){return t&&t.yField&&t.sizeField})):t.map((function(e,n){return n%2==0?{xField:e,yField:t[n+1]}:null})).filter((function(t){return t&&t.yField}));var o=t[0];return n?t.map((function(e,n){return n%2==1?{xField:o,yField:e,sizeField:t[n+1]}:null})).filter((function(t){return t&&t.sizeField})):t.filter((function(t,e){return e>0})).map((function(t){return{xField:o,yField:t}}))},e}(CartesianChartProxy),__extends$U=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),HistogramChartProxy=function(t){function e(e){return t.call(this,e)||this}return __extends$U(e,t),e.prototype.getSeries=function(t){var e=t.fields[0];return[{type:this.standaloneChartType,xKey:e.colId,xName:e.displayName,yName:this.chartProxyParams.translate("histogramFrequency"),areaPlot:!1}]},e.prototype.getAxes=function(t){return[{type:"number",position:"bottom"},{type:"number",position:"left"}]},e}(CartesianChartProxy),__extends$T=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ChartOptionsService=function(t){function e(e){var n=t.call(this)||this;return n.chartController=e,n}return __extends$T(e,t),e.prototype.getChartOption=function(t){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(this.getChart(),t,void 0)},e.prototype.setChartOption=function(t,e,n){var o=this,r=this.chartController.getChartSeriesTypes();this.chartController.isComboChart()&&r.push("cartesian");var i={};r.forEach((function(n){i=deepMerge(i,o.createChartOptions({seriesType:n,expression:t,value:e}))})),this.updateChart(i),n||this.raiseChartOptionsChangedEvent()},e.prototype.awaitChartOptionUpdate=function(t){this.chartController.getChartProxy().getChart().waitForUpdate().then((function(){return t()}))},e.prototype.getAxisProperty=function(t){var e;return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(null===(e=this.getChart().axes)||void 0===e?void 0:e[0],t,void 0)},e.prototype.setAxisProperty=function(t,e){var n,o=this,r=this.getChart(),i={};null===(n=r.axes)||void 0===n||n.forEach((function(n){i=deepMerge(i,o.getUpdateAxisOptions(n,t,e))})),this.updateChart(i),this.raiseChartOptionsChangedEvent()},e.prototype.getLabelRotation=function(t){var e=this.getAxis(t);return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(e,"label.rotation",void 0)},e.prototype.setLabelRotation=function(t,e){var n=this.getAxis(t);if(n){var o=this.getUpdateAxisOptions(n,"label.rotation",e);this.updateChart(o),this.raiseChartOptionsChangedEvent()}},e.prototype.getSeriesOption=function(t,n){var o=this.getChart().series.find((function(t){return e.isMatchingSeries(n,t)}));return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(o,t,void 0)},e.prototype.setSeriesOption=function(t,e,n){var o=this.createChartOptions({seriesType:n,expression:"series."+t,value:e});this.updateChart(o),this.raiseChartOptionsChangedEvent()},e.prototype.getPairedMode=function(){return this.chartController.getChartProxy().isPaired()},e.prototype.setPairedMode=function(t){this.chartController.getChartProxy().setPaired(t)},e.prototype.getAxis=function(t){var e=this.getChart();if(e.axes&&!(e.axes.length<1))return"xAxis"===t?e.axes&&"x"===e.axes[0].direction?e.axes[0]:e.axes[1]:e.axes&&"y"===e.axes[1].direction?e.axes[1]:e.axes[0]},e.prototype.getUpdateAxisOptions=function(t,e,n){var o=getSeriesType(this.getChartType());return["number","category","time","groupedCategory"].includes(t.type)?this.createChartOptions({seriesType:o,expression:"axes."+t.type+"."+e,value:n}):{}},e.prototype.getChartType=function(){return this.chartController.getChartType()},e.prototype.getChart=function(){return this.chartController.getChartProxy().getChart()},e.prototype.updateChart=function(t){var e=this.chartController.getChartProxy().getChartRef();AgChart.updateDelta(e,t)},e.prototype.createChartOptions=function(t){var e=t.seriesType,n=t.expression,o=t.value,r={},i={theme:{overrides:r}};return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.set(r,e+"."+n,o),i},e.prototype.raiseChartOptionsChangedEvent=function(){var t=this.chartController.getChartModel(),e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_OPTIONS_CHANGED,chartId:t.chartId,chartType:t.chartType,chartThemeName:this.chartController.getChartThemeName(),chartOptions:t.chartOptions};this.eventService.dispatchEvent(e)},e.isMatchingSeries=function(t,e){var n;return VALID_SERIES_TYPES.includes(t)&&e.type===("column"===(n=t)?"bar":n)},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$S=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ComboChartProxy=function(t){function e(e){return t.call(this,e)||this}return __extends$S(e,t),e.prototype.getAxes=function(t){var e=t?t.fields:[],n=new Map(e.map((function(t){return[t.colId,t]}))),o=this.getYKeys(e,t.seriesChartTypes),r=o.primaryYKeys,i=o.secondaryYKeys,s=[{type:this.getXAxisType(t),position:"bottom",gridStyle:[{stroke:void 0}]}];return r.length>0&&s.push({type:"number",keys:r,position:"left",title:{text:r.map((function(t){var e=n.get(t);return e?e.displayName:t})).join(" / ")}}),i.length>0&&i.forEach((function(t,e){var o=n.get(t);if(o&&o.colId===t){var a={type:"number",keys:[t],position:"right",title:{text:o?o.displayName:t}},l=r.some((function(t){return!!n.get(t)})),c=e===i.length-1;!l&&c||(a.gridStyle=[{stroke:void 0}]),s.push(a)}})),s},e.prototype.getSeries=function(t){var e=t.fields,n=t.category,o=t.seriesChartTypes;return e.map((function(t){var e=o.find((function(e){return e.colId===t.colId}));if(e){var r=e.chartType;return{type:getSeriesType(r),xKey:n.id,yKey:t.colId,yName:t.displayName,grouped:["groupedColumn","groupedBar","groupedArea"].includes(r),stacked:["stackedArea","stackedColumn"].includes(r)}}}))},e.prototype.getYKeys=function(t,e){var n=[],o=[];return t.forEach((function(t){var r=t.colId,i=e.find((function(t){return t.colId===r}));i&&(i.secondaryAxis?o.push(r):n.push(r))})),{primaryYKeys:n,secondaryYKeys:o}},e}(CartesianChartProxy),__extends$R=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$N=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},GridChartComp=function(t){function e(n){var o=t.call(this,e.TEMPLATE)||this;return o.params=n,o}return __extends$R(e,t),e.prototype.init=function(){var t=this,e=this.gridOptionsService.get("chartThemes")||DEFAULT_THEMES;if(e.length<1)throw new Error("Cannot create chart: no chart themes are available to be used.");var n=this.params.chartThemeName;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(e,n)||(n=e[0]);var o={chartId:this.params.chartId,pivotChart:this.params.pivotChart,chartType:this.params.chartType,chartThemeName:n,aggFunc:this.params.aggFunc,cellRange:this.params.cellRange,suppressChartRanges:this.params.suppressChartRanges,unlinkChart:this.params.unlinkChart,crossFiltering:this.params.crossFiltering,seriesChartTypes:this.params.seriesChartTypes},r=this.gridOptionsService.is("enableRtl");this.addCssClass(r?"ag-rtl":"ag-ltr");var i=this.createBean(new ChartDataModel(o));this.chartController=this.createManagedBean(new ChartController(i)),this.validateCustomThemes(),this.createChart(),this.params.insideDialog&&this.addDialog(),this.addMenu(),this.addTitleEditComp(),this.addManagedListener(this.getGui(),"focusin",this.setActiveChartCellRange.bind(this)),this.addManagedListener(this.chartController,ChartController.EVENT_CHART_MODEL_UPDATE,this.update.bind(this)),this.chartMenu&&this.addManagedListener(this.chartMenu,ChartMenu.EVENT_DOWNLOAD_CHART,(function(){return t.downloadChart()})),this.update(),this.raiseChartCreatedEvent()},e.prototype.validateCustomThemes=function(){var t=this.getChartThemes(),e=this.gridOptionsService.get("customChartThemes");e&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.getAllKeysInObjects([e]).forEach((function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(t,e)||console.warn("AG Grid: a custom chart theme with the name '"+e+"' has been supplied but not added to the 'chartThemes' list")}))},e.prototype.createChart=function(){var t=this,n=void 0;this.chartProxy&&(n=this.chartProxy.destroy({keepChartInstance:!0}));var o=this.chartController.getChartType(),r={chartType:o,chartInstance:n,getChartThemeName:this.getChartThemeName.bind(this),getChartThemes:this.getChartThemes.bind(this),customChartThemes:this.gridOptionsService.get("customChartThemes"),getGridOptionsChartThemeOverrides:function(){return t.getGridOptionsChartThemeOverrides()},getExtraPaddingDirections:function(){var e,n;return null!==(n=null===(e=t.chartMenu)||void 0===e?void 0:e.getExtraPaddingDirections())&&void 0!==n?n:[]},apiChartThemeOverrides:this.params.chartThemeOverrides,crossFiltering:this.params.crossFiltering,crossFilterCallback:function(e,n){t.params.crossFilteringContext.lastSelectedChartId=n?"":t.chartController.getChartId(),n&&t.params.crossFilteringResetCallback(),t.crossFilterService.filter(e,n)},parentElement:this.eChart,grouping:this.chartController.isGrouping(),chartThemeToRestore:this.params.chartThemeName,chartOptionsToRestore:this.params.chartOptionsToRestore,chartPaletteToRestore:this.params.chartPaletteToRestore,seriesChartTypes:this.chartController.getSeriesChartTypes(),translate:function(e,n){return t.chartTranslationService.translate(e,n)}};if(this.params.chartOptionsToRestore=void 0,this.chartType=o,this.chartThemeName=this.chartController.getChartThemeName(),this.chartProxy=e.createChartProxy(r),this.chartProxy){var i=this.eChart.querySelector("canvas");i&&i.classList.add("ag-charts-canvas"),this.chartController.setChartProxy(this.chartProxy),this.chartOptionsService=this.createBean(new ChartOptionsService(this.chartController)),this.titleEdit&&this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)}else console.warn("AG Grid: invalid chart type supplied: ",r.chartType)},e.prototype.getChartThemeName=function(){return this.chartController.getChartThemeName()},e.prototype.getChartThemes=function(){return this.chartController.getThemes()},e.prototype.getGridOptionsChartThemeOverrides=function(){return this.gridOptionsService.get("chartThemeOverrides")},e.createChartProxy=function(t){switch(t.chartType){case"column":case"bar":case"groupedColumn":case"stackedColumn":case"normalizedColumn":case"groupedBar":case"stackedBar":case"normalizedBar":return new BarChartProxy(t);case"pie":case"doughnut":return new PieChartProxy(t);case"area":case"stackedArea":case"normalizedArea":return new AreaChartProxy(t);case"line":return new LineChartProxy(t);case"scatter":case"bubble":return new ScatterChartProxy(t);case"histogram":return new HistogramChartProxy(t);case"columnLineCombo":case"areaColumnCombo":case"customCombo":return new ComboChartProxy(t);default:throw"AG Grid: Unable to create chart as an invalid chartType = '"+t.chartType+"' was supplied."}},e.prototype.addDialog=function(){var t=this,e=this.chartTranslationService.translate(this.params.pivotChart?"pivotChartTitle":"rangeChartTitle"),n=this.getBestDialogSize(),o=n.width,r=n.height;this.chartDialog=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$zI({resizable:!0,movable:!0,maximizable:!0,title:e,width:o,height:r,component:this,centered:!0,closable:!0}),this.getContext().createBean(this.chartDialog),this.chartDialog.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$zI.EVENT_DESTROYED,(function(){return t.destroy()}))},e.prototype.getBestDialogSize=function(){var t=this.popupService.getPopupParent(),e=.75*ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.getAbsoluteWidth(t),n=.75*ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.getAbsoluteHeight(t),o=this.chartProxy.getChart(),r=this.params.insideDialog?850:o.width,i=this.params.insideDialog?470:o.height;return(r>e||i>n)&&(r=Math.min(r,e),(i=Math.round(.553*r))>n&&(i=n,r=Math.min(r,Math.round(i/.553)))),{width:r,height:i}},e.prototype.addMenu=function(){this.params.crossFiltering||(this.chartMenu=this.createBean(new ChartMenu(this.eChartContainer,this.eMenuContainer,this.chartController,this.chartOptionsService)),this.eChartContainer.appendChild(this.chartMenu.getGui()))},e.prototype.addTitleEditComp=function(){this.titleEdit=this.createBean(new TitleEdit(this.chartMenu)),this.eTitleEditContainer.appendChild(this.titleEdit.getGui()),this.chartProxy&&this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)},e.prototype.update=function(){this.shouldRecreateChart()&&this.createChart(),this.updateChart()},e.prototype.shouldRecreateChart=function(){return this.chartType!==this.chartController.getChartType()||this.chartThemeName!==this.chartController.getChartThemeName()},e.prototype.getCurrentChartType=function(){return this.chartType},e.prototype.getChartModel=function(){return this.chartController.getChartModel()},e.prototype.getChartImageDataURL=function(t){return this.chartProxy.getChartImageDataURL(t)},e.prototype.updateChart=function(){var t=this,e=this.chartProxy,n=this.chartController.getSelectedValueColState().map((function(t){return{colId:t.colId,displayName:t.displayName}})),o=this.chartController.getChartData();if(!this.handleEmptyChart(o,n)){var r=this.chartController.getChartUpdateParams();e.update(r),this.chartProxy.getChart().waitForUpdate().then((function(){t.chartController.raiseChartUpdatedEvent()})),this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)}},e.prototype.handleEmptyChart=function(t,e){var n=this.chartController.isPivotChart()&&!this.chartController.isPivotMode(),o=1;this.chartController.isActiveXYChart()&&(o="bubble"===this.chartController.getChartType()?3:2);var r=e.length<o||0===t.length;if(this.eChart){var i=n||r;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eChart,!i),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eEmpty,i)}return n?(this.eEmpty.innerText=this.chartTranslationService.translate("pivotChartRequiresPivotMode"),!0):!!r&&(this.eEmpty.innerText=this.chartTranslationService.translate("noDataToChart"),!0)},e.prototype.downloadChart=function(t,e,n){this.chartProxy.downloadChart(t,e,n)},e.prototype.openChartToolPanel=function(t){var e=t?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.d2Z[t]:t;this.chartMenu.showMenu(e)},e.prototype.closeChartToolPanel=function(){this.chartMenu.hideMenu()},e.prototype.getChartId=function(){return this.chartController.getChartId()},e.prototype.getUnderlyingChart=function(){return this.chartProxy.getChartRef()},e.prototype.crossFilteringReset=function(){this.chartProxy.crossFilteringReset()},e.prototype.setActiveChartCellRange=function(t){this.getGui().contains(t.relatedTarget)||(this.chartController.setChartRange(!0),this.gridApi.focusService.clearFocusedCell())},e.prototype.raiseChartCreatedEvent=function(){var t=this,e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_CREATED,chartId:this.chartController.getChartId()};this.chartProxy.getChart().waitForUpdate().then((function(){t.eventService.dispatchEvent(e)}))},e.prototype.raiseChartDestroyedEvent=function(){var t={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_DESTROYED,chartId:this.chartController.getChartId()};this.eventService.dispatchEvent(t)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.chartProxy&&this.chartProxy.destroy(),this.destroyBean(this.chartMenu),this.destroyBean(this.titleEdit),this.chartDialog&&this.chartDialog.isAlive()&&this.destroyBean(this.chartDialog);var e=this.getGui();ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(e),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(e),this.raiseChartDestroyedEvent()},e.TEMPLATE='<div class="ag-chart" tabindex="-1">\n            <div ref="eChartContainer" tabindex="-1" class="ag-chart-components-wrapper">\n                <div ref="eChart" class="ag-chart-canvas-wrapper"></div>\n                <div ref="eEmpty" class="ag-chart-empty-text ag-unselectable"></div>\n            </div>\n            <div ref="eTitleEditContainer"></div>\n            <div ref="eMenuContainer" class="ag-chart-docked-container"></div>\n        </div>',__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eChart")],e.prototype,"eChart",void 0),__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eChartContainer")],e.prototype,"eChartContainer",void 0),__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eMenuContainer")],e.prototype,"eMenuContainer",void 0),__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eEmpty")],e.prototype,"eEmpty",void 0),__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eTitleEditContainer")],e.prototype,"eTitleEditContainer",void 0),__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartCrossFilterService")],e.prototype,"crossFilterService",void 0),__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("popupService")],e.prototype,"popupService",void 0),__decorate$N([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),VERSION$a="29.3.4",__assign$b=function(){return __assign$b=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$b.apply(this,arguments)},__rest=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]])}return n},__read$d=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__values$4=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function upgradeChartModel(t){return t.version,null==t.version&&(t.version=heuristicVersionDetection(t)),t=migrateIfBefore("23.0.0",t,migrateV23),t=migrateIfBefore("24.0.0",t,migrateV24),t=migrateIfBefore("25.1.0",t,migrateV25_1),t=migrateIfBefore("26.0.0",t,migrateV26),t=migrateIfBefore("26.1.0",t,migrateV26_1),t=migrateIfBefore("26.2.0",t,migrateV26_2),t=migrateIfBefore("28.0.0",t,migrateV28),t=migrateIfBefore("28.2.0",t,migrateV28_2),t=cleanup(t=migrateIfBefore("29.0.0",t,migrateV29)),t=migrateIfBefore(VERSION$a,t,(function(t){return t}))}function migrateV23(t){return t=jsonRename("chartOptions.legend.item.marker.type","shape",t),t=jsonRename("chartOptions.seriesDefaults.marker.type","shape",t),t=jsonRename("chartOptions.legend.padding","spacing",t)}function migrateV24(t){var e,n=t=jsonDelete("chartOptions.seriesDefaults.marker.minSize",t),o=n.chartType,r=n.chartPalette,i=n.chartOptions,s=i.xAxis,a=i.yAxis,l=__rest(i,["xAxis","yAxis"]),c=__rest(n,["chartType","chartPalette","chartOptions"]),u=getLegacyAxisType(o),d=null==u?void 0:u.map((function(t,e){return __assign$b({type:t},0===e?s:a)}));return __assign$b({chartType:o,chartThemeName:null!==(e=LEGACY_PALETTES[r])&&void 0!==e?e:"ag-default",chartOptions:__assign$b(__assign$b({},l),{axes:d,xAxis:s,yAxis:a})},c)}function migrateV25_1(t){return t=jsonRename("chartOptions.seriesDefaults.label.minRequiredAngle","minAngle",t)}function migrateV26(t){return t=jsonMutate("chartOptions.seriesDefaults.highlightStyle",t,(function(t){var e=t.dimOpacity,n=__rest(t,["dimOpacity"]);return __assign$b(__assign$b({},n),null!=e?{series:{dimOpacity:e}}:{})})),t=jsonDelete("chart",t),t=jsonDelete("chartOptions.seriesDefaults.tooltipClass",t),t=jsonDeleteDefault("chartOptions.axes[].label.rotation",0,t=jsonDelete("chartOptions.seriesDefaults.tooltipTracking",t)),t=jsonDeleteDefault("chartOptions.axes[].label.rotation",335,t)}function migrateV26_1(t){var e=function(t){var e=t.item,n=t.series,o=__rest(t,["item","series"]);return __assign$b({item:__assign$b(__assign$b({},o),e)},n?{series:n}:{})};return t=jsonMutate("chartOptions.seriesDefaults.highlightStyle",t,e),t=jsonMutate("chartOptions.series[].highlightStyle",t,e)}function migrateV26_2(t){t=jsonMove("chartOptions.seriesDefaults.fill.opacity","chartOptions.seriesDefaults.fillOpacity",t),t=jsonMove("chartOptions.seriesDefaults.stroke.opacity","chartOptions.seriesDefaults.strokeOpacity",t),t=jsonDelete("chartOptions.seriesDefaults.fill",t=jsonMove("chartOptions.seriesDefaults.stroke.width","chartOptions.seriesDefaults.strokeWidth",t)),t=jsonDelete("chartOptions.seriesDefaults.stroke",t),t=jsonDelete("chartOptions.seriesDefaults.callout.colors",t),t=jsonDelete("chartOptions.xAxis",t);var e=t=jsonDelete("chartOptions.yAxis",t),n=e.chartType,o=e.chartOptions,r=o.axes;o.series;var i=o.seriesDefaults,s=__rest(o,["axes","series","seriesDefaults"]),a=__rest(e,["chartType","chartOptions"]),l=[getSeriesType(n)],c={};if(!l.includes("pie")){var u={top:{},bottom:{},left:{},right:{}},d=r.map((function(t){var e,n=t.type,o=__rest(t,["type"]);return(e={})[n]=__assign$b(__assign$b({},u),o),e})).reduce(merge,{});ALL_AXIS_TYPES.filter((function(t){return null==d[t]})).forEach((function(t){d[t]=__assign$b({},u)})),c.axes=d}var p=l.map((function(t){var e;return(e={})[t]=__assign$b(__assign$b(__assign$b({},c),{series:i}),s),e})).reduce(merge,{});return t=__assign$b(__assign$b({},a),{chartType:n,chartOptions:p})}function migrateV28(t){return t=jsonDelete("chartOptions.*.title.padding",t),t=jsonDelete("chartOptions.*.subtitle.padding",t),t=jsonBackfill("chartOptions.*.axes.*.title.enabled",!1,t=jsonDelete("chartOptions.*.axes.*.title.padding",t))}function migrateV28_2(t){return t=jsonRename("chartOptions.pie.series.callout","calloutLine",t),t=jsonRename("chartOptions.pie.series.label","calloutLabel",t)}function migrateV29(t){return t=jsonMoveIfMissing("chartOptions.scatter.series.fill","chartOptions.scatter.series.marker.fill",t),t=jsonMoveIfMissing("chartOptions.scatter.series.fillOpacity","chartOptions.scatter.series.marker.fillOpacity",t),t=jsonMoveIfMissing("chartOptions.scatter.series.stroke","chartOptions.scatter.series.marker.stroke",t),t=jsonMoveIfMissing("chartOptions.scatter.series.strokeOpacity","chartOptions.scatter.series.marker.strokeOpacity",t),t=jsonMove("chartOptions.scatter.series.paired","chartOptions.scatter.paired",t=jsonMoveIfMissing("chartOptions.scatter.series.strokeWidth","chartOptions.scatter.series.marker.strokeWidth",t))}function cleanup(t){return t=jsonDelete("chartOptions.*.width",t),t=jsonBackfill("chartOptions.*.axes.category.label.autoRotate",!0,t=jsonDelete("chartOptions.*.height",t))}function heuristicVersionDetection(t){var e,n,o=t;if(null!=t.version)return t.version;var r=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return Object.keys(t||{}).some((function(t){return e.includes(t)}))},i=o.chartOptions,s=r(i,"seriesDefaults")?null==i?void 0:i.seriesDefaults:null==i?void 0:i[Object.keys(i)[0]],a={"27.0.0":r(o,"seriesChartTypes"),"26.2.0":!r(i,"seriesDefaults"),"26.1.0":r(null==s?void 0:s.highlightStyle,"item"),"26.0.0":r(null==s?void 0:s.highlightStyle,"series"),"25.1.0":r(null==s?void 0:s.label,"minAngle"),"25.0.0":r(o,"modelType","aggFunc","unlinkChart","suppressChartRanges")||r(s,"lineDash","lineDashOffset"),"24.0.0":r(o,"chartThemeName","chart")||r(i,"series"),"23.2.0":r(i,"navigator"),"23.0.0":r(null===(n=null===(e=null==i?void 0:i.legend)||void 0===e?void 0:e.item)||void 0===n?void 0:n.marker,"shape"),"22.1.0":r(o,"chartPalette","chartType")},l=Object.entries(a).filter((function(t){var e=__read$d(t,2);return e[0],e[1]})),c=__read$d(l[0],1)[0];return void 0===c?"27.1.0":c}function migrateIfBefore(t,e,n){if(versionNumber(t)>versionNumber(e.version)){var o=n(e);return o.version=t,o}return e}function versionParts(t){var e="string"==typeof t?t.split(".").map((function(t){return Number(t)})):[];if(3!==e.length||e.some((function(t){return isNaN(t)})))throw new Error("AG Grid - Illegal version string: "+t);return{major:e[0],minor:e[1],patch:e[2]}}function versionNumber(t){var e=versionParts(t);return 1e4*e.major+100*e.minor+e.patch}function jsonDeleteDefault(t,e,n){return jsonMutateProperty(t,!0,n,(function(t,n){t[n]===e&&delete t[n]}))}function jsonBackfill(t,e,n){return jsonMutateProperty(t,!1,n,(function(t,n){null==t[n]&&(t[n]=e)}))}function jsonMove(t,e,n){var o=void 0,r=!1;return n=jsonMutateProperty(t,!0,n,(function(t,e){r=!0,o=t[e],delete t[e]})),r?jsonMutateProperty(e,!1,n,(function(t,e){t[e]=o})):n}function jsonMoveIfMissing(t,e,n){var o=void 0,r=!1;return n=jsonMutateProperty(t,!0,n,(function(t,e){r=!0,o=t[e],delete t[e]})),r?jsonMutateProperty(e,!1,n,(function(t,e){void 0===t[e]&&(t[e]=o)})):n}function jsonRename(t,e,n){return jsonMutateProperty(t,!0,n,(function(t,n){t[e]=t[n],delete t[n]}))}function jsonDelete(t,e){return jsonMutateProperty(t,!0,e,(function(t,e){return delete t[e]}))}function jsonMutateProperty(t,e,n,o){var r=t instanceof Array?t:t.split("."),i=r.slice(0,r.length-1),s=r[r.length-1];return jsonMutate(i,n,(function(t){var n=Object.keys(t).includes(s);if(e&&!n)return t;var r=__assign$b({},t);return o(r,s),r}))}function jsonMutate(t,e,n){var o,r,i=t instanceof Array?t:t.split(".");if(e=__assign$b({},e),0===i.length)return n(e);if(i[0].startsWith("{")){var s=i[0].substring(1,i[0].lastIndexOf("}")).split(",");try{for(var a=__values$4(s),l=a.next();!l.done;l=a.next()){var c=l.value;null!=e[c]&&(e[c]=jsonMutate(i.slice(1),e[c],n))}}catch(t){o={error:t}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}}else if(i[0].endsWith("[]")){var u=i[0].substring(0,t[0].indexOf("["));e[u]instanceof Array&&(e[u]=e[u].map((function(t){return jsonMutate(i.slice(1),t,n)})))}else if("*"===i[0])for(var d in e)e[d]=jsonMutate(i.slice(1),e[d],n);else null!=e[i[0]]&&(e[i[0]]=jsonMutate(i.slice(1),e[i[0]],n));return e}var merge=function(t,e){return __assign$b(__assign$b({},t),e)},LEGACY_PALETTES={borneo:"ag-default",material:"ag-material",pastel:"ag-pastel",bright:"ag-vivid",flat:"ag-solar"},__extends$Q=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$a=function(){return __assign$a=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$a.apply(this,arguments)},__decorate$M=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ChartService=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.activeCharts=new Set,e.activeChartComps=new Set,e.crossFilteringContext={lastSelectedChartId:""},e}return __extends$Q(e,t),e.prototype.getChartModels=function(){var t=[];return this.activeChartComps.forEach((function(e){return t.push(function(t){return __assign$a(__assign$a({},t),{version:VERSION$a})}(e.getChartModel()))})),t},e.prototype.getChartRef=function(t){var e;return this.activeCharts.forEach((function(n){n.chartId===t&&(e=n)})),e},e.prototype.getChartImageDataURL=function(t){var e;return this.activeChartComps.forEach((function(n){n.getChartId()===t.chartId&&(e=n.getChartImageDataURL(t.fileFormat))})),e},e.prototype.downloadChart=function(t){var e=Array.from(this.activeChartComps).find((function(e){return e.getChartId()===t.chartId}));null==e||e.downloadChart(t.dimensions,t.fileName,t.fileFormat)},e.prototype.openChartToolPanel=function(t){var e=Array.from(this.activeChartComps).find((function(e){return e.getChartId()===t.chartId}));null==e||e.openChartToolPanel(t.panel)},e.prototype.closeChartToolPanel=function(t){var e=Array.from(this.activeChartComps).find((function(e){return e.getChartId()===t}));null==e||e.closeChartToolPanel()},e.prototype.createChartFromCurrentRange=function(t){void 0===t&&(t="groupedColumn");var e=this.getSelectedRange();return this.createChart(e,t)},e.prototype.restoreChart=function(t,e){var n=this;if(t){t.version!==VERSION$a&&(t=upgradeChartModel(t));var o={cellRange:t.cellRange,chartType:t.chartType,chartThemeName:t.chartThemeName,chartContainer:e,suppressChartRanges:t.suppressChartRanges,aggFunc:t.aggFunc,unlinkChart:t.unlinkChart,seriesChartTypes:t.seriesChartTypes},r=function(t){return n.rangeService?n.rangeService.createCellRangeFromCellRangeParams(t):void 0};if("pivot"===t.modelType){this.columnModel.isPivotMode()||this.columnModel.setPivotMode(!0,"pivotChart");var i=r({rowStartIndex:null,rowStartPinned:void 0,rowEndIndex:null,rowEndPinned:void 0,columns:this.columnModel.getAllDisplayedColumns().map((function(t){return t.getColId()}))});return i?this.createChart(i,o.chartType,o.chartThemeName,!0,!0,o.chartContainer,void 0,void 0,o.unlinkChart,!1,t.chartOptions):void console.warn("AG Grid - unable to create chart as there are no columns in the grid.")}var s=r(o.cellRange);if(s)return this.createChart(s,o.chartType,o.chartThemeName,!1,o.suppressChartRanges,o.chartContainer,o.aggFunc,void 0,o.unlinkChart,!1,t.chartOptions,t.chartPalette,o.seriesChartTypes);console.warn("AG Grid - unable to create chart as no range is selected")}else console.warn("AG Grid - unable to restore chart as no chart model is provided")},e.prototype.createRangeChart=function(t){var e=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(t.cellRange):void 0;if(e)return this.createChart(e,t.chartType,t.chartThemeName,!1,t.suppressChartRanges,t.chartContainer,t.aggFunc,t.chartThemeOverrides,t.unlinkChart,void 0,void 0,void 0,t.seriesChartTypes);console.warn("AG Grid - unable to create chart as no range is selected")},e.prototype.createPivotChart=function(t){this.columnModel.isPivotMode()||this.columnModel.setPivotMode(!0,"pivotChart");var e={rowStartIndex:null,rowStartPinned:void 0,rowEndIndex:null,rowEndPinned:void 0,columns:this.columnModel.getAllDisplayedColumns().map((function(t){return t.getColId()}))},n=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(e):void 0;if(n)return this.createChart(n,t.chartType,t.chartThemeName,!0,!0,t.chartContainer,void 0,t.chartThemeOverrides,t.unlinkChart);console.warn("AG Grid - unable to create chart as there are no columns in the grid.")},e.prototype.createCrossFilterChart=function(t){var e=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(t.cellRange):void 0;if(e){var n=!(void 0!==t.suppressChartRanges&&null!==t.suppressChartRanges)||t.suppressChartRanges;return this.createChart(e,t.chartType,t.chartThemeName,!1,n,t.chartContainer,t.aggFunc,t.chartThemeOverrides,t.unlinkChart,!0)}console.warn("AG Grid - unable to create chart as no range is selected")},e.prototype.createChart=function(t,e,n,o,r,i,s,a,l,c,u,d,p){var h=this;void 0===o&&(o=!1),void 0===r&&(r=!1),void 0===l&&(l=!1),void 0===c&&(c=!1);var f=this.gridOptionsService.getCallback("createChartContainer"),g={chartId:this.generateId(),pivotChart:o,cellRange:t,chartType:e,chartThemeName:n,insideDialog:!(i||f),suppressChartRanges:r,aggFunc:s,chartThemeOverrides:a,unlinkChart:l,crossFiltering:c,crossFilteringContext:this.crossFilteringContext,chartOptionsToRestore:u,chartPaletteToRestore:d,seriesChartTypes:p,crossFilteringResetCallback:function(){return h.activeChartComps.forEach((function(t){return t.crossFilteringReset()}))}},_=new GridChartComp(g);this.context.createBean(_);var m=this.createChartRef(_);if(i){i.appendChild(_.getGui());var y=this.environment.getTheme();y.el&&!y.el.contains(i)&&i.classList.add(y.theme)}else f?f(m):_.addEventListener(GridChartComp.EVENT_DESTROYED,(function(){h.activeChartComps.delete(_),h.activeCharts.delete(m)}));return m},e.prototype.createChartRef=function(t){var e=this,n={destroyChart:function(){e.activeCharts.has(n)&&(e.context.destroyBean(t),e.activeChartComps.delete(t),e.activeCharts.delete(n))},chartElement:t.getGui(),chart:t.getUnderlyingChart(),chartId:t.getChartModel().chartId};return this.activeCharts.add(n),this.activeChartComps.add(t),n},e.prototype.getSelectedRange=function(){var t=this.rangeService.getCellRanges();return t.length>0?t[0]:{}},e.prototype.generateId=function(){return"id-"+Math.random().toString(36).substr(2,16)},e.prototype.destroyAllActiveCharts=function(){this.activeCharts.forEach((function(t){return t.destroyChart()}))},e.CHARTS_VERSION=VERSION$b,__decorate$M([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("rangeService")],e.prototype,"rangeService",void 0),__decorate$M([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$M([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],e.prototype,"destroyAllActiveCharts",null),e=__decorate$M([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("chartService")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$P=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$L=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ChartTranslationService=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return __extends$P(e,t),n=e,e.prototype.translate=function(t,e){return this.localeService.getLocaleTextFunc()(t,n.DEFAULT_TRANSLATIONS[t]||e)},e.DEFAULT_TRANSLATIONS={pivotChartTitle:"Pivot Chart",rangeChartTitle:"Range Chart",settings:"Settings",data:"Data",format:"Format",categories:"Categories",defaultCategory:"(None)",series:"Series",xyValues:"X Y Values",paired:"Paired Mode",axis:"Axis",navigator:"Navigator",color:"Color",thickness:"Thickness",xType:"X Type",automatic:"Automatic",category:"Category",number:"Number",time:"Time",autoRotate:"Auto Rotate",xRotation:"X Rotation",yRotation:"Y Rotation",ticks:"Ticks",width:"Width",height:"Height",length:"Length",padding:"Padding",spacing:"Spacing",chart:"Chart",title:"Title",titlePlaceholder:"Chart title - double click to edit",background:"Background",font:"Font",top:"Top",right:"Right",bottom:"Bottom",left:"Left",labels:"Labels",calloutLabels:"Callout Labels",sectorLabels:"Sector Labels",positionRatio:"Position Ratio",size:"Size",shape:"Shape",minSize:"Minimum Size",maxSize:"Maximum Size",legend:"Legend",position:"Position",markerSize:"Marker Size",markerStroke:"Marker Stroke",markerPadding:"Marker Padding",itemSpacing:"Item Spacing",itemPaddingX:"Item Padding X",itemPaddingY:"Item Padding Y",layoutHorizontalSpacing:"Horizontal Spacing",layoutVerticalSpacing:"Vertical Spacing",strokeWidth:"Stroke Width",offset:"Offset",offsets:"Offsets",tooltips:"Tooltips",callout:"Callout",markers:"Markers",shadow:"Shadow",blur:"Blur",xOffset:"X Offset",yOffset:"Y Offset",lineWidth:"Line Width",lineDash:"Line Dash",normal:"Normal",bold:"Bold",italic:"Italic",boldItalic:"Bold Italic",predefined:"Predefined",fillOpacity:"Fill Opacity",strokeOpacity:"Line Opacity",histogramBinCount:"Bin count",columnGroup:"Column",barGroup:"Bar",pieGroup:"Pie",lineGroup:"Line",scatterGroup:"X Y (Scatter)",areaGroup:"Area",histogramGroup:"Histogram",combinationGroup:"Combination",groupedColumnTooltip:"Grouped",stackedColumnTooltip:"Stacked",normalizedColumnTooltip:"100% Stacked",groupedBarTooltip:"Grouped",stackedBarTooltip:"Stacked",normalizedBarTooltip:"100% Stacked",pieTooltip:"Pie",doughnutTooltip:"Doughnut",lineTooltip:"Line",groupedAreaTooltip:"Area",stackedAreaTooltip:"Stacked",normalizedAreaTooltip:"100% Stacked",scatterTooltip:"Scatter",bubbleTooltip:"Bubble",histogramTooltip:"Histogram",columnLineComboTooltip:"Column & Line",areaColumnComboTooltip:"Area & Column",customComboTooltip:"Custom Combination",noDataToChart:"No data available to be charted.",pivotChartRequiresPivotMode:"Pivot Chart requires Pivot Mode enabled.",chartSettingsToolbarTooltip:"Menu",chartLinkToolbarTooltip:"Linked to Grid",chartUnlinkToolbarTooltip:"Unlinked from Grid",chartDownloadToolbarTooltip:"Download Chart",histogramFrequency:"Frequency",seriesChartType:"Series Chart Type",seriesType:"Series Type",secondaryAxis:"Secondary Axis"},e=n=__decorate$L([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("chartTranslationService")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$O=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$K=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ChartCrossFilterService=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return __extends$O(e,t),n=e,e.prototype.filter=function(t,e){void 0===e&&(e=!1);var o=this.gridApi.getFilterModel();if(e)this.resetFilters(o);else{var r=n.extractFilterColId(t);this.isValidColumnFilter(r)?this.updateFilters(o,t,r):console.warn("AG Grid: cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: '"+r+"'")}},e.prototype.resetFilters=function(t){Object.keys(t).length>0&&(this.gridApi.setFilterModel(null),this.gridApi.onFilterChanged())},e.prototype.updateFilters=function(t,e,o){var r,i=n.extractFilterColId(e),s=e.datum[i];if(void 0!==s){var a=s.toString();if(e.event.metaKey||e.event.ctrlKey){var l=this.getCurrentGridValuesForCategory(o),c=void 0;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(l,a)?c=l.filter((function(t){return t!==a})):(c=l).push(a),t[o]=this.getUpdatedFilterModel(o,c)}else{c=[a];(r={})[o]=this.getUpdatedFilterModel(o,c),t=r}this.gridApi.setFilterModel(t)}},e.prototype.getUpdatedFilterModel=function(t,e){return"agMultiColumnFilter"===this.getColumnFilterType(t)?{filterType:"multi",filterModels:[null,{filterType:"set",values:e}]}:{filterType:"set",values:e}},e.prototype.getCurrentGridValuesForCategory=function(t){var e=this,n=[],o=this.getColumnById(t);return this.gridApi.forEachNodeAfterFilter((function(t){if(o&&!t.group){var r=e.valueService.getValue(o,t)+"";n.includes(r)||n.push(r)}})),n},e.extractFilterColId=function(t){return t.xKey||t.calloutLabelKey},e.prototype.isValidColumnFilter=function(t){t.indexOf("-filtered-out")&&(t=t.replace("-filtered-out",""));var e=this.getColumnFilterType(t);return"boolean"==typeof e?e:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["agSetColumnFilter","agMultiColumnFilter"],e)},e.prototype.getColumnFilterType=function(t){var e=this.getColumnById(t);if(e){var n=e.getColDef();return null!=n.filter?n.filter:n.filterFramework}},e.prototype.getColumnById=function(t){return this.columnModel.getGridColumn(t)},__decorate$K([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$K([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$K([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),e=n=__decorate$K([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("chartCrossFilterService")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$N=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$9=function(){return __assign$9=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$9.apply(this,arguments)},__decorate$J=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__read$c=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$6=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$c(arguments[e]));return t},__values$3=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},RangeService=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cellRanges=[],e.bodyScrollListener=e.onBodyScroll.bind(e),e.dragging=!1,e.intersectionRange=!1,e}return __extends$N(e,t),e.prototype.init=function(){var t=this;this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,(function(){return t.onColumnsChanged()})),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VISIBLE,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VALUE_CHANGED,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,(function(){return t.removeAllCellRanges()})),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,(function(){return t.removeAllCellRanges()})),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_CHANGED,(function(){return t.removeAllCellRanges()})),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_GROUP_OPENED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_MOVED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PINNED,this.refreshLastRangeStart.bind(this)),this.ctrlsService.whenReady((function(){var e=t.ctrlsService.getGridBodyCtrl();t.autoScrollService=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Cvn({scrollContainer:e.getBodyViewportElement(),scrollAxis:"xy",getVerticalPosition:function(){return e.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(t){return e.getScrollFeature().setVerticalScrollPosition(t)},getHorizontalPosition:function(){return e.getScrollFeature().getHScrollPosition().left},setHorizontalPosition:function(t){return e.getScrollFeature().setHorizontalScrollPosition(t)},shouldSkipVerticalScroll:function(){return!t.gridOptionsService.isDomLayout("normal")},shouldSkipHorizontalScroll:function(){return!e.getScrollFeature().isHorizontalScrollShowing()}})}))},e.prototype.onColumnsChanged=function(){var t=this;this.refreshLastRangeStart();var e=this.columnModel.getAllDisplayedColumns();this.cellRanges.forEach((function(n){var o=n.columns;n.columns=n.columns.filter((function(t){return t.isVisible()&&-1!==e.indexOf(t)})),!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.areEqual(o,n.columns)&&t.dispatchChangedEvent(!1,!0,n.id)}));var n=this.cellRanges.length;this.cellRanges=this.cellRanges.filter((function(t){return t.columns.length>0})),n>this.cellRanges.length&&this.dispatchChangedEvent(!1,!0)},e.prototype.refreshLastRangeStart=function(){var t=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.cellRanges);t&&this.refreshRangeStart(t)},e.prototype.isContiguousRange=function(t){var e=t.columns;if(!e.length)return!1;var n=this.columnModel.getAllDisplayedColumns(),o=e.map((function(t){return n.indexOf(t)})).sort((function(t,e){return t-e}));return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(o)-o[0]+1===e.length},e.prototype.getRangeStartRow=function(t){return t.startRow&&t.endRow?this.rowPositionUtils.before(t.startRow,t.endRow)?t.startRow:t.endRow:{rowIndex:0,rowPinned:this.pinnedRowModel.getPinnedTopRowCount()>0?"top":null}},e.prototype.getRangeEndRow=function(t){if(t.startRow&&t.endRow)return this.rowPositionUtils.before(t.startRow,t.endRow)?t.endRow:t.startRow;var e=this.pinnedRowModel.getPinnedBottomRowCount();return e>0?{rowIndex:e-1,rowPinned:"bottom"}:{rowIndex:this.rowModel.getRowCount()-1,rowPinned:null}},e.prototype.setRangeToCell=function(t,e){if(void 0===e&&(e=!1),this.gridOptionsService.isEnableRangeSelection()){var n=this.calculateColumnsBetween(t.column,t.column);if(n){(this.gridOptionsService.is("suppressMultiRangeSelection")||!e||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(this.cellRanges))&&this.removeAllCellRanges(!0);var o={rowIndex:t.rowIndex,rowPinned:t.rowPinned},r={startRow:o,endRow:o,columns:n,startColumn:t.column};this.cellRanges.push(r),this.setNewestRangeStartCell(t),this.onDragStop(),this.dispatchChangedEvent(!0,!0)}}},e.prototype.extendLatestRangeToCell=function(t){if(!this.isEmpty()&&this.newestRangeStartCell){var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.cellRanges);this.updateRangeEnd(e,t)}},e.prototype.updateRangeEnd=function(t,e,n){void 0===n&&(n=!1);var o=e.column,r=this.calculateColumnsBetween(t.startColumn,o);r&&!this.isLastCellOfRange(t,e)&&(t.columns=r,t.endRow={rowIndex:e.rowIndex,rowPinned:e.rowPinned},n||this.dispatchChangedEvent(!0,!0,t.id))},e.prototype.refreshRangeStart=function(t){var e=t.startColumn,n=t.columns,o=function(e,n){var o=t.columns.filter((function(t){return t!==e}));e?(t.startColumn=e,t.columns=n?__spread$6([e],o):__spread$6(o,[e])):t.columns=o},r=this.getRangeEdgeColumns(t),i=r.left,s=r.right;e===n[0]&&e!==i?o(i,!0):e===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(n)&&e===s&&o(s,!1)},e.prototype.getRangeEdgeColumns=function(t){var e=this.columnModel.getAllDisplayedColumns(),n=t.columns.map((function(t){return e.indexOf(t)})).filter((function(t){return t>-1})).sort((function(t,e){return t-e}));return{left:e[n[0]],right:e[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(n)]}},e.prototype.extendLatestRangeInDirection=function(t){if(!this.isEmpty()&&this.newestRangeStartCell){var e=t.key,n=t.ctrlKey||t.metaKey,o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.cellRanges),r=this.newestRangeStartCell,i=o.columns[0],s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(o.columns),a=o.endRow.rowIndex,l=o.endRow.rowPinned,c={column:r.column===i?s:i,rowIndex:a,rowPinned:l},u=this.cellNavigationService.getNextCellToFocus(e,c,n);if(u)return this.setCellRange({rowStartIndex:r.rowIndex,rowStartPinned:r.rowPinned,rowEndIndex:u.rowIndex,rowEndPinned:u.rowPinned,columnStart:r.column,columnEnd:u.column}),u}},e.prototype.setCellRange=function(t){this.gridOptionsService.isEnableRangeSelection()&&(this.removeAllCellRanges(!0),this.addCellRange(t))},e.prototype.setCellRanges=function(t){var e=this;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.shallowCompare(this.cellRanges,t)||(this.removeAllCellRanges(!0),t.forEach((function(t){t.columns&&t.startRow&&e.setNewestRangeStartCell({rowIndex:t.startRow.rowIndex,rowPinned:t.startRow.rowPinned,column:t.columns[0]}),e.cellRanges.push(t)})),this.dispatchChangedEvent(!1,!0))},e.prototype.setNewestRangeStartCell=function(t){this.newestRangeStartCell=t},e.prototype.clearCellRangeCellValues=function(t,e){var n=this;void 0===e&&(e="rangeService"),t||(t=this.cellRanges),t.forEach((function(t){n.forEachRowInRange(t,(function(o){var r=n.rowPositionUtils.getRowNode(o);if(r)for(var i=0;i<t.columns.length;i++){var s=n.columnModel.getGridColumn(t.columns[i]);if(!s||!s.isCellEditable(r))return;r.setDataValue(s,null,e)}}))}))},e.prototype.createCellRangeFromCellRangeParams=function(t){var e,n=this,o=!1;if(t.columns)e=t.columns.map((function(t){return n.columnModel.getColumnWithValidation(t)})).filter((function(t){return t}));else{var r=this.columnModel.getColumnWithValidation(t.columnStart),i=this.columnModel.getColumnWithValidation(t.columnEnd);if(!r||!i)return;(e=this.calculateColumnsBetween(r,i))&&e.length&&(o=e[0]!==r)}if(e)return{startRow:null!=t.rowStartIndex?{rowIndex:t.rowStartIndex,rowPinned:t.rowStartPinned||null}:void 0,endRow:null!=t.rowEndIndex?{rowIndex:t.rowEndIndex,rowPinned:t.rowEndPinned||null}:void 0,columns:e,startColumn:o?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(e):e[0]}},e.prototype.addCellRange=function(t){if(this.gridOptionsService.isEnableRangeSelection()){var e=this.createCellRangeFromCellRangeParams(t);e&&(e.startRow&&this.setNewestRangeStartCell({rowIndex:e.startRow.rowIndex,rowPinned:e.startRow.rowPinned,column:e.startColumn}),this.cellRanges.push(e),this.dispatchChangedEvent(!1,!0,e.id))}},e.prototype.getCellRanges=function(){return this.cellRanges},e.prototype.isEmpty=function(){return 0===this.cellRanges.length},e.prototype.isMoreThanOneCell=function(){var t=this.cellRanges.length;if(0===t)return!1;if(t>1)return!0;var e=this.cellRanges[0],n=this.getRangeStartRow(e),o=this.getRangeEndRow(e);return n.rowPinned!==o.rowPinned||n.rowIndex!==o.rowIndex||1!==e.columns.length},e.prototype.areAllRangesAbleToMerge=function(){var t,e,n,o=this,r=new Map;if(this.cellRanges.length<=1)return!0;this.cellRanges.forEach((function(t){o.forEachRowInRange(t,(function(e){var n=(e.rowPinned||"normal")+"_"+e.rowIndex,o=r.get(n),i=t.columns.map((function(t){return t.getId()}));if(o){var s=i.filter((function(t){return-1===o.indexOf(t)}));o.push.apply(o,__spread$6(s))}else r.set(n,i)}))}));try{for(var i=__values$3(r.values()),s=i.next();!s.done;s=i.next()){var a=s.value.sort().join();if(void 0!==n){if(n!==a)return!1}else n=a}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return!0},e.prototype.forEachRowInRange=function(t,e){for(var n=this.getRangeStartRow(t),o=this.getRangeEndRow(t),r=n;r&&(e(r),!this.rowPositionUtils.sameRow(r,o));)r=this.cellNavigationService.getRowBelow(r)},e.prototype.removeAllCellRanges=function(t){this.isEmpty()||(this.onDragStop(),this.cellRanges.length=0,t||this.dispatchChangedEvent(!1,!0))},e.prototype.onBodyScroll=function(){this.dragging&&this.lastMouseEvent&&this.onDragging(this.lastMouseEvent)},e.prototype.isCellInAnyRange=function(t){return this.getCellRangeCount(t)>0},e.prototype.isCellInSpecificRange=function(t,e){var n=null!==e.columns&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(e.columns,t.column),o=this.isRowInRange(t.rowIndex,t.rowPinned,e);return n&&o},e.prototype.isLastCellOfRange=function(t,e){var n=t.startRow,o=t.endRow,r=this.rowPositionUtils.before(n,o)?o:n,i=e.rowIndex===r.rowIndex&&e.rowPinned===r.rowPinned,s=t.columns[0],a=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(t.columns),l=t.startColumn===s?a:s;return e.column===l&&i},e.prototype.isBottomRightCell=function(t,e){var n=this.columnModel.getAllDisplayedColumns(),o=t.columns.map((function(t){return n.indexOf(t)})).sort((function(t,e){return t-e})),r=t.startRow,i=t.endRow,s=this.rowPositionUtils.before(r,i)?i:r,a=n.indexOf(e.column)===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(o),l=e.rowIndex===s.rowIndex&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(e.rowPinned)===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(s.rowPinned);return a&&l},e.prototype.getCellRangeCount=function(t){var e=this;return this.isEmpty()?0:this.cellRanges.filter((function(n){return e.isCellInSpecificRange(t,n)})).length},e.prototype.isRowInRange=function(t,e,n){var o=this.getRangeStartRow(n),r=this.getRangeEndRow(n),i={rowIndex:t,rowPinned:e||null},s=i.rowIndex===o.rowIndex&&i.rowPinned==o.rowPinned,a=i.rowIndex===r.rowIndex&&i.rowPinned==r.rowPinned;if(s||a)return!0;var l=!this.rowPositionUtils.before(i,o),c=this.rowPositionUtils.before(i,r);return l&&c},e.prototype.getDraggingRange=function(){return this.draggingRange},e.prototype.onDragStart=function(t){if(this.gridOptionsService.isEnableRangeSelection()){var e=t.ctrlKey,n=t.metaKey,o=t.shiftKey,r=e||n,i=!!!this.gridOptionsService.is("suppressMultiRangeSelection")&&r,s=o&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.existsAndNotEmpty(this.cellRanges);i||s&&!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.cellRanges).type)||this.removeAllCellRanges(!0);var a=this.dragService.getStartTarget();if(a&&this.updateValuesOnMove(a),this.lastCellHovered){if(this.dragging=!0,this.lastMouseEvent=t,this.intersectionRange=i&&this.getCellRangeCount(this.lastCellHovered)>1,s||this.setNewestRangeStartCell(this.lastCellHovered),this.cellRanges.length>0)this.draggingRange=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.cellRanges);else{var l={rowIndex:this.lastCellHovered.rowIndex,rowPinned:this.lastCellHovered.rowPinned};this.draggingRange={startRow:l,endRow:l,columns:[this.lastCellHovered.column],startColumn:this.newestRangeStartCell.column},this.cellRanges.push(this.draggingRange)}this.ctrlsService.getGridBodyCtrl().addScrollEventListener(this.bodyScrollListener),this.dispatchChangedEvent(!0,!1,this.draggingRange.id)}}},e.prototype.intersectLastRange=function(t){var e=this;if(!(t&&this.dragging||this.gridOptionsService.is("suppressMultiRangeSelection")||this.isEmpty())){var n=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.cellRanges),o=this.getRangeStartRow(n),r=this.getRangeEndRow(n),i=[];this.cellRanges.slice(0,-1).forEach((function(t){var s=e.getRangeStartRow(t),a=e.getRangeEndRow(t),l=t.columns,c=l.filter((function(t){return-1===n.columns.indexOf(t)}));if(c.length!==l.length)if(e.rowPositionUtils.before(r,s)||e.rowPositionUtils.before(a,o))i.push(t);else{var u=i.length;if(e.rowPositionUtils.before(s,o)){var d={columns:__spread$6(l),startColumn:n.startColumn,startRow:__assign$9({},s),endRow:e.cellNavigationService.getRowAbove(o)};i.push(d)}if(c.length>0){var p={columns:c,startColumn:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(c,n.startColumn)?n.startColumn:c[0],startRow:e.rowPositionUtils.rowMax([__assign$9({},o),__assign$9({},s)]),endRow:e.rowPositionUtils.rowMin([__assign$9({},r),__assign$9({},a)])};i.push(p)}e.rowPositionUtils.before(r,a)&&i.push({columns:__spread$6(l),startColumn:n.startColumn,startRow:e.cellNavigationService.getRowBelow(r),endRow:__assign$9({},a)}),i.length-u==1&&(i[i.length-1].id=t.id)}else i.push(t)})),this.cellRanges=i,t&&this.dispatchChangedEvent(!1,!0)}},e.prototype.updateValuesOnMove=function(t){var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.getCtrlForEventTarget(this.gridOptionsService,t,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Ekq.DOM_DATA_KEY_CELL_CTRL),n=null==e?void 0:e.getCellPosition();this.cellHasChanged=!1,!n||this.lastCellHovered&&this.cellPositionUtils.equals(n,this.lastCellHovered)||(this.lastCellHovered&&(this.cellHasChanged=!0),this.lastCellHovered=n)},e.prototype.onDragging=function(t){var e=this;if(this.dragging&&t){this.updateValuesOnMove(t.target),this.lastMouseEvent=t;var n=this.lastCellHovered,o=function(t){return n&&n.rowPinned===t&&e.newestRangeStartCell.rowPinned===t},r=o("top")||o("bottom");if(this.autoScrollService.check(t,r),this.cellHasChanged){var i=this.calculateColumnsBetween(this.newestRangeStartCell.column,n.column);i&&(this.draggingRange.endRow={rowIndex:n.rowIndex,rowPinned:n.rowPinned},this.draggingRange.columns=i,this.dispatchChangedEvent(!1,!1,this.draggingRange.id))}}},e.prototype.onDragStop=function(){if(this.dragging){var t=this.draggingRange.id;this.autoScrollService.ensureCleared(),this.ctrlsService.getGridBodyCtrl().removeScrollEventListener(this.bodyScrollListener),this.lastMouseEvent=null,this.dragging=!1,this.draggingRange=void 0,this.lastCellHovered=void 0,this.intersectionRange&&(this.intersectionRange=!1,this.intersectLastRange()),this.dispatchChangedEvent(!1,!0,t)}},e.prototype.dispatchChangedEvent=function(t,e,n){var o={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_RANGE_SELECTION_CHANGED,started:t,finished:e,id:n};this.eventService.dispatchEvent(o)},e.prototype.calculateColumnsBetween=function(t,e){var n=this.columnModel.getAllDisplayedColumns(),o=t===e,r=n.indexOf(t);if(r<0)console.warn("AG Grid: column "+t.getId()+" is not visible");else{var i=o?r:n.indexOf(e);if(!(i<0)){if(o)return[t];for(var s=Math.min(r,i),a=s===r?i:r,l=[],c=s;c<=a;c++)l.push(n[c]);return l}console.warn("AG Grid: column "+e.getId()+" is not visible")}},__decorate$J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"rowModel",void 0),__decorate$J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragService")],e.prototype,"dragService",void 0),__decorate$J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellNavigationService")],e.prototype,"cellNavigationService",void 0),__decorate$J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),__decorate$J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),__decorate$J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),__decorate$J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$J([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e=__decorate$J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("rangeService")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$M=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$I=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},AbstractSelectionHandle=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.changedCalculatedValues=!1,e.dragging=!1,e.shouldDestroyOnEndDragging=!1,e}return __extends$M(e,t),e.prototype.init=function(){var t=this;this.dragService.addDragSource({dragStartPixels:0,eElement:this.getGui(),onDragStart:this.onDragStart.bind(this),onDragging:function(e){t.dragging=!0,t.rangeService.autoScrollService.check(e),t.changedCalculatedValues&&(t.onDrag(e),t.changedCalculatedValues=!1)},onDragStop:function(e){t.dragging=!1,t.onDragEnd(e),t.clearValues(),t.rangeService.autoScrollService.ensureCleared(),document.body.classList.remove(t.getDraggingCssClass()),t.shouldDestroyOnEndDragging&&t.destroy()}}),this.addManagedListener(this.getGui(),"mousedown",this.preventRangeExtension.bind(this))},e.prototype.isDragging=function(){return this.dragging},e.prototype.getCellCtrl=function(){return this.cellCtrl},e.prototype.setCellCtrl=function(t){this.cellCtrl=t},e.prototype.getCellRange=function(){return this.cellRange},e.prototype.setCellRange=function(t){this.cellRange=t},e.prototype.getRangeStartRow=function(){return this.rangeStartRow},e.prototype.setRangeStartRow=function(t){this.rangeStartRow=t},e.prototype.getRangeEndRow=function(){return this.rangeEndRow},e.prototype.setRangeEndRow=function(t){this.rangeEndRow=t},e.prototype.getLastCellHovered=function(){return this.lastCellHovered},e.prototype.preventRangeExtension=function(t){t.stopPropagation()},e.prototype.onDragStart=function(t){this.cellHoverListener=this.addManagedListener(this.ctrlsService.getGridCtrl().getGui(),"mousemove",this.updateValuesOnMove.bind(this)),document.body.classList.add(this.getDraggingCssClass())},e.prototype.getDraggingCssClass=function(){return"ag-dragging-"+(this.type===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Lm6.FILL?"fill":"range")+"-handle"},e.prototype.updateValuesOnMove=function(t){var e=this.mouseEventService.getCellPositionForEvent(t);!e||this.lastCellHovered&&this.cellPositionUtils.equals(e,this.lastCellHovered)||(this.lastCellHovered=e,this.changedCalculatedValues=!0)},e.prototype.getType=function(){return this.type},e.prototype.refresh=function(t){var e=this.getCellCtrl(),n=this.getGui(),o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.rangeService.getCellRanges()),r=o.startRow,i=o.endRow;r&&i&&(this.rowPositionUtils.before(i,r)?(this.setRangeStartRow(i),this.setRangeEndRow(r)):(this.setRangeStartRow(r),this.setRangeEndRow(i)));if(e!==t||!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.isVisible(n)){this.setCellCtrl(t);var s=t.getComp().getParentOfValue();s&&s.appendChild(n)}this.setCellRange(o)},e.prototype.clearValues=function(){this.lastCellHovered=void 0,this.removeListeners()},e.prototype.removeListeners=function(){this.cellHoverListener&&(this.cellHoverListener(),this.cellHoverListener=void 0)},e.prototype.destroy=function(){if(!this.shouldDestroyOnEndDragging&&this.isDragging())return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.getGui(),!1),void(this.shouldDestroyOnEndDragging=!0);this.shouldDestroyOnEndDragging=!1,t.prototype.destroy.call(this),this.removeListeners();var e=this.getGui();e.parentElement&&e.parentElement.removeChild(e)},__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],e.prototype,"rowRenderer",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragService")],e.prototype,"dragService",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rangeService")],e.prototype,"rangeService",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("mouseEventService")],e.prototype,"mouseEventService",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellNavigationService")],e.prototype,"cellNavigationService",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("navigationService")],e.prototype,"navigationService",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$I([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2);function findLineByLeastSquares(t){var e=t.length,n=0;if(e<=1)return t;for(var o=0;o<t.length;o++){var r=t[o],i=r.toString().split("e-");i.length>1?n=Math.max(n,parseInt(i[1],10)):Math.floor(r)!==r&&(n=Math.max(n,r.toString().split(".")[1].length))}for(var s=0,a=0,l=0,c=0,u=0,d=0;d<e;d++)s+=d,a+=u=t[d],c+=d*d,l+=d*u;var p=(e*l-s*a)/(e*c-s*s),h=a/e-p*s/e,f=[];for(d=0;d<=e;d++)f.push(parseFloat((d*p+h).toFixed(n)));return f}var __extends$L=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$8=function(){return __assign$8=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$8.apply(this,arguments)},__decorate$H=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__read$b=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$5=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$b(arguments[e]));return t},FillHandle=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.markedCells=[],n.cellValues=[],n.isUp=!1,n.isLeft=!1,n.isReduce=!1,n.type=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Lm6.FILL,n}return __extends$L(e,t),e.prototype.updateValuesOnMove=function(e){t.prototype.updateValuesOnMove.call(this,e),this.initialXY||(this.initialXY=this.mouseEventService.getNormalisedPosition(e));var n,o=this.initialXY,r=o.x,i=o.y,s=this.mouseEventService.getNormalisedPosition(e),a=s.x,l=s.y,c=Math.abs(r-a),u=Math.abs(i-l),d=this.getFillHandleDirection();(n="xy"===d?c>u?"x":"y":d)!==this.dragAxis&&(this.dragAxis=n,this.changedCalculatedValues=!0)},e.prototype.onDrag=function(t){if(!this.initialPosition){var e=this.getCellCtrl();if(!e)return;this.initialPosition=e.getCellPosition()}var n=this.getLastCellHovered();n&&this.markPathFrom(this.initialPosition,n)},e.prototype.onDragEnd=function(t){if(this.initialXY=null,this.markedCells.length){var e,n="x"===this.dragAxis,o=this.getCellRange(),r=o.columns.length,i=this.getRangeStartRow(),s=this.getRangeEndRow();if(this.isUp||this.isLeft){var a=n?i:this.lastCellMarked;e=this.rangeService.createCellRangeFromCellRangeParams({rowStartIndex:a.rowIndex,rowStartPinned:a.rowPinned,columnStart:n?this.lastCellMarked.column:o.columns[0],rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnEnd:o.columns[r-1]})}else e=this.rangeService.createCellRangeFromCellRangeParams({rowStartIndex:i.rowIndex,rowStartPinned:i.rowPinned,columnStart:o.columns[0],rowEndIndex:n?s.rowIndex:this.lastCellMarked.rowIndex,rowEndPinned:n?s.rowPinned:this.lastCellMarked.rowPinned,columnEnd:n?this.lastCellMarked.column:o.columns[r-1]});e&&(this.raiseFillStartEvent(),this.handleValueChanged(o,e,t),this.rangeService.setCellRanges([e]),this.raiseFillEndEvent(o,e))}},e.prototype.getFillHandleDirection=function(){var t=this.gridOptionsService.get("fillHandleDirection");return t?"x"!==t&&"y"!==t&&"xy"!==t?(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid: valid values for fillHandleDirection are 'x', 'y' and 'xy'. Default to 'xy'.")}),"warn invalid fill direction"),"xy"):t:"xy"},e.prototype.raiseFillStartEvent=function(){var t={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FILL_START};this.eventService.dispatchEvent(t)},e.prototype.raiseFillEndEvent=function(t,e){var n={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FILL_END,initialRange:t,finalRange:e};this.eventService.dispatchEvent(n)},e.prototype.handleValueChanged=function(t,e,n){var o=this,r=this.rangeService.getRangeEndRow(t),i=this.rangeService.getRangeStartRow(t),s=this.rangeService.getRangeEndRow(e),a=this.rangeService.getRangeStartRow(e),l="y"===this.dragAxis;if(!this.isReduce||this.gridOptionsService.is("suppressClearOnFillReduction")){var c=!0,u=[],d=[],p=0,h=function(){u.length=0,d.length=0,p=0},f=function(e,n){var d=o.isUp?r:i,p=!1;l&&(c=!0,h());for(var f=function(){var f=o.rowPositionUtils.getRowNode(d);if(!f)return"break";l&&e?g(u,e,f,(function(){return!o.rowPositionUtils.sameRow(d,o.isUp?i:r)})):n&&(c=!0,h(),n.forEach((function(e){return g(u,e,f,(function(){return e!==(o.isLeft?t.columns[0]:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(t.columns))}))}))),p=o.rowPositionUtils.sameRow(d,o.isUp?a:s),d=o.isUp?o.cellNavigationService.getRowAbove(d):o.cellNavigationService.getRowBelow(d)};!p&&d;){if("break"===f())break}},g=function(t,e,r,i){var s,a=!1;if(c)s=o.valueService.getValue(e,r),d.push(s),c=i();else{var l=o.processValues(n,t,d,e,r,p++),u=l.value,h=l.fromUserFunction;if(s=u,e.isCellEditable(r)){var f=o.valueService.getValue(e,r);h&&f===s?a=!0:r.setDataValue(e,s,"rangeService")}}a||t.push(s)};if(l)t.columns.forEach((function(t){f(t)}));else{_=this.isLeft?__spread$5(e.columns).reverse():e.columns;f(void 0,_)}}else{var _=l?t.columns:t.columns.filter((function(t){return e.columns.indexOf(t)<0})),m=l?this.cellNavigationService.getRowBelow(s):a;m&&this.clearCellsInRange(m,r,_)}},e.prototype.clearCellsInRange=function(t,e,n){var o={startRow:t,endRow:e,columns:n,startColumn:n[0]};this.rangeService.clearCellRangeCellValues([o])},e.prototype.processValues=function(t,e,n,o,r,i){var s,a=this.gridOptionsService.getCallback("fillOperation");if(s="y"===this.dragAxis?this.isUp?"up":"down":this.isLeft?"left":"right",a){var l=a({event:t,values:e,initialValues:n,currentIndex:i,currentCellValue:this.valueService.getValue(o,r),direction:s,column:o,rowNode:r});if(!1!==l)return{value:l,fromUserFunction:!0}}var c=!e.some((function(t){var e=parseFloat(t);return isNaN(e)||e.toString()!==t.toString()}));if(t.altKey||!c){if(c&&1===n.length){var u=this.isUp||this.isLeft?-1:1;return{value:parseFloat(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(e))+1*u,fromUserFunction:!1}}return{value:e[i%e.length],fromUserFunction:!1}}return{value:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(findLineByLeastSquares(e.map(Number))),fromUserFunction:!1}},e.prototype.clearValues=function(){this.clearMarkedPath(),this.clearCellValues(),this.lastCellMarked=void 0,t.prototype.clearValues.call(this)},e.prototype.clearMarkedPath=function(){this.markedCells.forEach((function(t){if(t.isAlive()){var e=t.getComp();e.addOrRemoveCssClass("ag-selection-fill-top",!1),e.addOrRemoveCssClass("ag-selection-fill-right",!1),e.addOrRemoveCssClass("ag-selection-fill-bottom",!1),e.addOrRemoveCssClass("ag-selection-fill-left",!1)}})),this.markedCells.length=0,this.isUp=!1,this.isLeft=!1,this.isReduce=!1},e.prototype.clearCellValues=function(){this.cellValues.length=0},e.prototype.markPathFrom=function(t,e){if(this.clearMarkedPath(),this.clearCellValues(),"y"===this.dragAxis){if(this.rowPositionUtils.sameRow(e,t))return;var n=this.rowPositionUtils.before(e,t),o=this.getRangeStartRow(),r=this.getRangeEndRow();n&&(e.rowPinned==o.rowPinned&&e.rowIndex>=o.rowIndex||o.rowPinned!=r.rowPinned&&e.rowPinned==r.rowPinned&&e.rowIndex<=r.rowIndex)?(this.reduceVertical(t,e),this.isReduce=!0):(this.extendVertical(t,e,n),this.isReduce=!1)}else{var i=t.column,s=e.column;if(i===s)return;var a=this.columnModel.getAllDisplayedColumns(),l=a.indexOf(i),c=a.indexOf(s);c<=l&&c>=a.indexOf(this.getCellRange().columns[0])?(this.reduceHorizontal(t,e),this.isReduce=!0):(this.extendHorizontal(t,e,c<l),this.isReduce=!1)}this.lastCellMarked=e},e.prototype.extendVertical=function(t,e,n){var o=this.navigationService,r=this.rangeService,i=t;do{for(var s=this.getCellRange(),a=s.columns.length,l=0;l<a;l++){var c=s.columns[l],u={rowIndex:i.rowIndex,rowPinned:i.rowPinned},d=__assign$8(__assign$8({},u),{column:c}),p=r.isCellInSpecificRange(d,s),h=this.rowPositionUtils.sameRow(i,t);if(n&&(this.isUp=!0),!h){var f=o.getCellByPosition(d);if(f){this.markedCells.push(f);var g=f.getComp();p||(g.addOrRemoveCssClass("ag-selection-fill-left",0===l),g.addOrRemoveCssClass("ag-selection-fill-right",l===a-1)),g.addOrRemoveCssClass(n?"ag-selection-fill-top":"ag-selection-fill-bottom",this.rowPositionUtils.sameRow(i,e))}}}if(this.rowPositionUtils.sameRow(i,e))break}while(i=n?this.cellNavigationService.getRowAbove(i):this.cellNavigationService.getRowBelow(i))},e.prototype.reduceVertical=function(t,e){var n=t;do{for(var o=this.getCellRange(),r=o.columns.length,i=this.rowPositionUtils.sameRow(n,e),s=0;s<r;s++){var a={rowIndex:n.rowIndex,rowPinned:n.rowPinned},l=__assign$8(__assign$8({},a),{column:o.columns[s]}),c=this.navigationService.getCellByPosition(l);if(c)this.markedCells.push(c),c.getComp().addOrRemoveCssClass("ag-selection-fill-bottom",this.rowPositionUtils.sameRow(n,e))}if(i)break}while(n=this.cellNavigationService.getRowAbove(n))},e.prototype.extendHorizontal=function(t,e,n){var o=this,r=this.columnModel.getAllDisplayedColumns(),i=r.indexOf(n?e.column:t.column),s=r.indexOf(n?this.getCellRange().columns[0]:e.column),a=n?0:1,l=r.slice(i+a,s+a),c=this.getRangeStartRow(),u=this.getRangeEndRow();l.forEach((function(t){var e=c,r=!1;do{r=o.rowPositionUtils.sameRow(e,u);var i=o.navigationService.getCellByPosition({rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:t});if(i){o.markedCells.push(i);var s=i.getComp();s.addOrRemoveCssClass("ag-selection-fill-top",o.rowPositionUtils.sameRow(e,c)),s.addOrRemoveCssClass("ag-selection-fill-bottom",o.rowPositionUtils.sameRow(e,u)),n?(o.isLeft=!0,s.addOrRemoveCssClass("ag-selection-fill-left",t===l[0])):s.addOrRemoveCssClass("ag-selection-fill-right",t===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(l))}e=o.cellNavigationService.getRowBelow(e)}while(!r)}))},e.prototype.reduceHorizontal=function(t,e){var n=this,o=this.columnModel.getAllDisplayedColumns(),r=o.indexOf(e.column),i=o.indexOf(t.column),s=o.slice(r,i),a=this.getRangeStartRow(),l=this.getRangeEndRow();s.forEach((function(t){var e=a,o=!1;do{o=n.rowPositionUtils.sameRow(e,l);var r=n.navigationService.getCellByPosition({rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:t});if(r)n.markedCells.push(r),r.getComp().addOrRemoveCssClass("ag-selection-fill-right",t===s[0]);e=n.cellNavigationService.getRowBelow(e)}while(!o)}))},e.prototype.refresh=function(e){var n=this.rangeService.getCellRanges()[0];n.startRow&&n.endRow?t.prototype.refresh.call(this,e):this.destroy()},e.TEMPLATE='<div class="ag-fill-handle"></div>',__decorate$H([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),e}(AbstractSelectionHandle),__extends$K=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$7=function(){return __assign$7=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$7.apply(this,arguments)},RangeHandle=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.type=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Lm6.RANGE,n.rangeFixed=!1,n}return __extends$K(e,t),e.prototype.onDrag=function(t){var e=this.getLastCellHovered();if(e){var n=this.rangeService.getCellRanges(),o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(n);if(this.rangeFixed||(this.fixRangeStartEnd(o),this.rangeFixed=!0),this.endPosition={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column},2===n.length&&n[0].type===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.DIMENSION&&o.type===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.VALUE)!this.rowPositionUtils.sameRow(this.endPosition,this.rangeService.getRangeEndRow(o))&&this.rangeService.updateRangeEnd(n[0],__assign$7(__assign$7({},this.endPosition),{column:n[0].columns[0]}),!0);this.rangeService.extendLatestRangeToCell(this.endPosition)}},e.prototype.onDragEnd=function(t){var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.rangeService.getCellRanges());this.fixRangeStartEnd(e),this.rangeFixed=!1},e.prototype.fixRangeStartEnd=function(t){var e=this.rangeService.getRangeStartRow(t),n=this.rangeService.getRangeEndRow(t),o=t.columns[0];t.startRow=e,t.endRow=n,t.startColumn=o},e.TEMPLATE='<div class="ag-range-handle"></div>',e}(AbstractSelectionHandle),__extends$J=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$G=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},SelectionHandleFactory=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$J(e,t),e.prototype.createSelectionHandle=function(t){return this.createBean(t===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Lm6.RANGE?new RangeHandle:new FillHandle)},e=__decorate$G([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("selectionHandleFactory")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),VERSION$9="29.3.4",RangeSelectionModule={version:VERSION$9,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RangeSelectionModule,beans:[RangeService,SelectionHandleFactory],agStackComponents:[{componentName:"AgFillHandle",componentClass:FillHandle},{componentName:"AgRangeHandle",componentClass:RangeHandle}],dependantModules:[EnterpriseCoreModule]},__extends$I=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$F=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__read$a=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},AgColorPanel=function(t){function e(n){var o=t.call(this,e.TEMPLATE)||this;return o.H=1,o.S=1,o.B=1,o.A=1,o.isSpectrumDragging=!1,o.isSpectrumHueDragging=!1,o.isSpectrumAlphaDragging=!1,o.colorChanged=!1,o.picker=n.picker,o}return __extends$I(e,t),e.prototype.postConstruct=function(){var t=this.getGui();this.initRecentColors(),this.addManagedListener(this.spectrumVal,"mousedown",this.onSpectrumDraggerDown.bind(this)),this.addManagedListener(t,"mousemove",this.onSpectrumDraggerMove.bind(this)),this.addManagedListener(this.spectrumHue,"mousedown",this.onSpectrumHueDown.bind(this)),this.addManagedListener(t,"mousemove",this.onSpectrumHueMove.bind(this)),this.addManagedListener(this.spectrumAlpha,"mousedown",this.onSpectrumAlphaDown.bind(this)),this.addManagedListener(t,"mousemove",this.onSpectrumAlphaMove.bind(this)),this.addManagedListener(document,"mouseup",this.onMouseUp.bind(this)),this.addManagedListener(this.recentColors,"click",this.onRecentColorClick.bind(this))},e.prototype.refreshSpectrumRect=function(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()},e.prototype.refreshHueRect=function(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()},e.prototype.refreshAlphaRect=function(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()},e.prototype.onSpectrumDraggerDown=function(t){this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(t)},e.prototype.onSpectrumDraggerMove=function(t){this.isSpectrumDragging&&this.moveDragger(t)},e.prototype.onSpectrumHueDown=function(t){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(t)},e.prototype.onSpectrumHueMove=function(t){this.isSpectrumHueDragging&&this.moveHueSlider(t)},e.prototype.onSpectrumAlphaDown=function(t){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(t)},e.prototype.onSpectrumAlphaMove=function(t){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(t)},e.prototype.onMouseUp=function(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1},e.prototype.moveDragger=function(t){var e=this.spectrumValRect;if(e){var n=t.clientX-e.left,o=t.clientY-e.top;n=Math.max(n,0),n=Math.min(n,e.width),o=Math.max(o,0),o=Math.min(o,e.height),this.setSpectrumValue(n/e.width,1-o/e.height)}},e.prototype.moveHueSlider=function(t){var e=this.spectrumHueRect;if(e){var n=this.spectrumHueSlider,o=n.getBoundingClientRect(),r=t.clientX-e.left;r=Math.max(r,0),r=Math.min(r,e.width),this.H=1-r/e.width,n.style.left=r+o.width/2+"px",this.update()}},e.prototype.moveAlphaSlider=function(t){var e=this.spectrumAlphaRect;if(e){var n=this.spectrumAlphaSlider,o=n.getBoundingClientRect(),r=t.clientX-e.left;r=Math.max(r,0),r=Math.min(r,e.width),this.A=r/e.width,n.style.left=r+o.width/2+"px",this.update()}},e.prototype.update=function(){var t=Color.fromHSB(360*this.H,this.S,this.B,this.A),e=Color.fromHSB(360*this.H,1,1),n=t.toRgbaString(),o=this.picker;Color.fromString(o.getValue()).toRgbaString()!==n&&(this.colorChanged=!0),o.setValue(n),this.spectrumColor.style.backgroundColor=e.toRgbaString(),this.spectrumDragger.style.backgroundColor=n},e.prototype.setSpectrumValue=function(t,e){var n=this.spectrumValRect||this.refreshSpectrumRect();if(n){var o=this.spectrumDragger,r=o.getBoundingClientRect();t=Math.max(0,t),t=Math.min(1,t),e=Math.max(0,e),e=Math.min(1,e),this.S=t,this.B=e,o.style.left=t*n.width-r.width/2+"px",o.style.top=(1-e)*n.height-r.height/2+"px",this.update()}},e.prototype.initRecentColors=function(){var t=e.recentColors.map((function(t,e){return'<div class="ag-recent-color" id='+e+' style="background-color: '+t+'; width: 15px; height: 15px;" recent-color="'+t+'"></div>'}));this.recentColors.innerHTML=t.join("")},e.prototype.setValue=function(t){var e=Color.fromString(t),n=__read$a(e.toHSB(),3),o=n[0],r=n[1],i=n[2];this.H=(isNaN(o)?0:o)/360,this.A=e.a;var s=this.spectrumHueRect||this.refreshHueRect(),a=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left=(this.H-1)*-s.width+"px",this.spectrumAlphaSlider.style.left=this.A*a.width+"px",this.setSpectrumValue(r,i)},e.prototype.onRecentColorClick=function(t){var n=t.target;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(n.id)){var o=parseInt(n.id,10);this.setValue(e.recentColors[o]),this.destroy()}},e.prototype.addRecentColor=function(){var t=Color.fromHSB(360*this.H,this.S,this.B,this.A).toRgbaString(),n=e.recentColors;this.colorChanged&&n[0]!==t&&(n=n.filter((function(e){return e!=t})),(n=[t].concat(n)).length>e.maxRecentColors&&(n=n.slice(0,e.maxRecentColors)),e.recentColors=n)},e.prototype.destroy=function(){this.addRecentColor(),t.prototype.destroy.call(this)},e.maxRecentColors=8,e.recentColors=[],e.TEMPLATE='<div class="ag-color-panel">\n            <div ref="spectrumColor" class="ag-spectrum-color">\n                <div class="ag-spectrum-sat ag-spectrum-fill">\n                    <div ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">\n                        <div ref="spectrumDragger" class="ag-spectrum-dragger"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="ag-spectrum-tools">\n                <div ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">\n                    <div class="ag-spectrum-hue-background"></div>\n                    <div ref="spectrumHueSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">\n                    <div class="ag-spectrum-alpha-background"></div>\n                    <div ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="recentColors" class="ag-recent-colors"></div>\n            </div>\n        </div>',__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("spectrumColor")],e.prototype,"spectrumColor",void 0),__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("spectrumVal")],e.prototype,"spectrumVal",void 0),__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("spectrumDragger")],e.prototype,"spectrumDragger",void 0),__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("spectrumHue")],e.prototype,"spectrumHue",void 0),__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("spectrumHueSlider")],e.prototype,"spectrumHueSlider",void 0),__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("spectrumAlpha")],e.prototype,"spectrumAlpha",void 0),__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("spectrumAlphaSlider")],e.prototype,"spectrumAlphaSlider",void 0),__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("recentColors")],e.prototype,"recentColors",void 0),__decorate$F([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$H=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),AgColorPicker=function(t){function e(e){var n=t.call(this,e,"ag-color-picker","colorPicker")||this;return e&&e.color&&(n.value=e.color),n}return __extends$H(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.value&&this.setValue(this.value)},e.prototype.showPicker=function(){var t=this,e=this.getGui().getBoundingClientRect(),n=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$zI({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:e.right-190,y:e.top-250}));this.isPickerDisplayed=!0,n.addCssClass("ag-color-dialog"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaExpanded(this.eWrapper,!0);var o=this.createBean(new AgColorPanel({picker:this}));return o.addDestroyFunc((function(){n.isAlive()&&t.destroyBean(n)})),n.setParentComponent(this),n.setBodyComponent(o),o.setValue(this.getValue()),n.addDestroyFunc((function(){t.isDestroyingPicker?t.isDestroyingPicker=!1:(t.isDestroyingPicker=!0,o.isAlive()&&t.destroyBean(o)),t.isAlive()&&(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaExpanded(t.eWrapper,!1),t.getFocusableElement().focus()),t.isPickerDisplayed=!1})),n},e.prototype.setValue=function(e){return this.value===e?this:(this.eDisplayField.style.backgroundColor=e,t.prototype.setValue.call(this,e))},e.prototype.getValue=function(){return this.value},e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.MQo),__read$9=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},VERSION_CHECKING_FIRST_GRID_MAJOR_VERSION=28,VERSION_CHECKING_FIRST_CHARTS_MAJOR_VERSION=6;function isValidVersion(t){return t&&t.match(/\d+\.\d+\.\d+/)}function isValidMajorVersion(t){var e=t.gridMajorVersion,n=t.chartsMajorVersion,o=parseInt(e,10),r=parseInt(n,10),i=o-VERSION_CHECKING_FIRST_GRID_MAJOR_VERSION;return i===r-VERSION_CHECKING_FIRST_CHARTS_MAJOR_VERSION&&i>=0}function gridChartVersion(t){if(t&&isValidVersion(t)){var e=__read$9(t.split(".")||[],2),n=e[0],o=e[1],r=n+"."+o+".x",i=parseInt(n,10)-VERSION_CHECKING_FIRST_GRID_MAJOR_VERSION+VERSION_CHECKING_FIRST_CHARTS_MAJOR_VERSION;if(!(i<0))return{gridMajorMinor:r,chartsMajorMinor:i+"."+o+".x"}}}function validGridChartsVersionErrorMessage(t){var e=t.type,n=t.gridVersion,o=t.chartsVersion,r="AG Grid: AG Grid version is incompatible. Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information.";if(!n)return r;var i=gridChartVersion(n);if(!i)return r;var s=i.gridMajorMinor,a=i.chartsMajorMinor;return"incompatible"===e?"AG Grid version "+n+" and AG Charts version "+o+" is not supported. AG Grid version "+s+" should be used with AG Chart "+a+". Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information.":"invalidCharts"===e?"AG Grid version "+s+" should be used with AG Chart "+a+". Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information.":r}function validGridChartsVersion(t){var e=t.gridVersion,n=t.chartsVersion;if(!isValidVersion(n))return{isValid:!1,message:validGridChartsVersionErrorMessage({type:"invalidCharts",gridVersion:e,chartsVersion:n})};if(!isValidVersion(e))return{isValid:!1,message:validGridChartsVersionErrorMessage({type:"invalidGrid",gridVersion:e,chartsVersion:n})};var o=__read$9(e.split(".")||[],2),r=o[0],i=o[1],s=__read$9(n.split(".")||[],2),a=s[0],l=s[1],c=isValidMajorVersion({gridMajorVersion:r,chartsMajorVersion:a});return c&&i===l?{isValid:!0}:c&&i===l?{isValid:!1,message:validGridChartsVersionErrorMessage({type:"invalid",gridVersion:e,chartsVersion:n})}:{isValid:!1,message:validGridChartsVersionErrorMessage({type:"incompatible",gridVersion:e,chartsVersion:n})}}var GridChartsModule={version:VERSION$a,validate:function(){return validGridChartsVersion({gridVersion:VERSION$a,chartsVersion:ChartService.CHARTS_VERSION})},moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.GridChartsModule,beans:[ChartService,ChartTranslationService,ChartCrossFilterService],agStackComponents:[{componentName:"AgColorPicker",componentClass:AgColorPicker},{componentName:"AgAngleSelect",componentClass:AgAngleSelect}],dependantModules:[RangeSelectionModule,EnterpriseCoreModule]},__FORCE_MODULE_DETECTION_AG_GRID_CORE_EXT=0,agCharts={time,AgChart},__extends$G=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$6=function(){return __assign$6=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$6.apply(this,arguments)},__decorate$E=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},DetailCellRendererCtrl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loadRowDataVersion=0,e.needRefresh=!1,e}return __extends$G(e,t),e.prototype.init=function(t,e){var n=this;this.params=e,this.comp=t,null!=e.pinned||(this.setAutoHeightClasses(),this.setupRefreshStrategy(),this.addThemeToDetailGrid(),this.createDetailGrid(),this.loadRowData(),this.addManagedListener(e.node.parent,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk.EVENT_DATA_CHANGED,(function(){n.needRefresh=!0})),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FULL_WIDTH_ROW_FOCUSED,this.onFullWidthRowFocused.bind(this)))},e.prototype.onFullWidthRowFocused=function(t){var e=this.params,n={rowIndex:e.node.rowIndex,rowPinned:e.node.rowPinned},o={rowIndex:t.rowIndex,rowPinned:t.rowPinned};this.rowPositionUtils.sameRow(n,o)&&this.focusService.focusInto(this.comp.getGui(),t.fromBelow)},e.prototype.setAutoHeightClasses=function(){var t=this.gridOptionsService.is("detailRowAutoHeight"),e=t?"ag-details-row-auto-height":"ag-details-row-fixed-height",n=t?"ag-details-grid-auto-height":"ag-details-grid-fixed-height";this.comp.addOrRemoveCssClass(e,!0),this.comp.addOrRemoveDetailGridCssClass(n,!0)},e.prototype.setupRefreshStrategy=function(){var t=this.params.refreshStrategy;"everything"==t||"nothing"==t||"rows"==t?this.refreshStrategy=t:(null!=t&&console.warn("AG Grid: invalid cellRendererParams.refreshStrategy = '"+t+"' supplied, defaulting to refreshStrategy = 'rows'."),this.refreshStrategy="rows")},e.prototype.addThemeToDetailGrid=function(){var t=this.environment.getTheme().theme;t&&this.comp.addOrRemoveDetailGridCssClass(t,!0)},e.prototype.createDetailGrid=function(){if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(this.params.detailGridOptions))console.warn("AG Grid: could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions");else{var t=this.gridOptionsService.is("detailRowAutoHeight"),e=__assign$6({},this.params.detailGridOptions);t&&(e.domLayout="autoHeight"),this.comp.setDetailGrid(e)}},e.prototype.registerDetailWithMaster=function(t,e){var n=this.params.node.id,o=this.params.api,r={id:n,api:t,columnApi:e},i=this.params.node;o.addDetailGridInfo(n,r),i.detailGridInfo=r,this.addDestroyFunc((function(){i.detailGridInfo===r&&(o.removeDetailGridInfo(n),i.detailGridInfo=null)}))},e.prototype.loadRowData=function(){var t=this;this.loadRowDataVersion++;var e=this.loadRowDataVersion,n=this.params.getDetailRowData;if(n){n({node:this.params.node,data:this.params.node.data,successCallback:function(n){t.loadRowDataVersion===e&&t.comp.setRowData(n)},context:this.gridOptionsService.context})}else console.warn("AG Grid: could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData")},e.prototype.refresh=function(){return!this.needRefresh||"nothing"===this.refreshStrategy||(this.needRefresh=!1,"everything"!==this.refreshStrategy&&(this.loadRowData(),true))},__decorate$E([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),__decorate$E([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$F=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$D=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},DetailCellRenderer=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$F(e,t),e.prototype.init=function(t){var e=this;this.params=t,this.selectAndSetTemplate();var n={addOrRemoveCssClass:function(t,n){return e.addOrRemoveCssClass(t,n)},addOrRemoveDetailGridCssClass:function(t,n){return e.eDetailGrid.classList.toggle(t,n)},setDetailGrid:function(t){return e.setDetailGrid(t)},setRowData:function(t){return e.setRowData(t)},getGui:function(){return e.eDetailGrid}};this.ctrl=this.createManagedBean(new DetailCellRendererCtrl),this.ctrl.init(n,t)},e.prototype.refresh=function(){return this.ctrl&&this.ctrl.refresh()},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.selectAndSetTemplate=function(){var t=this;if(this.params.pinned)this.setTemplate('<div class="ag-details-row"></div>');else{var n=function(){t.setTemplate(e.TEMPLATE)};if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(this.params.template))n();else if("string"==typeof this.params.template)this.setTemplate(this.params.template);else if("function"==typeof this.params.template){var o=(0,this.params.template)(this.params);this.setTemplate(o)}else console.warn("AG Grid: detailCellRendererParams.template should be function or string"),n();null==this.eDetailGrid&&console.warn('AG Grid: reference to eDetailGrid was missing from the details template. Please add ref="eDetailGrid" to the template.')}},e.prototype.setDetailGrid=function(t){if(this.eDetailGrid){var e=this.context.getBean("agGridReact"),n=e?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.cloneObject(e):void 0,o=this.context.getBean("frameworkComponentWrapper"),r=this.getFrameworkOverrides();new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rjZ(this.eDetailGrid,t,{frameworkOverrides:r,providedBeanInstances:{agGridReact:n,frameworkComponentWrapper:o}}),this.detailApi=t.api,this.ctrl.registerDetailWithMaster(t.api,t.columnApi),this.addDestroyFunc((function(){t.api&&t.api.destroy()}))}},e.prototype.setRowData=function(t){this.detailApi&&this.detailApi.setRowData(t)},e.TEMPLATE='<div class="ag-details-row" role="gridcell">\n            <div ref="eDetailGrid" class="ag-details-grid" role="presentation"></div>\n        </div>',__decorate$D([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eDetailGrid")],e.prototype,"eDetailGrid",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),VERSION$8="29.3.4",MasterDetailModule={version:VERSION$8,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.MasterDetailModule,beans:[],userComponents:[{componentName:"agDetailCellRenderer",componentClass:DetailCellRenderer}],controllers:[{controllerName:"detailCellRenderer",controllerClass:DetailCellRendererCtrl}],dependantModules:[EnterpriseCoreModule]},__extends$E=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$C=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},EnterpriseMenuFactory=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$E(e,t),e.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},e.prototype.showMenuAfterMouseEvent=function(t,e,n){var o=this;this.showMenu(t,(function(r){var i=r.getGui();o.popupService.positionPopupUnderMouseEvent({type:"columnMenu",column:t,mouseEvent:e,ePopup:i}),n&&r.showTab(n)}),"columnMenu",n,void 0,e.target)},e.prototype.showMenuAfterButtonClick=function(t,e,n,o,r){var i=this,s=-1,a="left";this.gridOptionsService.is("enableRtl")&&(s=1,a="right"),this.showMenu(t,(function(r){var l=r.getGui();i.popupService.positionPopupByComponent({type:n,column:t,eventSource:e,ePopup:l,alignSide:a,nudgeX:9*s,nudgeY:-23,position:"under",keepWithinBounds:!0}),o&&r.showTab(o)}),n,o,r,e)},e.prototype.showMenu=function(t,e,n,o,r,i){var s=this,a=this.getMenuParams(t,r,i),l=a.menu,c=a.eMenuGui,u=a.currentHeaderPosition,d=a.currentColumnIndex,p=a.anchorToElement,h=[];h.push(this.getClosedCallback(t,l,u,d,i));var f=this.localeService.getLocaleTextFunc(),g=this.popupService.addPopup({modal:!0,eChild:c,closeOnEsc:!0,closedCallback:function(t){h.forEach((function(e){return e(t)}))},afterGuiAttached:function(t){return l.afterGuiAttached(Object.assign({},{container:n},t))},positionCallback:o?function(){return e(l)}:void 0,anchorToElement:p,ariaLabel:f("ariaLabelColumnMenu","Column Menu")});this.addStopAnchoring(null==g?void 0:g.stopAnchoringPromise,t,h),o||(l.showTabBasedOnPreviousSelection(),e(l)),l.addEventListener(EnterpriseMenu.EVENT_TAB_SELECTED,(function(t){s.lastSelectedTab=t.key})),t.setMenuVisible(!0,"contextMenu"),this.activeMenu=l,l.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9.EVENT_DESTROYED,(function(){s.activeMenu===l&&(s.activeMenu=null)}))},e.prototype.getClosedCallback=function(t,e,n,o,r){var i=this;return function(s){if(i.destroyBean(e),t.setMenuVisible(!1,"contextMenu"),s instanceof KeyboardEvent&&r)if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.isVisible(r)){var a=i.focusService.findTabbableParent(r);a&&(t&&i.headerNavigationService.scrollToColumn(t),a.focus())}else if(n&&-1!==o){var l=i.columnModel.getAllDisplayedColumns(),c=l[o]||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(l);c&&i.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:n.headerRowIndex,column:c}})}}},e.prototype.addStopAnchoring=function(t,e,n){t&&t.then((function(t){e.addEventListener("leftChanged",t),e.addEventListener("visibleChanged",t),n.push((function(){e.removeEventListener("leftChanged",t),e.removeEventListener("visibleChanged",t)}))}))},e.prototype.getMenuParams=function(t,e,n){var o=this.createBean(new EnterpriseMenu(t,this.lastSelectedTab,e));return{menu:o,eMenuGui:o.getGui(),currentHeaderPosition:this.focusService.getFocusedHeader(),currentColumnIndex:this.columnModel.getAllDisplayedColumns().indexOf(t),anchorToElement:n||this.ctrlsService.getGridBodyCtrl().getGui()}},e.prototype.isMenuEnabled=function(t){return t.getMenuTabs(EnterpriseMenu.TABS_DEFAULT).length>0},__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("popupService")],e.prototype,"popupService",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("headerNavigationService")],e.prototype,"headerNavigationService",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),e=__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("menuFactory")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),EnterpriseMenu=function(t){function e(n,o,r){var i=t.call(this)||this;return i.tabFactories={},i.includeChecks={},i.column=n,i.initialSelection=o,i.tabFactories[e.TAB_GENERAL]=i.createMainPanel.bind(i),i.tabFactories[e.TAB_FILTER]=i.createFilterPanel.bind(i),i.tabFactories[e.TAB_COLUMNS]=i.createColumnsPanel.bind(i),i.includeChecks[e.TAB_GENERAL]=function(){return!0},i.includeChecks[e.TAB_FILTER]=function(){return i.filterManager.isFilterAllowed(n)},i.includeChecks[e.TAB_COLUMNS]=function(){return!0},i.restrictTo=r,i}return __extends$E(e,t),e.prototype.init=function(){var t=this,e=this.getTabsToCreate().map((function(e){return t.createTab(e)}));this.tabbedLayout=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.WD6({items:e,cssClass:"ag-menu",onActiveItemClicked:this.onHidePopup.bind(this),onItemClicked:this.onTabItemClicked.bind(this)}),this.createBean(this.tabbedLayout),this.mainMenuList&&this.mainMenuList.setParentComponent(this.tabbedLayout),this.addDestroyFunc((function(){return t.destroyBean(t.tabbedLayout)}))},e.prototype.getTabsToCreate=function(){var t=this;return this.restrictTo?this.restrictTo:this.column.getMenuTabs(e.TABS_DEFAULT).filter((function(e){return t.isValidMenuTabItem(e)})).filter((function(e){return t.isNotSuppressed(e)})).filter((function(e){return t.isModuleLoaded(e)}))},e.prototype.isModuleLoaded=function(t){return t!==e.TAB_COLUMNS||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ColumnsToolPanelModule)},e.prototype.isValidMenuTabItem=function(t){var n=!0,o=e.TABS_DEFAULT;return null!=this.restrictTo&&(n=this.restrictTo.indexOf(t)>-1,o=this.restrictTo),(n=n&&e.TABS_DEFAULT.indexOf(t)>-1)||console.warn("AG Grid: Trying to render an invalid menu item '"+t+"'. Check that your 'menuTabs' contains one of ["+o+"]"),n},e.prototype.isNotSuppressed=function(t){return this.includeChecks[t]()},e.prototype.createTab=function(t){return this.tabFactories[t]()},e.prototype.showTabBasedOnPreviousSelection=function(){this.showTab(this.initialSelection)},e.prototype.showTab=function(t){this.tabItemColumns&&t===e.TAB_COLUMNS?this.tabbedLayout.showItem(this.tabItemColumns):this.tabItemFilter&&t===e.TAB_FILTER?this.tabbedLayout.showItem(this.tabItemFilter):this.tabItemGeneral&&t===e.TAB_GENERAL?this.tabbedLayout.showItem(this.tabItemGeneral):this.tabbedLayout.showFirstItem()},e.prototype.onTabItemClicked=function(t){var n=null;switch(t.item){case this.tabItemColumns:n=e.TAB_COLUMNS;break;case this.tabItemFilter:n=e.TAB_FILTER;break;case this.tabItemGeneral:n=e.TAB_GENERAL}n&&this.activateTab(n)},e.prototype.activateTab=function(t){var n={type:e.EVENT_TAB_SELECTED,key:t};this.dispatchEvent(n)},e.prototype.getMenuItems=function(){var t,n=this.getDefaultMenuOptions(),o=this.gridOptionsService.getCallback("getMainMenuItems");return t=o?o({column:this.column,defaultItems:n}):n,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeRepeatsFromArray(t,e.MENU_ITEM_SEPARATOR),t},e.prototype.getDefaultMenuOptions=function(){var t=[],n=!this.column.getColDef().lockPinned,o=this.columnModel.getRowGroupColumns().length,r=o>0,i=this.columnModel.getRowGroupColumns().indexOf(this.column)>=0,s=this.column.isAllowValue(),a=this.column.isAllowRowGroup(),l=this.column.isPrimary(),c=this.columnModel.isPivotMode(),u="clientSide"===this.rowModel.getType(),d=this.gridOptionsService.isTreeData(),p=l&&r&&s||!l;return n&&t.push("pinSubMenu"),p&&t.push("valueAggSubMenu"),(n||p)&&t.push(e.MENU_ITEM_SEPARATOR),t.push("autoSizeThis"),t.push("autoSizeAll"),t.push(e.MENU_ITEM_SEPARATOR),a&&this.column.isPrimary()&&(i?t.push("rowUnGroup"):t.push("rowGroup")),t.push(e.MENU_ITEM_SEPARATOR),t.push("resetColumns"),u&&(d||o>(c?1:0))&&(t.push("expandAll"),t.push("contractAll")),t},e.prototype.createMainPanel=function(){this.mainMenuList=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O_3);var t=this.getMenuItems(),n=this.menuItemMapper.mapWithStockItems(t,this.column);return this.mainMenuList.addMenuItems(n),this.mainMenuList.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sJC.EVENT_MENU_ITEM_SELECTED,this.onHidePopup.bind(this)),this.tabItemGeneral={title:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("menu",this.gridOptionsService,this.column),titleLabel:e.TAB_GENERAL.replace("MenuTab",""),bodyPromise:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve(this.mainMenuList.getGui()),name:e.TAB_GENERAL},this.tabItemGeneral},e.prototype.onHidePopup=function(t){var e;t&&t.event&&t.event instanceof KeyboardEvent&&(e=t.event),this.hidePopupFunc(e&&{keyboardEvent:e});var n=this.focusService.getFocusedCell(),o=this.gridOptionsService.getDocument();if(o.activeElement===o.body&&n){var r=n.rowIndex,i=n.rowPinned,s=n.column;this.focusService.setFocusedCell({rowIndex:r,column:s,rowPinned:i,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}},e.prototype.createFilterPanel=function(){var t=this.filterManager.getOrCreateFilterWrapper(this.column,"COLUMN_MENU");if(!t)throw new Error("AG Grid - Unable to instantiate filter");return this.tabItemFilter={title:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("filter",this.gridOptionsService,this.column),titleLabel:e.TAB_FILTER.replace("MenuTab",""),bodyPromise:null==t?void 0:t.guiPromise,afterAttachedCallback:function(e){(null==t?void 0:t.filterPromise)&&t.filterPromise.then((function(t){t&&t.afterGuiAttached&&t.afterGuiAttached(e)}))},afterDetachedCallback:function(){var e;return null===(e=null==t?void 0:t.filterPromise)||void 0===e?void 0:e.then((function(t){var e;return null===(e=null==t?void 0:t.afterGuiDetached)||void 0===e?void 0:e.call(t)}))},name:e.TAB_FILTER},this.tabItemFilter},e.prototype.createColumnsPanel=function(){var t=document.createElement("div");t.classList.add("ag-menu-column-select-wrapper");var n=this.createManagedBean(new PrimaryColsPanel),o=this.column.getColDef().columnsMenuParams;o||(o={});var r=o.contractColumnSelection,i=o.suppressColumnExpandAll,s=o.suppressColumnFilter,a=o.suppressColumnSelectAll,l=o.suppressSyncLayoutWithGrid,c=o.columnLayout;n.init(!1,{suppressColumnMove:!1,suppressValues:!1,suppressPivots:!1,suppressRowGroups:!1,suppressPivotMode:!1,contractColumnSelection:!!r,suppressColumnExpandAll:!!i,suppressColumnFilter:!!s,suppressColumnSelectAll:!!a,suppressSyncLayoutWithGrid:!!c||!!l,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context},"columnMenu"),c&&n.setColumnLayout(c);var u=n.getGui();return u.classList.add("ag-menu-column-select"),t.appendChild(u),this.tabItemColumns={title:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columns",this.gridOptionsService,this.column),titleLabel:e.TAB_COLUMNS.replace("MenuTab",""),bodyPromise:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve(t),name:e.TAB_COLUMNS},this.tabItemColumns},e.prototype.afterGuiAttached=function(t){var e=t.container,n=t.hidePopup;this.tabbedLayout.setAfterAttachedParams({container:e,hidePopup:n}),n&&(this.hidePopupFunc=n,this.addDestroyFunc(n))},e.prototype.getGui=function(){return this.tabbedLayout.getGui()},e.EVENT_TAB_SELECTED="tabSelected",e.TAB_FILTER="filterMenuTab",e.TAB_GENERAL="generalMenuTab",e.TAB_COLUMNS="columnsMenuTab",e.TABS_DEFAULT=[e.TAB_GENERAL,e.TAB_FILTER,e.TAB_COLUMNS],e.MENU_ITEM_SEPARATOR="separator",__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],e.prototype,"filterManager",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],e.prototype,"columnApi",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("menuItemMapper")],e.prototype,"menuItemMapper",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"rowModel",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),__decorate$C([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$D=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$5=function(){return __assign$5=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$5.apply(this,arguments)},__decorate$B=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},CSS_MENU="ag-menu",CSS_CONTEXT_MENU_OPEN="ag-context-menu-open",ContextMenuFactory=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$D(e,t),e.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},e.prototype.getMenuItems=function(t,e,n){var o=[];if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t)&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule)&&e&&(this.gridOptionsService.is("suppressCutToClipboard")||o.push("cut"),o.push("copy","copyWithHeaders","copyWithGroupHeaders","paste","separator")),this.gridOptionsService.is("enableCharts")&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.GridChartsModule)&&(this.columnModel.isPivotMode()&&o.push("pivotChart"),this.rangeService&&!this.rangeService.isEmpty()&&o.push("chartRange")),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t)){var r=!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.CsvExportModule),i=!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ExcelExportModule),s=this.gridOptionsService.is("suppressExcelExport")||i,a=this.gridOptionsService.is("suppressCsvExport")||r;!(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.isIOSUserAgent()||s&&a)&&o.push("export")}var l=this.gridOptionsService.getCallback("getContextMenuItems");return l?l({node:t,column:e,value:n,defaultItems:o.length?o:void 0}):o},e.prototype.onContextMenu=function(t,e,n,o,r,i){if((this.gridOptionsService.is("allowContextMenuWithControlKey")||!t||!t.ctrlKey&&!t.metaKey)&&(t&&this.blockMiddleClickScrollsIfNeeded(t),!this.gridOptionsService.is("suppressContextMenu"))){var s=t||e.touches[0];if(this.showMenu(n,o,r,s,i))(t||e).preventDefault()}},e.prototype.blockMiddleClickScrollsIfNeeded=function(t){var e=this.gridOptionsService,n=t.which;e.is("suppressMiddleClickScrolls")&&2===n&&t.preventDefault()},e.prototype.showMenu=function(t,e,n,o,r){var i=this,s=this.getMenuItems(t,e,n),a=this.ctrlsService.getGridBodyCtrl().getGui();if(void 0===s||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missingOrEmpty(s))return!1;var l=new ContextMenu(s);this.createBean(l);var c=l.getGui(),u={column:e,rowNode:t,type:"contextMenu",mouseEvent:o,ePopup:c,nudgeY:1},d=this.localeService.getLocaleTextFunc(),p=this.popupService.addPopup({modal:!0,eChild:c,closeOnEsc:!0,closedCallback:function(){a.classList.remove(CSS_CONTEXT_MENU_OPEN),i.destroyBean(l)},click:o,positionCallback:function(){var t=i.gridOptionsService.is("enableRtl");i.popupService.positionPopupUnderMouseEvent(__assign$5(__assign$5({},u),{nudgeX:t?-1*(c.offsetWidth+1):1}))},anchorToElement:r,ariaLabel:d("ariaLabelContextMenu","Context Menu")});return p&&(a.classList.add(CSS_CONTEXT_MENU_OPEN),l.afterGuiAttached({container:"contextMenu",hidePopup:p.hideFunc})),this.activeMenu&&this.hideActiveMenu(),this.activeMenu=l,l.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9.EVENT_DESTROYED,(function(){i.activeMenu===l&&(i.activeMenu=null)})),p&&l.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sJC.EVENT_MENU_ITEM_SELECTED,p.hideFunc),!0},__decorate$B([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("popupService")],e.prototype,"popupService",void 0),__decorate$B([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("rangeService")],e.prototype,"rangeService",void 0),__decorate$B([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$B([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),e=__decorate$B([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("contextMenuFactory")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),ContextMenu=function(t){function e(e){var n=t.call(this,'<div class="'+CSS_MENU+'" role="presentation"></div>')||this;return n.menuList=null,n.focusedCell=null,n.menuItems=e,n}return __extends$D(e,t),e.prototype.addMenuItems=function(){var t=this,e=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O_3),n=this.menuItemMapper.mapWithStockItems(this.menuItems,null);e.addMenuItems(n),this.appendChild(e),this.menuList=e,e.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sJC.EVENT_MENU_ITEM_SELECTED,(function(e){return t.dispatchEvent(e)}))},e.prototype.afterGuiAttached=function(t){t.hidePopup&&this.addDestroyFunc(t.hidePopup),this.focusedCell=this.focusService.getFocusedCell(),this.menuList&&this.focusService.focusInto(this.menuList.getGui())},e.prototype.restoreFocusedCell=function(){var t=this.focusService.getFocusedCell();if(t&&this.focusedCell&&this.cellPositionUtils.equals(t,this.focusedCell)){var e=this.focusedCell,n=e.rowIndex,o=e.rowPinned,r=e.column,i=this.gridOptionsService.getDocument();i.activeElement===i.body&&this.focusService.setFocusedCell({rowIndex:n,column:r,rowPinned:o,forceBrowserFocus:!0})}},e.prototype.destroy=function(){this.restoreFocusedCell(),t.prototype.destroy.call(this)},__decorate$B([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("menuItemMapper")],e.prototype,"menuItemMapper",void 0),__decorate$B([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),__decorate$B([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),__decorate$B([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"addMenuItems",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$C=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$4=function(){return __assign$4=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$4.apply(this,arguments)},__decorate$A=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},MenuItemMapper=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$C(e,t),e.prototype.mapWithStockItems=function(t,e){var n=this;if(!t)return[];var o=[];return t.forEach((function(t){var r;if(r="string"==typeof t?n.getStockMenuItem(t,e):__assign$4({},t)){var i=r,s=i.subMenu;s&&s instanceof Array&&(i.subMenu=n.mapWithStockItems(s,e)),null!=r&&o.push(r)}})),o},e.prototype.getStockMenuItem=function(t,e){var n,o=this,r=this.localeService.getLocaleTextFunc(),i=this.gridOptionsService.is("skipHeaderOnAutoSize");switch(t){case"pinSubMenu":return{name:r("pinColumn","Pin Column"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("menuPin",this.gridOptionsService,null),subMenu:["clearPinned","pinLeft","pinRight"]};case"pinLeft":return{name:r("pinLeft","Pin Left"),action:function(){return o.columnModel.setColumnPinned(e,"left","contextMenu")},checked:!!e&&e.isPinnedLeft()};case"pinRight":return{name:r("pinRight","Pin Right"),action:function(){return o.columnModel.setColumnPinned(e,"right","contextMenu")},checked:!!e&&e.isPinnedRight()};case"clearPinned":return{name:r("noPin","No Pin"),action:function(){return o.columnModel.setColumnPinned(e,null,"contextMenu")},checked:!!e&&!e.isPinned()};case"valueAggSubMenu":return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RowGroupingModule,"Aggregation from Menu")&&((null==e?void 0:e.isPrimary())||(null==e?void 0:e.getColDef().pivotValueColumn))?{name:r("valueAggregation","Value Aggregation"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("menuValue",this.gridOptionsService,null),subMenu:this.createAggregationSubMenu(e)}:null;case"autoSizeThis":return{name:r("autosizeThiscolumn","Autosize This Column"),action:function(){return o.columnModel.autoSizeColumn(e,i,"contextMenu")}};case"autoSizeAll":return{name:r("autosizeAllColumns","Autosize All Columns"),action:function(){return o.columnModel.autoSizeAllColumns(i,"contextMenu")}};case"rowGroup":return{name:r("groupBy","Group by")+" "+ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(this.columnModel.getDisplayNameForColumn(e,"header")),action:function(){return o.columnModel.addRowGroupColumn(e,"contextMenu")},icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("menuAddRowGroup",this.gridOptionsService,null)};case"rowUnGroup":return{name:r("ungroupBy","Un-Group by")+" "+ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(this.columnModel.getDisplayNameForColumn(e,"header")),action:function(){return o.columnModel.removeRowGroupColumn(e,"contextMenu")},icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("menuRemoveRowGroup",this.gridOptionsService,null)};case"resetColumns":return{name:r("resetColumns","Reset Columns"),action:function(){return o.columnModel.resetColumnState("contextMenu")}};case"expandAll":return{name:r("expandAll","Expand All"),action:function(){return o.gridApi.expandAll()}};case"contractAll":return{name:r("collapseAll","Collapse All"),action:function(){return o.gridApi.collapseAll()}};case"copy":return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule,"Copy from Menu")?{name:r("copy","Copy"),shortcut:r("ctrlC","Ctrl+C"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("clipboardCopy",this.gridOptionsService,null),action:function(){return o.clipboardService.copyToClipboard()}}:null;case"copyWithHeaders":return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule,"Copy with Headers from Menu")?{name:r("copyWithHeaders","Copy with Headers"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("clipboardCopy",this.gridOptionsService,null),action:function(){return o.clipboardService.copyToClipboard({includeHeaders:!0})}}:null;case"copyWithGroupHeaders":return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule,"Copy with Group Headers from Menu")?{name:r("copyWithGroupHeaders","Copy with Group Headers"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("clipboardCopy",this.gridOptionsService,null),action:function(){return o.clipboardService.copyToClipboard({includeHeaders:!0,includeGroupHeaders:!0})}}:null;case"cut":if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule,"Cut from Menu")){var s=this.focusService.getFocusedCell(),a=s?this.rowPositionUtils.getRowNode(s):null,l=!!a&&(null==s?void 0:s.column.isCellEditable(a));return{name:r("cut","Cut"),shortcut:r("ctrlX","Ctrl+X"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("clipboardCut",this.gridOptionsService,null),disabled:!l||this.gridOptionsService.is("suppressCutToClipboard"),action:function(){return o.clipboardService.cutToClipboard()}}}return null;case"paste":return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule,"Paste from Clipboard")?{name:r("paste","Paste"),shortcut:r("ctrlV","Ctrl+V"),disabled:!0,icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("clipboardPaste",this.gridOptionsService,null),action:function(){return o.clipboardService.pasteFromClipboard()}}:null;case"export":var c=[],u=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.CsvExportModule),d=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ExcelExportModule);return!this.gridOptionsService.is("suppressCsvExport")&&u&&c.push("csvExport"),!this.gridOptionsService.is("suppressExcelExport")&&d&&c.push("excelExport"),{name:r("export","Export"),subMenu:c,icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("save",this.gridOptionsService,null)};case"csvExport":return{name:r("csvExport","CSV Export"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("csvExport",this.gridOptionsService,null),action:function(){return o.gridApi.exportDataAsCsv({})}};case"excelExport":return{name:r("excelExport","Excel Export"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("excelExport",this.gridOptionsService,null),action:function(){return o.gridApi.exportDataAsExcel()}};case"separator":return"separator";case"pivotChart":case"chartRange":return null!==(n=this.chartMenuItemMapper.getChartItems(t))&&void 0!==n?n:null;default:return console.warn("AG Grid: unknown menu item type "+t),null}},e.prototype.createAggregationSubMenu=function(t){var e,n=this,o=this.localeService.getLocaleTextFunc();if(t.isPrimary())e=t;else{var r=t.getColDef().pivotValueColumn;e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(r)?r:void 0}var i=[];if(e){var s=e.isValueActive(),a=this.aggFuncService.getFuncNames(e);i.push({name:o("noAggregation","None"),action:function(){n.columnModel.removeValueColumn(e,"contextMenu"),n.columnModel.setColumnAggFunc(e,void 0,"contextMenu")},checked:!s}),a.forEach((function(t){i.push({name:o(t,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.capitalise(t)),action:function(){n.columnModel.setColumnAggFunc(e,t,"contextMenu"),n.columnModel.addValueColumn(e,"contextMenu")},checked:s&&e.getAggFunc()===t})}))}return i},__decorate$A([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$A([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$A([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("clipboardService")],e.prototype,"clipboardService",void 0),__decorate$A([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("aggFuncService")],e.prototype,"aggFuncService",void 0),__decorate$A([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),__decorate$A([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),__decorate$A([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartMenuItemMapper")],e.prototype,"chartMenuItemMapper",void 0),e=__decorate$A([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("menuItemMapper")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),VERSION$7="29.3.4",__extends$B=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$3=function(){return __assign$3=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$3.apply(this,arguments)},__decorate$z=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__read$8=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},ChartMenuItemMapper=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return __extends$B(e,t),n=e,e.prototype.getChartItems=function(t){var e,o;if(this.chartService){var r="pivotChart"===t?new PivotMenuItemMapper(this.gridOptionsService,this.chartService,this.localeService):new RangeMenuItemMapper(this.gridOptionsService,this.chartService,this.localeService),i=r.getMenuItem(),s=null===(o=null===(e=this.gridOptionsService.get("chartToolPanelsDef"))||void 0===e?void 0:e.settingsPanel)||void 0===o?void 0:o.chartGroupsDef;return s&&(i=n.filterAndOrderChartMenu(i,s,r.getConfigLookup())),this.cleanInternals(i)}ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.GridChartsModule,'the Context Menu key "'+t+'"')},e.prototype.cleanInternals=function(t){if(!t)return t;var e=function(t){var n;return null==t||delete t._key,null===(n=null==t?void 0:t.subMenu)||void 0===n||n.forEach((function(t){return e(t)})),t};return e(t)},e.buildLookup=function(t){var e={},n=function(t){e[t._key]=t,t.subMenu&&t.subMenu.forEach((function(t){return n(t)}))};return n(t),e},e.filterAndOrderChartMenu=function(t,e,n){var o,r=this.buildLookup(t),i=__assign$3(__assign$3({},t),{subMenu:[]});if(Object.entries(e).forEach((function(t){var e,o,s=__read$8(t,2),a=s[0],l=s[1],c=n[a];if(null!=c){var u=r[c._key];if(u)if(u.subMenu){var d=l.map((function(t){var e=c[t];if(null!=e)return r[e];ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid - invalid chartGroupsDef config '"+a+"."+t+"'")}),"invalid_chartGroupsDef"+t+"_"+a)})).filter((function(t){return void 0!==t}));d.length>0&&(u.subMenu=d,null===(e=i.subMenu)||void 0===e||e.push(u))}else null===(o=i.subMenu)||void 0===o||o.push(u)}else ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid - invalid chartGroupsDef config '"+a+"'")}),"invalid_chartGroupsDef"+a)})),0!=(null===(o=i.subMenu)||void 0===o?void 0:o.length))return i},__decorate$z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("chartService")],e.prototype,"chartService",void 0),e=n=__decorate$z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("chartMenuItemMapper")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),PivotMenuItemMapper=function(){function t(t,e,n){this.gridOptionsService=t,this.chartService=e,this.localeService=n}return t.prototype.getMenuItem=function(){var t=this,e=this.localeService.getLocaleTextFunc(),n=function(n,o,r,i){return{name:e(n,o),action:function(){return t.chartService.createPivotChart({chartType:r})},_key:i}};return{name:e("pivotChart","Pivot Chart"),_key:"pivotChart",subMenu:[{_key:"pivotColumnChart",name:e("columnChart","Column"),subMenu:[n("groupedColumn","Grouped&lrm;","groupedColumn","pivotGroupedColumn"),n("stackedColumn","Stacked&lrm;","stackedColumn","pivotStackedColumn"),n("normalizedColumn","100% Stacked&lrm;","normalizedColumn","pivotNormalizedColumn")]},{_key:"pivotBarChart",name:e("barChart","Bar"),subMenu:[n("groupedBar","Grouped&lrm;","groupedBar","pivotGroupedBar"),n("stackedBar","Stacked&lrm;","stackedBar","pivotStackedBar"),n("normalizedBar","100% Stacked&lrm;","normalizedBar","pivotNormalizedBar")]},{_key:"pivotPieChart",name:e("pieChart","Pie"),subMenu:[n("pie","Pie&lrm;","pie","pivotPie"),n("doughnut","Doughnut&lrm;","doughnut","pivotDoughnut")]},n("line","Line&lrm;","line","pivotLineChart"),{_key:"pivotXYChart",name:e("xyChart","X Y (Scatter)"),subMenu:[n("scatter","Scatter&lrm;","scatter","pivotScatter"),n("bubble","Bubble&lrm;","bubble","pivotBubble")]},{_key:"pivotAreaChart",name:e("areaChart","Area"),subMenu:[n("area","Area&lrm;","area","pivotArea"),n("stackedArea","Stacked&lrm;","stackedArea","pivotStackedArea"),n("normalizedArea","100% Stacked&lrm;","normalizedArea","pivotNormalizedArea")]},n("histogramChart","Histogram&lrm;","histogram","pivotHistogramChart"),{_key:"pivotCombinationChart",name:e("combinationChart","Combination"),subMenu:[n("columnLineCombo","Column & Line&lrm;","columnLineCombo","pivotColumnLineCombo"),n("AreaColumnCombo","Area & Column&lrm;","areaColumnCombo","pivotAreaColumnCombo")]}],icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("chart",this.gridOptionsService,void 0)}},t.prototype.getConfigLookup=function(){return{columnGroup:{_key:"pivotColumnChart",column:"pivotGroupedColumn",stackedColumn:"pivotStackedColumn",normalizedColumn:"pivotNormalizedColumn"},barGroup:{_key:"pivotBarChart",bar:"pivotGroupedBar",stackedBar:"pivotStackedBar",normalizedBar:"pivotNormalizedBar"},pieGroup:{_key:"pivotPieChart",pie:"pivotPie",doughnut:"pivotDoughnut"},lineGroup:{_key:"pivotLineChart",line:"pivotLineChart"},scatterGroup:{_key:"pivotXYChart",bubble:"pivotBubble",scatter:"pivotScatter"},areaGroup:{_key:"pivotAreaChart",area:"pivotArea",stackedArea:"pivotStackedArea",normalizedArea:"pivotNormalizedArea"},histogramGroup:{_key:"pivotHistogramChart",histogram:"pivotHistogramChart"},combinationGroup:{_key:"pivotCombinationChart",columnLineCombo:"pivotColumnLineCombo",areaColumnCombo:"pivotAreaColumnCombo",customCombo:""}}},t}(),RangeMenuItemMapper=function(){function t(t,e,n){this.gridOptionsService=t,this.chartService=e,this.localeService=n}return t.prototype.getMenuItem=function(){var t=this,e=this.localeService.getLocaleTextFunc(),n=function(n,o,r,i){return{name:e(n,o),action:function(){return t.chartService.createChartFromCurrentRange(r)},_key:i}};return{name:e("chartRange","Chart Range"),_key:"chartRange",subMenu:[{name:e("columnChart","Column"),subMenu:[n("groupedColumn","Grouped&lrm;","groupedColumn","rangeGroupedColumn"),n("stackedColumn","Stacked&lrm;","stackedColumn","rangeStackedColumn"),n("normalizedColumn","100% Stacked&lrm;","normalizedColumn","rangeNormalizedColumn")],_key:"rangeColumnChart"},{name:e("barChart","Bar"),subMenu:[n("groupedBar","Grouped&lrm;","groupedBar","rangeGroupedBar"),n("stackedBar","Stacked&lrm;","stackedBar","rangeStackedBar"),n("normalizedBar","100% Stacked&lrm;","normalizedBar","rangeNormalizedBar")],_key:"rangeBarChart"},{name:e("pieChart","Pie"),subMenu:[n("pie","Pie&lrm;","pie","rangePie"),n("doughnut","Doughnut&lrm;","doughnut","rangeDoughnut")],_key:"rangePieChart"},n("line","Line&lrm;","line","rangeLineChart"),{name:e("xyChart","X Y (Scatter)"),subMenu:[n("scatter","Scatter&lrm;","scatter","rangeScatter"),n("bubble","Bubble&lrm;","bubble","rangeBubble")],_key:"rangeXYChart"},{name:e("areaChart","Area"),subMenu:[n("area","Area&lrm;","area","rangeArea"),n("stackedArea","Stacked&lrm;","stackedArea","rangeStackedArea"),n("normalizedArea","100% Stacked&lrm;","normalizedArea","rangeNormalizedArea")],_key:"rangeAreaChart"},n("histogramChart","Histogram&lrm;","histogram","rangeHistogramChart"),{name:e("combinationChart","Combination"),subMenu:[n("columnLineCombo","Column & Line&lrm;","columnLineCombo","rangeColumnLineCombo"),n("AreaColumnCombo","Area & Column&lrm;","areaColumnCombo","rangeAreaColumnCombo")],_key:"rangeCombinationChart"}],icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("chart",this.gridOptionsService,void 0)}},t.prototype.getConfigLookup=function(){return{columnGroup:{_key:"rangeColumnChart",column:"rangeGroupedColumn",stackedColumn:"rangeStackedColumn",normalizedColumn:"rangeNormalizedColumn"},barGroup:{_key:"rangeBarChart",bar:"rangeGroupedBar",stackedBar:"rangeStackedBar",normalizedBar:"rangeNormalizedBar"},pieGroup:{_key:"rangePieChart",pie:"rangePie",doughnut:"rangeDoughnut"},lineGroup:{_key:"rangeLineChart",line:"rangeLineChart"},scatterGroup:{_key:"rangeXYChart",bubble:"rangeBubble",scatter:"rangeScatter"},areaGroup:{_key:"rangeAreaChart",area:"rangeArea",stackedArea:"rangeStackedArea",normalizedArea:"rangeNormalizedArea"},histogramGroup:{_key:"rangeHistogramChart",histogram:"rangeHistogramChart"},combinationGroup:{_key:"rangeCombinationChart",columnLineCombo:"rangeColumnLineCombo",areaColumnCombo:"rangeAreaColumnCombo",customCombo:""}}},t}(),MenuModule={version:VERSION$7,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.MenuModule,beans:[EnterpriseMenuFactory,ContextMenuFactory,MenuItemMapper,ChartMenuItemMapper],dependantModules:[EnterpriseCoreModule]},__extends$A=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$2=function(){return __assign$2=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$2.apply(this,arguments)},__decorate$y=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},MultiFilter=function(t){function e(){var e=t.call(this,'<div class="ag-multi-filter ag-menu-list-compact"></div>')||this;return e.filterDefs=[],e.filters=[],e.guiDestroyFuncs=[],e.activeFilterIndices=[],e.lastActivatedMenuItem=null,e.afterFiltersReadyFuncs=[],e}return __extends$A(e,t),e.prototype.postConstruct=function(){var t=this;this.initialiseTabGuard({onFocusIn:function(e){return t.onFocusIn(e)}})},e.getFilterDefs=function(t){var e=t.filters;return e&&e.length>0?e:[{filter:"agTextColumnFilter"},{filter:"agSetColumnFilter"}]},e.prototype.init=function(t){var n=this;this.params=t,this.filterDefs=e.getFilterDefs(t);var o=t.column,r=t.filterChangedCallback;this.column=o,this.filterChangedCallback=r;var i=[];return this.filterDefs.forEach((function(t,e){var o=n.createFilter(t,e);null!=o&&i.push(o)})),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.all(i).then((function(t){n.filters=t,n.refreshGui("columnMenu"),n.afterFiltersReadyFuncs.forEach((function(t){return t()})),n.afterFiltersReadyFuncs.length=0}))},e.prototype.refreshGui=function(t){var e=this;t!==this.lastOpenedInContainer&&(this.removeAllChildrenExceptTabGuards(),this.destroyChildren(),this.filters.forEach((function(n,o){o>0&&e.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.loadTemplate('<div class="ag-filter-separator"></div>'));var r,i=e.filterDefs[o],s=e.getFilterTitle(n,i);if("subMenu"===i.display&&"toolPanel"!==t)r=e.insertFilterMenu(n,s).getGui();else if("subMenu"===i.display||"accordion"===i.display){r=e.insertFilterGroup(n,s).getGui()}else r=n.getGui();e.appendChild(r)})),this.lastOpenedInContainer=t)},e.prototype.getFilterTitle=function(t,e){if(null!=e.title)return e.title;var n=t;return"function"==typeof n.getFilterTitle?n.getFilterTitle():"Filter"},e.prototype.destroyChildren=function(){this.guiDestroyFuncs.forEach((function(t){return t()})),this.guiDestroyFuncs.length=0},e.prototype.insertFilterMenu=function(t,e){var n=this,o=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sJC({name:e,subMenu:t,cssClasses:["ag-multi-filter-menu-item"],isCompact:!0,isAnotherSubMenuOpen:function(){return!1}}));return o.setParentComponent(this),this.guiDestroyFuncs.push((function(){return n.destroyBean(o)})),this.addManagedListener(o,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sJC.EVENT_MENU_ITEM_ACTIVATED,(function(t){n.lastActivatedMenuItem&&n.lastActivatedMenuItem!==t.menuItem&&n.lastActivatedMenuItem.deactivate(),n.lastActivatedMenuItem=t.menuItem})),o.addGuiEventListener("focusin",(function(){return o.activate()})),o.addGuiEventListener("focusout",(function(){o.isSubMenuOpen()||o.deactivate()})),o},e.prototype.insertFilterGroup=function(t,e){var n=this,o=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u({title:e,cssIdentifier:"multi-filter"}));if(this.guiDestroyFuncs.push((function(){return n.destroyBean(o)})),o.addItem(t.getGui()),o.toggleGroupExpand(!1),t.afterGuiAttached){var r={container:this.lastOpenedInContainer,suppressFocus:!0};o.addManagedListener(o,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u.EVENT_EXPANDED,(function(){return t.afterGuiAttached(r)}))}return o},e.prototype.isFilterActive=function(){return this.filters.some((function(t){return t.isFilterActive()}))},e.prototype.getLastActiveFilterIndex=function(){return this.activeFilterIndices.length>0?this.activeFilterIndices[this.activeFilterIndices.length-1]:null},e.prototype.doesFilterPass=function(t,e){var n=!0;return this.filters.forEach((function(o){n&&o!==e&&o.isFilterActive()&&(n=o.doesFilterPass(t))})),n},e.prototype.getFilterType=function(){return"multi"},e.prototype.getModelFromUi=function(){return{filterType:this.getFilterType(),filterModels:this.filters.map((function(t){var e=t;return"function"==typeof e.getModelFromUi?e.getModelFromUi():null}))}},e.prototype.getModel=function(){return this.isFilterActive()?{filterType:this.getFilterType(),filterModels:this.filters.map((function(t){return t.isFilterActive()?t.getModel():null}))}:null},e.prototype.setModel=function(t){var e=this,n=function(t,e){return new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S((function(n){var o=t.setModel(e);o?o.then((function(){return n()})):n()}))},o=[];return null==t?o=this.filters.map((function(t,o){return n(t,null).then((function(){e.updateActiveList(o)}))})):this.filters.forEach((function(r,i){var s=t.filterModels.length>i?t.filterModels[i]:null,a=n(r,s).then((function(){e.updateActiveList(i)}));o.push(a)})),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.all(o).then((function(){}))},e.prototype.applyModel=function(t){void 0===t&&(t="api");var e=!1;return this.filters.forEach((function(n){n instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AGU&&(e=n.applyModel(t)||e)})),e},e.prototype.getChildFilterInstance=function(t){return this.filters[t]},e.prototype.afterGuiAttached=function(t){t&&this.refreshGui(t.container);var e=this.params.filters,n=e&&e.some((function(t){return t.display&&"inline"!==t.display}));this.executeFunctionIfExists("afterGuiAttached",__assign$2(__assign$2({},t||{}),{suppressFocus:n}));var o=this.gridOptionsService.getDocument(),r=o.activeElement;n&&(r===o.body||this.getGui().contains(r))&&this.forceFocusOutOfContainer(!0)},e.prototype.afterGuiDetached=function(){this.executeFunctionIfExists("afterGuiDetached")},e.prototype.onAnyFilterChanged=function(){this.executeFunctionIfExists("onAnyFilterChanged")},e.prototype.onNewRowsLoaded=function(){this.executeFunctionIfExists("onNewRowsLoaded")},e.prototype.destroy=function(){var e=this;this.filters.forEach((function(t){t.setModel(null),e.destroyBean(t)})),this.filters.length=0,this.destroyChildren(),t.prototype.destroy.call(this)},e.prototype.executeFunctionIfExists=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.forEachReverse(this.filters,(function(n){var o=n[t];"function"==typeof o&&o.apply(n,e)}))},e.prototype.createFilter=function(t,e){var n,o=this,r=this.params,i=r.filterModifiedCallback,s=r.doesRowPassOtherFilter,a=__assign$2(__assign$2({},this.filterManager.createFilterParams(this.column,this.column.getColDef())),{filterModifiedCallback:i,filterChangedCallback:function(t){o.executeWhenAllFiltersReady((function(){return o.filterChanged(e,t)}))},doesRowPassOtherFilter:function(t){return s(t)&&o.doesFilterPass({node:t,data:t.data},n)}}),l=this.userComponentFactory.getFilterDetails(t,a,"agTextColumnFilter");if(!l)return null;var c=l.newAgStackInstance();return c&&c.then((function(t){return n=t})),c},e.prototype.executeWhenAllFiltersReady=function(t){this.filters&&this.filters.length>0?t():this.afterFiltersReadyFuncs.push(t)},e.prototype.updateActiveList=function(t){var e=this.filters[t];ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(this.activeFilterIndices,t),e.isFilterActive()&&this.activeFilterIndices.push(t)},e.prototype.filterChanged=function(t,e){this.updateActiveList(t),this.filterChangedCallback(e);var n=this.filters[t];this.filters.forEach((function(t){t!==n&&"function"==typeof t.onAnyFilterChanged&&t.onAnyFilterChanged()}))},e.prototype.onFocusIn=function(t){return null==this.lastActivatedMenuItem||this.lastActivatedMenuItem.getGui().contains(t.target)||(this.lastActivatedMenuItem.deactivate(),this.lastActivatedMenuItem=null),!0},e.prototype.getModelAsString=function(t){var e,n,o,r;if(!this.filters||!(null===(e=null==t?void 0:t.filterModels)||void 0===e?void 0:e.length))return"";var i=null!==(n=this.getLastActiveFilterIndex())&&void 0!==n?n:0,s=this.filters[i];return null!==(r=null===(o=s.getModelAsString)||void 0===o?void 0:o.call(s,t.filterModels[i]))&&void 0!==r?r:""},__decorate$y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],e.prototype,"filterManager",void 0),__decorate$y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],e.prototype,"userComponentFactory",void 0),__decorate$y([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BxR),__extends$z=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$1=function(){return __assign$1=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign$1.apply(this,arguments)},__decorate$x=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},MultiFloatingFilterComp=function(t){function e(){var e=t.call(this,'<div class="ag-multi-floating-filter ag-floating-filter-input"></div>')||this;return e.floatingFilters=[],e}return __extends$z(e,t),e.prototype.init=function(t){var e=this;this.params=t;var n=t.filterParams,o=[];return MultiFilter.getFilterDefs(n).forEach((function(n,r){var i=__assign$1(__assign$1({},t),{parentFilterInstance:function(t){e.parentMultiFilterInstance((function(e){var n=e.getChildFilterInstance(r);null!=n&&t(n)}))}});ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.mergeDeep(i.filterParams,n.filterParams);var s=e.createFloatingFilter(n,i);null!=s&&o.push(s)})),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.all(o).then((function(t){t.forEach((function(t,n){e.floatingFilters.push(t);var o=t.getGui();e.appendChild(o),n>0&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(o,!1)}))}))},e.prototype.onParentModelChanged=function(t,e){var n=this;e&&e.afterFloatingFilter||this.parentMultiFilterInstance((function(o){if(null==t)n.floatingFilters.forEach((function(t,n){t.onParentModelChanged(null,e),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(t.getGui(),0===n)}));else{var r=o.getLastActiveFilterIndex();n.floatingFilters.forEach((function(n,o){var i=t.filterModels.length>o?t.filterModels[o]:null;n.onParentModelChanged(i,e);var s=null==r?0===o:o===r;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(n.getGui(),s)}))}}))},e.prototype.destroy=function(){this.destroyBeans(this.floatingFilters),this.floatingFilters.length=0,t.prototype.destroy.call(this)},e.prototype.createFloatingFilter=function(t,e){var n,o=null!==(n=this.userComponentFactory.getDefaultFloatingFilterType(t))&&void 0!==n?n:"agReadOnlyFloatingFilter",r=this.userComponentFactory.getFloatingFilterCompDetails(t,e,o);return r?r.newAgStackInstance():null},e.prototype.parentMultiFilterInstance=function(t){this.params.parentFilterInstance((function(e){if(!(e instanceof MultiFilter))throw new Error("AG Grid - MultiFloatingFilterComp expects MultiFilter as its parent");t(e)}))},__decorate$x([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],e.prototype,"userComponentFactory",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),VERSION$6="29.3.4",MultiFilterModule={version:VERSION$6,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.MultiFilterModule,beans:[],userComponents:[{componentName:"agMultiColumnFilter",componentClass:MultiFilter},{componentName:"agMultiColumnFloatingFilter",componentClass:MultiFloatingFilterComp}],dependantModules:[EnterpriseCoreModule]};function bindCellRendererToHtmlElement(t,e){t.then((function(t){var n=t.getGui();null!=n&&("object"==typeof n?e.appendChild(n):e.innerHTML=n)}))}var __extends$y=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$w=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},RichSelectRow=function(t){function e(e){var n=t.call(this,'<div class="ag-rich-select-row" role="presentation"></div>')||this;return n.params=e,n}return __extends$y(e,t),e.prototype.setState=function(t,e,n){this.populateWithRenderer(t,e)||this.populateWithoutRenderer(t,e),this.updateSelected(n)},e.prototype.updateSelected=function(t){this.addOrRemoveCssClass("ag-rich-select-row-selected",t)},e.prototype.populateWithoutRenderer=function(t,e){var n=null!=e?e:t;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(n)&&""!==n?this.getGui().textContent=n.toString():this.getGui().innerHTML="&nbsp;"},e.prototype.populateWithRenderer=function(t,e){var n=this,o={value:t,valueFormatted:e,api:this.gridOptionsService.api},r=this.userComponentFactory.getCellRendererDetails(this.params,o),i=r?r.newAgStackInstance():void 0;return null!=i?bindCellRendererToHtmlElement(i,this.getGui()):this.getGui().innerText=null!=o.valueFormatted?o.valueFormatted:o.value,!!i&&(i.then((function(t){n.addDestroyFunc((function(){n.getContext().destroyBean(t)}))})),!0)},__decorate$w([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],e.prototype,"userComponentFactory",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$x=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$v=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},RichSelectCellEditor=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.selectionConfirmed=!1,n.searchString="",n}return __extends$x(e,t),e.prototype.init=function(t){this.params=t,this.selectedValue=t.value,this.originalSelectedValue=t.value,this.focusAfterAttached=t.cellStartedEdit;var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("smallDown",this.gridOptionsService);if(e.classList.add("ag-rich-select-value-icon"),this.eValue.appendChild(e),this.virtualList=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CPJ("rich-select")),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(this.params.cellHeight)&&this.virtualList.setRowHeight(this.params.cellHeight),this.renderSelectedValue(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(t.values))console.warn("AG Grid: richSelectCellEditor requires values for it to work");else{var n=t.values;this.virtualList.setModel({getRowCount:function(){return n.length},getRow:function(t){return n[t]}}),this.addGuiEventListener("keydown",this.onKeyDown.bind(this));var o=this.virtualList.getGui();this.addManagedListener(o,"click",this.onClick.bind(this)),this.addManagedListener(o,"mousemove",this.onMouseMove.bind(this));var r=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t.searchDebounceDelay)?t.searchDebounceDelay:300;this.clearSearchString=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.debounce(this.clearSearchString,r),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t.charPress)&&this.searchText(t.charPress)}},e.prototype.onKeyDown=function(t){var e=t.key;switch(t.preventDefault(),e){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER:this.onEnterKeyDown();break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.TAB:this.confirmSelection();break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.DOWN:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.UP:this.onNavigationKeyPressed(t,e);break;default:this.searchText(t)}},e.prototype.confirmSelection=function(){this.selectionConfirmed=!0},e.prototype.onEnterKeyDown=function(){this.confirmSelection(),this.params.stopEditing()},e.prototype.onNavigationKeyPressed=function(t,e){t.preventDefault();var n=this.params.values.indexOf(this.selectedValue),o=e===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.UP?n-1:n+1;if(o>=0&&o<this.params.values.length){var r=this.params.values[o];this.setSelectedValue(r)}},e.prototype.searchText=function(t){if("string"==typeof t)this.searchString+=t,this.runSearch(),this.clearSearchString();else{var e=t.key;if(e===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.BACKSPACE)this.searchString=this.searchString.slice(0,-1),e="";else if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.isEventFromPrintableCharacter(t))return;this.searchText(e)}},e.prototype.runSearch=function(){var t,e=this,n=this.params.values;if("number"!=typeof n[0]&&"string"!=typeof n[0]||(t=n.map((function(t){return e.params.formatValue(t)}))),"object"==typeof n[0]&&this.params.colDef.keyCreator&&(t=n.map((function(t){var n={value:t,colDef:e.params.colDef,column:e.params.column,node:e.params.node,data:e.params.data,api:e.gridOptionsService.api,columnApi:e.gridOptionsService.columnApi,context:e.gridOptionsService.context};return e.params.colDef.keyCreator(n)}))),t){var o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.fuzzySuggestions(this.searchString,t,!0)[0];if(o){var r=n[t.indexOf(o)];this.setSelectedValue(r)}}},e.prototype.clearSearchString=function(){this.searchString=""},e.prototype.renderSelectedValue=function(){var t=this,e=this.params.formatValue(this.selectedValue),n=this.eValue,o={value:this.selectedValue,valueFormatted:e,api:this.gridOptionsService.api},r=this.userComponentFactory.getCellRendererDetails(this.params,o),i=r?r.newAgStackInstance():void 0;i?(bindCellRendererToHtmlElement(i,n),i.then((function(e){t.addDestroyFunc((function(){return t.getContext().destroyBean(e)}))}))):ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(this.selectedValue)?n.innerText=e:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(n)},e.prototype.setSelectedValue=function(t){if(this.selectedValue!==t){var e=this.params.values.indexOf(t);-1!==e&&(this.selectedValue=t,this.virtualList.ensureIndexVisible(e),this.virtualList.forEachRenderedRow((function(t,n){t.updateSelected(e===n)})),this.virtualList.focusRow(e))}},e.prototype.createRowComponent=function(t){var e=this.params.formatValue(t),n=new RichSelectRow(this.params);return this.getContext().createBean(n),n.setState(t,e,t===this.selectedValue),n},e.prototype.onMouseMove=function(t){var e=this.virtualList.getGui().getBoundingClientRect(),n=this.virtualList.getScrollTop(),o=t.clientY-e.top+n,r=Math.floor(o/this.virtualList.getRowHeight()),i=this.params.values[r];void 0!==i&&this.setSelectedValue(i)},e.prototype.onClick=function(){this.confirmSelection(),this.params.stopEditing()},e.prototype.afterGuiAttached=function(){var t=this.params.values.indexOf(this.selectedValue);if(this.virtualList.refresh(),t>=0&&this.virtualList.ensureIndexVisible(t),this.virtualList.refresh(),this.focusAfterAttached){var e=-1!==t?t:0;this.params.values.length?this.virtualList.focusRow(e):this.getGui().focus()}},e.prototype.getValue=function(){return this.selectionConfirmed?this.selectedValue:this.originalSelectedValue},e.TEMPLATE='<div class="ag-rich-select" tabindex="-1">\n            <div ref="eValue" class="ag-rich-select-value"></div>\n            <div ref="eList" class="ag-rich-select-list"></div>\n        </div>',__decorate$v([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],e.prototype,"userComponentFactory",void 0),__decorate$v([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eValue")],e.prototype,"eValue",void 0),__decorate$v([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eList")],e.prototype,"eList",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RXH),VERSION$5="29.3.4",RichSelectModule={version:VERSION$5,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RichSelectModule,beans:[],userComponents:[{componentName:"agRichSelect",componentClass:RichSelectCellEditor},{componentName:"agRichSelectCellEditor",componentClass:RichSelectCellEditor}],dependantModules:[EnterpriseCoreModule]},__extends$w=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$u=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},FullStore=function(t){function e(e,n,o){var r=t.call(this,0)||this;return r.nodeIdSequence=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1,r.info={},r.ssrmParams=e,r.parentRowNode=o,r.level=o.level+1,r.groupLevel=e.rowGroupCols?r.level<e.rowGroupCols.length:void 0,r.leafGroup=!!e.rowGroupCols&&r.level===e.rowGroupCols.length-1,r}return __extends$w(e,t),e.prototype.postConstruct=function(){var t=this;if(this.usingTreeData=this.gridOptionsService.isTreeData(),this.nodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.parentRowNode),!this.usingTreeData&&this.groupLevel){var e=this.ssrmParams.rowGroupCols[this.level];this.groupField=e.field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level]}var n=1,o=-1===this.parentRowNode.level,r=this.storeUtils.getServerSideInitialRowCount();o&&void 0!==r&&(n=r),this.initialiseRowNodes(n),this.rowNodeBlockLoader.addBlock(this),this.addDestroyFunc((function(){return t.rowNodeBlockLoader.removeBlock(t)}))},e.prototype.destroyRowNodes=function(){this.blockUtils.destroyRowNodes(this.allRowNodes),this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={}},e.prototype.initialiseRowNodes=function(t,e){void 0===e&&(e=!1),this.destroyRowNodes();for(var n=0;n<t;n++){var o=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});e&&(o.failedLoad=!0),this.allRowNodes.push(o),this.nodesAfterFilter.push(o),this.nodesAfterSort.push(o)}},e.prototype.getBlockStateJson=function(){return{id:this.nodeIdPrefix?this.nodeIdPrefix:"",state:this.getState()}},e.prototype.loadFromDatasource=function(){this.storeUtils.loadFromDatasource({startRow:void 0,endRow:void 0,parentBlock:this,parentNode:this.parentRowNode,storeParams:this.ssrmParams,successCallback:this.pageLoaded.bind(this,this.getVersion()),success:this.success.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),fail:this.pageLoadFailed.bind(this,this.getVersion())})},e.prototype.getStartRow=function(){return 0},e.prototype.getEndRow=function(){return this.nodesAfterSort.length},e.prototype.createDataNode=function(t,e){var n=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});null!=e?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.insertIntoArray(this.allRowNodes,n,e):this.allRowNodes.push(n);var o=this.prefixId(this.nodeIdSequence.next());return this.blockUtils.setDataIntoRowNode(n,t,o,void 0),this.nodeManager.addRowNode(n),this.blockUtils.checkOpenByDefault(n),this.allNodesMap[n.id]=n,n},e.prototype.prefixId=function(t){return this.nodeIdPrefix?this.nodeIdPrefix+"-"+t:t.toString()},e.prototype.processServerFail=function(){this.initialiseRowNodes(1,!0),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()},e.prototype.processServerResult=function(t){if(this.isAlive()){var e=t.storeInfo||t.groupLevelInfo;e&&Object.assign(this.info,e);var n=this.allRowNodes.length>0?this.allNodesMap:void 0;if(this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={},!t.rowData){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn('AG Grid: "params.data" is missing from Server-Side Row Model success() callback. Please use the "data" attribute. If no data is returned, set an empty list.',t)}),"FullStore.noData")}this.createOrRecycleNodes(n,t.rowData),n&&this.blockUtils.destroyRowNodes(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.getAllValuesInObject(n)),this.filterAndSortNodes(),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()}},e.prototype.createOrRecycleNodes=function(t,e){var n=this;if(e){e.forEach((function(e){var o=function(e){if(t){var o=n.gridOptionsService.getRowIdFunc();if(o){var r=n.parentRowNode.getGroupKeys(),i=n.level,s=o({data:e,parentKeys:r.length>0?r:void 0,level:i}),a=t[s];if(a)return delete t[s],a}}}(e);o?function(t,e){n.allNodesMap[t.id]=t,n.blockUtils.updateDataIntoRowNode(t,e),n.allRowNodes.push(t)}(o,e):n.createDataNode(e)}))}},e.prototype.flushAsyncTransactions=function(){var t=this;window.setTimeout((function(){return t.transactionManager.flushAsyncTransactions()}),0)},e.prototype.filterAndSortNodes=function(){this.filterRowNodes(),this.sortRowNodes()},e.prototype.sortRowNodes=function(){var t=this.storeUtils.isServerSideSortAllLevels()||this.storeUtils.isServerSideSortOnServer(),e=this.sortController.getSortOptions(),n=!e||0==e.length;this.nodesAfterSort=t||n?this.nodesAfterFilter:this.rowNodeSorter.doFullSort(this.nodesAfterFilter,e)},e.prototype.filterRowNodes=function(){var t=this,e=this.storeUtils.isServerSideFilterAllLevels()||this.storeUtils.isServerSideFilterOnServer(),n=this.groupLevel;this.nodesAfterFilter=e||n?this.allRowNodes:this.allRowNodes.filter((function(e){return t.filterManager.doesRowPassFilter({rowNode:e})}))},e.prototype.clearDisplayIndexes=function(){var t=this;this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.allRowNodes.forEach((function(e){return t.blockUtils.clearDisplayIndex(e)}))},e.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},e.prototype.isDisplayIndexInStore=function(t){return 0!==this.getRowCount()&&(t>=this.displayIndexStart&&t<this.displayIndexEnd)},e.prototype.setDisplayIndexes=function(t,e){var n=this;this.displayIndexStart=t.peek(),this.topPx=e.value;var o={};this.nodesAfterSort.forEach((function(r){n.blockUtils.setDisplayIndex(r,t,e),o[r.id]=!0})),this.allRowNodes.forEach((function(t){o[t.id]||n.blockUtils.clearDisplayIndex(t)})),this.displayIndexEnd=t.peek(),this.heightPx=e.value-this.topPx},e.prototype.forEachStoreDeep=function(t,e){void 0===e&&(e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1),t(this,e.next()),this.allRowNodes.forEach((function(n){var o=n.childStore;o&&o.forEachStoreDeep(t,e)}))},e.prototype.forEachNodeDeep=function(t,e){void 0===e&&(e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1),this.allRowNodes.forEach((function(n){t(n,e.next());var o=n.childStore;o&&o.forEachNodeDeep(t,e)}))},e.prototype.forEachNodeDeepAfterFilterAndSort=function(t,e){void 0===e&&(e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1),this.nodesAfterSort.forEach((function(n){t(n,e.next());var o=n.childStore;o&&o.forEachNodeDeepAfterFilterAndSort(t,e)}))},e.prototype.getRowUsingDisplayIndex=function(t){if(this.isDisplayIndexInStore(t))return this.blockUtils.binarySearchForDisplayIndex(t,this.nodesAfterSort)},e.prototype.getRowBounds=function(t){for(var e=0;e<this.nodesAfterSort.length;e++){var n=this.nodesAfterSort[e],o=this.blockUtils.extractRowBounds(n,t);if(o)return o}return null},e.prototype.isPixelInRange=function(t){return t>=this.topPx&&t<this.topPx+this.heightPx},e.prototype.getRowIndexAtPixel=function(t){var e=this;if(t<=this.topPx)return this.nodesAfterSort[0].rowIndex;if(t>=this.topPx+this.heightPx){var n=this.nodesAfterSort[this.nodesAfterSort.length-1],o=n.rowTop+n.rowHeight;if(t>=o&&n.expanded){if(n.childStore&&n.childStore.getRowCount()>0)return n.childStore.getRowIndexAtPixel(t);if(n.detailNode)return n.detailNode.rowIndex}return n.rowIndex}var r=null;return this.nodesAfterSort.forEach((function(n){var o=e.blockUtils.getIndexAtPixel(n,t);null!=o&&(r=o)})),null==r?this.displayIndexEnd-1:r},e.prototype.getChildStore=function(t){var e=this;return this.storeUtils.getChildStore(t,this,(function(t){return e.allRowNodes.find((function(e){return e.key==t}))}))},e.prototype.forEachChildStoreShallow=function(t){this.allRowNodes.forEach((function(e){var n=e.childStore;n&&t(n)}))},e.prototype.refreshAfterFilter=function(t){var e=this.storeUtils.isServerSideFilterOnServer(),n=this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,t);if(this.storeUtils.isServerSideFilterAllLevels()||e&&n)return this.refreshStore(!0),void this.sortRowNodes();this.filterRowNodes(),this.sortRowNodes(),this.forEachChildStoreShallow((function(e){return e.refreshAfterFilter(t)}))},e.prototype.refreshAfterSort=function(t){var e=this.storeUtils.isServerSideSortOnServer(),n=this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,t);if(this.storeUtils.isServerSideSortAllLevels()||e&&n)return this.refreshStore(!0),void this.filterRowNodes();this.filterRowNodes(),this.sortRowNodes(),this.forEachChildStoreShallow((function(e){return e.refreshAfterSort(t)}))},e.prototype.applyTransaction=function(t){switch(this.getState()){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK.STATE_FAILED:return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreLoadingFailed};case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK.STATE_LOADING:return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreLoading};case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK.STATE_WAITING_TO_LOAD:return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreWaitingToLoad}}var e=this.gridOptionsService.getCallback("isApplyServerSideTransaction");if(e&&!e({transaction:t,parentNode:this.parentRowNode,storeInfo:this.info,groupLevelInfo:this.info}))return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.Cancelled};var n={status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.Applied,remove:[],update:[],add:[]},o=[];return this.executeAdd(t,n),this.executeRemove(t,n,o),this.executeUpdate(t,n,o),this.filterAndSortNodes(),this.updateSelection(o),n},e.prototype.updateSelection=function(t){if(t.length>0){t.forEach((function(t){t.setSelected(!1,!1,!0,"rowDataChanged")}));var e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,source:"rowDataChanged"};this.eventService.dispatchEvent(e)}},e.prototype.executeAdd=function(t,e){var n=this,o=t.add,r=t.addIndex;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missingOrEmpty(o)||("number"==typeof r&&r>=0?o.reverse().forEach((function(t){var o=n.createDataNode(t,r);e.add.push(o)})):o.forEach((function(t){var o=n.createDataNode(t);e.add.push(o)})))},e.prototype.executeRemove=function(t,e,n){var o=this,r=t.remove;if(null!=r){var i={};r.forEach((function(t){var r=o.lookupRowNode(t);r&&(r.isSelected()&&n.push(r),r.clearRowTopAndRowIndex(),i[r.id]=!0,delete o.allNodesMap[r.id],e.remove.push(r),o.nodeManager.removeNode(r))})),this.allRowNodes=this.allRowNodes.filter((function(t){return!i[t.id]}))}},e.prototype.executeUpdate=function(t,e,n){var o=this,r=t.update;null!=r&&r.forEach((function(t){var r=o.lookupRowNode(t);r&&(o.blockUtils.updateDataIntoRowNode(r,t),!r.selectable&&r.isSelected()&&n.push(r),e.update.push(r))}))},e.prototype.lookupRowNode=function(t){var e,n=this.gridOptionsService.getRowIdFunc();if(null!=n){var o=this.level,r=this.parentRowNode.getGroupKeys(),i=n({data:t,parentKeys:r.length>0?r:void 0,level:o});if(!(e=this.allNodesMap[i]))return console.error("AG Grid: could not find row id="+i+", data item was not found for this id"),null}else if(!(e=this.allRowNodes.find((function(e){return e.data===t}))))return console.error("AG Grid: could not find data item as object was not found",t),null;return e},e.prototype.addStoreStates=function(t){t.push({suppressInfiniteScroll:!0,route:this.parentRowNode.getGroupKeys(),rowCount:this.allRowNodes.length,info:this.info}),this.forEachChildStoreShallow((function(e){return e.addStoreStates(t)}))},e.prototype.refreshStore=function(t){if(t){var e=this.nodesAfterSort?this.nodesAfterSort.length:1;this.initialiseRowNodes(e)}this.scheduleLoad(),this.fireStoreUpdatedEvent()},e.prototype.retryLoads=function(){this.getState()===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK.STATE_FAILED&&(this.initialiseRowNodes(1),this.scheduleLoad()),this.forEachChildStoreShallow((function(t){return t.retryLoads()}))},e.prototype.scheduleLoad=function(){this.setStateWaitingToLoad(),this.rowNodeBlockLoader.checkBlockToLoad()},e.prototype.fireStoreUpdatedEvent=function(){var t={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(t)},e.prototype.getRowCount=function(){return this.nodesAfterSort.length},e.prototype.getTopLevelRowDisplayedIndex=function(t){return this.nodesAfterSort[t].rowIndex},e.prototype.isLastRowIndexKnown=function(){return this.getState()==ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK.STATE_LOADED},e.prototype.getRowNodesInRange=function(t,e){var n=[],o=!1;return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(t)&&(o=!0),this.nodesAfterSort.forEach((function(r){var i=r===t||r===e;(o||i)&&n.push(r),i&&(o=!o)})),o?[]:n},e.prototype.getStoreBounds=function(){return{topPx:this.topPx,heightPx:this.heightPx}},__decorate$u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmStoreUtils")],e.prototype,"storeUtils",void 0),__decorate$u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmBlockUtils")],e.prototype,"blockUtils",void 0),__decorate$u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),__decorate$u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowNodeSorter")],e.prototype,"rowNodeSorter",void 0),__decorate$u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("sortController")],e.prototype,"sortController",void 0),__decorate$u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmNodeManager")],e.prototype,"nodeManager",void 0),__decorate$u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],e.prototype,"filterManager",void 0),__decorate$u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmTransactionManager")],e.prototype,"transactionManager",void 0),__decorate$u([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),__decorate$u([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],e.prototype,"destroyRowNodes",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK),__extends$v=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$t=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__read$7=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},LazyBlockLoader=function(t){function e(e,n,o){var r=t.call(this)||this;return r.loadingNodes=new Set,r.checkForLoadQueued=!1,r.loaderTimeout=void 0,r.nextBlockToLoad=void 0,r.parentNode=n,r.cache=e,r.storeParams=o,r}return __extends$v(e,t),e.prototype.init=function(){var t=this;this.addManagedListener(this.rowNodeBlockLoader,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fKL.BLOCK_LOADED_EVENT,(function(){return t.queueLoadAction()}))},e.prototype.isRowLoading=function(t){return this.loadingNodes.has(t)},e.prototype.getBlockToLoad=function(){for(var t,e=this.api.getFirstDisplayedRow(),n=this.api.getLastDisplayedRow(),o=e;o<=n;o++){var r=this.cache.getNodeCachedByDisplayIndex(o);if(r){var i=this.cache.getNodes().getBy("node",r);if(i&&!this.isRowLoading(i.index)&&(r.__needsRefreshWhenVisible||r.stub&&!r.failedLoad))return this.getBlockStartIndexForIndex(i.index)}}var s=this.cache.getNodesToRefresh(),a=null,l=Number.MAX_SAFE_INTEGER;s.forEach((function(t){if(null!=t.rowIndex){var o=Math.abs(e-t.rowIndex),r=Math.abs(t.rowIndex-n);o<l&&(a=t,l=o),r<l&&(a=t,l=r)}else a=t}));var c=null===(t=this.cache.getNodes().getBy("node",a))||void 0===t?void 0:t.index;return null==c?void 0:this.getBlockStartIndexForIndex(c)},e.prototype.reset=function(){this.loadingNodes.clear(),clearTimeout(this.loaderTimeout),this.loaderTimeout=void 0},e.prototype.executeLoad=function(t,e){var n,o=this,r=this.cache.getSsrmParams(),i={startRow:t,endRow:e,rowGroupCols:r.rowGroupCols,valueCols:r.valueCols,pivotCols:r.pivotCols,pivotMode:r.pivotMode,groupKeys:this.parentNode.getGroupKeys(),filterModel:r.filterModel,sortModel:r.sortModel},s=function(){for(var n=0;n<e-t;n++)o.loadingNodes.delete(t+n)},a=function(n){o.rowNodeBlockLoader.loadComplete(),o.cache.onLoadSuccess(t,e-t,n),s(),o.queueLoadAction()},l=function(){o.rowNodeBlockLoader.loadComplete(),o.cache.onLoadFailed(t,e-t),s(),o.queueLoadAction()},c={request:i,successCallback:function(t,e){return a({rowData:t,rowCount:e})},success:a,failCallback:l,fail:l,parentNode:this.parentNode,api:this.api,columnApi:this.columnApi,context:this.gridOptionsService.context};!function(){for(var n=0;n<e-t;n++)o.loadingNodes.add(t+n)}(),null===(n=this.cache.getSsrmParams().datasource)||void 0===n||n.getRows(c)},e.prototype.getNextBlockToLoad=function(){var t=this.getBlockToLoad();return null!=t&&t<0&&this.getBlockToLoad(),null!=t?[String(t),t+this.getBlockSize()]:null},e.prototype.queueLoadCheck=function(){var t=this;this.checkForLoadQueued||(this.checkForLoadQueued=!0,window.queueMicrotask((function(){t.checkForLoadQueued=!1,t.queueLoadAction()})))},e.prototype.queueLoadAction=function(){var t,e=this,n=this.getNextBlockToLoad();if(!n)return window.clearTimeout(this.loaderTimeout),this.loaderTimeout=void 0,void(this.nextBlockToLoad=void 0);if(!this.nextBlockToLoad||this.nextBlockToLoad[0]!==n[0]&&this.nextBlockToLoad[1]!==n[1]){this.nextBlockToLoad=n,window.clearTimeout(this.loaderTimeout);var o=__read$7(this.nextBlockToLoad,2),r=o[0],i=o[1],s=Number(r);this.loaderTimeout=window.setTimeout((function(){e.cache.isAlive()&&(e.loaderTimeout=void 0,e.attemptLoad(s,i),e.nextBlockToLoad=void 0)}),null!==(t=this.gridOptionsService.getNum("blockLoadDebounceMillis"))&&void 0!==t?t:0)}},e.prototype.attemptLoad=function(t,e){var n=this.rowNodeBlockLoader.getAvailableLoadingCount();null!=n&&0===n||(this.rowNodeBlockLoader.registerLoads(1),this.executeLoad(t,e),this.queueLoadAction())},e.prototype.getBlockSize=function(){return this.storeParams.cacheBlockSize||e.DEFAULT_BLOCK_SIZE},e.prototype.getBlockStartIndexForIndex=function(t){return t-t%this.getBlockSize()},e.prototype.getBlockBoundsForIndex=function(t){var e=this.getBlockStartIndexForIndex(t);return[e,e+this.getBlockSize()]},e.DEFAULT_BLOCK_SIZE=100,__decorate$t([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"api",void 0),__decorate$t([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],e.prototype,"columnApi",void 0),__decorate$t([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),__decorate$t([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),MultiIndexMap=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length<1)throw new Error("AG Grid: At least one index must be provided.");this.indexes=t,this.maps=new Map(this.indexes.map((function(t){return[t,new Map]})))}return t.prototype.getBy=function(t,e){var n=this.maps.get(t);if(!n)throw new Error("AG Grid: "+String(t)+" not found");return n.get(e)},t.prototype.set=function(t){var e=this;this.indexes.forEach((function(n){var o=e.maps.get(n);if(!o)throw new Error("AG Grid: "+String(n)+" not found");o.set(t[n],t)}))},t.prototype.delete=function(t){var e=this;this.indexes.forEach((function(n){var o=e.maps.get(n);if(!o)throw new Error("AG Grid: "+String(n)+" not found");o.delete(t[n])}))},t.prototype.clear=function(){this.maps.forEach((function(t){return t.clear()}))},t.prototype.getIterator=function(t){var e=this.maps.get(t);if(!e)throw new Error("AG Grid: "+String(t)+" not found");return e.values()},t.prototype.forEach=function(t){for(var e,n=this.getIterator(this.indexes[0]);(e=n.next())&&!e.done;)t(e.value)},t.prototype.find=function(t){for(var e,n=this.getIterator(this.indexes[0]);(e=n.next())&&!e.done;)if(t(e.value))return e.value},t.prototype.filter=function(t){for(var e,n=this.getIterator(this.indexes[0]),o=[];(e=n.next())&&!e.done;)t(e.value)&&o.push(e.value);return o},t}(),__extends$u=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$s=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__read$6=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$4=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$6(arguments[e]));return t},LazyCache=function(t){function e(e,n,o){var r=t.call(this)||this;return r.live=!0,r.store=e,r.numberOfRows=n,r.isLastRowKnown=!1,r.storeParams=o,r}return __extends$u(e,t),e.prototype.init=function(){this.nodeMap=new MultiIndexMap("index","id","node"),this.nodeDisplayIndexMap=new Map,this.nodesToRefresh=new Set,this.defaultNodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.store.getParentNode()),this.rowLoader=this.createManagedBean(new LazyBlockLoader(this,this.store.getParentNode(),this.storeParams)),this.getRowIdFunc=this.gridOptionsService.getRowIdFunc(),this.isMasterDetail=this.gridOptionsService.isMasterDetail()},e.prototype.destroyRowNodes=function(){var t=this;this.numberOfRows=0,this.nodeMap.forEach((function(e){return t.blockUtils.destroyRowNode(e.node)})),this.nodeMap.clear(),this.nodeDisplayIndexMap.clear(),this.nodesToRefresh.clear(),this.live=!1},e.prototype.getRowByDisplayIndex=function(t){var e,n,o,r;if(this.store.isDisplayIndexInStore(t)){var i=this.nodeDisplayIndexMap.get(t);if(i)return(i.stub||i.__needsRefreshWhenVisible)&&this.rowLoader.queueLoadCheck(),i;if(t===this.store.getDisplayIndexStart())return this.createStubNode(0,t);var s=this.nodeDisplayIndexMap.get(t-1);if(s){if(this.isMasterDetail&&s.master&&s.expanded)return s.detailNode;if(s.expanded&&(null===(e=s.childStore)||void 0===e?void 0:e.isDisplayIndexInStore(t)))return null===(n=s.childStore)||void 0===n?void 0:n.getRowUsingDisplayIndex(t);var a=this.nodeMap.getBy("node",s);return this.createStubNode(a.index+1,t)}var l=this.getSurroundingNodesByDisplayIndex(t);if(null==l){var c=this.store.getRowCount()-(this.store.getDisplayIndexEnd()-t);return this.createStubNode(c,t)}var u=l.previousNode,d=l.nextNode;if(u&&u.expanded&&(null===(o=u.childStore)||void 0===o?void 0:o.isDisplayIndexInStore(t)))return null===(r=u.childStore)||void 0===r?void 0:r.getRowUsingDisplayIndex(t);if(d){var p=this.nodeMap.getBy("node",d),h=d.rowIndex-t,f=p.index-h;return this.createStubNode(f,t)}var g=this.store.getRowCount()-(this.store.getDisplayIndexEnd()-t);return this.createStubNode(g,t)}},e.prototype.createStubNode=function(t,e){var n=this,o=this.store.getRowBounds(e),r=this.createRowAtIndex(t,null,(function(t){t.setRowIndex(e),t.setRowTop(o.rowTop),n.nodeDisplayIndexMap.set(e,t)}));return this.rowLoader.queueLoadCheck(),r},e.prototype.getRowByStoreIndex=function(t){var e;return null===(e=this.nodeMap.getBy("index",t))||void 0===e?void 0:e.node},e.prototype.skipDisplayIndexes=function(t,e,n){if(0!==t){var o=this.gridOptionsService.getRowHeightAsNumber();this.skippedDisplayIndexes.push({from:e.peek(),to:e.peek()+t}),e.skip(t),n.value+=t*o}},e.prototype.setDisplayIndexes=function(t,e){this.nodeDisplayIndexMap.clear(),this.skippedDisplayIndexes=[];var n={};this.nodeMap.forEach((function(t){n[t.index]=t.node}));var o=-1;for(var r in n){var i=n[r],s=Number(r),a=s-1-o;this.skipDisplayIndexes(a,t,e),this.blockUtils.setDisplayIndex(i,t,e),this.nodeDisplayIndexMap.set(i.rowIndex,i),t.peek()-i.rowIndex>1&&this.skippedDisplayIndexes.push({from:i.rowIndex+1,to:t.peek()}),o=s}var l=this.numberOfRows-1-o;this.skipDisplayIndexes(l,t,e),this.purgeExcessRows()},e.prototype.getRowCount=function(){return this.numberOfRows},e.prototype.setRowCount=function(t,e){if(t<0)throw new Error("AG Grid: setRowCount can only accept a positive row count.");this.numberOfRows=t,null!=e&&(this.isLastRowKnown=e,!1===e&&(this.numberOfRows+=1)),this.fireStoreUpdatedEvent()},e.prototype.getNodes=function(){return this.nodeMap},e.prototype.getNodeCachedByDisplayIndex=function(t){var e;return null!==(e=this.nodeDisplayIndexMap.get(t))&&void 0!==e?e:null},e.prototype.getNodesToRefresh=function(){return this.nodesToRefresh},e.prototype.getSurroundingNodesByDisplayIndex=function(t){for(var e in this.skippedDisplayIndexes){var n=this.skippedDisplayIndexes[e];if(n.from<=t&&n.to>=t)return{previousNode:this.nodeDisplayIndexMap.get(n.from-1),nextNode:this.nodeDisplayIndexMap.get(n.to+1)}}return null},e.prototype.getDisplayIndexFromStoreIndex=function(t){var e,n,o,r,i=this.nodeMap.getBy("index",t);return i?i.node.rowIndex:(this.nodeMap.forEach((function(e){t>e.index?(null==r||r.index<e.index)&&(r=e):(null==o||o.index>e.index)&&(o=e)})),o?r?null!==(n=null===(e=r.node.childStore)||void 0===e?void 0:e.getDisplayIndexEnd())&&void 0!==n?n:r.node.rowIndex+1:this.store.getDisplayIndexStart()+t:this.store.getDisplayIndexEnd()-(this.numberOfRows-t))},e.prototype.createRowAtIndex=function(t,e,n){var o=this.nodeMap.getBy("index",t);if(o){var r=o.node;if(this.nodesToRefresh.delete(r),r.__needsRefreshWhenVisible=!1,this.doesNodeMatch(e,r))return this.blockUtils.updateDataIntoRowNode(r,e),r;if(null==this.getRowIdFunc&&r.group&&r.expanded)return r;this.destroyRowAtIndex(t)}if(e&&null!=this.getRowIdFunc){var i=this.getRowId(e),s=this.nodeMap.getBy("id",i);if(s){this.nodeMap.delete(s);r=s.node;var a=s.index;return this.blockUtils.updateDataIntoRowNode(r,e),this.nodeMap.set({id:r.id,node:r,index:t}),this.markBlockForVerify(a),r}}var l=this.blockUtils.createRowNode(this.store.getRowDetails());if(null!=e){var c=this.getPrefixedId(this.store.getIdSequence().next());this.blockUtils.setDataIntoRowNode(l,e,c,void 0),this.blockUtils.checkOpenByDefault(l),this.nodeManager.addRowNode(l)}return this.nodeMap.set({id:l.id,node:l,index:t}),n&&n(l),l},e.prototype.getBlockStates=function(){var t=this,e={},n={},o=new Set;this.nodeMap.forEach((function(r){var i,s=r.node,a=r.index,l=t.rowLoader.getBlockStartIndexForIndex(a);s.stub||s.failedLoad||(e[l]=(null!==(i=e[l])&&void 0!==i?i:0)+1);var c="loaded";s.failedLoad?c="failed":t.rowLoader.isRowLoading(l)?c="loading":t.nodesToRefresh.has(s)&&(c="needsLoading"),(s.__needsRefreshWhenVisible||s.stub)&&o.add(l),n[l]||(n[l]=new Set),n[l].add(c)}));var r={loading:4,failed:3,needsLoading:2,loaded:1},i=this.blockUtils.createNodeIdPrefix(this.store.getParentNode()),s={};return Object.entries(n).forEach((function(n){var o,a=__read$6(n,2),l=a[0],c=a[1],u=__spread$4(c).sort((function(t,e){var n,o;return(null!==(n=r[t])&&void 0!==n?n:0)-(null!==(o=r[e])&&void 0!==o?o:0)})),d=u[0],p=Number(l)/t.rowLoader.getBlockSize(),h=i?i+"-"+p:String(p);s[h]={blockNumber:p,startRow:Number(l),endRow:Number(l)+t.rowLoader.getBlockSize(),pageStatus:d,loadedRowCount:null!==(o=e[l])&&void 0!==o?o:0}})),s},e.prototype.destroyRowAtIndex=function(t){var e=this.nodeMap.getBy("index",t);e&&(this.nodeMap.delete(e),this.nodeDisplayIndexMap.delete(e.node.rowIndex),this.nodesToRefresh.delete(e.node),this.blockUtils.destroyRowNode(e.node))},e.prototype.getSsrmParams=function(){return this.store.getSsrmParams()},e.prototype.getPrefixedId=function(t){return this.defaultNodeIdPrefix?this.defaultNodeIdPrefix+"-"+t:t.toString()},e.prototype.markBlockForVerify=function(t){var e=__read$6(this.rowLoader.getBlockBoundsForIndex(t),2),n=e[0],o=e[1];this.nodeMap.filter((function(t){return t.index>=n&&t.index<o})).forEach((function(t){t.node.__needsRefreshWhenVisible=!0}))},e.prototype.doesNodeMatch=function(t,e){if(e.stub)return!1;if(null!=this.getRowIdFunc){var n=this.getRowId(t);return e.id===n}return e.data===t},e.prototype.purgeStubsOutsideOfViewport=function(){var t=this,e=this.api.getFirstDisplayedRow(),n=this.api.getLastDisplayedRow(),o=this.rowLoader.getBlockStartIndexForIndex(e),r=__read$6(this.rowLoader.getBlockBoundsForIndex(n),2);r[0];var i=r[1];this.nodeMap.forEach((function(e){t.rowLoader.isRowLoading(e.index)||e.node.stub&&(e.index<o||e.index>i)&&t.destroyRowAtIndex(e.index)}))},e.prototype.getNumberOfRowsToRetain=function(t,e){var n=this.storeParams.maxBlocksInCache;if(null==n)return null;var o=this.rowLoader.getBlockSize(),r=Math.ceil((e-t)/o);return Math.max(n,r)*o},e.prototype.getBlocksDistanceFromRow=function(t,e){var n=this,o={};return t.forEach((function(t){var r=t.node,i=t.index,s=__read$6(n.rowLoader.getBlockBoundsForIndex(i),2),a=s[0],l=s[1];if(!(a in o)){var c,u=Math.abs(r.rowIndex-e),d=n.nodeMap.getBy("index",[l-1]);d&&(c=Math.abs(d.node.rowIndex-e));var p=null==c||u<c?u:c;o[a]=p}})),Object.entries(o)},e.prototype.purgeExcessRows=function(){var t=this;this.purgeStubsOutsideOfViewport();var e=this.api.getFirstDisplayedRow(),n=this.api.getLastDisplayedRow(),o=this.rowLoader.getBlockStartIndexForIndex(e),r=__read$6(this.rowLoader.getBlockBoundsForIndex(n),2);r[0];var i=r[1],s=this.getNumberOfRowsToRetain(o,i);if(null!=this.store.getDisplayIndexEnd()&&null!=s){var a=this.nodeMap.filter((function(e){var n=e.node;return!n.stub&&!t.isNodeCached(n)}));if(!(a.length<=s)){var l=a.filter((function(t){var e=t.node.rowIndex;if(null==e||-1===e)return!0;if(o<=e&&e<i)return!1;var n=e+d;return!(o<=n&&n<i)&&!(e<o&&n>=i)}));if(s-=a.length-l.length,l.length){var c=e+(n-e)/2,u=this.getBlocksDistanceFromRow(l,c),d=this.rowLoader.getBlockSize(),p=Math.ceil(s/d);if(!(u.length<=p)){u.sort((function(t,e){return Math.sign(e[1]-t[1])}));for(var h=u.length-Math.max(p,0),f=0;f<h;f++)for(var g=Number(u[f][0]),_=g;_<g+d;_++){var m=this.nodeMap.getBy("index",_);m&&!this.isNodeCached(m.node)&&this.destroyRowAtIndex(_)}}}}}},e.prototype.isNodeFocused=function(t){var e=this.focusService.getFocusCellToUseAfterRefresh();return!!e&&(null==e.rowPinned&&e.rowIndex===t.rowIndex)},e.prototype.isNodeCached=function(t){return!!t.group&&t.expanded||this.isNodeFocused(t)},e.prototype.extractDuplicateIds=function(t){var e=this;if(null==!this.getRowIdFunc)return[];var n=new Set,o=new Set;return t.forEach((function(t){var r=e.getRowId(t);n.has(r)?o.add(r):n.add(r)})),__spread$4(o)},e.prototype.onLoadSuccess=function(t,e,n){var o=this;if(this.live){if(null!=this.getRowIdFunc){var r=this.extractDuplicateIds(n.rowData);if(r.length>0){var i=r.join(", ");return console.warn("AG Grid: Unable to display rows as duplicate row ids ("+i+") were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids."),void this.onLoadFailed(t,e)}}var s=this.nodesToRefresh.size>0;n.rowData.forEach((function(e,n){var r,i=t+n,s=o.nodeMap.getBy("index",i);if(!(null===(r=null==s?void 0:s.node)||void 0===r?void 0:r.stub))return s&&o.doesNodeMatch(e,s.node)?(o.blockUtils.updateDataIntoRowNode(s.node,e),o.nodesToRefresh.delete(s.node),void(s.node.__needsRefreshWhenVisible=!1)):void o.createRowAtIndex(i,e);o.createRowAtIndex(i,e)}));var a=0===this.nodesToRefresh.size;if(s&&a&&this.fireRefreshFinishedEvent(),null!=n.rowCount&&-1!==n.rowCount)this.numberOfRows=n.rowCount,this.isLastRowKnown=!0;else if(e>n.rowData.length)this.numberOfRows=t+n.rowData.length,this.isLastRowKnown=!0;else if(!this.isLastRowKnown){var l=t+n.rowData.length+1;l>this.numberOfRows&&(this.numberOfRows=l)}if(this.isLastRowKnown)this.nodeMap.filter((function(t){return t.index>=o.numberOfRows})).forEach((function(t){return o.destroyRowAtIndex(t.index)}));this.fireStoreUpdatedEvent()}},e.prototype.fireRefreshFinishedEvent=function(){0===this.nodesToRefresh.size&&this.store.fireRefreshFinishedEvent()},e.prototype.isLastRowIndexKnown=function(){return this.isLastRowKnown},e.prototype.onLoadFailed=function(t,e){this.live&&(this.nodeMap.filter((function(n){return n.index>=t&&n.index<t+e})).forEach((function(t){return t.node.failedLoad=!0})),this.fireStoreUpdatedEvent())},e.prototype.markNodesForRefresh=function(){var t=this;this.nodeMap.forEach((function(e){e.node.stub||t.nodesToRefresh.add(e.node)})),this.rowLoader.queueLoadCheck(),this.isLastRowKnown&&0===this.numberOfRows&&(this.numberOfRows=1,this.isLastRowKnown=!1,this.fireStoreUpdatedEvent())},e.prototype.isNodeInCache=function(t){return!!this.nodeMap.getBy("id",t)},e.prototype.fireStoreUpdatedEvent=function(){this.live&&this.store.fireStoreUpdatedEvent()},e.prototype.getRowId=function(t){if(null==this.getRowIdFunc)return null;var e=this.store.getRowDetails().level,n=this.store.getParentNode().getGroupKeys(),o=this.getRowIdFunc({data:t,parentKeys:n.length>0?n:void 0,level:e});return String(o)},e.prototype.updateRowNodes=function(t){var e=this;if(null==this.getRowIdFunc)throw new Error("AG Grid: Insert transactions can only be applied when row ids are supplied.");var n=[];return t.forEach((function(t){var o=e.getRowId(t),r=e.nodeMap.getBy("id",o);r&&(e.blockUtils.updateDataIntoRowNode(r.node,t),n.push(r.node))})),n},e.prototype.insertRowNodes=function(t,e){var n=this,o=null==e&&this.isLastRowKnown?this.store.getRowCount():e;if(null==o||this.store.getRowCount()<o)return[];if(null==this.getRowIdFunc)throw new Error("AG Grid: Insert transactions can only be applied when row ids are supplied.");var r={};t.forEach((function(t){var e=n.getRowId(t);e&&n.isNodeInCache(e)||(r[e]=t)}));var i=Object.values(r),s=i.length;if(0===s)return[];var a=this.nodeMap.filter((function(t){return t.index>=o}));return a.forEach((function(t){return n.nodeMap.delete(t)})),a.forEach((function(t){n.nodeMap.set({node:t.node,index:t.index+s,id:t.id})})),this.numberOfRows+=s,i.map((function(t,e){return n.createRowAtIndex(o+e,t)}))},e.prototype.getOrderedNodeMap=function(){var t={};return this.nodeMap.forEach((function(e){return t[e.index]=e})),t},e.prototype.clearDisplayIndexes=function(){this.nodeDisplayIndexMap.clear()},e.prototype.removeRowNodes=function(t){if(null==this.getRowIdFunc)throw new Error("AG Grid: Insert transactions can only be applied when row ids are supplied.");var e=[],n=[],o=0,r=__spread$4(t),i=this.getOrderedNodeMap(),s=-1,a=function(t){s+=1;var a=i[t],c=r.findIndex((function(t){return t===a.id}));if(-1!==c)return r.splice(c,1),l.destroyRowAtIndex(Number(t)),e.push(a.node),o+=1,"continue";if(0===o)return"continue";var u=Number(t);s!==u&&n.push(a.node),l.nodeMap.delete(i[t]),l.nodeMap.set({id:a.id,node:a.node,index:u-o})},l=this;for(var c in i)a(c);return this.numberOfRows-=this.isLastRowIndexKnown()?t.length:o,r.length>0&&n.length>0&&(n.forEach((function(t){return t.__needsRefreshWhenVisible=!0})),this.rowLoader.queueLoadCheck()),e},__decorate$s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"api",void 0),__decorate$s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmBlockUtils")],e.prototype,"blockUtils",void 0),__decorate$s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),__decorate$s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmNodeManager")],e.prototype,"nodeManager",void 0),__decorate$s([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),__decorate$s([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],e.prototype,"destroyRowNodes",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$t=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$r=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__read$5=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$3=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$5(arguments[e]));return t},LazyStore=function(t){function e(e,n,o){var r=t.call(this)||this;return r.idSequence=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1,r.ssrmParams=e,r.parentRowNode=o,r.storeParams=n,r.level=o.level+1,r.group=!!e.rowGroupCols&&r.level<e.rowGroupCols.length,r.leafGroup=!!e.rowGroupCols&&r.level===e.rowGroupCols.length-1,r}return __extends$t(e,t),e.prototype.init=function(){var t=1;if(0===this.level&&(t=this.storeUtils.getServerSideInitialRowCount()),this.cache=this.createManagedBean(new LazyCache(this,t,this.storeParams)),!this.gridOptionsService.isTreeData()&&this.group){var e=this.ssrmParams.rowGroupCols[this.level];this.groupField=e.field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level]}},e.prototype.destroyRowNodes=function(){this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.destroyBean(this.cache)},e.prototype.applyTransaction=function(t){var e,n,o,r=this,i=this.gridOptionsService.getRowIdFunc();if(!i)return console.warn("AG Grid: getRowId callback must be implemented for transactions to work. Transaction was ignored."),{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.Cancelled};var s=this.gridOptionsService.getCallback("isApplyServerSideTransaction");if(s&&!s({transaction:t,parentNode:this.parentRowNode,storeInfo:this.info,groupLevelInfo:this.info}))return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.Cancelled};var a=void 0;(null===(e=t.update)||void 0===e?void 0:e.length)&&(a=this.cache.updateRowNodes(t.update));var l=void 0;if(null===(n=t.add)||void 0===n?void 0:n.length){var c=t.addIndex;null!=c&&c<0&&(c=void 0),l=this.cache.insertRowNodes(t.add,c)}var u=void 0;if(null===(o=t.remove)||void 0===o?void 0:o.length){var d=t.remove.map((function(t){return i({level:r.level,parentKeys:r.parentRowNode.getGroupKeys(),data:t})})),p=__spread$3(new Set(d));u=this.cache.removeRowNodes(p)}return this.updateSelectionAfterTransaction(a,u),{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.Applied,update:a,add:l,remove:u}},e.prototype.updateSelectionAfterTransaction=function(t,e){var n=!1;if(null==t||t.forEach((function(t){t.isSelected()&&!t.selectable&&(t.setSelected(!1,!1,!0,"rowDataChanged"),n=!0)})),null==e||e.forEach((function(t){t.isSelected()&&(t.setSelected(!1,!1,!0,"rowDataChanged"),n=!0)})),n){var o={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,source:"rowDataChanged"};this.eventService.dispatchEvent(o)}},e.prototype.clearDisplayIndexes=function(){var t=this;this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.cache.getNodes().forEach((function(e){return t.blockUtils.clearDisplayIndex(e.node)})),this.cache.clearDisplayIndexes()},e.prototype.getDisplayIndexStart=function(){return this.displayIndexStart},e.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},e.prototype.getRowCount=function(){return this.cache.getRowCount()},e.prototype.setRowCount=function(t,e){this.cache.setRowCount(t,e)},e.prototype.isDisplayIndexInStore=function(t){return 0!==this.cache.getRowCount()&&(this.displayIndexStart<=t&&t<this.getDisplayIndexEnd())},e.prototype.setDisplayIndexes=function(t,e){this.displayIndexStart=t.peek(),this.topPx=e.value,this.cache.setDisplayIndexes(t,e),this.displayIndexEnd=t.peek(),this.heightPx=e.value-this.topPx},e.prototype.forEachStoreDeep=function(t,e){void 0===e&&(e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1),t(this,e.next()),this.cache.getNodes().forEach((function(n){var o=n.node.childStore;o&&o.forEachStoreDeep(t,e)}))},e.prototype.forEachNodeDeep=function(t,e){void 0===e&&(e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1),this.cache.getNodes().forEach((function(n){t(n.node,e.next());var o=n.node.childStore;o&&o.forEachNodeDeep(t,e)}))},e.prototype.forEachNodeDeepAfterFilterAndSort=function(t,e){void 0===e&&(e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1);var n=this.cache.getOrderedNodeMap();for(var o in n){var r=n[o];t(r.node,e.next());var i=r.node.childStore;i&&i.forEachNodeDeepAfterFilterAndSort(t,e)}},e.prototype.retryLoads=function(){this.cache.getNodes().forEach((function(t){var e=t.node;e.failedLoad&&(e.failedLoad=!1,e.__needsRefreshWhenVisible=!0,e.stub=!0)})),this.forEachChildStoreShallow((function(t){return t.retryLoads()})),this.fireStoreUpdatedEvent()},e.prototype.getRowUsingDisplayIndex=function(t){return this.cache.getRowByDisplayIndex(t)},e.prototype.getRowBounds=function(t){var e;if(!this.isDisplayIndexInStore(t))return null;var n=this.cache.getNodeCachedByDisplayIndex(t);if(n&&(o=this.blockUtils.extractRowBounds(n,t)))return o;var o,r=null!==(e=this.cache.getSurroundingNodesByDisplayIndex(t))&&void 0!==e?e:{},i=r.previousNode,s=r.nextNode;if(i&&null!=(o=this.blockUtils.extractRowBounds(i,t)))return o;var a=this.gridOptionsService.getRowHeightAsNumber();if(s){var l=Math.floor((s.rowIndex-t)*a);return{rowTop:s.rowTop-l,rowHeight:a}}return{rowTop:this.topPx+this.heightPx-Math.floor((this.getDisplayIndexEnd()-t)*a),rowHeight:a}},e.prototype.isPixelInRange=function(t){return t>=this.topPx&&t<this.topPx+this.heightPx},e.prototype.getRowIndexAtPixel=function(t){if(t<this.topPx)return this.getDisplayIndexStart();if(t>=this.topPx+this.heightPx)return this.getDisplayIndexEnd()-1;var e=Number.MAX_SAFE_INTEGER,n=null,o=Number.MAX_SAFE_INTEGER,r=null;if(this.cache.getNodes().forEach((function(i){var s=i.node,a=Math.abs(t-s.rowTop);s.rowTop<t?a<e&&(e=a,n=s):a<o&&(o=a,r=s)})),n){var i=this.blockUtils.getIndexAtPixel(n,t);if(null!=i)return i}var s=this.gridOptionsService.getRowHeightAsNumber();if(r){var a=r.rowTop,l=Math.ceil((a-t)/s);return r.rowIndex-l}var c=this.topPx+this.heightPx,u=Math.floor((c-t)/s);return this.getDisplayIndexEnd()-u},e.prototype.getChildStore=function(t){var e=this;return this.storeUtils.getChildStore(t,this,(function(t){var n=e.cache.getNodes().find((function(e){return e.node.key==t}));return n?n.node:null}))},e.prototype.forEachChildStoreShallow=function(t){this.cache.getNodes().forEach((function(e){var n=e.node;n.childStore&&t(n.childStore)}))},e.prototype.refreshAfterSort=function(t){if(this.storeUtils.isServerSideSortAllLevels()||this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,t)){var e=this.cache.getRowCount();return this.destroyBean(this.cache),this.cache=this.createManagedBean(new LazyCache(this,e,this.storeParams)),void this.fireStoreUpdatedEvent()}this.forEachChildStoreShallow((function(e){return e.refreshAfterSort(t)}))},e.prototype.refreshAfterFilter=function(t){this.storeUtils.isServerSideFilterAllLevels()||this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,t)?this.refreshStore(!0):this.forEachChildStoreShallow((function(e){return e.refreshAfterFilter(t)}))},e.prototype.refreshStore=function(t){if(t)return this.destroyBean(this.cache),this.cache=this.createManagedBean(new LazyCache(this,1,this.storeParams)),void this.fireStoreUpdatedEvent();this.cache.markNodesForRefresh()},e.prototype.getTopLevelRowDisplayedIndex=function(t){var e=this.cache.getDisplayIndexFromStoreIndex(t);return null!=e?e:t},e.prototype.isLastRowIndexKnown=function(){return this.cache.isLastRowIndexKnown()},e.prototype.getRowNodesInRange=function(t,e){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(t),this.cache.getNodes().filter((function(n){var o=n.node;return o.rowIndex>=t.rowIndex&&o.rowIndex<=e.rowIndex})).map((function(t){return t.node}))},e.prototype.addStoreStates=function(t){t.push({suppressInfiniteScroll:!1,route:this.parentRowNode.getGroupKeys(),rowCount:this.getRowCount(),lastRowIndexKnown:this.isLastRowIndexKnown(),info:this.info,maxBlocksInCache:this.storeParams.maxBlocksInCache,cacheBlockSize:this.storeParams.cacheBlockSize}),this.forEachChildStoreShallow((function(e){return e.addStoreStates(t)}))},e.prototype.getIdSequence=function(){return this.idSequence},e.prototype.getParentNode=function(){return this.parentRowNode},e.prototype.getRowDetails=function(){return{field:this.groupField,group:this.group,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn}},e.prototype.getSsrmParams=function(){return this.ssrmParams},e.prototype.setStoreInfo=function(t){this.info=t},e.prototype.fireStoreUpdatedEvent=function(){var t={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(t)},e.prototype.fireRefreshFinishedEvent=function(){var t={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_REFRESHED,route:this.parentRowNode.getRoute()};this.eventService.dispatchEvent(t)},e.prototype.getBlockStates=function(){return this.cache.getBlockStates()},e.prototype.getStoreBounds=function(){return{topPx:this.topPx,heightPx:this.heightPx}},__decorate$r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmBlockUtils")],e.prototype,"blockUtils",void 0),__decorate$r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmStoreUtils")],e.prototype,"storeUtils",void 0),__decorate$r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$r([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),__decorate$r([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],e.prototype,"destroyRowNodes",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$s=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$q=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__read$4=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},ServerSideRowModel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onRowHeightChanged_debounced=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.debounce(e.onRowHeightChanged.bind(e),100),e.pauseStoreUpdateListening=!1,e.started=!1,e}return __extends$s(e,t),e.prototype.ensureRowHeightsValid=function(){return!1},e.prototype.start=function(){this.started=!0;var t=this.gridOptionsService.get("serverSideDatasource");t&&this.setDatasource(t)},e.prototype.destroyDatasource=function(){this.datasource&&(this.datasource.destroy&&this.datasource.destroy(),this.rowRenderer.datasourceChanged(),this.datasource=void 0)},e.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_UPDATED,this.onStoreUpdated.bind(this));var t=this.resetRootStore.bind(this);this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VALUE_CHANGED,t),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_CHANGED,t),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,t),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,t),this.verifyProps()},e.prototype.verifyProps=function(){if(this.gridOptionsService.exists("initialGroupOrderComparator")||this.gridOptionsService.exists("defaultGroupOrderComparator")){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid: initialGroupOrderComparator cannot be used with Server Side Row Model. If using Full Store, then provide the rows to the grid in the desired sort order. If using Infinite Scroll, then sorting is done on the server side, nothing to do with the client.")}),"SSRM.InitialGroupOrderComparator")}if(this.gridOptionsService.isRowSelection()&&!this.gridOptionsService.exists("getRowId")){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid: getRowId callback must be provided for Server Side Row Model selection to work correctly.")}),"SSRM.SelectionNeedsRowNodeIdFunc")}},e.prototype.setDatasource=function(t){this.started&&(this.destroyDatasource(),this.datasource=t,this.resetRootStore())},e.prototype.isLastRowIndexKnown=function(){var t=this.getRootStore();return!!t&&t.isLastRowIndexKnown()},e.prototype.onColumnEverything=function(){if(this.storeParams){var t=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),e=this.columnsToValueObjects(this.columnModel.getValueColumns()),n=this.columnsToValueObjects(this.columnModel.getPivotColumns()),o=function(t){var e={};t.oldCols.forEach((function(t){return e[t.id]=t}));var n=t.newCols.every((function(t){var n=e[t.id];return n&&delete e[t.id],n&&n.field===t.field&&n.aggFunc===t.aggFunc})),o=!t.allowRemovedColumns&&!!Object.values(e).length;return n&&!o},r=!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.jsonEquals(this.storeParams.sortModel,this.sortListener.extractSortModel()),i=!o({oldCols:this.storeParams.rowGroupCols,newCols:t}),s=!o({oldCols:this.storeParams.pivotCols,newCols:n}),a=!!(null==t?void 0:t.length)&&!o({oldCols:this.storeParams.valueCols,newCols:e,allowRemovedColumns:!0});if(r||i||s||a)this.resetRootStore();else{var l=this.createStoreParams();this.storeParams.rowGroupCols=l.rowGroupCols,this.storeParams.pivotCols=l.pivotCols,this.storeParams.valueCols=l.valueCols}}else this.resetRootStore()},e.prototype.destroyRootStore=function(){this.rootNode&&this.rootNode.childStore&&(this.rootNode.childStore=this.destroyBean(this.rootNode.childStore),this.nodeManager.clear())},e.prototype.refreshAfterSort=function(t,e){this.storeParams&&(this.storeParams.sortModel=t);var n=this.getRootStore();n&&(n.refreshAfterSort(e),this.onStoreUpdated())},e.prototype.resetRootStore=function(){this.destroyRootStore(),this.rootNode=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk(this.beans),this.rootNode.group=!0,this.rootNode.level=-1,this.datasource&&(this.storeParams=this.createStoreParams(),this.rootNode.childStore=this.createBean(this.storeFactory.createStore(this.storeParams,this.rootNode)),this.updateRowIndexesAndBounds());var t={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(t),this.dispatchModelUpdated(!0)},e.prototype.columnsToValueObjects=function(t){var e=this;return t.map((function(t){return{id:t.getId(),aggFunc:t.getAggFunc(),displayName:e.columnModel.getDisplayNameForColumn(t,"model"),field:t.getColDef().field}}))},e.prototype.createStoreParams=function(){var t=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),e=this.columnsToValueObjects(this.columnModel.getValueColumns()),n=this.columnsToValueObjects(this.columnModel.getPivotColumns()),o=this.gridOptionsService.isGetRowHeightFunction();return{valueCols:e,rowGroupCols:t,pivotCols:n,pivotMode:this.columnModel.isPivotMode(),filterModel:this.filterManager.getFilterModel(),sortModel:this.sortListener.extractSortModel(),datasource:this.datasource,lastAccessedSequence:new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1,dynamicRowHeight:o}},e.prototype.getParams=function(){return this.storeParams},e.prototype.dispatchModelUpdated=function(t){void 0===t&&(t=!1);var e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,animate:!t,keepRenderedRows:!t,newPage:!1,newData:!1};this.eventService.dispatchEvent(e)},e.prototype.onStoreUpdated=function(){this.pauseStoreUpdateListening||(this.updateRowIndexesAndBounds(),this.dispatchModelUpdated())},e.prototype.onRowHeightChangedDebounced=function(){this.onRowHeightChanged_debounced()},e.prototype.onRowHeightChanged=function(){this.updateRowIndexesAndBounds(),this.dispatchModelUpdated()},e.prototype.updateRowIndexesAndBounds=function(){var t=this.getRootStore();t&&t.setDisplayIndexes(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1,{value:0})},e.prototype.retryLoads=function(){var t=this.getRootStore();t&&(t.retryLoads(),this.onStoreUpdated())},e.prototype.getRow=function(t){var e=this.getRootStore();if(e)return e.getRowUsingDisplayIndex(t)},e.prototype.expandAll=function(t){this.pauseStoreUpdateListening=!0,this.forEachNode((function(e){e.stub||e.hasChildren()&&e.setExpanded(t)})),this.pauseStoreUpdateListening=!1,this.onStoreUpdated()},e.prototype.refreshAfterFilter=function(t,e){this.storeParams&&(this.storeParams.filterModel=t);var n=this.getRootStore();n&&(n.refreshAfterFilter(e),this.onStoreUpdated())},e.prototype.getRootStore=function(){if(this.rootNode&&this.rootNode.childStore)return this.rootNode.childStore},e.prototype.getRowCount=function(){var t=this.getRootStore();return t?t.getDisplayIndexEnd():0},e.prototype.getTopLevelRowCount=function(){var t=this.getRootStore();return t?t.getRowCount():1},e.prototype.getTopLevelRowDisplayedIndex=function(t){var e=this.getRootStore();return e?e.getTopLevelRowDisplayedIndex(t):t},e.prototype.getRowBounds=function(t){var e=this.getRootStore();return e?e.getRowBounds(t):{rowTop:0,rowHeight:this.gridOptionsService.getRowHeightAsNumber()}},e.prototype.getBlockStates=function(){var t=this.getRootStore();if(t){var e={};return t.forEachStoreDeep((function(t){if(t instanceof FullStore){var n=t.getBlockStateJson(),o=n.id,r=n.state;e[o]=r}else{if(!(t instanceof LazyStore))throw new Error("AG Grid: Unsupported store type");Object.entries(t.getBlockStates()).forEach((function(t){var n=__read$4(t,2),o=n[0],r=n[1];e[o]=r}))}})),e}},e.prototype.getRowIndexAtPixel=function(t){var e=this.getRootStore();return t<=0||!e?0:e.getRowIndexAtPixel(t)},e.prototype.isEmpty=function(){return!1},e.prototype.isRowsToRender=function(){return null!=this.getRootStore()&&this.getRowCount()>0},e.prototype.getType=function(){return"serverSide"},e.prototype.forEachNode=function(t){var e=this.getRootStore();e&&e.forEachNodeDeep(t)},e.prototype.forEachNodeAfterFilterAndSort=function(t){var e=this.getRootStore();e&&e.forEachNodeDeepAfterFilterAndSort(t)},e.prototype.executeOnStore=function(t,e){var n=this.getRootStore();if(n){var o=n.getChildStore(t);o&&e(o)}},e.prototype.refreshStore=function(t){void 0===t&&(t={});var e=t.route?t.route:[];this.executeOnStore(e,(function(e){return e.refreshStore(1==t.purge)}))},e.prototype.getStoreState=function(){var t=[],e=this.getRootStore();return e&&e.addStoreStates(t),t},e.prototype.getNodesInRangeForSelection=function(t,e){if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t))return[];if(!e)return[t];var n=t.rowIndex,o=e.rowIndex;if(null===n||null===o)return[t];var r=[],i=__read$4([n,o].sort((function(t,e){return t-e})),2),s=i[0],a=i[1];return this.forEachNode((function(t){var e=t.rowIndex;null==e||t.stub||e>=s&&e<=a&&r.push(t)})),r.every((function(t,e,n){return 0===e?t.rowIndex===s:n[e-1].rowIndex===t.rowIndex-1}))&&r.length===a-s+1?r:[t]},e.prototype.getRowNode=function(t){var e;return this.forEachNode((function(n){n.id===t&&(e=n),n.detailNode&&n.detailNode.id===t&&(e=n.detailNode)})),e},e.prototype.isRowPresent=function(t){return!!this.getRowNode(t.id)},e.prototype.setRowCount=function(t,e){var n=this.getRootStore();if(n){if(n instanceof LazyStore)return void n.setRowCount(t,e);console.error("AG Grid: Infinite scrolling must be enabled in order to set the row count.")}},__decorate$q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],e.prototype,"filterManager",void 0),__decorate$q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],e.prototype,"rowRenderer",void 0),__decorate$q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmSortService")],e.prototype,"sortListener",void 0),__decorate$q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmNodeManager")],e.prototype,"nodeManager",void 0),__decorate$q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmStoreFactory")],e.prototype,"storeFactory",void 0),__decorate$q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("beans")],e.prototype,"beans",void 0),__decorate$q([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],e.prototype,"destroyDatasource",null),__decorate$q([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"addEventListeners",null),__decorate$q([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],e.prototype,"destroyRootStore",null),e=__decorate$q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("rowModel")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$r=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$p=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},StoreUtils=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$r(e,t),e.prototype.loadFromDatasource=function(t){var e=t.storeParams,n=t.parentBlock,o=t.parentNode.getGroupKeys();if(e.datasource){var r={startRow:t.startRow,endRow:t.endRow,rowGroupCols:e.rowGroupCols,valueCols:e.valueCols,pivotCols:e.pivotCols,pivotMode:e.pivotMode,groupKeys:o,filterModel:e.filterModel,sortModel:e.sortModel},i={successCallback:t.successCallback,success:t.success,failCallback:t.failCallback,fail:t.fail,request:r,parentNode:t.parentNode,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context};window.setTimeout((function(){e.datasource&&n.isAlive()?e.datasource.getRows(i):t.failCallback()}),0)}},e.prototype.getChildStore=function(t,e,n){if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missingOrEmpty(t))return e;var o=n(t[0]);if(o){var r=t.slice(1,t.length),i=o.childStore;return i?i.getChildStore(r):null}return null},e.prototype.isServerRefreshNeeded=function(t,e,n){if(n.valueColChanged||n.secondaryColChanged)return!0;var o=t.level+1;if(!(o<e.length))return!0;var r=e[o].id;if(n.changedColumns.indexOf(r)>-1)return!0;var i=this.columnModel.getAllGridColumns().filter((function(t){return t.getColDef().showRowGroup&&n.changedColumns.includes(t.getId())})).map((function(t){return t.getColDef().showRowGroup})).some((function(t){return!0===t||t===r}));return i},e.prototype.getServerSideInitialRowCount=function(){var t=this.gridOptionsService.getNum("serverSideInitialRowCount");return"number"==typeof t&&t>0?t:1},e.prototype.assertRowModelIsServerSide=function(t){return!!this.gridOptionsService.isRowModelType("serverSide")||(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid: The '"+t+"' property can only be used with the Server Side Row Model.")}),t),!1)},e.prototype.assertNotTreeData=function(t){return!this.gridOptionsService.is("treeData")||(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid: The '"+t+"' property cannot be used while using tree data.")}),t+"_TreeData"),!1)},e.prototype.isServerSideSortAllLevels=function(){return this.gridOptionsService.is("serverSideSortAllLevels")&&this.assertRowModelIsServerSide("serverSideSortAllLevels")},e.prototype.isServerSideFilterAllLevels=function(){return this.gridOptionsService.is("serverSideFilterAllLevels")&&this.assertRowModelIsServerSide("serverSideFilterAllLevels")},e.prototype.isServerSideSortOnServer=function(){return this.gridOptionsService.is("serverSideSortOnServer")&&this.assertRowModelIsServerSide("serverSideSortOnServer")&&this.assertNotTreeData("serverSideSortOnServer")},e.prototype.isServerSideFilterOnServer=function(){return this.gridOptionsService.is("serverSideFilterOnServer")&&this.assertRowModelIsServerSide("serverSideFilterOnServer")&&this.assertNotTreeData("serverSideFilterOnServer")},__decorate$p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],e.prototype,"columnApi",void 0),__decorate$p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),e=__decorate$p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmStoreUtils")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$q=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$o=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},GROUP_MISSING_KEY_ID="ag-Grid-MissingKey",BlockUtils=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$q(e,t),e.prototype.postConstruct=function(){this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.usingTreeData=this.gridOptionsService.isTreeData(),this.usingMasterDetail=this.gridOptionsService.isMasterDetail()},e.prototype.createRowNode=function(t){var e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk(this.beans),n=null!=t.rowHeight?t.rowHeight:this.rowHeight;return e.setRowHeight(n),e.group=t.group,e.leafGroup=t.leafGroup,e.level=t.level,e.uiLevel=t.level,e.parent=t.parent,e.stub=!0,e.__needsRefreshWhenVisible=!1,e.group&&(e.expanded=!1,e.field=t.field,e.rowGroupColumn=t.rowGroupColumn),e},e.prototype.destroyRowNodes=function(t){var e=this;t&&t.forEach((function(t){return e.destroyRowNode(t)}))},e.prototype.destroyRowNode=function(t,e){void 0===e&&(e=!1),t.childStore&&!e&&(this.destroyBean(t.childStore),t.childStore=null),t.clearRowTopAndRowIndex(),null!=t.id&&this.nodeManager.removeNode(t)},e.prototype.setTreeGroupInfo=function(t){t.updateHasChildren();var e=this.gridOptionsService.get("getServerSideGroupKey");t.hasChildren()&&null!=e&&(t.key=e(t.data)),t.hasChildren()||null==t.childStore||(this.destroyBean(t.childStore),t.childStore=null,t.expanded=!1)},e.prototype.setRowGroupInfo=function(t){t.key=this.valueService.getValue(t.rowGroupColumn,t),null!==t.key&&void 0!==t.key||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){console.warn("AG Grid: null and undefined values are not allowed for server side row model keys"),t.rowGroupColumn&&console.warn("column = "+t.rowGroupColumn.getId()),console.warn("data is ",t.data)}),"ServerSideBlock-CannotHaveNullOrUndefinedForKey")},e.prototype.setMasterDetailInfo=function(t){var e=this.gridOptionsService.get("isRowMaster");t.master=null==e||e(t.data)},e.prototype.updateDataIntoRowNode=function(t,e){t.updateData(e),this.usingTreeData?(this.setTreeGroupInfo(t),this.setChildCountIntoRowNode(t)):t.group?this.setChildCountIntoRowNode(t):this.usingMasterDetail},e.prototype.setDataIntoRowNode=function(t,e,n,o){t.stub=!1,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e)?(t.setDataAndId(e,n),this.usingTreeData?this.setTreeGroupInfo(t):t.group?this.setRowGroupInfo(t):this.usingMasterDetail&&this.setMasterDetailInfo(t)):(t.setDataAndId(void 0,void 0),t.key=null),(this.usingTreeData||t.group)&&(this.setGroupDataIntoRowNode(t),this.setChildCountIntoRowNode(t)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e)&&t.setRowHeight(this.gridOptionsService.getRowHeightForNode(t,!1,o).height)},e.prototype.setChildCountIntoRowNode=function(t){var e=this.gridOptionsService.get("getChildCount");e&&t.setAllChildrenCount(e(t.data))},e.prototype.setGroupDataIntoRowNode=function(t){var e=this,n=this.columnModel.getGroupDisplayColumns(),o=this.gridOptionsService.isTreeData();n.forEach((function(n){if(null==t.groupData&&(t.groupData={}),o)t.groupData[n.getColId()]=t.key;else if(n.isRowGroupDisplayed(t.rowGroupColumn.getId())){var r=e.valueService.getValue(t.rowGroupColumn,t);t.groupData[n.getColId()]=r}}))},e.prototype.clearDisplayIndex=function(t){(t.clearRowTopAndRowIndex(),t.hasChildren()&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t.childStore))&&t.childStore.clearDisplayIndexes();t.master&&t.detailNode&&t.detailNode.clearRowTopAndRowIndex()},e.prototype.setDisplayIndex=function(t,e,n){if(t.setRowIndex(e.next()),t.setRowTop(n.value),n.value+=t.rowHeight,t.master&&(t.expanded&&t.detailNode?(t.detailNode.setRowIndex(e.next()),t.detailNode.setRowTop(n.value),n.value+=t.detailNode.rowHeight):t.detailNode&&t.detailNode.clearRowTopAndRowIndex()),t.hasChildren()&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t.childStore)){var o=t.childStore;t.expanded?o.setDisplayIndexes(e,n):o.clearDisplayIndexes()}},e.prototype.binarySearchForDisplayIndex=function(t,e){var n=0,o=e.length-1;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(o)||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(n))console.warn("AG Grid: error: topPointer = "+o+", bottomPointer = "+n);else for(;;){var r=Math.floor((n+o)/2),i=e[r];if(i.rowIndex===t)return i;var s=i.master&&i.expanded,a=i.detailNode;if(s&&a&&a.rowIndex===t)return i.detailNode;var l=i.childStore;if(i.expanded&&l&&l.isDisplayIndexInStore(t))return l.getRowUsingDisplayIndex(t);if(i.rowIndex<t)n=r+1;else{if(!(i.rowIndex>t))return void console.warn("AG Grid: error: unable to locate rowIndex = "+t+" in cache");o=r-1}}},e.prototype.extractRowBounds=function(t,e){var n=function(t){return{rowHeight:t.rowHeight,rowTop:t.rowTop}};if(t.rowIndex===e)return n(t);if(t.hasChildren()&&t.expanded&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t.childStore)){var o=t.childStore;if(o.isDisplayIndexInStore(e))return o.getRowBounds(e)}else if(t.master&&t.expanded&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t.detailNode)&&t.detailNode.rowIndex===e)return n(t.detailNode)},e.prototype.getIndexAtPixel=function(t,e){if(t.isPixelInRange(e))return t.rowIndex;var n=t.master&&t.expanded,o=t.detailNode;if(n&&o&&o.isPixelInRange(e))return t.detailNode.rowIndex;if(t.hasChildren()&&t.expanded&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t.childStore)){var r=t.childStore;if(r.isPixelInRange(e))return r.getRowIndexAtPixel(e)}return null},e.prototype.createNodeIdPrefix=function(t){for(var e=[],n=t;n&&n.level>=0;)""===n.key?e.push(GROUP_MISSING_KEY_ID):e.push(n.key),n=n.parent;if(e.length>0)return e.reverse().join("-")},e.prototype.checkOpenByDefault=function(t){if(t.isExpandable()){var e=this.gridOptionsService.getCallback("isServerSideGroupOpenByDefault");if(e)e({data:t.data,rowNode:t})&&window.setTimeout((function(){return t.setExpanded(!0)}),0)}},__decorate$o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),__decorate$o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmNodeManager")],e.prototype,"nodeManager",void 0),__decorate$o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("beans")],e.prototype,"beans",void 0),__decorate$o([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e=__decorate$o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmBlockUtils")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__decorate$n=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},NodeManager=function(){function t(){this.rowNodes={}}return t.prototype.addRowNode=function(t){var e=t.id;this.rowNodes[e]&&(console.warn("AG Grid: Duplicate node id "+t.id+". Row ID's are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values."),console.warn("first instance",this.rowNodes[e].data),console.warn("second instance",t.data)),this.rowNodes[e]=t},t.prototype.removeNode=function(t){var e=t.id;this.rowNodes[e]&&(this.rowNodes[e]=void 0)},t.prototype.clear=function(){this.rowNodes={}},__decorate$n([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],t.prototype,"clear",null),t=__decorate$n([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmNodeManager")],t)}(),__extends$p=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$m=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},TransactionManager=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.asyncTransactions=[],e}return __extends$p(e,t),e.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("serverSide")},e.prototype.applyTransactionAsync=function(t,e){null==this.asyncTransactionsTimeout&&this.scheduleExecuteAsync(),this.asyncTransactions.push({transaction:t,callback:e})},e.prototype.scheduleExecuteAsync=function(){var t=this,e=this.gridOptionsService.getAsyncTransactionWaitMillis();this.asyncTransactionsTimeout=window.setTimeout((function(){t.executeAsyncTransactions()}),e)},e.prototype.executeAsyncTransactions=function(){var t=this;if(this.asyncTransactions){var e=[],n=[],o=[],r=!1;if(this.asyncTransactions.forEach((function(i){var s;t.serverSideRowModel.executeOnStore(i.transaction.route,(function(t){s=t.applyTransaction(i.transaction)})),null==s&&(s={status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreNotFound}),n.push(s),s.status==ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreLoading?o.push(i):(i.callback&&e.push((function(){return i.callback(s)})),s.status===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.Applied&&(r=!0))})),e.length>0&&window.setTimeout((function(){e.forEach((function(t){return t()}))}),0),this.asyncTransactionsTimeout=void 0,this.asyncTransactions=o,r&&(this.valueCache.onDataChanged(),this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_UPDATED})),n.length>0){var i={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:n};this.eventService.dispatchEvent(i)}}},e.prototype.flushAsyncTransactions=function(){null!=this.asyncTransactionsTimeout&&clearTimeout(this.asyncTransactionsTimeout),this.executeAsyncTransactions()},e.prototype.applyTransaction=function(t){var e;if(this.serverSideRowModel.executeOnStore(t.route,(function(n){e=n.applyTransaction(t)})),e){if(this.valueCache.onDataChanged(),e.remove){var n=e.remove.map((function(t){return t.id}));this.selectionService.deleteSelectionStateFromParent(t.route||[],n)}return this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_UPDATED}),e}return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreNotFound}},__decorate$m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),__decorate$m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueCache")],e.prototype,"valueCache",void 0),__decorate$m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"serverSideRowModel",void 0),__decorate$m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],e.prototype,"rowRenderer",void 0),__decorate$m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("selectionService")],e.prototype,"selectionService",void 0),__decorate$m([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e=__decorate$m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmTransactionManager")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$o=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$l=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ExpandListener=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$o(e,t),e.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("serverSide")&&this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_ROW_GROUP_OPENED,this.onRowGroupOpened.bind(this))},e.prototype.onRowGroupOpened=function(t){var e=t.node;if(e.expanded){if(e.master)this.createDetailNode(e);else if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(e.childStore)){var n=this.serverSideRowModel.getParams();e.childStore=this.createBean(this.storeFactory.createStore(n,e))}}else this.gridOptionsService.is("purgeClosedRowNodes")&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e.childStore)&&(e.childStore=this.destroyBean(e.childStore));var o={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(o)},e.prototype.createDetailNode=function(t){if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t.detailNode))return t.detailNode;var e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk(this.beans);e.detail=!0,e.selectable=!1,e.parent=t,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t.id)&&(e.id="detail_"+t.id),e.data=t.data,e.level=t.level+1;var n=this.gridOptionsService.getRowHeightForNode(e).height;return e.rowHeight=n||200,t.detailNode=e,e},__decorate$l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"serverSideRowModel",void 0),__decorate$l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmStoreFactory")],e.prototype,"storeFactory",void 0),__decorate$l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("beans")],e.prototype,"beans",void 0),__decorate$l([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e=__decorate$l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmExpandListener")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$n=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$k=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},SortListener=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$n(e,t),e.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("serverSide")&&this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SORT_CHANGED,this.onSortChanged.bind(this))},e.prototype.extractSortModel=function(){var t=this.sortController.getSortModel();return this.gridOptionsService.isTreeData()||(this.replaceAutoGroupColumnWithActualRowGroupColumns(t),this.removeMultiColumnPrefixOnColumnIds(t)),t},e.prototype.removeMultiColumnPrefixOnColumnIds=function(t){if(this.gridOptionsService.isGroupMultiAutoColumn())for(var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.eHy+"-",n=0;n<t.length;++n)t[n].colId.indexOf(e)>-1&&(t[n].colId=t[n].colId.substr(e.length))},e.prototype.replaceAutoGroupColumnWithActualRowGroupColumns=function(t){var e=t.find((function(t){return t.colId==ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.eHy}));if(e){var n=t.indexOf(e);ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(t,e);var o=this.columnModel.getRowGroupColumns().filter((function(e){return 0==t.filter((function(t){return t.colId===e.getColId()})).length})).map((function(t){return{colId:t.getId(),sort:e.sort}}));ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.insertArrayIntoArray(t,o,n)}},e.prototype.onSortChanged=function(){var t=this.serverSideRowModel.getParams();if(t){var e=this.extractSortModel(),n=t.sortModel,o=this.findChangedColumnsInSort(e,n),r={valueColChanged:this.listenerUtils.isSortingWithValueColumn(o),secondaryColChanged:this.listenerUtils.isSortingWithSecondaryColumn(o),changedColumns:o};this.serverSideRowModel.refreshAfterSort(e,r)}},e.prototype.findChangedColumnsInSort=function(t,e){var n=[];[t,e].forEach((function(t){if(t){var e=t.map((function(t){return t.colId}));n=n.concat(e)}}));return n.filter((function(n){var o=e.find((function(t){return t.colId===n})),r=t.find((function(t){return t.colId===n}));return function(t,e){return(t?t.sort:null)!==(e?e.sort:null)}(o,r)||function(n,o){return(n?e.indexOf(n):-1)!==(o?t.indexOf(o):-1)}(o,r)}))},__decorate$k([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("sortController")],e.prototype,"sortController",void 0),__decorate$k([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$k([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"serverSideRowModel",void 0),__decorate$k([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmListenerUtils")],e.prototype,"listenerUtils",void 0),__decorate$k([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e=__decorate$k([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmSortService")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$m=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$j=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},FilterListener=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$m(e,t),e.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("serverSide")&&this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this))},e.prototype.onFilterChanged=function(){var t=this.serverSideRowModel.getParams();if(t){var e=this.filterManager.getFilterModel(),n=t?t.filterModel:{},o=this.findChangedColumns(e,n),r={valueColChanged:this.listenerUtils.isSortingWithValueColumn(o),secondaryColChanged:this.listenerUtils.isSortingWithSecondaryColumn(o),changedColumns:o};this.serverSideRowModel.refreshAfterFilter(e,r)}},e.prototype.findChangedColumns=function(t,e){var n={};Object.keys(t).forEach((function(t){return n[t]=!0})),Object.keys(e).forEach((function(t){return n[t]=!0}));var o=[];return Object.keys(n).forEach((function(n){JSON.stringify(t[n])!=JSON.stringify(e[n])&&o.push(n)})),o},__decorate$j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"serverSideRowModel",void 0),__decorate$j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],e.prototype,"filterManager",void 0),__decorate$j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmListenerUtils")],e.prototype,"listenerUtils",void 0),__decorate$j([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e=__decorate$j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmFilterListener")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__decorate$i=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},StoreFactory=function(){function t(){}return t.prototype.createStore=function(t,e){var n=this.getStoreParams(t,e);return new(n.suppressInfiniteScroll?FullStore:LazyStore)(t,n,e)},t.prototype.getStoreParams=function(t,e){var n=this.getLevelSpecificParams(e),o=this.isInfiniteScroll(n);return{suppressInfiniteScroll:!o,cacheBlockSize:this.getBlockSize(o,n),maxBlocksInCache:this.getMaxBlocksInCache(o,t,n)}},t.prototype.getMaxBlocksInCache=function(t,e,n){if(t){var o=n&&null!=n.maxBlocksInCache?n.maxBlocksInCache:this.gridOptionsService.getNum("maxBlocksInCache");if(null!=o&&o>=0)if(e.dynamicRowHeight){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid: Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.")}),"storeFactory.maxBlocksInCache.dynamicRowHeight")}else{if(!this.columnModel.isAutoRowHeightActive())return o;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid: Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.")}),"storeFactory.maxBlocksInCache.autoRowHeightActive")}}},t.prototype.getBlockSize=function(t,e){if(t){var n=e&&null!=e.cacheBlockSize?e.cacheBlockSize:this.gridOptionsService.getNum("cacheBlockSize");return null!=n&&n>0?n:100}},t.prototype.getLevelSpecificParams=function(t){var e=this.gridOptionsService.getCallback("getServerSideGroupLevelParams");if(e){var n=e({level:t.level+1,parentRowNode:t.level>=0?t:void 0,rowGroupColumns:this.columnModel.getRowGroupColumns(),pivotColumns:this.columnModel.getPivotColumns(),pivotMode:this.columnModel.isPivotMode()});return null!=n.storeType&&(n.suppressInfiniteScroll="partial"!==n.storeType),n}},t.prototype.isInfiniteScroll=function(t){return!(t&&null!=t.suppressInfiniteScroll?t.suppressInfiniteScroll:this.isSuppressServerSideInfiniteScroll())},t.prototype.isSuppressServerSideInfiniteScroll=function(){return this.gridOptionsService.is("suppressServerSideInfiniteScroll")},__decorate$i([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridOptionsService")],t.prototype,"gridOptionsService",void 0),__decorate$i([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),t=__decorate$i([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmStoreFactory")],t)}(),__decorate$h=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ListenerUtils=function(){function t(){}return t.prototype.isSortingWithValueColumn=function(t){for(var e=this.columnModel.getValueColumns().map((function(t){return t.getColId()})),n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return!0;return!1},t.prototype.isSortingWithSecondaryColumn=function(t){if(!this.columnModel.getSecondaryColumns())return!1;for(var e=this.columnModel.getSecondaryColumns().map((function(t){return t.getColId()})),n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return!0;return!1},__decorate$h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),t=__decorate$h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmListenerUtils")],t)}(),__extends$l=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$g=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__read$3=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$2=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$3(arguments[e]));return t},DefaultStrategy=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.selectedState={selectAll:!1,toggledNodes:new Set},e.lastSelected=null,e.selectAllUsed=!1,e.selectedNodes={},e}return __extends$l(e,t),e.prototype.init=function(){var t=this;this.rowSelection=this.gridOptionsService.get("rowSelection"),this.addManagedPropertyListener("rowSelection",(function(e){t.rowSelection=e.currentValue}))},e.prototype.getSelectedState=function(){return{selectAll:this.selectedState.selectAll,toggledNodes:__spread$2(this.selectedState.toggledNodes)}},e.prototype.setSelectedState=function(t){var e={selectAll:!1,toggledNodes:new Set};"object"==typeof t?"selectAll"in t&&"boolean"==typeof t.selectAll?(e.selectAll=t.selectAll,"toggledNodes"in t&&Array.isArray(t.toggledNodes)?(t.toggledNodes.forEach((function(t){"string"==typeof t?e.toggledNodes.add(t):console.warn("AG Grid: Provided ids must be of string type. Invalid id provided: "+t)})),this.selectedState=e):console.error("AG Grid: `toggledNodes` must be an array of string ids.")):console.error("AG Grid: Select all status should be of boolean type."):console.error("AG Grid: The provided selection state should be an object.")},e.prototype.deleteSelectionStateFromParent=function(t,e){var n=this;if(0===this.selectedState.toggledNodes.size)return!1;var o=!1;return e.forEach((function(t){n.selectedState.toggledNodes.delete(t)&&(o=!0)})),o},e.prototype.setNodeSelected=function(t){var e,n=this,o=t.clearSelection&&t.newValue&&!t.rangeSelect;if("multiple"!==this.rowSelection||o)return t.newValue?(this.selectedNodes=((e={})[t.node.id]=t.node,e),this.selectedState={selectAll:!1,toggledNodes:new Set([t.node.id])}):(this.selectedNodes={},this.selectedState={selectAll:!1,toggledNodes:new Set}),this.lastSelected=t.node.id,1;var r=function(e){t.newValue?n.selectedNodes[e.id]=e:delete n.selectedNodes[e.id],t.newValue===n.selectedState.selectAll?n.selectedState.toggledNodes.delete(e.id):n.selectedState.toggledNodes.add(e.id)};if(t.rangeSelect&&this.lastSelected){var i=this.rowModel.getRowNode(this.lastSelected);return this.rowModel.getNodesInRangeForSelection(t.node,null!=i?i:null).forEach(r),this.lastSelected=t.node.id,1}return r(t.node),this.lastSelected=t.node.id,1},e.prototype.processNewRow=function(t){this.selectedNodes[t.id]&&(this.selectedNodes[t.id]=t)},e.prototype.isNodeSelected=function(t){var e=this.selectedState.toggledNodes.has(t.id);return this.selectedState.selectAll?!e:e},e.prototype.getSelectedNodes=function(){return this.selectAllUsed&&console.warn("AG Grid: getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model.\n                Use `api.getServerSideSelectionState()` instead."),Object.values(this.selectedNodes)},e.prototype.getSelectedRows=function(){return this.getSelectedNodes().map((function(t){return t.data}))},e.prototype.getSelectionCount=function(){return this.selectedState.selectAll?-1:this.selectedState.toggledNodes.size},e.prototype.clearOtherNodes=function(t,e){var n=this.selectedState.selectAll?1:this.selectedState.toggledNodes.size-1;this.selectedState={selectAll:!1,toggledNodes:new Set([t.id])},this.rowModel.forEachNode((function(n){n!==t&&n.selectThisNode(!1,void 0,e)}));var o={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,source:e};return this.eventService.dispatchEvent(o),n},e.prototype.isEmpty=function(){var t;return!this.selectedState.selectAll&&!(null===(t=this.selectedState.toggledNodes)||void 0===t?void 0:t.size)},e.prototype.selectAllRowNodes=function(t){this.selectedState={selectAll:!0,toggledNodes:new Set},this.selectedNodes={},this.selectAllUsed=!0},e.prototype.deselectAllRowNodes=function(t){this.selectedState={selectAll:!1,toggledNodes:new Set},this.selectedNodes={}},e.prototype.getSelectAllState=function(t,e){return this.selectedState.selectAll?!(this.selectedState.toggledNodes.size>0)||null:this.selectedState.toggledNodes.size>0&&null},__decorate$g([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"rowModel",void 0),__decorate$g([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$k=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$f=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__read$2=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$1=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$2(arguments[e]));return t},GroupSelectsChildrenStrategy=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.selectedState={selectAllChildren:!1,toggledNodes:new Map},e.lastSelected=null,e}return __extends$k(e,t),e.prototype.init=function(){var t=this;this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,(function(){return t.removeRedundantState()})),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,(function(){return t.selectionService.reset()}))},e.prototype.getSelectedState=function(){var t=this,e=function(n,o,r){var i={nodeId:r};if(o<=t.columnModel.getRowGroupColumns().length&&(i.selectAllChildren=n.selectAllChildren),n.toggledNodes.size){var s=[];n.toggledNodes.forEach((function(t,n){var r=e(t,o+1,n);s.push(r)})),i.toggledNodes=s}return i};return e(this.selectedState,0)},e.prototype.setSelectedState=function(t){var e=function(t,n){var o,r;if("object"!=typeof t)throw new Error("AG Grid: Each provided state object must be an object.");if("selectAllChildren"in t&&"boolean"!=typeof t.selectAllChildren)throw new Error("AG Grid: `selectAllChildren` must be a boolean value or undefined.");if("toggledNodes"in t){if(!Array.isArray(t.toggledNodes))throw new Error("AG Grid: `toggledNodes` must be an array.");if(!t.toggledNodes.every((function(t){return"object"==typeof t&&"nodeId"in t&&"string"==typeof t.nodeId})))throw new Error("AG Grid: Every `toggledNode` requires an associated string id.")}var i=null!==(o=t.selectAllChildren)&&void 0!==o?o:!n,s=null===(r=t.toggledNodes)||void 0===r?void 0:r.map((function(t){return[t.nodeId,e(t,i)]})),a=null==s?void 0:s.some((function(t){var e=__read$2(t,2);e[0];var n=e[1];return i===n.selectAllChildren&&0===n.toggledNodes.size}));if(a)throw new Error("\n                    AG Grid: AG Grid: Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule.\n                    Please rebuild the selection state and reapply it.\n                ");return{selectAllChildren:i,toggledNodes:new Map(s)}};try{this.selectedState=e(t,!!t.selectAllChildren)}catch(t){console.error(t.message)}},e.prototype.deleteSelectionStateFromParent=function(t,e){for(var n=this.selectedState,o=__spread$1(t);n&&o.length;)n=n.toggledNodes.get(o.pop());if(!n)return!1;var r=!1;return e.forEach((function(t){(null==n?void 0:n.toggledNodes.delete(t))&&(r=!0)})),r&&this.removeRedundantState(),r},e.prototype.setNodeSelected=function(t){var e=this;if(t.rangeSelect){var n=this.rowModel.getNodesInRangeForSelection(t.node,this.lastSelected).map(this.getRouteToNode).sort((function(t,e){return e.length-t.length})),o=new Set;return n.forEach((function(n){o.has(n[n.length-1])||(n.forEach((function(t){return o.add(t)})),e.recursivelySelectNode(n,e.selectedState,t))})),this.removeRedundantState(),this.lastSelected=t.node,1}var r=this.getRouteToNode(t.node);return this.recursivelySelectNode(r,this.selectedState,t),this.removeRedundantState(),this.lastSelected=t.node,1},e.prototype.isNodeSelected=function(t){var e=this.getRouteToNode(t);return this.isNodePathSelected(e,this.selectedState)},e.prototype.isNodePathSelected=function(t,e){var n=__read$2(t),o=n[0],r=n.slice(1);if(0===r.length){var i=e.toggledNodes.has(o.id);if(o.hasChildren()){var s=e.toggledNodes.get(o.id);if(s&&s.toggledNodes.size)return}return e.selectAllChildren?!i:i}if(e.toggledNodes.has(o.id)){var a=e.toggledNodes.get(o.id);if(a)return this.isNodePathSelected(r,a)}return!!e.selectAllChildren},e.prototype.getRouteToNode=function(t){for(var e=[],n=t;n.parent;)e.push(n),n=n.parent;return e.reverse()},e.prototype.removeRedundantState=function(){var t=this;if(!this.filterManager.isAnyFilterPresent()){var e=function(n,o,r){void 0===n&&(n=t.selectedState),void 0===o&&(o=t.serverSideRowModel.getRootStore());var i=!0,s=!0;return n.toggledNodes.forEach((function(o,r){var a=t.rowModel.getRowNode(r);a||(i=!1);var l=null==a?void 0:a.childStore;l?(e(o,l,a)&&n.selectAllChildren===o.selectAllChildren&&n.toggledNodes.delete(r),o.toggledNodes.size>0&&(s=!1)):o.toggledNodes.size>0&&(s=!1)})),!(!o||!o.isLastRowIndexKnown()||o.getRowCount()!==n.toggledNodes.size)&&(!(!s||!i)&&(n.toggledNodes.clear(),n.selectAllChildren=!n.selectAllChildren,r&&(null==r?void 0:r.isSelected())!==n.selectAllChildren&&r.selectThisNode(n.selectAllChildren,void 0,"api"),!0))};e()}},e.prototype.recursivelySelectNode=function(t,e,n){var o=__read$2(t),r=o[0],i=o.slice(1);if(r)if(!i.length){if(e.selectAllChildren===n.newValue)return void e.toggledNodes.delete(r.id);var s={selectAllChildren:n.newValue,toggledNodes:new Map};e.toggledNodes.set(r.id,s)}else{var a=e.toggledNodes.has(r.id),l=a?e.toggledNodes.get(r.id):{selectAllChildren:e.selectAllChildren,toggledNodes:new Map};a||e.toggledNodes.set(r.id,l),this.recursivelySelectNode(i,l,n),e.selectAllChildren===l.selectAllChildren&&0===l.toggledNodes.size&&e.toggledNodes.delete(r.id)}},e.prototype.getSelectedNodes=function(){console.warn("AG Grid: `getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model.\n            Use `api.getServerSideSelectionState()` instead.");var t=[];return this.rowModel.forEachNode((function(e){e.isSelected()&&t.push(e)})),t},e.prototype.processNewRow=function(t){},e.prototype.getSelectedRows=function(){return this.getSelectedNodes().map((function(t){return t.data}))},e.prototype.getSelectionCount=function(){return-1},e.prototype.isEmpty=function(){var t;return!this.selectedState.selectAllChildren&&!(null===(t=this.selectedState.toggledNodes)||void 0===t?void 0:t.size)},e.prototype.selectAllRowNodes=function(t){this.selectedState={selectAllChildren:!0,toggledNodes:new Map}},e.prototype.deselectAllRowNodes=function(t){this.selectedState={selectAllChildren:!1,toggledNodes:new Map}},e.prototype.getSelectAllState=function(t,e){return this.selectedState.selectAllChildren?!(this.selectedState.toggledNodes.size>0)||null:this.selectedState.toggledNodes.size>0&&null},__decorate$f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"rowModel",void 0),__decorate$f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],e.prototype,"filterManager",void 0),__decorate$f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"serverSideRowModel",void 0),__decorate$f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("selectionService")],e.prototype,"selectionService",void 0),__decorate$f([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$j=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$e=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ServerSideSelectionService=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$j(e,t),e.prototype.init=function(){var t=this,e=this.gridOptionsService.is("groupSelectsChildren");this.addManagedPropertyListener("groupSelectsChildren",(function(e){t.destroyBean(t.selectionStrategy);var n=e.currentValue?GroupSelectsChildrenStrategy:DefaultStrategy;t.selectionStrategy=t.createManagedBean(new n),t.shotgunResetNodeSelectionState();var o={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,source:"api"};t.eventService.dispatchEvent(o)}));var n=e?GroupSelectsChildrenStrategy:DefaultStrategy;this.selectionStrategy=this.createManagedBean(new n)},e.prototype.getServerSideSelectionState=function(){return this.selectionStrategy.getSelectedState()},e.prototype.setServerSideSelectionState=function(t){this.selectionStrategy.setSelectedState(t),this.shotgunResetNodeSelectionState();var e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,source:"api"};this.eventService.dispatchEvent(e)},e.prototype.setNodeSelected=function(t){var e=this.selectionStrategy.setNodeSelected(t);this.shotgunResetNodeSelectionState(t.source);var n={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,source:t.source};return this.eventService.dispatchEvent(n),e},e.prototype.deleteSelectionStateFromParent=function(t,e){if(this.selectionStrategy.deleteSelectionStateFromParent(t,e)){this.shotgunResetNodeSelectionState();var n={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,source:"api"};this.eventService.dispatchEvent(n)}},e.prototype.shotgunResetNodeSelectionState=function(t){var e=this;this.rowModel.forEachNode((function(n){if(!n.stub){var o=e.selectionStrategy.isNodeSelected(n);o!==n.isSelected()&&n.selectThisNode(o,void 0,t)}}))},e.prototype.getSelectedNodes=function(){return this.selectionStrategy.getSelectedNodes()},e.prototype.getSelectedRows=function(){return this.selectionStrategy.getSelectedRows()},e.prototype.getSelectionCount=function(){return this.selectionStrategy.getSelectionCount()},e.prototype.syncInRowNode=function(t,e){this.selectionStrategy.processNewRow(t);var n=this.selectionStrategy.isNodeSelected(t);t.setSelectedInitialValue(n)},e.prototype.reset=function(){this.selectionStrategy.deselectAllRowNodes({source:"api"})},e.prototype.isEmpty=function(){return this.selectionStrategy.isEmpty()},e.prototype.selectAllRowNodes=function(t){(t.justCurrentPage||t.justFiltered)&&console.warn("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'"),this.selectionStrategy.selectAllRowNodes(t),this.rowModel.forEachNode((function(e){e.stub||e.selectThisNode(!0,void 0,t.source)}));var e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,source:t.source};this.eventService.dispatchEvent(e)},e.prototype.deselectAllRowNodes=function(t){(t.justCurrentPage||t.justFiltered)&&console.warn("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'"),this.selectionStrategy.deselectAllRowNodes(t),this.rowModel.forEachNode((function(e){e.stub||e.selectThisNode(!1,void 0,t.source)}));var e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,source:t.source};this.eventService.dispatchEvent(e)},e.prototype.getSelectAllState=function(t,e){return this.selectionStrategy.getSelectAllState(t,e)},e.prototype.updateGroupsFromChildrenSelections=function(t,e){return!1},e.prototype.getBestCostNodeSelection=function(){console.warn("AG Grid: calling gridApi.getBestCostNodeSelection() is only possible when using rowModelType=`clientSide`.")},e.prototype.filterFromSelection=function(){},__decorate$e([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"rowModel",void 0),__decorate$e([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e=__decorate$e([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("selectionService")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),VERSION$4="29.3.4",ServerSideRowModelModule={version:VERSION$4,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ServerSideRowModelModule,rowModel:"serverSide",beans:[ServerSideRowModel,ExpandListener,SortListener,StoreUtils,BlockUtils,NodeManager,TransactionManager,FilterListener,StoreFactory,ListenerUtils,ServerSideSelectionService],dependantModules:[EnterpriseCoreModule]},ClientSideValuesExtractor=function(){function t(t,e,n,o,r,i,s,a,l){this.rowModel=t,this.filterParams=e,this.createKey=n,this.caseFormat=o,this.columnModel=r,this.valueService=i,this.treeDataOrGrouping=s,this.treeData=a,this.getDataPath=l}return t.prototype.extractUniqueValues=function(t,e){var n=this,o=new Map,r=this.extractExistingFormattedKeys(e),i=new Set,s=this.treeData&&!!this.getDataPath,a=this.columnModel.getRowGroupColumns(),l=function(t,s){var a=n.caseFormat(t);if(!i.has(a)){i.add(a);var l=t,c=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(s),u=null==r?void 0:r.get(a);null!=u&&(l=u,c=e.get(u)),o.set(l,c)}};return this.rowModel.forEachLeafNode((function(e){if(e.data&&t(e))if(n.treeDataOrGrouping)n.addValueForTreeDataOrGrouping(e,s,a,l);else{var o=n.getValue(e);n.filterParams.convertValuesToStrings?n.addValueForConvertValuesToString(e,o,l):null!=o&&Array.isArray(o)?(o.forEach((function(t){l(n.createKey(t,e),t)})),0===o.length&&l(null,null)):l(n.createKey(o,e),o)}})),o},t.prototype.addValueForConvertValuesToString=function(t,e,n){var o=this.createKey(e,t);null!=o&&Array.isArray(o)?(o.forEach((function(t){var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(t));n(e,e)})),0===o.length&&n(null,null)):n(o,o)},t.prototype.addValueForTreeDataOrGrouping=function(t,e,n,o){var r,i,s=this;if(e){if(null===(r=t.childrenAfterGroup)||void 0===r?void 0:r.length)return;i=this.getDataPath(t.data)}else(i=n.map((function(e){return s.valueService.getKeyForNode(e,t)}))).push(this.getValue(t));i&&(i=i.map((function(t){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(t))}))),(null==i?void 0:i.some((function(t){return null==t})))&&(i=null),o(this.createKey(i),i)},t.prototype.getValue=function(t){var e=this.filterParams,n=e.api,o=e.colDef,r=e.column,i=e.columnApi,s=e.context;return this.filterParams.valueGetter({api:n,colDef:o,column:r,columnApi:i,context:s,data:t.data,getValue:function(e){return t.data[e]},node:t})},t.prototype.extractExistingFormattedKeys=function(t){var e=this;if(!t)return null;var n=new Map;return t.forEach((function(t,o){n.set(e.caseFormat(o),o)})),n},t}(),SetFilterDisplayValue=function(){function t(){}return t.SELECT_ALL="__AG_SELECT_ALL__",t}(),__values$2=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},FlatSetDisplayValueModel=function(){function t(t,e,n,o){this.valueFormatterService=t,this.valueFormatter=e,this.formatter=n,this.column=o,this.displayedKeys=[]}return t.prototype.updateDisplayedValuesToAllAvailable=function(t,e,n){this.displayedKeys=Array.from(n)},t.prototype.updateDisplayedValuesToMatchMiniFilter=function(t,e,n,o,r){var i,s;this.displayedKeys=[];try{for(var a=__values$2(n),l=a.next();!l.done;l=a.next()){var c=l.value;if(null==c)r&&this.displayedKeys.push(c);else{var u=t(c),d=this.valueFormatterService.formatValue(this.column,null,u,this.valueFormatter,!1);o(this.formatter(d))&&this.displayedKeys.push(c)}}}catch(t){i={error:t}}finally{try{l&&!l.done&&(s=a.return)&&s.call(a)}finally{if(i)throw i.error}}},t.prototype.getDisplayedValueCount=function(){return this.displayedKeys.length},t.prototype.getDisplayedItem=function(t){return this.displayedKeys[t]},t.prototype.getSelectAllItem=function(){return SetFilterDisplayValue.SELECT_ALL},t.prototype.getDisplayedKeys=function(){return this.displayedKeys},t.prototype.forEachDisplayedKey=function(t){this.displayedKeys.forEach(t)},t.prototype.someDisplayedKey=function(t){return this.displayedKeys.some(t)},t.prototype.hasGroups=function(){return!1},t.prototype.refresh=function(){},t}(),__read$1=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$1(arguments[e]));return t},__values$1=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},TreeSetDisplayValueModel=function(){function t(t,e,n,o){this.formatter=t,this.treeListPathGetter=e,this.treeListFormatter=n,this.treeDataOrGrouping=o,this.allDisplayedItemsTree=[],this.activeDisplayedItemsFlat=[],this.selectAllItem={depth:0,filterPasses:!0,available:!0,treeKey:SetFilterDisplayValue.SELECT_ALL,children:this.allDisplayedItemsTree,expanded:!0,key:SetFilterDisplayValue.SELECT_ALL,parentTreeKeys:[]}}return t.prototype.updateDisplayedValuesToAllAvailable=function(t,e,n,o){"reload"===o?this.generateItemTree(t,e,n):"otherFilter"===o?(this.updateAvailable(n),this.updateExpandAll()):"miniFilter"===o&&(this.resetFilter(),this.updateExpandAll()),this.flattenItems()},t.prototype.updateDisplayedValuesToMatchMiniFilter=function(t,e,n,o,r,i){"reload"===i?this.generateItemTree(t,e,n):"otherFilter"===i&&this.updateAvailable(n),this.updateFilter(o,r),this.updateExpandAll(),this.flattenItems()},t.prototype.generateItemTree=function(t,e,n){var o,r,i;this.allDisplayedItemsTree=[],this.groupsExist=!1;var s=this.getTreeListPathGetter(t,n),a=function(e){var o=t(e),r=null!==(i=s(o))&&void 0!==i?i:[null];r.length>1&&(l.groupsExist=!0);var a,c=n.has(e),u=l.allDisplayedItemsTree,d=[];r.forEach((function(t,n){u||(u=[],a.children=u),a=u.find((function(e){var n;return(null===(n=e.treeKey)||void 0===n?void 0:n.toUpperCase())===(null==t?void 0:t.toUpperCase())})),a||(a={treeKey:t,depth:n,filterPasses:!0,expanded:!1,available:c,parentTreeKeys:d},n===r.length-1&&(a.key=e),u.push(a)),u=a.children,d=__spread(d,[t])}))},l=this;try{for(var c=__values$1(e),u=c.next();!u.done;u=c.next()){a(u.value)}}catch(t){o={error:t}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(o)throw o.error}}this.updateAvailable(n),this.selectAllItem.children=this.allDisplayedItemsTree,this.selectAllItem.expanded=!1},t.prototype.getTreeListPathGetter=function(e,n){var o,r;if(this.treeListPathGetter)return this.treeListPathGetter;if(this.treeDataOrGrouping)return function(t){return t};var i=!1;try{for(var s=__values$1(n),a=s.next();!a.done;a=s.next()){var l=e(a.value);if(l instanceof Date){i=!0;break}if(null!=l)break}}catch(t){o={error:t}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i?t.DATE_TREE_LIST_PATH_GETTER:(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid: property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.")}),"getTreeListPathGetter"),function(t){return[String(t)]})},t.prototype.flattenItems=function(){var t=this;this.activeDisplayedItemsFlat=[];var e=function(n){n.forEach((function(n){n.filterPasses&&n.available&&(t.activeDisplayedItemsFlat.push(n),n.children&&n.expanded&&e(n.children))}))};e(this.allDisplayedItemsTree)},t.prototype.resetFilter=function(){var t=function(e){e.children&&e.children.forEach((function(e){t(e)})),e.filterPasses=!0};this.allDisplayedItemsTree.forEach((function(e){return t(e)}))},t.prototype.updateFilter=function(t,e){var n=this,o=function(o){return!!o.available&&(null==o.treeKey?e:t(n.formatter(n.treeListFormatter?n.treeListFormatter(o.treeKey,o.depth,o.parentTreeKeys):o.treeKey)))};this.allDisplayedItemsTree.forEach((function(t){return n.recursiveItemCheck(t,!1,o,"filterPasses")}))},t.prototype.getDisplayedValueCount=function(){return this.activeDisplayedItemsFlat.length},t.prototype.getDisplayedItem=function(t){return this.activeDisplayedItemsFlat[t]},t.prototype.getSelectAllItem=function(){return this.selectAllItem},t.prototype.getDisplayedKeys=function(){var t=[];return this.forEachDisplayedKey((function(e){return t.push(e)})),t},t.prototype.forEachDisplayedKey=function(t){var e=function(n,o){n.children?n.expanded&&o||n.children.forEach((function(t){t.filterPasses&&e(t,!1)})):t(n.key)};this.activeDisplayedItemsFlat.forEach((function(t){return e(t,!0)}))},t.prototype.someDisplayedKey=function(t){var e=function(n,o){return n.children?(!n.expanded||!o)&&n.children.some((function(t){return!!t.filterPasses&&e(t,!1)})):t(n.key)};return this.activeDisplayedItemsFlat.some((function(t){return e(t,!0)}))},t.prototype.hasGroups=function(){return this.groupsExist},t.prototype.refresh=function(){this.updateExpandAll(),this.flattenItems()},t.prototype.updateExpandAll=function(){var t=function(e,n,o){var r,i;try{for(var s=__values$1(e),a=s.next();!a.done;a=s.next()){var l=a.value;if(l.filterPasses&&l.available&&l.children){if(n=n||!!l.expanded,o=o||!l.expanded,n&&o)return;var c=t(l.children,n,o);if(void 0===c)return;c?n=!0:o=!0}}}catch(t){r={error:t}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return n&&o?void 0:n},e=this.getSelectAllItem();e.expanded=t(e.children,!1,!1)},t.prototype.recursiveItemCheck=function(t,e,n,o){var r=this,i=!1;t.children&&t.children.forEach((function(s){var a=r.recursiveItemCheck(s,e||n(t),n,o);i=i||a}));var s=e||i||n(t);return t[o]=s,s},t.prototype.updateAvailable=function(t){var e=this,n=function(e){return t.has(e.key)};this.allDisplayedItemsTree.forEach((function(t){return e.recursiveItemCheck(t,!1,n,"available")}))},t.DATE_TREE_LIST_PATH_GETTER=function(t){return t?[String(t.getFullYear()),String(t.getMonth()+1),String(t.getDate())]:null},t}(),__read=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},SetFilterModelValuesType;!function(t){t[t.PROVIDED_LIST=0]="PROVIDED_LIST",t[t.PROVIDED_CALLBACK=1]="PROVIDED_CALLBACK",t[t.TAKEN_FROM_GRID_VALUES=2]="TAKEN_FROM_GRID_VALUES"}(SetFilterModelValuesType||(SetFilterModelValuesType={}));var SetValueModel=function(){function t(t){var e,n=this;this.localEventService=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.POd,this.miniFilterText=null,this.providedValues=null,this.allValues=new Map,this.availableKeys=new Set,this.selectedKeys=new Set,this.initialised=!1;var o=t.usingComplexObjects,r=t.columnModel,i=t.valueService,s=t.treeDataTreeList,a=t.groupingTreeList,l=t.filterParams,c=t.gridOptionsService,u=t.valueFormatterService,d=t.valueFormatter,p=l.column,h=l.colDef,f=l.textFormatter,g=l.doesRowPassOtherFilter,_=l.suppressSorting,m=l.comparator,y=l.rowModel,v=l.values,C=l.caseSensitive,E=l.convertValuesToStrings,b=l.treeList,S=l.treeListPathGetter,w=l.treeListFormatter;this.filterParams=l,this.setIsLoading=t.setIsLoading,this.translate=t.translate,this.caseFormat=t.caseFormat,this.createKey=t.createKey,this.usingComplexObjects=!!t.usingComplexObjects,this.formatter=f||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.QVL.DEFAULT_FORMATTER,this.doesRowPassOtherFilters=g,this.suppressSorting=_||!1,this.convertValuesToStrings=!!E;var O=null!=m?m:h.comparator,P=!!s||!!a;this.compareByValue=!!(o&&O||P||b&&!S),this.entryComparator=P&&!O?this.createTreeDataOrGroupingComparator():!b||S||O?function(t,e){var n=__read(t,2);n[0];var o=n[1],r=__read(e,2);r[0];var i=r[1];return O(o,i)}:function(t,e){var n=__read(t,2);n[0];var o=n[1],r=__read(e,2);r[0];var i=r[1];return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.defaultComparator(o,i)},this.keyComparator=null!==(e=O)&&void 0!==e?e:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.defaultComparator,this.caseSensitive=!!C;var T=c.get("getDataPath");"clientSide"===y.getType()&&(this.clientSideValuesExtractor=new ClientSideValuesExtractor(y,this.filterParams,this.createKey,this.caseFormat,r,i,P,!!s,T)),null==v?this.valuesType=SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES:(this.valuesType=Array.isArray(v)?SetFilterModelValuesType.PROVIDED_LIST:SetFilterModelValuesType.PROVIDED_CALLBACK,this.providedValues=v),this.displayValueModel=b?new TreeSetDisplayValueModel(this.formatter,S,w,s||a):new FlatSetDisplayValueModel(u,d,this.formatter,p),this.updateAllValues().then((function(t){return n.resetSelectionState(t||[])}))}return t.prototype.addEventListener=function(t,e,n){this.localEventService.addEventListener(t,e,n)},t.prototype.removeEventListener=function(t,e,n){this.localEventService.removeEventListener(t,e,n)},t.prototype.refreshValues=function(){var t=this.getModel();return this.updateAllValues(),this.setModel(t)},t.prototype.overrideValues=function(t){var e=this;return new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S((function(n){e.allValuesPromise.then((function(){e.valuesType=SetFilterModelValuesType.PROVIDED_LIST,e.providedValues=t,e.refreshValues().then((function(){return n()}))}))}))},t.prototype.refreshAfterAnyFilterChanged=function(){var t=this;return this.showAvailableOnly()?this.allValuesPromise.then((function(e){return t.updateAvailableKeys(null!=e?e:[],"otherFilter"),!0})):ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve(!1)},t.prototype.isInitialised=function(){return this.initialised},t.prototype.updateAllValues=function(){var t=this;return this.allValuesPromise=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S((function(e){switch(t.valuesType){case SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES:case SetFilterModelValuesType.PROVIDED_LIST:e(t.processAllKeys(t.valuesType===SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES,t.providedValues));break;case SetFilterModelValuesType.PROVIDED_CALLBACK:t.setIsLoading(!0);var n=t.providedValues,o=t.filterParams,r=o.columnApi,i=o.api,s=o.context,a=o.column,l={success:function(n){t.setIsLoading(!1),e(t.processAllKeys(!1,n))},colDef:o.colDef,column:a,columnApi:r,api:i,context:s};window.setTimeout((function(){return n(l)}),0);break;default:throw new Error("Unrecognised valuesType")}})),this.allValuesPromise.then((function(e){return t.updateAvailableKeys(e||[],"reload")})).then((function(){return t.initialised=!0})),this.allValuesPromise},t.prototype.processAllKeys=function(t,e){var n=t?this.getValuesFromRows(!1):this.uniqueValues(this.validateProvidedValues(e)),o=this.sortKeys(n);return this.allValues=null!=n?n:new Map,o},t.prototype.validateProvidedValues=function(t){if(this.usingComplexObjects&&(null==t?void 0:t.length)){var e=t[0];if(e&&"object"!=typeof e&&"function"!=typeof e)null==this.createKey(e)?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects or set convertValuesToStrings=true in the filterParams. See https://www.ag-grid.com/javascript-data-grid/filter-set-filter-list/#filter-value-types")}),"setFilterComplexObjectsProvidedNull"):ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid: Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects or enable convertValuesToStrings?")}),"setFilterComplexObjectsProvidedPrimitive")}return t},t.prototype.setValuesType=function(t){this.valuesType=t},t.prototype.getValuesType=function(){return this.valuesType},t.prototype.isKeyAvailable=function(t){return this.availableKeys.has(t)},t.prototype.showAvailableOnly=function(){return this.valuesType===SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES},t.prototype.updateAvailableKeys=function(e,n){var o=this.showAvailableOnly()?this.sortKeys(this.getValuesFromRows(!0)):e;this.availableKeys=new Set(o),this.localEventService.dispatchEvent({type:t.EVENT_AVAILABLE_VALUES_CHANGED}),this.updateDisplayedValues(n,e)},t.prototype.sortKeys=function(t){var e,n=null!=t?t:new Map;return this.suppressSorting?Array.from(n.keys()):(e=this.compareByValue?Array.from(n.entries()).sort(this.entryComparator).map((function(t){return __read(t,1)[0]})):Array.from(n.keys()).sort(this.keyComparator),this.filterParams.excelMode&&n.has(null)&&(e=e.filter((function(t){return null!=t}))).push(null),e)},t.prototype.getValuesFromRows=function(t){var e=this;if(void 0===t&&(t=!1),!this.clientSideValuesExtractor)return console.error("AG Grid: Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values"),null;return this.clientSideValuesExtractor.extractUniqueValues((function(n){return!t||e.doesRowPassOtherFilters(n)}),t&&!this.caseSensitive?this.allValues:void 0)},t.prototype.setMiniFilter=function(t){return t=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(t),this.miniFilterText!==t&&(this.miniFilterText=t,this.updateDisplayedValues("miniFilter"),!0)},t.prototype.getMiniFilter=function(){return this.miniFilterText},t.prototype.updateDisplayedValues=function(t,e){var n=this;if("expansion"!==t)if(null!=this.miniFilterText){var o=this.caseFormat(this.formatter(this.miniFilterText)||""),r=function(t){return null!=t&&n.caseFormat(t).indexOf(o)>=0},i=!!this.filterParams.excelMode&&r(this.translate("blanks"));this.displayValueModel.updateDisplayedValuesToMatchMiniFilter((function(t){return n.getValue(t)}),e,this.availableKeys,r,i,t)}else this.displayValueModel.updateDisplayedValuesToAllAvailable((function(t){return n.getValue(t)}),e,this.availableKeys,t);else this.displayValueModel.refresh()},t.prototype.getDisplayedValueCount=function(){return this.displayValueModel.getDisplayedValueCount()},t.prototype.getDisplayedItem=function(t){return this.displayValueModel.getDisplayedItem(t)},t.prototype.getSelectAllItem=function(){return this.displayValueModel.getSelectAllItem()},t.prototype.hasSelections=function(){return this.filterParams.defaultToNothingSelected?this.selectedKeys.size>0:this.allValues.size!==this.selectedKeys.size},t.prototype.getKeys=function(){return Array.from(this.allValues.keys())},t.prototype.getValues=function(){return Array.from(this.allValues.values())},t.prototype.getValue=function(t){return this.allValues.get(t)},t.prototype.selectAllMatchingMiniFilter=function(t){var e=this;void 0===t&&(t=!1),null==this.miniFilterText?this.selectedKeys=new Set(this.allValues.keys()):(t&&this.selectedKeys.clear(),this.displayValueModel.forEachDisplayedKey((function(t){return e.selectedKeys.add(t)})))},t.prototype.deselectAllMatchingMiniFilter=function(){var t=this;null==this.miniFilterText?this.selectedKeys.clear():this.displayValueModel.forEachDisplayedKey((function(e){return t.selectedKeys.delete(e)}))},t.prototype.selectKey=function(t){this.selectedKeys.add(t)},t.prototype.deselectKey=function(t){this.filterParams.excelMode&&this.isEverythingVisibleSelected()&&this.resetSelectionState(this.displayValueModel.getDisplayedKeys()),this.selectedKeys.delete(t)},t.prototype.isKeySelected=function(t){return this.selectedKeys.has(t)},t.prototype.isEverythingVisibleSelected=function(){var t=this;return!this.displayValueModel.someDisplayedKey((function(e){return!t.isKeySelected(e)}))},t.prototype.isNothingVisibleSelected=function(){var t=this;return!this.displayValueModel.someDisplayedKey((function(e){return t.isKeySelected(e)}))},t.prototype.getModel=function(){return this.hasSelections()?Array.from(this.selectedKeys):null},t.prototype.setModel=function(t){var e=this;return this.allValuesPromise.then((function(n){if(null==t)e.resetSelectionState(null!=n?n:[]);else{e.selectedKeys.clear();var o=new Map;e.allValues.forEach((function(t,n){o.set(e.caseFormat(n),n)})),t.forEach((function(t){var n=e.caseFormat(t),r=o.get(n);void 0!==r&&e.selectKey(r)}))}}))},t.prototype.uniqueValues=function(t){var e=this,n=new Map,o=new Set;return(null!=t?t:[]).forEach((function(t){var r=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(t),i=e.convertAndGetKey(r),s=e.caseFormat(i);o.has(s)||(o.add(s),n.set(i,r))})),n},t.prototype.convertAndGetKey=function(t){return this.convertValuesToStrings?t:this.createKey(t)},t.prototype.resetSelectionState=function(t){this.filterParams.defaultToNothingSelected?this.selectedKeys.clear():this.selectedKeys=new Set(t)},t.prototype.hasGroups=function(){return this.displayValueModel.hasGroups()},t.prototype.createTreeDataOrGroupingComparator=function(){return function(t,e){var n=__read(t,2);n[0];var o=n[1],r=__read(e,2);r[0];var i=r[1];if(null==o)return null==i?0:-1;if(null==i)return 1;for(var s=0;s<o.length;s++){if(s>=i.length)return 1;var a=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.defaultComparator(o[s],i[s]);if(0!==a)return a}return 0}},t.EVENT_AVAILABLE_VALUES_CHANGED="availableValuesChanged",t}(),__extends$i=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$d=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},SetFilterListItem=function(t){function e(n){var o,r=t.call(this,n.isGroup?e.GROUP_TEMPLATE:e.TEMPLATE)||this;return r.focusWrapper=n.focusWrapper,r.value=n.value,r.params=n.params,r.translate=n.translate,r.valueFormatter=n.valueFormatter,r.item=n.item,r.isSelected=n.isSelected,r.isTree=n.isTree,r.depth=null!==(o=n.depth)&&void 0!==o?o:0,r.isGroup=n.isGroup,r.groupsExist=n.groupsExist,r.isExpanded=n.isExpanded,r.hasIndeterminateExpandState=n.hasIndeterminateExpandState,r}return __extends$i(e,t),e.prototype.init=function(){var t=this;this.render(),this.eCheckbox.setLabelEllipsis(!0),this.eCheckbox.setValue(this.isSelected,!0),this.eCheckbox.setDisabled(!!this.params.readOnly),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.refreshVariableAriaLabels(),this.isTree&&(this.depth>0&&this.addCssClass("ag-set-filter-indent-"+this.depth),this.isGroup?this.setupExpansion():this.groupsExist&&this.addCssClass("ag-set-filter-add-group-indent"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLevel(this.focusWrapper,this.depth+1)),this.params.readOnly||this.eCheckbox.onValueChange((function(e){return t.onCheckboxChanged(!!e)}))},e.prototype.setupExpansion=function(){this.eGroupClosedIcon.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIcon("setFilterGroupClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIcon("setFilterGroupOpen",this.gridOptionsService,null)),this.addManagedListener(this.eGroupClosedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.addManagedListener(this.eGroupOpenedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.hasIndeterminateExpandState&&(this.eGroupIndeterminateIcon.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIcon("setFilterGroupIndeterminate",this.gridOptionsService,null)),this.addManagedListener(this.eGroupIndeterminateIcon,"click",this.onExpandOrContractClicked.bind(this))),this.setExpandedIcons(),this.refreshAriaExpanded()},e.prototype.onExpandOrContractClicked=function(){this.setExpanded(!this.isExpanded)},e.prototype.setExpanded=function(t,n){if(this.isGroup&&t!==this.isExpanded){this.isExpanded=t;var o={type:e.EVENT_EXPANDED_CHANGED,isExpanded:!!t,item:this.item};n||this.dispatchEvent(o),this.setExpandedIcons(),this.refreshAriaExpanded()}},e.prototype.refreshAriaExpanded=function(){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaExpanded(this.focusWrapper,!!this.isExpanded)},e.prototype.setExpandedIcons=function(){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupClosedIcon,this.hasIndeterminateExpandState?!1===this.isExpanded:!this.isExpanded),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupOpenedIcon,!0===this.isExpanded),this.hasIndeterminateExpandState&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupIndeterminateIcon,void 0===this.isExpanded)},e.prototype.onCheckboxChanged=function(t){this.isSelected=t;var n={type:e.EVENT_SELECTION_CHANGED,isSelected:t,item:this.item};this.dispatchEvent(n),this.refreshVariableAriaLabels()},e.prototype.toggleSelected=function(){this.params.readOnly||this.setSelected(!this.isSelected)},e.prototype.setSelected=function(t,e){this.isSelected=t,this.eCheckbox.setValue(this.isSelected,e)},e.prototype.refreshVariableAriaLabels=function(){if(this.isTree){var t=this.localeService.getLocaleTextFunc(),e=this.eCheckbox.getValue(),n=void 0===e?t("ariaIndeterminate","indeterminate"):e?t("ariaVisible","visible"):t("ariaHidden","hidden"),o=t("ariaToggleVisibility","Press SPACE to toggle visibility");ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLabelledBy(this.eCheckbox.getInputElement(),void 0),this.eCheckbox.setInputAriaLabel(o+" ("+n+")")}},e.prototype.setupFixedAriaLabels=function(t){if(this.isTree){var e=this.localeService.getLocaleTextFunc()("ariaFilterValue","Filter Value");ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLabel(this.focusWrapper,t+" "+e),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaDescribedBy(this.focusWrapper,this.eCheckbox.getInputElement().id)}},e.prototype.refresh=function(t,e,n){var o,r;if(this.item=t,e!==this.isSelected&&this.setSelected(e,!0),this.setExpanded(n,!0),this.valueFunction){var i=this.valueFunction();this.setTooltipAndCellRendererParams(i,i),this.cellRendererComponent||this.renderCellWithoutCellRenderer()}null===(r=null===(o=this.cellRendererComponent)||void 0===o?void 0:o.refresh)||void 0===r||r.call(o,this.cellRendererParams)},e.prototype.render=function(){var t=this.params.column,e=this.value,n=null;"function"==typeof e?(this.valueFunction=e,e=n=this.valueFunction()):n=this.isTree?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(e):this.getFormattedValue(t,e),this.setTooltipAndCellRendererParams(e,n),this.renderCell()},e.prototype.setTooltipAndCellRendererParams=function(t,e){if(this.params.showTooltips){var n=null!=e?e:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(t);this.setTooltip(n)}this.cellRendererParams={value:t,valueFormatted:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,colDef:this.params.colDef,column:this.params.column}},e.prototype.getTooltipParams=function(){var e=t.prototype.getTooltipParams.call(this);return e.location="setFilterValue",e.colDef=this.getComponentHolder(),this.isTree&&(e.level=this.depth),e},e.prototype.getFormattedValue=function(t,e){return this.valueFormatterService.formatValue(t,null,e,this.valueFormatter,!1)},e.prototype.renderCell=function(){var t=this,e=this.userComponentFactory.getSetFilterCellRendererDetails(this.params,this.cellRendererParams),n=e?e.newAgStackInstance():void 0;null!=n?n.then((function(e){e&&(t.cellRendererComponent=e,t.eCheckbox.setLabel(e.getGui()),t.addDestroyFunc((function(){return t.destroyBean(e)})))})):this.renderCellWithoutCellRenderer()},e.prototype.renderCellWithoutCellRenderer=function(){var t,e=null!==(t=null==this.cellRendererParams.valueFormatted?this.cellRendererParams.value:this.cellRendererParams.valueFormatted)&&void 0!==t?t:this.translate("blanks");"string"!=typeof e&&(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid: Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects, or set convertValuesToStrings=true in the filterParams. See https://www.ag-grid.com/javascript-data-grid/filter-set-filter-list/#filter-value-types")}),"setFilterComplexObjectsValueFormatter"),e=""),this.eCheckbox.setLabel(e),this.setupFixedAriaLabels(e)},e.prototype.getComponentHolder=function(){return this.params.column.getColDef()},e.EVENT_SELECTION_CHANGED="selectionChanged",e.EVENT_EXPANDED_CHANGED="expandedChanged",e.GROUP_TEMPLATE='\n        <div class="ag-set-filter-item" aria-hidden="true">\n            <span class="ag-set-filter-group-icons">\n                <span class="ag-set-filter-group-closed-icon" ref="eGroupClosedIcon"></span>\n                <span class="ag-set-filter-group-opened-icon" ref="eGroupOpenedIcon"></span>\n                <span class="ag-set-filter-group-indeterminate-icon" ref="eGroupIndeterminateIcon"></span>\n            </span>\n            <ag-checkbox ref="eCheckbox" class="ag-set-filter-item-checkbox"></ag-checkbox>\n        </div>',e.TEMPLATE='\n        <div class="ag-set-filter-item">\n            <ag-checkbox ref="eCheckbox" class="ag-set-filter-item-checkbox"></ag-checkbox>\n        </div>',__decorate$d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueFormatterService")],e.prototype,"valueFormatterService",void 0),__decorate$d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],e.prototype,"userComponentFactory",void 0),__decorate$d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eCheckbox")],e.prototype,"eCheckbox",void 0),__decorate$d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eGroupOpenedIcon")],e.prototype,"eGroupOpenedIcon",void 0),__decorate$d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eGroupClosedIcon")],e.prototype,"eGroupClosedIcon",void 0),__decorate$d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eGroupIndeterminateIcon")],e.prototype,"eGroupIndeterminateIcon",void 0),__decorate$d([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),DEFAULT_LOCALE_TEXT={loadingOoo:"Loading...",blanks:"(Blanks)",searchOoo:"Search...",selectAll:"(Select All)",selectAllSearchResults:"(Select All Search Results)",noMatches:"No matches."},SetFilterModelFormatter=function(){function t(){}return t.prototype.getModelAsString=function(t,e){var n=(t||e.getModel()||{}).values,o=e.getValueModel();if(null==n||null==o)return"";var r=n.filter((function(t){return o.isKeyAvailable(t)})),i=r.length;return"("+i+") "+r.slice(0,10).map((function(t){return e.getFormattedValue(t)})).join(",")+(i>10?",...":"")},t}(),__extends$h=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$c=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},SetFilter=function(t){function e(){var e=t.call(this,"setFilter")||this;return e.valueModel=null,e.setFilterParams=null,e.virtualList=null,e.caseSensitive=!1,e.convertValuesToStrings=!1,e.treeDataTreeList=!1,e.groupingTreeList=!1,e.hardRefreshVirtualList=!1,e.noValueFormatterSupplied=!1,e.appliedModelKeys=null,e.noAppliedModelKeys=!1,e.filterModelFormatter=new SetFilterModelFormatter,e}return __extends$h(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this)},e.prototype.updateUiVisibility=function(){},e.prototype.createBodyTemplate=function(){return'\n            <div class="ag-set-filter">\n                <div ref="eFilterLoading" class="ag-filter-loading ag-hidden">'+this.translateForSetFilter("loadingOoo")+'</div>\n                <ag-input-text-field class="ag-mini-filter" ref="eMiniFilter"></ag-input-text-field>\n                <div ref="eFilterNoMatches" class="ag-filter-no-matches ag-hidden">'+this.translateForSetFilter("noMatches")+'</div>\n                <div ref="eSetFilterList" class="ag-set-filter-list" role="presentation"></div>\n            </div>'},e.prototype.handleKeyDown=function(e){if(t.prototype.handleKeyDown.call(this,e),!e.defaultPrevented)switch(e.key){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.SPACE:this.handleKeySpace(e);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER:this.handleKeyEnter(e);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.LEFT:this.handleKeyLeft(e);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.RIGHT:this.handleKeyRight(e)}},e.prototype.handleKeySpace=function(t){var e;null===(e=this.getComponentForKeyEvent(t))||void 0===e||e.toggleSelected()},e.prototype.handleKeyEnter=function(t){if(this.setFilterParams){var e=this.setFilterParams||{},n=e.excelMode,o=e.readOnly;n&&!o&&(t.preventDefault(),this.onBtApply(!1,!1,t),"mac"===this.setFilterParams.excelMode&&this.eMiniFilter.getInputElement().select())}},e.prototype.handleKeyLeft=function(t){var e;null===(e=this.getComponentForKeyEvent(t))||void 0===e||e.setExpanded(!1)},e.prototype.handleKeyRight=function(t){var e;null===(e=this.getComponentForKeyEvent(t))||void 0===e||e.setExpanded(!0)},e.prototype.getComponentForKeyEvent=function(t){var e,n=this.gridOptionsService.getDocument();if(this.eSetFilterList.contains(n.activeElement)&&this.virtualList){var o=this.virtualList.getLastFocusedRow();if(null!=o){var r=this.virtualList.getComponentAt(o);if(null!=r)if(t.preventDefault(),!(null!==(e=this.setFilterParams)&&void 0!==e?e:{}).readOnly)return r}}},e.prototype.getCssIdentifier=function(){return"set-filter"},e.prototype.setModel=function(e){var n;return null==e&&null==(null===(n=this.valueModel)||void 0===n?void 0:n.getModel())?(this.setMiniFilter(null),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve()):t.prototype.setModel.call(this,e)},e.prototype.setModelAndRefresh=function(t){var e=this;return this.valueModel?this.valueModel.setModel(t).then((function(){return e.refresh()})):ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve()},e.prototype.resetUiToDefaults=function(){return this.setMiniFilter(null),this.setModelAndRefresh(null)},e.prototype.setModelIntoUi=function(t){this.setMiniFilter(null);var e=null==t?null:t.values;return this.setModelAndRefresh(e)},e.prototype.getModelFromUi=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var t=this.valueModel.getModel();return t?{values:t,filterType:this.getFilterType()}:null},e.prototype.getFilterType=function(){return"set"},e.prototype.getValueModel=function(){return this.valueModel},e.prototype.areModelsEqual=function(t,e){return null==t&&null==e||null!=t&&null!=e&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.areEqual(t.values,e.values)},e.prototype.setParams=function(e){var n,o=this;this.applyExcelModeOptions(e),t.prototype.setParams.call(this,e),this.setFilterParams=e,this.convertValuesToStrings=!!e.convertValuesToStrings,this.caseSensitive=!!e.caseSensitive;var r=null!==(n=e.keyCreator)&&void 0!==n?n:e.colDef.keyCreator;this.setValueFormatter(e.valueFormatter,r,this.convertValuesToStrings,!!e.treeList,!!e.colDef.refData);var i=e.column.getId().startsWith(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.eHy);this.treeDataTreeList=this.gridOptionsService.is("treeData")&&!!e.treeList&&i,this.getDataPath=this.gridOptionsService.get("getDataPath"),this.groupingTreeList=!!this.columnModel.getRowGroupColumns().length&&!!e.treeList&&i,this.createKey=this.generateCreateKey(r,this.convertValuesToStrings,this.treeDataTreeList||this.groupingTreeList),this.valueModel=new SetValueModel({filterParams:e,setIsLoading:function(t){return o.setIsLoading(t)},valueFormatterService:this.valueFormatterService,translate:function(t){return o.translateForSetFilter(t)},caseFormat:function(t){return o.caseFormat(t)},createKey:this.createKey,valueFormatter:this.valueFormatter,usingComplexObjects:!!r,gridOptionsService:this.gridOptionsService,columnModel:this.columnModel,valueService:this.valueService,treeDataTreeList:this.treeDataTreeList,groupingTreeList:this.groupingTreeList}),this.initialiseFilterBodyUi(),this.addEventListenersForDataChanges()},e.prototype.setValueFormatter=function(t,e,n,o,r){var i=t;if(!i){if(e&&!n&&!o)throw new Error("AG Grid: Must supply a Value Formatter in Set Filter params when using a Key Creator unless convertValuesToStrings is enabled");this.noValueFormatterSupplied=!0,r||(i=function(t){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(t.value)})}this.valueFormatter=i},e.prototype.generateCreateKey=function(t,e,n){var o=this;if(n&&!t)throw new Error("AG Grid: Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.");return t?function(e,n){void 0===n&&(n=null);var r=o.getKeyCreatorParams(e,n);return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(t(r))}:e?function(t){return Array.isArray(t)?t:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(t))}:function(t){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(t))}},e.prototype.getFormattedValue=function(t){var e,n=this.valueModel.getValue(t);this.noValueFormatterSupplied&&(this.treeDataTreeList||this.groupingTreeList)&&Array.isArray(n)&&(n=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(n));var o=this.valueFormatterService.formatValue(this.setFilterParams.column,null,n,this.valueFormatter,!1);return null!==(e=null==o?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(n):o)&&void 0!==e?e:this.translateForSetFilter("blanks")},e.prototype.applyExcelModeOptions=function(t){"windows"===t.excelMode?(t.buttons||(t.buttons=["apply","cancel"]),null==t.closeOnApply&&(t.closeOnApply=!0)):"mac"===t.excelMode&&(t.buttons||(t.buttons=["reset"]),null==t.applyMiniFilterWhileTyping&&(t.applyMiniFilterWhileTyping=!0),null==t.debounceMs&&(t.debounceMs=500)),t.excelMode&&t.defaultToNothingSelected&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn('AG Grid: The Set Filter Parameter "defaultToNothingSelected" does not work with "excelMode".')}),"setFilterExcelModeDefaultToNothingSelect")},e.prototype.addEventListenersForDataChanges=function(){var t=this;this.isValuesTakenFromGrid()&&this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CELL_VALUE_CHANGED,(function(e){t.setFilterParams&&e.column===t.setFilterParams.column&&t.syncAfterDataChange()}))},e.prototype.syncAfterDataChange=function(){var t=this;if(!this.valueModel)throw new Error("Value model has not been created.");return this.valueModel.refreshValues().then((function(){t.refresh(),t.onBtApply(!1,!0)}))},e.prototype.setIsLoading=function(t){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eFilterLoading,t),t||(this.hardRefreshVirtualList=!0)},e.prototype.initialiseFilterBodyUi=function(){this.initVirtualList(),this.initMiniFilter()},e.prototype.initVirtualList=function(){var t=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.localeService.getLocaleTextFunc()("ariaFilterList","Filter List"),n=!!this.setFilterParams.treeList,o=this.virtualList=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CPJ("filter",n?"tree":"listbox",e)),r=this.getRefElement("eSetFilterList");n&&r.classList.add("ag-set-filter-tree-list"),r&&r.appendChild(o.getGui());var i=this.setFilterParams.cellHeight;null!=i&&o.setRowHeight(i);o.setComponentCreator((function(e,o){return t.createSetListItem(e,n,o)}));var s;o.setComponentUpdater((function(e,n){return t.updateSetListItem(e,n)})),s=this.setFilterParams.suppressSelectAll?new ModelWrapper(this.valueModel):new ModelWrapperWithSelectAll(this.valueModel,(function(){return t.isSelectAllSelected()})),n&&(s=new TreeModelWrapper(s)),o.setModel(s)},e.prototype.getSelectAllLabel=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var t=null!=this.valueModel.getMiniFilter()&&this.setFilterParams.excelMode?"selectAllSearchResults":"selectAll";return this.translateForSetFilter(t)},e.prototype.createSetListItem=function(t,e,n){var o,r,i,s,a,l,c=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var u,d,p,h,f,g,_=this.valueModel.hasGroups();this.isSetFilterModelTreeItem(t)?(d=t.depth,t.key===SetFilterDisplayValue.SELECT_ALL?(u=function(){return c.getSelectAllLabel()},p=_,h=!0,f=function(t){return c.onSelectAll(t.isSelected)},g=function(t){return c.onExpandAll(t.item,t.isExpanded)}):t.children?(u=null!==(i=null===(r=(o=this.setFilterParams).treeListFormatter)||void 0===r?void 0:r.call(o,t.treeKey,t.depth,t.parentTreeKeys))&&void 0!==i?i:t.treeKey,p=!0,f=function(t){return c.onGroupItemSelected(t.item,t.isSelected)},g=function(t){return c.onExpandedChanged(t.item,t.isExpanded)}):(u=null!==(l=null===(a=(s=this.setFilterParams).treeListFormatter)||void 0===a?void 0:a.call(s,t.treeKey,t.depth,t.parentTreeKeys))&&void 0!==l?l:t.treeKey,f=function(t){return c.onItemSelected(t.item.key,t.isSelected)})):t===SetFilterDisplayValue.SELECT_ALL?(u=function(){return c.getSelectAllLabel()},f=function(t){return c.onSelectAll(t.isSelected)}):(u=this.valueModel.getValue(t),f=function(t){return c.onItemSelected(t.item,t.isSelected)});var m=this.isSelectedExpanded(t),y=m.isSelected,v=m.isExpanded,C={focusWrapper:n,value:u,params:this.setFilterParams,translate:function(t){return c.translateForSetFilter(t)},valueFormatter:this.valueFormatter,item:t,isSelected:y,isTree:e,depth:d,groupsExist:_,isGroup:p,isExpanded:v,hasIndeterminateExpandState:h},E=this.createBean(new SetFilterListItem(C));return E.addEventListener(SetFilterListItem.EVENT_SELECTION_CHANGED,f),g&&E.addEventListener(SetFilterListItem.EVENT_EXPANDED_CHANGED,g),E},e.prototype.updateSetListItem=function(t,e){var n=this.isSelectedExpanded(t),o=n.isSelected,r=n.isExpanded;e.refresh(t,o,r)},e.prototype.isSelectedExpanded=function(t){var e,n;return this.isSetFilterModelTreeItem(t)?(n=t.expanded,e=t.key===SetFilterDisplayValue.SELECT_ALL?this.isSelectAllSelected():t.children?this.areAllChildrenSelected(t):this.valueModel.isKeySelected(t.key)):e=t===SetFilterDisplayValue.SELECT_ALL?this.isSelectAllSelected():this.valueModel.isKeySelected(t),{isSelected:e,isExpanded:n}},e.prototype.isSetFilterModelTreeItem=function(t){return void 0!==(null==t?void 0:t.treeKey)},e.prototype.initMiniFilter=function(){var t=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.eMiniFilter,n=this.localeService.getLocaleTextFunc();e.setDisplayed(!this.setFilterParams.suppressMiniFilter),e.setValue(this.valueModel.getMiniFilter()),e.onValueChange((function(){return t.onMiniFilterInput()})),e.setInputAriaLabel(n("ariaSearchFilterValues","Search filter values")),this.addManagedListener(e.getInputElement(),"keypress",(function(e){return t.onMiniFilterKeyPress(e)}))},e.prototype.afterGuiAttached=function(e){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");t.prototype.afterGuiAttached.call(this,e),this.resetExpansion(),this.refreshVirtualList();var n=this.eMiniFilter;n.setInputPlaceholder(this.translateForSetFilter("searchOoo")),e&&e.suppressFocus||n.getFocusableElement().focus()},e.prototype.afterGuiDetached=function(){var e,n;t.prototype.afterGuiDetached.call(this),(null===(e=this.setFilterParams)||void 0===e?void 0:e.excelMode)&&this.resetMiniFilter();var o=this.getModel();!(null===(n=this.setFilterParams)||void 0===n?void 0:n.excelMode)&&this.areModelsEqual(o,this.getModelFromUi())||(this.resetUiToActiveModel(o),this.showOrHideResults())},e.prototype.applyModel=function(e){var n=this;if(void 0===e&&(e="api"),!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");this.setFilterParams.excelMode&&"rowDataUpdated"!==e&&this.valueModel.isEverythingVisibleSelected()&&this.valueModel.selectAllMatchingMiniFilter();var o=t.prototype.applyModel.call(this,e),r=this.getModel();return r?(this.appliedModelKeys=new Set,r.values.forEach((function(t){n.appliedModelKeys.add(n.caseFormat(t))}))):this.appliedModelKeys=null,this.noAppliedModelKeys=0===(null==r?void 0:r.values.length),o},e.prototype.isModelValid=function(t){return!this.setFilterParams||!this.setFilterParams.excelMode||(null==t||t.values.length>0)},e.prototype.doesFilterPass=function(t){var e=this;if(!this.setFilterParams||!this.valueModel||!this.appliedModelKeys)return!0;if(this.noAppliedModelKeys)return!1;var n=t.node,o=t.data;if(this.treeDataTreeList)return this.doesFilterPassForTreeData(n,o);if(this.groupingTreeList)return this.doesFilterPassForGrouping(n,o);var r=this.getValueFromNode(n,o);return this.convertValuesToStrings?this.doesFilterPassForConvertValuesToString(n,r):null!=r&&Array.isArray(r)?0===r.length?this.appliedModelKeys.has(null):r.some((function(t){return e.isInAppliedModel(e.createKey(t,n))})):this.isInAppliedModel(this.createKey(r,n))},e.prototype.doesFilterPassForConvertValuesToString=function(t,e){var n=this,o=this.createKey(e,t);return null!=o&&Array.isArray(o)?0===o.length?this.appliedModelKeys.has(null):o.some((function(t){return n.isInAppliedModel(t)})):this.isInAppliedModel(o)},e.prototype.doesFilterPassForTreeData=function(t,e){var n;return!(null===(n=t.childrenAfterGroup)||void 0===n?void 0:n.length)&&this.isInAppliedModel(this.createKey(this.checkMakeNullDataPath(this.getDataPath(e))))},e.prototype.doesFilterPassForGrouping=function(t,e){var n=this,o=this.columnModel.getRowGroupColumns().map((function(e){return n.valueService.getKeyForNode(e,t)}));return o.push(this.getValueFromNode(t,e)),this.isInAppliedModel(this.createKey(this.checkMakeNullDataPath(o)))},e.prototype.checkMakeNullDataPath=function(t){return t&&(t=t.map((function(t){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(t))}))),(null==t?void 0:t.some((function(t){return null==t})))?null:t},e.prototype.isInAppliedModel=function(t){return this.appliedModelKeys.has(this.caseFormat(t))},e.prototype.getValueFromNode=function(t,e){var n=this.setFilterParams;return(0,n.valueGetter)({api:n.api,colDef:n.colDef,column:n.column,columnApi:n.columnApi,context:n.context,data:e,getValue:function(t){return e[t]},node:t})},e.prototype.getKeyCreatorParams=function(t,e){return void 0===e&&(e=null),{value:t,colDef:this.setFilterParams.colDef,column:this.setFilterParams.column,node:e,data:null==e?void 0:e.data,api:this.setFilterParams.api,columnApi:this.setFilterParams.columnApi,context:this.setFilterParams.context}},e.prototype.onNewRowsLoaded=function(){this.isValuesTakenFromGrid()&&this.syncAfterDataChange()},e.prototype.isValuesTakenFromGrid=function(){return!!this.valueModel&&this.valueModel.getValuesType()===SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES},e.prototype.setFilterValues=function(t){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.overrideValues(t).then((function(){e.refresh(),e.onUiChanged()}))},e.prototype.resetFilterValues=function(){if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.setValuesType(SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES),this.syncAfterDataChange()},e.prototype.refreshFilterValues=function(){var t=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.isInitialised()&&this.valueModel.refreshValues().then((function(){t.refresh(),t.onUiChanged()}))},e.prototype.onAnyFilterChanged=function(){var t=this;setTimeout((function(){if(t.isAlive()){if(!t.valueModel)throw new Error("Value model has not been created.");t.valueModel.refreshAfterAnyFilterChanged().then((function(e){e&&(t.refresh(),t.showOrHideResults())}))}}),0)},e.prototype.onMiniFilterInput=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");if(this.valueModel.setMiniFilter(this.eMiniFilter.getValue())){var t=this.setFilterParams||{},e=t.applyMiniFilterWhileTyping;!t.readOnly&&e?this.filterOnAllVisibleValues(!1):this.updateUiAfterMiniFilterChange()}},e.prototype.updateUiAfterMiniFilterChange=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var t=this.setFilterParams||{},e=t.excelMode,n=t.readOnly;null==e||n?this.refresh():null==this.valueModel.getMiniFilter()?this.resetUiToActiveModel(this.getModel()):(this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged()),this.showOrHideResults()},e.prototype.showOrHideResults=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var t=null!=this.valueModel.getMiniFilter()&&this.valueModel.getDisplayedValueCount()<1;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eNoMatches,t),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eSetFilterList,!t)},e.prototype.resetMiniFilter=function(){var t;this.eMiniFilter.setValue(null,!0),null===(t=this.valueModel)||void 0===t||t.setMiniFilter(null)},e.prototype.resetUiToActiveModel=function(t,e){var n=this;this.setModelAndRefresh(null==t?null:t.values).then((function(){n.onUiChanged(!1,"prevent"),null==e||e()}))},e.prototype.handleCancelEnd=function(e){this.setMiniFilter(null),t.prototype.handleCancelEnd.call(this,e)},e.prototype.onMiniFilterKeyPress=function(t){var e=this.setFilterParams||{},n=e.excelMode,o=e.readOnly;t.key!==ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER||n||o||this.filterOnAllVisibleValues()},e.prototype.filterOnAllVisibleValues=function(t){void 0===t&&(t=!0);var e=(this.setFilterParams||{}).readOnly;if(!this.valueModel)throw new Error("Value model has not been created.");if(e)throw new Error("Unable to filter in readOnly mode.");this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged(!1,t?"immediately":"debounce"),this.showOrHideResults()},e.prototype.focusRowIfAlive=function(t){var e=this;null!=t&&window.setTimeout((function(){if(!e.virtualList)throw new Error("Virtual list has not been created.");e.isAlive()&&e.virtualList.focusRow(t)}),0)},e.prototype.onSelectAll=function(t){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");t?this.valueModel.selectAllMatchingMiniFilter():this.valueModel.deselectAllMatchingMiniFilter(),this.refreshAfterSelection()},e.prototype.onGroupItemSelected=function(t,e){var n=this,o=function(t){t.children?t.children.forEach((function(t){return o(t)})):n.selectItem(t.key,e)};o(t),this.refreshAfterSelection()},e.prototype.onItemSelected=function(t,e){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");this.selectItem(t,e),this.refreshAfterSelection()},e.prototype.selectItem=function(t,e){e?this.valueModel.selectKey(t):this.valueModel.deselectKey(t)},e.prototype.onExpandAll=function(t,e){var n=function(t){t.filterPasses&&t.available&&t.children&&(t.children.forEach((function(t){return n(t)})),t.expanded=e)};n(t),this.refreshAfterExpansion()},e.prototype.onExpandedChanged=function(t,e){t.expanded=e,this.refreshAfterExpansion()},e.prototype.refreshAfterExpansion=function(){var t=this.virtualList.getLastFocusedRow();this.valueModel.updateDisplayedValues("expansion"),this.refresh(),this.focusRowIfAlive(t)},e.prototype.refreshAfterSelection=function(){var t=this.virtualList.getLastFocusedRow();this.refresh(),this.onUiChanged(),this.focusRowIfAlive(t)},e.prototype.setMiniFilter=function(t){this.eMiniFilter.setValue(t),this.onMiniFilterInput()},e.prototype.getMiniFilter=function(){return this.valueModel?this.valueModel.getMiniFilter():null},e.prototype.refresh=function(){if(!this.virtualList)throw new Error("Virtual list has not been created.");this.virtualList.refresh(!this.hardRefreshVirtualList),this.hardRefreshVirtualList&&(this.hardRefreshVirtualList=!1)},e.prototype.getFilterKeys=function(){return this.valueModel?this.valueModel.getKeys():[]},e.prototype.getFilterValues=function(){return this.valueModel?this.valueModel.getValues():[]},e.prototype.getValues=function(){return this.getFilterKeys()},e.prototype.refreshVirtualList=function(){this.setFilterParams&&this.setFilterParams.refreshValuesOnOpen?this.refreshFilterValues():this.refresh()},e.prototype.translateForSetFilter=function(t){return this.localeService.getLocaleTextFunc()(t,DEFAULT_LOCALE_TEXT[t])},e.prototype.isSelectAllSelected=function(){if(!this.setFilterParams||!this.valueModel)return!1;if(this.setFilterParams.defaultToNothingSelected){if(this.valueModel.hasSelections()&&this.valueModel.isEverythingVisibleSelected())return!0;if(this.valueModel.isNothingVisibleSelected())return!1}else{if(this.valueModel.hasSelections()&&this.valueModel.isNothingVisibleSelected())return!1;if(this.valueModel.isEverythingVisibleSelected())return!0}},e.prototype.areAllChildrenSelected=function(t){var e=this,n=function(t){if(t.children){var o=!1,r=!1;return t.children.some((function(t){if(!t.filterPasses||!t.available)return!1;var e=n(t);return void 0===e||(e?o=!0:r=!0,o&&r)}))?void 0:o}return e.valueModel.isKeySelected(t.key)};return this.setFilterParams.defaultToNothingSelected?this.valueModel.hasSelections()&&n(t):n(t)},e.prototype.destroy=function(){null!=this.virtualList&&(this.virtualList.destroy(),this.virtualList=null),t.prototype.destroy.call(this)},e.prototype.caseFormat=function(t){return null==t||"string"!=typeof t||this.caseSensitive?t:t.toUpperCase()},e.prototype.resetExpansion=function(){var t,e;if(null===(t=this.setFilterParams)||void 0===t?void 0:t.treeList){var n=null===(e=this.valueModel)||void 0===e?void 0:e.getSelectAllItem();if(this.isSetFilterModelTreeItem(n)){var o=function(t){t.children&&(t.children.forEach((function(t){return o(t)})),t.expanded=!1)};o(n),this.valueModel.updateDisplayedValues("expansion")}}},e.prototype.getModelAsString=function(t){return this.filterModelFormatter.getModelAsString(t,this)},e.prototype.getPositionableElement=function(){return this.eSetFilterList},__decorate$c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eMiniFilter")],e.prototype,"eMiniFilter",void 0),__decorate$c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterLoading")],e.prototype,"eFilterLoading",void 0),__decorate$c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eSetFilterList")],e.prototype,"eSetFilterList",void 0),__decorate$c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterNoMatches")],e.prototype,"eNoMatches",void 0),__decorate$c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueFormatterService")],e.prototype,"valueFormatterService",void 0),__decorate$c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AGU),ModelWrapper=function(){function t(t){this.model=t}return t.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()},t.prototype.getRow=function(t){return this.model.getDisplayedItem(t)},t.prototype.isRowSelected=function(t){return this.model.isKeySelected(this.getRow(t))},t.prototype.areRowsEqual=function(t,e){return t===e},t}(),ModelWrapperWithSelectAll=function(){function t(t,e){this.model=t,this.isSelectAllSelected=e}return t.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()+1},t.prototype.getRow=function(t){return 0===t?this.model.getSelectAllItem():this.model.getDisplayedItem(t-1)},t.prototype.isRowSelected=function(t){return 0===t?this.isSelectAllSelected():this.model.isKeySelected(this.getRow(t))},t.prototype.areRowsEqual=function(t,e){return t===e},t}(),TreeModelWrapper=function(){function t(t){this.model=t}return t.prototype.getRowCount=function(){return this.model.getRowCount()},t.prototype.getRow=function(t){return this.model.getRow(t)},t.prototype.areRowsEqual=function(t,e){return null==t&&null==e||null!=t&&null!=e&&t.treeKey===e.treeKey&&t.depth===e.depth},t}(),__extends$g=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$b=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},SetFloatingFilterComp=function(t){function e(){var e=t.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this;return e.availableValuesListenerAdded=!1,e.filterModelFormatter=new SetFilterModelFormatter,e}return __extends$g(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){var e=this.columnModel.getDisplayNameForColumn(t.column,"header",!0),n=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(e+" "+n("ariaFilterInput","Filter Input")).addGuiEventListener("click",(function(){return t.showParentFilter()})),this.params=t},e.prototype.onParentModelChanged=function(t){this.updateFloatingFilterText(t)},e.prototype.parentSetFilterInstance=function(t){this.params.parentFilterInstance((function(e){if(!(e instanceof SetFilter))throw new Error("AG Grid - SetFloatingFilter expects SetFilter as its parent");t(e)}))},e.prototype.addAvailableValuesListener=function(){var t=this;this.parentSetFilterInstance((function(e){var n=e.getValueModel();n&&t.addManagedListener(n,SetValueModel.EVENT_AVAILABLE_VALUES_CHANGED,(function(){return t.updateFloatingFilterText()}))})),this.availableValuesListenerAdded=!0},e.prototype.updateFloatingFilterText=function(t){var e=this;this.availableValuesListenerAdded||this.addAvailableValuesListener(),this.parentSetFilterInstance((function(n){e.eFloatingFilterText.setValue(e.filterModelFormatter.getModelAsString(t,n))}))},__decorate$b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFloatingFilterText")],e.prototype,"eFloatingFilterText",void 0),__decorate$b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),VERSION$3="29.3.4",SetFilterModule={version:VERSION$3,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.SetFilterModule,beans:[],userComponents:[{componentName:"agSetColumnFilter",componentClass:SetFilter},{componentName:"agSetColumnFloatingFilter",componentClass:SetFloatingFilterComp}],dependantModules:[EnterpriseCoreModule]},__extends$f=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$a=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},StatusBarService=function(t){function e(){var e=t.call(this)||this;return e.allComponents={},e}return __extends$f(e,t),e.prototype.registerStatusPanel=function(t,e){this.allComponents[t]=e},e.prototype.getStatusPanel=function(t){return this.allComponents[t]},e=__decorate$a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("statusBarService")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$e=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$9=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},StatusBar=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return __extends$e(e,t),e.prototype.postConstruct=function(){var t,e=null===(t=this.gridOptionsService.get("statusBar"))||void 0===t?void 0:t.statusPanels;if(e){var n=e.filter((function(t){return"left"===t.align}));this.createAndRenderComponents(n,this.eStatusBarLeft);var o=e.filter((function(t){return"center"===t.align}));this.createAndRenderComponents(o,this.eStatusBarCenter);var r=e.filter((function(t){return!t.align||"right"===t.align}));this.createAndRenderComponents(r,this.eStatusBarRight)}else this.setDisplayed(!1)},e.prototype.createAndRenderComponents=function(t,e){var n=this,o=[];t.forEach((function(t){var e=n.userComponentFactory.getStatusPanelCompDetails(t,{}).newAgStackInstance();e&&o.push({key:t.key||t.statusPanel,promise:e})})),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.all(o.map((function(t){return t.promise}))).then((function(){o.forEach((function(t){t.promise.then((function(o){var r=function(){n.getContext().destroyBean(o)};n.isAlive()?(n.statusBarService.registerStatusPanel(t.key,o),e.appendChild(o.getGui()),n.addDestroyFunc(r)):r()}))}))}))},e.TEMPLATE='<div class="ag-status-bar">\n            <div ref="eStatusBarLeft" class="ag-status-bar-left" role="status"></div>\n            <div ref="eStatusBarCenter" class="ag-status-bar-center" role="status"></div>\n            <div ref="eStatusBarRight" class="ag-status-bar-right" role="status"></div>\n        </div>',__decorate$9([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],e.prototype,"userComponentFactory",void 0),__decorate$9([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("statusBarService")],e.prototype,"statusBarService",void 0),__decorate$9([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eStatusBarLeft")],e.prototype,"eStatusBarLeft",void 0),__decorate$9([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eStatusBarCenter")],e.prototype,"eStatusBarCenter",void 0),__decorate$9([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eStatusBarRight")],e.prototype,"eStatusBarRight",void 0),__decorate$9([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$d=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$8=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},NameValueComp=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return __extends$d(e,t),e.prototype.setLabel=function(t,e){this.setDisplayed(!1);var n=this.localeService.getLocaleTextFunc();this.eLabel.innerHTML=n(t,e)},e.prototype.setValue=function(t){this.eValue.innerHTML=t},e.TEMPLATE='<div class="ag-status-name-value">\n            <span ref="eLabel"></span>:&nbsp;\n            <span ref="eValue" class="ag-status-name-value-value"></span>\n        </div>',__decorate$8([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eLabel")],e.prototype,"eLabel",void 0),__decorate$8([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eValue")],e.prototype,"eValue",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$c=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$7=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},TotalAndFilteredRowsComp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$c(e,t),e.prototype.postConstruct=function(){"clientSide"===this.gridApi.getModel().getType()?(this.setLabel("totalAndFilteredRows","Rows"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-and-filtered-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this)),this.onDataChanged()):console.warn("AG Grid: agTotalAndFilteredRowCountComponent should only be used with the client side row model.")},e.prototype.onDataChanged=function(){var t=this.localeService.getLocaleTextFunc(),e=t("thousandSeparator",","),n=t("decimalSeparator","."),o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberCommas(this.getFilteredRowCountValue(),e,n),r=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberCommas(this.getTotalRowCount(),e,n);if(o===r)this.setValue(o);else{var i=this.localeService.getLocaleTextFunc();this.setValue(o+" "+i("of","of")+" "+r)}},e.prototype.getFilteredRowCountValue=function(){var t=0;return this.gridApi.forEachNodeAfterFilter((function(e){e.group||t++})),t},e.prototype.getTotalRowCount=function(){var t=0;return this.gridApi.forEachNode((function(e){e.group||t++})),t},e.prototype.init=function(){},e.prototype.destroy=function(){t.prototype.destroy.call(this)},__decorate$7([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$7([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(NameValueComp),__extends$b=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$6=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},FilteredRowsComp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$b(e,t),e.prototype.postConstruct=function(){if(this.setLabel("filteredRows","Filtered"),"clientSide"===this.gridApi.getModel().getType()){this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-filtered-row-count"),this.setDisplayed(!0);var t=this.onDataChanged.bind(this);this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,t),t()}else console.warn("AG Grid: agFilteredRowCountComponent should only be used with the client side row model.")},e.prototype.onDataChanged=function(){var t=this.getTotalRowCountValue(),e=this.getFilteredRowCountValue(),n=this.localeService.getLocaleTextFunc(),o=n("thousandSeparator",","),r=n("decimalSeparator",".");this.setValue(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberCommas(e,o,r)),this.setDisplayed(t!==e)},e.prototype.getTotalRowCountValue=function(){var t=0;return this.gridApi.forEachNode((function(e){return t+=1})),t},e.prototype.getFilteredRowCountValue=function(){var t=0;return this.gridApi.forEachNodeAfterFilter((function(e){e.group||(t+=1)})),t},e.prototype.init=function(){},e.prototype.destroy=function(){t.prototype.destroy.call(this)},__decorate$6([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$6([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(NameValueComp),__extends$a=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$5=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},TotalRowsComp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$a(e,t),e.prototype.postConstruct=function(){this.setLabel("totalRows","Total Rows"),"clientSide"===this.gridApi.getModel().getType()?(this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this)),this.onDataChanged()):console.warn("AG Grid: agTotalRowCountComponent should only be used with the client side row model.")},e.prototype.onDataChanged=function(){var t=this.localeService.getLocaleTextFunc(),e=t("thousandSeparator",","),n=t("decimalSeparator",".");this.setValue(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberCommas(this.getRowCountValue(),e,n))},e.prototype.getRowCountValue=function(){var t=0;return this.gridApi.forEachLeafNode((function(e){return t+=1})),t},e.prototype.init=function(){},e.prototype.destroy=function(){t.prototype.destroy.call(this)},__decorate$5([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$5([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(NameValueComp),__extends$9=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$4=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},SelectedRowsComp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$9(e,t),e.prototype.postConstruct=function(){if(this.isValidRowModel()){this.setLabel("selectedRows","Selected"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-selected-row-count"),this.onRowSelectionChanged();var t=this.onRowSelectionChanged.bind(this);this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,t),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,t)}else console.warn("AG Grid: agSelectedRowCountComponent should only be used with the client and server side row model.")},e.prototype.isValidRowModel=function(){var t=this.gridApi.getModel().getType();return"clientSide"===t||"serverSide"===t},e.prototype.onRowSelectionChanged=function(){var t=this.selectionService.getSelectionCount();if(t<0)return this.setValue("?"),void this.setDisplayed(!0);var e=this.localeService.getLocaleTextFunc(),n=e("thousandSeparator",","),o=e("decimalSeparator",".");this.setValue(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberCommas(t,n,o)),this.setDisplayed(t>0)},e.prototype.init=function(){},e.prototype.destroy=function(){t.prototype.destroy.call(this)},__decorate$4([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$4([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("selectionService")],e.prototype,"selectionService",void 0),__decorate$4([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(NameValueComp),__extends$8=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$3=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},AggregationComp=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return __extends$8(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.postConstruct=function(){this.isValidRowModel()?(this.avgAggregationComp.setLabel("avg","Average"),this.countAggregationComp.setLabel("count","Count"),this.minAggregationComp.setLabel("min","Min"),this.maxAggregationComp.setLabel("max","Max"),this.sumAggregationComp.setLabel("sum","Sum"),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_RANGE_SELECTION_CHANGED,this.onRangeSelectionChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,this.onRangeSelectionChanged.bind(this))):console.warn("AG Grid: agAggregationComponent should only be used with the client and server side row model.")},e.prototype.isValidRowModel=function(){var t=this.gridApi.getModel().getType();return"clientSide"===t||"serverSide"===t},e.prototype.init=function(){},e.prototype.setAggregationComponentValue=function(t,e,n){var o=this.getAggregationValueComponent(t);if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(o)&&o){var r=this.localeService.getLocaleTextFunc(),i=r("thousandSeparator",","),s=r("decimalSeparator",".");o.setValue(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberTwoDecimalPlacesAndCommas(e,i,s)),o.setDisplayed(n)}},e.prototype.getAggregationValueComponent=function(t){var e=t+"AggregationComp",n=null,o=this.gridOptionsService.get("statusBar"),r=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(o)&&o?o.statusPanels.find((function(t){return"agAggregationComponent"===t.statusPanel})):null;return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(r)&&r?(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(r.statusPanelParams)||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(r.statusPanelParams)&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(r.statusPanelParams.aggFuncs)&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(r.statusPanelParams.aggFuncs.find((function(e){return e===t}))))&&(n=this[e]):n=this[e],n},e.prototype.onRangeSelectionChanged=function(){var t=this,e=this.rangeService?this.rangeService.getCellRanges():void 0,n=0,o=0,r=0,i=null,s=null,a={};e&&!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missingOrEmpty(e)&&e.forEach((function(e){for(var l=t.rangeService.getRangeStartRow(e),c=t.rangeService.getRangeEndRow(e);;){if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(l)||!l||t.rowPositionUtils.before(c,l)||!l||!e.columns)break;e.columns.forEach((function(e){if(null!==l){var c=t.cellPositionUtils.createId({rowPinned:l.rowPinned,column:e,rowIndex:l.rowIndex});if(!a[c]){a[c]=!0;var u=t.rowRenderer.getRowNode(l);if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(u)){var d=t.valueService.getValue(e,u);ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(d)||""===d||("object"==typeof d&&"value"in d&&(d=d.value),"string"==typeof d&&(d=Number(d)),"number"!=typeof d||isNaN(d)||(n+=d,(null===s||d>s)&&(s=d),(null===i||d<i)&&(i=d),r++),o++)}}}})),l=t.cellNavigationService.getRowBelow(l)}}));var l=o>1,c=r>1;this.setAggregationComponentValue("count",o,l),this.setAggregationComponentValue("sum",n,c),this.setAggregationComponentValue("min",i,c),this.setAggregationComponentValue("max",s,c),this.setAggregationComponentValue("avg",n/r,c)},e.TEMPLATE='<div class="ag-status-panel ag-status-panel-aggregations">\n            <ag-name-value ref="avgAggregationComp"></ag-name-value>\n            <ag-name-value ref="countAggregationComp"></ag-name-value>\n            <ag-name-value ref="minAggregationComp"></ag-name-value>\n            <ag-name-value ref="maxAggregationComp"></ag-name-value>\n            <ag-name-value ref="sumAggregationComp"></ag-name-value>\n        </div>',__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("rangeService")],e.prototype,"rangeService",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellNavigationService")],e.prototype,"cellNavigationService",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],e.prototype,"rowRenderer",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("sumAggregationComp")],e.prototype,"sumAggregationComp",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("countAggregationComp")],e.prototype,"countAggregationComp",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("minAggregationComp")],e.prototype,"minAggregationComp",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("maxAggregationComp")],e.prototype,"maxAggregationComp",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("avgAggregationComp")],e.prototype,"avgAggregationComp",void 0),__decorate$3([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),VERSION$2="29.3.4",StatusBarModule={version:VERSION$2,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.StatusBarModule,beans:[StatusBarService],agStackComponents:[{componentName:"AgStatusBar",componentClass:StatusBar},{componentName:"AgNameValue",componentClass:NameValueComp}],userComponents:[{componentName:"agAggregationComponent",componentClass:AggregationComp},{componentName:"agSelectedRowCountComponent",componentClass:SelectedRowsComp},{componentName:"agTotalRowCountComponent",componentClass:TotalRowsComp},{componentName:"agFilteredRowCountComponent",componentClass:FilteredRowsComp},{componentName:"agTotalAndFilteredRowCountComponent",componentClass:TotalAndFilteredRowsComp}],dependantModules:[EnterpriseCoreModule]},VERSION$1="29.3.4",__extends$7=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$2=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},DEFAULT_VIEWPORT_ROW_MODEL_PAGE_SIZE=5,DEFAULT_VIEWPORT_ROW_MODEL_BUFFER_SIZE=5,ViewportRowModel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.firstRow=-1,e.lastRow=-1,e.rowCount=-1,e.rowNodesByIndex={},e}return __extends$7(e,t),e.prototype.ensureRowHeightsValid=function(t,e,n,o){return!1},e.prototype.init=function(){this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_VIEWPORT_CHANGED,this.onViewportChanged.bind(this))},e.prototype.start=function(){this.gridOptionsService.get("viewportDatasource")&&this.setViewportDatasource(this.gridOptionsService.get("viewportDatasource"))},e.prototype.isLastRowIndexKnown=function(){return!0},e.prototype.destroyDatasource=function(){this.viewportDatasource&&(this.viewportDatasource.destroy&&this.viewportDatasource.destroy(),this.rowRenderer.datasourceChanged(),this.firstRow=-1,this.lastRow=-1)},e.prototype.getViewportRowModelPageSize=function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.oneOrGreater(this.gridOptionsService.getNum("viewportRowModelPageSize"),DEFAULT_VIEWPORT_ROW_MODEL_PAGE_SIZE)},e.prototype.getViewportRowModelBufferSize=function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.zeroOrGreater(this.gridOptionsService.getNum("viewportRowModelBufferSize"),DEFAULT_VIEWPORT_ROW_MODEL_BUFFER_SIZE)},e.prototype.calculateFirstRow=function(t){var e=this.getViewportRowModelBufferSize(),n=this.getViewportRowModelPageSize(),o=t-e;return o<0?0:Math.floor(o/n)*n},e.prototype.calculateLastRow=function(t){if(-1===t)return t;var e=this.getViewportRowModelBufferSize(),n=this.getViewportRowModelPageSize(),o=t+e,r=Math.ceil(o/n)*n,i=this.rowCount-1;return Math.min(r,i)},e.prototype.onViewportChanged=function(t){var e=this.calculateFirstRow(t.firstRow),n=this.calculateLastRow(t.lastRow);this.firstRow===e&&this.lastRow===n||(this.firstRow=e,this.lastRow=n,this.purgeRowsNotInViewport(),this.viewportDatasource&&this.viewportDatasource.setViewportRange(this.firstRow,this.lastRow))},e.prototype.purgeRowsNotInViewport=function(){var t=this;Object.keys(this.rowNodesByIndex).forEach((function(e){var n=parseInt(e,10);if(n<t.firstRow||n>t.lastRow){if(t.isRowFocused(n))return;delete t.rowNodesByIndex[n]}}))},e.prototype.isRowFocused=function(t){var e=this.focusService.getFocusCellToUseAfterRefresh();return!!e&&(null==e.rowPinned&&e.rowIndex===t)},e.prototype.setViewportDatasource=function(t){this.destroyDatasource(),this.viewportDatasource=t,this.rowCount=-1,t.init?t.init({setRowCount:this.setRowCount.bind(this),setRowData:this.setRowData.bind(this),getRow:this.getRow.bind(this)}):console.warn("AG Grid: viewport is missing init method.")},e.prototype.getType=function(){return"viewport"},e.prototype.getRow=function(t){return this.rowNodesByIndex[t]||(this.rowNodesByIndex[t]=this.createBlankRowNode(t)),this.rowNodesByIndex[t]},e.prototype.getRowNode=function(t){var e;return this.forEachNode((function(n){n.id===t&&(e=n)})),e},e.prototype.getRowCount=function(){return-1===this.rowCount?0:this.rowCount},e.prototype.getRowIndexAtPixel=function(t){return 0!==this.rowHeight?Math.floor(t/this.rowHeight):0},e.prototype.getRowBounds=function(t){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*t}},e.prototype.getTopLevelRowCount=function(){return this.getRowCount()},e.prototype.getTopLevelRowDisplayedIndex=function(t){return t},e.prototype.isEmpty=function(){return this.rowCount>0},e.prototype.isRowsToRender=function(){return this.rowCount>0},e.prototype.getNodesInRangeForSelection=function(t,e){var n=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(t)?0:t.rowIndex,o=e.rowIndex,r=n<this.firstRow||n>this.lastRow,i=o<this.firstRow||o>this.lastRow;if(r||i)return[];for(var s=[],a=n<=o?o:n,l=n<=o?n:o;l<=a;l++)s.push(this.rowNodesByIndex[l]);return s},e.prototype.forEachNode=function(t){var e=this,n=0;Object.keys(this.rowNodesByIndex).forEach((function(o){var r=parseInt(o,10),i=e.rowNodesByIndex[r];t(i,n),n++}))},e.prototype.setRowData=function(t){var e=this;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject(t,(function(t,n){var o=parseInt(t,10);if(o>=e.firstRow&&o<=e.lastRow){var r=e.rowNodesByIndex[o];ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(r)&&(r=e.createBlankRowNode(o),e.rowNodesByIndex[o]=r),r.setDataAndId(n,o.toString())}}))},e.prototype.createBlankRowNode=function(t){var e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk(this.beans);return e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*t),e.setRowIndex(t),e},e.prototype.setRowCount=function(t,e){if(void 0===e&&(e=!1),t!==this.rowCount){this.rowCount=t;var n={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,newData:!1,newPage:!1,keepRenderedRows:e,animate:!1};this.eventService.dispatchEvent(n)}},e.prototype.isRowPresent=function(t){return!!this.getRowNode(t.id)},__decorate$2([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],e.prototype,"rowRenderer",void 0),__decorate$2([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),__decorate$2([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("beans")],e.prototype,"beans",void 0),__decorate$2([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),__decorate$2([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],e.prototype,"destroyDatasource",null),e=__decorate$2([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("rowModel")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),ViewportRowModelModule={version:VERSION$1,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ViewportRowModelModule,rowModel:"viewport",beans:[ViewportRowModel],dependantModules:[EnterpriseCoreModule]},defaultTooltipCss="\n.ag-sparkline-tooltip-wrapper {\n    position: absolute;\n    user-select: none;\n    pointer-events: none;\n}\n\n.ag-sparkline-tooltip {\n    position: relative;\n    font: 12px arial,sans-serif;\n    border-radius: 2px;\n    box-shadow: 0 1px 3px rgb(0 0 0 / 20%), 0 1px 1px rgb(0 0 0 / 14%);\n    line-height: 1.7em;\n    overflow: hidden;\n    white-space: nowrap;\n    z-index: 99999;\n    background-color: rgb(255, 255, 255);\n    color: rgba(0,0,0, 0.67);\n}\n\n.ag-sparkline-tooltip-content {\n    padding: 0 7px;\n    opacity: 1;\n}\n\n.ag-sparkline-tooltip-title {\n    padding-left: 7px;\n    opacity: 1;\n}\n\n.ag-sparkline-tooltip-wrapper-hidden {\n    top: -10000px !important;\n}\n\n.ag-sparkline-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n",__values=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},extent$3=extent$4,isNumber$3=isNumber$4,isString=isString$1,isStringObject=isStringObject$1,isDate=isDate$1,createId=createId$1,Padding=Padding$1,LinearScale=LinearScale$1,BandScale$4=BandScale$5,TimeScale=TimeScale$1,ZINDICIES;!function(t){t[t.SERIES_FILL_ZINDEX=50]="SERIES_FILL_ZINDEX",t[t.AXIS_LINE_ZINDEX=500]="AXIS_LINE_ZINDEX",t[t.SERIES_STROKE_ZINDEX=1e3]="SERIES_STROKE_ZINDEX",t[t.SERIES_LABEL_ZINDEX=1500]="SERIES_LABEL_ZINDEX",t[t.CROSSHAIR_ZINDEX=2e3]="CROSSHAIR_ZINDEX",t[t.SERIES_MARKERS_ZINDEX=2500]="SERIES_MARKERS_ZINDEX"}(ZINDICIES||(ZINDICIES={}));var SparklineAxis=function(){this.type="category",this.stroke="rgb(204, 214, 235)",this.strokeWidth=1},Sparkline=function(){function t(){this.id=createId(this),this.seriesRect={x:0,y:0,width:0,height:0},this._context=void 0,this._container=void 0,this._data=void 0,this.padding=new Padding(3),this.xKey="x",this.yKey="y",this.dataType=void 0,this.xData=[],this.yData=[],this.min=void 0,this.max=void 0,this.yScale=new LinearScale,this.axis=new SparklineAxis,this.highlightStyle={size:6,fill:"yellow",stroke:"silver",strokeWidth:1},this._width=100,this._height=100,this.smallestInterval=void 0,this.layoutId=0,this.defaultDateFormatter=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),this._onMouseMove=this.onMouseMove.bind(this),this._onMouseOut=this.onMouseOut.bind(this);var e=new Group;this.rootGroup=e;var n=document.createElement("div");n.setAttribute("class","ag-sparkline-wrapper");var o=new Scene({document});if(this.scene=o,this.canvasElement=o.canvas.element,o.root=e,o.container=n,o.resize(this.width,this.height),this.seriesRect.width=this.width,this.seriesRect.height=this.height,-1===t.tooltipDocuments.indexOf(document)){var r=document.createElement("style");r.innerHTML=defaultTooltipCss,document.head.insertBefore(r,document.head.querySelector("style")),t.tooltipDocuments.push(document)}this.setupDomEventListeners(this.scene.canvas.element)}return Object.defineProperty(t.prototype,"context",{get:function(){return this._context},set:function(t){this._context!==t&&(this._context=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(t){if(this._container!==t){var e=this.canvasElement.parentNode;null!=e&&e.removeChild(this.canvasElement),t&&t.appendChild(this.canvasElement),this._container=t}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(t){this._data!==t&&(this._data=t,this.processData(),this.mouseMoveEvent&&this.highlightedDatum&&this.updateHitPoint(this.mouseMoveEvent))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(t){this._width!==t&&(this._width=t,this.scene.resize(t,this.height),this.scheduleLayout())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){this._height!==t&&(this._height=t,this.scene.resize(this.width,t),this.scheduleLayout())},enumerable:!1,configurable:!0}),t.prototype.update=function(){},t.prototype.updateYScale=function(){this.updateYScaleRange(),this.updateYScaleDomain()},t.prototype.updateYScaleDomain=function(){},t.prototype.updateYScaleRange=function(){var t=this.yScale,e=this.seriesRect;t.range=[e.height,0]},t.prototype.updateXScale=function(){var t=this.axis.type;this.xScale=this.getXScale(t),this.updateXScaleRange(),this.updateXScaleDomain()},t.prototype.updateXScaleRange=function(){this.xScale.range=[0,this.seriesRect.width]},t.prototype.updateXScaleDomain=function(){var t,e=this.xData,n=this.xScale;(n instanceof LinearScale||n instanceof TimeScale)&&(t=extent$3(e)),this.xScale.domain=t?t.slice():e},t.prototype.getXScale=function(t){switch(void 0===t&&(t="category"),t){case"number":return new LinearScale;case"time":return new TimeScale;default:return new BandScale$4}},t.prototype.updateAxisLine=function(){},t.prototype.updateAxes=function(){this.updateYScale(),this.updateXScale(),this.updateAxisLine()},t.prototype.updateCrosshairs=function(){this.updateXCrosshairLine(),this.updateYCrosshairLine()},t.prototype.generateNodeData=function(){return[]},t.prototype.getNodeData=function(){return[]},t.prototype.updateNodes=function(){},t.prototype.updateXCrosshairLine=function(){},t.prototype.updateYCrosshairLine=function(){},t.prototype.highlightDatum=function(t){this.updateNodes()},t.prototype.dehighlightDatum=function(){this.highlightedDatum=void 0,this.updateNodes(),this.updateCrosshairs()},t.prototype.onMouseMove=function(t){this.mouseMoveEvent=t,this.updateHitPoint(t)},t.prototype.updateHitPoint=function(t){var e,n,o,r=this.pickClosestSeriesNodeDatum(t.offsetX,t.offsetY);if(r){var i=this.highlightedDatum;this.highlightedDatum=r,(this.highlightedDatum&&!i||this.highlightedDatum&&i&&this.highlightedDatum!==i)&&(this.highlightDatum(r),this.updateCrosshairs(),this.scene.render()),(null===(o=null===(n=null===(e=this.processedOptions)||void 0===e?void 0:e.tooltip)||void 0===n?void 0:n.enabled)||void 0===o||o)&&this.handleTooltip(t,r)}},t.prototype.onMouseOut=function(t){this.dehighlightDatum(),this.tooltip.toggle(!1),this.scene.render()},t.prototype.processData=function(){var t=this,e=this,n=e.data,o=e.yData,r=e.xData;if(n&&!this.invalidData(this.data)){o.length=0,r.length=0;var i=n.length,s=this.getDataType(n);this.dataType=s;var a,l=this.axis.type,c="number"!==l&&"time"!==l?"category":l,u="number"===c||"time"===c,d=function(e,n){null==t.smallestInterval&&(t.smallestInterval={x:1/0,y:1/0});var o=t.smallestInterval.x,r=Math.abs(e-n);r>0&&r<o&&(t.smallestInterval.x=r)};if("number"===s)for(var p=0;p<i;p++){var h=p,f=n[p],g=this.getDatum(h,c),_=this.getDatum(f,"number");u&&d(g,a),r.push(g),o.push(_),a=g}else if("array"===s)for(p=0;p<i;p++){var m=n[p];if(Array.isArray(m)){h=m[0],f=m[1],g=this.getDatum(h,c),_=this.getDatum(f,"number");if(null==g)continue;u&&d(g,a),r.push(g),o.push(_),a=g}}else if("object"===s){var y=this.yKey,v=this.xKey;for(p=0;p<i;p++){if("object"==typeof(m=n[p])&&!Array.isArray(m)){h=m[v],f=m[y],g=this.getDatum(h,c),_=this.getDatum(f,"number");if(null==g)continue;u&&d(g,a),r.push(g),o.push(_),a=g}}}this.updateAxes(),this.update(),this.scene.render()}},t.prototype.getDataType=function(t){var e,n;try{for(var o=__values(t),r=o.next();!r.done;r=o.next()){var i=r.value;if(null!=i){if(isNumber$3(i))return"number";if(Array.isArray(i))return"array";if("object"==typeof i)return"object"}}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},t.prototype.getDatum=function(t,e){if("number"===e&&isNumber$3(t)||"time"===e&&(isNumber$3(t)||isDate(t)))return t;if("category"===e){if(isString(t)||isDate(t)||isNumber$3(t))return{toString:function(){return String(t)}};if(isStringObject(t))return t}},Object.defineProperty(t.prototype,"layoutScheduled",{get:function(){return!!this.layoutId},enumerable:!1,configurable:!0}),t.prototype.scheduleLayout=function(){var t=this;this.layoutId&&cancelAnimationFrame(this.layoutId),this.layoutId=requestAnimationFrame((function(){t.setSparklineDimensions(),t.invalidData(t.data)||(t.updateXScaleRange(),t.updateYScaleRange(),t.updateAxisLine(),t.update(),t.scene.render(),t.layoutId=0)}))},t.prototype.setSparklineDimensions=function(){var t=this,e=t.width,n=t.height,o=t.padding,r=t.seriesRect,i=t.rootGroup,s=e-o.left-o.right,a=n-o.top-o.bottom;r.width=s,r.height=a,r.x=o.left,r.y=o.top,i.translationX=r.x,i.translationY=r.y},t.prototype.pickClosestSeriesNodeDatum=function(t,e){for(var n,o=1/0,r=this.rootGroup.transformPoint(t,e),i=this.getNodeData(),s=0;s<i.length;s++){var a=i[s];if(!a.point)return;var l=this.getDistance(r,a.point);l<=o&&(o=l,n=a)}return n},t.prototype.getDistance=function(t,e){return Math.abs(t.x-e.x)},t.prototype.handleTooltip=function(t,e){var n,o,r=e.seriesDatum,i=this.canvasElement,s=t.clientX,a=t.clientY,l=null===(n=this.processedOptions)||void 0===n?void 0:n.tooltip,c={pageX:s,pageY:a,position:{xOffset:null==l?void 0:l.xOffset,yOffset:null==l?void 0:l.yOffset},container:null==l?void 0:l.container};null==c.container&&(c.container=i);var u=r.y,d=r.x,p=null===(o=null==l?void 0:l.enabled)||void 0===o||o,h=null==l?void 0:l.renderer;if(h){var f=h({context:this.context,datum:r,yValue:u,xValue:d});p="string"!=typeof f&&void 0!==f.enabled?f.enabled:p}var g=p&&void 0!==r.y&&this.getTooltipHtml(e);g&&this.tooltip.show(c,g)},t.prototype.formatNumericDatum=function(t){return String(Math.round(10*t)/10)},t.prototype.formatDatum=function(t){var e=this.axis.type||"category";return"number"===e&&"number"==typeof t?this.formatNumericDatum(t):"time"===e&&(t instanceof Date||isNumber$3(t))?this.defaultDateFormatter.format(t):String(t)},t.prototype.setupDomEventListeners=function(t){t.addEventListener("mousemove",this._onMouseMove),t.addEventListener("mouseout",this._onMouseOut)},t.prototype.cleanupDomEventListeners=function(t){t.removeEventListener("mousemove",this._onMouseMove),t.removeEventListener("mouseout",this._onMouseOut)},t.prototype.invalidData=function(t){return!t||!Array.isArray(t)||0===t.length},t.prototype.destroy=function(){this.scene.container=void 0,this.container=void 0,this.cleanupDomEventListeners(this.scene.canvas.element)},t.tooltipDocuments=[],t}();function toTooltipHtml(t,e){if("string"==typeof t)return t;e=e||{};var n,o,r=t.content,i=void 0===r?e.content||"":r,s=t.title,a=void 0===s?e.title||void 0:s,l=t.color,c=void 0===l?e.color:l,u=t.backgroundColor,d=void 0===u?e.backgroundColor:u,p=t.opacity,h=void 0===p?e.opacity||1:p;c?(n=a?'<span class="'+SparklineTooltip.class+'-title"; style="color: '+c+'">'+a+"</span>":"",o='<span class="'+SparklineTooltip.class+'-content" style="color: '+c+'">'+i+"</span>"):(n=a?'<span class="'+SparklineTooltip.class+'-title">'+a+"</span>":"",o='<span class="'+SparklineTooltip.class+'-content">'+i+"</span>");var f="opacity: "+h;return d&&(f+="; background-color: "+d.toLowerCase()),'<div class="'+SparklineTooltip.class+'" style="'+f+'">\n                '+n+"\n                "+o+"\n            </div>"}var SparklineTooltip=function(){function t(){this.element=document.createElement("div"),document.body.appendChild(this.element)}return t.prototype.isVisible=function(){var e=this.element;if(e.classList)return!e.classList.contains(t.class+"-wrapper-hidden");var n=e.getAttribute("class");return!!n&&n.split(" ").indexOf(t.class+"-wrapper-hidden")<0},t.prototype.updateClass=function(e){var n=[t.class+"-wrapper"];!0!==e&&n.push(t.class+"-wrapper-hidden"),this.element.setAttribute("class",n.join(" "))},t.prototype.show=function(t,e){var n,o,r,i;this.toggle(!1);var s=this.element;if(void 0!==e)s.innerHTML=e;else if(!s.innerHTML)return;var a=null!==(o=null===(n=t.position)||void 0===n?void 0:n.xOffset)&&void 0!==o?o:10,l=null!==(i=null===(r=t.position)||void 0===r?void 0:r.yOffset)&&void 0!==i?i:0,c=t.pageX+a,u=t.pageY+l,d=s.getBoundingClientRect(),p=window.innerWidth-d.width;if(t.container){var h=t.container.getBoundingClientRect();p=h.left+(h.width-d.width)}c>p&&(c=t.pageX-s.clientWidth-a),"undefined"!=typeof scrollX&&(c+=scrollX),"undefined"!=typeof scrollY&&(u+=scrollY),s.style.left=Math.round(c)+"px",s.style.top=Math.round(u)+"px",this.toggle(!0)},t.prototype.toggle=function(t){this.updateClass(t)},t.prototype.destroy=function(){var t=this.element.parentNode;t&&t.removeChild(this.element)},t.class="ag-sparkline-tooltip",t}();function getMarker(t){switch(t){case"circle":default:return Circle;case"square":return Square;case"diamond":return Diamond}}function getLineDash(t,e){void 0===e&&(e="solid");var n={solid:[],dash:[4,3],dot:[1,3],dashDot:[4,3,1,3],dashDotDot:[4,3,1,3,1,3],shortDot:[1,1],shortDash:[3,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],longDash:[8,3],longDashDot:[8,3,1,3],longDashDotDot:[8,3,1,3,1,3]},o={solid:[],dash:[3,3],dot:[0,3],dashDot:[3,3,0,3],dashDotDot:[3,3,0,3,0,3],shortDot:[0,2],shortDash:[2,2],shortDashDot:[2,2,0,2],shortDashDotDot:[2,2,0,2,0,2],longDash:[7,3],longDashDot:[7,3,0,3],longDashDotDot:[7,3,0,3,0,3]};return"round"===t||"square"===t?null==o[e]?(console.warn("'"+e+"' is not a valid 'lineDash' option."),o.solid):o[e]:null==n[e]?(console.warn("'"+e+"' is not a valid 'lineDash' option."),n.solid):n[e]}var __extends$6=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),extent$2=extent$4,BandScale$3=BandScale$5,SparklineMarker$1=function(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0},SparklineLine$1=function(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1},SparklineCrosshairs$1=function(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}},AreaSparkline=function(t){function e(){var e=t.call(this)||this;return e.fill="rgba(124, 181, 236, 0.25)",e.strokePath=new Path,e.fillPath=new Path,e.xCrosshairLine=new Line,e.yCrosshairLine=new Line,e.areaSparklineGroup=new Group,e.xAxisLine=new Line,e.markers=new Group,e.markerSelection=Selection.select(e.markers,(function(){return e.markerFactory()})),e.markerSelectionData=[],e.marker=new SparklineMarker$1,e.line=new SparklineLine$1,e.crosshairs=new SparklineCrosshairs$1,e.rootGroup.append(e.areaSparklineGroup),e.xAxisLine.zIndex=ZINDICIES.AXIS_LINE_ZINDEX,e.fillPath.zIndex=ZINDICIES.SERIES_FILL_ZINDEX,e.strokePath.zIndex=ZINDICIES.SERIES_STROKE_ZINDEX,e.xCrosshairLine.zIndex=ZINDICIES.CROSSHAIR_ZINDEX,e.yCrosshairLine.zIndex=ZINDICIES.CROSSHAIR_ZINDEX,e.markers.zIndex=ZINDICIES.SERIES_MARKERS_ZINDEX,e.areaSparklineGroup.append([e.fillPath,e.xAxisLine,e.strokePath,e.xCrosshairLine,e.yCrosshairLine,e.markers]),e}return __extends$6(e,t),e.prototype.markerFactory=function(){return new(getMarker(this.marker.shape))},e.prototype.getNodeData=function(){return this.markerSelectionData},e.prototype.update=function(){var t=this.generateNodeData();if(t){var e=t.nodeData,n=t.fillData,o=t.strokeData;this.markerSelectionData=e,this.updateSelection(e),this.updateNodes(),this.updateStroke(o),this.updateFill(n)}},e.prototype.updateYScaleDomain=function(){var t=this.yData,e=this.yScale,n=extent$2(t),o=0,r=1;void 0!==n&&(o=this.min=n[0],r=this.max=n[1]),o=o<0?o:0,r=r<0?0:r,e.domain=[o,r]},e.prototype.generateNodeData=function(){var t=this,e=t.data,n=t.yData,o=t.xData,r=t.xScale,i=t.yScale;if(e){for(var s,a,l,c,u=!(r instanceof BandScale$3),d=u?0:r.bandwidth/2,p=n.length,h=[],f=[],g=[],_=i.convert(0),m=0;m<p;m++){var y=n[m],v=o[m],C=r.convert(u?r.toDomain(v):v)+d,E=void 0===y?NaN:i.convert(y);m+1<p&&(c=r.convert(u?r.toDomain(o[m+1]):o[m+1])+d),g.push({seriesDatum:{x:v,y},point:{x:C,y:E}}),void 0===y&&void 0!==l?(f.push({seriesDatum:void 0,point:{x:l,y:_}}),void 0!==c&&f.push({seriesDatum:void 0,point:{x:c,y:_}})):void 0!==y&&(f.push({seriesDatum:{x:v,y},point:{x:C,y:E}}),h.push({seriesDatum:{x:v,y},point:{x:C,y:E}}),s=void 0!==s?s:C,a=C),l=C}return f.push({seriesDatum:void 0,point:{x:a,y:_}},{seriesDatum:void 0,point:{x:s,y:_}}),{nodeData:h,fillData:f,strokeData:g}}},e.prototype.updateAxisLine=function(){var t=this,e=t.xScale,n=t.yScale,o=t.axis,r=t.xAxisLine;r.x1=e.range[0],r.x2=e.range[1],r.y1=r.y2=0,r.stroke=o.stroke,r.strokeWidth=o.strokeWidth;var i=n.convert(0);r.translationY=i},e.prototype.updateSelection=function(t){this.markerSelection.update(t)},e.prototype.updateNodes=function(){var t=this,e=this,n=e.highlightedDatum,o=e.highlightStyle,r=e.marker,i=o.size,s=o.fill,a=o.stroke,l=o.strokeWidth,c=r.formatter;this.markerSelection.each((function(e,o,u){var d=o.point,p=o.seriesDatum;if(d){var h,f=o===n,g=f&&void 0!==s?s:r.fill,_=f&&void 0!==a?a:r.stroke,m=f&&void 0!==l?l:r.strokeWidth,y=f&&void 0!==i?i:r.size;if(c){var v=0===u,C=u===t.markerSelectionData.length-1,E=p.y===t.min,b=p.y===t.max;h=c({datum:o,xValue:p.x,yValue:p.y,min:E,max:b,first:v,last:C,fill:g,stroke:_,strokeWidth:m,size:y,highlighted:f})}e.size=h&&null!=h.size?h.size:y,e.fill=h&&null!=h.fill?h.fill:g,e.stroke=h&&null!=h.stroke?h.stroke:_,e.strokeWidth=h&&null!=h.strokeWidth?h.strokeWidth:m,e.translationX=d.x,e.translationY=d.y,e.visible=h&&null!=h.enabled?h.enabled:r.enabled&&e.size>0}}))},e.prototype.updateStroke=function(t){var e=this,n=e.strokePath,o=e.yData,r=e.line;if(!(o.length<2)){var i=n.path,s=t.length,a=!0;i.clear();for(var l=0;l<s;l++){var c=t[l],u=c.point,d=c.seriesDatum,p=u.x,h=u.y;null==d.y?a=!0:a?(i.moveTo(p,h),a=!1):i.lineTo(p,h)}n.lineJoin=n.lineCap="round",n.fill=void 0,n.stroke=r.stroke,n.strokeWidth=r.strokeWidth}},e.prototype.updateFill=function(t){var e=this,n=e.fillPath,o=e.yData,r=e.fill,i=n.path,s=t.length;if(i.clear(),!(o.length<2)){for(var a=0;a<s;a++){var l=t[a].point,c=l.x,u=l.y;a>0?i.lineTo(c,u):i.moveTo(c,u)}i.closePath(),n.lineJoin="round",n.stroke=void 0,n.fill=r}},e.prototype.updateXCrosshairLine=function(){var t=this,e=t.yScale,n=t.xCrosshairLine,o=t.highlightedDatum,r=t.crosshairs.xLine;if(r.enabled&&null!=o){n.y1=e.range[0],n.y2=e.range[1],n.x1=n.x2=0,n.stroke=r.stroke,n.strokeWidth=r.strokeWidth||1,n.lineCap="round"===r.lineCap||"square"===r.lineCap?r.lineCap:void 0;var i=r.lineDash;n.lineDash=Array.isArray(i)?i:getLineDash(n.lineCap,r.lineDash),n.translationX=o.point.x}else n.strokeWidth=0},e.prototype.updateYCrosshairLine=function(){var t=this,e=t.xScale,n=t.yCrosshairLine,o=t.highlightedDatum,r=t.crosshairs.yLine;if(r.enabled&&null!=o){n.x1=e.range[0],n.x2=e.range[1],n.y1=n.y2=0,n.stroke=r.stroke,n.strokeWidth=r.strokeWidth||1,n.lineCap="round"===r.lineCap||"square"===r.lineCap?r.lineCap:void 0;var i=r.lineDash;n.lineDash=Array.isArray(i)?i:getLineDash(n.lineCap,r.lineDash),n.translationY=o.point.y}else n.strokeWidth=0},e.prototype.getTooltipHtml=function(t){var e,n,o=this.dataType,r=t.seriesDatum,i=r.y,s=r.x,a={content:this.formatNumericDatum(i),title:"array"===o||"object"===o?this.formatDatum(s):void 0},l=null===(n=null===(e=this.processedOptions)||void 0===e?void 0:e.tooltip)||void 0===n?void 0:n.renderer;return l?toTooltipHtml(l({context:this.context,datum:r,yValue:i,xValue:s}),a):toTooltipHtml(a)},e.className="AreaSparkline",e}(Sparkline),__extends$5=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),extent$1=extent$4,BandScale$2=BandScale$5,SparklineMarker=function(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0},SparklineLine=function(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1},SparklineCrosshairs=function(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}},LineSparkline=function(t){function e(){var e=t.call(this)||this;return e.linePath=new Path,e.xCrosshairLine=new Line,e.yCrosshairLine=new Line,e.lineSparklineGroup=new Group,e.markers=new Group,e.markerSelection=Selection.select(e.markers,(function(){return e.markerFactory()})),e.markerSelectionData=[],e.marker=new SparklineMarker,e.line=new SparklineLine,e.crosshairs=new SparklineCrosshairs,e.rootGroup.append(e.lineSparklineGroup),e.linePath.zIndex=ZINDICIES.SERIES_STROKE_ZINDEX,e.xCrosshairLine.zIndex=ZINDICIES.CROSSHAIR_ZINDEX,e.yCrosshairLine.zIndex=ZINDICIES.CROSSHAIR_ZINDEX,e.markers.zIndex=ZINDICIES.SERIES_MARKERS_ZINDEX,e.lineSparklineGroup.append([e.linePath,e.xCrosshairLine,e.yCrosshairLine,e.markers]),e}return __extends$5(e,t),e.prototype.getNodeData=function(){return this.markerSelectionData},e.prototype.markerFactory=function(){return new(getMarker(this.marker.shape))},e.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.clear(),this.scheduleLayout()},e.prototype.update=function(){var t=this.generateNodeData();t&&(this.markerSelectionData=t,this.updateSelection(t),this.updateNodes(),this.updateLine())},e.prototype.updateYScaleDomain=function(){var t=this.yData,e=this.yScale,n=extent$1(t),o=0,r=1;if(void 0!==n&&(o=this.min=n[0],r=this.max=n[1]),o===r){var i=Math.abs(.01*o);o-=i,r+=i}e.domain=[o,r]},e.prototype.generateNodeData=function(){var t=this,e=t.data,n=t.yData,o=t.xData,r=t.xScale,i=t.yScale;if(e){for(var s=!(r instanceof BandScale$2),a=s?0:r.bandwidth/2,l=[],c=0;c<n.length;c++){var u=n[c],d=o[c];if(null!=u){var p=r.convert(s?r.toDomain(d):d)+a,h=void 0===u?NaN:i.convert(u);l.push({seriesDatum:{x:d,y:u},point:{x:p,y:h}})}}return l}},e.prototype.updateSelection=function(t){this.markerSelection.update(t)},e.prototype.updateNodes=function(){var t=this,e=this,n=e.highlightedDatum,o=e.highlightStyle,r=e.marker,i=o.size,s=o.fill,a=o.stroke,l=o.strokeWidth,c=r.formatter;this.markerSelection.each((function(e,o,u){var d,p=o===n,h=p&&void 0!==s?s:r.fill,f=p&&void 0!==a?a:r.stroke,g=p&&void 0!==l?l:r.strokeWidth,_=p&&void 0!==i?i:r.size,m=o.seriesDatum,y=o.point;if(c){var v=0===u,C=u===t.markerSelectionData.length-1,E=m.y===t.min,b=m.y===t.max;d=c({datum:o,xValue:m.x,yValue:m.y,min:E,max:b,first:v,last:C,fill:h,stroke:f,strokeWidth:g,size:_,highlighted:p})}e.size=d&&null!=d.size?d.size:_,e.fill=d&&null!=d.fill?d.fill:h,e.stroke=d&&null!=d.stroke?d.stroke:f,e.strokeWidth=d&&null!=d.strokeWidth?d.strokeWidth:g,e.translationX=y.x,e.translationY=y.y,e.visible=d&&null!=d.enabled?d.enabled:r.enabled&&e.size>0}))},e.prototype.updateLine=function(){var t=this,e=t.linePath,n=t.yData,o=t.xData,r=t.xScale,i=t.yScale,s=t.line;if(!(n.length<2)){var a=!(r instanceof BandScale$2),l=e.path,c=n.length,u=a?0:r.bandwidth/2,d=!0;l.clear();for(var p=0;p<c;p++){var h=o[p],f=n[p],g=r.convert(a?r.toDomain(h):h)+u,_=void 0===f?NaN:i.convert(f);null==f?d=!0:d?(l.moveTo(g,_),d=!1):l.lineTo(g,_)}e.fill=void 0,e.stroke=s.stroke,e.strokeWidth=s.strokeWidth}},e.prototype.updateXCrosshairLine=function(){var t=this,e=t.yScale,n=t.xCrosshairLine,o=t.highlightedDatum,r=t.crosshairs.xLine;if(r.enabled&&null!=o){n.y1=e.range[0],n.y2=e.range[1],n.x1=n.x2=0,n.stroke=r.stroke,n.strokeWidth=r.strokeWidth||1,n.lineCap="round"===r.lineCap||"square"===r.lineCap?r.lineCap:void 0;var i=r.lineDash;n.lineDash=Array.isArray(i)?i:getLineDash(n.lineCap,r.lineDash),n.translationX=o.point.x}else n.strokeWidth=0},e.prototype.updateYCrosshairLine=function(){var t=this,e=t.xScale,n=t.yCrosshairLine,o=t.highlightedDatum,r=t.crosshairs.yLine;if(r.enabled&&null!=o){n.x1=e.range[0],n.x2=e.range[1],n.y1=n.y2=0,n.stroke=r.stroke,n.strokeWidth=r.strokeWidth||1,n.lineCap="round"===r.lineCap||"square"===r.lineCap?r.lineCap:void 0;var i=r.lineDash;n.lineDash=Array.isArray(i)?i:getLineDash(n.lineCap,r.lineDash),n.translationY=o.point.y}else n.strokeWidth=0},e.prototype.getTooltipHtml=function(t){var e,n,o=this.dataType,r=t.seriesDatum,i=r.y,s=r.x,a={content:this.formatNumericDatum(i),title:"array"===o||"object"===o?this.formatDatum(s):void 0},l=null===(n=null===(e=this.processedOptions)||void 0===e?void 0:e.tooltip)||void 0===n?void 0:n.renderer;return l?toTooltipHtml(l({context:this.context,datum:r,yValue:i,xValue:s}),a):toTooltipHtml(a)},e.className="LineSparkline",e}(Sparkline),Label=function(){this.enabled=!0,this.fontSize=8,this.fontFamily="Verdana, sans-serif",this.fontStyle=void 0,this.fontWeight=void 0,this.color="rgba(70, 70, 70, 1)"},__extends$4=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),extent=extent$4,BarColumnNodeTag,BarColumnLabelPlacement;!function(t){t[t.Rect=0]="Rect",t[t.Label=1]="Label"}(BarColumnNodeTag||(BarColumnNodeTag={})),function(t){t.InsideBase="insideBase",t.InsideEnd="insideEnd",t.Center="center",t.OutsideEnd="outsideEnd"}(BarColumnLabelPlacement||(BarColumnLabelPlacement={}));var BarColumnLabel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e.placement=BarColumnLabelPlacement.InsideEnd,e}return __extends$4(e,t),e}(Label),BarColumnSparkline=function(t){function e(){var e=t.call(this)||this;return e.fill="rgb(124, 181, 236)",e.stroke="silver",e.strokeWidth=0,e.paddingInner=.1,e.paddingOuter=.2,e.valueAxisDomain=void 0,e.formatter=void 0,e.axisLine=new Line,e.bandWidth=0,e.sparklineGroup=new Group,e.rectGroup=new Group,e.labelGroup=new Group,e.rectSelection=Selection.select(e.rectGroup,Rect),e.labelSelection=Selection.select(e.labelGroup,Text),e.nodeSelectionData=[],e.label=new BarColumnLabel,e.rootGroup.append(e.sparklineGroup),e.rectGroup.zIndex=ZINDICIES.SERIES_FILL_ZINDEX,e.axisLine.zIndex=ZINDICIES.AXIS_LINE_ZINDEX,e.labelGroup.zIndex=ZINDICIES.SERIES_LABEL_ZINDEX,e.sparklineGroup.append([e.rectGroup,e.axisLine,e.labelGroup]),e.axisLine.lineCap="round",e.label.enabled=!1,e}return __extends$4(e,t),e.prototype.getNodeData=function(){return this.nodeSelectionData},e.prototype.update=function(){this.updateSelections(),this.updateNodes()},e.prototype.updateSelections=function(){var t=this.generateNodeData();t&&(this.nodeSelectionData=t,this.updateRectSelection(t),this.updateLabelSelection(t))},e.prototype.updateNodes=function(){this.updateRectNodes(),this.updateLabelNodes()},e.prototype.calculateStep=function(t){var e,n=this,o=n.xScale,r=n.paddingInner,i=n.paddingOuter,s=n.smallestInterval,a=(o.domain[1]-o.domain[0])/(null!==(e=null==s?void 0:s.x)&&void 0!==e?e:1)+1,l=Math.min(a,50),c=l-1;return t/Math.max(1,2*i+c*r+l)},e.prototype.updateYScaleDomain=function(){var t=this,e=t.yScale,n=t.yData,o=t.valueAxisDomain,r=extent(n),i=0,s=1;void 0!==r&&(i=this.min=r[0],s=this.max=r[1]),i=i<0?i:0,s=s<0?0:s,o&&(o[1]<s&&(o[1]=s),o[0]>i&&(o[0]=i)),e.domain=o||[i,s]},e.prototype.updateRectSelection=function(t){this.rectSelection.update(t)},e.prototype.updateRectNodes=function(){var t=this,e=this,n=e.highlightedDatum,o=e.formatter,r=e.fill,i=e.stroke,s=e.strokeWidth,a=this.highlightStyle,l=a.fill,c=a.stroke,u=a.strokeWidth;this.rectSelection.each((function(e,a,d){var p,h=a===n,f=h&&void 0!==l?l:r,g=h&&void 0!==c?c:i,_=h&&void 0!==u?u:s,m=a.x,y=a.y,v=a.width,C=a.height,E=a.seriesDatum;if(o){var b=0===d,S=d===t.nodeSelectionData.length-1,w=E.y===t.min,O=E.y===t.max;p=o({datum:a,xValue:E.x,yValue:E.y,width:v,height:C,min:w,max:O,first:b,last:S,fill:f,stroke:g,strokeWidth:_,highlighted:h})}e.fill=p&&p.fill||f,e.stroke=p&&p.stroke||g,e.strokeWidth=p&&p.strokeWidth||_,e.x=e.y=0,e.width=v,e.height=C,e.visible=e.height>0,e.translationX=m,e.translationY=y}))},e.prototype.updateLabelSelection=function(t){this.labelSelection.update(t,(function(t){t.tag=BarColumnNodeTag.Label,t.pointerEvents=PointerEvents.None}))},e.prototype.updateLabelNodes=function(){var t=this.label,e=t.enabled,n=t.fontStyle,o=t.fontWeight,r=t.fontSize,i=t.fontFamily,s=t.color;this.labelSelection.each((function(t,a){var l=a.label;l&&e?(t.fontStyle=n,t.fontWeight=o,t.fontSize=r,t.fontFamily=i,t.textAlign=l.textAlign,t.textBaseline=l.textBaseline,t.text=l.text,t.x=l.x,t.y=l.y,t.fill=s,t.visible=!0):t.visible=!1}))},e.prototype.getTooltipHtml=function(t){var e,n,o=this.dataType,r=t.seriesDatum,i=r.y,s=r.x,a={content:this.formatNumericDatum(i),title:"array"===o||"object"===o?this.formatDatum(s):void 0},l=null===(n=null===(e=this.processedOptions)||void 0===e?void 0:e.tooltip)||void 0===n?void 0:n.renderer;return l?toTooltipHtml(l({context:this.context,datum:r,yValue:i,xValue:s}),a):toTooltipHtml(a)},e.prototype.formatLabelValue=function(t){return t%1!=0?t.toFixed(1):t.toFixed(0)},e}(Sparkline),__extends$3=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),isNumber$2=isNumber$4,BandScale$1=BandScale$5,BarSparkline=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$3(e,t),e.prototype.updateYScaleRange=function(){var t=this.seriesRect;this.yScale.range=[0,t.width]},e.prototype.updateXScaleRange=function(){var t=this,e=t.xScale,n=t.seriesRect,o=t.paddingOuter,r=t.paddingInner;if(e instanceof BandScale$1)e.range=[0,n.height],e.paddingInner=r,e.paddingOuter=o;else{var i=this.calculateStep(n.height),s=i*o;this.bandWidth=i*(1-r),e.range=[s,n.height-s-this.bandWidth]}},e.prototype.updateAxisLine=function(){var t=this,e=t.yScale,n=t.axis,o=t.axisLine,r=t.seriesRect,i=n.strokeWidth;o.x1=0,o.x2=0,o.y1=0,o.y2=r.height,o.stroke=n.stroke,o.strokeWidth=i+(i%2==1?1:0);var s=e.convert(0);o.translationX=s},e.prototype.generateNodeData=function(){var t=this,e=t.data,n=t.yData,o=t.xData,r=t.xScale,i=t.yScale,s=t.fill,a=t.stroke,l=t.strokeWidth,c=t.label;if(e){for(var u=c.fontStyle,d=c.fontWeight,p=c.fontSize,h=c.fontFamily,f=c.color,g=c.formatter,_=c.placement,m=[],y=i.convert(0),v=!(r instanceof BandScale$1),C=0,E=n.length;C<E;C++){var b=n[C],S=o[C],w=void 0===b;w&&(b=0);var O=r.convert(v?r.toDomain(S):S),P=Math.min(void 0===b?NaN:i.convert(b),y),T=Math.max(void 0===b?NaN:i.convert(b),y),R=v?this.bandWidth:r.bandwidth,D=T-P,x={x:y,y:O},M=void 0;M=g?g({value:b}):void 0!==b&&isNumber$2(b)?this.formatLabelValue(b):"";var A=O+R/2,L=void 0,I=void 0,N=void 0!==b&&b>=0;if(_===BarColumnLabelPlacement.Center)L=P+D/2,I="center";else if(_===BarColumnLabelPlacement.OutsideEnd)L=P+(N?D+4:-4),I=N?"start":"end";else if(_===BarColumnLabelPlacement.InsideEnd){L=P+(N?D-4:4),I=N?"end":"start";var k=HdpiCanvas.getTextSize(M,h).width||20;(N&&L<y+k||!N&&L>y-k)&&(L=y+4*(N?1:-1),I=N?"start":"end")}else L=y+4*(N?1:-1),I=N?"start":"end";m.push({x:P,y:O,width:D,height:R,fill:s,stroke:a,strokeWidth:l,seriesDatum:{x:S,y:w?void 0:b},point:x,label:{x:L,y:A,text:M,fontStyle:u,fontWeight:d,fontSize:p,fontFamily:h,textAlign:I,textBaseline:"middle",fill:f}})}return m}},e.prototype.getDistance=function(t,e){return Math.abs(t.y-e.y)},e.className="BarSparkline",e}(BarColumnSparkline),__extends$2=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),isNumber$1=isNumber$4,BandScale=BandScale$5,ColumnSparkline=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2(e,t),e.prototype.updateYScaleRange=function(){var t=this.seriesRect;this.yScale.range=[t.height,0]},e.prototype.updateXScaleRange=function(){var t=this,e=t.xScale,n=t.seriesRect,o=t.paddingOuter,r=t.paddingInner;if(e instanceof BandScale)e.range=[0,n.width],e.paddingInner=r,e.paddingOuter=o;else{var i=this.calculateStep(n.width),s=i*o;this.bandWidth=i*(1-r),e.range=[s,n.width-s-this.bandWidth]}},e.prototype.updateAxisLine=function(){var t=this,e=t.yScale,n=t.axis,o=t.axisLine,r=t.seriesRect,i=n.strokeWidth;o.x1=0,o.x2=r.width,o.y1=0,o.y2=0,o.stroke=n.stroke,o.strokeWidth=i+(i%2==1?1:0);var s=e.convert(0);o.translationY=s},e.prototype.generateNodeData=function(){var t=this,e=t.data,n=t.yData,o=t.xData,r=t.xScale,i=t.yScale,s=t.fill,a=t.stroke,l=t.strokeWidth,c=t.label;if(e){for(var u=c.fontStyle,d=c.fontWeight,p=c.fontSize,h=c.fontFamily,f=c.color,g=c.formatter,_=c.placement,m=[],y=i.convert(0),v=!(r instanceof BandScale),C=0,E=n.length;C<E;C++){var b=n[C],S=o[C],w=void 0===b;w&&(b=0);var O=Math.min(void 0===b?NaN:i.convert(b),y),P=r.convert(v?r.toDomain(S):S),T=Math.max(void 0===b?NaN:i.convert(b),y),R=v?this.bandWidth:r.bandwidth,D=T-O,x={x:P+R/2,y},M=void 0;M=g?g({value:b}):void 0!==b&&isNumber$1(b)?this.formatLabelValue(b):"";var A=P+R/2,L=void 0,I=void 0,N=void 0!==b&&b>=0;if(_===BarColumnLabelPlacement.Center)L=O+D/2,I="middle";else if(_===BarColumnLabelPlacement.OutsideEnd)L=O+(N?-2:D+2),I=N?"bottom":"top";else if(_===BarColumnLabelPlacement.InsideEnd){L=O+(N?2:D-2),I=N?"top":"bottom";var k=HdpiCanvas.getTextSize(M,h).height||10;(N&&L>y-k||!N&&L<y+k)&&(L=y+2*(N?-1:1),I=N?"bottom":"top")}else L=y+2*(N?-1:1),I=N?"bottom":"top";m.push({x:P,y:O,width:R,height:D,fill:s,stroke:a,strokeWidth:l,seriesDatum:{x:S,y:w?void 0:b},point:x,label:{x:A,y:L,text:M,fontStyle:u,fontWeight:d,fontSize:p,fontFamily:h,textAlign:"center",textBaseline:I,fill:f}})}return m}},e.className="ColumnSparkline",e}(BarColumnSparkline),isNumber=isNumber$4,AgSparkline=function(){function t(){}return t.create=function(t,e){var n=getSparklineInstance((t=jsonMerge([t])).type);return e&&(n.tooltip=e),initSparkline(n,t),initSparklineByType(n,t),t.data&&(n.data=t.data),n.processedOptions=t,n},t}();function getSparklineInstance(t){switch(void 0===t&&(t="line"),t){case"column":return new ColumnSparkline;case"bar":return new BarSparkline;case"area":return new AreaSparkline;default:return new LineSparkline}}function initSparklineByType(t,e){switch(e.type){case"bar":case"column":initBarColumnSparkline(t,e);break;case"area":initAreaSparkline(t,e);break;default:initLineSparkline(t,e)}}function initSparkline(t,e){setValueIfPropertyExists(t,"context",e.context,e),setValueIfPropertyExists(t,"width",e.width,e),setValueIfPropertyExists(t,"height",e.height,e),setValueIfPropertyExists(t,"container",e.container,e),setValueIfPropertyExists(t,"xKey",e.xKey,e),setValueIfPropertyExists(t,"yKey",e.yKey,e),e.padding&&initPaddingOptions(t.padding,e.padding),e.axis&&initAxisOptions(t.axis,e.axis),e.highlightStyle&&initHighlightStyleOptions(t.highlightStyle,e.highlightStyle)}function initLineSparkline(t,e){e.marker&&initMarkerOptions(t.marker,e.marker),e.line&&initLineOptions(t.line,e.line),e.crosshairs&&initCrosshairsOptions(t.crosshairs,e.crosshairs)}function initAreaSparkline(t,e){setValueIfPropertyExists(t,"fill",e.fill,e),e.marker&&initMarkerOptions(t.marker,e.marker),e.line&&initLineOptions(t.line,e.line),e.crosshairs&&initCrosshairsOptions(t.crosshairs,e.crosshairs)}function initBarColumnSparkline(t,e){setValueIfPropertyExists(t,"valueAxisDomain",e.valueAxisDomain,e),setValueIfPropertyExists(t,"fill",e.fill,e),setValueIfPropertyExists(t,"stroke",e.stroke,e),setValueIfPropertyExists(t,"strokeWidth",e.strokeWidth,e),setValueIfPropertyExists(t,"paddingInner",e.paddingInner,e),setValueIfPropertyExists(t,"paddingOuter",e.paddingOuter,e),setValueIfPropertyExists(t,"formatter",e.formatter,e),e.label&&initLabelOptions(t.label,e.label)}function initPaddingOptions(t,e){setValueIfPropertyExists(t,"top",e.top,e),setValueIfPropertyExists(t,"right",e.right,e),setValueIfPropertyExists(t,"bottom",e.bottom,e),setValueIfPropertyExists(t,"left",e.left,e)}function initMarkerOptions(t,e){setValueIfPropertyExists(t,"enabled",e.enabled,e),setValueIfPropertyExists(t,"size",e.size,e),setValueIfPropertyExists(t,"shape",e.shape,e),setValueIfPropertyExists(t,"fill",e.fill,e),setValueIfPropertyExists(t,"stroke",e.stroke,e),setValueIfPropertyExists(t,"strokeWidth",e.strokeWidth,e),setValueIfPropertyExists(t,"formatter",e.formatter,e)}function initLabelOptions(t,e){setValueIfPropertyExists(t,"enabled",e.enabled,e),setValueIfPropertyExists(t,"fontStyle",e.fontStyle,e),setValueIfPropertyExists(t,"fontWeight",e.fontWeight,e),setValueIfPropertyExists(t,"fontSize",e.fontSize,e),setValueIfPropertyExists(t,"fontFamily",e.fontFamily,e),setValueIfPropertyExists(t,"textAlign",e.textAlign,e),setValueIfPropertyExists(t,"textBaseline",e.textBaseline,e),setValueIfPropertyExists(t,"color",e.color,e),setValueIfPropertyExists(t,"formatter",e.formatter,e),setValueIfPropertyExists(t,"placement",e.placement,e)}function initLineOptions(t,e){setValueIfPropertyExists(t,"stroke",e.stroke,e),setValueIfPropertyExists(t,"strokeWidth",e.strokeWidth,e)}function initAxisOptions(t,e){setValueIfPropertyExists(t,"type",e.type,e),setValueIfPropertyExists(t,"stroke",e.stroke,e),setValueIfPropertyExists(t,"strokeWidth",e.strokeWidth,e)}function initHighlightStyleOptions(t,e){setValueIfPropertyExists(t,"fill",e.fill,e),setValueIfPropertyExists(t,"size",e.size,e),setValueIfPropertyExists(t,"stroke",e.stroke,e),setValueIfPropertyExists(t,"strokeWidth",e.strokeWidth,e)}function initCrosshairsOptions(t,e){t.xLine&&e.xLine&&initCrosshairLineOptions(t.xLine,e.xLine),t.yLine&&e.yLine&&initCrosshairLineOptions(t.yLine,e.yLine)}function initCrosshairLineOptions(t,e){setValueIfPropertyExists(t,"enabled",e.enabled,e),setValueIfPropertyExists(t,"stroke",e.stroke,e),setValueIfPropertyExists(t,"strokeWidth",e.strokeWidth,e),setValueIfPropertyExists(t,"lineDash",e.lineDash,e),setValueIfPropertyExists(t,"lineCap",e.lineCap,e)}var doOnceFlags={};function doOnce(t,e){doOnceFlags[e]||(t(),doOnceFlags[e]=!0)}var offsetValidator=function(t,e,n){if(isNumber(e))return!0;var o="AG Charts: "+t+" must be a number, the value you provided is not a valid number. Using the default of "+n+"px.";return doOnce((function(){return console.warn(o)}),t+" not a number"),!1},validators={xOffset:offsetValidator,yOffset:offsetValidator};function setValueIfPropertyExists(t,e,n,o){if(e in o)if(e in t){var r=validators[e];(!r||r(e,n,t[e]))&&t[e]!==n&&(t[e]=n)}else console.warn("Property "+e+" does not exist on the target object.")}var __extends$1=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign=function(){return __assign=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign.apply(this,arguments)},__decorate$1=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},SparklineCellRenderer=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return __extends$1(e,t),e.prototype.init=function(t){var e=this,n=!0,o=this.resizeObserverService.observeResize(this.getGui(),(function(){var o=e.getGui(),r=o.clientWidth,i=o.clientHeight;if(0!==r&&0!==i)if(n){var s=__assign({data:t.value,width:r,height:i,context:{data:t.data}},t.sparklineOptions);e.sparkline=AgSparkline.create(s,e.sparklineTooltipSingleton.getSparklineTooltip()),e.eSparkline.appendChild(e.sparkline.canvasElement),n=!1}else e.sparkline.width=r,e.sparkline.height=i}));this.addDestroyFunc((function(){return o()}))},e.prototype.refresh=function(t){return!!this.sparkline&&(this.sparkline.data=t.value,!0)},e.prototype.destroy=function(){this.sparkline&&this.sparkline.destroy(),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-sparkline-wrapper">\n            <span ref="eSparkline"></span>\n        </div>',__decorate$1([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eSparkline")],e.prototype,"eSparkline",void 0),__decorate$1([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("resizeObserverService")],e.prototype,"resizeObserverService",void 0),__decorate$1([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("sparklineTooltipSingleton")],e.prototype,"sparklineTooltipSingleton",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},SparklineTooltipSingleton=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.postConstruct=function(){this.tooltip=new SparklineTooltip},e.prototype.getSparklineTooltip=function(){return this.tooltip},e.prototype.destroyTooltip=function(){this.tooltip&&this.tooltip.destroy()},__decorate([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),__decorate([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],e.prototype,"destroyTooltip",null),e=__decorate([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("sparklineTooltipSingleton")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),VERSION="29.3.4",SparklinesModule={version:VERSION,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.SparklinesModule,beans:[SparklineTooltipSingleton],userComponents:[{componentName:"agSparklineCellRenderer",componentClass:SparklineCellRenderer}],dependantModules:[EnterpriseCoreModule]},AllEnterpriseModules=[ClipboardModule,ColumnsToolPanelModule,ExcelExportModule,FiltersToolPanelModule,GridChartsModule,MasterDetailModule,MenuModule,MultiFilterModule,RangeSelectionModule,RichSelectModule,RowGroupingModule,ServerSideRowModelModule,SetFilterModule,SideBarModule,StatusBarModule,ViewportRowModelModule,SparklinesModule],AllModules=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.F$j.concat(AllEnterpriseModules);ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.registerModules(AllEnterpriseModules)},7e3:(t,e,n)=>{"use strict";n.d(e,{n:()=>g});var o=n(6252),r=n(2262),i=n(1731),s=n(9963);class a{static getComponentDefinition(t,e){let n;return n="string"==typeof t?this.searchForComponentInstance(e,t):{extends:(0,o.aZ)(Object.assign({},t))},n||console.error(`Could not find component with name of ${t}. Is it in Vue.components?`),n.extends?(n.extends.setup&&(n.setup=n.extends.setup),n.extends.props=this.addParamsToProps(n.extends.props)):n.props=this.addParamsToProps(n.props),n}static addParamsToProps(t){return!t||Array.isArray(t)&&-1===t.indexOf("params")?t=["params",...t||[]]:"object"!=typeof t||t.params||(t.params={type:Object}),t}static createAndMountComponent(t,e,n,o){const r=a.getComponentDefinition(t,n);if(!r)return;const{vNode:i,destroy:s,el:l}=this.mount(r,{params:Object.freeze(e)},n,o||{});return{componentInstance:i.component.proxy,element:l,destroy:s}}static mount(t,e,n,r){let i=(0,o.Wm)(t,e);i.appContext=n.$.appContext,i.appContext.provides=Object.assign(Object.assign(Object.assign({},r),i.appContext.provides?i.appContext.provides:{}),n.$parent.$options.provide?n.$parent.$options.provide:{});let a=document.createElement("div");(0,s.render)(i,a);return{vNode:i,destroy:()=>{a&&(0,s.render)(null,a),a=null,i=null},el:a}}static searchForComponentInstance(t,e,n=10,o=!1){let r=null,i=t.$parent,s=0;for(;!r&&i&&i.$options&&++s<n;){const t=i;r=t.$options&&t.$options.components?t.$options.components[e]:null,i=i.$parent}if(!r){const n=t.$.appContext.components;n&&n[e]&&(r=n[e])}return r||o?r:(console.error(`Could not find component with name of ${e}. Is it in Vue.components?`),null)}}class l extends i.Nk3{constructor(t,e){super(),this.parent=t,l.provides||(l.provides=e)}createWrapper(t){const e=this;const n=new class extends c{init(t){super.init(t)}hasMethod(t){return null!=n.getFrameworkComponentInstance()[t]}callMethod(t,e){const o=this.getFrameworkComponentInstance();return n.getFrameworkComponentInstance()[t].apply(o,e)}addMethod(t,e){n[t]=e}overrideProcessing(t){return e.parent.autoParamsRefresh&&"refresh"===t}processMethod(t,e){return"refresh"===t&&(this.getFrameworkComponentInstance().params=e[0]),this.hasMethod(t)?this.callMethod(t,e):"refresh"===t}createComponent(n){return e.createComponent(t,n)}};return n}createComponent(t,e){return a.createAndMountComponent(t,e,this.parent,l.provides)}createMethodProxy(t,e,n){return function(){return t.overrideProcessing(e)?t.processMethod(e,arguments):t.hasMethod(e)?t.callMethod(e,arguments):(n&&console.warn("AG Grid: Framework component is missing the method "+e+"()"),null)}}destroy(){this.parent=null}}class c{getGui(){return this.element}destroy(){this.getFrameworkComponentInstance()&&"function"==typeof this.getFrameworkComponentInstance().destroy&&this.getFrameworkComponentInstance().destroy(),this.unmount()}getFrameworkComponentInstance(){return this.componentInstance}init(t){const{componentInstance:e,element:n,destroy:o}=this.createComponent(t);this.componentInstance=e,this.unmount=o,this.element=n.firstElementChild}}class u extends i.vA3{constructor(t){super(),this.parent=t}frameworkComponent(t,e){let n=a.searchForComponentInstance(this.parent,t,10,!0)?t:null;if(!n&&e&&e[t]){const o=e[t];n=a.searchForComponentInstance(this.parent,o,10,!0)?o:null}return n}isFrameworkComponent(t){return"object"==typeof t}}const d=["rowDataChanged","rowDataUpdated","cellValueChanged","rowValueChanged"],p="onUpdate:modelValue",[h,f]=(()=>{const t={};i.plv.PUBLIC_EVENTS.map((t=>{return`on${(e=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()).charAt(0).toUpperCase()}${e.substring(1,e.length)}`;var e})).forEach((e=>t[e]=void 0));const e={};return i.plv.ALL_PROPERTIES.filter((t=>"gridOptions"!=t)).forEach((n=>{t[n]={},e[n]={handler(t,e){this.processChanges(n,t,e)},deep:"popupParent"!==n&&"context"!==n}})),[t,e]})(),g=(0,o.aZ)({render:()=>(0,o.h)("div"),props:Object.assign({gridOptions:{type:Object,default:()=>({})},autoParamsRefresh:{type:Boolean,default:()=>!1},componentDependencies:{type:Array,default:()=>[]},plugins:[],modules:{type:Array,default:()=>[]},modelValue:{type:Array,default:void 0,required:!1}},h),data:()=>({gridCreated:!1,isDestroyed:!1,gridReadyFired:!1,emitRowModel:void 0}),watch:Object.assign({modelValue:{handler(t,e){this.processChanges("rowData",t,e)},deep:!0}},f),methods:{globalEventListener(t,e){this.isDestroyed||("gridReady"===t&&(this.gridReadyFired=!0),this.updateModelIfUsed(t))},processChanges(t,e,n){if(this.gridCreated){if(this.skipChange(t,e,n))return;const o={};o[t]={currentValue:"rowData"===t?Object.isFrozen(e)?e:(0,r.Xl)((0,r.IU)(e)):e,previousValue:n},i.plv.processOnChange(o,this.gridOptions.api)}},checkForBindingConflicts(){(this.rowData||this.gridOptions.rowData)&&this.modelValue&&console.warn("AG Grid: Using both rowData and v-model. rowData will be ignored.")},getRowData(){const t=[];return this.gridOptions.api.forEachNode((e=>{t.push(e.data)})),t},updateModelIfUsed(t){this.gridReadyFired&&this.$attrs[p]&&-1!==d.indexOf(t)&&this.emitRowModel&&this.emitRowModel()},getRowDataBasedOnBindings(){const t=this,e=t.modelValue;return e||(t.rowData?t.rowData:t.gridOptions.rowData)},getProvides(){let t=(0,o.FN)(),e={};for(;t;)t&&t.provides&&(e=Object.assign(Object.assign({},e),t.provides)),t=t.parent;return e},skipChange(t,e,n){if(this.gridReadyFired&&"rowData"===t&&this.$attrs[p]){if(e===n)return!0;if(e&&n){const t=e,o=n;if(t.length===o.length){for(let e=0;e<t.length;e++)if(t[e]!==o[e])return!1;return!0}}}return!1},debounce(t,e){let n;return()=>{window.clearTimeout(n),n=window.setTimeout((function(){t()}),e)}}},mounted(){this.emitRowModel=this.debounce((()=>{this.$emit("update:modelValue",Object.freeze(this.getRowData()))}),20);const t=this.getProvides(),e=new l(this,t),n=(0,r.Xl)(i.plv.copyAttributesToGridOptions((0,r.IU)(this.gridOptions),this,!0));this.checkForBindingConflicts();const o=this.getRowDataBasedOnBindings();n.rowData=o?Object.isFrozen(o)?o:(0,r.Xl)((0,r.IU)(o)):o;const s={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:new u(this),providedBeanInstances:{frameworkComponentWrapper:e},modules:this.modules};new i.rjZ(this.$el,n,s),this.gridCreated=!0},unmounted(){this.gridCreated&&(this.gridOptions.api&&this.gridOptions.api.destroy(),this.isDestroyed=!0)}})},8168:(t,e,n)=>{const o=n(8874),r={};for(const t of Object.keys(o))r[o[t]]=t;const i={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};t.exports=i;for(const t of Object.keys(i)){if(!("channels"in i[t]))throw new Error("missing channels property: "+t);if(!("labels"in i[t]))throw new Error("missing channel labels property: "+t);if(i[t].labels.length!==i[t].channels)throw new Error("channel and label counts mismatch: "+t);const{channels:e,labels:n}=i[t];delete i[t].channels,delete i[t].labels,Object.defineProperty(i[t],"channels",{value:e}),Object.defineProperty(i[t],"labels",{value:n})}i.rgb.hsl=function(t){const e=t[0]/255,n=t[1]/255,o=t[2]/255,r=Math.min(e,n,o),i=Math.max(e,n,o),s=i-r;let a,l;i===r?a=0:e===i?a=(n-o)/s:n===i?a=2+(o-e)/s:o===i&&(a=4+(e-n)/s),a=Math.min(60*a,360),a<0&&(a+=360);const c=(r+i)/2;return l=i===r?0:c<=.5?s/(i+r):s/(2-i-r),[a,100*l,100*c]},i.rgb.hsv=function(t){let e,n,o,r,i;const s=t[0]/255,a=t[1]/255,l=t[2]/255,c=Math.max(s,a,l),u=c-Math.min(s,a,l),d=function(t){return(c-t)/6/u+.5};return 0===u?(r=0,i=0):(i=u/c,e=d(s),n=d(a),o=d(l),s===c?r=o-n:a===c?r=1/3+e-o:l===c&&(r=2/3+n-e),r<0?r+=1:r>1&&(r-=1)),[360*r,100*i,100*c]},i.rgb.hwb=function(t){const e=t[0],n=t[1];let o=t[2];const r=i.rgb.hsl(t)[0],s=1/255*Math.min(e,Math.min(n,o));return o=1-1/255*Math.max(e,Math.max(n,o)),[r,100*s,100*o]},i.rgb.cmyk=function(t){const e=t[0]/255,n=t[1]/255,o=t[2]/255,r=Math.min(1-e,1-n,1-o);return[100*((1-e-r)/(1-r)||0),100*((1-n-r)/(1-r)||0),100*((1-o-r)/(1-r)||0),100*r]},i.rgb.keyword=function(t){const e=r[t];if(e)return e;let n,i=1/0;for(const e of Object.keys(o)){const r=o[e],l=(a=r,((s=t)[0]-a[0])**2+(s[1]-a[1])**2+(s[2]-a[2])**2);l<i&&(i=l,n=e)}var s,a;return n},i.keyword.rgb=function(t){return o[t]},i.rgb.xyz=function(t){let e=t[0]/255,n=t[1]/255,o=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,o=o>.04045?((o+.055)/1.055)**2.4:o/12.92;return[100*(.4124*e+.3576*n+.1805*o),100*(.2126*e+.7152*n+.0722*o),100*(.0193*e+.1192*n+.9505*o)]},i.rgb.lab=function(t){const e=i.rgb.xyz(t);let n=e[0],o=e[1],r=e[2];n/=95.047,o/=100,r/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,o=o>.008856?o**(1/3):7.787*o+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;return[116*o-16,500*(n-o),200*(o-r)]},i.hsl.rgb=function(t){const e=t[0]/360,n=t[1]/100,o=t[2]/100;let r,i,s;if(0===n)return s=255*o,[s,s,s];r=o<.5?o*(1+n):o+n-o*n;const a=2*o-r,l=[0,0,0];for(let t=0;t<3;t++)i=e+1/3*-(t-1),i<0&&i++,i>1&&i--,s=6*i<1?a+6*(r-a)*i:2*i<1?r:3*i<2?a+(r-a)*(2/3-i)*6:a,l[t]=255*s;return l},i.hsl.hsv=function(t){const e=t[0];let n=t[1]/100,o=t[2]/100,r=n;const i=Math.max(o,.01);o*=2,n*=o<=1?o:2-o,r*=i<=1?i:2-i;return[e,100*(0===o?2*r/(i+r):2*n/(o+n)),100*((o+n)/2)]},i.hsv.rgb=function(t){const e=t[0]/60,n=t[1]/100;let o=t[2]/100;const r=Math.floor(e)%6,i=e-Math.floor(e),s=255*o*(1-n),a=255*o*(1-n*i),l=255*o*(1-n*(1-i));switch(o*=255,r){case 0:return[o,l,s];case 1:return[a,o,s];case 2:return[s,o,l];case 3:return[s,a,o];case 4:return[l,s,o];case 5:return[o,s,a]}},i.hsv.hsl=function(t){const e=t[0],n=t[1]/100,o=t[2]/100,r=Math.max(o,.01);let i,s;s=(2-n)*o;const a=(2-n)*r;return i=n*r,i/=a<=1?a:2-a,i=i||0,s/=2,[e,100*i,100*s]},i.hwb.rgb=function(t){const e=t[0]/360;let n=t[1]/100,o=t[2]/100;const r=n+o;let i;r>1&&(n/=r,o/=r);const s=Math.floor(6*e),a=1-o;i=6*e-s,0!=(1&s)&&(i=1-i);const l=n+i*(a-n);let c,u,d;switch(s){default:case 6:case 0:c=a,u=l,d=n;break;case 1:c=l,u=a,d=n;break;case 2:c=n,u=a,d=l;break;case 3:c=n,u=l,d=a;break;case 4:c=l,u=n,d=a;break;case 5:c=a,u=n,d=l}return[255*c,255*u,255*d]},i.cmyk.rgb=function(t){const e=t[0]/100,n=t[1]/100,o=t[2]/100,r=t[3]/100;return[255*(1-Math.min(1,e*(1-r)+r)),255*(1-Math.min(1,n*(1-r)+r)),255*(1-Math.min(1,o*(1-r)+r))]},i.xyz.rgb=function(t){const e=t[0]/100,n=t[1]/100,o=t[2]/100;let r,i,s;return r=3.2406*e+-1.5372*n+-.4986*o,i=-.9689*e+1.8758*n+.0415*o,s=.0557*e+-.204*n+1.057*o,r=r>.0031308?1.055*r**(1/2.4)-.055:12.92*r,i=i>.0031308?1.055*i**(1/2.4)-.055:12.92*i,s=s>.0031308?1.055*s**(1/2.4)-.055:12.92*s,r=Math.min(Math.max(0,r),1),i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),[255*r,255*i,255*s]},i.xyz.lab=function(t){let e=t[0],n=t[1],o=t[2];e/=95.047,n/=100,o/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,o=o>.008856?o**(1/3):7.787*o+16/116;return[116*n-16,500*(e-n),200*(n-o)]},i.lab.xyz=function(t){let e,n,o;n=(t[0]+16)/116,e=t[1]/500+n,o=n-t[2]/200;const r=n**3,i=e**3,s=o**3;return n=r>.008856?r:(n-16/116)/7.787,e=i>.008856?i:(e-16/116)/7.787,o=s>.008856?s:(o-16/116)/7.787,e*=95.047,n*=100,o*=108.883,[e,n,o]},i.lab.lch=function(t){const e=t[0],n=t[1],o=t[2];let r;r=360*Math.atan2(o,n)/2/Math.PI,r<0&&(r+=360);return[e,Math.sqrt(n*n+o*o),r]},i.lch.lab=function(t){const e=t[0],n=t[1],o=t[2]/360*2*Math.PI;return[e,n*Math.cos(o),n*Math.sin(o)]},i.rgb.ansi16=function(t,e=null){const[n,o,r]=t;let s=null===e?i.rgb.hsv(t)[2]:e;if(s=Math.round(s/50),0===s)return 30;let a=30+(Math.round(r/255)<<2|Math.round(o/255)<<1|Math.round(n/255));return 2===s&&(a+=60),a},i.hsv.ansi16=function(t){return i.rgb.ansi16(i.hsv.rgb(t),t[2])},i.rgb.ansi256=function(t){const e=t[0],n=t[1],o=t[2];if(e===n&&n===o)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;return 16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(o/255*5)},i.ansi16.rgb=function(t){let e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const n=.5*(1+~~(t>50));return[(1&e)*n*255,(e>>1&1)*n*255,(e>>2&1)*n*255]},i.ansi256.rgb=function(t){if(t>=232){const e=10*(t-232)+8;return[e,e,e]}let e;t-=16;return[Math.floor(t/36)/5*255,Math.floor((e=t%36)/6)/5*255,e%6/5*255]},i.rgb.hex=function(t){const e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},i.hex.rgb=function(t){const e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let n=e[0];3===e[0].length&&(n=n.split("").map((t=>t+t)).join(""));const o=parseInt(n,16);return[o>>16&255,o>>8&255,255&o]},i.rgb.hcg=function(t){const e=t[0]/255,n=t[1]/255,o=t[2]/255,r=Math.max(Math.max(e,n),o),i=Math.min(Math.min(e,n),o),s=r-i;let a,l;return a=s<1?i/(1-s):0,l=s<=0?0:r===e?(n-o)/s%6:r===n?2+(o-e)/s:4+(e-n)/s,l/=6,l%=1,[360*l,100*s,100*a]},i.hsl.hcg=function(t){const e=t[1]/100,n=t[2]/100,o=n<.5?2*e*n:2*e*(1-n);let r=0;return o<1&&(r=(n-.5*o)/(1-o)),[t[0],100*o,100*r]},i.hsv.hcg=function(t){const e=t[1]/100,n=t[2]/100,o=e*n;let r=0;return o<1&&(r=(n-o)/(1-o)),[t[0],100*o,100*r]},i.hcg.rgb=function(t){const e=t[0]/360,n=t[1]/100,o=t[2]/100;if(0===n)return[255*o,255*o,255*o];const r=[0,0,0],i=e%1*6,s=i%1,a=1-s;let l=0;switch(Math.floor(i)){case 0:r[0]=1,r[1]=s,r[2]=0;break;case 1:r[0]=a,r[1]=1,r[2]=0;break;case 2:r[0]=0,r[1]=1,r[2]=s;break;case 3:r[0]=0,r[1]=a,r[2]=1;break;case 4:r[0]=s,r[1]=0,r[2]=1;break;default:r[0]=1,r[1]=0,r[2]=a}return l=(1-n)*o,[255*(n*r[0]+l),255*(n*r[1]+l),255*(n*r[2]+l)]},i.hcg.hsv=function(t){const e=t[1]/100,n=e+t[2]/100*(1-e);let o=0;return n>0&&(o=e/n),[t[0],100*o,100*n]},i.hcg.hsl=function(t){const e=t[1]/100,n=t[2]/100*(1-e)+.5*e;let o=0;return n>0&&n<.5?o=e/(2*n):n>=.5&&n<1&&(o=e/(2*(1-n))),[t[0],100*o,100*n]},i.hcg.hwb=function(t){const e=t[1]/100,n=e+t[2]/100*(1-e);return[t[0],100*(n-e),100*(1-n)]},i.hwb.hcg=function(t){const e=t[1]/100,n=1-t[2]/100,o=n-e;let r=0;return o<1&&(r=(n-o)/(1-o)),[t[0],100*o,100*r]},i.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},i.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},i.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},i.gray.hsl=function(t){return[0,0,t[0]]},i.gray.hsv=i.gray.hsl,i.gray.hwb=function(t){return[0,100,t[0]]},i.gray.cmyk=function(t){return[0,0,0,t[0]]},i.gray.lab=function(t){return[t[0],0,0]},i.gray.hex=function(t){const e=255&Math.round(t[0]/100*255),n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n},i.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}},2085:(t,e,n)=>{const o=n(8168),r=n(4111),i={};Object.keys(o).forEach((t=>{i[t]={},Object.defineProperty(i[t],"channels",{value:o[t].channels}),Object.defineProperty(i[t],"labels",{value:o[t].labels});const e=r(t);Object.keys(e).forEach((n=>{const o=e[n];i[t][n]=function(t){const e=function(...e){const n=e[0];if(null==n)return n;n.length>1&&(e=n);const o=t(e);if("object"==typeof o)for(let t=o.length,e=0;e<t;e++)o[e]=Math.round(o[e]);return o};return"conversion"in t&&(e.conversion=t.conversion),e}(o),i[t][n].raw=function(t){const e=function(...e){const n=e[0];return null==n?n:(n.length>1&&(e=n),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(o)}))})),t.exports=i},4111:(t,e,n)=>{const o=n(8168);function r(t){const e=function(){const t={},e=Object.keys(o);for(let n=e.length,o=0;o<n;o++)t[e[o]]={distance:-1,parent:null};return t}(),n=[t];for(e[t].distance=0;n.length;){const t=n.pop(),r=Object.keys(o[t]);for(let o=r.length,i=0;i<o;i++){const o=r[i],s=e[o];-1===s.distance&&(s.distance=e[t].distance+1,s.parent=t,n.unshift(o))}}return e}function i(t,e){return function(n){return e(t(n))}}function s(t,e){const n=[e[t].parent,t];let r=o[e[t].parent][t],s=e[t].parent;for(;e[s].parent;)n.unshift(e[s].parent),r=i(o[e[s].parent][s],r),s=e[s].parent;return r.conversion=n,r}t.exports=function(t){const e=r(t),n={},o=Object.keys(e);for(let t=o.length,r=0;r<t;r++){const t=o[r];null!==e[t].parent&&(n[t]=s(t,e))}return n}},8874:t=>{"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},9818:(t,e,n)=>{var o=n(8874),r=n(6851),i=Object.hasOwnProperty,s=Object.create(null);for(var a in o)i.call(o,a)&&(s[o[a]]=a);var l=t.exports={to:{},get:{}};function c(t,e,n){return Math.min(Math.max(e,t),n)}function u(t){var e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}l.get=function(t){var e,n;switch(t.substring(0,3).toLowerCase()){case"hsl":e=l.get.hsl(t),n="hsl";break;case"hwb":e=l.get.hwb(t),n="hwb";break;default:e=l.get.rgb(t),n="rgb"}return e?{model:n,value:e}:null},l.get.rgb=function(t){if(!t)return null;var e,n,r,s=[0,0,0,1];if(e=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(r=e[2],e=e[1],n=0;n<3;n++){var a=2*n;s[n]=parseInt(e.slice(a,a+2),16)}r&&(s[3]=parseInt(r,16)/255)}else if(e=t.match(/^#([a-f0-9]{3,4})$/i)){for(r=(e=e[1])[3],n=0;n<3;n++)s[n]=parseInt(e[n]+e[n],16);r&&(s[3]=parseInt(r+r,16)/255)}else if(e=t.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(n=0;n<3;n++)s[n]=parseInt(e[n+1],0);e[4]&&(e[5]?s[3]=.01*parseFloat(e[4]):s[3]=parseFloat(e[4]))}else{if(!(e=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(e=t.match(/^(\w+)$/))?"transparent"===e[1]?[0,0,0,0]:i.call(o,e[1])?((s=o[e[1]])[3]=1,s):null:null;for(n=0;n<3;n++)s[n]=Math.round(2.55*parseFloat(e[n+1]));e[4]&&(e[5]?s[3]=.01*parseFloat(e[4]):s[3]=parseFloat(e[4]))}for(n=0;n<3;n++)s[n]=c(s[n],0,255);return s[3]=c(s[3],0,1),s},l.get.hsl=function(t){if(!t)return null;var e=t.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,c(parseFloat(e[2]),0,100),c(parseFloat(e[3]),0,100),c(isNaN(n)?1:n,0,1)]}return null},l.get.hwb=function(t){if(!t)return null;var e=t.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,c(parseFloat(e[2]),0,100),c(parseFloat(e[3]),0,100),c(isNaN(n)?1:n,0,1)]}return null},l.to.hex=function(){var t=r(arguments);return"#"+u(t[0])+u(t[1])+u(t[2])+(t[3]<1?u(Math.round(255*t[3])):"")},l.to.rgb=function(){var t=r(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},l.to.rgb.percent=function(){var t=r(arguments),e=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),o=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+n+"%, "+o+"%)":"rgba("+e+"%, "+n+"%, "+o+"%, "+t[3]+")"},l.to.hsl=function(){var t=r(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},l.to.hwb=function(){var t=r(arguments),e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},l.to.keyword=function(t){return s[t.slice(0,3)]}},6767:(t,e,n)=>{const o=n(9818),r=n(2085),i=["keyword","gray","hex"],s={};for(const t of Object.keys(r))s[[...r[t].labels].sort().join("")]=t;const a={};function l(t,e){if(!(this instanceof l))return new l(t,e);if(e&&e in i&&(e=null),e&&!(e in r))throw new Error("Unknown model: "+e);let n,c;if(null==t)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof l)this.model=t.model,this.color=[...t.color],this.valpha=t.valpha;else if("string"==typeof t){const e=o.get(t);if(null===e)throw new Error("Unable to parse color from string: "+t);this.model=e.model,c=r[this.model].channels,this.color=e.value.slice(0,c),this.valpha="number"==typeof e.value[c]?e.value[c]:1}else if(t.length>0){this.model=e||"rgb",c=r[this.model].channels;const n=Array.prototype.slice.call(t,0,c);this.color=p(n,c),this.valpha="number"==typeof t[c]?t[c]:1}else if("number"==typeof t)this.model="rgb",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;const e=Object.keys(t);"alpha"in t&&(e.splice(e.indexOf("alpha"),1),this.valpha="number"==typeof t.alpha?t.alpha:0);const o=e.sort().join("");if(!(o in s))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=s[o];const{labels:i}=r[this.model],a=[];for(n=0;n<i.length;n++)a.push(t[i[n]]);this.color=p(a)}if(a[this.model])for(c=r[this.model].channels,n=0;n<c;n++){const t=a[this.model][n];t&&(this.color[n]=t(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}l.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(t){let e=this.model in o.to?this:this.rgb();e=e.round("number"==typeof t?t:1);const n=1===e.valpha?e.color:[...e.color,this.valpha];return o.to[e.model](n)},percentString(t){const e=this.rgb().round("number"==typeof t?t:1),n=1===e.valpha?e.color:[...e.color,this.valpha];return o.to.rgb.percent(n)},array(){return 1===this.valpha?[...this.color]:[...this.color,this.valpha]},object(){const t={},{channels:e}=r[this.model],{labels:n}=r[this.model];for(let o=0;o<e;o++)t[n[o]]=this.color[o];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray(){const t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject(){const t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round(t){return t=Math.max(t||0,0),new l([...this.color.map(c(t)),this.valpha],this.model)},alpha(t){return void 0!==t?new l([...this.color,Math.max(0,Math.min(1,t))],this.model):this.valpha},red:u("rgb",0,d(255)),green:u("rgb",1,d(255)),blue:u("rgb",2,d(255)),hue:u(["hsl","hsv","hsl","hwb","hcg"],0,(t=>(t%360+360)%360)),saturationl:u("hsl",1,d(100)),lightness:u("hsl",2,d(100)),saturationv:u("hsv",1,d(100)),value:u("hsv",2,d(100)),chroma:u("hcg",1,d(100)),gray:u("hcg",2,d(100)),white:u("hwb",1,d(100)),wblack:u("hwb",2,d(100)),cyan:u("cmyk",0,d(100)),magenta:u("cmyk",1,d(100)),yellow:u("cmyk",2,d(100)),black:u("cmyk",3,d(100)),x:u("xyz",0,d(95.047)),y:u("xyz",1,d(100)),z:u("xyz",2,d(108.833)),l:u("lab",0,d(100)),a:u("lab",1),b:u("lab",2),keyword(t){return void 0!==t?new l(t):r[this.model].keyword(this.color)},hex(t){return void 0!==t?new l(t):o.to.hex(this.rgb().round().color)},hexa(t){if(void 0!==t)return new l(t);const e=this.rgb().round().color;let n=Math.round(255*this.valpha).toString(16).toUpperCase();return 1===n.length&&(n="0"+n),o.to.hex(e)+n},rgbNumber(){const t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity(){const t=this.rgb().color,e=[];for(const[n,o]of t.entries()){const t=o/255;e[n]=t<=.04045?t/12.92:((t+.055)/1.055)**2.4}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast(t){const e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level(t){const e=this.contrast(t);return e>=7?"AAA":e>=4.5?"AA":""},isDark(){const t=this.rgb().color;return(2126*t[0]+7152*t[1]+722*t[2])/1e4<128},isLight(){return!this.isDark()},negate(){const t=this.rgb();for(let e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten(t){const e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken(t){const e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate(t){const e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate(t){const e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten(t){const e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken(t){const e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale(){const t=this.rgb().color,e=.3*t[0]+.59*t[1]+.11*t[2];return l.rgb(e,e,e)},fade(t){return this.alpha(this.valpha-this.valpha*t)},opaquer(t){return this.alpha(this.valpha+this.valpha*t)},rotate(t){const e=this.hsl();let n=e.color[0];return n=(n+t)%360,n=n<0?360+n:n,e.color[0]=n,e},mix(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);const n=t.rgb(),o=this.rgb(),r=void 0===e?.5:e,i=2*r-1,s=n.alpha()-o.alpha(),a=((i*s==-1?i:(i+s)/(1+i*s))+1)/2,c=1-a;return l.rgb(a*n.red()+c*o.red(),a*n.green()+c*o.green(),a*n.blue()+c*o.blue(),n.alpha()*r+o.alpha()*(1-r))}};for(const t of Object.keys(r)){if(i.includes(t))continue;const{channels:e}=r[t];l.prototype[t]=function(...e){return this.model===t?new l(this):e.length>0?new l(e,t):new l([...(n=r[this.model][t].raw(this.color),Array.isArray(n)?n:[n]),this.valpha],t);var n},l[t]=function(...n){let o=n[0];return"number"==typeof o&&(o=p(n,e)),new l(o,t)}}function c(t){return function(e){return function(t,e){return Number(t.toFixed(e))}(e,t)}}function u(t,e,n){t=Array.isArray(t)?t:[t];for(const o of t)(a[o]||(a[o]=[]))[e]=n;return t=t[0],function(o){let r;return void 0!==o?(n&&(o=n(o)),r=this[t](),r.color[e]=o,r):(r=this[t]().color[e],n&&(r=n(r)),r)}}function d(t){return function(e){return Math.max(0,Math.min(t,e))}}function p(t,e){for(let n=0;n<e;n++)"number"!=typeof t[n]&&(t[n]=0);return t}t.exports=l},9662:(t,e,n)=>{var o=n(614),r=n(6330),i=TypeError;t.exports=function(t){if(o(t))return t;throw i(r(t)+" is not a function")}},6077:(t,e,n)=>{var o=n(614),r=String,i=TypeError;t.exports=function(t){if("object"==typeof t||o(t))return t;throw i("Can't set "+r(t)+" as a prototype")}},9670:(t,e,n)=>{var o=n(111),r=String,i=TypeError;t.exports=function(t){if(o(t))return t;throw i(r(t)+" is not an object")}},1318:(t,e,n)=>{var o=n(5656),r=n(1400),i=n(6244),s=function(t){return function(e,n,s){var a,l=o(e),c=i(l),u=r(s,c);if(t&&n!=n){for(;c>u;)if((a=l[u++])!=a)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===n)return t||u||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},3658:(t,e,n)=>{"use strict";var o=n(9781),r=n(3157),i=TypeError,s=Object.getOwnPropertyDescriptor,a=o&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=a?function(t,e){if(r(t)&&!s(t,"length").writable)throw i("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},206:(t,e,n)=>{var o=n(1702);t.exports=o([].slice)},4326:(t,e,n)=>{var o=n(1702),r=o({}.toString),i=o("".slice);t.exports=function(t){return i(r(t),8,-1)}},648:(t,e,n)=>{var o=n(1694),r=n(614),i=n(4326),s=n(5112)("toStringTag"),a=Object,l="Arguments"==i(function(){return arguments}());t.exports=o?i:function(t){var e,n,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=a(t),s))?n:l?i(e):"Object"==(o=i(e))&&r(e.callee)?"Arguments":o}},9920:(t,e,n)=>{var o=n(2597),r=n(3887),i=n(1236),s=n(3070);t.exports=function(t,e,n){for(var a=r(e),l=s.f,c=i.f,u=0;u<a.length;u++){var d=a[u];o(t,d)||n&&o(n,d)||l(t,d,c(e,d))}}},8880:(t,e,n)=>{var o=n(9781),r=n(3070),i=n(9114);t.exports=o?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},9114:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},8052:(t,e,n)=>{var o=n(614),r=n(3070),i=n(6339),s=n(3072);t.exports=function(t,e,n,a){a||(a={});var l=a.enumerable,c=void 0!==a.name?a.name:e;if(o(n)&&i(n,c,a),a.global)l?t[e]=n:s(e,n);else{try{a.unsafe?t[e]&&(l=!0):delete t[e]}catch(t){}l?t[e]=n:r.f(t,e,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},3072:(t,e,n)=>{var o=n(7854),r=Object.defineProperty;t.exports=function(t,e){try{r(o,t,{value:e,configurable:!0,writable:!0})}catch(n){o[t]=e}return e}},9781:(t,e,n)=>{var o=n(7293);t.exports=!o((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:t=>{var e="object"==typeof document&&document.all,n=void 0===e&&void 0!==e;t.exports={all:e,IS_HTMLDDA:n}},317:(t,e,n)=>{var o=n(7854),r=n(111),i=o.document,s=r(i)&&r(i.createElement);t.exports=function(t){return s?i.createElement(t):{}}},7207:t=>{var e=TypeError;t.exports=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t}},9363:t=>{t.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},6833:(t,e,n)=>{var o=n(8113);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(o)},5268:(t,e,n)=>{var o=n(4326);t.exports="undefined"!=typeof process&&"process"==o(process)},8113:t=>{t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7392:(t,e,n)=>{var o,r,i=n(7854),s=n(8113),a=i.process,l=i.Deno,c=a&&a.versions||l&&l.version,u=c&&c.v8;u&&(r=(o=u.split("."))[0]>0&&o[0]<4?1:+(o[0]+o[1])),!r&&s&&(!(o=s.match(/Edge\/(\d+)/))||o[1]>=74)&&(o=s.match(/Chrome\/(\d+)/))&&(r=+o[1]),t.exports=r},748:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1060:(t,e,n)=>{var o=n(1702),r=Error,i=o("".replace),s=String(r("zxcasd").stack),a=/\n\s*at [^:]*:[^\n]*/,l=a.test(s);t.exports=function(t,e){if(l&&"string"==typeof t&&!r.prepareStackTrace)for(;e--;)t=i(t,a,"");return t}},5392:(t,e,n)=>{var o=n(8880),r=n(1060),i=n(2914),s=Error.captureStackTrace;t.exports=function(t,e,n,a){i&&(s?s(t,e):o(t,"stack",r(n,a)))}},2914:(t,e,n)=>{var o=n(7293),r=n(9114);t.exports=!o((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",r(1,7)),7!==t.stack)}))},2109:(t,e,n)=>{var o=n(7854),r=n(1236).f,i=n(8880),s=n(8052),a=n(3072),l=n(9920),c=n(4705);t.exports=function(t,e){var n,u,d,p,h,f=t.target,g=t.global,_=t.stat;if(n=g?o:_?o[f]||a(f,{}):(o[f]||{}).prototype)for(u in e){if(p=e[u],d=t.dontCallGetSet?(h=r(n,u))&&h.value:n[u],!c(g?u:f+(_?".":"#")+u,t.forced)&&void 0!==d){if(typeof p==typeof d)continue;l(p,d)}(t.sham||d&&d.sham)&&i(p,"sham",!0),s(n,u,p,t)}}},7293:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},2104:(t,e,n)=>{var o=n(4374),r=Function.prototype,i=r.apply,s=r.call;t.exports="object"==typeof Reflect&&Reflect.apply||(o?s.bind(i):function(){return s.apply(i,arguments)})},9974:(t,e,n)=>{var o=n(1470),r=n(9662),i=n(4374),s=o(o.bind);t.exports=function(t,e){return r(t),void 0===e?t:i?s(t,e):function(){return t.apply(e,arguments)}}},4374:(t,e,n)=>{var o=n(7293);t.exports=!o((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},6916:(t,e,n)=>{var o=n(4374),r=Function.prototype.call;t.exports=o?r.bind(r):function(){return r.apply(r,arguments)}},6530:(t,e,n)=>{var o=n(9781),r=n(2597),i=Function.prototype,s=o&&Object.getOwnPropertyDescriptor,a=r(i,"name"),l=a&&"something"===function(){}.name,c=a&&(!o||o&&s(i,"name").configurable);t.exports={EXISTS:a,PROPER:l,CONFIGURABLE:c}},5668:(t,e,n)=>{var o=n(1702),r=n(9662);t.exports=function(t,e,n){try{return o(r(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(t){}}},1470:(t,e,n)=>{var o=n(4326),r=n(1702);t.exports=function(t){if("Function"===o(t))return r(t)}},1702:(t,e,n)=>{var o=n(4374),r=Function.prototype,i=r.call,s=o&&r.bind.bind(i,i);t.exports=o?s:function(t){return function(){return i.apply(t,arguments)}}},5005:(t,e,n)=>{var o=n(7854),r=n(614);t.exports=function(t,e){return arguments.length<2?(n=o[t],r(n)?n:void 0):o[t]&&o[t][e];var n}},8173:(t,e,n)=>{var o=n(9662),r=n(8554);t.exports=function(t,e){var n=t[e];return r(n)?void 0:o(n)}},7854:(t,e,n)=>{var o=function(t){return t&&t.Math==Math&&t};t.exports=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:(t,e,n)=>{var o=n(1702),r=n(7908),i=o({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return i(r(t),e)}},3501:t=>{t.exports={}},490:(t,e,n)=>{var o=n(5005);t.exports=o("document","documentElement")},4664:(t,e,n)=>{var o=n(9781),r=n(7293),i=n(317);t.exports=!o&&!r((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},8361:(t,e,n)=>{var o=n(1702),r=n(7293),i=n(4326),s=Object,a=o("".split);t.exports=r((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?a(t,""):s(t)}:s},9587:(t,e,n)=>{var o=n(614),r=n(111),i=n(7674);t.exports=function(t,e,n){var s,a;return i&&o(s=e.constructor)&&s!==n&&r(a=s.prototype)&&a!==n.prototype&&i(t,a),t}},2788:(t,e,n)=>{var o=n(1702),r=n(614),i=n(5465),s=o(Function.toString);r(i.inspectSource)||(i.inspectSource=function(t){return s(t)}),t.exports=i.inspectSource},8340:(t,e,n)=>{var o=n(111),r=n(8880);t.exports=function(t,e){o(e)&&"cause"in e&&r(t,"cause",e.cause)}},9909:(t,e,n)=>{var o,r,i,s=n(4811),a=n(7854),l=n(111),c=n(8880),u=n(2597),d=n(5465),p=n(6200),h=n(3501),f="Object already initialized",g=a.TypeError,_=a.WeakMap;if(s||d.state){var m=d.state||(d.state=new _);m.get=m.get,m.has=m.has,m.set=m.set,o=function(t,e){if(m.has(t))throw g(f);return e.facade=t,m.set(t,e),e},r=function(t){return m.get(t)||{}},i=function(t){return m.has(t)}}else{var y=p("state");h[y]=!0,o=function(t,e){if(u(t,y))throw g(f);return e.facade=t,c(t,y,e),e},r=function(t){return u(t,y)?t[y]:{}},i=function(t){return u(t,y)}}t.exports={set:o,get:r,has:i,enforce:function(t){return i(t)?r(t):o(t,{})},getterFor:function(t){return function(e){var n;if(!l(e)||(n=r(e)).type!==t)throw g("Incompatible receiver, "+t+" required");return n}}}},3157:(t,e,n)=>{var o=n(4326);t.exports=Array.isArray||function(t){return"Array"==o(t)}},614:(t,e,n)=>{var o=n(4154),r=o.all;t.exports=o.IS_HTMLDDA?function(t){return"function"==typeof t||t===r}:function(t){return"function"==typeof t}},4705:(t,e,n)=>{var o=n(7293),r=n(614),i=/#|\.prototype\./,s=function(t,e){var n=l[a(t)];return n==u||n!=c&&(r(e)?o(e):!!e)},a=s.normalize=function(t){return String(t).replace(i,".").toLowerCase()},l=s.data={},c=s.NATIVE="N",u=s.POLYFILL="P";t.exports=s},8554:t=>{t.exports=function(t){return null==t}},111:(t,e,n)=>{var o=n(614),r=n(4154),i=r.all;t.exports=r.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:o(t)||t===i}:function(t){return"object"==typeof t?null!==t:o(t)}},1913:t=>{t.exports=!1},2190:(t,e,n)=>{var o=n(5005),r=n(614),i=n(7976),s=n(3307),a=Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=o("Symbol");return r(e)&&i(e.prototype,a(t))}},6244:(t,e,n)=>{var o=n(7466);t.exports=function(t){return o(t.length)}},6339:(t,e,n)=>{var o=n(1702),r=n(7293),i=n(614),s=n(2597),a=n(9781),l=n(6530).CONFIGURABLE,c=n(2788),u=n(9909),d=u.enforce,p=u.get,h=String,f=Object.defineProperty,g=o("".slice),_=o("".replace),m=o([].join),y=a&&!r((function(){return 8!==f((function(){}),"length",{value:8}).length})),v=String(String).split("String"),C=t.exports=function(t,e,n){"Symbol("===g(h(e),0,7)&&(e="["+_(h(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!s(t,"name")||l&&t.name!==e)&&(a?f(t,"name",{value:e,configurable:!0}):t.name=e),y&&n&&s(n,"arity")&&t.length!==n.arity&&f(t,"length",{value:n.arity});try{n&&s(n,"constructor")&&n.constructor?a&&f(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var o=d(t);return s(o,"source")||(o.source=m(v,"string"==typeof e?e:"")),t};Function.prototype.toString=C((function(){return i(this)&&p(this).source||c(this)}),"toString")},4758:t=>{var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var o=+t;return(o>0?n:e)(o)}},6277:(t,e,n)=>{var o=n(1340);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:o(t)}},3070:(t,e,n)=>{var o=n(9781),r=n(4664),i=n(3353),s=n(9670),a=n(4948),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d="enumerable",p="configurable",h="writable";e.f=o?i?function(t,e,n){if(s(t),e=a(e),s(n),"function"==typeof t&&"prototype"===e&&"value"in n&&h in n&&!n[h]){var o=u(t,e);o&&o[h]&&(t[e]=n.value,n={configurable:p in n?n[p]:o[p],enumerable:d in n?n[d]:o[d],writable:!1})}return c(t,e,n)}:c:function(t,e,n){if(s(t),e=a(e),s(n),r)try{return c(t,e,n)}catch(t){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1236:(t,e,n)=>{var o=n(9781),r=n(6916),i=n(5296),s=n(9114),a=n(5656),l=n(4948),c=n(2597),u=n(4664),d=Object.getOwnPropertyDescriptor;e.f=o?d:function(t,e){if(t=a(t),e=l(e),u)try{return d(t,e)}catch(t){}if(c(t,e))return s(!r(i.f,t,e),t[e])}},8006:(t,e,n)=>{var o=n(6324),r=n(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return o(t,r)}},5181:(t,e)=>{e.f=Object.getOwnPropertySymbols},7976:(t,e,n)=>{var o=n(1702);t.exports=o({}.isPrototypeOf)},6324:(t,e,n)=>{var o=n(1702),r=n(2597),i=n(5656),s=n(1318).indexOf,a=n(3501),l=o([].push);t.exports=function(t,e){var n,o=i(t),c=0,u=[];for(n in o)!r(a,n)&&r(o,n)&&l(u,n);for(;e.length>c;)r(o,n=e[c++])&&(~s(u,n)||l(u,n));return u}},5296:(t,e)=>{"use strict";var n={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,r=o&&!n.call({1:2},1);e.f=r?function(t){var e=o(this,t);return!!e&&e.enumerable}:n},7674:(t,e,n)=>{var o=n(5668),r=n(9670),i=n(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=o(Object.prototype,"__proto__","set"))(n,[]),e=n instanceof Array}catch(t){}return function(n,o){return r(n),i(o),e?t(n,o):n.__proto__=o,n}}():void 0)},2140:(t,e,n)=>{var o=n(6916),r=n(614),i=n(111),s=TypeError;t.exports=function(t,e){var n,a;if("string"===e&&r(n=t.toString)&&!i(a=o(n,t)))return a;if(r(n=t.valueOf)&&!i(a=o(n,t)))return a;if("string"!==e&&r(n=t.toString)&&!i(a=o(n,t)))return a;throw s("Can't convert object to primitive value")}},3887:(t,e,n)=>{var o=n(5005),r=n(1702),i=n(8006),s=n(5181),a=n(9670),l=r([].concat);t.exports=o("Reflect","ownKeys")||function(t){var e=i.f(a(t)),n=s.f;return n?l(e,n(t)):e}},2626:(t,e,n)=>{var o=n(3070).f;t.exports=function(t,e,n){n in t||o(t,n,{configurable:!0,get:function(){return e[n]},set:function(t){e[n]=t}})}},4488:(t,e,n)=>{var o=n(8554),r=TypeError;t.exports=function(t){if(o(t))throw r("Can't call method on "+t);return t}},7152:(t,e,n)=>{"use strict";var o=n(7854),r=n(2104),i=n(614),s=n(9363),a=n(8113),l=n(206),c=n(8053),u=o.Function,d=/MSIE .\./.test(a)||s&&function(){var t=o.Bun.version.split(".");return t.length<3||0==t[0]&&(t[1]<3||3==t[1]&&0==t[2])}();t.exports=function(t,e){var n=e?2:1;return d?function(o,s){var a=c(arguments.length,1)>n,d=i(o)?o:u(o),p=a?l(arguments,n):[],h=a?function(){r(d,this,p)}:d;return e?t(h,s):t(h)}:t}},6200:(t,e,n)=>{var o=n(2309),r=n(9711),i=o("keys");t.exports=function(t){return i[t]||(i[t]=r(t))}},5465:(t,e,n)=>{var o=n(7854),r=n(3072),i="__core-js_shared__",s=o[i]||r(i,{});t.exports=s},2309:(t,e,n)=>{var o=n(1913),r=n(5465);(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.30.1",mode:o?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.1/LICENSE",source:"https://github.com/zloirock/core-js"})},6293:(t,e,n)=>{var o=n(7392),r=n(7293);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&o&&o<41}))},261:(t,e,n)=>{var o,r,i,s,a=n(7854),l=n(2104),c=n(9974),u=n(614),d=n(2597),p=n(7293),h=n(490),f=n(206),g=n(317),_=n(8053),m=n(6833),y=n(5268),v=a.setImmediate,C=a.clearImmediate,E=a.process,b=a.Dispatch,S=a.Function,w=a.MessageChannel,O=a.String,P=0,T={},R="onreadystatechange";p((function(){o=a.location}));var D=function(t){if(d(T,t)){var e=T[t];delete T[t],e()}},x=function(t){return function(){D(t)}},M=function(t){D(t.data)},A=function(t){a.postMessage(O(t),o.protocol+"//"+o.host)};v&&C||(v=function(t){_(arguments.length,1);var e=u(t)?t:S(t),n=f(arguments,1);return T[++P]=function(){l(e,void 0,n)},r(P),P},C=function(t){delete T[t]},y?r=function(t){E.nextTick(x(t))}:b&&b.now?r=function(t){b.now(x(t))}:w&&!m?(s=(i=new w).port2,i.port1.onmessage=M,r=c(s.postMessage,s)):a.addEventListener&&u(a.postMessage)&&!a.importScripts&&o&&"file:"!==o.protocol&&!p(A)?(r=A,a.addEventListener("message",M,!1)):r=R in g("script")?function(t){h.appendChild(g("script"))[R]=function(){h.removeChild(this),D(t)}}:function(t){setTimeout(x(t),0)}),t.exports={set:v,clear:C}},1400:(t,e,n)=>{var o=n(9303),r=Math.max,i=Math.min;t.exports=function(t,e){var n=o(t);return n<0?r(n+e,0):i(n,e)}},5656:(t,e,n)=>{var o=n(8361),r=n(4488);t.exports=function(t){return o(r(t))}},9303:(t,e,n)=>{var o=n(4758);t.exports=function(t){var e=+t;return e!=e||0===e?0:o(e)}},7466:(t,e,n)=>{var o=n(9303),r=Math.min;t.exports=function(t){return t>0?r(o(t),9007199254740991):0}},7908:(t,e,n)=>{var o=n(4488),r=Object;t.exports=function(t){return r(o(t))}},7593:(t,e,n)=>{var o=n(6916),r=n(111),i=n(2190),s=n(8173),a=n(2140),l=n(5112),c=TypeError,u=l("toPrimitive");t.exports=function(t,e){if(!r(t)||i(t))return t;var n,l=s(t,u);if(l){if(void 0===e&&(e="default"),n=o(l,t,e),!r(n)||i(n))return n;throw c("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},4948:(t,e,n)=>{var o=n(7593),r=n(2190);t.exports=function(t){var e=o(t,"string");return r(e)?e:e+""}},1694:(t,e,n)=>{var o={};o[n(5112)("toStringTag")]="z",t.exports="[object z]"===String(o)},1340:(t,e,n)=>{var o=n(648),r=String;t.exports=function(t){if("Symbol"===o(t))throw TypeError("Cannot convert a Symbol value to a string");return r(t)}},6330:t=>{var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},9711:(t,e,n)=>{var o=n(1702),r=0,i=Math.random(),s=o(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+s(++r+i,36)}},3307:(t,e,n)=>{var o=n(6293);t.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:(t,e,n)=>{var o=n(9781),r=n(7293);t.exports=o&&r((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8053:t=>{var e=TypeError;t.exports=function(t,n){if(t<n)throw e("Not enough arguments");return t}},4811:(t,e,n)=>{var o=n(7854),r=n(614),i=o.WeakMap;t.exports=r(i)&&/native code/.test(String(i))},5112:(t,e,n)=>{var o=n(7854),r=n(2309),i=n(2597),s=n(9711),a=n(6293),l=n(3307),c=o.Symbol,u=r("wks"),d=l?c.for||c:c&&c.withoutSetter||s;t.exports=function(t){return i(u,t)||(u[t]=a&&i(c,t)?c[t]:d("Symbol."+t)),u[t]}},9191:(t,e,n)=>{"use strict";var o=n(5005),r=n(2597),i=n(8880),s=n(7976),a=n(7674),l=n(9920),c=n(2626),u=n(9587),d=n(6277),p=n(8340),h=n(5392),f=n(9781),g=n(1913);t.exports=function(t,e,n,_){var m="stackTraceLimit",y=_?2:1,v=t.split("."),C=v[v.length-1],E=o.apply(null,v);if(E){var b=E.prototype;if(!g&&r(b,"cause")&&delete b.cause,!n)return E;var S=o("Error"),w=e((function(t,e){var n=d(_?e:t,void 0),o=_?new E(t):new E;return void 0!==n&&i(o,"message",n),h(o,w,o.stack,2),this&&s(b,this)&&u(o,this,w),arguments.length>y&&p(o,arguments[y]),o}));if(w.prototype=b,"Error"!==C?a?a(w,S):l(w,S,{name:!0}):f&&m in E&&(c(w,E,m),c(w,E,"prepareStackTrace")),l(w,E),!g)try{b.name!==C&&i(b,"name",C),b.constructor=w}catch(t){}return w}}},7658:(t,e,n)=>{"use strict";var o=n(2109),r=n(7908),i=n(6244),s=n(3658),a=n(7207);o({target:"Array",proto:!0,arity:1,forced:n(7293)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}()},{push:function(t){var e=r(this),n=i(e),o=arguments.length;a(n+o);for(var l=0;l<o;l++)e[n]=arguments[l],n++;return s(e,n),n}})},1703:(t,e,n)=>{var o=n(2109),r=n(7854),i=n(2104),s=n(9191),a="WebAssembly",l=r[a],c=7!==Error("e",{cause:7}).cause,u=function(t,e){var n={};n[t]=s(t,e,c),o({global:!0,constructor:!0,arity:1,forced:c},n)},d=function(t,e){if(l&&l[t]){var n={};n[t]=s(a+"."+t,e,c),o({target:a,stat:!0,constructor:!0,arity:1,forced:c},n)}};u("Error",(function(t){return function(e){return i(t,this,arguments)}})),u("EvalError",(function(t){return function(e){return i(t,this,arguments)}})),u("RangeError",(function(t){return function(e){return i(t,this,arguments)}})),u("ReferenceError",(function(t){return function(e){return i(t,this,arguments)}})),u("SyntaxError",(function(t){return function(e){return i(t,this,arguments)}})),u("TypeError",(function(t){return function(e){return i(t,this,arguments)}})),u("URIError",(function(t){return function(e){return i(t,this,arguments)}})),d("CompileError",(function(t){return function(e){return i(t,this,arguments)}})),d("LinkError",(function(t){return function(e){return i(t,this,arguments)}})),d("RuntimeError",(function(t){return function(e){return i(t,this,arguments)}}))},1091:(t,e,n)=>{var o=n(2109),r=n(7854),i=n(261).clear;o({global:!0,bind:!0,enumerable:!0,forced:r.clearImmediate!==i},{clearImmediate:i})},4633:(t,e,n)=>{n(1091),n(2986)},2986:(t,e,n)=>{var o=n(2109),r=n(7854),i=n(261).set,s=n(7152),a=r.setImmediate?s(i,!1):i;o({global:!0,bind:!0,enumerable:!0,forced:r.setImmediate!==a},{setImmediate:a})},7484:function(t){t.exports=function(){"use strict";var t=1e3,e=6e4,n=36e5,o="millisecond",r="second",i="minute",s="hour",a="day",l="week",c="month",u="quarter",d="year",p="date",h="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],n=t%100;return"["+t+(e[(n-20)%10]||e[n]||e[0])+"]"}},m=function(t,e,n){var o=String(t);return!o||o.length>=e?t:""+Array(e+1-o.length).join(n)+t},y={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),o=Math.floor(n/60),r=n%60;return(e<=0?"+":"-")+m(o,2,"0")+":"+m(r,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var o=12*(n.year()-e.year())+(n.month()-e.month()),r=e.clone().add(o,c),i=n-r<0,s=e.clone().add(o+(i?-1:1),c);return+(-(o+(n-r)/(i?r-s:s-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:d,w:l,d:a,D:p,h:s,m:i,s:r,ms:o,Q:u}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},v="en",C={};C[v]=_;var E=function(t){return t instanceof O},b=function t(e,n,o){var r;if(!e)return v;if("string"==typeof e){var i=e.toLowerCase();C[i]&&(r=i),n&&(C[i]=n,r=i);var s=e.split("-");if(!r&&s.length>1)return t(s[0])}else{var a=e.name;C[a]=e,r=a}return!o&&r&&(v=r),r||!o&&v},S=function(t,e){if(E(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new O(n)},w=y;w.l=b,w.i=E,w.w=function(t,e){return S(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var O=function(){function _(t){this.$L=b(t.locale,null,!0),this.parse(t)}var m=_.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(w.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var o=e.match(f);if(o){var r=o[2]-1||0,i=(o[7]||"0").substring(0,3);return n?new Date(Date.UTC(o[1],r,o[3]||1,o[4]||0,o[5]||0,o[6]||0,i)):new Date(o[1],r,o[3]||1,o[4]||0,o[5]||0,o[6]||0,i)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return w},m.isValid=function(){return!(this.$d.toString()===h)},m.isSame=function(t,e){var n=S(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return S(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<S(t)},m.$g=function(t,e,n){return w.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,o=!!w.u(e)||e,u=w.p(t),h=function(t,e){var r=w.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return o?r:r.endOf(a)},f=function(t,e){return w.w(n.toDate()[t].apply(n.toDate("s"),(o?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},g=this.$W,_=this.$M,m=this.$D,y="set"+(this.$u?"UTC":"");switch(u){case d:return o?h(1,0):h(31,11);case c:return o?h(1,_):h(0,_+1);case l:var v=this.$locale().weekStart||0,C=(g<v?g+7:g)-v;return h(o?m-C:m+(6-C),_);case a:case p:return f(y+"Hours",0);case s:return f(y+"Minutes",1);case i:return f(y+"Seconds",2);case r:return f(y+"Milliseconds",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,l=w.p(t),u="set"+(this.$u?"UTC":""),h=(n={},n[a]=u+"Date",n[p]=u+"Date",n[c]=u+"Month",n[d]=u+"FullYear",n[s]=u+"Hours",n[i]=u+"Minutes",n[r]=u+"Seconds",n[o]=u+"Milliseconds",n)[l],f=l===a?this.$D+(e-this.$W):e;if(l===c||l===d){var g=this.clone().set(p,1);g.$d[h](f),g.init(),this.$d=g.set(p,Math.min(this.$D,g.daysInMonth())).$d}else h&&this.$d[h](f);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[w.p(t)]()},m.add=function(o,u){var p,h=this;o=Number(o);var f=w.p(u),g=function(t){var e=S(h);return w.w(e.date(e.date()+Math.round(t*o)),h)};if(f===c)return this.set(c,this.$M+o);if(f===d)return this.set(d,this.$y+o);if(f===a)return g(1);if(f===l)return g(7);var _=(p={},p[i]=e,p[s]=n,p[r]=t,p)[f]||1,m=this.$d.getTime()+o*_;return w.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var o=t||"YYYY-MM-DDTHH:mm:ssZ",r=w.z(this),i=this.$H,s=this.$m,a=this.$M,l=n.weekdays,c=n.months,u=function(t,n,r,i){return t&&(t[n]||t(e,o))||r[n].slice(0,i)},d=function(t){return w.s(i%12||12,t,"0")},p=n.meridiem||function(t,e,n){var o=t<12?"AM":"PM";return n?o.toLowerCase():o},f={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:w.s(a+1,2,"0"),MMM:u(n.monthsShort,a,c,3),MMMM:u(c,a),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:u(n.weekdaysMin,this.$W,l,2),ddd:u(n.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(i),HH:w.s(i,2,"0"),h:d(1),hh:d(2),a:p(i,s,!0),A:p(i,s,!1),m:String(s),mm:w.s(s,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:r};return o.replace(g,(function(t,e){return e||f[t]||r.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(o,p,h){var f,g=w.p(p),_=S(o),m=(_.utcOffset()-this.utcOffset())*e,y=this-_,v=w.m(this,_);return v=(f={},f[d]=v/12,f[c]=v,f[u]=v/3,f[l]=(y-m)/6048e5,f[a]=(y-m)/864e5,f[s]=y/n,f[i]=y/e,f[r]=y/t,f)[g]||y,h?v:w.a(v)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return C[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),o=b(t,e,!0);return o&&(n.$L=o),n},m.clone=function(){return w.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},_}(),P=O.prototype;return S.prototype=P,[["$ms",o],["$s",r],["$m",i],["$H",s],["$W",a],["$M",c],["$y",d],["$D",p]].forEach((function(t){P[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),S.extend=function(t,e){return t.$i||(t(e,O,S),t.$i=!0),S},S.locale=b,S.isDayjs=E,S.unix=function(t){return S(1e3*t)},S.en=C[v],S.Ls=C,S.p={},S}()},600:function(t,e,n){t.exports=function(t){"use strict";function e(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var n=e(t),o="___________".split("_"),r="___________".split("_"),i="._._._.____._._._._.".split("_"),s="._.__.____._._._._.".split("_"),a=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/;function l(t,e,n){var o,r;return"m"===n?e?"":"":t+" "+(o=+t,r={mm:e?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"}[n].split("_"),o%10==1&&o%100!=11?r[0]:o%10>=2&&o%10<=4&&(o%100<10||o%100>=20)?r[1]:r[2])}var c=function(t,e){return a.test(e)?o[t.month()]:r[t.month()]};c.s=r,c.f=o;var u=function(t,e){return a.test(e)?i[t.month()]:s[t.month()]};u.s=s,u.f=i;var d={name:"ru",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:c,monthsShort:u,weekStart:1,yearStart:4,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},relativeTime:{future:" %s",past:"%s ",s:" ",m:l,mm:l,h:"",hh:l,d:"",dd:l,M:"",MM:l,y:"",yy:l},ordinal:function(t){return t},meridiem:function(t){return t<4?"":t<12?"":t<17?"":""}};return n.default.locale(d,null,!0),d}(n(7484))},5171:t=>{t.exports=function(t){return!(!t||"string"==typeof t)&&(t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&"String"!==t.constructor.name))}},9367:t=>{"use strict";const e=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);t.exports=t=>!e.has(t&&t.code)},6745:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Animation=void 0;const o=n(4417),r=n(8588);var i=o.glob.performance&&o.glob.performance.now?function(){return o.glob.performance.now()}:function(){return(new Date).getTime()};class s{constructor(t,e){this.id=s.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:i(),frameRate:0},this.func=t,this.setLayers(e)}setLayers(t){var e=[];return e=t?t.length>0?t:[t]:[],this.layers=e,this}getLayers(){return this.layers}addLayer(t){var e,n=this.layers,o=n.length;for(e=0;e<o;e++)if(n[e]._id===t._id)return!1;return this.layers.push(t),!0}isRunning(){var t,e=s.animations,n=e.length;for(t=0;t<n;t++)if(e[t].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=i(),s._addAnimation(this),this}stop(){return s._removeAnimation(this),this}_updateFrameObject(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(t){this.animations.push(t),this._handleAnimation()}static _removeAnimation(t){var e,n=t.id,o=this.animations,r=o.length;for(e=0;e<r;e++)if(o[e].id===n){this.animations.splice(e,1);break}}static _runFrames(){var t,e,n,o,r,s,a,l,c={},u=this.animations;for(o=0;o<u.length;o++)if(e=(t=u[o]).layers,n=t.func,t._updateFrameObject(i()),s=e.length,!n||!1!==n.call(t,t.frame))for(r=0;r<s;r++)void 0!==(a=e[r])._id&&(c[a._id]=a);for(l in c)c.hasOwnProperty(l)&&c[l].batchDraw()}static _animationLoop(){var t=s;t.animations.length?(t._runFrames(),r.Util.requestAnimFrame(t._animationLoop)):t.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,r.Util.requestAnimFrame(this._animationLoop))}}s.animations=[],s.animIdCounter=0,s.animRunning=!1,e.Animation=s},4135:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.t2length=e.getQuadraticArcLength=e.getCubicArcLength=e.binomialCoefficients=e.cValues=e.tValues=void 0,e.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],e.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],e.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];e.getCubicArcLength=(t,o,r)=>{let i,s,a;i=r/2,s=0;for(let r=0;r<20;r++)a=i*e.tValues[20][r]+i,s+=e.cValues[20][r]*n(t,o,a);return i*s};function n(t,e,n){const r=o(1,n,t),i=o(1,n,e),s=r*r+i*i;return Math.sqrt(s)}e.getQuadraticArcLength=(t,e,n)=>{void 0===n&&(n=1);const o=t[0]-2*t[1]+t[2],r=e[0]-2*e[1]+e[2],i=2*t[1]-2*t[0],s=2*e[1]-2*e[0],a=4*(o*o+r*r),l=4*(o*i+r*s),c=i*i+s*s;if(0===a)return n*Math.sqrt(Math.pow(t[2]-t[0],2)+Math.pow(e[2]-e[0],2));const u=l/(2*a),d=n+u,p=c/a-u*u,h=d*d+p>0?Math.sqrt(d*d+p):0,f=u*u+p>0?Math.sqrt(u*u+p):0,g=u+Math.sqrt(u*u+p)!==0?p*Math.log(Math.abs((d+h)/(u+f))):0;return Math.sqrt(a)/2*(d*h-u*f+g)};const o=(t,n,r)=>{const i=r.length-1;let s,a;if(0===i)return 0;if(0===t){a=0;for(let t=0;t<=i;t++)a+=e.binomialCoefficients[i][t]*Math.pow(1-n,i-t)*Math.pow(n,t)*r[t];return a}s=new Array(i);for(let t=0;t<i;t++)s[t]=i*(r[t+1]-r[t]);return o(t-1,n,s)};e.t2length=(t,e,n)=>{let o=1,r=t/e,i=(t-n(r))/e,s=0;for(;o>.001;){const a=n(r+i),l=Math.abs(t-a)/e;if(l<o)o=l,r+=i;else{const s=n(r-i),a=Math.abs(t-s)/e;a<o?(o=a,r-=i):i/=2}if(s++,s>500)break}return r}},4842:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HitCanvas=e.SceneCanvas=e.Canvas=void 0;const o=n(8588),r=n(3442),i=n(4417),s=n(1455),a=n(3774);var l;class c{constructor(t){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var e=(t||{}).pixelRatio||i.Konva.pixelRatio||function(){if(l)return l;var t=o.Util.createCanvasElement(),e=t.getContext("2d");return l=(i.Konva._global.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1),o.Util.releaseCanvas(t),l}();this.pixelRatio=e,this._canvas=o.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(t){var e=this.pixelRatio;this.pixelRatio=t,this.setSize(this.getWidth()/e,this.getHeight()/e)}setWidth(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px";var e=this.pixelRatio;this.getContext()._context.scale(e,e)}setHeight(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px";var e=this.pixelRatio;this.getContext()._context.scale(e,e)}getWidth(){return this.width}getHeight(){return this.height}setSize(t,e){this.setWidth(t||0),this.setHeight(e||0)}toDataURL(t,e){try{return this._canvas.toDataURL(t,e)}catch(t){try{return this._canvas.toDataURL()}catch(t){return o.Util.error("Unable to get data URL. "+t.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}e.Canvas=c,s.Factory.addGetterSetter(c,"pixelRatio",void 0,(0,a.getNumberValidator)());e.SceneCanvas=class extends c{constructor(t={width:0,height:0,willReadFrequently:!1}){super(t),this.context=new r.SceneContext(this,{willReadFrequently:t.willReadFrequently}),this.setSize(t.width,t.height)}};e.HitCanvas=class extends c{constructor(t={width:0,height:0}){super(t),this.hitCanvas=!0,this.context=new r.HitContext(this),this.setSize(t.width,t.height)}}},8783:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Container=void 0;const o=n(1455),r=n(7939),i=n(3774);class s extends r.Node{constructor(){super(...arguments),this.children=[]}getChildren(t){if(!t)return this.children||[];const e=this.children||[];var n=[];return e.forEach((function(e){t(e)&&n.push(e)})),n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach((t=>{t.parent=null,t.index=0,t.remove()})),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach((t=>{t.parent=null,t.index=0,t.destroy()})),this.children=[],this._requestDraw(),this}add(...t){if(0===t.length)return this;if(t.length>1){for(var e=0;e<t.length;e++)this.add(t[e]);return this}const n=t[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(t){return this._generalFind(t,!1)}findOne(t){var e=this._generalFind(t,!0);return e.length>0?e[0]:void 0}_generalFind(t,e){var n=[];return this._descendants((o=>{const r=o._isMatch(t);return r&&n.push(o),!(!r||!e)})),n}_descendants(t){let e=!1;const n=this.getChildren();for(const o of n){if(e=t(o),e)return!0;if(o.hasChildren()&&(e=o._descendants(t),e))return!0}return!1}toObject(){var t=r.Node.prototype.toObject.call(this);return t.children=[],this.getChildren().forEach((e=>{t.children.push(e.toObject())})),t}isAncestorOf(t){for(var e=t.getParent();e;){if(e._id===this._id)return!0;e=e.getParent()}return!1}clone(t){var e=r.Node.prototype.clone.call(this,t);return this.getChildren().forEach((function(t){e.add(t.clone())})),e}getAllIntersections(t){var e=[];return this.find("Shape").forEach((function(n){n.isVisible()&&n.intersects(t)&&e.push(n)})),e}_clearSelfAndDescendantCache(t){var e;super._clearSelfAndDescendantCache(t),this.isCached()||null===(e=this.children)||void 0===e||e.forEach((function(e){e._clearSelfAndDescendantCache(t)}))}_setChildrenIndices(){var t;null===(t=this.children)||void 0===t||t.forEach((function(t,e){t.index=e})),this._requestDraw()}drawScene(t,e){var n=this.getLayer(),o=t||n&&n.getCanvas(),r=o&&o.getContext(),i=this._getCanvasCache(),s=i&&i.scene,a=o&&o.isCache;if(!this.isVisible()&&!a)return this;if(s){r.save();var l=this.getAbsoluteTransform(e).getMatrix();r.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedSceneCanvas(r),r.restore()}else this._drawChildren("drawScene",o,e);return this}drawHit(t,e){if(!this.shouldDrawHit(e))return this;var n=this.getLayer(),o=t||n&&n.hitCanvas,r=o&&o.getContext(),i=this._getCanvasCache();if(i&&i.hit){r.save();var s=this.getAbsoluteTransform(e).getMatrix();r.transform(s[0],s[1],s[2],s[3],s[4],s[5]),this._drawCachedHitCanvas(r),r.restore()}else this._drawChildren("drawHit",o,e);return this}_drawChildren(t,e,n){var o,r=e&&e.getContext(),i=this.clipWidth(),s=this.clipHeight(),a=this.clipFunc(),l=i&&s||a;const c=n===this;if(l){r.save();var u=this.getAbsoluteTransform(n),d=u.getMatrix();if(r.transform(d[0],d[1],d[2],d[3],d[4],d[5]),r.beginPath(),a)a.call(this,r,this);else{var p=this.clipX(),h=this.clipY();r.rect(p,h,i,s)}r.clip(),d=u.copy().invert().getMatrix(),r.transform(d[0],d[1],d[2],d[3],d[4],d[5])}var f=!c&&"source-over"!==this.globalCompositeOperation()&&"drawScene"===t;f&&(r.save(),r._applyGlobalCompositeOperation(this)),null===(o=this.children)||void 0===o||o.forEach((function(o){o[t](e,n)})),f&&r.restore(),l&&r.restore()}getClientRect(t){var e,n,o,r,i,s=(t=t||{}).skipTransform,a=t.relativeTo,l={x:1/0,y:1/0,width:0,height:0},c=this;null===(e=this.children)||void 0===e||e.forEach((function(e){if(e.visible()){var s=e.getClientRect({relativeTo:c,skipShadow:t.skipShadow,skipStroke:t.skipStroke});0===s.width&&0===s.height||(void 0===n?(n=s.x,o=s.y,r=s.x+s.width,i=s.y+s.height):(n=Math.min(n,s.x),o=Math.min(o,s.y),r=Math.max(r,s.x+s.width),i=Math.max(i,s.y+s.height)))}}));for(var u=this.find("Shape"),d=!1,p=0;p<u.length;p++){if(u[p]._isVisible(this)){d=!0;break}}return l=d&&void 0!==n?{x:n,y:o,width:r-n,height:i-o}:{x:0,y:0,width:0,height:0},s?l:this._transformedRect(l,a)}}e.Container=s,o.Factory.addComponentsGetterSetter(s,"clip",["x","y","width","height"]),o.Factory.addGetterSetter(s,"clipX",void 0,(0,i.getNumberValidator)()),o.Factory.addGetterSetter(s,"clipY",void 0,(0,i.getNumberValidator)()),o.Factory.addGetterSetter(s,"clipWidth",void 0,(0,i.getNumberValidator)()),o.Factory.addGetterSetter(s,"clipHeight",void 0,(0,i.getNumberValidator)()),o.Factory.addGetterSetter(s,"clipFunc")},3442:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HitContext=e.SceneContext=e.Context=void 0;const o=n(8588),r=n(4417);var i=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"];class s{constructor(t){this.canvas=t,r.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(t){t.fillEnabled()&&this._fill(t)}_fill(t){}strokeShape(t){t.hasStroke()&&this._stroke(t)}_stroke(t){}fillStrokeShape(t){t.attrs.fillAfterStrokeEnabled?(this.strokeShape(t),this.fillShape(t)):(this.fillShape(t),this.strokeShape(t))}getTrace(t,e){var n,r,i,s,a=this.traceArr,l=a.length,c="";for(n=0;n<l;n++)(i=(r=a[n]).method)?(s=r.args,c+=i,t?c+="()":o.Util._isArray(s[0])?c+="(["+s.join(",")+"])":(e&&(s=s.map((t=>"number"==typeof t?Math.floor(t):t))),c+="("+s.join(",")+")")):(c+=r.property,t||(c+="="+r.val)),c+=";";return c}clearTrace(){this.traceArr=[]}_trace(t){var e=this.traceArr;e.push(t),e.length>=100&&e.shift()}reset(){var t=this.getCanvas().getPixelRatio();this.setTransform(1*t,0,0,1*t,0,0)}getCanvas(){return this.canvas}clear(t){var e=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,e.getWidth()/e.pixelRatio,e.getHeight()/e.pixelRatio)}_applyLineCap(t){const e=t.attrs.lineCap;e&&this.setAttr("lineCap",e)}_applyOpacity(t){var e=t.getAbsoluteOpacity();1!==e&&this.setAttr("globalAlpha",e)}_applyLineJoin(t){const e=t.attrs.lineJoin;e&&this.setAttr("lineJoin",e)}setAttr(t,e){this._context[t]=e}arc(t,e,n,o,r,i){this._context.arc(t,e,n,o,r,i)}arcTo(t,e,n,o,r){this._context.arcTo(t,e,n,o,r)}beginPath(){this._context.beginPath()}bezierCurveTo(t,e,n,o,r,i){this._context.bezierCurveTo(t,e,n,o,r,i)}clearRect(t,e,n,o){this._context.clearRect(t,e,n,o)}clip(){this._context.clip()}closePath(){this._context.closePath()}createImageData(t,e){var n=arguments;return 2===n.length?this._context.createImageData(t,e):1===n.length?this._context.createImageData(t):void 0}createLinearGradient(t,e,n,o){return this._context.createLinearGradient(t,e,n,o)}createPattern(t,e){return this._context.createPattern(t,e)}createRadialGradient(t,e,n,o,r,i){return this._context.createRadialGradient(t,e,n,o,r,i)}drawImage(t,e,n,o,r,i,s,a,l){var c=arguments,u=this._context;3===c.length?u.drawImage(t,e,n):5===c.length?u.drawImage(t,e,n,o,r):9===c.length&&u.drawImage(t,e,n,o,r,i,s,a,l)}ellipse(t,e,n,o,r,i,s,a){this._context.ellipse(t,e,n,o,r,i,s,a)}isPointInPath(t,e,n,o){return n?this._context.isPointInPath(n,t,e,o):this._context.isPointInPath(t,e,o)}fill(t){t?this._context.fill(t):this._context.fill()}fillRect(t,e,n,o){this._context.fillRect(t,e,n,o)}strokeRect(t,e,n,o){this._context.strokeRect(t,e,n,o)}fillText(t,e,n,o){o?this._context.fillText(t,e,n,o):this._context.fillText(t,e,n)}measureText(t){return this._context.measureText(t)}getImageData(t,e,n,o){return this._context.getImageData(t,e,n,o)}lineTo(t,e){this._context.lineTo(t,e)}moveTo(t,e){this._context.moveTo(t,e)}rect(t,e,n,o){this._context.rect(t,e,n,o)}putImageData(t,e,n){this._context.putImageData(t,e,n)}quadraticCurveTo(t,e,n,o){this._context.quadraticCurveTo(t,e,n,o)}restore(){this._context.restore()}rotate(t){this._context.rotate(t)}save(){this._context.save()}scale(t,e){this._context.scale(t,e)}setLineDash(t){this._context.setLineDash?this._context.setLineDash(t):"mozDash"in this._context?this._context.mozDash=t:"webkitLineDash"in this._context&&(this._context.webkitLineDash=t)}getLineDash(){return this._context.getLineDash()}setTransform(t,e,n,o,r,i){this._context.setTransform(t,e,n,o,r,i)}stroke(t){t?this._context.stroke(t):this._context.stroke()}strokeText(t,e,n,o){this._context.strokeText(t,e,n,o)}transform(t,e,n,o,r,i){this._context.transform(t,e,n,o,r,i)}translate(t,e){this._context.translate(t,e)}_enableTrace(){var t,e,n=this,r=i.length,s=this.setAttr,a=function(t){var r,i=n[t];n[t]=function(){return e=function(t){var e,n,r=[],i=t.length,s=o.Util;for(e=0;e<i;e++)n=t[e],s._isNumber(n)?n=Math.round(1e3*n)/1e3:s._isString(n)||(n+=""),r.push(n);return r}(Array.prototype.slice.call(arguments,0)),r=i.apply(n,arguments),n._trace({method:t,args:e}),r}};for(t=0;t<r;t++)a(i[t]);n.setAttr=function(){s.apply(n,arguments);var t=arguments[0],e=arguments[1];"shadowOffsetX"!==t&&"shadowOffsetY"!==t&&"shadowBlur"!==t||(e/=this.canvas.getPixelRatio()),n._trace({property:t,val:e})}}_applyGlobalCompositeOperation(t){const e=t.attrs.globalCompositeOperation;!e||"source-over"===e||this.setAttr("globalCompositeOperation",e)}}e.Context=s,["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"].forEach((function(t){Object.defineProperty(s.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})}));e.SceneContext=class extends s{constructor(t,{willReadFrequently:e=!1}={}){super(t),this._context=t._canvas.getContext("2d",{willReadFrequently:e})}_fillColor(t){var e=t.fill();this.setAttr("fillStyle",e),t._fillFunc(this)}_fillPattern(t){this.setAttr("fillStyle",t._getFillPattern()),t._fillFunc(this)}_fillLinearGradient(t){var e=t._getLinearGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))}_fillRadialGradient(t){const e=t._getRadialGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))}_fill(t){const e=t.fill(),n=t.getFillPriority();if(e&&"color"===n)return void this._fillColor(t);const o=t.getFillPatternImage();if(o&&"pattern"===n)return void this._fillPattern(t);const r=t.getFillLinearGradientColorStops();if(r&&"linear-gradient"===n)return void this._fillLinearGradient(t);const i=t.getFillRadialGradientColorStops();i&&"radial-gradient"===n?this._fillRadialGradient(t):e?this._fillColor(t):o?this._fillPattern(t):r?this._fillLinearGradient(t):i&&this._fillRadialGradient(t)}_strokeLinearGradient(t){const e=t.getStrokeLinearGradientStartPoint(),n=t.getStrokeLinearGradientEndPoint(),o=t.getStrokeLinearGradientColorStops(),r=this.createLinearGradient(e.x,e.y,n.x,n.y);if(o){for(var i=0;i<o.length;i+=2)r.addColorStop(o[i],o[i+1]);this.setAttr("strokeStyle",r)}}_stroke(t){var e=t.dash(),n=t.getStrokeScaleEnabled();if(t.hasStroke()){if(!n){this.save();var o=this.getCanvas().getPixelRatio();this.setTransform(o,0,0,o,0,0)}this._applyLineCap(t),e&&t.dashEnabled()&&(this.setLineDash(e),this.setAttr("lineDashOffset",t.dashOffset())),this.setAttr("lineWidth",t.strokeWidth()),t.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),t.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(t):this.setAttr("strokeStyle",t.stroke()),t._strokeFunc(this),n||this.restore()}}_applyShadow(t){var e,n,o,r=null!==(e=t.getShadowRGBA())&&void 0!==e?e:"black",i=null!==(n=t.getShadowBlur())&&void 0!==n?n:5,s=null!==(o=t.getShadowOffset())&&void 0!==o?o:{x:0,y:0},a=t.getAbsoluteScale(),l=this.canvas.getPixelRatio(),c=a.x*l,u=a.y*l;this.setAttr("shadowColor",r),this.setAttr("shadowBlur",i*Math.min(Math.abs(c),Math.abs(u))),this.setAttr("shadowOffsetX",s.x*c),this.setAttr("shadowOffsetY",s.y*u)}};e.HitContext=class extends s{constructor(t){super(t),this._context=t._canvas.getContext("2d",{willReadFrequently:!0})}_fill(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()}strokeShape(t){t.hasHitStroke()&&this._stroke(t)}_stroke(t){if(t.hasHitStroke()){const r=t.getStrokeScaleEnabled();if(!r){this.save();var e=this.getCanvas().getPixelRatio();this.setTransform(e,0,0,e,0,0)}this._applyLineCap(t);var n=t.hitStrokeWidth(),o="auto"===n?t.strokeWidth():n;this.setAttr("lineWidth",o),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this),r||this.restore()}}}},210:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DD=void 0;const o=n(4417),r=n(8588);e.DD={get isDragging(){var t=!1;return e.DD._dragElements.forEach((e=>{"dragging"===e.dragStatus&&(t=!0)})),t},justDragged:!1,get node(){var t;return e.DD._dragElements.forEach((e=>{t=e.node})),t},_dragElements:new Map,_drag(t){const n=[];e.DD._dragElements.forEach(((e,o)=>{const{node:i}=e,s=i.getStage();s.setPointersPositions(t),void 0===e.pointerId&&(e.pointerId=r.Util._getFirstPointerId(t));const a=s._changedPointerPositions.find((t=>t.id===e.pointerId));if(a){if("dragging"!==e.dragStatus){var l=i.dragDistance();if(Math.max(Math.abs(a.x-e.startPointerPos.x),Math.abs(a.y-e.startPointerPos.y))<l)return;if(i.startDrag({evt:t}),!i.isDragging())return}i._setDragPosition(t,e),n.push(i)}})),n.forEach((e=>{e.fire("dragmove",{type:"dragmove",target:e,evt:t},!0)}))},_endDragBefore(t){const n=[];e.DD._dragElements.forEach((r=>{const{node:i}=r,s=i.getStage();t&&s.setPointersPositions(t);if(!s._changedPointerPositions.find((t=>t.id===r.pointerId)))return;"dragging"!==r.dragStatus&&"stopped"!==r.dragStatus||(e.DD.justDragged=!0,o.Konva._mouseListenClick=!1,o.Konva._touchListenClick=!1,o.Konva._pointerListenClick=!1,r.dragStatus="stopped");const a=r.node.getLayer()||r.node instanceof o.Konva.Stage&&r.node;a&&-1===n.indexOf(a)&&n.push(a)})),n.forEach((t=>{t.draw()}))},_endDragAfter(t){e.DD._dragElements.forEach(((n,o)=>{"stopped"===n.dragStatus&&n.node.fire("dragend",{type:"dragend",target:n.node,evt:t},!0),"dragging"!==n.dragStatus&&e.DD._dragElements.delete(o)}))}},o.Konva.isBrowser&&(window.addEventListener("mouseup",e.DD._endDragBefore,!0),window.addEventListener("touchend",e.DD._endDragBefore,!0),window.addEventListener("mousemove",e.DD._drag),window.addEventListener("touchmove",e.DD._drag),window.addEventListener("mouseup",e.DD._endDragAfter,!1),window.addEventListener("touchend",e.DD._endDragAfter,!1))},1455:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Factory=void 0;const o=n(8588),r=n(3774);var i="get",s="set";e.Factory={addGetterSetter(t,n,o,r,i){e.Factory.addGetter(t,n,o),e.Factory.addSetter(t,n,r,i),e.Factory.addOverloadedGetterSetter(t,n)},addGetter(t,e,n){var r=i+o.Util._capitalize(e);t.prototype[r]=t.prototype[r]||function(){var t=this.attrs[e];return void 0===t?n:t}},addSetter(t,n,r,i){var a=s+o.Util._capitalize(n);t.prototype[a]||e.Factory.overWriteSetter(t,n,r,i)},overWriteSetter(t,e,n,r){var i=s+o.Util._capitalize(e);t.prototype[i]=function(t){return n&&null!=t&&(t=n.call(this,t,e)),this._setAttr(e,t),r&&r.call(this),this}},addComponentsGetterSetter(t,n,a,l,c){var u,d,p=a.length,h=o.Util._capitalize,f=i+h(n),g=s+h(n);t.prototype[f]=function(){var t={};for(u=0;u<p;u++)t[d=a[u]]=this.getAttr(n+h(d));return t};var _=(0,r.getComponentValidator)(a);t.prototype[g]=function(t){var e,o=this.attrs[n];for(e in l&&(t=l.call(this,t)),_&&_.call(this,t,n),t)t.hasOwnProperty(e)&&this._setAttr(n+h(e),t[e]);return t||a.forEach((t=>{this._setAttr(n+h(t),void 0)})),this._fireChangeEvent(n,o,t),c&&c.call(this),this},e.Factory.addOverloadedGetterSetter(t,n)},addOverloadedGetterSetter(t,e){var n=o.Util._capitalize(e),r=s+n,a=i+n;t.prototype[e]=function(){return arguments.length?(this[r](arguments[0]),this):this[a]()}},addDeprecatedGetterSetter(t,n,r,s){o.Util.error("Adding deprecated "+n);var a=i+o.Util._capitalize(n),l=n+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[a]=function(){o.Util.error(l);var t=this.attrs[n];return void 0===t?r:t},e.Factory.addSetter(t,n,s,(function(){o.Util.error(l)})),e.Factory.addOverloadedGetterSetter(t,n)},backCompat(t,e){o.Util.each(e,(function(e,n){var r=t.prototype[n],a=i+o.Util._capitalize(e),l=s+o.Util._capitalize(e);function c(){r.apply(this,arguments),o.Util.error('"'+e+'" method is deprecated and will be removed soon. Use ""'+n+'" instead.')}t.prototype[e]=c,t.prototype[a]=c,t.prototype[l]=c}))},afterSetFilter(){this._filterUpToDate=!1}}},3980:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FastLayer=void 0;const o=n(8588),r=n(4415),i=n(4417);class s extends r.Layer{constructor(t){super(t),this.listening(!1),o.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}e.FastLayer=s,s.prototype.nodeType="FastLayer",(0,i._registerNode)(s)},4417:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._registerNode=e.Konva=e.glob=void 0;var o=Math.PI/180;e.glob=void 0!==n.g?n.g:"undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope?self:{},e.Konva={_global:e.glob,version:"9.0.1",isBrowser:"undefined"!=typeof window&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window)),isUnminified:/param/.test(function(t){}.toString()),dblClickWindow:400,getAngle:t=>e.Konva.angleDeg?t*o:t,enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:()=>e.Konva.DD.isDragging,isDragReady:()=>!!e.Konva.DD.node,releaseCanvasOnDestroy:!0,document:e.glob.document,_injectGlobal(t){e.glob.Konva=t}};e._registerNode=t=>{e.Konva[t.prototype.getClassName()]=t},e.Konva._injectGlobal(e.Konva)},8985:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Group=void 0;const o=n(8588),r=n(8783),i=n(4417);class s extends r.Container{_validateAdd(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&o.Util.throw("You may only add groups and shapes to groups.")}}e.Group=s,s.prototype.nodeType="Group",(0,i._registerNode)(s)},4415:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Layer=void 0;const o=n(8588),r=n(8783),i=n(7939),s=n(1455),a=n(4842),l=n(3774),c=n(7955),u=n(4417);var d=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],p=d.length;class h extends r.Container{constructor(t){super(t),this.canvas=new a.SceneCanvas,this.hitCanvas=new a.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(t){return this.getContext().clear(t),this.getHitCanvas().getContext().clear(t),this}setZIndex(t){super.setZIndex(t);var e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),t<e.children.length-1?e.content.insertBefore(this.getNativeCanvasElement(),e.children[t+1].getCanvas()._canvas):e.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){i.Node.prototype.moveToTop.call(this);var t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!i.Node.prototype.moveUp.call(this))return!1;var t=this.getStage();return!(!t||!t.content)&&(t.content.removeChild(this.getNativeCanvasElement()),this.index<t.children.length-1?t.content.insertBefore(this.getNativeCanvasElement(),t.children[this.index+1].getCanvas()._canvas):t.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(i.Node.prototype.moveDown.call(this)){var t=this.getStage();if(t){var e=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),e[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(i.Node.prototype.moveToBottom.call(this)){var t=this.getStage();if(t){var e=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),e[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var t=this.getNativeCanvasElement();return i.Node.prototype.remove.call(this),t&&t.parentNode&&o.Util._isInDocument(t)&&t.parentNode.removeChild(t),this}getStage(){return this.parent}setSize({width:t,height:e}){return this.canvas.setSize(t,e),this.hitCanvas.setSize(t,e),this._setSmoothEnabled(),this}_validateAdd(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&o.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(t){return(t=t||{}).width=t.width||this.getWidth(),t.height=t.height||this.getHeight(),t.x=void 0!==t.x?t.x:this.x(),t.y=void 0!==t.y?t.y:this.y(),i.Node.prototype._toKonvaCanvas.call(this,t)}_checkVisibility(){const t=this.visible();this.canvas._canvas.style.display=t?"block":"none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){o.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){o.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,o.Util.requestAnimFrame((()=>{this.draw(),this._waitingForDraw=!1}))),this}getIntersection(t){if(!this.isListening()||!this.isVisible())return null;for(var e=1,n=!1;;){for(let o=0;o<p;o++){const r=d[o],i=this._getIntersection({x:t.x+r.x*e,y:t.y+r.y*e}),s=i.shape;if(s)return s;if(n=!!i.antialiased,!i.antialiased)break}if(!n)return null;e+=1}}_getIntersection(t){const e=this.hitCanvas.pixelRatio,n=this.hitCanvas.context.getImageData(Math.round(t.x*e),Math.round(t.y*e),1,1).data,r=n[3];if(255===r){const t=o.Util._rgbToHex(n[0],n[1],n[2]),e=c.shapes["#"+t];return e?{shape:e}:{antialiased:!0}}return r>0?{antialiased:!0}:{}}drawScene(t,e){var n=this.getLayer(),o=t||n&&n.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&o.getContext().clear(),r.Container.prototype.drawScene.call(this,o,e),this._fire("draw",{node:this}),this}drawHit(t,e){var n=this.getLayer(),o=t||n&&n.hitCanvas;return n&&n.clearBeforeDraw()&&n.getHitCanvas().getContext().clear(),r.Container.prototype.drawHit.call(this,o,e),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(t){o.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(t)}getHitGraphEnabled(t){return o.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(this.parent&&this.parent.content){var t=this.parent;!!this.hitCanvas._canvas.parentNode?t.content.removeChild(this.hitCanvas._canvas):t.content.appendChild(this.hitCanvas._canvas)}}destroy(){return o.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}e.Layer=h,h.prototype.nodeType="Layer",(0,u._registerNode)(h),s.Factory.addGetterSetter(h,"imageSmoothingEnabled",!0),s.Factory.addGetterSetter(h,"clearBeforeDraw",!0),s.Factory.addGetterSetter(h,"hitGraphEnabled",!0,(0,l.getBooleanValidator)())},7939:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Node=void 0;const o=n(8588),r=n(1455),i=n(4842),s=n(4417),a=n(210),l=n(3774);var c="absoluteOpacity",u="allEventListeners",d="absoluteTransform",p="absoluteScale",h="canvas",f="listening",g="mouseenter",_="mouseleave",m="Shape",y=" ",v="stage",C="transform",E="visible",b=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(y);let S=1;class w{constructor(t){this._id=S++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(t),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(t){t!==C&&t!==d||!this._cache.get(t)?t?this._cache.delete(t):this._cache.clear():this._cache.get(t).dirty=!0}_getCache(t,e){var n=this._cache.get(t);return(void 0===n||(t===C||t===d)&&!0===n.dirty)&&(n=e.call(this),this._cache.set(t,n)),n}_calculate(t,e,n){if(!this._attachedDepsListeners.get(t)){const n=e.map((t=>t+"Change.konva")).join(y);this.on(n,(()=>{this._clearCache(t)})),this._attachedDepsListeners.set(t,!0)}return this._getCache(t,n)}_getCanvasCache(){return this._cache.get(h)}_clearSelfAndDescendantCache(t){this._clearCache(t),t===d&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(h)){const{scene:t,filter:e,hit:n}=this._cache.get(h);o.Util.releaseCanvas(t,e,n),this._cache.delete(h)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(t){var e=t||{},n={};void 0!==e.x&&void 0!==e.y&&void 0!==e.width&&void 0!==e.height||(n=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var r=Math.ceil(e.width||n.width),s=Math.ceil(e.height||n.height),a=e.pixelRatio,l=void 0===e.x?Math.floor(n.x):e.x,u=void 0===e.y?Math.floor(n.y):e.y,d=e.offset||0,f=e.drawBorder||!1,g=e.hitCanvasPixelRatio||1;if(r&&s){r+=2*d+1,s+=2*d+1,l-=d,u-=d;var _=new i.SceneCanvas({pixelRatio:a,width:r,height:s}),m=new i.SceneCanvas({pixelRatio:a,width:0,height:0,willReadFrequently:!0}),y=new i.HitCanvas({pixelRatio:g,width:r,height:s}),v=_.getContext(),C=y.getContext();return y.isCache=!0,_.isCache=!0,this._cache.delete(h),this._filterUpToDate=!1,!1===e.imageSmoothingEnabled&&(_.getContext()._context.imageSmoothingEnabled=!1,m.getContext()._context.imageSmoothingEnabled=!1),v.save(),C.save(),v.translate(-l,-u),C.translate(-l,-u),this._isUnderCache=!0,this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(p),this.drawScene(_,this),this.drawHit(y,this),this._isUnderCache=!1,v.restore(),C.restore(),f&&(v.save(),v.beginPath(),v.rect(0,0,r,s),v.closePath(),v.setAttr("strokeStyle","red"),v.setAttr("lineWidth",5),v.stroke(),v.restore()),this._cache.set(h,{scene:_,filter:m,hit:y,x:l,y:u}),this._requestDraw(),this}o.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.")}isCached(){return this._cache.has(h)}getClientRect(t){throw new Error('abstract "getClientRect" method call')}_transformedRect(t,e){var n,o,r,i,s=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],a=this.getAbsoluteTransform(e);return s.forEach((function(t){var e=a.point(t);void 0===n&&(n=r=e.x,o=i=e.y),n=Math.min(n,e.x),o=Math.min(o,e.y),r=Math.max(r,e.x),i=Math.max(i,e.y)})),{x:n,y:o,width:r-n,height:i-o}}_drawCachedSceneCanvas(t){t.save(),t._applyOpacity(this),t._applyGlobalCompositeOperation(this);const e=this._getCanvasCache();t.translate(e.x,e.y);var n=this._getCachedSceneCanvas(),o=n.pixelRatio;t.drawImage(n._canvas,0,0,n.width/o,n.height/o),t.restore()}_drawCachedHitCanvas(t){var e=this._getCanvasCache(),n=e.hit;t.save(),t.translate(e.x,e.y),t.drawImage(n._canvas,0,0,n.width/n.pixelRatio,n.height/n.pixelRatio),t.restore()}_getCachedSceneCanvas(){var t,e,n,r,i=this.filters(),s=this._getCanvasCache(),a=s.scene,l=s.filter,c=l.getContext();if(i){if(!this._filterUpToDate){var u=a.pixelRatio;l.setSize(a.width/a.pixelRatio,a.height/a.pixelRatio);try{for(t=i.length,c.clear(),c.drawImage(a._canvas,0,0,a.getWidth()/u,a.getHeight()/u),e=c.getImageData(0,0,l.getWidth(),l.getHeight()),n=0;n<t;n++)"function"==typeof(r=i[n])?(r.call(this,e),c.putImageData(e,0,0)):o.Util.error("Filter should be type of function, but got "+typeof r+" instead. Please check correct filters")}catch(t){o.Util.error("Unable to apply filter. "+t.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return l}return a}on(t,e){if(this._cache&&this._cache.delete(u),3===arguments.length)return this._delegate.apply(this,arguments);var n,o,r,i,s=t.split(y),a=s.length;for(n=0;n<a;n++)r=(o=s[n].split("."))[0],i=o[1]||"",this.eventListeners[r]||(this.eventListeners[r]=[]),this.eventListeners[r].push({name:i,handler:e});return this}off(t,e){var n,o,r,i,s,a=(t||"").split(y),l=a.length;if(this._cache&&this._cache.delete(u),!t)for(o in this.eventListeners)this._off(o);for(n=0;n<l;n++)if(i=(r=a[n].split("."))[0],s=r[1],i)this.eventListeners[i]&&this._off(i,s,e);else for(o in this.eventListeners)this._off(o,s,e);return this}dispatchEvent(t){var e={target:this,type:t.type,evt:t};return this.fire(t.type,e),this}addEventListener(t,e){return this.on(t,(function(t){e.call(this,t.evt)})),this}removeEventListener(t){return this.off(t),this}_delegate(t,e,n){var r=this;this.on(t,(function(t){for(var i=t.target.findAncestors(e,!0,r),s=0;s<i.length;s++)(t=o.Util.cloneObject(t)).currentTarget=i[s],n.call(i[s],t)}))}remove(){return this.isDragging()&&this.stopDrag(),a.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(d),this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(p),this._clearSelfAndDescendantCache(v),this._clearSelfAndDescendantCache(E),this._clearSelfAndDescendantCache(f)}_remove(){this._clearCaches();var t=this.getParent();t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(t){var e="get"+o.Util._capitalize(t);return o.Util._isFunction(this[e])?this[e]():this.attrs[t]}getAncestors(){for(var t=this.getParent(),e=[];t;)e.push(t),t=t.getParent();return e}getAttrs(){return this.attrs||{}}setAttrs(t){return this._batchTransformChanges((()=>{var e,n;if(!t)return this;for(e in t)"children"!==e&&(n="set"+o.Util._capitalize(e),o.Util._isFunction(this[n])?this[n](t[e]):this._setAttr(e,t[e]))})),this}isListening(){return this._getCache(f,this._isListening)}_isListening(t){if(!this.listening())return!1;const e=this.getParent();return!e||e===t||this===t||e._isListening(t)}isVisible(){return this._getCache(E,this._isVisible)}_isVisible(t){if(!this.visible())return!1;const e=this.getParent();return!e||e===t||this===t||e._isVisible(t)}shouldDrawHit(t,e=!1){if(t)return this._isVisible(t)&&this._isListening(t);var n=this.getLayer(),o=!1;a.DD._dragElements.forEach((t=>{"dragging"===t.dragStatus&&("Stage"===t.node.nodeType||t.node.getLayer()===n)&&(o=!0)}));var r=!e&&!s.Konva.hitOnDragEnabled&&o;return this.isListening()&&this.isVisible()&&!r}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var t,e,n,o,r=this.getDepth(),i=this,s=0;return"Stage"!==i.nodeType&&function a(l){for(t=[],e=l.length,n=0;n<e;n++)o=l[n],s++,o.nodeType!==m&&(t=t.concat(o.getChildren().slice())),o._id===i._id&&(n=e);t.length>0&&t[0].getDepth()<=r&&a(t)}(i.getStage().getChildren()),s}getDepth(){for(var t=0,e=this.parent;e;)t++,e=e.parent;return t}_batchTransformChanges(t){this._batchingTransformChange=!0,t(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(C),this._clearSelfAndDescendantCache(d)),this._needClearTransformCache=!1}setPosition(t){return this._batchTransformChanges((()=>{this.x(t.x),this.y(t.y)})),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){if(!this.getStage())return null;var t=this.getStage().getPointerPosition();if(!t)return null;var e=this.getAbsoluteTransform().copy();return e.invert(),e.point(t)}getAbsolutePosition(t){let e=!1,n=this.parent;for(;n;){if(n.isCached()){e=!0;break}n=n.parent}e&&!t&&(t=!0);var r=this.getAbsoluteTransform(t).getMatrix(),i=new o.Transform,s=this.offset();return i.m=r.slice(),i.translate(s.x,s.y),i.getTranslation()}setAbsolutePosition(t){var e=this._clearTransform();this.attrs.x=e.x,this.attrs.y=e.y,delete e.x,delete e.y,this._clearCache(C);var n=this._getAbsoluteTransform().copy();return n.invert(),n.translate(t.x,t.y),t={x:this.attrs.x+n.getTranslation().x,y:this.attrs.y+n.getTranslation().y},this._setTransform(e),this.setPosition({x:t.x,y:t.y}),this._clearCache(C),this._clearSelfAndDescendantCache(d),this}_setTransform(t){var e;for(e in t)this.attrs[e]=t[e]}_clearTransform(){var t={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,t}move(t){var e=t.x,n=t.y,o=this.x(),r=this.y();return void 0!==e&&(o+=e),void 0!==n&&(r+=n),this.setPosition({x:o,y:r}),this}_eachAncestorReverse(t,e){var n,o,r=[],i=this.getParent();if(!e||e._id!==this._id){for(r.unshift(this);i&&(!e||i._id!==e._id);)r.unshift(i),i=i.parent;for(n=r.length,o=0;o<n;o++)t(r[o])}}rotate(t){return this.rotation(this.rotation()+t),this}moveToTop(){if(!this.parent)return o.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var t=this.index;return t<this.parent.getChildren().length-1&&(this.parent.children.splice(t,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0)}moveUp(){if(!this.parent)return o.Util.warn("Node has no parent. moveUp function is ignored."),!1;var t=this.index;return t<this.parent.getChildren().length-1&&(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0)}moveDown(){if(!this.parent)return o.Util.warn("Node has no parent. moveDown function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0)}moveToBottom(){if(!this.parent)return o.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)}setZIndex(t){if(!this.parent)return o.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(t<0||t>=this.parent.children.length)&&o.Util.warn("Unexpected value "+t+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var e=this.index;return this.parent.children.splice(e,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(c,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var t=this.opacity(),e=this.getParent();return e&&!e._isUnderCache&&(t*=e.getAbsoluteOpacity()),t}moveTo(t){return this.getParent()!==t&&(this._remove(),t.add(this)),this}toObject(){var t,e,n,r,i={},s=this.getAttrs();for(t in i.attrs={},s)e=s[t],o.Util.isObject(e)&&!o.Util._isPlainObject(e)&&!o.Util._isArray(e)||(n="function"==typeof this[t]&&this[t],delete s[t],r=n?n.call(this):null,s[t]=e,r!==e&&(i.attrs[t]=e));return i.className=this.getClassName(),o.Util._prepareToStringify(i)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(t,e,n){var o=[];e&&this._isMatch(t)&&o.push(this);for(var r=this.parent;r;){if(r===n)return o;r._isMatch(t)&&o.push(r),r=r.parent}return o}isAncestorOf(t){return!1}findAncestor(t,e,n){return this.findAncestors(t,e,n)[0]}_isMatch(t){if(!t)return!1;if("function"==typeof t)return t(this);var e,n,r=t.replace(/ /g,"").split(","),i=r.length;for(e=0;e<i;e++)if(n=r[e],o.Util.isValidSelector(n)||(o.Util.warn('Selector "'+n+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),o.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),o.Util.warn("Konva is awesome, right?")),"#"===n.charAt(0)){if(this.id()===n.slice(1))return!0}else if("."===n.charAt(0)){if(this.hasName(n.slice(1)))return!0}else if(this.className===n||this.nodeType===n)return!0;return!1}getLayer(){var t=this.getParent();return t?t.getLayer():null}getStage(){return this._getCache(v,this._getStage)}_getStage(){var t=this.getParent();return t?t.getStage():void 0}fire(t,e={},n){return e.target=e.target||this,n?this._fireAndBubble(t,e):this._fire(t,e),this}getAbsoluteTransform(t){return t?this._getAbsoluteTransform(t):this._getCache(d,this._getAbsoluteTransform)}_getAbsoluteTransform(t){var e;if(t)return e=new o.Transform,this._eachAncestorReverse((function(t){var n=t.transformsEnabled();"all"===n?e.multiply(t.getTransform()):"position"===n&&e.translate(t.x()-t.offsetX(),t.y()-t.offsetY())}),t),e;e=this._cache.get(d)||new o.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(e):e.reset();var n=this.transformsEnabled();if("all"===n)e.multiply(this.getTransform());else if("position"===n){const t=this.attrs.x||0,n=this.attrs.y||0,o=this.attrs.offsetX||0,r=this.attrs.offsetY||0;e.translate(t-o,n-r)}return e.dirty=!1,e}getAbsoluteScale(t){for(var e=this;e;)e._isUnderCache&&(t=e),e=e.getParent();const n=this.getAbsoluteTransform(t).decompose();return{x:n.scaleX,y:n.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(C,this._getTransform)}_getTransform(){var t,e,n=this._cache.get(C)||new o.Transform;n.reset();var r=this.x(),i=this.y(),a=s.Konva.getAngle(this.rotation()),l=null!==(t=this.attrs.scaleX)&&void 0!==t?t:1,c=null!==(e=this.attrs.scaleY)&&void 0!==e?e:1,u=this.attrs.skewX||0,d=this.attrs.skewY||0,p=this.attrs.offsetX||0,h=this.attrs.offsetY||0;return 0===r&&0===i||n.translate(r,i),0!==a&&n.rotate(a),0===u&&0===d||n.skew(u,d),1===l&&1===c||n.scale(l,c),0===p&&0===h||n.translate(-1*p,-1*h),n.dirty=!1,n}clone(t){var e,n,r,i,s,a=o.Util.cloneObject(this.attrs);for(e in t)a[e]=t[e];var l=new this.constructor(a);for(e in this.eventListeners)for(r=(n=this.eventListeners[e]).length,i=0;i<r;i++)(s=n[i]).name.indexOf("konva")<0&&(l.eventListeners[e]||(l.eventListeners[e]=[]),l.eventListeners[e].push(s));return l}_toKonvaCanvas(t){t=t||{};var e=this.getClientRect(),n=this.getStage(),o=void 0!==t.x?t.x:Math.floor(e.x),r=void 0!==t.y?t.y:Math.floor(e.y),s=t.pixelRatio||1,a=new i.SceneCanvas({width:t.width||Math.ceil(e.width)||(n?n.width():0),height:t.height||Math.ceil(e.height)||(n?n.height():0),pixelRatio:s}),l=a.getContext();return!1===t.imageSmoothingEnabled&&(l._context.imageSmoothingEnabled=!1),l.save(),(o||r)&&l.translate(-1*o,-1*r),this.drawScene(a),l.restore(),a}toCanvas(t){return this._toKonvaCanvas(t)._canvas}toDataURL(t){var e=(t=t||{}).mimeType||null,n=t.quality||null,o=this._toKonvaCanvas(t).toDataURL(e,n);return t.callback&&t.callback(o),o}toImage(t){return new Promise(((e,n)=>{try{const n=null==t?void 0:t.callback;n&&delete t.callback,o.Util._urlToImage(this.toDataURL(t),(function(t){e(t),null==n||n(t)}))}catch(t){n(t)}}))}toBlob(t){return new Promise(((e,n)=>{try{const n=null==t?void 0:t.callback;n&&delete t.callback,this.toCanvas(t).toBlob((t=>{e(t),null==n||n(t)}))}catch(t){n(t)}}))}setSize(t){return this.width(t.width),this.height(t.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():s.Konva.dragDistance}_off(t,e,n){var o,r,i,s=this.eventListeners[t];for(o=0;o<s.length;o++)if(r=s[o].name,i=s[o].handler,!("konva"===r&&"konva"!==e||e&&r!==e||n&&n!==i)){if(s.splice(o,1),0===s.length){delete this.eventListeners[t];break}o--}}_fireChangeEvent(t,e,n){this._fire(t+"Change",{oldVal:e,newVal:n})}addName(t){if(!this.hasName(t)){var e=this.name(),n=e?e+" "+t:t;this.name(n)}return this}hasName(t){if(!t)return!1;const e=this.name();return!!e&&-1!==(e||"").split(/\s/g).indexOf(t)}removeName(t){var e=(this.name()||"").split(/\s/g),n=e.indexOf(t);return-1!==n&&(e.splice(n,1),this.name(e.join(" "))),this}setAttr(t,e){var n=this["set"+o.Util._capitalize(t)];return o.Util._isFunction(n)?n.call(this,e):this._setAttr(t,e),this}_requestDraw(){if(s.Konva.autoDrawEnabled){const t=this.getLayer()||this.getStage();null==t||t.batchDraw()}}_setAttr(t,e){var n=this.attrs[t];(n!==e||o.Util.isObject(e))&&(null==e?delete this.attrs[t]:this.attrs[t]=e,this._shouldFireChangeEvents&&this._fireChangeEvent(t,n,e),this._requestDraw())}_setComponentAttr(t,e,n){var o;void 0!==n&&((o=this.attrs[t])||(this.attrs[t]=this.getAttr(t)),this.attrs[t][e]=n,this._fireChangeEvent(t,o,n))}_fireAndBubble(t,e,n){if(e&&this.nodeType===m&&(e.target=this),!((t===g||t===_)&&(n&&(this===n||this.isAncestorOf&&this.isAncestorOf(n))||"Stage"===this.nodeType&&!n))){this._fire(t,e);var o=(t===g||t===_)&&n&&n.isAncestorOf&&n.isAncestorOf(this)&&!n.isAncestorOf(this.parent);(e&&!e.cancelBubble||!e)&&this.parent&&this.parent.isListening()&&!o&&(n&&n.parent?this._fireAndBubble.call(this.parent,t,e,n):this._fireAndBubble.call(this.parent,t,e))}}_getProtoListeners(t){var e,n,o;const r=null!==(e=this._cache.get(u))&&void 0!==e?e:{};let i=null==r?void 0:r[t];if(void 0===i){i=[];let e=Object.getPrototypeOf(this);for(;e;){const r=null!==(o=null===(n=e.eventListeners)||void 0===n?void 0:n[t])&&void 0!==o?o:[];i.push(...r),e=Object.getPrototypeOf(e)}r[t]=i,this._cache.set(u,r)}return i}_fire(t,e){(e=e||{}).currentTarget=this,e.type=t;const n=this._getProtoListeners(t);if(n)for(var o=0;o<n.length;o++)n[o].handler.call(this,e);const r=this.eventListeners[t];if(r)for(o=0;o<r.length;o++)r[o].handler.call(this,e)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(t){var e=t?t.pointerId:void 0,n=this.getStage(),o=this.getAbsolutePosition(),r=n._getPointerById(e)||n._changedPointerPositions[0]||o;a.DD._dragElements.set(this._id,{node:this,startPointerPos:r,offset:{x:r.x-o.x,y:r.y-o.y},dragStatus:"ready",pointerId:e})}startDrag(t,e=!0){a.DD._dragElements.has(this._id)||this._createDragElement(t);a.DD._dragElements.get(this._id).dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:t&&t.evt},e)}_setDragPosition(t,e){const n=this.getStage()._getPointerById(e.pointerId);if(n){var r={x:n.x-e.offset.x,y:n.y-e.offset.y},i=this.dragBoundFunc();if(void 0!==i){const e=i.call(this,r,t);e?r=e:o.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}this._lastPos&&this._lastPos.x===r.x&&this._lastPos.y===r.y||(this.setAbsolutePosition(r),this._requestDraw()),this._lastPos=r}}stopDrag(t){const e=a.DD._dragElements.get(this._id);e&&(e.dragStatus="stopped"),a.DD._endDragBefore(t),a.DD._endDragAfter(t)}setDraggable(t){this._setAttr("draggable",t),this._dragChange()}isDragging(){const t=a.DD._dragElements.get(this._id);return!!t&&"dragging"===t.dragStatus}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",(function(t){if((!(void 0!==t.evt.button)||s.Konva.dragButtons.indexOf(t.evt.button)>=0)&&!this.isDragging()){var e=!1;a.DD._dragElements.forEach((t=>{this.isAncestorOf(t.node)&&(e=!0)})),e||this._createDragElement(t)}}))}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const t=a.DD._dragElements.get(this._id),e=t&&"dragging"===t.dragStatus,n=t&&"ready"===t.dragStatus;e?this.stopDrag():n&&a.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(t={x:0,y:0}){const e=this.getStage();if(!e)return!1;const n={x:-t.x,y:-t.y,width:e.width()+2*t.x,height:e.height()+2*t.y};return o.Util.haveIntersection(n,this.getClientRect())}static create(t,e){return o.Util._isString(t)&&(t=JSON.parse(t)),this._createNode(t,e)}static _createNode(t,e){var n,r,i,a=w.prototype.getClassName.call(t),l=t.children;e&&(t.attrs.container=e),s.Konva[a]||(o.Util.warn('Can not find a node with class name "'+a+'". Fallback to "Shape".'),a="Shape");if(n=new(0,s.Konva[a])(t.attrs),l)for(r=l.length,i=0;i<r;i++)n.add(w._createNode(l[i]));return n}}e.Node=w,w.prototype.nodeType="Node",w.prototype._attrsAffectingSize=[],w.prototype.eventListeners={},w.prototype.on.call(w.prototype,b,(function(){this._batchingTransformChange?this._needClearTransformCache=!0:(this._clearCache(C),this._clearSelfAndDescendantCache(d))})),w.prototype.on.call(w.prototype,"visibleChange.konva",(function(){this._clearSelfAndDescendantCache(E)})),w.prototype.on.call(w.prototype,"listeningChange.konva",(function(){this._clearSelfAndDescendantCache(f)})),w.prototype.on.call(w.prototype,"opacityChange.konva",(function(){this._clearSelfAndDescendantCache(c)}));const O=r.Factory.addGetterSetter;O(w,"zIndex"),O(w,"absolutePosition"),O(w,"position"),O(w,"x",0,(0,l.getNumberValidator)()),O(w,"y",0,(0,l.getNumberValidator)()),O(w,"globalCompositeOperation","source-over",(0,l.getStringValidator)()),O(w,"opacity",1,(0,l.getNumberValidator)()),O(w,"name","",(0,l.getStringValidator)()),O(w,"id","",(0,l.getStringValidator)()),O(w,"rotation",0,(0,l.getNumberValidator)()),r.Factory.addComponentsGetterSetter(w,"scale",["x","y"]),O(w,"scaleX",1,(0,l.getNumberValidator)()),O(w,"scaleY",1,(0,l.getNumberValidator)()),r.Factory.addComponentsGetterSetter(w,"skew",["x","y"]),O(w,"skewX",0,(0,l.getNumberValidator)()),O(w,"skewY",0,(0,l.getNumberValidator)()),r.Factory.addComponentsGetterSetter(w,"offset",["x","y"]),O(w,"offsetX",0,(0,l.getNumberValidator)()),O(w,"offsetY",0,(0,l.getNumberValidator)()),O(w,"dragDistance",null,(0,l.getNumberValidator)()),O(w,"width",0,(0,l.getNumberValidator)()),O(w,"height",0,(0,l.getNumberValidator)()),O(w,"listening",!0,(0,l.getBooleanValidator)()),O(w,"preventDefault",!0,(0,l.getBooleanValidator)()),O(w,"filters",null,(function(t){return this._filterUpToDate=!1,t})),O(w,"visible",!0,(0,l.getBooleanValidator)()),O(w,"transformsEnabled","all",(0,l.getStringValidator)()),O(w,"size"),O(w,"dragBoundFunc"),O(w,"draggable",!1,(0,l.getBooleanValidator)()),r.Factory.backCompat(w,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"})},8479:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.releaseCapture=e.setPointerCapture=e.hasPointerCapture=e.createEvent=e.getCapturedShape=void 0;const o=n(4417),r=new Map,i=void 0!==o.Konva._global.PointerEvent;function s(t){return{evt:t,pointerId:t.pointerId}}function a(t,e){const n=r.get(t);if(!n)return;const o=n.getStage();o&&o.content,r.delete(t),i&&n._fire("lostpointercapture",s(new PointerEvent("lostpointercapture")))}e.getCapturedShape=function(t){return r.get(t)},e.createEvent=s,e.hasPointerCapture=function(t,e){return r.get(t)===e},e.setPointerCapture=function(t,e){a(t),e.getStage()&&(r.set(t,e),i&&e._fire("gotpointercapture",s(new PointerEvent("gotpointercapture"))))},e.releaseCapture=a},7955:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Shape=e.shapes=void 0;const o=n(4417),r=n(8588),i=n(1455),s=n(7939),a=n(3774),l=n(4417),c=n(8479);var u="hasShadow",d="shadowRGBA",p="patternImage",h="linearGradient",f="radialGradient";let g;function _(){return g||(g=r.Util.createCanvasElement().getContext("2d"),g)}e.shapes={};class m extends s.Node{constructor(t){let n;for(super(t);n=r.Util.getRandomColor(),!n||n in e.shapes;);this.colorKey=n,e.shapes[n]=this}getContext(){return r.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return r.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(u,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(p,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const t=_().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(t&&t.setTransform){const e=new r.Transform;e.translate(this.fillPatternX(),this.fillPatternY()),e.rotate(o.Konva.getAngle(this.fillPatternRotation())),e.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),e.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const n=e.getMatrix(),i="undefined"==typeof DOMMatrix?{a:n[0],b:n[1],c:n[2],d:n[3],e:n[4],f:n[5]}:new DOMMatrix(n);t.setTransform(i)}return t}}_getLinearGradient(){return this._getCache(h,this.__getLinearGradient)}__getLinearGradient(){var t=this.fillLinearGradientColorStops();if(t){for(var e=_(),n=this.fillLinearGradientStartPoint(),o=this.fillLinearGradientEndPoint(),r=e.createLinearGradient(n.x,n.y,o.x,o.y),i=0;i<t.length;i+=2)r.addColorStop(t[i],t[i+1]);return r}}_getRadialGradient(){return this._getCache(f,this.__getRadialGradient)}__getRadialGradient(){var t=this.fillRadialGradientColorStops();if(t){for(var e=_(),n=this.fillRadialGradientStartPoint(),o=this.fillRadialGradientEndPoint(),r=e.createRadialGradient(n.x,n.y,this.fillRadialGradientStartRadius(),o.x,o.y,this.fillRadialGradientEndRadius()),i=0;i<t.length;i+=2)r.addColorStop(t[i],t[i+1]);return r}}getShadowRGBA(){return this._getCache(d,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var t=r.Util.colorToRGBA(this.shadowColor());return t?"rgba("+t.r+","+t.g+","+t.b+","+t.a*(this.shadowOpacity()||1)+")":void 0}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],(()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops())))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],(()=>this.strokeEnabled()&&this.strokeWidth()&&!(!this.stroke()&&!this.strokeLinearGradientColorStops())))}hasHitStroke(){const t=this.hitStrokeWidth();return"auto"===t?this.hasStroke():this.strokeEnabled()&&!!t}intersects(t){var e=this.getStage().bufferHitCanvas;return e.getContext().clear(),this.drawHit(e,null,!0),e.context.getImageData(Math.round(t.x),Math.round(t.y),1,1).data[3]>0}destroy(){return s.Node.prototype.destroy.call(this),delete e.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(t){var e;if(!this.getStage())return!1;if(!(null===(e=this.attrs.perfectDrawEnabled)||void 0===e||e))return!1;const n=t||this.hasFill(),o=this.hasStroke(),r=1!==this.getAbsoluteOpacity();if(n&&o&&r)return!0;const i=this.hasShadow(),s=this.shadowForStrokeEnabled();return!!(n&&o&&i&&s)}setStrokeHitEnabled(t){r.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),t?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return 0!==this.hitStrokeWidth()}getSelfRect(){var t=this.size();return{x:this._centroid?-t.width/2:0,y:this._centroid?-t.height/2:0,width:t.width,height:t.height}}getClientRect(t={}){const e=t.skipTransform,n=t.relativeTo,o=this.getSelfRect(),r=!t.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,i=o.width+r,s=o.height+r,a=!t.skipShadow&&this.hasShadow(),l=a?this.shadowOffsetX():0,c=a?this.shadowOffsetY():0,u=i+Math.abs(l),d=s+Math.abs(c),p=a&&this.shadowBlur()||0,h={width:u+2*p,height:d+2*p,x:-(r/2+p)+Math.min(l,0)+o.x,y:-(r/2+p)+Math.min(c,0)+o.y};return e?h:this._transformedRect(h,n)}drawScene(t,e){var n,o,r=this.getLayer(),i=t||r.getCanvas(),s=i.getContext(),a=this._getCanvasCache(),l=this.getSceneFunc(),c=this.hasShadow(),u=i.isCache,d=e===this;if(!this.isVisible()&&!d)return this;if(a){s.save();var p=this.getAbsoluteTransform(e).getMatrix();return s.transform(p[0],p[1],p[2],p[3],p[4],p[5]),this._drawCachedSceneCanvas(s),s.restore(),this}if(!l)return this;if(s.save(),this._useBufferCanvas()&&!u){(o=(n=this.getStage().bufferCanvas).getContext()).clear(),o.save(),o._applyLineJoin(this);var h=this.getAbsoluteTransform(e).getMatrix();o.transform(h[0],h[1],h[2],h[3],h[4],h[5]),l.call(this,o,this),o.restore();var f=n.pixelRatio;c&&s._applyShadow(this),s._applyOpacity(this),s._applyGlobalCompositeOperation(this),s.drawImage(n._canvas,0,0,n.width/f,n.height/f)}else{if(s._applyLineJoin(this),!d){h=this.getAbsoluteTransform(e).getMatrix();s.transform(h[0],h[1],h[2],h[3],h[4],h[5]),s._applyOpacity(this),s._applyGlobalCompositeOperation(this)}c&&s._applyShadow(this),l.call(this,s,this)}return s.restore(),this}drawHit(t,e,n=!1){if(!this.shouldDrawHit(e,n))return this;var o=this.getLayer(),i=t||o.hitCanvas,s=i&&i.getContext(),a=this.hitFunc()||this.sceneFunc(),l=this._getCanvasCache(),c=l&&l.hit;if(this.colorKey||r.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),c){s.save();var u=this.getAbsoluteTransform(e).getMatrix();return s.transform(u[0],u[1],u[2],u[3],u[4],u[5]),this._drawCachedHitCanvas(s),s.restore(),this}if(!a)return this;s.save(),s._applyLineJoin(this);if(!(this===e)){var d=this.getAbsoluteTransform(e).getMatrix();s.transform(d[0],d[1],d[2],d[3],d[4],d[5])}return a.call(this,s,this),s.restore(),this}drawHitFromCache(t=0){var e,n,o,i,s,a=this._getCanvasCache(),l=this._getCachedSceneCanvas(),c=a.hit,u=c.getContext(),d=c.getWidth(),p=c.getHeight();u.clear(),u.drawImage(l._canvas,0,0,d,p);try{for(o=(n=(e=u.getImageData(0,0,d,p)).data).length,i=r.Util._hexToRgb(this.colorKey),s=0;s<o;s+=4)n[s+3]>t?(n[s]=i.r,n[s+1]=i.g,n[s+2]=i.b,n[s+3]=255):n[s+3]=0;u.putImageData(e,0,0)}catch(t){r.Util.error("Unable to draw hit graph from cached scene canvas. "+t.message)}return this}hasPointerCapture(t){return c.hasPointerCapture(t,this)}setPointerCapture(t){c.setPointerCapture(t,this)}releaseCapture(t){c.releaseCapture(t,this)}}e.Shape=m,m.prototype._fillFunc=function(t){t.fill()},m.prototype._strokeFunc=function(t){t.stroke()},m.prototype._fillFuncHit=function(t){t.fill()},m.prototype._strokeFuncHit=function(t){t.stroke()},m.prototype._centroid=!1,m.prototype.nodeType="Shape",(0,l._registerNode)(m),m.prototype.eventListeners={},m.prototype.on.call(m.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function(){this._clearCache(u)})),m.prototype.on.call(m.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function(){this._clearCache(d)})),m.prototype.on.call(m.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",(function(){this._clearCache(p)})),m.prototype.on.call(m.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",(function(){this._clearCache(h)})),m.prototype.on.call(m.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",(function(){this._clearCache(f)})),i.Factory.addGetterSetter(m,"stroke",void 0,(0,a.getStringOrGradientValidator)()),i.Factory.addGetterSetter(m,"strokeWidth",2,(0,a.getNumberValidator)()),i.Factory.addGetterSetter(m,"fillAfterStrokeEnabled",!1),i.Factory.addGetterSetter(m,"hitStrokeWidth","auto",(0,a.getNumberOrAutoValidator)()),i.Factory.addGetterSetter(m,"strokeHitEnabled",!0,(0,a.getBooleanValidator)()),i.Factory.addGetterSetter(m,"perfectDrawEnabled",!0,(0,a.getBooleanValidator)()),i.Factory.addGetterSetter(m,"shadowForStrokeEnabled",!0,(0,a.getBooleanValidator)()),i.Factory.addGetterSetter(m,"lineJoin"),i.Factory.addGetterSetter(m,"lineCap"),i.Factory.addGetterSetter(m,"sceneFunc"),i.Factory.addGetterSetter(m,"hitFunc"),i.Factory.addGetterSetter(m,"dash"),i.Factory.addGetterSetter(m,"dashOffset",0,(0,a.getNumberValidator)()),i.Factory.addGetterSetter(m,"shadowColor",void 0,(0,a.getStringValidator)()),i.Factory.addGetterSetter(m,"shadowBlur",0,(0,a.getNumberValidator)()),i.Factory.addGetterSetter(m,"shadowOpacity",1,(0,a.getNumberValidator)()),i.Factory.addComponentsGetterSetter(m,"shadowOffset",["x","y"]),i.Factory.addGetterSetter(m,"shadowOffsetX",0,(0,a.getNumberValidator)()),i.Factory.addGetterSetter(m,"shadowOffsetY",0,(0,a.getNumberValidator)()),i.Factory.addGetterSetter(m,"fillPatternImage"),i.Factory.addGetterSetter(m,"fill",void 0,(0,a.getStringOrGradientValidator)()),i.Factory.addGetterSetter(m,"fillPatternX",0,(0,a.getNumberValidator)()),i.Factory.addGetterSetter(m,"fillPatternY",0,(0,a.getNumberValidator)()),i.Factory.addGetterSetter(m,"fillLinearGradientColorStops"),i.Factory.addGetterSetter(m,"strokeLinearGradientColorStops"),i.Factory.addGetterSetter(m,"fillRadialGradientStartRadius",0),i.Factory.addGetterSetter(m,"fillRadialGradientEndRadius",0),i.Factory.addGetterSetter(m,"fillRadialGradientColorStops"),i.Factory.addGetterSetter(m,"fillPatternRepeat","repeat"),i.Factory.addGetterSetter(m,"fillEnabled",!0),i.Factory.addGetterSetter(m,"strokeEnabled",!0),i.Factory.addGetterSetter(m,"shadowEnabled",!0),i.Factory.addGetterSetter(m,"dashEnabled",!0),i.Factory.addGetterSetter(m,"strokeScaleEnabled",!0),i.Factory.addGetterSetter(m,"fillPriority","color"),i.Factory.addComponentsGetterSetter(m,"fillPatternOffset",["x","y"]),i.Factory.addGetterSetter(m,"fillPatternOffsetX",0,(0,a.getNumberValidator)()),i.Factory.addGetterSetter(m,"fillPatternOffsetY",0,(0,a.getNumberValidator)()),i.Factory.addComponentsGetterSetter(m,"fillPatternScale",["x","y"]),i.Factory.addGetterSetter(m,"fillPatternScaleX",1,(0,a.getNumberValidator)()),i.Factory.addGetterSetter(m,"fillPatternScaleY",1,(0,a.getNumberValidator)()),i.Factory.addComponentsGetterSetter(m,"fillLinearGradientStartPoint",["x","y"]),i.Factory.addComponentsGetterSetter(m,"strokeLinearGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(m,"fillLinearGradientStartPointX",0),i.Factory.addGetterSetter(m,"strokeLinearGradientStartPointX",0),i.Factory.addGetterSetter(m,"fillLinearGradientStartPointY",0),i.Factory.addGetterSetter(m,"strokeLinearGradientStartPointY",0),i.Factory.addComponentsGetterSetter(m,"fillLinearGradientEndPoint",["x","y"]),i.Factory.addComponentsGetterSetter(m,"strokeLinearGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(m,"fillLinearGradientEndPointX",0),i.Factory.addGetterSetter(m,"strokeLinearGradientEndPointX",0),i.Factory.addGetterSetter(m,"fillLinearGradientEndPointY",0),i.Factory.addGetterSetter(m,"strokeLinearGradientEndPointY",0),i.Factory.addComponentsGetterSetter(m,"fillRadialGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(m,"fillRadialGradientStartPointX",0),i.Factory.addGetterSetter(m,"fillRadialGradientStartPointY",0),i.Factory.addComponentsGetterSetter(m,"fillRadialGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(m,"fillRadialGradientEndPointX",0),i.Factory.addGetterSetter(m,"fillRadialGradientEndPointY",0),i.Factory.addGetterSetter(m,"fillPatternRotation",0),i.Factory.backCompat(m,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})},8342:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Stage=e.stages=void 0;const o=n(8588),r=n(1455),i=n(8783),s=n(4417),a=n(4842),l=n(210),c=n(4417),u=n(8479);var d="mouseleave",p="mouseover",h="mouseenter",f="mousemove",g="mousedown",_="mouseup",m="pointermove",y="pointerdown",v="pointerup",C="pointercancel",E="pointerout",b="pointerleave",S="pointerover",w="pointerenter",O="contextmenu",P="touchstart",T="touchend",R="touchmove",D="touchcancel",x="wheel",M=[[h,"_pointerenter"],[g,"_pointerdown"],[f,"_pointermove"],[_,"_pointerup"],[d,"_pointerleave"],[P,"_pointerdown"],[R,"_pointermove"],[T,"_pointerup"],[D,"_pointercancel"],[p,"_pointerover"],[x,"_wheel"],[O,"_contextmenu"],[y,"_pointerdown"],[m,"_pointermove"],[v,"_pointerup"],[C,"_pointercancel"],["lostpointercapture","_lostpointercapture"]];const A={mouse:{[E]:"mouseout",[b]:d,[S]:p,[w]:h,[m]:f,[y]:g,[v]:_,[C]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[E]:"touchout",[b]:"touchleave",[S]:"touchover",[w]:"touchenter",[m]:R,[y]:P,[v]:T,[C]:D,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[E]:E,[b]:b,[S]:S,[w]:w,[m]:m,[y]:y,[v]:v,[C]:C,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},L=t=>t.indexOf("pointer")>=0?"pointer":t.indexOf("touch")>=0?"touch":"mouse",I=t=>{const e=L(t);return"pointer"===e?s.Konva.pointerEventsEnabled&&A.pointer:"touch"===e?A.touch:"mouse"===e?A.mouse:void 0};function N(t={}){return(t.clipFunc||t.clipWidth||t.clipHeight)&&o.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}e.stages=[];class k extends i.Container{constructor(t){super(N(t)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),e.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",(()=>{N(this.attrs)})),this._checkVisibility()}_validateAdd(t){const e="Layer"===t.getType(),n="FastLayer"===t.getType();e||n||o.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const t=this.visible()?"":"none";this.content.style.display=t}setContainer(t){if("string"==typeof t){if("."===t.charAt(0)){var e=t.slice(1);t=document.getElementsByClassName(e)[0]}else{var n;n="#"!==t.charAt(0)?t:t.slice(1),t=document.getElementById(n)}if(!t)throw"Can not find container in document with id "+n}return this._setAttr("container",t),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),t.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var t,e=this.children,n=e.length;for(t=0;t<n;t++)e[t].clear();return this}clone(t){return t||(t={}),t.container="undefined"!=typeof document&&document.createElement("div"),i.Container.prototype.clone.call(this,t)}destroy(){super.destroy();var t=this.content;t&&o.Util._isInDocument(t)&&this.container().removeChild(t);var n=e.stages.indexOf(this);return n>-1&&e.stages.splice(n,1),o.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const t=this._pointerPositions[0]||this._changedPointerPositions[0];return t?{x:t.x,y:t.y}:(o.Util.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),null)}_getPointerById(t){return this._pointerPositions.find((e=>e.id===t))}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(t){(t=t||{}).x=t.x||0,t.y=t.y||0,t.width=t.width||this.width(),t.height=t.height||this.height();var e=new a.SceneCanvas({width:t.width,height:t.height,pixelRatio:t.pixelRatio||1}),n=e.getContext()._context,o=this.children;return(t.x||t.y)&&n.translate(-1*t.x,-1*t.y),o.forEach((function(e){if(e.isVisible()){var o=e._toKonvaCanvas(t);n.drawImage(o._canvas,t.x,t.y,o.getWidth()/o.getPixelRatio(),o.getHeight()/o.getPixelRatio())}})),e}getIntersection(t){if(!t)return null;var e,n=this.children;for(e=n.length-1;e>=0;e--){const o=n[e].getIntersection(t);if(o)return o}return null}_resizeDOM(){var t=this.width(),e=this.height();this.content&&(this.content.style.width=t+"px",this.content.style.height=e+"px"),this.bufferCanvas.setSize(t,e),this.bufferHitCanvas.setSize(t,e),this.children.forEach((n=>{n.setSize({width:t,height:e}),n.draw()}))}add(t,...e){if(arguments.length>1){for(var n=0;n<arguments.length;n++)this.add(arguments[n]);return this}super.add(t);var r=this.children.length;return r>5&&o.Util.warn("The stage has "+r+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),t.setSize({width:this.width(),height:this.height()}),t.draw(),s.Konva.isBrowser&&this.content.appendChild(t.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(t){return u.hasPointerCapture(t,this)}setPointerCapture(t){u.setPointerCapture(t,this)}releaseCapture(t){u.releaseCapture(t,this)}getLayers(){return this.children}_bindContentEvents(){s.Konva.isBrowser&&M.forEach((([t,e])=>{this.content.addEventListener(t,(t=>{this[e](t)}),{passive:!1})}))}_pointerenter(t){this.setPointersPositions(t);const e=I(t.type);this._fire(e.pointerenter,{evt:t,target:this,currentTarget:this})}_pointerover(t){this.setPointersPositions(t);const e=I(t.type);this._fire(e.pointerover,{evt:t,target:this,currentTarget:this})}_getTargetShape(t){let e=this[t+"targetShape"];return e&&!e.getStage()&&(e=null),e}_pointerleave(t){const e=I(t.type),n=L(t.type);if(e){this.setPointersPositions(t);var o=this._getTargetShape(n),r=!l.DD.isDragging||s.Konva.hitOnDragEnabled;o&&r?(o._fireAndBubble(e.pointerout,{evt:t}),o._fireAndBubble(e.pointerleave,{evt:t}),this._fire(e.pointerleave,{evt:t,target:this,currentTarget:this}),this[n+"targetShape"]=null):r&&(this._fire(e.pointerleave,{evt:t,target:this,currentTarget:this}),this._fire(e.pointerout,{evt:t,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[]}}_pointerdown(t){const e=I(t.type),n=L(t.type);if(e){this.setPointersPositions(t);var o=!1;this._changedPointerPositions.forEach((r=>{var i=this.getIntersection(r);l.DD.justDragged=!1,s.Konva["_"+n+"ListenClick"]=!0;if(!(i&&i.isListening()))return;s.Konva.capturePointerEventsEnabled&&i.setPointerCapture(r.id),this[n+"ClickStartShape"]=i,i._fireAndBubble(e.pointerdown,{evt:t,pointerId:r.id}),o=!0;const a=t.type.indexOf("touch")>=0;i.preventDefault()&&t.cancelable&&a&&t.preventDefault()})),o||this._fire(e.pointerdown,{evt:t,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(t){const e=I(t.type),n=L(t.type);if(!e)return;if(l.DD.isDragging&&l.DD.node.preventDefault()&&t.cancelable&&t.preventDefault(),this.setPointersPositions(t),!(!l.DD.isDragging||s.Konva.hitOnDragEnabled))return;var o={};let r=!1;var i=this._getTargetShape(n);this._changedPointerPositions.forEach((s=>{const a=u.getCapturedShape(s.id)||this.getIntersection(s),l=s.id,c={evt:t,pointerId:l};var d=i!==a;if(d&&i&&(i._fireAndBubble(e.pointerout,Object.assign({},c),a),i._fireAndBubble(e.pointerleave,Object.assign({},c),a)),a){if(o[a._id])return;o[a._id]=!0}a&&a.isListening()?(r=!0,d&&(a._fireAndBubble(e.pointerover,Object.assign({},c),i),a._fireAndBubble(e.pointerenter,Object.assign({},c),i),this[n+"targetShape"]=a),a._fireAndBubble(e.pointermove,Object.assign({},c))):i&&(this._fire(e.pointerover,{evt:t,target:this,currentTarget:this,pointerId:l}),this[n+"targetShape"]=null)})),r||this._fire(e.pointermove,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(t){const e=I(t.type),n=L(t.type);if(!e)return;this.setPointersPositions(t);const o=this[n+"ClickStartShape"],r=this[n+"ClickEndShape"];var i={};let a=!1;this._changedPointerPositions.forEach((c=>{const d=u.getCapturedShape(c.id)||this.getIntersection(c);if(d){if(d.releaseCapture(c.id),i[d._id])return;i[d._id]=!0}const p=c.id,h={evt:t,pointerId:p};let f=!1;s.Konva["_"+n+"InDblClickWindow"]?(f=!0,clearTimeout(this[n+"DblTimeout"])):l.DD.justDragged||(s.Konva["_"+n+"InDblClickWindow"]=!0,clearTimeout(this[n+"DblTimeout"])),this[n+"DblTimeout"]=setTimeout((function(){s.Konva["_"+n+"InDblClickWindow"]=!1}),s.Konva.dblClickWindow),d&&d.isListening()?(a=!0,this[n+"ClickEndShape"]=d,d._fireAndBubble(e.pointerup,Object.assign({},h)),s.Konva["_"+n+"ListenClick"]&&o&&o===d&&(d._fireAndBubble(e.pointerclick,Object.assign({},h)),f&&r&&r===d&&d._fireAndBubble(e.pointerdblclick,Object.assign({},h)))):(this[n+"ClickEndShape"]=null,s.Konva["_"+n+"ListenClick"]&&this._fire(e.pointerclick,{evt:t,target:this,currentTarget:this,pointerId:p}),f&&this._fire(e.pointerdblclick,{evt:t,target:this,currentTarget:this,pointerId:p}))})),a||this._fire(e.pointerup,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),s.Konva["_"+n+"ListenClick"]=!1,t.cancelable&&"touch"!==n&&t.preventDefault()}_contextmenu(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble(O,{evt:t}):this._fire(O,{evt:t,target:this,currentTarget:this})}_wheel(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble(x,{evt:t}):this._fire(x,{evt:t,target:this,currentTarget:this})}_pointercancel(t){this.setPointersPositions(t);const e=u.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble(v,u.createEvent(t)),u.releaseCapture(t.pointerId)}_lostpointercapture(t){u.releaseCapture(t.pointerId)}setPointersPositions(t){var e=this._getContentPosition(),n=null,r=null;void 0!==(t=t||window.event).touches?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(t.touches,(t=>{this._pointerPositions.push({id:t.identifier,x:(t.clientX-e.left)/e.scaleX,y:(t.clientY-e.top)/e.scaleY})})),Array.prototype.forEach.call(t.changedTouches||t.touches,(t=>{this._changedPointerPositions.push({id:t.identifier,x:(t.clientX-e.left)/e.scaleX,y:(t.clientY-e.top)/e.scaleY})}))):(n=(t.clientX-e.left)/e.scaleX,r=(t.clientY-e.top)/e.scaleY,this.pointerPos={x:n,y:r},this._pointerPositions=[{x:n,y:r,id:o.Util._getFirstPointerId(t)}],this._changedPointerPositions=[{x:n,y:r,id:o.Util._getFirstPointerId(t)}])}_setPointerPosition(t){o.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(t)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var t=this.content.getBoundingClientRect();return{top:t.top,left:t.left,scaleX:t.width/this.content.clientWidth||1,scaleY:t.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new a.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new a.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),s.Konva.isBrowser){var t=this.container();if(!t)throw"Stage has no container. A container is required.";t.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),t.appendChild(this.content),this._resizeDOM()}}cache(){return o.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach((function(t){t.batchDraw()})),this}}e.Stage=k,k.prototype.nodeType="Stage",(0,c._registerNode)(k),r.Factory.addGetterSetter(k,"container")},8017:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Easings=e.Tween=void 0;const o=n(8588),r=n(6745),i=n(7939),s=n(4417);var a={node:1,duration:1,easing:1,onFinish:1,yoyo:1},l=0,c=["fill","stroke","shadowColor"];class u{constructor(t,e,n,o,r,i,s){this.prop=t,this.propFunc=e,this.begin=o,this._pos=o,this.duration=i,this._change=0,this.prevPos=0,this.yoyo=s,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=n,this._change=r-this.begin,this.pause()}fire(t){var e=this[t];e&&e()}setTime(t){t>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():t<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=t,this.update())}getTime(){return this._time}setPosition(t){this.prevPos=this._pos,this.propFunc(t),this._pos=t}getPosition(t){return void 0===t&&(t=this._time),this.func(t,this.begin,this._change,this.duration)}play(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(t){this.pause(),this._time=t,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var t=this.getTimer()-this._startTime;2===this.state?this.setTime(t):3===this.state&&this.setTime(this.duration-t)}pause(){this.state=1,this.fire("onPause")}getTimer(){return(new Date).getTime()}}class d{constructor(t){var n,i,c=this,p=t.node,h=p._id,f=t.easing||e.Easings.Linear,g=!!t.yoyo;n=void 0===t.duration?.3:0===t.duration?.001:t.duration,this.node=p,this._id=l++;var _=p.getLayer()||(p instanceof s.Konva.Stage?p.getLayers():null);for(i in _||o.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new r.Animation((function(){c.tween.onEnterFrame()}),_),this.tween=new u(i,(function(t){c._tweenFunc(t)}),f,0,1,1e3*n,g),this._addListeners(),d.attrs[h]||(d.attrs[h]={}),d.attrs[h][this._id]||(d.attrs[h][this._id]={}),d.tweens[h]||(d.tweens[h]={}),t)void 0===a[i]&&this._addAttr(i,t[i]);this.reset(),this.onFinish=t.onFinish,this.onReset=t.onReset,this.onUpdate=t.onUpdate}_addAttr(t,e){var n,r,i,s,a,l,u,p,h=this.node,f=h._id;if((i=d.tweens[f][t])&&delete d.attrs[f][i][t],n=h.getAttr(t),o.Util._isArray(e))if(r=[],a=Math.max(e.length,n.length),"points"===t&&e.length!==n.length&&(e.length>n.length?(u=n,n=o.Util._prepareArrayForTween(n,e,h.closed())):(l=e,e=o.Util._prepareArrayForTween(e,n,h.closed()))),0===t.indexOf("fill"))for(s=0;s<a;s++)if(s%2==0)r.push(e[s]-n[s]);else{var g=o.Util.colorToRGBA(n[s]);p=o.Util.colorToRGBA(e[s]),n[s]=g,r.push({r:p.r-g.r,g:p.g-g.g,b:p.b-g.b,a:p.a-g.a})}else for(s=0;s<a;s++)r.push(e[s]-n[s]);else-1!==c.indexOf(t)?(n=o.Util.colorToRGBA(n),r={r:(p=o.Util.colorToRGBA(e)).r-n.r,g:p.g-n.g,b:p.b-n.b,a:p.a-n.a}):r=e-n;d.attrs[f][this._id][t]={start:n,diff:r,end:e,trueEnd:l,trueStart:u},d.tweens[f][t]=this._id}_tweenFunc(t){var e,n,r,i,s,a,l,u,p=this.node,h=d.attrs[p._id][this._id];for(e in h){if(r=(n=h[e]).start,i=n.diff,u=n.end,o.Util._isArray(r))if(s=[],l=Math.max(r.length,u.length),0===e.indexOf("fill"))for(a=0;a<l;a++)a%2==0?s.push((r[a]||0)+i[a]*t):s.push("rgba("+Math.round(r[a].r+i[a].r*t)+","+Math.round(r[a].g+i[a].g*t)+","+Math.round(r[a].b+i[a].b*t)+","+(r[a].a+i[a].a*t)+")");else for(a=0;a<l;a++)s.push((r[a]||0)+i[a]*t);else s=-1!==c.indexOf(e)?"rgba("+Math.round(r.r+i.r*t)+","+Math.round(r.g+i.g*t)+","+Math.round(r.b+i.b*t)+","+(r.a+i.a*t)+")":r+i*t;p.setAttr(e,s)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var t=this.node,e=d.attrs[t._id][this._id];e.points&&e.points.trueEnd&&t.setAttr("points",e.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var t=this.node,e=d.attrs[t._id][this._id];e.points&&e.points.trueStart&&t.points(e.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(t){return this.tween.seek(1e3*t),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var t,e=this.node._id,n=this._id,o=d.tweens[e];for(t in this.pause(),o)delete d.tweens[e][t];delete d.attrs[e][n]}}d.attrs={},d.tweens={},e.Tween=d,i.Node.prototype.to=function(t){var e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new d(t).play()},e.Easings={BackEaseIn(t,e,n,o){var r=1.70158;return n*(t/=o)*t*((r+1)*t-r)+e},BackEaseOut(t,e,n,o){var r=1.70158;return n*((t=t/o-1)*t*((r+1)*t+r)+1)+e},BackEaseInOut(t,e,n,o){var r=1.70158;return(t/=o/2)<1?n/2*(t*t*((1+(r*=1.525))*t-r))+e:n/2*((t-=2)*t*((1+(r*=1.525))*t+r)+2)+e},ElasticEaseIn(t,e,n,o,r,i){var s=0;return 0===t?e:1==(t/=o)?e+n:(i||(i=.3*o),!r||r<Math.abs(n)?(r=n,s=i/4):s=i/(2*Math.PI)*Math.asin(n/r),-r*Math.pow(2,10*(t-=1))*Math.sin((t*o-s)*(2*Math.PI)/i)+e)},ElasticEaseOut(t,e,n,o,r,i){var s=0;return 0===t?e:1==(t/=o)?e+n:(i||(i=.3*o),!r||r<Math.abs(n)?(r=n,s=i/4):s=i/(2*Math.PI)*Math.asin(n/r),r*Math.pow(2,-10*t)*Math.sin((t*o-s)*(2*Math.PI)/i)+n+e)},ElasticEaseInOut(t,e,n,o,r,i){var s=0;return 0===t?e:2==(t/=o/2)?e+n:(i||(i=o*(.3*1.5)),!r||r<Math.abs(n)?(r=n,s=i/4):s=i/(2*Math.PI)*Math.asin(n/r),t<1?r*Math.pow(2,10*(t-=1))*Math.sin((t*o-s)*(2*Math.PI)/i)*-.5+e:r*Math.pow(2,-10*(t-=1))*Math.sin((t*o-s)*(2*Math.PI)/i)*.5+n+e)},BounceEaseOut:(t,e,n,o)=>(t/=o)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e,BounceEaseIn:(t,n,o,r)=>o-e.Easings.BounceEaseOut(r-t,0,o,r)+n,BounceEaseInOut:(t,n,o,r)=>t<r/2?.5*e.Easings.BounceEaseIn(2*t,0,o,r)+n:.5*e.Easings.BounceEaseOut(2*t-r,0,o,r)+.5*o+n,EaseIn:(t,e,n,o)=>n*(t/=o)*t+e,EaseOut:(t,e,n,o)=>-n*(t/=o)*(t-2)+e,EaseInOut:(t,e,n,o)=>(t/=o/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e,StrongEaseIn:(t,e,n,o)=>n*(t/=o)*t*t*t*t+e,StrongEaseOut:(t,e,n,o)=>n*((t=t/o-1)*t*t*t*t+1)+e,StrongEaseInOut:(t,e,n,o)=>(t/=o/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e,Linear:(t,e,n,o)=>n*t/o+e}},8588:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Util=e.Transform=void 0;const o=n(4417);class r{constructor(t=[1,0,0,1,0,0]){this.dirty=!1,this.m=t&&t.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new r(this.m)}copyInto(t){t.m[0]=this.m[0],t.m[1]=this.m[1],t.m[2]=this.m[2],t.m[3]=this.m[3],t.m[4]=this.m[4],t.m[5]=this.m[5]}point(t){var e=this.m;return{x:e[0]*t.x+e[2]*t.y+e[4],y:e[1]*t.x+e[3]*t.y+e[5]}}translate(t,e){return this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e,this}scale(t,e){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e,this}rotate(t){var e=Math.cos(t),n=Math.sin(t),o=this.m[0]*e+this.m[2]*n,r=this.m[1]*e+this.m[3]*n,i=this.m[0]*-n+this.m[2]*e,s=this.m[1]*-n+this.m[3]*e;return this.m[0]=o,this.m[1]=r,this.m[2]=i,this.m[3]=s,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(t,e){var n=this.m[0]+this.m[2]*e,o=this.m[1]+this.m[3]*e,r=this.m[2]+this.m[0]*t,i=this.m[3]+this.m[1]*t;return this.m[0]=n,this.m[1]=o,this.m[2]=r,this.m[3]=i,this}multiply(t){var e=this.m[0]*t.m[0]+this.m[2]*t.m[1],n=this.m[1]*t.m[0]+this.m[3]*t.m[1],o=this.m[0]*t.m[2]+this.m[2]*t.m[3],r=this.m[1]*t.m[2]+this.m[3]*t.m[3],i=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],s=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=e,this.m[1]=n,this.m[2]=o,this.m[3]=r,this.m[4]=i,this.m[5]=s,this}invert(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=this.m[3]*t,n=-this.m[1]*t,o=-this.m[2]*t,r=this.m[0]*t,i=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),s=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=e,this.m[1]=n,this.m[2]=o,this.m[3]=r,this.m[4]=i,this.m[5]=s,this}getMatrix(){return this.m}decompose(){var t=this.m[0],n=this.m[1],o=this.m[2],r=this.m[3],i=t*r-n*o;let s={x:this.m[4],y:this.m[5],rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(0!=t||0!=n){var a=Math.sqrt(t*t+n*n);s.rotation=n>0?Math.acos(t/a):-Math.acos(t/a),s.scaleX=a,s.scaleY=i/a,s.skewX=(t*o+n*r)/i,s.skewY=0}else if(0!=o||0!=r){var l=Math.sqrt(o*o+r*r);s.rotation=Math.PI/2-(r>0?Math.acos(-o/l):-Math.acos(o/l)),s.scaleX=i/l,s.scaleY=l,s.skewX=0,s.skewY=(t*o+n*r)/i}return s.rotation=e.Util._getRotation(s.rotation),s}}e.Transform=r;var i=Math.PI/180,s=180/Math.PI,a="Konva error: ",l={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},c=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,u=[];const d="undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||function(t){setTimeout(t,60)};e.Util={_isElement:t=>!(!t||1!=t.nodeType),_isFunction:t=>!!(t&&t.constructor&&t.call&&t.apply),_isPlainObject:t=>!!t&&t.constructor===Object,_isArray:t=>"[object Array]"===Object.prototype.toString.call(t),_isNumber:t=>"[object Number]"===Object.prototype.toString.call(t)&&!isNaN(t)&&isFinite(t),_isString:t=>"[object String]"===Object.prototype.toString.call(t),_isBoolean:t=>"[object Boolean]"===Object.prototype.toString.call(t),isObject:t=>t instanceof Object,isValidSelector(t){if("string"!=typeof t)return!1;var e=t[0];return"#"===e||"."===e||e===e.toUpperCase()},_sign:t=>0===t||t>0?1:-1,requestAnimFrame(t){u.push(t),1===u.length&&d((function(){const t=u;u=[],t.forEach((function(t){t()}))}))},createCanvasElement(){var t=document.createElement("canvas");try{t.style=t.style||{}}catch(t){}return t},createImageElement:()=>document.createElement("img"),_isInDocument(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_urlToImage(t,n){var o=e.Util.createImageElement();o.onload=function(){n(o)},o.src=t},_rgbToHex:(t,e,n)=>((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1),_hexToRgb(t){t=t.replace("#","");var e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:255&e}},getRandomColor(){for(var t=(16777215*Math.random()<<0).toString(16);t.length<6;)t="0"+t;return"#"+t},getRGB(t){var e;return t in l?{r:(e=l[t])[0],g:e[1],b:e[2]}:"#"===t[0]?this._hexToRgb(t.substring(1)):"rgb("===t.substr(0,4)?(e=c.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA:t=>(t=t||"black",e.Util._namedColorToRBA(t)||e.Util._hex3ColorToRGBA(t)||e.Util._hex4ColorToRGBA(t)||e.Util._hex6ColorToRGBA(t)||e.Util._hex8ColorToRGBA(t)||e.Util._rgbColorToRGBA(t)||e.Util._rgbaColorToRGBA(t)||e.Util._hslColorToRGBA(t)),_namedColorToRBA(t){var e=l[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(t){if(0===t.indexOf("rgb(")){var e=(t=t.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(t){if(0===t.indexOf("rgba(")){var e=(t=t.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map(((t,e)=>"%"===t.slice(-1)?3===e?parseInt(t)/100:parseInt(t)/100*255:Number(t)));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(t){if("#"===t[0]&&9===t.length)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:parseInt(t.slice(7,9),16)/255}},_hex6ColorToRGBA(t){if("#"===t[0]&&7===t.length)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex4ColorToRGBA(t){if("#"===t[0]&&5===t.length)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:parseInt(t[4]+t[4],16)/255}},_hex3ColorToRGBA(t){if("#"===t[0]&&4===t.length)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){const[e,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),o=Number(n[0])/360,r=Number(n[1])/100,i=Number(n[2])/100;let s,a,l;if(0===r)return l=255*i,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};s=i<.5?i*(1+r):i+r-i*r;const c=2*i-s,u=[0,0,0];for(let t=0;t<3;t++)a=o+1/3*-(t-1),a<0&&a++,a>1&&a--,l=6*a<1?c+6*(s-c)*a:2*a<1?s:3*a<2?c+(s-c)*(2/3-a)*6:c,u[t]=255*l;return{r:Math.round(u[0]),g:Math.round(u[1]),b:Math.round(u[2]),a:1}}},haveIntersection:(t,e)=>!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y),cloneObject(t){var e={};for(var n in t)this._isPlainObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray:t=>t.slice(0),degToRad:t=>t*i,radToDeg:t=>t*s,_degToRad:t=>(e.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),e.Util.degToRad(t)),_radToDeg:t=>(e.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),e.Util.radToDeg(t)),_getRotation:t=>o.Konva.angleDeg?e.Util.radToDeg(t):t,_capitalize:t=>t.charAt(0).toUpperCase()+t.slice(1),throw(t){throw new Error(a+t)},error(t){console.error(a+t)},warn(t){o.Konva.showWarnings&&console.warn("Konva warning: "+t)},each(t,e){for(var n in t)e(n,t[n])},_inRange:(t,e,n)=>e<=t&&t<n,_getProjectionToSegment(t,e,n,o,r,i){var s,a,l,c=(t-n)*(t-n)+(e-o)*(e-o);if(0==c)s=t,a=e,l=(r-n)*(r-n)+(i-o)*(i-o);else{var u=((r-t)*(n-t)+(i-e)*(o-e))/c;u<0?(s=t,a=e,l=(t-r)*(t-r)+(e-i)*(e-i)):u>1?(s=n,a=o,l=(n-r)*(n-r)+(o-i)*(o-i)):l=((s=t+u*(n-t))-r)*(s-r)+((a=e+u*(o-e))-i)*(a-i)}return[s,a,l]},_getProjectionToLine(t,n,o){var r=e.Util.cloneObject(t),i=Number.MAX_VALUE;return n.forEach((function(s,a){if(o||a!==n.length-1){var l=n[(a+1)%n.length],c=e.Util._getProjectionToSegment(s.x,s.y,l.x,l.y,t.x,t.y),u=c[0],d=c[1],p=c[2];p<i&&(r.x=u,r.y=d,i=p)}})),r},_prepareArrayForTween(t,n,o){var r,i=[],s=[];if(t.length>n.length){var a=n;n=t,t=a}for(r=0;r<t.length;r+=2)i.push({x:t[r],y:t[r+1]});for(r=0;r<n.length;r+=2)s.push({x:n[r],y:n[r+1]});var l=[];return s.forEach((function(t){var n=e.Util._getProjectionToLine(t,i,o);l.push(n.x),l.push(n.y)})),l},_prepareToStringify(t){var n;for(var o in t.visitedByCircularReferenceRemoval=!0,t)if(t.hasOwnProperty(o)&&t[o]&&"object"==typeof t[o])if(n=Object.getOwnPropertyDescriptor(t,o),t[o].visitedByCircularReferenceRemoval||e.Util._isElement(t[o])){if(!n.configurable)return null;delete t[o]}else if(null===e.Util._prepareToStringify(t[o])){if(!n.configurable)return null;delete t[o]}return delete t.visitedByCircularReferenceRemoval,t},_assign(t,e){for(var n in e)t[n]=e[n];return t},_getFirstPointerId:t=>t.touches?t.changedTouches[0].identifier:t.pointerId||999,releaseCanvas(...t){o.Konva.releaseCanvasOnDestroy&&t.forEach((t=>{t.width=0,t.height=0}))},drawRoundedRectPath(t,e,n,o){let r=0,i=0,s=0,a=0;"number"==typeof o?r=i=s=a=Math.min(o,e/2,n/2):(r=Math.min(o[0]||0,e/2,n/2),i=Math.min(o[1]||0,e/2,n/2),a=Math.min(o[2]||0,e/2,n/2),s=Math.min(o[3]||0,e/2,n/2)),t.moveTo(r,0),t.lineTo(e-i,0),t.arc(e-i,i,i,3*Math.PI/2,0,!1),t.lineTo(e,n-a),t.arc(e-a,n-a,a,0,Math.PI/2,!1),t.lineTo(s,n),t.arc(s,n-s,s,Math.PI/2,Math.PI,!1),t.lineTo(0,r),t.arc(r,r,r,Math.PI,3*Math.PI/2,!1)}}},3774:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getComponentValidator=e.getBooleanValidator=e.getNumberArrayValidator=e.getFunctionValidator=e.getStringOrGradientValidator=e.getStringValidator=e.getNumberOrAutoValidator=e.getNumberOrArrayOfNumbersValidator=e.getNumberValidator=e.alphaComponent=e.RGBComponent=void 0;const o=n(4417),r=n(8588);function i(t){return r.Util._isString(t)?'"'+t+'"':"[object Number]"===Object.prototype.toString.call(t)||r.Util._isBoolean(t)?t:Object.prototype.toString.call(t)}e.RGBComponent=function(t){return t>255?255:t<0?0:Math.round(t)},e.alphaComponent=function(t){return t>1?1:t<1e-4?1e-4:t},e.getNumberValidator=function(){if(o.Konva.isUnminified)return function(t,e){return r.Util._isNumber(t)||r.Util.warn(i(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}},e.getNumberOrArrayOfNumbersValidator=function(t){if(o.Konva.isUnminified)return function(e,n){let o=r.Util._isNumber(e),s=r.Util._isArray(e)&&e.length==t;return o||s||r.Util.warn(i(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}},e.getNumberOrAutoValidator=function(){if(o.Konva.isUnminified)return function(t,e){return r.Util._isNumber(t)||"auto"===t||r.Util.warn(i(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}},e.getStringValidator=function(){if(o.Konva.isUnminified)return function(t,e){return r.Util._isString(t)||r.Util.warn(i(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}},e.getStringOrGradientValidator=function(){if(o.Konva.isUnminified)return function(t,e){const n=r.Util._isString(t),o="[object CanvasGradient]"===Object.prototype.toString.call(t)||t&&t.addColorStop;return n||o||r.Util.warn(i(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}},e.getFunctionValidator=function(){if(o.Konva.isUnminified)return function(t,e){return r.Util._isFunction(t)||r.Util.warn(i(t)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),t}},e.getNumberArrayValidator=function(){if(o.Konva.isUnminified)return function(t,e){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&t instanceof n||(r.Util._isArray(t)?t.forEach((function(t){r.Util._isNumber(t)||r.Util.warn('"'+e+'" attribute has non numeric element '+t+". Make sure that all elements are numbers.")})):r.Util.warn(i(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}},e.getBooleanValidator=function(){if(o.Konva.isUnminified)return function(t,e){return!0===t||!1===t||r.Util.warn(i(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}},e.getComponentValidator=function(t){if(o.Konva.isUnminified)return function(e,n){return null==e||r.Util.isObject(e)||r.Util.warn(i(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}},3986:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Konva=void 0;const o=n(4417),r=n(8588),i=n(7939),s=n(8783),a=n(8342),l=n(4415),c=n(3980),u=n(8985),d=n(210),p=n(7955),h=n(6745),f=n(8017),g=n(3442),_=n(4842);e.Konva=r.Util._assign(o.Konva,{Util:r.Util,Transform:r.Transform,Node:i.Node,Container:s.Container,Stage:a.Stage,stages:a.stages,Layer:l.Layer,FastLayer:c.FastLayer,Group:u.Group,DD:d.DD,Shape:p.Shape,shapes:p.shapes,Animation:h.Animation,Tween:f.Tween,Easings:f.Easings,Context:g.Context,Canvas:_.Canvas}),e.default=e.Konva},2076:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Konva=void 0;const o=n(3986),r=n(119),i=n(2064),s=n(7643),a=n(535),l=n(1298),c=n(6067),u=n(7149),d=n(7339),p=n(5244),h=n(1785),f=n(657),g=n(8986),_=n(1964),m=n(3787),y=n(2831),v=n(9516),C=n(9846),E=n(2527),b=n(6672),S=n(5309),w=n(1695),O=n(9621),P=n(1179),T=n(7194),R=n(3925),D=n(5751),x=n(6588),M=n(3565),A=n(5929),L=n(7233),I=n(8590),N=n(8280),k=n(3438),F=n(6703),G=n(1665),B=n(1863);e.Konva=o.Konva.Util._assign(o.Konva,{Arc:r.Arc,Arrow:i.Arrow,Circle:s.Circle,Ellipse:a.Ellipse,Image:l.Image,Label:c.Label,Tag:c.Tag,Line:u.Line,Path:d.Path,Rect:p.Rect,RegularPolygon:h.RegularPolygon,Ring:f.Ring,Sprite:g.Sprite,Star:_.Star,Text:m.Text,TextPath:y.TextPath,Transformer:v.Transformer,Wedge:C.Wedge,Filters:{Blur:E.Blur,Brighten:b.Brighten,Contrast:S.Contrast,Emboss:w.Emboss,Enhance:O.Enhance,Grayscale:P.Grayscale,HSL:T.HSL,HSV:R.HSV,Invert:D.Invert,Kaleidoscope:x.Kaleidoscope,Mask:M.Mask,Noise:A.Noise,Pixelate:L.Pixelate,Posterize:I.Posterize,RGB:N.RGB,RGBA:k.RGBA,Sepia:F.Sepia,Solarize:G.Solarize,Threshold:B.Threshold}})},2527:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Blur=void 0;const o=n(1455),r=n(7939),i=n(3774);function s(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var a=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],l=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];e.Blur=function(t){var e=Math.round(this.blurRadius());e>0&&function(t,e){var n,o,r,i,c,u,d,p,h,f,g,_,m,y,v,C,E,b,S,w,O,P,T,R,D=t.data,x=t.width,M=t.height,A=e+e+1,L=x-1,I=M-1,N=e+1,k=N*(N+1)/2,F=new s,G=null,B=F,U=null,j=null,V=a[e],W=l[e];for(r=1;r<A;r++)B=B.next=new s,r===N&&(G=B);for(B.next=F,d=u=0,o=0;o<M;o++){for(C=E=b=S=p=h=f=g=0,_=N*(w=D[u]),m=N*(O=D[u+1]),y=N*(P=D[u+2]),v=N*(T=D[u+3]),p+=k*w,h+=k*O,f+=k*P,g+=k*T,B=F,r=0;r<N;r++)B.r=w,B.g=O,B.b=P,B.a=T,B=B.next;for(r=1;r<N;r++)i=u+((L<r?L:r)<<2),p+=(B.r=w=D[i])*(R=N-r),h+=(B.g=O=D[i+1])*R,f+=(B.b=P=D[i+2])*R,g+=(B.a=T=D[i+3])*R,C+=w,E+=O,b+=P,S+=T,B=B.next;for(U=F,j=G,n=0;n<x;n++)D[u+3]=T=g*V>>W,0!==T?(T=255/T,D[u]=(p*V>>W)*T,D[u+1]=(h*V>>W)*T,D[u+2]=(f*V>>W)*T):D[u]=D[u+1]=D[u+2]=0,p-=_,h-=m,f-=y,g-=v,_-=U.r,m-=U.g,y-=U.b,v-=U.a,i=d+((i=n+e+1)<L?i:L)<<2,p+=C+=U.r=D[i],h+=E+=U.g=D[i+1],f+=b+=U.b=D[i+2],g+=S+=U.a=D[i+3],U=U.next,_+=w=j.r,m+=O=j.g,y+=P=j.b,v+=T=j.a,C-=w,E-=O,b-=P,S-=T,j=j.next,u+=4;d+=x}for(n=0;n<x;n++){for(E=b=S=C=h=f=g=p=0,_=N*(w=D[u=n<<2]),m=N*(O=D[u+1]),y=N*(P=D[u+2]),v=N*(T=D[u+3]),p+=k*w,h+=k*O,f+=k*P,g+=k*T,B=F,r=0;r<N;r++)B.r=w,B.g=O,B.b=P,B.a=T,B=B.next;for(c=x,r=1;r<=e;r++)u=c+n<<2,p+=(B.r=w=D[u])*(R=N-r),h+=(B.g=O=D[u+1])*R,f+=(B.b=P=D[u+2])*R,g+=(B.a=T=D[u+3])*R,C+=w,E+=O,b+=P,S+=T,B=B.next,r<I&&(c+=x);for(u=n,U=F,j=G,o=0;o<M;o++)D[3+(i=u<<2)]=T=g*V>>W,T>0?(T=255/T,D[i]=(p*V>>W)*T,D[i+1]=(h*V>>W)*T,D[i+2]=(f*V>>W)*T):D[i]=D[i+1]=D[i+2]=0,p-=_,h-=m,f-=y,g-=v,_-=U.r,m-=U.g,y-=U.b,v-=U.a,i=n+((i=o+N)<I?i:I)*x<<2,p+=C+=U.r=D[i],h+=E+=U.g=D[i+1],f+=b+=U.b=D[i+2],g+=S+=U.a=D[i+3],U=U.next,_+=w=j.r,m+=O=j.g,y+=P=j.b,v+=T=j.a,C-=w,E-=O,b-=P,S-=T,j=j.next,u+=x}}(t,e)},o.Factory.addGetterSetter(r.Node,"blurRadius",0,(0,i.getNumberValidator)(),o.Factory.afterSetFilter)},6672:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Brighten=void 0;const o=n(1455),r=n(7939),i=n(3774);e.Brighten=function(t){var e,n=255*this.brightness(),o=t.data,r=o.length;for(e=0;e<r;e+=4)o[e]+=n,o[e+1]+=n,o[e+2]+=n},o.Factory.addGetterSetter(r.Node,"brightness",0,(0,i.getNumberValidator)(),o.Factory.afterSetFilter)},5309:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Contrast=void 0;const o=n(1455),r=n(7939),i=n(3774);e.Contrast=function(t){var e,n=Math.pow((this.contrast()+100)/100,2),o=t.data,r=o.length,i=150,s=150,a=150;for(e=0;e<r;e+=4)i=o[e],s=o[e+1],a=o[e+2],i/=255,i-=.5,i*=n,i+=.5,s/=255,s-=.5,s*=n,s+=.5,a/=255,a-=.5,a*=n,a+=.5,i=(i*=255)<0?0:i>255?255:i,s=(s*=255)<0?0:s>255?255:s,a=(a*=255)<0?0:a>255?255:a,o[e]=i,o[e+1]=s,o[e+2]=a},o.Factory.addGetterSetter(r.Node,"contrast",0,(0,i.getNumberValidator)(),o.Factory.afterSetFilter)},1695:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Emboss=void 0;const o=n(1455),r=n(7939),i=n(8588),s=n(3774);e.Emboss=function(t){var e=10*this.embossStrength(),n=255*this.embossWhiteLevel(),o=this.embossDirection(),r=this.embossBlend(),s=0,a=0,l=t.data,c=t.width,u=t.height,d=4*c,p=u;switch(o){case"top-left":s=-1,a=-1;break;case"top":s=-1,a=0;break;case"top-right":s=-1,a=1;break;case"right":s=0,a=1;break;case"bottom-right":s=1,a=1;break;case"bottom":s=1,a=0;break;case"bottom-left":s=1,a=-1;break;case"left":s=0,a=-1;break;default:i.Util.error("Unknown emboss direction: "+o)}do{var h=(p-1)*d,f=s;p+f<1&&(f=0),p+f>u&&(f=0);var g=(p-1+f)*c*4,_=c;do{var m=h+4*(_-1),y=a;_+y<1&&(y=0),_+y>c&&(y=0);var v=g+4*(_-1+y),C=l[m]-l[v],E=l[m+1]-l[v+1],b=l[m+2]-l[v+2],S=C,w=S>0?S:-S;if((E>0?E:-E)>w&&(S=E),(b>0?b:-b)>w&&(S=b),S*=e,r){var O=l[m]+S,P=l[m+1]+S,T=l[m+2]+S;l[m]=O>255?255:O<0?0:O,l[m+1]=P>255?255:P<0?0:P,l[m+2]=T>255?255:T<0?0:T}else{var R=n-S;R<0?R=0:R>255&&(R=255),l[m]=l[m+1]=l[m+2]=R}}while(--_)}while(--p)},o.Factory.addGetterSetter(r.Node,"embossStrength",.5,(0,s.getNumberValidator)(),o.Factory.afterSetFilter),o.Factory.addGetterSetter(r.Node,"embossWhiteLevel",.5,(0,s.getNumberValidator)(),o.Factory.afterSetFilter),o.Factory.addGetterSetter(r.Node,"embossDirection","top-left",null,o.Factory.afterSetFilter),o.Factory.addGetterSetter(r.Node,"embossBlend",!1,null,o.Factory.afterSetFilter)},9621:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Enhance=void 0;const o=n(1455),r=n(7939),i=n(3774);function s(t,e,n,o,r){var i=n-e,s=r-o;return 0===i?o+s/2:0===s?o:s*((t-e)/i)+o}e.Enhance=function(t){var e,n,o,r,i=t.data,a=i.length,l=i[0],c=l,u=i[1],d=u,p=i[2],h=p,f=this.enhance();if(0!==f){for(r=0;r<a;r+=4)(e=i[r+0])<l?l=e:e>c&&(c=e),(n=i[r+1])<u?u=n:n>d&&(d=n),(o=i[r+2])<p?p=o:o>h&&(h=o);var g,_,m,y,v,C,E,b,S;for(c===l&&(c=255,l=0),d===u&&(d=255,u=0),h===p&&(h=255,p=0),f>0?(_=c+f*(255-c),m=l-f*(l-0),v=d+f*(255-d),C=u-f*(u-0),b=h+f*(255-h),S=p-f*(p-0)):(_=c+f*(c-(g=.5*(c+l))),m=l+f*(l-g),v=d+f*(d-(y=.5*(d+u))),C=u+f*(u-y),b=h+f*(h-(E=.5*(h+p))),S=p+f*(p-E)),r=0;r<a;r+=4)i[r+0]=s(i[r+0],l,c,m,_),i[r+1]=s(i[r+1],u,d,C,v),i[r+2]=s(i[r+2],p,h,S,b)}},o.Factory.addGetterSetter(r.Node,"enhance",0,(0,i.getNumberValidator)(),o.Factory.afterSetFilter)},1179:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Grayscale=void 0;e.Grayscale=function(t){var e,n,o=t.data,r=o.length;for(e=0;e<r;e+=4)n=.34*o[e]+.5*o[e+1]+.16*o[e+2],o[e]=n,o[e+1]=n,o[e+2]=n}},7194:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HSL=void 0;const o=n(1455),r=n(7939),i=n(3774);o.Factory.addGetterSetter(r.Node,"hue",0,(0,i.getNumberValidator)(),o.Factory.afterSetFilter),o.Factory.addGetterSetter(r.Node,"saturation",0,(0,i.getNumberValidator)(),o.Factory.afterSetFilter),o.Factory.addGetterSetter(r.Node,"luminance",0,(0,i.getNumberValidator)(),o.Factory.afterSetFilter);e.HSL=function(t){var e,n,o,r,i,s=t.data,a=s.length,l=Math.pow(2,this.saturation()),c=Math.abs(this.hue()+360)%360,u=127*this.luminance(),d=1*l*Math.cos(c*Math.PI/180),p=1*l*Math.sin(c*Math.PI/180),h=.299+.701*d+.167*p,f=.587-.587*d+.33*p,g=.114-.114*d-.497*p,_=.299-.299*d-.328*p,m=.587+.413*d+.035*p,y=.114-.114*d+.293*p,v=.299-.3*d+1.25*p,C=.587-.586*d-1.05*p,E=.114+.886*d-.2*p;for(e=0;e<a;e+=4)n=s[e+0],o=s[e+1],r=s[e+2],i=s[e+3],s[e+0]=h*n+f*o+g*r+u,s[e+1]=_*n+m*o+y*r+u,s[e+2]=v*n+C*o+E*r+u,s[e+3]=i}},3925:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HSV=void 0;const o=n(1455),r=n(7939),i=n(3774);e.HSV=function(t){var e,n,o,r,i,s=t.data,a=s.length,l=Math.pow(2,this.value()),c=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,d=l*c*Math.cos(u*Math.PI/180),p=l*c*Math.sin(u*Math.PI/180),h=.299*l+.701*d+.167*p,f=.587*l-.587*d+.33*p,g=.114*l-.114*d-.497*p,_=.299*l-.299*d-.328*p,m=.587*l+.413*d+.035*p,y=.114*l-.114*d+.293*p,v=.299*l-.3*d+1.25*p,C=.587*l-.586*d-1.05*p,E=.114*l+.886*d-.2*p;for(e=0;e<a;e+=4)n=s[e+0],o=s[e+1],r=s[e+2],i=s[e+3],s[e+0]=h*n+f*o+g*r,s[e+1]=_*n+m*o+y*r,s[e+2]=v*n+C*o+E*r,s[e+3]=i},o.Factory.addGetterSetter(r.Node,"hue",0,(0,i.getNumberValidator)(),o.Factory.afterSetFilter),o.Factory.addGetterSetter(r.Node,"saturation",0,(0,i.getNumberValidator)(),o.Factory.afterSetFilter),o.Factory.addGetterSetter(r.Node,"value",0,(0,i.getNumberValidator)(),o.Factory.afterSetFilter)},5751:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Invert=void 0;e.Invert=function(t){var e,n=t.data,o=n.length;for(e=0;e<o;e+=4)n[e]=255-n[e],n[e+1]=255-n[e+1],n[e+2]=255-n[e+2]}},6588:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Kaleidoscope=void 0;const o=n(1455),r=n(7939),i=n(8588),s=n(3774);e.Kaleidoscope=function(t){var e,n,o,r,s,a,l,c,u,d=t.width,p=t.height,h=Math.round(this.kaleidoscopePower()),f=Math.round(this.kaleidoscopeAngle()),g=Math.floor(d*(f%360)/360);if(!(h<1)){var _=i.Util.createCanvasElement();_.width=d,_.height=p;var m=_.getContext("2d").getImageData(0,0,d,p);i.Util.releaseCanvas(_),function(t,e,n){var o,r,i,s,a=t.data,l=e.data,c=t.width,u=t.height,d=n.polarCenterX||c/2,p=n.polarCenterY||u/2,h=0,f=0,g=0,_=0,m=Math.sqrt(d*d+p*p);r=c-d,i=u-p,m=(s=Math.sqrt(r*r+i*i))>m?s:m;var y,v,C,E,b=u,S=c,w=360/S*Math.PI/180;for(v=0;v<S;v+=1)for(C=Math.sin(v*w),E=Math.cos(v*w),y=0;y<b;y+=1)r=Math.floor(d+m*y/b*E),h=a[0+(o=4*((i=Math.floor(p+m*y/b*C))*c+r))],f=a[o+1],g=a[o+2],_=a[o+3],l[0+(o=4*(v+y*c))]=h,l[o+1]=f,l[o+2]=g,l[o+3]=_}(t,m,{polarCenterX:d/2,polarCenterY:p/2});for(var y=d/Math.pow(2,h);y<=8;)y*=2,h-=1;var v=y=Math.ceil(y),C=0,E=v,b=1;for(g+y>d&&(C=v,E=0,b=-1),n=0;n<p;n+=1)for(e=C;e!==E;e+=b)c=4*(d*n+Math.round(e+g)%d),r=m.data[c+0],s=m.data[c+1],a=m.data[c+2],l=m.data[c+3],u=4*(d*n+e),m.data[u+0]=r,m.data[u+1]=s,m.data[u+2]=a,m.data[u+3]=l;for(n=0;n<p;n+=1)for(v=Math.floor(y),o=0;o<h;o+=1){for(e=0;e<v+1;e+=1)c=4*(d*n+e),r=m.data[c+0],s=m.data[c+1],a=m.data[c+2],l=m.data[c+3],u=4*(d*n+2*v-e-1),m.data[u+0]=r,m.data[u+1]=s,m.data[u+2]=a,m.data[u+3]=l;v*=2}!function(t,e,n){var o,r,i,s,a,l,c=t.data,u=e.data,d=t.width,p=t.height,h=n.polarCenterX||d/2,f=n.polarCenterY||p/2,g=0,_=0,m=0,y=0,v=Math.sqrt(h*h+f*f);r=d-h,i=p-f,v=(l=Math.sqrt(r*r+i*i))>v?l:v;var C,E,b,S=p,w=d,O=n.polarRotation||0;for(r=0;r<d;r+=1)for(i=0;i<p;i+=1)s=r-h,a=i-f,C=Math.sqrt(s*s+a*a)*S/v,E=(E=(180*Math.atan2(a,s)/Math.PI+360+O)%360)*w/360,b=Math.floor(E),g=c[0+(o=4*(Math.floor(C)*d+b))],_=c[o+1],m=c[o+2],y=c[o+3],u[0+(o=4*(i*d+r))]=g,u[o+1]=_,u[o+2]=m,u[o+3]=y}(m,t,{polarRotation:0})}},o.Factory.addGetterSetter(r.Node,"kaleidoscopePower",2,(0,s.getNumberValidator)(),o.Factory.afterSetFilter),o.Factory.addGetterSetter(r.Node,"kaleidoscopeAngle",0,(0,s.getNumberValidator)(),o.Factory.afterSetFilter)},3565:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Mask=void 0;const o=n(1455),r=n(7939),i=n(3774);function s(t,e,n){var o=4*(n*t.width+e),r=[];return r.push(t.data[o++],t.data[o++],t.data[o++],t.data[o++]),r}function a(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}e.Mask=function(t){var e=function(t,e){var n=s(t,0,0),o=s(t,t.width-1,0),r=s(t,0,t.height-1),i=s(t,t.width-1,t.height-1),l=e||10;if(a(n,o)<l&&a(o,i)<l&&a(i,r)<l&&a(r,n)<l){for(var c=function(t){for(var e=[0,0,0],n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}([o,n,i,r]),u=[],d=0;d<t.width*t.height;d++){var p=a(c,[t.data[4*d],t.data[4*d+1],t.data[4*d+2]]);u[d]=p<l?0:255}return u}}(t,this.threshold());return e&&function(t,e){for(var n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}(t,e=function(t,e,n){for(var o=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],r=Math.round(Math.sqrt(o.length)),i=Math.floor(r/2),s=[],a=0;a<n;a++)for(var l=0;l<e;l++){for(var c=a*e+l,u=0,d=0;d<r;d++)for(var p=0;p<r;p++){var h=a+d-i,f=l+p-i;if(h>=0&&h<n&&f>=0&&f<e){var g=o[d*r+p];u+=t[h*e+f]*g}}s[c]=u}return s}(e=function(t,e,n){for(var o=[1,1,1,1,1,1,1,1,1],r=Math.round(Math.sqrt(o.length)),i=Math.floor(r/2),s=[],a=0;a<n;a++)for(var l=0;l<e;l++){for(var c=a*e+l,u=0,d=0;d<r;d++)for(var p=0;p<r;p++){var h=a+d-i,f=l+p-i;if(h>=0&&h<n&&f>=0&&f<e){var g=o[d*r+p];u+=t[h*e+f]*g}}s[c]=u>=1020?255:0}return s}(e=function(t,e,n){for(var o=[1,1,1,1,0,1,1,1,1],r=Math.round(Math.sqrt(o.length)),i=Math.floor(r/2),s=[],a=0;a<n;a++)for(var l=0;l<e;l++){for(var c=a*e+l,u=0,d=0;d<r;d++)for(var p=0;p<r;p++){var h=a+d-i,f=l+p-i;if(h>=0&&h<n&&f>=0&&f<e){var g=o[d*r+p];u+=t[h*e+f]*g}}s[c]=2040===u?255:0}return s}(e,t.width,t.height),t.width,t.height),t.width,t.height)),t},o.Factory.addGetterSetter(r.Node,"threshold",0,(0,i.getNumberValidator)(),o.Factory.afterSetFilter)},5929:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Noise=void 0;const o=n(1455),r=n(7939),i=n(3774);e.Noise=function(t){var e,n=255*this.noise(),o=t.data,r=o.length,i=n/2;for(e=0;e<r;e+=4)o[e+0]+=i-2*i*Math.random(),o[e+1]+=i-2*i*Math.random(),o[e+2]+=i-2*i*Math.random()},o.Factory.addGetterSetter(r.Node,"noise",.2,(0,i.getNumberValidator)(),o.Factory.afterSetFilter)},7233:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Pixelate=void 0;const o=n(1455),r=n(8588),i=n(7939),s=n(3774);e.Pixelate=function(t){var e,n,o,i,s,a,l,c,u,d,p,h,f,g,_=Math.ceil(this.pixelSize()),m=t.width,y=t.height,v=Math.ceil(m/_),C=Math.ceil(y/_),E=t.data;if(_<=0)r.Util.error("pixelSize value can not be <= 0");else for(h=0;h<v;h+=1)for(f=0;f<C;f+=1){for(i=0,s=0,a=0,l=0,u=(c=h*_)+_,p=(d=f*_)+_,g=0,e=c;e<u;e+=1)if(!(e>=m))for(n=d;n<p;n+=1)n>=y||(i+=E[(o=4*(m*n+e))+0],s+=E[o+1],a+=E[o+2],l+=E[o+3],g+=1);for(i/=g,s/=g,a/=g,l/=g,e=c;e<u;e+=1)if(!(e>=m))for(n=d;n<p;n+=1)n>=y||(E[(o=4*(m*n+e))+0]=i,E[o+1]=s,E[o+2]=a,E[o+3]=l)}},o.Factory.addGetterSetter(i.Node,"pixelSize",8,(0,s.getNumberValidator)(),o.Factory.afterSetFilter)},8590:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Posterize=void 0;const o=n(1455),r=n(7939),i=n(3774);e.Posterize=function(t){var e,n=Math.round(254*this.levels())+1,o=t.data,r=o.length,i=255/n;for(e=0;e<r;e+=1)o[e]=Math.floor(o[e]/i)*i},o.Factory.addGetterSetter(r.Node,"levels",.5,(0,i.getNumberValidator)(),o.Factory.afterSetFilter)},8280:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RGB=void 0;const o=n(1455),r=n(7939),i=n(3774);e.RGB=function(t){var e,n,o=t.data,r=o.length,i=this.red(),s=this.green(),a=this.blue();for(e=0;e<r;e+=4)n=(.34*o[e]+.5*o[e+1]+.16*o[e+2])/255,o[e]=n*i,o[e+1]=n*s,o[e+2]=n*a,o[e+3]=o[e+3]},o.Factory.addGetterSetter(r.Node,"red",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),o.Factory.addGetterSetter(r.Node,"green",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),o.Factory.addGetterSetter(r.Node,"blue",0,i.RGBComponent,o.Factory.afterSetFilter)},3438:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RGBA=void 0;const o=n(1455),r=n(7939),i=n(3774);e.RGBA=function(t){var e,n,o=t.data,r=o.length,i=this.red(),s=this.green(),a=this.blue(),l=this.alpha();for(e=0;e<r;e+=4)n=1-l,o[e]=i*l+o[e]*n,o[e+1]=s*l+o[e+1]*n,o[e+2]=a*l+o[e+2]*n},o.Factory.addGetterSetter(r.Node,"red",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),o.Factory.addGetterSetter(r.Node,"green",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),o.Factory.addGetterSetter(r.Node,"blue",0,i.RGBComponent,o.Factory.afterSetFilter),o.Factory.addGetterSetter(r.Node,"alpha",1,(function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t}))},6703:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sepia=void 0;e.Sepia=function(t){var e,n,o,r,i=t.data,s=i.length;for(e=0;e<s;e+=4)n=i[e+0],o=i[e+1],r=i[e+2],i[e+0]=Math.min(255,.393*n+.769*o+.189*r),i[e+1]=Math.min(255,.349*n+.686*o+.168*r),i[e+2]=Math.min(255,.272*n+.534*o+.131*r)}},1665:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Solarize=void 0;e.Solarize=function(t){var e=t.data,n=t.width,o=4*n,r=t.height;do{var i=(r-1)*o,s=n;do{var a=i+4*(s-1),l=e[a],c=e[a+1],u=e[a+2];l>127&&(l=255-l),c>127&&(c=255-c),u>127&&(u=255-u),e[a]=l,e[a+1]=c,e[a+2]=u}while(--s)}while(--r)}},1863:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Threshold=void 0;const o=n(1455),r=n(7939),i=n(3774);e.Threshold=function(t){var e,n=255*this.threshold(),o=t.data,r=o.length;for(e=0;e<r;e+=1)o[e]=o[e]<n?0:255},o.Factory.addGetterSetter(r.Node,"threshold",.5,(0,i.getNumberValidator)(),o.Factory.afterSetFilter)},185:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=n(2076);t.exports=o.Konva},119:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Arc=void 0;const o=n(1455),r=n(7955),i=n(4417),s=n(3774),a=n(4417);class l extends r.Shape{_sceneFunc(t){var e=i.Konva.getAngle(this.angle()),n=this.clockwise();t.beginPath(),t.arc(0,0,this.outerRadius(),0,e,n),t.arc(0,0,this.innerRadius(),e,0,!n),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}getSelfRect(){const t=this.innerRadius(),e=this.outerRadius(),n=this.clockwise(),o=i.Konva.getAngle(n?360-this.angle():this.angle()),r=Math.cos(Math.min(o,Math.PI)),s=Math.sin(Math.min(Math.max(Math.PI,o),3*Math.PI/2)),a=Math.sin(Math.min(o,Math.PI/2)),l=r*(r>0?t:e),c=s*(s>0?t:e),u=a*(a>0?e:t);return{x:l,y:n?-1*u:c,width:1*e-l,height:u-c}}}e.Arc=l,l.prototype._centroid=!0,l.prototype.className="Arc",l.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,a._registerNode)(l),o.Factory.addGetterSetter(l,"innerRadius",0,(0,s.getNumberValidator)()),o.Factory.addGetterSetter(l,"outerRadius",0,(0,s.getNumberValidator)()),o.Factory.addGetterSetter(l,"angle",0,(0,s.getNumberValidator)()),o.Factory.addGetterSetter(l,"clockwise",!1,(0,s.getBooleanValidator)())},2064:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Arrow=void 0;const o=n(1455),r=n(7149),i=n(3774),s=n(4417),a=n(7339);class l extends r.Line{_sceneFunc(t){super._sceneFunc(t);var e=2*Math.PI,n=this.points(),o=n,r=0!==this.tension()&&n.length>4;r&&(o=this.getTensionPoints());var i,s,l=this.pointerLength(),c=n.length;if(r){const t=[o[o.length-4],o[o.length-3],o[o.length-2],o[o.length-1],n[c-2],n[c-1]],e=a.Path.calcLength(o[o.length-4],o[o.length-3],"C",t),r=a.Path.getPointOnQuadraticBezier(Math.min(1,1-l/e),t[0],t[1],t[2],t[3],t[4],t[5]);i=n[c-2]-r.x,s=n[c-1]-r.y}else i=n[c-2]-n[c-4],s=n[c-1]-n[c-3];var u=(Math.atan2(s,i)+e)%e,d=this.pointerWidth();this.pointerAtEnding()&&(t.save(),t.beginPath(),t.translate(n[c-2],n[c-1]),t.rotate(u),t.moveTo(0,0),t.lineTo(-l,d/2),t.lineTo(-l,-d/2),t.closePath(),t.restore(),this.__fillStroke(t)),this.pointerAtBeginning()&&(t.save(),t.beginPath(),t.translate(n[0],n[1]),r?(i=(o[0]+o[2])/2-n[0],s=(o[1]+o[3])/2-n[1]):(i=n[2]-n[0],s=n[3]-n[1]),t.rotate((Math.atan2(-s,-i)+e)%e),t.moveTo(0,0),t.lineTo(-l,d/2),t.lineTo(-l,-d/2),t.closePath(),t.restore(),this.__fillStroke(t))}__fillStroke(t){var e=this.dashEnabled();e&&(this.attrs.dashEnabled=!1,t.setLineDash([])),t.fillStrokeShape(this),e&&(this.attrs.dashEnabled=!0)}getSelfRect(){const t=super.getSelfRect(),e=this.pointerWidth()/2;return{x:t.x-e,y:t.y-e,width:t.width+2*e,height:t.height+2*e}}}e.Arrow=l,l.prototype.className="Arrow",(0,s._registerNode)(l),o.Factory.addGetterSetter(l,"pointerLength",10,(0,i.getNumberValidator)()),o.Factory.addGetterSetter(l,"pointerWidth",10,(0,i.getNumberValidator)()),o.Factory.addGetterSetter(l,"pointerAtBeginning",!1),o.Factory.addGetterSetter(l,"pointerAtEnding",!0)},7643:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Circle=void 0;const o=n(1455),r=n(7955),i=n(3774),s=n(4417);class a extends r.Shape{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.attrs.radius||0,0,2*Math.PI,!1),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(t){this.radius()!==t/2&&this.radius(t/2)}setHeight(t){this.radius()!==t/2&&this.radius(t/2)}}e.Circle=a,a.prototype._centroid=!0,a.prototype.className="Circle",a.prototype._attrsAffectingSize=["radius"],(0,s._registerNode)(a),o.Factory.addGetterSetter(a,"radius",0,(0,i.getNumberValidator)())},535:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ellipse=void 0;const o=n(1455),r=n(7955),i=n(3774),s=n(4417);class a extends r.Shape{_sceneFunc(t){var e=this.radiusX(),n=this.radiusY();t.beginPath(),t.save(),e!==n&&t.scale(1,n/e),t.arc(0,0,e,0,2*Math.PI,!1),t.restore(),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.radiusX()}getHeight(){return 2*this.radiusY()}setWidth(t){this.radiusX(t/2)}setHeight(t){this.radiusY(t/2)}}e.Ellipse=a,a.prototype.className="Ellipse",a.prototype._centroid=!0,a.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,s._registerNode)(a),o.Factory.addComponentsGetterSetter(a,"radius",["x","y"]),o.Factory.addGetterSetter(a,"radiusX",0,(0,i.getNumberValidator)()),o.Factory.addGetterSetter(a,"radiusY",0,(0,i.getNumberValidator)())},1298:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Image=void 0;const o=n(8588),r=n(1455),i=n(7955),s=n(4417),a=n(3774);class l extends i.Shape{constructor(t){super(t),this.on("imageChange.konva",(()=>{this._setImageLoad()})),this._setImageLoad()}_setImageLoad(){const t=this.image();t&&t.complete||t&&4===t.readyState||t&&t.addEventListener&&t.addEventListener("load",(()=>{this._requestDraw()}))}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(t){const e=this.getWidth(),n=this.getHeight(),r=this.cornerRadius(),i=this.attrs.image;let s;if(i){const t=this.attrs.cropWidth,o=this.attrs.cropHeight;s=t&&o?[i,this.cropX(),this.cropY(),t,o,0,0,e,n]:[i,0,0,e,n]}(this.hasFill()||this.hasStroke()||r)&&(t.beginPath(),r?o.Util.drawRoundedRectPath(t,e,n,r):t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)),i&&(r&&t.clip(),t.drawImage.apply(t,s))}_hitFunc(t){var e=this.width(),n=this.height(),r=this.cornerRadius();t.beginPath(),r?o.Util.drawRoundedRectPath(t,e,n,r):t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)}getWidth(){var t,e;return null!==(t=this.attrs.width)&&void 0!==t?t:null===(e=this.image())||void 0===e?void 0:e.width}getHeight(){var t,e;return null!==(t=this.attrs.height)&&void 0!==t?t:null===(e=this.image())||void 0===e?void 0:e.height}static fromURL(t,e,n=null){var r=o.Util.createImageElement();r.onload=function(){var t=new l({image:r});e(t)},r.onerror=n,r.crossOrigin="Anonymous",r.src=t}}e.Image=l,l.prototype.className="Image",(0,s._registerNode)(l),r.Factory.addGetterSetter(l,"cornerRadius",0,(0,a.getNumberOrArrayOfNumbersValidator)(4)),r.Factory.addGetterSetter(l,"image"),r.Factory.addComponentsGetterSetter(l,"crop",["x","y","width","height"]),r.Factory.addGetterSetter(l,"cropX",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(l,"cropY",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(l,"cropWidth",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(l,"cropHeight",0,(0,a.getNumberValidator)())},6067:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Tag=e.Label=void 0;const o=n(1455),r=n(7955),i=n(8985),s=n(3774),a=n(4417);var l=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],c="up",u="right",d="down",p="left",h=l.length;class f extends i.Group{constructor(t){super(t),this.on("add.konva",(function(t){this._addListeners(t.child),this._sync()}))}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(t){var e,n=this,o=function(){n._sync()};for(e=0;e<h;e++)t.on(l[e]+"Change.konva",o)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var t,e,n,o,r,i,s,a=this.getText(),l=this.getTag();if(a&&l){switch(t=a.width(),e=a.height(),n=l.pointerDirection(),o=l.pointerWidth(),s=l.pointerHeight(),r=0,i=0,n){case c:r=t/2,i=-1*s;break;case u:r=t+o,i=e/2;break;case d:r=t/2,i=e+s;break;case p:r=-1*o,i=e/2}l.setAttrs({x:-1*r,y:-1*i,width:t,height:e}),a.setAttrs({x:-1*r,y:-1*i})}}}e.Label=f,f.prototype.className="Label",(0,a._registerNode)(f);class g extends r.Shape{_sceneFunc(t){var e=this.width(),n=this.height(),o=this.pointerDirection(),r=this.pointerWidth(),i=this.pointerHeight(),s=this.cornerRadius();let a=0,l=0,h=0,f=0;"number"==typeof s?a=l=h=f=Math.min(s,e/2,n/2):(a=Math.min(s[0]||0,e/2,n/2),l=Math.min(s[1]||0,e/2,n/2),f=Math.min(s[2]||0,e/2,n/2),h=Math.min(s[3]||0,e/2,n/2)),t.beginPath(),t.moveTo(a,0),o===c&&(t.lineTo((e-r)/2,0),t.lineTo(e/2,-1*i),t.lineTo((e+r)/2,0)),t.lineTo(e-l,0),t.arc(e-l,l,l,3*Math.PI/2,0,!1),o===u&&(t.lineTo(e,(n-i)/2),t.lineTo(e+r,n/2),t.lineTo(e,(n+i)/2)),t.lineTo(e,n-f),t.arc(e-f,n-f,f,0,Math.PI/2,!1),o===d&&(t.lineTo((e+r)/2,n),t.lineTo(e/2,n+i),t.lineTo((e-r)/2,n)),t.lineTo(h,n),t.arc(h,n-h,h,Math.PI/2,Math.PI,!1),o===p&&(t.lineTo(0,(n+i)/2),t.lineTo(-1*r,n/2),t.lineTo(0,(n-i)/2)),t.lineTo(0,a),t.arc(a,a,a,Math.PI,3*Math.PI/2,!1),t.closePath(),t.fillStrokeShape(this)}getSelfRect(){var t=0,e=0,n=this.pointerWidth(),o=this.pointerHeight(),r=this.pointerDirection(),i=this.width(),s=this.height();return r===c?(e-=o,s+=o):r===d?s+=o:r===p?(t-=1.5*n,i+=n):r===u&&(i+=1.5*n),{x:t,y:e,width:i,height:s}}}e.Tag=g,g.prototype.className="Tag",(0,a._registerNode)(g),o.Factory.addGetterSetter(g,"pointerDirection","none"),o.Factory.addGetterSetter(g,"pointerWidth",0,(0,s.getNumberValidator)()),o.Factory.addGetterSetter(g,"pointerHeight",0,(0,s.getNumberValidator)()),o.Factory.addGetterSetter(g,"cornerRadius",0,(0,s.getNumberOrArrayOfNumbersValidator)(4))},7149:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Line=void 0;const o=n(1455),r=n(7955),i=n(3774),s=n(4417);function a(t,e,n,o,r,i,s){var a=Math.sqrt(Math.pow(n-t,2)+Math.pow(o-e,2)),l=Math.sqrt(Math.pow(r-n,2)+Math.pow(i-o,2)),c=s*a/(a+l),u=s*l/(a+l);return[n-c*(r-t),o-c*(i-e),n+u*(r-t),o+u*(i-e)]}function l(t,e){var n,o,r=t.length,i=[];for(n=2;n<r-2;n+=2)o=a(t[n-2],t[n-1],t[n],t[n+1],t[n+2],t[n+3],e),isNaN(o[0])||(i.push(o[0]),i.push(o[1]),i.push(t[n]),i.push(t[n+1]),i.push(o[2]),i.push(o[3]));return i}class c extends r.Shape{constructor(t){super(t),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",(function(){this._clearCache("tensionPoints")}))}_sceneFunc(t){var e,n,o,r=this.points(),i=r.length,s=this.tension(),a=this.closed(),l=this.bezier();if(i){if(t.beginPath(),t.moveTo(r[0],r[1]),0!==s&&i>4){for(n=(e=this.getTensionPoints()).length,o=a?0:4,a||t.quadraticCurveTo(e[0],e[1],e[2],e[3]);o<n-2;)t.bezierCurveTo(e[o++],e[o++],e[o++],e[o++],e[o++],e[o++]);a||t.quadraticCurveTo(e[n-2],e[n-1],r[i-2],r[i-1])}else if(l)for(o=2;o<i;)t.bezierCurveTo(r[o++],r[o++],r[o++],r[o++],r[o++],r[o++]);else for(o=2;o<i;o+=2)t.lineTo(r[o],r[o+1]);a?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():l(this.points(),this.tension())}_getTensionPointsClosed(){var t=this.points(),e=t.length,n=this.tension(),o=a(t[e-2],t[e-1],t[0],t[1],t[2],t[3],n),r=a(t[e-4],t[e-3],t[e-2],t[e-1],t[0],t[1],n),i=l(t,n);return[o[2],o[3]].concat(i).concat([r[0],r[1],t[e-2],t[e-1],r[2],r[3],o[0],o[1],t[0],t[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var t=this.points();if(t.length<4)return{x:t[0]||0,y:t[1]||0,width:0,height:0};for(var e,n,o=(t=0!==this.tension()?[t[0],t[1],...this._getTensionPoints(),t[t.length-2],t[t.length-1]]:this.points())[0],r=t[0],i=t[1],s=t[1],a=0;a<t.length/2;a++)e=t[2*a],n=t[2*a+1],o=Math.min(o,e),r=Math.max(r,e),i=Math.min(i,n),s=Math.max(s,n);return{x:o,y:i,width:r-o,height:s-i}}}e.Line=c,c.prototype.className="Line",c.prototype._attrsAffectingSize=["points","bezier","tension"],(0,s._registerNode)(c),o.Factory.addGetterSetter(c,"closed",!1),o.Factory.addGetterSetter(c,"bezier",!1),o.Factory.addGetterSetter(c,"tension",0,(0,i.getNumberValidator)()),o.Factory.addGetterSetter(c,"points",[],(0,i.getNumberArrayValidator)())},7339:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Path=void 0;const o=n(1455),r=n(7955),i=n(4417),s=n(4135);class a extends r.Shape{constructor(t){super(t),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",(function(){this._readDataAttribute()}))}_readDataAttribute(){this.dataArray=a.parsePathData(this.data()),this.pathLength=a.getPathLength(this.dataArray)}_sceneFunc(t){var e=this.dataArray;t.beginPath();for(var n=!1,o=0;o<e.length;o++){var r=e[o].command,i=e[o].points;switch(r){case"L":t.lineTo(i[0],i[1]);break;case"M":t.moveTo(i[0],i[1]);break;case"C":t.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]);break;case"Q":t.quadraticCurveTo(i[0],i[1],i[2],i[3]);break;case"A":var s=i[0],a=i[1],l=i[2],c=i[3],u=i[4],d=i[5],p=i[6],h=i[7],f=l>c?l:c,g=l>c?1:l/c,_=l>c?c/l:1;t.translate(s,a),t.rotate(p),t.scale(g,_),t.arc(0,0,f,u,u+d,1-h),t.scale(1/g,1/_),t.rotate(-p),t.translate(-s,-a);break;case"z":n=!0,t.closePath()}}n||this.hasFill()?t.fillStrokeShape(this):t.strokeShape(this)}getSelfRect(){var t=[];this.dataArray.forEach((function(e){if("A"===e.command){var n=e.points[4],o=e.points[5],r=e.points[4]+o,i=Math.PI/180;if(Math.abs(n-r)<i&&(i=Math.abs(n-r)),o<0)for(let o=n-i;o>r;o-=i){const n=a.getPointOnEllipticalArc(e.points[0],e.points[1],e.points[2],e.points[3],o,0);t.push(n.x,n.y)}else for(let o=n+i;o<r;o+=i){const n=a.getPointOnEllipticalArc(e.points[0],e.points[1],e.points[2],e.points[3],o,0);t.push(n.x,n.y)}}else if("C"===e.command)for(let n=0;n<=1;n+=.01){const o=a.getPointOnCubicBezier(n,e.start.x,e.start.y,e.points[0],e.points[1],e.points[2],e.points[3],e.points[4],e.points[5]);t.push(o.x,o.y)}else t=t.concat(e.points)}));for(var e,n,o=t[0],r=t[0],i=t[1],s=t[1],l=0;l<t.length/2;l++)e=t[2*l],n=t[2*l+1],isNaN(e)||(o=Math.min(o,e),r=Math.max(r,e)),isNaN(n)||(i=Math.min(i,n),s=Math.max(s,n));return{x:o,y:i,width:r-o,height:s-i}}getLength(){return this.pathLength}getPointAtLength(t){return a.getPointAtLengthOfDataArray(t,this.dataArray)}static getLineLength(t,e,n,o){return Math.sqrt((n-t)*(n-t)+(o-e)*(o-e))}static getPathLength(t){let e=0;for(var n=0;n<t.length;++n)e+=t[n].pathLength;return e}static getPointAtLengthOfDataArray(t,e){var n,o=0,r=e.length;if(!r)return null;for(;o<r&&t>e[o].pathLength;)t-=e[o].pathLength,++o;if(o===r)return{x:(n=e[o-1].points.slice(-2))[0],y:n[1]};if(t<.01)return{x:(n=e[o].points.slice(0,2))[0],y:n[1]};var i=e[o],l=i.points;switch(i.command){case"L":return a.getPointOnLine(t,i.start.x,i.start.y,l[0],l[1]);case"C":return a.getPointOnCubicBezier((0,s.t2length)(t,a.getPathLength(e),(t=>(0,s.getCubicArcLength)([i.start.x,l[0],l[2],l[4]],[i.start.y,l[1],l[3],l[5]],t))),i.start.x,i.start.y,l[0],l[1],l[2],l[3],l[4],l[5]);case"Q":return a.getPointOnQuadraticBezier((0,s.t2length)(t,a.getPathLength(e),(t=>(0,s.getQuadraticArcLength)([i.start.x,l[0],l[2]],[i.start.y,l[1],l[3]],t))),i.start.x,i.start.y,l[0],l[1],l[2],l[3]);case"A":var c=l[0],u=l[1],d=l[2],p=l[3],h=l[4],f=l[5],g=l[6];return h+=f*t/i.pathLength,a.getPointOnEllipticalArc(c,u,d,p,h,g)}return null}static getPointOnLine(t,e,n,o,r,i,s){void 0===i&&(i=e),void 0===s&&(s=n);var a=(r-n)/(o-e+1e-8),l=Math.sqrt(t*t/(1+a*a));o<e&&(l*=-1);var c,u=a*l;if(o===e)c={x:i,y:s+u};else if((s-n)/(i-e+1e-8)===a)c={x:i+l,y:s+u};else{var d,p,h=this.getLineLength(e,n,o,r),f=(i-e)*(o-e)+(s-n)*(r-n);d=e+(f/=h*h)*(o-e),p=n+f*(r-n);var g=this.getLineLength(i,s,d,p),_=Math.sqrt(t*t-g*g);l=Math.sqrt(_*_/(1+a*a)),o<e&&(l*=-1),c={x:d+l,y:p+(u=a*l)}}return c}static getPointOnCubicBezier(t,e,n,o,r,i,s,a,l){function c(t){return t*t*t}function u(t){return 3*t*t*(1-t)}function d(t){return 3*t*(1-t)*(1-t)}function p(t){return(1-t)*(1-t)*(1-t)}return{x:a*c(t)+i*u(t)+o*d(t)+e*p(t),y:l*c(t)+s*u(t)+r*d(t)+n*p(t)}}static getPointOnQuadraticBezier(t,e,n,o,r,i,s){function a(t){return t*t}function l(t){return 2*t*(1-t)}function c(t){return(1-t)*(1-t)}return{x:i*a(t)+o*l(t)+e*c(t),y:s*a(t)+r*l(t)+n*c(t)}}static getPointOnEllipticalArc(t,e,n,o,r,i){var s=Math.cos(i),a=Math.sin(i),l=n*Math.cos(r),c=o*Math.sin(r);return{x:t+(l*s-c*a),y:e+(l*a+c*s)}}static parsePathData(t){if(!t)return[];var e=t,n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];e=e.replace(new RegExp(" ","g"),",");for(var o=0;o<n.length;o++)e=e.replace(new RegExp(n[o],"g"),"|"+n[o]);var r,i=e.split("|"),s=[],a=[],l=0,c=0,u=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;for(o=1;o<i.length;o++){var d=i[o],p=d.charAt(0);for(d=d.slice(1),a.length=0;r=u.exec(d);)a.push(r[0]);for(var h=[],f=0,g=a.length;f<g;f++)if("00"!==a[f]){var _=parseFloat(a[f]);isNaN(_)?h.push(0):h.push(_)}else h.push(0,0);for(;h.length>0&&!isNaN(h[0]);){var m,y,v,C,E,b,S,w,O,P,T=null,R=[],D=l,x=c;switch(p){case"l":l+=h.shift(),c+=h.shift(),T="L",R.push(l,c);break;case"L":l=h.shift(),c=h.shift(),R.push(l,c);break;case"m":var M=h.shift(),A=h.shift();if(l+=M,c+=A,T="M",s.length>2&&"z"===s[s.length-1].command)for(var L=s.length-2;L>=0;L--)if("M"===s[L].command){l=s[L].points[0]+M,c=s[L].points[1]+A;break}R.push(l,c),p="l";break;case"M":l=h.shift(),c=h.shift(),T="M",R.push(l,c),p="L";break;case"h":l+=h.shift(),T="L",R.push(l,c);break;case"H":l=h.shift(),T="L",R.push(l,c);break;case"v":c+=h.shift(),T="L",R.push(l,c);break;case"V":c=h.shift(),T="L",R.push(l,c);break;case"C":R.push(h.shift(),h.shift(),h.shift(),h.shift()),l=h.shift(),c=h.shift(),R.push(l,c);break;case"c":R.push(l+h.shift(),c+h.shift(),l+h.shift(),c+h.shift()),l+=h.shift(),c+=h.shift(),T="C",R.push(l,c);break;case"S":y=l,v=c,"C"===(m=s[s.length-1]).command&&(y=l+(l-m.points[2]),v=c+(c-m.points[3])),R.push(y,v,h.shift(),h.shift()),l=h.shift(),c=h.shift(),T="C",R.push(l,c);break;case"s":y=l,v=c,"C"===(m=s[s.length-1]).command&&(y=l+(l-m.points[2]),v=c+(c-m.points[3])),R.push(y,v,l+h.shift(),c+h.shift()),l+=h.shift(),c+=h.shift(),T="C",R.push(l,c);break;case"Q":R.push(h.shift(),h.shift()),l=h.shift(),c=h.shift(),R.push(l,c);break;case"q":R.push(l+h.shift(),c+h.shift()),l+=h.shift(),c+=h.shift(),T="Q",R.push(l,c);break;case"T":y=l,v=c,"Q"===(m=s[s.length-1]).command&&(y=l+(l-m.points[0]),v=c+(c-m.points[1])),l=h.shift(),c=h.shift(),T="Q",R.push(y,v,l,c);break;case"t":y=l,v=c,"Q"===(m=s[s.length-1]).command&&(y=l+(l-m.points[0]),v=c+(c-m.points[1])),l+=h.shift(),c+=h.shift(),T="Q",R.push(y,v,l,c);break;case"A":C=h.shift(),E=h.shift(),b=h.shift(),S=h.shift(),w=h.shift(),O=l,P=c,l=h.shift(),c=h.shift(),T="A",R=this.convertEndpointToCenterParameterization(O,P,l,c,S,w,C,E,b);break;case"a":C=h.shift(),E=h.shift(),b=h.shift(),S=h.shift(),w=h.shift(),O=l,P=c,l+=h.shift(),c+=h.shift(),T="A",R=this.convertEndpointToCenterParameterization(O,P,l,c,S,w,C,E,b)}s.push({command:T||p,points:R,start:{x:D,y:x},pathLength:this.calcLength(D,x,T||p,R)})}"z"!==p&&"Z"!==p||s.push({command:"z",points:[],start:void 0,pathLength:0})}return s}static calcLength(t,e,n,o){var r,i,l,c,u=a;switch(n){case"L":return u.getLineLength(t,e,o[0],o[1]);case"C":return(0,s.getCubicArcLength)([t,o[0],o[2],o[4]],[e,o[1],o[3],o[5]],1);case"Q":return(0,s.getQuadraticArcLength)([t,o[0],o[2]],[e,o[1],o[3]],1);case"A":r=0;var d=o[4],p=o[5],h=o[4]+p,f=Math.PI/180;if(Math.abs(d-h)<f&&(f=Math.abs(d-h)),i=u.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],d,0),p<0)for(c=d-f;c>h;c-=f)l=u.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],c,0),r+=u.getLineLength(i.x,i.y,l.x,l.y),i=l;else for(c=d+f;c<h;c+=f)l=u.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],c,0),r+=u.getLineLength(i.x,i.y,l.x,l.y),i=l;return l=u.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],h,0),r+=u.getLineLength(i.x,i.y,l.x,l.y)}return 0}static convertEndpointToCenterParameterization(t,e,n,o,r,i,s,a,l){var c=l*(Math.PI/180),u=Math.cos(c)*(t-n)/2+Math.sin(c)*(e-o)/2,d=-1*Math.sin(c)*(t-n)/2+Math.cos(c)*(e-o)/2,p=u*u/(s*s)+d*d/(a*a);p>1&&(s*=Math.sqrt(p),a*=Math.sqrt(p));var h=Math.sqrt((s*s*(a*a)-s*s*(d*d)-a*a*(u*u))/(s*s*(d*d)+a*a*(u*u)));r===i&&(h*=-1),isNaN(h)&&(h=0);var f=h*s*d/a,g=h*-a*u/s,_=(t+n)/2+Math.cos(c)*f-Math.sin(c)*g,m=(e+o)/2+Math.sin(c)*f+Math.cos(c)*g,y=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},v=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(y(t)*y(e))},C=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(v(t,e))},E=C([1,0],[(u-f)/s,(d-g)/a]),b=[(u-f)/s,(d-g)/a],S=[(-1*u-f)/s,(-1*d-g)/a],w=C(b,S);return v(b,S)<=-1&&(w=Math.PI),v(b,S)>=1&&(w=0),0===i&&w>0&&(w-=2*Math.PI),1===i&&w<0&&(w+=2*Math.PI),[_,m,s,a,E,w,c,i]}}e.Path=a,a.prototype.className="Path",a.prototype._attrsAffectingSize=["data"],(0,i._registerNode)(a),o.Factory.addGetterSetter(a,"data")},5244:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rect=void 0;const o=n(1455),r=n(7955),i=n(4417),s=n(8588),a=n(3774);class l extends r.Shape{_sceneFunc(t){var e=this.cornerRadius(),n=this.width(),o=this.height();t.beginPath(),e?s.Util.drawRoundedRectPath(t,n,o,e):t.rect(0,0,n,o),t.closePath(),t.fillStrokeShape(this)}}e.Rect=l,l.prototype.className="Rect",(0,i._registerNode)(l),o.Factory.addGetterSetter(l,"cornerRadius",0,(0,a.getNumberOrArrayOfNumbersValidator)(4))},1785:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RegularPolygon=void 0;const o=n(1455),r=n(7955),i=n(3774),s=n(4417);class a extends r.Shape{_sceneFunc(t){const e=this._getPoints();t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var n=1;n<e.length;n++)t.lineTo(e[n].x,e[n].y);t.closePath(),t.fillStrokeShape(this)}_getPoints(){const t=this.attrs.sides,e=this.attrs.radius||0,n=[];for(var o=0;o<t;o++)n.push({x:e*Math.sin(2*o*Math.PI/t),y:-1*e*Math.cos(2*o*Math.PI/t)});return n}getSelfRect(){const t=this._getPoints();var e=t[0].x,n=t[0].y,o=t[0].x,r=t[0].y;return t.forEach((t=>{e=Math.min(e,t.x),n=Math.max(n,t.x),o=Math.min(o,t.y),r=Math.max(r,t.y)})),{x:e,y:o,width:n-e,height:r-o}}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(t){this.radius(t/2)}setHeight(t){this.radius(t/2)}}e.RegularPolygon=a,a.prototype.className="RegularPolygon",a.prototype._centroid=!0,a.prototype._attrsAffectingSize=["radius"],(0,s._registerNode)(a),o.Factory.addGetterSetter(a,"radius",0,(0,i.getNumberValidator)()),o.Factory.addGetterSetter(a,"sides",0,(0,i.getNumberValidator)())},657:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ring=void 0;const o=n(1455),r=n(7955),i=n(3774),s=n(4417);var a=2*Math.PI;class l extends r.Shape{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.innerRadius(),0,a,!1),t.moveTo(this.outerRadius(),0),t.arc(0,0,this.outerRadius(),a,0,!0),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}}e.Ring=l,l.prototype.className="Ring",l.prototype._centroid=!0,l.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,s._registerNode)(l),o.Factory.addGetterSetter(l,"innerRadius",0,(0,i.getNumberValidator)()),o.Factory.addGetterSetter(l,"outerRadius",0,(0,i.getNumberValidator)())},8986:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sprite=void 0;const o=n(1455),r=n(7955),i=n(6745),s=n(3774),a=n(4417);class l extends r.Shape{constructor(t){super(t),this._updated=!0,this.anim=new i.Animation((()=>{var t=this._updated;return this._updated=!1,t})),this.on("animationChange.konva",(function(){this.frameIndex(0)})),this.on("frameIndexChange.konva",(function(){this._updated=!0})),this.on("frameRateChange.konva",(function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())}))}_sceneFunc(t){var e=this.animation(),n=this.frameIndex(),o=4*n,r=this.animations()[e],i=this.frameOffsets(),s=r[o+0],a=r[o+1],l=r[o+2],c=r[o+3],u=this.image();if((this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,l,c),t.closePath(),t.fillStrokeShape(this)),u)if(i){var d=i[e],p=2*n;t.drawImage(u,s,a,l,c,d[p+0],d[p+1],l,c)}else t.drawImage(u,s,a,l,c,0,0,l,c)}_hitFunc(t){var e=this.animation(),n=this.frameIndex(),o=4*n,r=this.animations()[e],i=this.frameOffsets(),s=r[o+2],a=r[o+3];if(t.beginPath(),i){var l=i[e],c=2*n;t.rect(l[c+0],l[c+1],s,a)}else t.rect(0,0,s,a);t.closePath(),t.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var t=this;this.interval=setInterval((function(){t._updateIndex()}),1e3/this.frameRate())}start(){if(!this.isRunning()){var t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var t=this.frameIndex(),e=this.animation();t<this.animations()[e].length/4-1?this.frameIndex(t+1):this.frameIndex(0)}}e.Sprite=l,l.prototype.className="Sprite",(0,a._registerNode)(l),o.Factory.addGetterSetter(l,"animation"),o.Factory.addGetterSetter(l,"animations"),o.Factory.addGetterSetter(l,"frameOffsets"),o.Factory.addGetterSetter(l,"image"),o.Factory.addGetterSetter(l,"frameIndex",0,(0,s.getNumberValidator)()),o.Factory.addGetterSetter(l,"frameRate",17,(0,s.getNumberValidator)()),o.Factory.backCompat(l,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"})},1964:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Star=void 0;const o=n(1455),r=n(7955),i=n(3774),s=n(4417);class a extends r.Shape{_sceneFunc(t){var e=this.innerRadius(),n=this.outerRadius(),o=this.numPoints();t.beginPath(),t.moveTo(0,0-n);for(var r=1;r<2*o;r++){var i=r%2==0?n:e,s=i*Math.sin(r*Math.PI/o),a=-1*i*Math.cos(r*Math.PI/o);t.lineTo(s,a)}t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}}e.Star=a,a.prototype.className="Star",a.prototype._centroid=!0,a.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,s._registerNode)(a),o.Factory.addGetterSetter(a,"numPoints",5,(0,i.getNumberValidator)()),o.Factory.addGetterSetter(a,"innerRadius",0,(0,i.getNumberValidator)()),o.Factory.addGetterSetter(a,"outerRadius",0,(0,i.getNumberValidator)())},3787:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Text=e.stringToArray=void 0;const o=n(8588),r=n(1455),i=n(7955),s=n(3774),a=n(4417);function l(t){return Array.from(t)}e.stringToArray=l;var c,u="auto",d="justify",p="left",h="middle",f="normal",g=" ",_="none",m=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],y=m.length;function v(){return c||(c=o.Util.createCanvasElement().getContext("2d"))}class C extends i.Shape{constructor(t){super(function(t){return(t=t||{}).fillLinearGradientColorStops||t.fillRadialGradientColorStops||t.fillPatternImage||(t.fill=t.fill||"black"),t}(t)),this._partialTextX=0,this._partialTextY=0;for(var e=0;e<y;e++)this.on(m[e]+"Change.konva",this._setTextData);this._setTextData()}_sceneFunc(t){var e=this.textArr,n=e.length;if(this.text()){var o,r=this.padding(),i=this.fontSize(),s=this.lineHeight()*i,a=this.verticalAlign(),c=0,u=this.align(),f=this.getWidth(),g=this.letterSpacing(),_=this.fill(),m=this.textDecoration(),y=-1!==m.indexOf("underline"),v=-1!==m.indexOf("line-through"),C=0,E=(C=s/2,0),b=0;for(t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",h),t.setAttr("textAlign",p),a===h?c=(this.getHeight()-n*s-2*r)/2:"bottom"===a&&(c=this.getHeight()-n*s-2*r),t.translate(r,c+r),o=0;o<n;o++){E=0,b=0;var S,w,O,P=e[o],T=P.text,R=P.width,D=P.lastInParagraph;if(t.save(),"right"===u?E+=f-R-2*r:"center"===u&&(E+=(f-R-2*r)/2),y){t.save(),t.beginPath(),t.moveTo(E,C+b+Math.round(i/2)),w=0===(S=T.split(" ").length-1),O=u!==d||D?R:f-2*r,t.lineTo(E+Math.round(O),C+b+Math.round(i/2)),t.lineWidth=i/15;const e=this._getLinearGradient();t.strokeStyle=e||_,t.stroke(),t.restore()}if(v){t.save(),t.beginPath(),t.moveTo(E,C+b),w=0===(S=T.split(" ").length-1),O=u===d&&D&&!w?f-2*r:R,t.lineTo(E+Math.round(O),C+b),t.lineWidth=i/15;const e=this._getLinearGradient();t.strokeStyle=e||_,t.stroke(),t.restore()}if(0!==g||u===d){S=T.split(" ").length-1;for(var x=l(T),M=0;M<x.length;M++){var A=x[M];" "!==A||D||u!==d||(E+=(f-2*r-R)/S),this._partialTextX=E,this._partialTextY=C+b,this._partialText=A,t.fillStrokeShape(this),E+=this.measureSize(A).width+g}}else this._partialTextX=E,this._partialTextY=C+b,this._partialText=T,t.fillStrokeShape(this);t.restore(),n>1&&(C+=s)}}}_hitFunc(t){var e=this.getWidth(),n=this.getHeight();t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)}setText(t){var e=o.Util._isString(t)?t:null==t?"":t+"";return this._setAttr("text",e),this}getWidth(){return this.attrs.width===u||void 0===this.attrs.width?this.getTextWidth()+2*this.padding():this.attrs.width}getHeight(){return this.attrs.height===u||void 0===this.attrs.height?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return o.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(t){var e,n=v(),o=this.fontSize();return n.save(),n.font=this._getContextFont(),e=n.measureText(t),n.restore(),{width:e.width,height:o}}_getContextFont(){return this.fontStyle()+g+this.fontVariant()+g+(this.fontSize()+"px ")+this.fontFamily().split(",").map((t=>{const e=(t=t.trim()).indexOf(" ")>=0,n=t.indexOf('"')>=0||t.indexOf("'")>=0;return e&&!n&&(t=`"${t}"`),t})).join(", ")}_addTextLine(t){this.align()===d&&(t=t.trim());var e=this._getTextWidth(t);return this.textArr.push({text:t,width:e,lastInParagraph:!1})}_getTextWidth(t){var e=this.letterSpacing(),n=t.length;return v().measureText(t).width+(n?e*(n-1):0)}_setTextData(){var t=this.text().split("\n"),e=+this.fontSize(),n=0,o=this.lineHeight()*e,r=this.attrs.width,i=this.attrs.height,s=r!==u&&void 0!==r,a=i!==u&&void 0!==i,l=this.padding(),c=r-2*l,d=i-2*l,p=0,h=this.wrap(),f="char"!==h&&h!==_,m=this.ellipsis();this.textArr=[],v().font=this._getContextFont();for(var y=m?this._getTextWidth(""):0,C=0,E=t.length;C<E;++C){var b=t[C],S=this._getTextWidth(b);if(s&&S>c)for(;b.length>0;){for(var w=0,O=b.length,P="",T=0;w<O;){var R=w+O>>>1,D=b.slice(0,R+1),x=this._getTextWidth(D)+y;x<=c?(w=R+1,P=D,T=x):O=R}if(!P)break;if(f){var M,A=b[P.length];(M=(A===g||"-"===A)&&T<=c?P.length:Math.max(P.lastIndexOf(g),P.lastIndexOf("-"))+1)>0&&(w=M,P=P.slice(0,w),T=this._getTextWidth(P))}if(P=P.trimRight(),this._addTextLine(P),n=Math.max(n,T),p+=o,this._shouldHandleEllipsis(p)){this._tryToAddEllipsisToLastLine();break}if((b=(b=b.slice(w)).trimLeft()).length>0&&(S=this._getTextWidth(b))<=c){this._addTextLine(b),p+=o,n=Math.max(n,S);break}}else this._addTextLine(b),p+=o,n=Math.max(n,S),this._shouldHandleEllipsis(p)&&C<E-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),a&&p+o>d)break}this.textHeight=e,this.textWidth=n}_shouldHandleEllipsis(t){var e=+this.fontSize(),n=this.lineHeight()*e,o=this.attrs.height,r=o!==u&&void 0!==o,i=o-2*this.padding();return!(this.wrap()!==_)||r&&t+n>i}_tryToAddEllipsisToLastLine(){var t=this.attrs.width,e=t!==u&&void 0!==t,n=t-2*this.padding(),o=this.ellipsis(),r=this.textArr[this.textArr.length-1];if(r&&o){if(e)this._getTextWidth(r.text+"")<n||(r.text=r.text.slice(0,r.text.length-3));this.textArr.splice(this.textArr.length-1,1),this._addTextLine(r.text+"")}}getStrokeScaleEnabled(){return!0}}e.Text=C,C.prototype._fillFunc=function(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)},C.prototype._strokeFunc=function(t){t.strokeText(this._partialText,this._partialTextX,this._partialTextY)},C.prototype.className="Text",C.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,a._registerNode)(C),r.Factory.overWriteSetter(C,"width",(0,s.getNumberOrAutoValidator)()),r.Factory.overWriteSetter(C,"height",(0,s.getNumberOrAutoValidator)()),r.Factory.addGetterSetter(C,"fontFamily","Arial"),r.Factory.addGetterSetter(C,"fontSize",12,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(C,"fontStyle",f),r.Factory.addGetterSetter(C,"fontVariant",f),r.Factory.addGetterSetter(C,"padding",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(C,"align",p),r.Factory.addGetterSetter(C,"verticalAlign","top"),r.Factory.addGetterSetter(C,"lineHeight",1,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(C,"wrap","word"),r.Factory.addGetterSetter(C,"ellipsis",!1,(0,s.getBooleanValidator)()),r.Factory.addGetterSetter(C,"letterSpacing",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(C,"text","",(0,s.getStringValidator)()),r.Factory.addGetterSetter(C,"textDecoration","")},2831:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextPath=void 0;const o=n(8588),r=n(1455),i=n(7955),s=n(7339),a=n(3787),l=n(3774),c=n(4417);var u="normal";function d(t){t.fillText(this.partialText,0,0)}function p(t){t.strokeText(this.partialText,0,0)}class h extends i.Shape{constructor(t){super(t),this.dummyCanvas=o.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",(function(){this._readDataAttribute(),this._setTextData()})),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return s.Path.getPathLength(this.dataArray)}_getPointAtLength(t){if(!this.attrs.data)return null;return t-1>this.pathLength?null:s.Path.getPointAtLengthOfDataArray(t,this.dataArray)}_readDataAttribute(){this.dataArray=s.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",this.textBaseline()),t.setAttr("textAlign","left"),t.save();var e=this.textDecoration(),n=this.fill(),o=this.fontSize(),r=this.glyphInfo;"underline"===e&&t.beginPath();for(var i=0;i<r.length;i++){t.save();var s=r[i].p0;t.translate(s.x,s.y),t.rotate(r[i].rotation),this.partialText=r[i].text,t.fillStrokeShape(this),"underline"===e&&(0===i&&t.moveTo(0,o/2+1),t.lineTo(o,o/2+1)),t.restore()}"underline"===e&&(t.strokeStyle=n,t.lineWidth=o/20,t.stroke()),t.restore()}_hitFunc(t){t.beginPath();var e=this.glyphInfo;if(e.length>=1){var n=e[0].p0;t.moveTo(n.x,n.y)}for(var o=0;o<e.length;o++){var r=e[o].p1;t.lineTo(r.x,r.y)}t.setAttr("lineWidth",this.fontSize()),t.setAttr("strokeStyle",this.colorKey),t.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return o.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(t){return a.Text.prototype.setText.call(this,t)}_getContextFont(){return a.Text.prototype._getContextFont.call(this)}_getTextSize(t){var e=this.dummyCanvas.getContext("2d");e.save(),e.font=this._getContextFont();var n=e.measureText(t);return e.restore(),{width:n.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:t,height:e}=this._getTextSize(this.attrs.text);if(this.textWidth=t,this.textHeight=e,this.glyphInfo=[],!this.attrs.data)return null;const n=this.letterSpacing(),o=this.align(),r=this.kerningFunc(),i=Math.max(this.textWidth+((this.attrs.text||"").length-1)*n,0);let l=0;"center"===o&&(l=Math.max(0,this.pathLength/2-i/2)),"right"===o&&(l=Math.max(0,this.pathLength-i));const c=(0,a.stringToArray)(this.text());let u=l;for(var d=0;d<c.length;d++){const t=this._getPointAtLength(u);if(!t)return;let e=this._getTextSize(c[d]).width+n;if(" "===c[d]&&"justify"===o){const t=this.text().split(" ").length-1;e+=(this.pathLength-i)/t}const a=this._getPointAtLength(u+e);if(!a)return;const l=s.Path.getLineLength(t.x,t.y,a.x,a.y);let p=0;if(r)try{p=r(c[d-1],c[d])*this.fontSize()}catch(t){p=0}t.x+=p,a.x+=p,this.textWidth+=p;const h=s.Path.getPointOnLine(p+l/2,t.x,t.y,a.x,a.y),f=Math.atan2(a.y-t.y,a.x-t.x);this.glyphInfo.push({transposeX:h.x,transposeY:h.y,text:c[d],rotation:f,p0:t,p1:a}),u+=e}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var t=[];this.glyphInfo.forEach((function(e){t.push(e.p0.x),t.push(e.p0.y),t.push(e.p1.x),t.push(e.p1.y)}));for(var e,n,o=t[0]||0,r=t[0]||0,i=t[1]||0,s=t[1]||0,a=0;a<t.length/2;a++)e=t[2*a],n=t[2*a+1],o=Math.min(o,e),r=Math.max(r,e),i=Math.min(i,n),s=Math.max(s,n);var l=this.fontSize();return{x:o-l/2,y:i-l/2,width:r-o+l,height:s-i+l}}destroy(){return o.Util.releaseCanvas(this.dummyCanvas),super.destroy()}}e.TextPath=h,h.prototype._fillFunc=d,h.prototype._strokeFunc=p,h.prototype._fillFuncHit=d,h.prototype._strokeFuncHit=p,h.prototype.className="TextPath",h.prototype._attrsAffectingSize=["text","fontSize","data"],(0,c._registerNode)(h),r.Factory.addGetterSetter(h,"data"),r.Factory.addGetterSetter(h,"fontFamily","Arial"),r.Factory.addGetterSetter(h,"fontSize",12,(0,l.getNumberValidator)()),r.Factory.addGetterSetter(h,"fontStyle",u),r.Factory.addGetterSetter(h,"align","left"),r.Factory.addGetterSetter(h,"letterSpacing",0,(0,l.getNumberValidator)()),r.Factory.addGetterSetter(h,"textBaseline","middle"),r.Factory.addGetterSetter(h,"fontVariant",u),r.Factory.addGetterSetter(h,"text",""),r.Factory.addGetterSetter(h,"textDecoration",null),r.Factory.addGetterSetter(h,"kerningFunc",null)},9516:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Transformer=void 0;const o=n(8588),r=n(1455),i=n(7939),s=n(7955),a=n(5244),l=n(8985),c=n(4417),u=n(3774),d=n(4417);var p="tr-konva",h=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map((t=>t+`.${p}`)).join(" "),f="nodesRect",g=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],_={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const m="ontouchstart"in c.Konva._global;var y=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function v(t,e,n){const o=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),r=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return Object.assign(Object.assign({},t),{rotation:t.rotation+e,x:o,y:r})}function C(t,e){const n=function(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}(t);return v(t,e,n)}class E extends l.Group{constructor(t){super(t),this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(h,this.update),this.getNode()&&this.update()}attachTo(t){return this.setNode(t),this}setNode(t){return o.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([t])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return p+this._id}setNodes(t=[]){this._nodes&&this._nodes.length&&this.detach();const e=t.filter((t=>!t.isAncestorOf(this)||(o.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1)));return this._nodes=t=e,1===t.length&&this.useSingleNodeRotation()?this.rotation(t[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach((t=>{const e=()=>{1===this.nodes().length&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),this._transforming||this.isDragging()||this.update()},n=t._attrsAffectingSize.map((t=>t+"Change."+this._getEventNamespace())).join(" ");t.on(n,e),t.on(g.map((t=>t+`.${this._getEventNamespace()}`)).join(" "),e),t.on(`absoluteTransformChange.${this._getEventNamespace()}`,e),this._proxyDrag(t)})),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(t){let e;t.on(`dragstart.${this._getEventNamespace()}`,(n=>{e=t.getAbsolutePosition(),this.isDragging()||t===this.findOne(".back")||this.startDrag(n,!1)})),t.on(`dragmove.${this._getEventNamespace()}`,(n=>{if(!e)return;const o=t.getAbsolutePosition(),r=o.x-e.x,i=o.y-e.y;this.nodes().forEach((e=>{if(e===t)return;if(e.isDragging())return;const o=e.getAbsolutePosition();e.setAbsolutePosition({x:o.x+r,y:o.y+i}),e.startDrag(n)})),e=null}))}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach((t=>{t.off("."+this._getEventNamespace())})),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(f),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(f,this.__getNodeRect)}__getNodeShape(t,e=this.rotation(),n){var o=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),r=t.getAbsoluteScale(n),i=t.getAbsolutePosition(n),s=o.x*r.x-t.offsetX()*r.x,a=o.y*r.y-t.offsetY()*r.y;const l=(c.Konva.getAngle(t.getAbsoluteRotation())+2*Math.PI)%(2*Math.PI);return v({x:i.x+s*Math.cos(l)+a*Math.sin(-l),y:i.y+a*Math.cos(l)+s*Math.sin(l),width:o.width*r.x,height:o.height*r.y,rotation:l},-c.Konva.getAngle(e),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const t=[];this.nodes().map((e=>{const n=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var o=[{x:n.x,y:n.y},{x:n.x+n.width,y:n.y},{x:n.x+n.width,y:n.y+n.height},{x:n.x,y:n.y+n.height}],r=e.getAbsoluteTransform();o.forEach((function(e){var n=r.point(e);t.push(n)}))}));const e=new o.Transform;var n,r,i,s;e.rotate(-c.Konva.getAngle(this.rotation())),t.forEach((function(t){var o=e.point(t);void 0===n&&(n=i=o.x,r=s=o.y),n=Math.min(n,o.x),r=Math.min(r,o.y),i=Math.max(i,o.x),s=Math.max(s,o.y)})),e.invert();const a=e.point({x:n,y:r});return{x:a.x,y:a.y,width:i-n,height:s-r,rotation:c.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),y.forEach(function(t){this._createAnchor(t)}.bind(this)),this._createAnchor("rotater")}_createAnchor(t){var e=new a.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:t+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:m?10:"auto"}),n=this;e.on("mousedown touchstart",(function(t){n._handleMouseDown(t)})),e.on("dragstart",(t=>{e.stopDrag(),t.cancelBubble=!0})),e.on("dragend",(t=>{t.cancelBubble=!0})),e.on("mouseenter",(()=>{var n=c.Konva.getAngle(this.rotation()),r=function(t,e){if("rotater"===t)return"crosshair";e+=o.Util.degToRad(_[t]||0);var n=(o.Util.radToDeg(e)%360+360)%360;return o.Util._inRange(n,337.5,360)||o.Util._inRange(n,0,22.5)?"ns-resize":o.Util._inRange(n,22.5,67.5)?"nesw-resize":o.Util._inRange(n,67.5,112.5)?"ew-resize":o.Util._inRange(n,112.5,157.5)?"nwse-resize":o.Util._inRange(n,157.5,202.5)?"ns-resize":o.Util._inRange(n,202.5,247.5)?"nesw-resize":o.Util._inRange(n,247.5,292.5)?"ew-resize":o.Util._inRange(n,292.5,337.5)?"nwse-resize":(o.Util.error("Transformer has unknown angle for cursor detection: "+n),"pointer")}(t,n);e.getStage().content&&(e.getStage().content.style.cursor=r),this._cursorChange=!0})),e.on("mouseout",(()=>{e.getStage().content&&(e.getStage().content.style.cursor=""),this._cursorChange=!1})),this.add(e)}_createBack(){var t=new s.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(t){var e=this.getParent(),n=e.padding();t.beginPath(),t.rect(-n,-n,this.width()+2*n,this.height()+2*n),t.moveTo(this.width()/2,-n),e.rotateEnabled()&&t.lineTo(this.width()/2,-e.rotateAnchorOffset()*o.Util._sign(this.height())-n),t.fillStrokeShape(this)},hitFunc:(t,e)=>{if(this.shouldOverdrawWholeArea()){var n=this.padding();t.beginPath(),t.rect(-n,-n,e.width()+2*n,e.height()+2*n),t.fillStrokeShape(e)}}});this.add(t),this._proxyDrag(t),t.on("dragstart",(t=>{t.cancelBubble=!0})),t.on("dragmove",(t=>{t.cancelBubble=!0})),t.on("dragend",(t=>{t.cancelBubble=!0})),this.on("dragmove",(t=>{this.update()}))}_handleMouseDown(t){this._movingAnchorName=t.target.name().split(" ")[0];var e=this._getNodeRect(),n=e.width,o=e.height,r=Math.sqrt(Math.pow(n,2)+Math.pow(o,2));this.sin=Math.abs(o/r),this.cos=Math.abs(n/r),"undefined"!=typeof window&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var i=t.target.getAbsolutePosition(),s=t.target.getStage().getPointerPosition();this._anchorDragOffset={x:s.x-i.x,y:s.y-i.y},this._fire("transformstart",{evt:t.evt,target:this.getNode()}),this._nodes.forEach((e=>{e._fire("transformstart",{evt:t.evt,target:e})}))}_handleMouseMove(t){var e,n,o,r=this.findOne("."+this._movingAnchorName),i=r.getStage();i.setPointersPositions(t);const s=i.getPointerPosition();let a={x:s.x-this._anchorDragOffset.x,y:s.y-this._anchorDragOffset.y};const l=r.getAbsolutePosition();this.anchorDragBoundFunc()&&(a=this.anchorDragBoundFunc()(l,a,t)),r.setAbsolutePosition(a);const u=r.getAbsolutePosition();if(l.x!==u.x||l.y!==u.y)if("rotater"!==this._movingAnchorName){var d,p=this.shiftBehavior();d="inverted"===p?this.keepRatio()&&!t.shiftKey:"none"===p?this.keepRatio():this.keepRatio()||t.shiftKey;var h=this.centeredScaling()||t.altKey;if("top-left"===this._movingAnchorName){if(d){var f=h?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};o=Math.sqrt(Math.pow(f.x-r.x(),2)+Math.pow(f.y-r.y(),2));var g=this.findOne(".top-left").x()>f.x?-1:1,_=this.findOne(".top-left").y()>f.y?-1:1;e=o*this.cos*g,n=o*this.sin*_,this.findOne(".top-left").x(f.x-e),this.findOne(".top-left").y(f.y-n)}}else if("top-center"===this._movingAnchorName)this.findOne(".top-left").y(r.y());else if("top-right"===this._movingAnchorName){if(d){f=h?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};o=Math.sqrt(Math.pow(r.x()-f.x,2)+Math.pow(f.y-r.y(),2));g=this.findOne(".top-right").x()<f.x?-1:1,_=this.findOne(".top-right").y()>f.y?-1:1;e=o*this.cos*g,n=o*this.sin*_,this.findOne(".top-right").x(f.x+e),this.findOne(".top-right").y(f.y-n)}var m=r.position();this.findOne(".top-left").y(m.y),this.findOne(".bottom-right").x(m.x)}else if("middle-left"===this._movingAnchorName)this.findOne(".top-left").x(r.x());else if("middle-right"===this._movingAnchorName)this.findOne(".bottom-right").x(r.x());else if("bottom-left"===this._movingAnchorName){if(d){f=h?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};o=Math.sqrt(Math.pow(f.x-r.x(),2)+Math.pow(r.y()-f.y,2));g=f.x<r.x()?-1:1,_=r.y()<f.y?-1:1;e=o*this.cos*g,n=o*this.sin*_,r.x(f.x-e),r.y(f.y+n)}m=r.position(),this.findOne(".top-left").x(m.x),this.findOne(".bottom-right").y(m.y)}else if("bottom-center"===this._movingAnchorName)this.findOne(".bottom-right").y(r.y());else if("bottom-right"===this._movingAnchorName){if(d){f=h?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};o=Math.sqrt(Math.pow(r.x()-f.x,2)+Math.pow(r.y()-f.y,2));g=this.findOne(".bottom-right").x()<f.x?-1:1,_=this.findOne(".bottom-right").y()<f.y?-1:1;e=o*this.cos*g,n=o*this.sin*_,this.findOne(".bottom-right").x(f.x+e),this.findOne(".bottom-right").y(f.y+n)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(h=this.centeredScaling()||t.altKey){var y=this.findOne(".top-left"),v=this.findOne(".bottom-right"),E=y.x(),b=y.y(),S=this.getWidth()-v.x(),w=this.getHeight()-v.y();v.move({x:-E,y:-b}),y.move({x:S,y:w})}var O=this.findOne(".top-left").getAbsolutePosition();e=O.x,n=O.y;var P=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),T=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:e,y:n,width:P,height:T,rotation:c.Konva.getAngle(this.rotation())},t)}else{var R=this._getNodeRect();e=r.x()-R.width/2,n=-r.y()+R.height/2;let o=Math.atan2(-n,e)+Math.PI/2;R.height<0&&(o-=Math.PI);const i=c.Konva.getAngle(this.rotation())+o,s=c.Konva.getAngle(this.rotationSnapTolerance()),a=C(R,function(t,e,n){let o=e;for(let r=0;r<t.length;r++){const i=c.Konva.getAngle(t[r]),s=Math.abs(i-e)%(2*Math.PI);Math.min(s,2*Math.PI-s)<n&&(o=i)}return o}(this.rotationSnaps(),i,s)-R.rotation);this._fitNodesInto(a,t)}}_handleMouseUp(t){this._removeEvents(t)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(t){if(this._transforming){this._transforming=!1,"undefined"!=typeof window&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var e=this.getNode();this._fire("transformend",{evt:t,target:e}),e&&this._nodes.forEach((e=>{e._fire("transformend",{evt:t,target:e})})),this._movingAnchorName=null}}_fitNodesInto(t,e){var n=this._getNodeRect();if(o.Util._inRange(t.width,2*-this.padding()-1,1))return void this.update();if(o.Util._inRange(t.height,2*-this.padding()-1,1))return void this.update();const r=this.flipEnabled();var i=new o.Transform;if(i.rotate(c.Konva.getAngle(this.rotation())),this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("left")>=0){const e=i.point({x:2*-this.padding(),y:0});if(t.x+=e.x,t.y+=e.y,t.width+=2*this.padding(),this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=e.x,this._anchorDragOffset.y-=e.y,!r)return void this.update()}else if(this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("right")>=0){const e=i.point({x:2*this.padding(),y:0});if(this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=e.x,this._anchorDragOffset.y-=e.y,t.width+=2*this.padding(),!r)return void this.update()}if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("top")>=0){const e=i.point({x:0,y:2*-this.padding()});if(t.x+=e.x,t.y+=e.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=e.x,this._anchorDragOffset.y-=e.y,t.height+=2*this.padding(),!r)return void this.update()}else if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const e=i.point({x:0,y:2*this.padding()});if(this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=e.x,this._anchorDragOffset.y-=e.y,t.height+=2*this.padding(),!r)return void this.update()}if(this.boundBoxFunc()){const e=this.boundBoxFunc()(n,t);e?t=e:o.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const s=1e7,a=new o.Transform;a.translate(n.x,n.y),a.rotate(n.rotation),a.scale(n.width/s,n.height/s);const l=new o.Transform;l.translate(t.x,t.y),l.rotate(t.rotation),l.scale(t.width/s,t.height/s);const u=l.multiply(a.invert());this._nodes.forEach((t=>{var n;const r=t.getParent().getAbsoluteTransform(),i=t.getTransform().copy();i.translate(t.offsetX(),t.offsetY());const s=new o.Transform;s.multiply(r.copy().invert()).multiply(u).multiply(r).multiply(i);const a=s.decompose();t.setAttrs(a),this._fire("transform",{evt:e,target:t}),t._fire("transform",{evt:e,target:t}),null===(n=t.getLayer())||void 0===n||n.batchDraw()})),this.rotation(o.Util._getRotation(t.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(t,e){this.findOne(t).setAttrs(e)}update(){var t,e=this._getNodeRect();this.rotation(o.Util._getRotation(e.rotation));var n=e.width,r=e.height,i=this.enabledAnchors(),s=this.resizeEnabled(),a=this.padding(),l=this.anchorSize();this.find("._anchor").forEach((t=>{t.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})})),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+a,offsetY:l/2+a,visible:s&&i.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:n/2,y:0,offsetY:l/2+a,visible:s&&i.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:n,y:0,offsetX:l/2-a,offsetY:l/2+a,visible:s&&i.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:r/2,offsetX:l/2+a,visible:s&&i.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:n,y:r/2,offsetX:l/2-a,visible:s&&i.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:r,offsetX:l/2+a,offsetY:l/2-a,visible:s&&i.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:n/2,y:r,offsetY:l/2-a,visible:s&&i.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:n,y:r,offsetX:l/2-a,offsetY:l/2-a,visible:s&&i.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:n/2,y:-this.rotateAnchorOffset()*o.Util._sign(r)-a,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:n,height:r,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0}),null===(t=this.getLayer())||void 0===t||t.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var t=this.findOne("."+this._movingAnchorName);t&&t.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),l.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return i.Node.prototype.toObject.call(this)}clone(t){return i.Node.prototype.clone.call(this,t)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}e.Transformer=E,E.prototype.className="Transformer",(0,d._registerNode)(E),r.Factory.addGetterSetter(E,"enabledAnchors",y,(function(t){return t instanceof Array||o.Util.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach((function(t){-1===y.indexOf(t)&&o.Util.warn("Unknown anchor name: "+t+". Available names are: "+y.join(", "))})),t||[]})),r.Factory.addGetterSetter(E,"flipEnabled",!0,(0,u.getBooleanValidator)()),r.Factory.addGetterSetter(E,"resizeEnabled",!0),r.Factory.addGetterSetter(E,"anchorSize",10,(0,u.getNumberValidator)()),r.Factory.addGetterSetter(E,"rotateEnabled",!0),r.Factory.addGetterSetter(E,"rotationSnaps",[]),r.Factory.addGetterSetter(E,"rotateAnchorOffset",50,(0,u.getNumberValidator)()),r.Factory.addGetterSetter(E,"rotationSnapTolerance",5,(0,u.getNumberValidator)()),r.Factory.addGetterSetter(E,"borderEnabled",!0),r.Factory.addGetterSetter(E,"anchorStroke","rgb(0, 161, 255)"),r.Factory.addGetterSetter(E,"anchorStrokeWidth",1,(0,u.getNumberValidator)()),r.Factory.addGetterSetter(E,"anchorFill","white"),r.Factory.addGetterSetter(E,"anchorCornerRadius",0,(0,u.getNumberValidator)()),r.Factory.addGetterSetter(E,"borderStroke","rgb(0, 161, 255)"),r.Factory.addGetterSetter(E,"borderStrokeWidth",1,(0,u.getNumberValidator)()),r.Factory.addGetterSetter(E,"borderDash"),r.Factory.addGetterSetter(E,"keepRatio",!0),r.Factory.addGetterSetter(E,"shiftBehavior","default"),r.Factory.addGetterSetter(E,"centeredScaling",!1),r.Factory.addGetterSetter(E,"ignoreStroke",!1),r.Factory.addGetterSetter(E,"padding",0,(0,u.getNumberValidator)()),r.Factory.addGetterSetter(E,"node"),r.Factory.addGetterSetter(E,"nodes"),r.Factory.addGetterSetter(E,"boundBoxFunc"),r.Factory.addGetterSetter(E,"anchorDragBoundFunc"),r.Factory.addGetterSetter(E,"shouldOverdrawWholeArea",!1),r.Factory.addGetterSetter(E,"useSingleNodeRotation",!0),r.Factory.backCompat(E,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"})},9846:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Wedge=void 0;const o=n(1455),r=n(7955),i=n(4417),s=n(3774),a=n(4417);class l extends r.Shape{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.radius(),0,i.Konva.getAngle(this.angle()),this.clockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(t){this.radius(t/2)}setHeight(t){this.radius(t/2)}}e.Wedge=l,l.prototype.className="Wedge",l.prototype._centroid=!0,l.prototype._attrsAffectingSize=["radius"],(0,a._registerNode)(l),o.Factory.addGetterSetter(l,"radius",0,(0,s.getNumberValidator)()),o.Factory.addGetterSetter(l,"angle",0,(0,s.getNumberValidator)()),o.Factory.addGetterSetter(l,"clockwise",!1),o.Factory.backCompat(l,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"})},6633:(t,e,n)=>{"use strict";n.r(e),n.d(e,{Bounds:()=>F,Browser:()=>Ft,CRS:()=>H,Canvas:()=>Do,Circle:()=>$n,CircleMarker:()=>Wn,Class:()=>x,Control:()=>Je,DivIcon:()=>Eo,DivOverlay:()=>_o,DomEvent:()=>Ye,DomUtil:()=>xe,Draggable:()=>cn,Evented:()=>A,FeatureGroup:()=>In,GeoJSON:()=>Xn,GridLayer:()=>So,Handler:()=>rn,Icon:()=>kn,ImageOverlay:()=>co,LatLng:()=>j,LatLngBounds:()=>B,Layer:()=>Mn,LayerGroup:()=>An,LineUtil:()=>En,Map:()=>qe,Marker:()=>Un,Mixin:()=>an,Path:()=>Vn,Point:()=>I,PolyUtil:()=>wn,Polygon:()=>Zn,Polyline:()=>Kn,Popup:()=>mo,PosAnimation:()=>Ze,Projection:()=>Tn,Rectangle:()=>ko,Renderer:()=>Ro,SVG:()=>Io,SVGOverlay:()=>fo,TileLayer:()=>Oo,Tooltip:()=>vo,Transformation:()=>Y,Util:()=>D,VideoOverlay:()=>po,bind:()=>s,bounds:()=>G,canvas:()=>xo,circle:()=>zn,circleMarker:()=>Hn,control:()=>Qe,divIcon:()=>bo,extend:()=>r,featureGroup:()=>Nn,geoJSON:()=>ao,geoJson:()=>lo,gridLayer:()=>wo,icon:()=>Fn,imageOverlay:()=>uo,latLng:()=>V,latLngBounds:()=>U,layerGroup:()=>Ln,map:()=>Xe,marker:()=>jn,point:()=>k,polygon:()=>qn,polyline:()=>Yn,popup:()=>yo,rectangle:()=>Fo,setOptions:()=>g,stamp:()=>l,svg:()=>No,svgOverlay:()=>go,tileLayer:()=>Po,tooltip:()=>Co,transformation:()=>Z,version:()=>o,videoOverlay:()=>ho});var o="1.9.3";function r(t){var e,n,o,r;for(n=1,o=arguments.length;n<o;n++)for(e in r=arguments[n])t[e]=r[e];return t}var i=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function s(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var o=n.call(arguments,2);return function(){return t.apply(e,o.length?o.concat(n.call(arguments)):arguments)}}var a=0;function l(t){return"_leaflet_id"in t||(t._leaflet_id=++a),t._leaflet_id}function c(t,e,n){var o,r,i,s;return s=function(){o=!1,r&&(i.apply(n,r),r=!1)},i=function(){o?r=arguments:(t.apply(n,arguments),setTimeout(s,e),o=!0)},i}function u(t,e,n){var o=e[1],r=e[0],i=o-r;return t===o&&n?t:((t-r)%i+i)%i+r}function d(){return!1}function p(t,e){if(!1===e)return t;var n=Math.pow(10,void 0===e?6:e);return Math.round(t*n)/n}function h(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function f(t){return h(t).split(/\s+/)}function g(t,e){for(var n in Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?i(t.options):{}),e)t.options[n]=e[n];return t.options}function _(t,e,n){var o=[];for(var r in t)o.push(encodeURIComponent(n?r.toUpperCase():r)+"="+encodeURIComponent(t[r]));return(e&&-1!==e.indexOf("?")?"&":"?")+o.join("&")}var m=/\{ *([\w_ -]+) *\}/g;function y(t,e){return t.replace(m,(function(t,n){var o=e[n];if(void 0===o)throw new Error("No value provided for variable "+t);return"function"==typeof o&&(o=o(e)),o}))}var v=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function C(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var E="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function b(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var S=0;function w(t){var e=+new Date,n=Math.max(0,16-(e-S));return S=e+n,window.setTimeout(t,n)}var O=window.requestAnimationFrame||b("RequestAnimationFrame")||w,P=window.cancelAnimationFrame||b("CancelAnimationFrame")||b("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function T(t,e,n){if(!n||O!==w)return O.call(window,s(t,e));t.call(e)}function R(t){t&&P.call(window,t)}var D={__proto__:null,extend:r,create:i,bind:s,get lastId(){return a},stamp:l,throttle:c,wrapNum:u,falseFn:d,formatNum:p,trim:h,splitWords:f,setOptions:g,getParamString:_,template:y,isArray:v,indexOf:C,emptyImageUrl:E,requestFn:O,cancelFn:P,requestAnimFrame:T,cancelAnimFrame:R};function x(){}x.extend=function(t){var e=function(){g(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},n=e.__super__=this.prototype,o=i(n);for(var s in o.constructor=e,e.prototype=o,this)Object.prototype.hasOwnProperty.call(this,s)&&"prototype"!==s&&"__super__"!==s&&(e[s]=this[s]);return t.statics&&r(e,t.statics),t.includes&&(!function(t){if("undefined"==typeof L||!L||!L.Mixin)return;t=v(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}(t.includes),r.apply(null,[o].concat(t.includes))),r(o,t),delete o.statics,delete o.includes,o.options&&(o.options=n.options?i(n.options):{},r(o.options,t.options)),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){n.callInitHooks&&n.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=o._initHooks.length;t<e;t++)o._initHooks[t].call(this)}},e},x.include=function(t){var e=this.prototype.options;return r(this.prototype,t),t.options&&(this.prototype.options=e,this.mergeOptions(t.options)),this},x.mergeOptions=function(t){return r(this.prototype.options,t),this},x.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var M={on:function(t,e,n){if("object"==typeof t)for(var o in t)this._on(o,t[o],e);else for(var r=0,i=(t=f(t)).length;r<i;r++)this._on(t[r],e,n);return this},off:function(t,e,n){if(arguments.length)if("object"==typeof t)for(var o in t)this._off(o,t[o],e);else{t=f(t);for(var r=1===arguments.length,i=0,s=t.length;i<s;i++)r?this._off(t[i]):this._off(t[i],e,n)}else delete this._events;return this},_on:function(t,e,n,o){if("function"==typeof e){if(!1===this._listens(t,e,n)){n===this&&(n=void 0);var r={fn:e,ctx:n};o&&(r.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(r)}}else console.warn("wrong listener type: "+typeof e)},_off:function(t,e,n){var o,r,i;if(this._events&&(o=this._events[t]))if(1!==arguments.length)if("function"==typeof e){var s=this._listens(t,e,n);if(!1!==s){var a=o[s];this._firingCount&&(a.fn=d,this._events[t]=o=o.slice()),o.splice(s,1)}}else console.warn("wrong listener type: "+typeof e);else{if(this._firingCount)for(r=0,i=o.length;r<i;r++)o[r].fn=d;delete this._events[t]}},fire:function(t,e,n){if(!this.listens(t,n))return this;var o=r({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var i=this._events[t];if(i){this._firingCount=this._firingCount+1||1;for(var s=0,a=i.length;s<a;s++){var l=i[s],c=l.fn;l.once&&this.off(t,c,l.ctx),c.call(l.ctx||this,o)}this._firingCount--}}return n&&this._propagateEvent(o),this},listens:function(t,e,n,o){"string"!=typeof t&&console.warn('"string" type argument expected');var r=e;"function"!=typeof e&&(o=!!e,r=void 0,n=void 0);var i=this._events&&this._events[t];if(i&&i.length&&!1!==this._listens(t,r,n))return!0;if(o)for(var s in this._eventParents)if(this._eventParents[s].listens(t,e,n,o))return!0;return!1},_listens:function(t,e,n){if(!this._events)return!1;var o=this._events[t]||[];if(!e)return!!o.length;n===this&&(n=void 0);for(var r=0,i=o.length;r<i;r++)if(o[r].fn===e&&o[r].ctx===n)return r;return!1},once:function(t,e,n){if("object"==typeof t)for(var o in t)this._on(o,t[o],e,!0);else for(var r=0,i=(t=f(t)).length;r<i;r++)this._on(t[r],e,n,!0);return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[l(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[l(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,r({layer:t.target,propagatedFrom:t.target},t),!0)}};M.addEventListener=M.on,M.removeEventListener=M.clearAllEventListeners=M.off,M.addOneTimeEventListener=M.once,M.fireEvent=M.fire,M.hasEventListeners=M.listens;var A=x.extend(M);function I(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var N=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function k(t,e,n){return t instanceof I?t:v(t)?new I(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new I(t.x,t.y):new I(t,e,n)}function F(t,e){if(t)for(var n=e?[t,e]:t,o=0,r=n.length;o<r;o++)this.extend(n[o])}function G(t,e){return!t||t instanceof F?t:new F(t,e)}function B(t,e){if(t)for(var n=e?[t,e]:t,o=0,r=n.length;o<r;o++)this.extend(n[o])}function U(t,e){return t instanceof B?t:new B(t,e)}function j(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function V(t,e,n){return t instanceof j?t:v(t)&&"object"!=typeof t[0]?3===t.length?new j(t[0],t[1],t[2]):2===t.length?new j(t[0],t[1]):null:null==t?t:"object"==typeof t&&"lat"in t?new j(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new j(t,e,n)}I.prototype={clone:function(){return new I(this.x,this.y)},add:function(t){return this.clone()._add(k(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(k(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new I(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new I(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=N(this.x),this.y=N(this.y),this},distanceTo:function(t){var e=(t=k(t)).x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return(t=k(t)).x===this.x&&t.y===this.y},contains:function(t){return t=k(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+p(this.x)+", "+p(this.y)+")"}},F.prototype={extend:function(t){var e,n;if(!t)return this;if(t instanceof I||"number"==typeof t[0]||"x"in t)e=n=k(t);else if(e=(t=G(t)).min,n=t.max,!e||!n)return this;return this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)):(this.min=e.clone(),this.max=n.clone()),this},getCenter:function(t){return k((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return k(this.min.x,this.max.y)},getTopRight:function(){return k(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t="number"==typeof t[0]||t instanceof I?k(t):G(t))instanceof F?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=G(t);var e=this.min,n=this.max,o=t.min,r=t.max,i=r.x>=e.x&&o.x<=n.x,s=r.y>=e.y&&o.y<=n.y;return i&&s},overlaps:function(t){t=G(t);var e=this.min,n=this.max,o=t.min,r=t.max,i=r.x>e.x&&o.x<n.x,s=r.y>e.y&&o.y<n.y;return i&&s},isValid:function(){return!(!this.min||!this.max)},pad:function(t){var e=this.min,n=this.max,o=Math.abs(e.x-n.x)*t,r=Math.abs(e.y-n.y)*t;return G(k(e.x-o,e.y-r),k(n.x+o,n.y+r))},equals:function(t){return!!t&&(t=G(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight()))}},B.prototype={extend:function(t){var e,n,o=this._southWest,r=this._northEast;if(t instanceof j)e=t,n=t;else{if(!(t instanceof B))return t?this.extend(V(t)||U(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return o||r?(o.lat=Math.min(e.lat,o.lat),o.lng=Math.min(e.lng,o.lng),r.lat=Math.max(n.lat,r.lat),r.lng=Math.max(n.lng,r.lng)):(this._southWest=new j(e.lat,e.lng),this._northEast=new j(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,o=Math.abs(e.lat-n.lat)*t,r=Math.abs(e.lng-n.lng)*t;return new B(new j(e.lat-o,e.lng-r),new j(n.lat+o,n.lng+r))},getCenter:function(){return new j((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new j(this.getNorth(),this.getWest())},getSouthEast:function(){return new j(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof j||"lat"in t?V(t):U(t);var e,n,o=this._southWest,r=this._northEast;return t instanceof B?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=o.lat&&n.lat<=r.lat&&e.lng>=o.lng&&n.lng<=r.lng},intersects:function(t){t=U(t);var e=this._southWest,n=this._northEast,o=t.getSouthWest(),r=t.getNorthEast(),i=r.lat>=e.lat&&o.lat<=n.lat,s=r.lng>=e.lng&&o.lng<=n.lng;return i&&s},overlaps:function(t){t=U(t);var e=this._southWest,n=this._northEast,o=t.getSouthWest(),r=t.getNorthEast(),i=r.lat>e.lat&&o.lat<n.lat,s=r.lng>e.lng&&o.lng<n.lng;return i&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=U(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},j.prototype={equals:function(t,e){return!!t&&(t=V(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+p(this.lat,t)+", "+p(this.lng,t)+")"},distanceTo:function(t){return $.distance(this,V(t))},wrap:function(){return $.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return U([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new j(this.lat,this.lng,this.alt)}};var W,H={latLngToPoint:function(t,e){var n=this.projection.project(t),o=this.scale(e);return this.transformation._transform(n,o)},pointToLatLng:function(t,e){var n=this.scale(e),o=this.transformation.untransform(t,n);return this.projection.unproject(o)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t);return new F(this.transformation.transform(e.min,n),this.transformation.transform(e.max,n))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?u(t.lng,this.wrapLng,!0):t.lng;return new j(this.wrapLat?u(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),o=e.lat-n.lat,r=e.lng-n.lng;if(0===o&&0===r)return t;var i=t.getSouthWest(),s=t.getNorthEast();return new B(new j(i.lat-o,i.lng-r),new j(s.lat-o,s.lng-r))}},$=r({},H,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,o=t.lat*n,r=e.lat*n,i=Math.sin((e.lat-t.lat)*n/2),s=Math.sin((e.lng-t.lng)*n/2),a=i*i+Math.cos(o)*Math.cos(r)*s*s,l=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*l}}),z=6378137,K={R:z,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,o=Math.max(Math.min(n,t.lat),-n),r=Math.sin(o*e);return new I(this.R*t.lng*e,this.R*Math.log((1+r)/(1-r))/2)},unproject:function(t){var e=180/Math.PI;return new j((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:(W=z*Math.PI,new F([-W,-W],[W,W]))};function Y(t,e,n,o){if(v(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=o}function Z(t,e,n,o){return new Y(t,e,n,o)}Y.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new I((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var q=r({},$,{code:"EPSG:3857",projection:K,transformation:function(){var t=.5/(Math.PI*K.R);return Z(t,.5,-t,.5)}()}),X=r({},q,{code:"EPSG:900913"});function J(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Q(t,e){var n,o,r,i,s,a,l="";for(n=0,r=t.length;n<r;n++){for(o=0,i=(s=t[n]).length;o<i;o++)l+=(o?"L":"M")+(a=s[o]).x+" "+a.y;l+=e?Ft.svg?"z":"x":""}return l||"M0 0"}var tt,et=document.documentElement.style,nt="ActiveXObject"in window,ot=nt&&!document.addEventListener,rt="msLaunchUri"in navigator&&!("documentMode"in document),it=kt("webkit"),st=kt("android"),at=kt("android 2")||kt("android 3"),lt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ct=st&&kt("Google")&&lt<537&&!("AudioNode"in window),ut=!!window.opera,dt=!rt&&kt("chrome"),pt=kt("gecko")&&!it&&!ut&&!nt,ht=!dt&&kt("safari"),ft=kt("phantom"),gt="OTransition"in et,_t=0===navigator.platform.indexOf("Win"),mt=nt&&"transition"in et,yt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!at,vt="MozPerspective"in et,Ct=!window.L_DISABLE_3D&&(mt||yt||vt)&&!gt&&!ft,Et="undefined"!=typeof orientation||kt("mobile"),bt=Et&&it,St=Et&&yt,wt=!window.PointerEvent&&window.MSPointerEvent,Ot=!(!window.PointerEvent&&!wt),Pt="ontouchstart"in window||!!window.TouchEvent,Tt=!window.L_NO_TOUCH&&(Pt||Ot),Rt=Et&&ut,Dt=Et&&pt,xt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Mt=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",d,e),window.removeEventListener("testPassiveEventSupport",d,e)}catch(t){}return t}(),At=!!document.createElement("canvas").getContext,Lt=!(!document.createElementNS||!J("svg").createSVGRect),It=!!Lt&&((tt=document.createElement("div")).innerHTML="<svg/>","http://www.w3.org/2000/svg"===(tt.firstChild&&tt.firstChild.namespaceURI)),Nt=!Lt&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}();function kt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Ft={ie:nt,ielt9:ot,edge:rt,webkit:it,android:st,android23:at,androidStock:ct,opera:ut,chrome:dt,gecko:pt,safari:ht,phantom:ft,opera12:gt,win:_t,ie3d:mt,webkit3d:yt,gecko3d:vt,any3d:Ct,mobile:Et,mobileWebkit:bt,mobileWebkit3d:St,msPointer:wt,pointer:Ot,touch:Tt,touchNative:Pt,mobileOpera:Rt,mobileGecko:Dt,retina:xt,passiveEvents:Mt,canvas:At,svg:Lt,vml:Nt,inlineSvg:It,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},Gt=Ft.msPointer?"MSPointerDown":"pointerdown",Bt=Ft.msPointer?"MSPointerMove":"pointermove",Ut=Ft.msPointer?"MSPointerUp":"pointerup",jt=Ft.msPointer?"MSPointerCancel":"pointercancel",Vt={touchstart:Gt,touchmove:Bt,touchend:Ut,touchcancel:jt},Wt={touchstart:function(t,e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&je(e);qt(t,e)},touchmove:qt,touchend:qt,touchcancel:qt},Ht={},$t=!1;function zt(t,e,n){return"touchstart"===e&&($t||(document.addEventListener(Gt,Kt,!0),document.addEventListener(Bt,Yt,!0),document.addEventListener(Ut,Zt,!0),document.addEventListener(jt,Zt,!0),$t=!0)),Wt[e]?(n=Wt[e].bind(this,n),t.addEventListener(Vt[e],n,!1),n):(console.warn("wrong event specified:",e),d)}function Kt(t){Ht[t.pointerId]=t}function Yt(t){Ht[t.pointerId]&&(Ht[t.pointerId]=t)}function Zt(t){delete Ht[t.pointerId]}function qt(t,e){if(e.pointerType!==(e.MSPOINTER_TYPE_MOUSE||"mouse")){for(var n in e.touches=[],Ht)e.touches.push(Ht[n]);e.changedTouches=[e],t(e)}}var Xt=200;var Jt,Qt,te,ee,ne,oe=ve(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),re=ve(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ie="webkitTransition"===re||"OTransition"===re?re+"End":"transitionend";function se(t){return"string"==typeof t?document.getElementById(t):t}function ae(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var o=document.defaultView.getComputedStyle(t,null);n=o?o[e]:null}return"auto"===n?null:n}function le(t,e,n){var o=document.createElement(t);return o.className=e||"",n&&n.appendChild(o),o}function ce(t){var e=t.parentNode;e&&e.removeChild(t)}function ue(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function de(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function pe(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function he(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=me(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function fe(t,e){if(void 0!==t.classList)for(var n=f(e),o=0,r=n.length;o<r;o++)t.classList.add(n[o]);else if(!he(t,e)){var i=me(t);_e(t,(i?i+" ":"")+e)}}function ge(t,e){void 0!==t.classList?t.classList.remove(e):_e(t,h((" "+me(t)+" ").replace(" "+e+" "," ")))}function _e(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function me(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function ye(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&function(t,e){var n=!1,o="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(o)}catch(t){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+o+"(opacity="+e+")"}(t,e)}function ve(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function Ce(t,e,n){var o=e||new I(0,0);t.style[oe]=(Ft.ie3d?"translate("+o.x+"px,"+o.y+"px)":"translate3d("+o.x+"px,"+o.y+"px,0)")+(n?" scale("+n+")":"")}function Ee(t,e){t._leaflet_pos=e,Ft.any3d?Ce(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function be(t){return t._leaflet_pos||new I(0,0)}if("onselectstart"in document)Jt=function(){Me(window,"selectstart",je)},Qt=function(){Le(window,"selectstart",je)};else{var Se=ve(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Jt=function(){if(Se){var t=document.documentElement.style;te=t[Se],t[Se]="none"}},Qt=function(){Se&&(document.documentElement.style[Se]=te,te=void 0)}}function we(){Me(window,"dragstart",je)}function Oe(){Le(window,"dragstart",je)}function Pe(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(Te(),ee=t,ne=t.style.outline,t.style.outline="none",Me(window,"keydown",Te))}function Te(){ee&&(ee.style.outline=ne,ee=void 0,ne=void 0,Le(window,"keydown",Te))}function Re(t){do{t=t.parentNode}while(!(t.offsetWidth&&t.offsetHeight||t===document.body));return t}function De(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var xe={__proto__:null,TRANSFORM:oe,TRANSITION:re,TRANSITION_END:ie,get:se,getStyle:ae,create:le,remove:ce,empty:ue,toFront:de,toBack:pe,hasClass:he,addClass:fe,removeClass:ge,setClass:_e,getClass:me,setOpacity:ye,testProp:ve,setTransform:Ce,setPosition:Ee,getPosition:be,get disableTextSelection(){return Jt},get enableTextSelection(){return Qt},disableImageDrag:we,enableImageDrag:Oe,preventOutline:Pe,restoreOutline:Te,getSizedParentNode:Re,getScale:De};function Me(t,e,n,o){if(e&&"object"==typeof e)for(var r in e)ke(t,r,e[r],n);else for(var i=0,s=(e=f(e)).length;i<s;i++)ke(t,e[i],n,o);return this}var Ae="_leaflet_events";function Le(t,e,n,o){if(1===arguments.length)Ie(t),delete t[Ae];else if(e&&"object"==typeof e)for(var r in e)Fe(t,r,e[r],n);else if(e=f(e),2===arguments.length)Ie(t,(function(t){return-1!==C(e,t)}));else for(var i=0,s=e.length;i<s;i++)Fe(t,e[i],n,o);return this}function Ie(t,e){for(var n in t[Ae]){var o=n.split(/\d/)[0];e&&!e(o)||Fe(t,o,null,null,n)}}var Ne={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ke(t,e,n,o){var r=e+l(n)+(o?"_"+l(o):"");if(t[Ae]&&t[Ae][r])return this;var i=function(e){return n.call(o||t,e||window.event)},s=i;!Ft.touchNative&&Ft.pointer&&0===e.indexOf("touch")?i=zt(t,e,i):Ft.touch&&"dblclick"===e?i=function(t,e){t.addEventListener("dblclick",e);var n,o=0;function r(t){if(1===t.detail){if("mouse"!==t.pointerType&&(!t.sourceCapabilities||t.sourceCapabilities.firesTouchEvents)){var r=We(t);if(!r.some((function(t){return t instanceof HTMLLabelElement&&t.attributes.for}))||r.some((function(t){return t instanceof HTMLInputElement||t instanceof HTMLSelectElement}))){var i=Date.now();i-o<=Xt?2==++n&&e(function(t){var e,n,o={};for(n in t)e=t[n],o[n]=e&&e.bind?e.bind(t):e;return t=o,o.type="dblclick",o.detail=2,o.isTrusted=!1,o._simulated=!0,o}(t)):n=1,o=i}}}else n=t.detail}return t.addEventListener("click",r),{dblclick:e,simDblclick:r}}(t,i):"addEventListener"in t?"touchstart"===e||"touchmove"===e||"wheel"===e||"mousewheel"===e?t.addEventListener(Ne[e]||e,i,!!Ft.passiveEvents&&{passive:!1}):"mouseenter"===e||"mouseleave"===e?(i=function(e){e=e||window.event,Ke(t,e)&&s(e)},t.addEventListener(Ne[e],i,!1)):t.addEventListener(e,s,!1):t.attachEvent("on"+e,i),t[Ae]=t[Ae]||{},t[Ae][r]=i}function Fe(t,e,n,o,r){r=r||e+l(n)+(o?"_"+l(o):"");var i=t[Ae]&&t[Ae][r];if(!i)return this;!Ft.touchNative&&Ft.pointer&&0===e.indexOf("touch")?function(t,e,n){Vt[e]?t.removeEventListener(Vt[e],n,!1):console.warn("wrong event specified:",e)}(t,e,i):Ft.touch&&"dblclick"===e?function(t,e){t.removeEventListener("dblclick",e.dblclick),t.removeEventListener("click",e.simDblclick)}(t,i):"removeEventListener"in t?t.removeEventListener(Ne[e]||e,i,!1):t.detachEvent("on"+e,i),t[Ae][r]=null}function Ge(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Be(t){return ke(t,"wheel",Ge),this}function Ue(t){return Me(t,"mousedown touchstart dblclick contextmenu",Ge),t._leaflet_disable_click=!0,this}function je(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Ve(t){return je(t),Ge(t),this}function We(t){if(t.composedPath)return t.composedPath();for(var e=[],n=t.target;n;)e.push(n),n=n.parentNode;return e}function He(t,e){if(!e)return new I(t.clientX,t.clientY);var n=De(e),o=n.boundingClientRect;return new I((t.clientX-o.left)/n.x-e.clientLeft,(t.clientY-o.top)/n.y-e.clientTop)}var $e=Ft.linux&&Ft.chrome?window.devicePixelRatio:Ft.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ze(t){return Ft.edge?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/$e:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function Ke(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(t){return!1}return n!==t}var Ye={__proto__:null,on:Me,off:Le,stopPropagation:Ge,disableScrollPropagation:Be,disableClickPropagation:Ue,preventDefault:je,stop:Ve,getPropagationPath:We,getMousePosition:He,getWheelDelta:ze,isExternalTarget:Ke,addListener:Me,removeListener:Le},Ze=A.extend({run:function(t,e,n,o){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(o||.5,.2),this._startPos=be(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=T(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),Ee(this._el,n),this.fire("step")},_complete:function(){R(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),qe=A.extend({options:{crs:q,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=g(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=s(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(V(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=re&&Ft.any3d&&!Ft.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Me(this._proxy,ie,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,n){if((e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(V(t),e,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&!0!==n)&&(void 0!==n.animate&&(n.zoom=r({animate:n.animate},n.zoom),n.pan=r({animate:n.animate,duration:n.duration},n.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan)))return clearTimeout(this._sizeTimer),this;return this._resetView(t,e,n.pan&&n.pan.noMoveStart),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(Ft.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(Ft.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var o=this.getZoomScale(e),r=this.getSize().divideBy(2),i=(t instanceof I?t:this.latLngToContainerPoint(t)).subtract(r).multiplyBy(1-1/o),s=this.containerPointToLatLng(r.add(i));return this.setView(s,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():U(t);var n=k(e.paddingTopLeft||e.padding||[0,0]),o=k(e.paddingBottomRight||e.padding||[0,0]),r=this.getBoundsZoom(t,!1,n.add(o));if((r="number"==typeof e.maxZoom?Math.min(e.maxZoom,r):r)===1/0)return{center:t.getCenter(),zoom:r};var i=o.subtract(n).divideBy(2),s=this.project(t.getSouthWest(),r),a=this.project(t.getNorthEast(),r);return{center:this.unproject(s.add(a).divideBy(2).add(i),r),zoom:r}},fitBounds:function(t,e){if(!(t=U(t)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=k(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ze,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){fe(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){if(!1===(n=n||{}).animate||!Ft.any3d)return this.setView(t,e,n);this._stop();var o=this.project(this.getCenter()),r=this.project(t),i=this.getSize(),s=this._zoom;t=V(t),e=void 0===e?s:e;var a=Math.max(i.x,i.y),l=a*this.getZoomScale(s,e),c=r.distanceTo(o)||1,u=1.42,d=u*u;function p(t){var e=(l*l-a*a+(t?-1:1)*d*d*c*c)/(2*(t?l:a)*d*c),n=Math.sqrt(e*e+1)-e;return n<1e-9?-18:Math.log(n)}function h(t){return(Math.exp(t)-Math.exp(-t))/2}function f(t){return(Math.exp(t)+Math.exp(-t))/2}var g=p(0);function _(t){return a*(f(g)*(h(e=g+u*t)/f(e))-h(g))/d;var e}var m=Date.now(),y=(p(1)-g)/u,v=n.duration?1e3*n.duration:1e3*y*.8;return this._moveStart(!0,n.noMoveStart),function n(){var i=(Date.now()-m)/v,l=function(t){return 1-Math.pow(1-t,1.5)}(i)*y;i<=1?(this._flyToFrame=T(n,this),this._move(this.unproject(o.add(r.subtract(o).multiplyBy(_(l)/c)),s),this.getScaleZoom(a/function(t){return a*(f(g)/f(g+u*t))}(l),s),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return t=U(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),o=this._limitCenter(n,this._zoom,U(t));return n.equals(o)||this.panTo(o,e),this._enforcingBounds=!1,this},panInside:function(t,e){var n=k((e=e||{}).paddingTopLeft||e.padding||[0,0]),o=k(e.paddingBottomRight||e.padding||[0,0]),r=this.project(this.getCenter()),i=this.project(t),s=this.getPixelBounds(),a=G([s.min.add(n),s.max.subtract(o)]),l=a.getSize();if(!a.contains(i)){this._enforcingBounds=!0;var c=i.subtract(a.getCenter()),u=a.extend(i).getSize().subtract(l);r.x+=c.x<0?-u.x:u.x,r.y+=c.y<0?-u.y:u.y,this.panTo(this.unproject(r),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=r({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var n=this.getSize(),o=e.divideBy(2).round(),i=n.divideBy(2).round(),a=o.subtract(i);return a.x||a.y?(t.animate&&t.pan?this.panBy(a):(t.pan&&this._rawPanBy(a),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:n})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=r({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=s(this._handleGeolocationResponse,this),n=s(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,n,t):navigator.geolocation.getCurrentPosition(e,n,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var e=new j(t.coords.latitude,t.coords.longitude),n=e.toBounds(2*t.coords.accuracy),o=this._locateOptions;if(o.setView){var r=this.getBoundsZoom(n);this.setView(e,o.maxZoom?Math.min(r,o.maxZoom):r)}var i={latlng:e,bounds:n,timestamp:t.timestamp};for(var s in t.coords)"number"==typeof t.coords[s]&&(i[s]=t.coords[s]);this.fire("locationfound",i)}},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),ce(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(R(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)ce(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n=le("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new B(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=U(t),n=k(n||[0,0]);var o=this.getZoom()||0,r=this.getMinZoom(),i=this.getMaxZoom(),s=t.getNorthWest(),a=t.getSouthEast(),l=this.getSize().subtract(n),c=G(this.project(a,o),this.project(s,o)).getSize(),u=Ft.any3d?this.options.zoomSnap:1,d=l.x/c.x,p=l.y/c.y,h=e?Math.max(d,p):Math.min(d,p);return o=this.getScaleZoom(h,o),u&&(o=Math.round(o/(u/100))*(u/100),o=e?Math.ceil(o/u)*u:Math.floor(o/u)*u),Math.max(r,Math.min(i,o))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new I(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new F(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var o=n.zoom(t*n.scale(e));return isNaN(o)?1/0:o},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(V(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(k(t),e)},layerPointToLatLng:function(t){var e=k(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(V(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(V(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(U(t))},distance:function(t,e){return this.options.crs.distance(V(t),V(e))},containerPointToLayerPoint:function(t){return k(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return k(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(k(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(V(t)))},mouseEventToContainerPoint:function(t){return He(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=se(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Me(e,"scroll",this._onScroll,this),this._containerId=l(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ft.any3d,fe(t,"leaflet-container"+(Ft.touch?" leaflet-touch":"")+(Ft.retina?" leaflet-retina":"")+(Ft.ielt9?" leaflet-oldie":"")+(Ft.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=ae(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&"sticky"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ee(this._mapPane,new I(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(fe(t.markerPane,"leaflet-zoom-hide"),fe(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e,n){Ee(this._mapPane,new I(0,0));var o=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var r=this._zoom!==e;this._moveStart(r,n)._move(t,e)._moveEnd(r),this.fire("viewreset"),o&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n,o){void 0===e&&(e=this._zoom);var r=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),o?n&&n.pinch&&this.fire("zoom",n):((r||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return R(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Ee(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[l(this._container)]=this;var e=t?Le:Me;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),Ft.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){R(this._resizeRequest),this._resizeRequest=T((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,o=[],r="mouseout"===e||"mouseover"===e,i=t.target||t.srcElement,s=!1;i;){if((n=this._targets[l(i)])&&("click"===e||"preclick"===e)&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(e,!0)){if(r&&!Ke(i,t))break;if(o.push(n),r)break}if(i===this._container)break;i=i.parentNode}return o.length||s||r||!this.listens(e,!0)||(o=[this]),o},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var e=t.target||t.srcElement;if(!(!this._loaded||e._leaflet_disable_events||"click"===t.type&&this._isClickDisabled(e))){var n=t.type;"mousedown"===n&&Pe(e),this._fireDOMEvent(t,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,n){if("click"===t.type){var o=r({},t);o.type="preclick",this._fireDOMEvent(o,o.type,n)}var i=this._findEventTargets(t,e);if(n){for(var s=[],a=0;a<n.length;a++)n[a].listens(e,!0)&&s.push(n[a]);i=s.concat(i)}if(i.length){"contextmenu"===e&&je(t);var l=i[0],c={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var u=l.getLatLng&&(!l._radius||l._radius<=10);c.containerPoint=u?this.latLngToContainerPoint(l.getLatLng()):this.mouseEventToContainerPoint(t),c.layerPoint=this.containerPointToLayerPoint(c.containerPoint),c.latlng=u?l.getLatLng():this.layerPointToLatLng(c.layerPoint)}for(a=0;a<i.length;a++)if(i[a].fire(e,c,!0),c.originalEvent._stopped||!1===i[a].options.bubblingMouseEvents&&-1!==C(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return be(this._mapPane)||new I(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var o=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(o)},_latLngBoundsToNewLayerBounds:function(t,e,n){var o=this._getNewPixelOrigin(n,e);return G([this.project(t.getSouthWest(),e)._subtract(o),this.project(t.getNorthWest(),e)._subtract(o),this.project(t.getSouthEast(),e)._subtract(o),this.project(t.getNorthEast(),e)._subtract(o)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var o=this.project(t,e),r=this.getSize().divideBy(2),i=new F(o.subtract(r),o.add(r)),s=this._getBoundsOffset(i,n,e);return Math.abs(s.x)<=1&&Math.abs(s.y)<=1?t:this.unproject(o.add(s),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),o=new F(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(o,e))},_getBoundsOffset:function(t,e,n){var o=G(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),r=o.min.subtract(t.min),i=o.max.subtract(t.max);return new I(this._rebound(r.x,-i.x),this._rebound(r.y,-i.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),o=Ft.any3d?this.options.zoomSnap:1;return o&&(t=Math.round(t/o)*o),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ge(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n))&&(this.panBy(n,e),!0)},_createAnimProxy:function(){var t=this._proxy=le("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",(function(t){var e=oe,n=this._proxy.style[e];Ce(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ce(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();Ce(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var o=this.getZoomScale(e),r=this._getCenterOffset(t)._divideBy(1-1/o);return!(!0!==n.animate&&!this.getSize().contains(r))&&(T((function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)}),this),!0)},_animateZoom:function(t,e,n,o){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,fe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:o}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(s(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ge(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Xe(t,e){return new qe(t,e)}var Je=x.extend({options:{position:"topright"},initialize:function(t){g(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),o=t._controlCorners[n];return fe(e,"leaflet-control"),-1!==n.indexOf("bottom")?o.insertBefore(e,o.firstChild):o.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ce(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Qe=function(t){return new Je(t)};qe.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=le("div",e+"control-container",this._container);function o(o,r){var i=e+o+" "+e+r;t[o+r]=le("div",i,n)}o("top","left"),o("top","right"),o("bottom","left"),o("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)ce(this._controlCorners[t]);ce(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var tn=Je.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,o){return n<o?-1:o<n?1:0}},initialize:function(t,e,n){for(var o in g(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[o],o);for(o in e)this._addLayer(e[o],o,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Je.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(l(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){fe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(fe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):ge(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ge(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=le("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Ue(e),Be(e);var o=this._section=le("section",t+"-list");n&&(this._map.on("click",this.collapse,this),Me(e,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var r=this._layersLink=le("a",t+"-toggle",e);r.href="#",r.title="Layers",r.setAttribute("role","button"),Me(r,{keydown:function(t){13===t.keyCode&&this._expandSafely()},click:function(t){je(t),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=le("div",t+"-base",o),this._separator=le("div",t+"-separator",o),this._overlaysList=le("div",t+"-overlays",o),e.appendChild(o)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&l(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(s((function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)}),this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ue(this._baseLayersList),ue(this._overlaysList),this._layerControlInputs=[];var t,e,n,o,r=0;for(n=0;n<this._layers.length;n++)o=this._layers[n],this._addItem(o),e=e||o.overlay,t=t||!o.overlay,r+=o.overlay?0:1;return this.options.hideSingleBase&&(t=t&&r>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(l(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",o=document.createElement("div");return o.innerHTML=n,o.firstChild},_addItem:function(t){var e,n=document.createElement("label"),o=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=o):e=this._createRadioElement("leaflet-base-layers_"+l(this),o),this._layerControlInputs.push(e),e.layerId=l(t.layer),Me(e,"click",this._onInputClick,this);var r=document.createElement("span");r.innerHTML=" "+t.name;var i=document.createElement("span");return n.appendChild(i),i.appendChild(e),i.appendChild(r),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n=this._layerControlInputs,o=[],r=[];this._handlingClick=!0;for(var i=n.length-1;i>=0;i--)t=n[i],e=this._getLayer(t.layerId).layer,t.checked?o.push(e):t.checked||r.push(e);for(i=0;i<r.length;i++)this._map.hasLayer(r[i])&&this._map.removeLayer(r[i]);for(i=0;i<o.length;i++)this._map.hasLayer(o[i])||this._map.addLayer(o[i]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,o=this._map.getZoom(),r=n.length-1;r>=0;r--)t=n[r],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&o<e.options.minZoom||void 0!==e.options.maxZoom&&o>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;Me(t,"click",je),this.expand(),setTimeout((function(){Le(t,"click",je)}))}}),en=Je.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=le("div",e+" leaflet-bar"),o=this.options;return this._zoomInButton=this._createButton(o.zoomInText,o.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(o.zoomOutText,o.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,o,r){var i=le("a",n,o);return i.innerHTML=t,i.href="#",i.title=e,i.setAttribute("role","button"),i.setAttribute("aria-label",e),Ue(i),Me(i,"click",Ve),Me(i,"click",r,this),Me(i,"click",this._refocusOnMap,this),i},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";ge(this._zoomInButton,e),ge(this._zoomOutButton,e),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(fe(this._zoomOutButton,e),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(fe(this._zoomInButton,e),this._zoomInButton.setAttribute("aria-disabled","true"))}});qe.mergeOptions({zoomControl:!0}),qe.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new en,this.addControl(this.zoomControl))}));var nn=Je.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",n=le("div",e),o=this.options;return this._addScales(o,e+"-line",n),t.on(o.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=le("div",e,n)),t.imperial&&(this._iScale=le("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,o,r=3.2808399*t;r>5280?(e=r/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(o=this._getRoundNum(r),this._updateScale(this._iScale,o+" ft",o/r))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return e*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),on=Je.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ft.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(t){g(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=le("div","leaflet-control-attribution"),Ue(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",(function(){this.removeAttribution(t.layer.getAttribution())}),this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});qe.mergeOptions({attributionControl:!0}),qe.addInitHook((function(){this.options.attributionControl&&(new on).addTo(this)}));Je.Layers=tn,Je.Zoom=en,Je.Scale=nn,Je.Attribution=on,Qe.layers=function(t,e,n){return new tn(t,e,n)},Qe.zoom=function(t){return new en(t)},Qe.scale=function(t){return new nn(t)},Qe.attribution=function(t){return new on(t)};var rn=x.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});rn.addTo=function(t,e){return t.addHandler(e,this),this};var sn,an={Events:M},ln=Ft.touch?"touchstart mousedown":"mousedown",cn=A.extend({options:{clickTolerance:3},initialize:function(t,e,n,o){g(this,o),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(Me(this._dragStartTarget,ln,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(cn._dragging===this&&this.finishDrag(!0),Le(this._dragStartTarget,ln,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!he(this._element,"leaflet-zoom-anim")))if(t.touches&&1!==t.touches.length)cn._dragging===this&&this.finishDrag();else if(!(cn._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(cn._dragging=this,this._preventOutline&&Pe(this._element),we(),Jt(),this._moving))){this.fire("down");var e=t.touches?t.touches[0]:t,n=Re(this._element);this._startPoint=new I(e.clientX,e.clientY),this._startPos=be(this._element),this._parentScale=De(n);var o="mousedown"===t.type;Me(document,o?"mousemove":"touchmove",this._onMove,this),Me(document,o?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(t){if(this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new I(e.clientX,e.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,je(t),this._moved||(this.fire("dragstart"),this._moved=!0,fe(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),fe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=t,this._updatePosition()))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Ee(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){ge(document.body,"leaflet-dragging"),this._lastTarget&&(ge(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Le(document,"mousemove touchmove",this._onMove,this),Le(document,"mouseup touchend touchcancel",this._onUp,this),Oe(),Qt(),this._moved&&this._moving&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,cn._dragging=!1}});function un(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=function(t,e){for(var n=[t[0]],o=1,r=0,i=t.length;o<i;o++)_n(t[o],t[r])>e&&(n.push(t[o]),r=o);r<i-1&&n.push(t[i-1]);return n}(t,n),t=function(t,e){var n=t.length,o=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(n);o[0]=o[n-1]=1,pn(t,o,e,0,n-1);var r,i=[];for(r=0;r<n;r++)o[r]&&i.push(t[r]);return i}(t,n),t}function dn(t,e,n){return Math.sqrt(mn(t,e,n,!0))}function pn(t,e,n,o,r){var i,s,a,l=0;for(s=o+1;s<=r-1;s++)(a=mn(t[s],t[o],t[r],!0))>l&&(i=s,l=a);l>n&&(e[i]=1,pn(t,e,n,o,i),pn(t,e,n,i,r))}function hn(t,e,n,o,r){var i,s,a,l=o?sn:gn(t,n),c=gn(e,n);for(sn=c;;){if(!(l|c))return[t,e];if(l&c)return!1;a=gn(s=fn(t,e,i=l||c,n,r),n),i===l?(t=s,l=a):(e=s,c=a)}}function fn(t,e,n,o,r){var i,s,a=e.x-t.x,l=e.y-t.y,c=o.min,u=o.max;return 8&n?(i=t.x+a*(u.y-t.y)/l,s=u.y):4&n?(i=t.x+a*(c.y-t.y)/l,s=c.y):2&n?(i=u.x,s=t.y+l*(u.x-t.x)/a):1&n&&(i=c.x,s=t.y+l*(c.x-t.x)/a),new I(i,s,r)}function gn(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function _n(t,e){var n=e.x-t.x,o=e.y-t.y;return n*n+o*o}function mn(t,e,n,o){var r,i=e.x,s=e.y,a=n.x-i,l=n.y-s,c=a*a+l*l;return c>0&&((r=((t.x-i)*a+(t.y-s)*l)/c)>1?(i=n.x,s=n.y):r>0&&(i+=a*r,s+=l*r)),a=t.x-i,l=t.y-s,o?a*a+l*l:new I(i,s)}function yn(t){return!v(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function vn(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),yn(t)}function Cn(t,e){var n,o,r,i,s,a,l,c;if(!t||0===t.length)throw new Error("latlngs not passed");yn(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var u=[];for(var d in t)u.push(e.project(V(t[d])));var p=u.length;for(n=0,o=0;n<p-1;n++)o+=u[n].distanceTo(u[n+1])/2;if(0===o)c=u[0];else for(n=0,i=0;n<p-1;n++)if(s=u[n],a=u[n+1],(i+=r=s.distanceTo(a))>o){l=(i-o)/r,c=[a.x-l*(a.x-s.x),a.y-l*(a.y-s.y)];break}return e.unproject(k(c))}var En={__proto__:null,simplify:un,pointToSegmentDistance:dn,closestPointOnSegment:function(t,e,n){return mn(t,e,n)},clipSegment:hn,_getEdgeIntersection:fn,_getBitCode:gn,_sqClosestPointOnSegment:mn,isFlat:yn,_flat:vn,polylineCenter:Cn};function bn(t,e,n){var o,r,i,s,a,l,c,u,d,p=[1,4,2,8];for(r=0,c=t.length;r<c;r++)t[r]._code=gn(t[r],e);for(s=0;s<4;s++){for(u=p[s],o=[],r=0,i=(c=t.length)-1;r<c;i=r++)a=t[r],l=t[i],a._code&u?l._code&u||((d=fn(l,a,u,e,n))._code=gn(d,e),o.push(d)):(l._code&u&&((d=fn(l,a,u,e,n))._code=gn(d,e),o.push(d)),o.push(a));t=o}return t}function Sn(t,e){var n,o,r,i,s,a,l,c,u;if(!t||0===t.length)throw new Error("latlngs not passed");yn(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var d=[];for(var p in t)d.push(e.project(V(t[p])));var h=d.length;for(a=l=c=0,n=0,o=h-1;n<h;o=n++)r=d[n],i=d[o],s=r.y*i.x-i.y*r.x,l+=(r.x+i.x)*s,c+=(r.y+i.y)*s,a+=3*s;return u=0===a?d[0]:[l/a,c/a],e.unproject(k(u))}var wn={__proto__:null,clipPolygon:bn,polygonCenter:Sn},On={project:function(t){return new I(t.lng,t.lat)},unproject:function(t){return new j(t.y,t.x)},bounds:new F([-180,-90],[180,90])},Pn={R:6378137,R_MINOR:6356752.314245179,bounds:new F([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,o=t.lat*e,r=this.R_MINOR/n,i=Math.sqrt(1-r*r),s=i*Math.sin(o),a=Math.tan(Math.PI/4-o/2)/Math.pow((1-s)/(1+s),i/2);return o=-n*Math.log(Math.max(a,1e-10)),new I(t.lng*e*n,o)},unproject:function(t){for(var e,n=180/Math.PI,o=this.R,r=this.R_MINOR/o,i=Math.sqrt(1-r*r),s=Math.exp(-t.y/o),a=Math.PI/2-2*Math.atan(s),l=0,c=.1;l<15&&Math.abs(c)>1e-7;l++)e=i*Math.sin(a),e=Math.pow((1-e)/(1+e),i/2),a+=c=Math.PI/2-2*Math.atan(s*e)-a;return new j(a*n,t.x*n/o)}},Tn={__proto__:null,LonLat:On,Mercator:Pn,SphericalMercator:K},Rn=r({},$,{code:"EPSG:3395",projection:Pn,transformation:function(){var t=.5/(Math.PI*Pn.R);return Z(t,.5,-t,.5)}()}),Dn=r({},$,{code:"EPSG:4326",projection:On,transformation:Z(1/180,1,-1/180,.5)}),xn=r({},H,{projection:On,transformation:Z(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,o=e.lat-t.lat;return Math.sqrt(n*n+o*o)},infinite:!0});H.Earth=$,H.EPSG3395=Rn,H.EPSG3857=q,H.EPSG900913=X,H.EPSG4326=Dn,H.Simple=xn;var Mn=A.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[l(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[l(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",(function(){e.off(n,this)}),this)}this.onAdd(e),this.fire("add"),e.fire("layeradd",{layer:this})}}});qe.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=l(t);return this._layers[e]||(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=l(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return l(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){for(var e=0,n=(t=t?v(t)?t:[t]:[]).length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[l(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=l(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var o in this._zoomBoundLayers){var r=this._zoomBoundLayers[o].options;t=void 0===r.minZoom?t:Math.min(t,r.minZoom),e=void 0===r.maxZoom?e:Math.max(e,r.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var An=Mn.extend({initialize:function(t,e){var n,o;if(g(this,e),this._layers={},t)for(n=0,o=t.length;n<o;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return("number"==typeof t?t:this.getLayerId(t))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,o=Array.prototype.slice.call(arguments,1);for(e in this._layers)(n=this._layers[e])[t]&&n[t].apply(n,o);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return l(t)}}),Ln=function(t,e){return new An(t,e)},In=An.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),An.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),An.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new B;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),Nn=function(t,e){return new In(t,e)},kn=x.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){g(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var o=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(o,t),(this.options.crossOrigin||""===this.options.crossOrigin)&&(o.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),o},_setIconStyles:function(t,e){var n=this.options,o=n[e+"Size"];"number"==typeof o&&(o=[o,o]);var r=k(o),i=k("shadow"===e&&n.shadowAnchor||n.iconAnchor||r&&r.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),i&&(t.style.marginLeft=-i.x+"px",t.style.marginTop=-i.y+"px"),r&&(t.style.width=r.x+"px",t.style.height=r.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return Ft.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Fn(t){return new kn(t)}var Gn=kn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return"string"!=typeof Gn.imagePath&&(Gn.imagePath=this._detectIconPath()),(this.options.imagePath||Gn.imagePath)+kn.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var e=function(t,e,n){var o=e.exec(t);return o&&o[n]};return(t=e(t,/^url\((['"])?(.+)\1\)$/,2))&&e(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=le("div","leaflet-default-icon-path",document.body),e=ae(t,"background-image")||ae(t,"backgroundImage");if(document.body.removeChild(t),e=this._stripUrl(e))return e;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-11-1):""}}),Bn=rn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new cn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),fe(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ge(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,o=this._marker.options.autoPanSpeed,r=this._marker.options.autoPanPadding,i=be(e._icon),s=n.getPixelBounds(),a=n.getPixelOrigin(),l=G(s.min._subtract(a).add(r),s.max._subtract(a).subtract(r));if(!l.contains(i)){var c=k((Math.max(l.max.x,i.x)-l.max.x)/(s.max.x-l.max.x)-(Math.min(l.min.x,i.x)-l.min.x)/(s.min.x-l.min.x),(Math.max(l.max.y,i.y)-l.max.y)/(s.max.y-l.max.y)-(Math.min(l.min.y,i.y)-l.min.y)/(s.min.y-l.min.y)).multiplyBy(o);n.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),Ee(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=T(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(R(this._panRequest),this._panRequest=T(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,o=be(e._icon),r=e._map.layerPointToLatLng(o);n&&Ee(n,o),e._latlng=r,t.latlng=r,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){R(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Un=Mn.extend({options:{icon:new Gn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){g(this,e),this._latlng=V(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=V(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),o=!1;n!==this._icon&&(this._icon&&this._removeIcon(),o=!0,t.title&&(n.title=t.title),"IMG"===n.tagName&&(n.alt=t.alt||"")),fe(n,e),t.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Me(n,"focus",this._panOnFocus,this);var r=t.icon.createShadow(this._shadow),i=!1;r!==this._shadow&&(this._removeShadow(),i=!0),r&&(fe(r,e),r.alt=""),this._shadow=r,t.opacity<1&&this._updateOpacity(),o&&this.getPane().appendChild(this._icon),this._initInteraction(),r&&i&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Le(this._icon,"focus",this._panOnFocus,this),ce(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ce(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Ee(this._icon,t),this._shadow&&Ee(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(fe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Bn)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Bn(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&ye(this._icon,t),this._shadow&&ye(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var e=this.options.icon.options,n=e.iconSize?k(e.iconSize):k(0,0),o=e.iconAnchor?k(e.iconAnchor):k(0,0);t.panInside(this._latlng,{paddingTopLeft:o,paddingBottomRight:n.subtract(o)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function jn(t,e){return new Un(t,e)}var Vn=Mn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return g(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Wn=Vn.extend({options:{fill:!0,radius:10},initialize:function(t,e){g(this,e),this._latlng=V(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=V(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return Vn.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),o=[t+n,e+n];this._pxBounds=new F(this._point.subtract(o),this._point.add(o))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Hn(t,e){return new Wn(t,e)}var $n=Wn.extend({initialize:function(t,e,n){if("number"==typeof e&&(e=r({},n,{radius:e})),g(this,e),this._latlng=V(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new B(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Vn.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,o=n.options.crs;if(o.distance===$.distance){var r=Math.PI/180,i=this._mRadius/$.R/r,s=n.project([e+i,t]),a=n.project([e-i,t]),l=s.add(a).divideBy(2),c=n.unproject(l).lat,u=Math.acos((Math.cos(i*r)-Math.sin(e*r)*Math.sin(c*r))/(Math.cos(e*r)*Math.cos(c*r)))/r;(isNaN(u)||0===u)&&(u=i/Math.cos(Math.PI/180*e)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(u)?0:l.x-n.project([c,t-u]).x,this._radiusY=l.y-s.y}else{var d=o.unproject(o.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(d).x}this._updateBounds()}});function zn(t,e,n){return new $n(t,e,n)}var Kn=Vn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){g(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,o=1/0,r=null,i=mn,s=0,a=this._parts.length;s<a;s++)for(var l=this._parts[s],c=1,u=l.length;c<u;c++){var d=i(t,e=l[c-1],n=l[c],!0);d<o&&(o=d,r=i(t,e,n))}return r&&(r.distance=Math.sqrt(o)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Cn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=V(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new B,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return yn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=yn(t),o=0,r=t.length;o<r;o++)n?(e[o]=V(t[o]),this._bounds.extend(e[o])):e[o]=this._convertLatLngs(t[o]);return e},_project:function(){var t=new F;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new I(t,t);this._rawPxBounds&&(this._pxBounds=new F([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)]))},_projectLatlngs:function(t,e,n){var o,r,i=t[0]instanceof j,s=t.length;if(i){for(r=[],o=0;o<s;o++)r[o]=this._map.latLngToLayerPoint(t[o]),n.extend(r[o]);e.push(r)}else for(o=0;o<s;o++)this._projectLatlngs(t[o],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,n,o,r,i,s,a,l=this._parts;for(e=0,o=0,r=this._rings.length;e<r;e++)for(n=0,i=(a=this._rings[e]).length;n<i-1;n++)(s=hn(a[n],a[n+1],t,n,!0))&&(l[o]=l[o]||[],l[o].push(s[0]),s[1]===a[n+1]&&n!==i-2||(l[o].push(s[1]),o++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,o=t.length;n<o;n++)t[n]=un(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,o,r,i,s,a,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,i=this._parts.length;n<i;n++)for(o=0,r=(s=(a=this._parts[n]).length)-1;o<s;r=o++)if((e||0!==o)&&dn(t,a[r],a[o])<=l)return!0;return!1}});function Yn(t,e){return new Kn(t,e)}Kn._flat=vn;var Zn=Kn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Sn(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var e=Kn.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof j&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){Kn.prototype._setLatLngs.call(this,t),yn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return yn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new I(e,e);if(t=new F(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var o,r=0,i=this._rings.length;r<i;r++)(o=bn(this._rings[r],t,!0)).length&&this._parts.push(o)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,o,r,i,s,a,l,c=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(r=0,a=this._parts.length;r<a;r++)for(i=0,s=(l=(e=this._parts[r]).length)-1;i<l;s=i++)n=e[i],o=e[s],n.y>t.y!=o.y>t.y&&t.x<(o.x-n.x)*(t.y-n.y)/(o.y-n.y)+n.x&&(c=!c);return c||Kn.prototype._containsPoint.call(this,t,!0)}});function qn(t,e){return new Zn(t,e)}var Xn=In.extend({initialize:function(t,e){g(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,o,r=v(t)?t:t.features;if(r){for(e=0,n=r.length;e<n;e++)((o=r[e]).geometries||o.geometry||o.features||o.coordinates)&&this.addData(o);return this}var i=this.options;if(i.filter&&!i.filter(t))return this;var s=Jn(t,i);return s?(s.feature=io(t),s.defaultOptions=s.options,this.resetStyle(s),i.onEachFeature&&i.onEachFeature(t,s),this.addLayer(s)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=r({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer((function(e){this._setLayerStyle(e,t)}),this)},_setLayerStyle:function(t,e){t.setStyle&&("function"==typeof e&&(e=e(t.feature)),t.setStyle(e))}});function Jn(t,e){var n,o,r,i,s="Feature"===t.type?t.geometry:t,a=s?s.coordinates:null,l=[],c=e&&e.pointToLayer,u=e&&e.coordsToLatLng||to;if(!a&&!s)return null;switch(s.type){case"Point":return Qn(c,t,n=u(a),e);case"MultiPoint":for(r=0,i=a.length;r<i;r++)n=u(a[r]),l.push(Qn(c,t,n,e));return new In(l);case"LineString":case"MultiLineString":return o=eo(a,"LineString"===s.type?0:1,u),new Kn(o,e);case"Polygon":case"MultiPolygon":return o=eo(a,"Polygon"===s.type?1:2,u),new Zn(o,e);case"GeometryCollection":for(r=0,i=s.geometries.length;r<i;r++){var d=Jn({geometry:s.geometries[r],type:"Feature",properties:t.properties},e);d&&l.push(d)}return new In(l);case"FeatureCollection":for(r=0,i=s.features.length;r<i;r++){var p=Jn(s.features[r],e);p&&l.push(p)}return new In(l);default:throw new Error("Invalid GeoJSON object.")}}function Qn(t,e,n,o){return t?t(e,n):new Un(n,o&&o.markersInheritOptions&&o)}function to(t){return new j(t[1],t[0],t[2])}function eo(t,e,n){for(var o,r=[],i=0,s=t.length;i<s;i++)o=e?eo(t[i],e-1,n):(n||to)(t[i]),r.push(o);return r}function no(t,e){return void 0!==(t=V(t)).alt?[p(t.lng,e),p(t.lat,e),p(t.alt,e)]:[p(t.lng,e),p(t.lat,e)]}function oo(t,e,n,o){for(var r=[],i=0,s=t.length;i<s;i++)r.push(e?oo(t[i],yn(t[i])?0:e-1,n,o):no(t[i],o));return!e&&n&&r.push(r[0].slice()),r}function ro(t,e){return t.feature?r({},t.feature,{geometry:e}):io(e)}function io(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var so={toGeoJSON:function(t){return ro(this,{type:"Point",coordinates:no(this.getLatLng(),t)})}};function ao(t,e){return new Xn(t,e)}Un.include(so),$n.include(so),Wn.include(so),Kn.include({toGeoJSON:function(t){var e=!yn(this._latlngs);return ro(this,{type:(e?"Multi":"")+"LineString",coordinates:oo(this._latlngs,e?1:0,!1,t)})}}),Zn.include({toGeoJSON:function(t){var e=!yn(this._latlngs),n=e&&!yn(this._latlngs[0]),o=oo(this._latlngs,n?2:e?1:0,!0,t);return e||(o=[o]),ro(this,{type:(n?"Multi":"")+"Polygon",coordinates:o})}}),An.include({toMultiPoint:function(t){var e=[];return this.eachLayer((function(n){e.push(n.toGeoJSON(t).geometry.coordinates)})),ro(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,o=[];return this.eachLayer((function(e){if(e.toGeoJSON){var r=e.toGeoJSON(t);if(n)o.push(r.geometry);else{var i=io(r);"FeatureCollection"===i.type?o.push.apply(o,i.features):o.push(i)}}})),n?ro(this,{geometries:o,type:"GeometryCollection"}):{type:"FeatureCollection",features:o}}});var lo=ao,co=Mn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=U(e),g(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(fe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ce(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&de(this._image),this},bringToBack:function(){return this._map&&pe(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=U(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:le("img");fe(e,"leaflet-image-layer"),this._zoomAnimated&&fe(e,"leaflet-zoom-animated"),this.options.className&&fe(e,this.options.className),e.onselectstart=d,e.onmousemove=d,e.onload=s(this.fire,this,"load"),e.onerror=s(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Ce(this._image,n,e)},_reset:function(){var t=this._image,e=new F(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();Ee(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){ye(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),uo=function(t,e,n){return new co(t,e,n)},po=co.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:le("video");if(fe(e,"leaflet-image-layer"),this._zoomAnimated&&fe(e,"leaflet-zoom-animated"),this.options.className&&fe(e,this.options.className),e.onselectstart=d,e.onmousemove=d,e.onloadeddata=s(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),o=[],r=0;r<n.length;r++)o.push(n[r].src);this._url=n.length>0?o:[e.src]}else{v(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline;for(var i=0;i<this._url.length;i++){var a=le("source");a.src=this._url[i],e.appendChild(a)}}}});function ho(t,e,n){return new po(t,e,n)}var fo=co.extend({_initImage:function(){var t=this._image=this._url;fe(t,"leaflet-image-layer"),this._zoomAnimated&&fe(t,"leaflet-zoom-animated"),this.options.className&&fe(t,this.options.className),t.onselectstart=d,t.onmousemove=d}});function go(t,e,n){return new fo(t,e,n)}var _o=Mn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,e){t&&(t instanceof j||v(t))?(this._latlng=V(t),g(this,e)):(g(this,t),this._source=e),this.options.content&&(this._content=this.options.content)},openOn:function(t){return(t=arguments.length?t:this._source._map).hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&ye(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&ye(this._container,1),this.bringToFront(),this.options.interactive&&(fe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(ye(this._container,0),this._removeTimeout=setTimeout(s(ce,void 0,this._container),200)):ce(this._container),this.options.interactive&&(ge(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=V(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&de(this._container),this},bringToBack:function(){return this._map&&pe(this._container),this},_prepareOpen:function(t){var e=this._source;if(!e._map)return!1;if(e instanceof In){e=null;var n=this._source._layers;for(var o in n)if(n[o]._map){e=n[o];break}if(!e)return!1;this._source=e}if(!t)if(e.getCenter)t=e.getCenter();else if(e.getLatLng)t=e.getLatLng();else{if(!e.getBounds)throw new Error("Unable to get source layer LatLng.");t=e.getBounds().getCenter()}return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=k(this.options.offset),n=this._getAnchor();this._zoomAnimated?Ee(this._container,t.add(n)):e=e.add(t).add(n);var o=this._containerBottom=-e.y,r=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=o+"px",this._container.style.left=r+"px"}},_getAnchor:function(){return[0,0]}});qe.include({_initOverlay:function(t,e,n,o){var r=e;return r instanceof t||(r=new t(o).setContent(e)),n&&r.setLatLng(n),r}}),Mn.include({_initOverlay:function(t,e,n,o){var r=n;return r instanceof t?(g(r,o),r._source=this):(r=e&&!o?e:new t(o,this)).setContent(n),r}});var mo=_o.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return!(t=arguments.length?t:this._source._map).hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,_o.prototype.openOn.call(this,t)},onAdd:function(t){_o.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Vn||this._source.on("preclick",Ge))},onRemove:function(t){_o.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Vn||this._source.off("preclick",Ge))},getEvents:function(){var t=_o.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",e=this._container=le("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=le("div",t+"-content-wrapper",e);if(this._contentNode=le("div",t+"-content",n),Ue(e),Be(this._contentNode),Me(e,"contextmenu",Ge),this._tipContainer=le("div",t+"-tip-container",e),this._tip=le("div",t+"-tip",this._tipContainer),this.options.closeButton){var o=this._closeButton=le("a",t+"-close-button",e);o.setAttribute("role","button"),o.setAttribute("aria-label","Close popup"),o.href="#close",o.innerHTML='<span aria-hidden="true">&#215;</span>',Me(o,"click",(function(t){je(t),this.close()}),this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var o=t.offsetHeight,r=this.options.maxHeight,i="leaflet-popup-scrolled";r&&o>r?(e.height=r+"px",fe(t,i)):ge(t,i),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();Ee(this._container,e.add(n))},_adjustPan:function(){if(this.options.autoPan)if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)this._autopanning=!1;else{var t=this._map,e=parseInt(ae(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,o=this._containerWidth,r=new I(this._containerLeft,-n-this._containerBottom);r._add(be(this._container));var i=t.layerPointToContainerPoint(r),s=k(this.options.autoPanPadding),a=k(this.options.autoPanPaddingTopLeft||s),l=k(this.options.autoPanPaddingBottomRight||s),c=t.getSize(),u=0,d=0;i.x+o+l.x>c.x&&(u=i.x+o-c.x+l.x),i.x-u-a.x<0&&(u=i.x-a.x),i.y+n+l.y>c.y&&(d=i.y+n-c.y+l.y),i.y-d-a.y<0&&(d=i.y-a.y),(u||d)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([u,d]))}},_getAnchor:function(){return k(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),yo=function(t,e){return new mo(t,e)};qe.mergeOptions({closePopupOnClick:!0}),qe.include({openPopup:function(t,e,n){return this._initOverlay(mo,t,e,n).openOn(this),this},closePopup:function(t){return(t=arguments.length?t:this._popup)&&t.close(),this}}),Mn.include({bindPopup:function(t,e){return this._popup=this._initOverlay(mo,this._popup,t,e),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof In||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(this._popup&&this._map){Ve(t);var e=t.layer||t.target;this._popup._source!==e||e instanceof Vn?(this._popup._source=e,this.openPopup(t.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var vo=_o.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){_o.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){_o.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=_o.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=le("div",t),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+l(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,n,o=this._map,r=this._container,i=o.latLngToContainerPoint(o.getCenter()),s=o.layerPointToContainerPoint(t),a=this.options.direction,l=r.offsetWidth,c=r.offsetHeight,u=k(this.options.offset),d=this._getAnchor();"top"===a?(e=l/2,n=c):"bottom"===a?(e=l/2,n=0):"center"===a?(e=l/2,n=c/2):"right"===a?(e=0,n=c/2):"left"===a?(e=l,n=c/2):s.x<i.x?(a="right",e=0,n=c/2):(a="left",e=l+2*(u.x+d.x),n=c/2),t=t.subtract(k(e,n,!0)).add(u).add(d),ge(r,"leaflet-tooltip-right"),ge(r,"leaflet-tooltip-left"),ge(r,"leaflet-tooltip-top"),ge(r,"leaflet-tooltip-bottom"),fe(r,"leaflet-tooltip-"+a),Ee(r,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&ye(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return k(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Co=function(t,e){return new vo(t,e)};qe.include({openTooltip:function(t,e,n){return this._initOverlay(vo,t,e,n).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Mn.include({bindTooltip:function(t,e){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(vo,this._tooltip,t,e),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof In||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var e=t.getElement();e&&(Me(e,"focus",(function(){this._tooltip._source=t,this.openTooltip()}),this),Me(e,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var e=t.getElement();e&&e.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0))},_moveTooltip:function(t){var e,n,o=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),o=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(o)}});var Eo=kn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(n.html instanceof Element?(ue(e),e.appendChild(n.html)):e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var o=k(n.bgPos);e.style.backgroundPosition=-o.x+"px "+-o.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});function bo(t){return new Eo(t)}kn.Default=Gn;var So=Mn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ft.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){g(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),ce(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(de(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(pe(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=c(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof I?t:new I(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,o=-t(-1/0,1/0),r=0,i=n.length;r<i;r++)e=n[r].style.zIndex,n[r]!==this._container&&e&&(o=t(o,+e));isFinite(o)&&(this.options.zIndex=o+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ft.ielt9){ye(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var o in this._tiles){var r=this._tiles[o];if(r.current&&r.loaded){var i=Math.min(1,(t-r.loaded)/200);ye(r.el,i),i<1?e=!0:(r.active?n=!0:this._onOpaqueTile(r),r.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(R(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this))}},_onOpaqueTile:d,_initContainer:function(){this._container||(this._container=le("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(ce(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var o=this._levels[t],r=this._map;return o||((o=this._levels[t]={}).el=le("div","leaflet-tile-container leaflet-zoom-animated",this._container),o.el.style.zIndex=e,o.origin=r.project(r.unproject(r.getPixelOrigin()),t).round(),o.zoom=t,this._setZoomTransform(o,r.getCenter(),r.getZoom()),o.el.offsetWidth,this._onCreateLevel(o)),this._level=o,o}},_onUpdateLevel:d,_onRemoveLevel:d,_onCreateLevel:d,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var o=e.coords;this._retainParent(o.x,o.y,o.z,o.z-5)||this._retainChildren(o.x,o.y,o.z,o.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)ce(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,o){var r=Math.floor(t/2),i=Math.floor(e/2),s=n-1,a=new I(+r,+i);a.z=+s;var l=this._tileCoordsToKey(a),c=this._tiles[l];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),s>o&&this._retainParent(r,i,s,o))},_retainChildren:function(t,e,n,o){for(var r=2*t;r<2*t+2;r++)for(var i=2*e;i<2*e+2;i++){var s=new I(r,i);s.z=n+1;var a=this._tileCoordsToKey(s),l=this._tiles[a];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<o&&this._retainChildren(r,i,n+1,o))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,o){var r=Math.round(e);r=void 0!==this.options.maxZoom&&r>this.options.maxZoom||void 0!==this.options.minZoom&&r<this.options.minZoom?void 0:this._clampZoom(r);var i=this.options.updateWhenZooming&&r!==this._tileZoom;o&&!i||(this._tileZoom=r,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==r&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var o=this._map.getZoomScale(n,t.zoom),r=t.origin.multiplyBy(o).subtract(this._map._getNewPixelOrigin(e,n)).round();Ft.any3d?Ce(t.el,r,o):Ee(t.el,r)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),o=this._tileZoom,r=this._map.getPixelWorldBounds(this._tileZoom);r&&(this._globalTileRange=this._pxBoundsToTileRange(r)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],o).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],o).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],o).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],o).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),o=e.getZoomScale(n,this._tileZoom),r=e.project(t,this._tileZoom).floor(),i=e.getSize().divideBy(2*o);return new F(r.subtract(i),r.add(i))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var o=this._getTiledPixelBounds(t),r=this._pxBoundsToTileRange(o),i=r.getCenter(),s=[],a=this.options.keepBuffer,l=new F(r.getBottomLeft().subtract([a,-a]),r.getTopRight().add([a,-a]));if(!(isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.max.x)&&isFinite(r.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var u=this._tiles[c].coords;u.z===this._tileZoom&&l.contains(new I(u.x,u.y))||(this._tiles[c].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(t,n);else{for(var d=r.min.y;d<=r.max.y;d++)for(var p=r.min.x;p<=r.max.x;p++){var h=new I(p,d);if(h.z=this._tileZoom,this._isValidTile(h)){var f=this._tiles[this._tileCoordsToKey(h)];f?f.current=!0:s.push(h)}}if(s.sort((function(t,e){return t.distanceTo(i)-e.distanceTo(i)})),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var g=document.createDocumentFragment();for(p=0;p<s.length;p++)this._addTile(s[p],g);this._level.el.appendChild(g)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var o=this._tileCoordsToBounds(t);return U(this.options.bounds).overlaps(o)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),o=t.scaleBy(n),r=o.add(n);return[e.unproject(o,t.z),e.unproject(r,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new B(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new I(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(ce(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){fe(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=d,t.onmousemove=d,Ft.ielt9&&this.options.opacity<1&&ye(t,this.options.opacity)},_addTile:function(t,e){var n=this._getTilePos(t),o=this._tileCoordsToKey(t),r=this.createTile(this._wrapCoords(t),s(this._tileReady,this,t));this._initTile(r),this.createTile.length<2&&T(s(this._tileReady,this,t,null,r)),Ee(r,n),this._tiles[o]={el:r,coords:t,current:!0},e.appendChild(r),this.fire("tileloadstart",{tile:r,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var o=this._tileCoordsToKey(t);(n=this._tiles[o])&&(n.loaded=+new Date,this._map._fadeAnimated?(ye(n.el,0),R(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(fe(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ft.ielt9||!this._map._fadeAnimated?T(this._pruneTiles,this):setTimeout(s(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new I(this._wrapX?u(t.x,this._wrapX):t.x,this._wrapY?u(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new F(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function wo(t){return new So(t)}var Oo=So.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,e){this._url=t,(e=g(this,e)).detectRetina&&Ft.retina&&e.maxZoom>0?(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom=Math.min(e.maxZoom,e.minZoom+1)):(e.zoomOffset++,e.maxZoom=Math.max(e.minZoom,e.maxZoom-1)),e.minZoom=Math.max(0,e.minZoom)):e.zoomReverse?e.minZoom=Math.min(e.maxZoom,e.minZoom):e.maxZoom=Math.max(e.minZoom,e.maxZoom),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return Me(n,"load",s(this._tileOnLoad,this,e,n)),Me(n,"error",s(this._tileOnError,this,e,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:Ft.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=n),e["-y"]=n}return y(this._url,r(e,this.options))},_tileOnLoad:function(t,e){Ft.ielt9?setTimeout(s(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var o=this.options.errorTileUrl;o&&e.getAttribute("src")!==o&&(e.src=o),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return this.options.zoomReverse&&(t=e-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=d,e.onerror=d,!e.complete)){e.src=E;var n=this._tiles[t].coords;ce(e),delete this._tiles[t],this.fire("tileabort",{tile:e,coords:n})}},_removeTile:function(t){var e=this._tiles[t];if(e)return e.el.setAttribute("src",E),So.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(this._map&&(!n||n.getAttribute("src")!==E))return So.prototype._tileReady.call(this,t,e,n)}});function Po(t,e){return new Oo(t,e)}var To=Oo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var n=r({},this.defaultWmsParams);for(var o in e)o in this.options||(n[o]=e[o]);var i=(e=g(this,e)).detectRetina&&Ft.retina?2:1,s=this.getTileSize();n.width=s.x*i,n.height=s.y*i,this.wmsParams=n},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,Oo.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,o=G(n.project(e[0]),n.project(e[1])),r=o.min,i=o.max,s=(this._wmsVersion>=1.3&&this._crs===Dn?[r.y,r.x,i.y,i.x]:[r.x,r.y,i.x,i.y]).join(","),a=Oo.prototype.getTileUrl.call(this,t);return a+_(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(t,e){return r(this.wmsParams,t),e||this.redraw(),this}});Oo.WMS=To,Po.wms=function(t,e){return new To(t,e)};var Ro=Mn.extend({options:{padding:.1},initialize:function(t){g(this,t),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&fe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),o=this._map.getSize().multiplyBy(.5+this.options.padding),r=this._map.project(this._center,e),i=o.multiplyBy(-n).add(r).subtract(this._map._getNewPixelOrigin(t,e));Ft.any3d?Ce(this._container,i,n):Ee(this._container,i)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new F(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Do=Ro.extend({options:{tolerance:0},getEvents:function(){var t=Ro.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ro.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Me(t,"mousemove",this._onMouseMove,this),Me(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Me(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){R(this._redrawRequest),delete this._ctx,ce(this._container),Le(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Ro.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),o=Ft.retina?2:1;Ee(e,t.min),e.width=o*n.x,e.height=o*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",Ft.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Ro.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[l(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,o=e.prev;n?n.prev=o:this._drawLast=o,o?o.next=n:this._drawFirst=n,delete t._order,delete this._layers[l(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){var e,n,o=t.options.dashArray.split(/[, ]+/),r=[];for(n=0;n<o.length;n++){if(e=Number(o[n]),isNaN(e))return;r.push(e)}t.options._dashArray=r}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||T(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new F,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var o=this._drawFirst;o;o=o.next)t=o.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,o,r,i,s=t._parts,a=s.length,l=this._ctx;if(a){for(l.beginPath(),n=0;n<a;n++){for(o=0,r=s[n].length;o<r;o++)i=s[n][o],l[o?"lineTo":"moveTo"](i.x,i.y);e&&l.closePath()}this._fillStroke(l,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,o=Math.max(Math.round(t._radius),1),r=(Math.max(Math.round(t._radiusY),1)||o)/o;1!==r&&(n.save(),n.scale(1,r)),n.beginPath(),n.arc(e.x,e.y/r,o,0,2*Math.PI,!1),1!==r&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,o=this._map.mouseEventToLayerPoint(t),r=this._drawFirst;r;r=r.next)(e=r.layer).options.interactive&&e._containsPoint(o)&&("click"!==t.type&&"preclick"!==t.type||!this._map._draggableMoved(e))&&(n=e);this._fireEvent(!!n&&[n],t)},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(ge(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var n,o,r=this._drawFirst;r;r=r.next)(n=r.layer).options.interactive&&n._containsPoint(e)&&(o=n);o!==this._hoveredLayer&&(this._handleMouseOut(t),o&&(fe(this._container,"leaflet-interactive"),this._fireEvent([o],t,"mouseover"),this._hoveredLayer=o)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(s((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var n=e.next,o=e.prev;n&&(n.prev=o,o?o.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var n=e.next,o=e.prev;o&&(o.next=n,n?n.prev=o:o&&(this._drawLast=o),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}});function xo(t){return Ft.canvas?new Do(t):null}var Mo=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Ao={_initContainer:function(){this._container=le("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ro.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=Mo("shape");fe(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=Mo("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[l(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;ce(e),t.removeInteractiveTarget(e),delete this._layers[l(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,o=t.options,r=t._container;r.stroked=!!o.stroke,r.filled=!!o.fill,o.stroke?(e||(e=t._stroke=Mo("stroke")),r.appendChild(e),e.weight=o.weight+"px",e.color=o.color,e.opacity=o.opacity,o.dashArray?e.dashStyle=v(o.dashArray)?o.dashArray.join(" "):o.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=o.lineCap.replace("butt","flat"),e.joinstyle=o.lineJoin):e&&(r.removeChild(e),t._stroke=null),o.fill?(n||(n=t._fill=Mo("fill")),r.appendChild(n),n.color=o.fillColor||o.color,n.opacity=o.fillOpacity):n&&(r.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),o=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+o+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){de(t._container)},_bringToBack:function(t){pe(t._container)}},Lo=Ft.vml?Mo:J,Io=Ro.extend({_initContainer:function(){this._container=Lo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Lo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ce(this._container),Le(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){Ro.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),Ee(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=Lo("path");t.options.className&&fe(e,t.options.className),t.options.interactive&&fe(e,"leaflet-interactive"),this._updateStyle(t),this._layers[l(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){ce(t._path),t.removeInteractiveTarget(t._path),delete this._layers[l(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,Q(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),o="a"+n+","+(Math.max(Math.round(t._radiusY),1)||n)+" 0 1,0 ",r=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+o+2*n+",0 "+o+2*-n+",0 ";this._setPath(t,r)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){de(t._path)},_bringToBack:function(t){pe(t._path)}});function No(t){return Ft.svg||Ft.vml?new Io(t):null}Ft.vml&&Io.include(Ao),qe.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&xo(t)||No(t)}});var ko=Zn.extend({initialize:function(t,e){Zn.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=U(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Fo(t,e){return new ko(t,e)}Io.create=Lo,Io.pointsToPath=Q,Xn.geometryToLayer=Jn,Xn.coordsToLatLng=to,Xn.coordsToLatLngs=eo,Xn.latLngToCoords=no,Xn.latLngsToCoords=oo,Xn.getFeature=ro,Xn.asFeature=io,qe.mergeOptions({boxZoom:!0});var Go=rn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Me(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Le(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ce(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),Jt(),we(),this._startPoint=this._map.mouseEventToContainerPoint(t),Me(document,{contextmenu:Ve,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=le("div","leaflet-zoom-box",this._container),fe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new F(this._point,this._startPoint),n=e.getSize();Ee(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(ce(this._box),ge(this._container,"leaflet-crosshair")),Qt(),Oe(),Le(document,{contextmenu:Ve,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var e=new B(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});qe.addInitHook("addHandler","boxZoom",Go),qe.mergeOptions({doubleClickZoom:!0});var Bo=rn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),o=e.options.zoomDelta,r=t.originalEvent.shiftKey?n-o:n+o;"center"===e.options.doubleClickZoom?e.setZoom(r):e.setZoomAround(t.containerPoint,r)}});qe.addInitHook("addHandler","doubleClickZoom",Bo),qe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Uo=rn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new cn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}fe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ge(this._map._container,"leaflet-grab"),ge(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=U(this._map.options.maxBounds);this._offsetLimit=G(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,o=this._draggable._newPos.x,r=(o-e+n)%t+e-n,i=(o+e+n)%t-e-n,s=Math.abs(r+n)<Math.abs(i+n)?r:i;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,n=e.options,o=!n.inertia||t.noInertia||this._times.length<2;if(e.fire("dragend",t),o)e.fire("moveend");else{this._prunePositions(+new Date);var r=this._lastPos.subtract(this._positions[0]),i=(this._lastTime-this._times[0])/1e3,s=n.easeLinearity,a=r.multiplyBy(s/i),l=a.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,l),u=a.multiplyBy(c/l),d=c/(n.inertiaDeceleration*s),p=u.multiplyBy(-d/2).round();p.x||p.y?(p=e._limitOffset(p,e.options.maxBounds),T((function(){e.panBy(p,{duration:d,easeLinearity:s,noMoveStart:!0,animate:!0})}))):e.fire("moveend")}}});qe.addInitHook("addHandler","dragging",Uo),qe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var jo=rn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Me(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Le(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,o=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(o,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,o=this._panKeys={},r=this.keyCodes;for(e=0,n=r.left.length;e<n;e++)o[r.left[e]]=[-1*t,0];for(e=0,n=r.right.length;e<n;e++)o[r.right[e]]=[t,0];for(e=0,n=r.down.length;e<n;e++)o[r.down[e]]=[0,t];for(e=0,n=r.up.length;e<n;e++)o[r.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,o=this._zoomKeys={},r=this.keyCodes;for(e=0,n=r.zoomIn.length;e<n;e++)o[r.zoomIn[e]]=t;for(e=0,n=r.zoomOut.length;e<n;e++)o[r.zoomOut[e]]=-t},_addHooks:function(){Me(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Le(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,o=this._map;if(n in this._panKeys){if(!o._panAnim||!o._panAnim._inProgress)if(e=this._panKeys[n],t.shiftKey&&(e=k(e).multiplyBy(3)),o.options.maxBounds&&(e=o._limitOffset(k(e),o.options.maxBounds)),o.options.worldCopyJump){var r=o.wrapLatLng(o.unproject(o.project(o.getCenter()).add(e)));o.panTo(r)}else o.panBy(e)}else if(n in this._zoomKeys)o.setZoom(o.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!o._popup||!o._popup.options.closeOnEscapeKey)return;o.closePopup()}Ve(t)}}});qe.addInitHook("addHandler","keyboard",jo),qe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Vo=rn.extend({addHooks:function(){Me(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Le(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=ze(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var o=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s(this._performZoom,this),o),Ve(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var o=this._delta/(4*this._map.options.wheelPxPerZoomLevel),r=4*Math.log(2/(1+Math.exp(-Math.abs(o))))/Math.LN2,i=n?Math.ceil(r/n)*n:r,s=t._limitZoom(e+(this._delta>0?i:-i))-e;this._delta=0,this._startTime=null,s&&("center"===t.options.scrollWheelZoom?t.setZoom(e+s):t.setZoomAround(this._lastMousePos,e+s))}});qe.addInitHook("addHandler","scrollWheelZoom",Vo);qe.mergeOptions({tapHold:Ft.touchNative&&Ft.safari&&Ft.mobile,tapTolerance:15});var Wo=rn.extend({addHooks:function(){Me(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Le(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),1===t.touches.length){var e=t.touches[0];this._startPos=this._newPos=new I(e.clientX,e.clientY),this._holdTimeout=setTimeout(s((function(){this._cancel(),this._isTapValid()&&(Me(document,"touchend",je),Me(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))}),this),600),Me(document,"touchend touchcancel contextmenu",this._cancel,this),Me(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){Le(document,"touchend",je),Le(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),Le(document,"touchend touchcancel contextmenu",this._cancel,this),Le(document,"touchmove",this._onMove,this)},_onMove:function(t){var e=t.touches[0];this._newPos=new I(e.clientX,e.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,e){var n=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY});n._simulated=!0,e.target.dispatchEvent(n)}});qe.addInitHook("addHandler","tapHold",Wo),qe.mergeOptions({touchZoom:Ft.touch,bounceAtZoomLimits:!0});var Ho=rn.extend({addHooks:function(){fe(this._map._container,"leaflet-touch-zoom"),Me(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ge(this._map._container,"leaflet-touch-zoom"),Le(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),o=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(o)._divideBy(2))),this._startDist=n.distanceTo(o),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Me(document,"touchmove",this._onTouchMove,this),Me(document,"touchend touchcancel",this._onTouchEnd,this),je(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),o=e.mouseEventToContainerPoint(t.touches[1]),r=n.distanceTo(o)/this._startDist;if(this._zoom=e.getScaleZoom(r,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&r<1||this._zoom>e.getMaxZoom()&&r>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===r)return}else{var i=n._add(o)._divideBy(2)._subtract(this._centerPoint);if(1===r&&0===i.x&&0===i.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(i),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),R(this._animRequest);var a=s(e._move,e,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=T(a,this,!0),je(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,R(this._animRequest),Le(document,"touchmove",this._onTouchMove,this),Le(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});qe.addInitHook("addHandler","touchZoom",Ho),qe.BoxZoom=Go,qe.DoubleClickZoom=Bo,qe.Drag=Uo,qe.Keyboard=jo,qe.ScrollWheelZoom=Vo,qe.TapHold=Wo,qe.TouchZoom=Ho},5243:function(t,e){!function(t){"use strict";var e="1.9.3";function n(t){var e,n,o,r;for(n=1,o=arguments.length;n<o;n++)for(e in r=arguments[n])t[e]=r[e];return t}var o=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function r(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var o=n.call(arguments,2);return function(){return t.apply(e,o.length?o.concat(n.call(arguments)):arguments)}}var i=0;function s(t){return"_leaflet_id"in t||(t._leaflet_id=++i),t._leaflet_id}function a(t,e,n){var o,r,i,s;return s=function(){o=!1,r&&(i.apply(n,r),r=!1)},i=function(){o?r=arguments:(t.apply(n,arguments),setTimeout(s,e),o=!0)},i}function l(t,e,n){var o=e[1],r=e[0],i=o-r;return t===o&&n?t:((t-r)%i+i)%i+r}function c(){return!1}function u(t,e){if(!1===e)return t;var n=Math.pow(10,void 0===e?6:e);return Math.round(t*n)/n}function d(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function p(t){return d(t).split(/\s+/)}function h(t,e){for(var n in Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?o(t.options):{}),e)t.options[n]=e[n];return t.options}function f(t,e,n){var o=[];for(var r in t)o.push(encodeURIComponent(n?r.toUpperCase():r)+"="+encodeURIComponent(t[r]));return(e&&-1!==e.indexOf("?")?"&":"?")+o.join("&")}var g=/\{ *([\w_ -]+) *\}/g;function _(t,e){return t.replace(g,(function(t,n){var o=e[n];if(void 0===o)throw new Error("No value provided for variable "+t);return"function"==typeof o&&(o=o(e)),o}))}var m=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function y(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var v="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function C(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var E=0;function b(t){var e=+new Date,n=Math.max(0,16-(e-E));return E=e+n,window.setTimeout(t,n)}var S=window.requestAnimationFrame||C("RequestAnimationFrame")||b,w=window.cancelAnimationFrame||C("CancelAnimationFrame")||C("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function O(t,e,n){if(!n||S!==b)return S.call(window,r(t,e));t.call(e)}function P(t){t&&w.call(window,t)}var T={__proto__:null,extend:n,create:o,bind:r,get lastId(){return i},stamp:s,throttle:a,wrapNum:l,falseFn:c,formatNum:u,trim:d,splitWords:p,setOptions:h,getParamString:f,template:_,isArray:m,indexOf:y,emptyImageUrl:v,requestFn:S,cancelFn:w,requestAnimFrame:O,cancelAnimFrame:P};function R(){}function D(t){if("undefined"!=typeof L&&L&&L.Mixin){t=m(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}R.extend=function(t){var e=function(){h(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=e.__super__=this.prototype,i=o(r);for(var s in i.constructor=e,e.prototype=i,this)Object.prototype.hasOwnProperty.call(this,s)&&"prototype"!==s&&"__super__"!==s&&(e[s]=this[s]);return t.statics&&n(e,t.statics),t.includes&&(D(t.includes),n.apply(null,[i].concat(t.includes))),n(i,t),delete i.statics,delete i.includes,i.options&&(i.options=r.options?o(r.options):{},n(i.options,t.options)),i._initHooks=[],i.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=i._initHooks.length;t<e;t++)i._initHooks[t].call(this)}},e},R.include=function(t){var e=this.prototype.options;return n(this.prototype,t),t.options&&(this.prototype.options=e,this.mergeOptions(t.options)),this},R.mergeOptions=function(t){return n(this.prototype.options,t),this},R.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var x={on:function(t,e,n){if("object"==typeof t)for(var o in t)this._on(o,t[o],e);else for(var r=0,i=(t=p(t)).length;r<i;r++)this._on(t[r],e,n);return this},off:function(t,e,n){if(arguments.length)if("object"==typeof t)for(var o in t)this._off(o,t[o],e);else{t=p(t);for(var r=1===arguments.length,i=0,s=t.length;i<s;i++)r?this._off(t[i]):this._off(t[i],e,n)}else delete this._events;return this},_on:function(t,e,n,o){if("function"==typeof e){if(!1===this._listens(t,e,n)){n===this&&(n=void 0);var r={fn:e,ctx:n};o&&(r.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(r)}}else console.warn("wrong listener type: "+typeof e)},_off:function(t,e,n){var o,r,i;if(this._events&&(o=this._events[t]))if(1!==arguments.length)if("function"==typeof e){var s=this._listens(t,e,n);if(!1!==s){var a=o[s];this._firingCount&&(a.fn=c,this._events[t]=o=o.slice()),o.splice(s,1)}}else console.warn("wrong listener type: "+typeof e);else{if(this._firingCount)for(r=0,i=o.length;r<i;r++)o[r].fn=c;delete this._events[t]}},fire:function(t,e,o){if(!this.listens(t,o))return this;var r=n({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var i=this._events[t];if(i){this._firingCount=this._firingCount+1||1;for(var s=0,a=i.length;s<a;s++){var l=i[s],c=l.fn;l.once&&this.off(t,c,l.ctx),c.call(l.ctx||this,r)}this._firingCount--}}return o&&this._propagateEvent(r),this},listens:function(t,e,n,o){"string"!=typeof t&&console.warn('"string" type argument expected');var r=e;"function"!=typeof e&&(o=!!e,r=void 0,n=void 0);var i=this._events&&this._events[t];if(i&&i.length&&!1!==this._listens(t,r,n))return!0;if(o)for(var s in this._eventParents)if(this._eventParents[s].listens(t,e,n,o))return!0;return!1},_listens:function(t,e,n){if(!this._events)return!1;var o=this._events[t]||[];if(!e)return!!o.length;n===this&&(n=void 0);for(var r=0,i=o.length;r<i;r++)if(o[r].fn===e&&o[r].ctx===n)return r;return!1},once:function(t,e,n){if("object"==typeof t)for(var o in t)this._on(o,t[o],e,!0);else for(var r=0,i=(t=p(t)).length;r<i;r++)this._on(t[r],e,n,!0);return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[s(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[s(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,n({layer:t.target,propagatedFrom:t.target},t),!0)}};x.addEventListener=x.on,x.removeEventListener=x.clearAllEventListeners=x.off,x.addOneTimeEventListener=x.once,x.fireEvent=x.fire,x.hasEventListeners=x.listens;var M=R.extend(x);function A(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var I=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function N(t,e,n){return t instanceof A?t:m(t)?new A(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new A(t.x,t.y):new A(t,e,n)}function k(t,e){if(t)for(var n=e?[t,e]:t,o=0,r=n.length;o<r;o++)this.extend(n[o])}function F(t,e){return!t||t instanceof k?t:new k(t,e)}function G(t,e){if(t)for(var n=e?[t,e]:t,o=0,r=n.length;o<r;o++)this.extend(n[o])}function B(t,e){return t instanceof G?t:new G(t,e)}function U(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function j(t,e,n){return t instanceof U?t:m(t)&&"object"!=typeof t[0]?3===t.length?new U(t[0],t[1],t[2]):2===t.length?new U(t[0],t[1]):null:null==t?t:"object"==typeof t&&"lat"in t?new U(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new U(t,e,n)}A.prototype={clone:function(){return new A(this.x,this.y)},add:function(t){return this.clone()._add(N(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(N(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new A(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new A(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=I(this.x),this.y=I(this.y),this},distanceTo:function(t){var e=(t=N(t)).x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return(t=N(t)).x===this.x&&t.y===this.y},contains:function(t){return t=N(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+u(this.x)+", "+u(this.y)+")"}},k.prototype={extend:function(t){var e,n;if(!t)return this;if(t instanceof A||"number"==typeof t[0]||"x"in t)e=n=N(t);else if(e=(t=F(t)).min,n=t.max,!e||!n)return this;return this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)):(this.min=e.clone(),this.max=n.clone()),this},getCenter:function(t){return N((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return N(this.min.x,this.max.y)},getTopRight:function(){return N(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t="number"==typeof t[0]||t instanceof A?N(t):F(t))instanceof k?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=F(t);var e=this.min,n=this.max,o=t.min,r=t.max,i=r.x>=e.x&&o.x<=n.x,s=r.y>=e.y&&o.y<=n.y;return i&&s},overlaps:function(t){t=F(t);var e=this.min,n=this.max,o=t.min,r=t.max,i=r.x>e.x&&o.x<n.x,s=r.y>e.y&&o.y<n.y;return i&&s},isValid:function(){return!(!this.min||!this.max)},pad:function(t){var e=this.min,n=this.max,o=Math.abs(e.x-n.x)*t,r=Math.abs(e.y-n.y)*t;return F(N(e.x-o,e.y-r),N(n.x+o,n.y+r))},equals:function(t){return!!t&&(t=F(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight()))}},G.prototype={extend:function(t){var e,n,o=this._southWest,r=this._northEast;if(t instanceof U)e=t,n=t;else{if(!(t instanceof G))return t?this.extend(j(t)||B(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return o||r?(o.lat=Math.min(e.lat,o.lat),o.lng=Math.min(e.lng,o.lng),r.lat=Math.max(n.lat,r.lat),r.lng=Math.max(n.lng,r.lng)):(this._southWest=new U(e.lat,e.lng),this._northEast=new U(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,o=Math.abs(e.lat-n.lat)*t,r=Math.abs(e.lng-n.lng)*t;return new G(new U(e.lat-o,e.lng-r),new U(n.lat+o,n.lng+r))},getCenter:function(){return new U((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new U(this.getNorth(),this.getWest())},getSouthEast:function(){return new U(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof U||"lat"in t?j(t):B(t);var e,n,o=this._southWest,r=this._northEast;return t instanceof G?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=o.lat&&n.lat<=r.lat&&e.lng>=o.lng&&n.lng<=r.lng},intersects:function(t){t=B(t);var e=this._southWest,n=this._northEast,o=t.getSouthWest(),r=t.getNorthEast(),i=r.lat>=e.lat&&o.lat<=n.lat,s=r.lng>=e.lng&&o.lng<=n.lng;return i&&s},overlaps:function(t){t=B(t);var e=this._southWest,n=this._northEast,o=t.getSouthWest(),r=t.getNorthEast(),i=r.lat>e.lat&&o.lat<n.lat,s=r.lng>e.lng&&o.lng<n.lng;return i&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=B(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},U.prototype={equals:function(t,e){return!!t&&(t=j(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+u(this.lat,t)+", "+u(this.lng,t)+")"},distanceTo:function(t){return H.distance(this,j(t))},wrap:function(){return H.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return B([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new U(this.lat,this.lng,this.alt)}};var V,W={latLngToPoint:function(t,e){var n=this.projection.project(t),o=this.scale(e);return this.transformation._transform(n,o)},pointToLatLng:function(t,e){var n=this.scale(e),o=this.transformation.untransform(t,n);return this.projection.unproject(o)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t);return new k(this.transformation.transform(e.min,n),this.transformation.transform(e.max,n))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?l(t.lng,this.wrapLng,!0):t.lng;return new U(this.wrapLat?l(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),o=e.lat-n.lat,r=e.lng-n.lng;if(0===o&&0===r)return t;var i=t.getSouthWest(),s=t.getNorthEast();return new G(new U(i.lat-o,i.lng-r),new U(s.lat-o,s.lng-r))}},H=n({},W,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,o=t.lat*n,r=e.lat*n,i=Math.sin((e.lat-t.lat)*n/2),s=Math.sin((e.lng-t.lng)*n/2),a=i*i+Math.cos(o)*Math.cos(r)*s*s,l=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*l}}),$=6378137,z={R:$,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,o=Math.max(Math.min(n,t.lat),-n),r=Math.sin(o*e);return new A(this.R*t.lng*e,this.R*Math.log((1+r)/(1-r))/2)},unproject:function(t){var e=180/Math.PI;return new U((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:(V=$*Math.PI,new k([-V,-V],[V,V]))};function K(t,e,n,o){if(m(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=o}function Y(t,e,n,o){return new K(t,e,n,o)}K.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new A((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var Z=n({},H,{code:"EPSG:3857",projection:z,transformation:function(){var t=.5/(Math.PI*z.R);return Y(t,.5,-t,.5)}()}),q=n({},Z,{code:"EPSG:900913"});function X(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function J(t,e){var n,o,r,i,s,a,l="";for(n=0,r=t.length;n<r;n++){for(o=0,i=(s=t[n]).length;o<i;o++)l+=(o?"L":"M")+(a=s[o]).x+" "+a.y;l+=e?Gt.svg?"z":"x":""}return l||"M0 0"}var Q,tt=document.documentElement.style,et="ActiveXObject"in window,nt=et&&!document.addEventListener,ot="msLaunchUri"in navigator&&!("documentMode"in document),rt=Ft("webkit"),it=Ft("android"),st=Ft("android 2")||Ft("android 3"),at=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),lt=it&&Ft("Google")&&at<537&&!("AudioNode"in window),ct=!!window.opera,ut=!ot&&Ft("chrome"),dt=Ft("gecko")&&!rt&&!ct&&!et,pt=!ut&&Ft("safari"),ht=Ft("phantom"),ft="OTransition"in tt,gt=0===navigator.platform.indexOf("Win"),_t=et&&"transition"in tt,mt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!st,yt="MozPerspective"in tt,vt=!window.L_DISABLE_3D&&(_t||mt||yt)&&!ft&&!ht,Ct="undefined"!=typeof orientation||Ft("mobile"),Et=Ct&&rt,bt=Ct&&mt,St=!window.PointerEvent&&window.MSPointerEvent,wt=!(!window.PointerEvent&&!St),Ot="ontouchstart"in window||!!window.TouchEvent,Pt=!window.L_NO_TOUCH&&(Ot||wt),Tt=Ct&&ct,Rt=Ct&&dt,Dt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,xt=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",c,e),window.removeEventListener("testPassiveEventSupport",c,e)}catch(t){}return t}(),Mt=!!document.createElement("canvas").getContext,At=!(!document.createElementNS||!X("svg").createSVGRect),Lt=!!At&&((Q=document.createElement("div")).innerHTML="<svg/>","http://www.w3.org/2000/svg"===(Q.firstChild&&Q.firstChild.namespaceURI)),It=!At&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}(),Nt=0===navigator.platform.indexOf("Mac"),kt=0===navigator.platform.indexOf("Linux");function Ft(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Gt={ie:et,ielt9:nt,edge:ot,webkit:rt,android:it,android23:st,androidStock:lt,opera:ct,chrome:ut,gecko:dt,safari:pt,phantom:ht,opera12:ft,win:gt,ie3d:_t,webkit3d:mt,gecko3d:yt,any3d:vt,mobile:Ct,mobileWebkit:Et,mobileWebkit3d:bt,msPointer:St,pointer:wt,touch:Pt,touchNative:Ot,mobileOpera:Tt,mobileGecko:Rt,retina:Dt,passiveEvents:xt,canvas:Mt,svg:At,vml:It,inlineSvg:Lt,mac:Nt,linux:kt},Bt=Gt.msPointer?"MSPointerDown":"pointerdown",Ut=Gt.msPointer?"MSPointerMove":"pointermove",jt=Gt.msPointer?"MSPointerUp":"pointerup",Vt=Gt.msPointer?"MSPointerCancel":"pointercancel",Wt={touchstart:Bt,touchmove:Ut,touchend:jt,touchcancel:Vt},Ht={touchstart:te,touchmove:Qt,touchend:Qt,touchcancel:Qt},$t={},zt=!1;function Kt(t,e,n){return"touchstart"===e&&Jt(),Ht[e]?(n=Ht[e].bind(this,n),t.addEventListener(Wt[e],n,!1),n):(console.warn("wrong event specified:",e),c)}function Yt(t,e,n){Wt[e]?t.removeEventListener(Wt[e],n,!1):console.warn("wrong event specified:",e)}function Zt(t){$t[t.pointerId]=t}function qt(t){$t[t.pointerId]&&($t[t.pointerId]=t)}function Xt(t){delete $t[t.pointerId]}function Jt(){zt||(document.addEventListener(Bt,Zt,!0),document.addEventListener(Ut,qt,!0),document.addEventListener(jt,Xt,!0),document.addEventListener(Vt,Xt,!0),zt=!0)}function Qt(t,e){if(e.pointerType!==(e.MSPOINTER_TYPE_MOUSE||"mouse")){for(var n in e.touches=[],$t)e.touches.push($t[n]);e.changedTouches=[e],t(e)}}function te(t,e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&Ze(e),Qt(t,e)}function ee(t){var e,n,o={};for(n in t)e=t[n],o[n]=e&&e.bind?e.bind(t):e;return t=o,o.type="dblclick",o.detail=2,o.isTrusted=!1,o._simulated=!0,o}var ne=200;function oe(t,e){t.addEventListener("dblclick",e);var n,o=0;function r(t){if(1===t.detail){if("mouse"!==t.pointerType&&(!t.sourceCapabilities||t.sourceCapabilities.firesTouchEvents)){var r=Xe(t);if(!r.some((function(t){return t instanceof HTMLLabelElement&&t.attributes.for}))||r.some((function(t){return t instanceof HTMLInputElement||t instanceof HTMLSelectElement}))){var i=Date.now();i-o<=ne?2==++n&&e(ee(t)):n=1,o=i}}}else n=t.detail}return t.addEventListener("click",r),{dblclick:e,simDblclick:r}}function re(t,e){t.removeEventListener("dblclick",e.dblclick),t.removeEventListener("click",e.simDblclick)}var ie,se,ae,le,ce,ue=Te(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),de=Te(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),pe="webkitTransition"===de||"OTransition"===de?de+"End":"transitionend";function he(t){return"string"==typeof t?document.getElementById(t):t}function fe(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var o=document.defaultView.getComputedStyle(t,null);n=o?o[e]:null}return"auto"===n?null:n}function ge(t,e,n){var o=document.createElement(t);return o.className=e||"",n&&n.appendChild(o),o}function _e(t){var e=t.parentNode;e&&e.removeChild(t)}function me(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function ye(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function ve(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function Ce(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=we(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function Ee(t,e){if(void 0!==t.classList)for(var n=p(e),o=0,r=n.length;o<r;o++)t.classList.add(n[o]);else if(!Ce(t,e)){var i=we(t);Se(t,(i?i+" ":"")+e)}}function be(t,e){void 0!==t.classList?t.classList.remove(e):Se(t,d((" "+we(t)+" ").replace(" "+e+" "," ")))}function Se(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function we(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function Oe(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&Pe(t,e)}function Pe(t,e){var n=!1,o="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(o)}catch(t){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+o+"(opacity="+e+")"}function Te(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function Re(t,e,n){var o=e||new A(0,0);t.style[ue]=(Gt.ie3d?"translate("+o.x+"px,"+o.y+"px)":"translate3d("+o.x+"px,"+o.y+"px,0)")+(n?" scale("+n+")":"")}function De(t,e){t._leaflet_pos=e,Gt.any3d?Re(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function xe(t){return t._leaflet_pos||new A(0,0)}if("onselectstart"in document)ie=function(){Be(window,"selectstart",Ze)},se=function(){je(window,"selectstart",Ze)};else{var Me=Te(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ie=function(){if(Me){var t=document.documentElement.style;ae=t[Me],t[Me]="none"}},se=function(){Me&&(document.documentElement.style[Me]=ae,ae=void 0)}}function Ae(){Be(window,"dragstart",Ze)}function Le(){je(window,"dragstart",Ze)}function Ie(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(Ne(),le=t,ce=t.style.outline,t.style.outline="none",Be(window,"keydown",Ne))}function Ne(){le&&(le.style.outline=ce,le=void 0,ce=void 0,je(window,"keydown",Ne))}function ke(t){do{t=t.parentNode}while(!(t.offsetWidth&&t.offsetHeight||t===document.body));return t}function Fe(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Ge={__proto__:null,TRANSFORM:ue,TRANSITION:de,TRANSITION_END:pe,get:he,getStyle:fe,create:ge,remove:_e,empty:me,toFront:ye,toBack:ve,hasClass:Ce,addClass:Ee,removeClass:be,setClass:Se,getClass:we,setOpacity:Oe,testProp:Te,setTransform:Re,setPosition:De,getPosition:xe,get disableTextSelection(){return ie},get enableTextSelection(){return se},disableImageDrag:Ae,enableImageDrag:Le,preventOutline:Ie,restoreOutline:Ne,getSizedParentNode:ke,getScale:Fe};function Be(t,e,n,o){if(e&&"object"==typeof e)for(var r in e)He(t,r,e[r],n);else for(var i=0,s=(e=p(e)).length;i<s;i++)He(t,e[i],n,o);return this}var Ue="_leaflet_events";function je(t,e,n,o){if(1===arguments.length)Ve(t),delete t[Ue];else if(e&&"object"==typeof e)for(var r in e)$e(t,r,e[r],n);else if(e=p(e),2===arguments.length)Ve(t,(function(t){return-1!==y(e,t)}));else for(var i=0,s=e.length;i<s;i++)$e(t,e[i],n,o);return this}function Ve(t,e){for(var n in t[Ue]){var o=n.split(/\d/)[0];e&&!e(o)||$e(t,o,null,null,n)}}var We={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function He(t,e,n,o){var r=e+s(n)+(o?"_"+s(o):"");if(t[Ue]&&t[Ue][r])return this;var i=function(e){return n.call(o||t,e||window.event)},a=i;!Gt.touchNative&&Gt.pointer&&0===e.indexOf("touch")?i=Kt(t,e,i):Gt.touch&&"dblclick"===e?i=oe(t,i):"addEventListener"in t?"touchstart"===e||"touchmove"===e||"wheel"===e||"mousewheel"===e?t.addEventListener(We[e]||e,i,!!Gt.passiveEvents&&{passive:!1}):"mouseenter"===e||"mouseleave"===e?(i=function(e){e=e||window.event,en(t,e)&&a(e)},t.addEventListener(We[e],i,!1)):t.addEventListener(e,a,!1):t.attachEvent("on"+e,i),t[Ue]=t[Ue]||{},t[Ue][r]=i}function $e(t,e,n,o,r){r=r||e+s(n)+(o?"_"+s(o):"");var i=t[Ue]&&t[Ue][r];if(!i)return this;!Gt.touchNative&&Gt.pointer&&0===e.indexOf("touch")?Yt(t,e,i):Gt.touch&&"dblclick"===e?re(t,i):"removeEventListener"in t?t.removeEventListener(We[e]||e,i,!1):t.detachEvent("on"+e,i),t[Ue][r]=null}function ze(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Ke(t){return He(t,"wheel",ze),this}function Ye(t){return Be(t,"mousedown touchstart dblclick contextmenu",ze),t._leaflet_disable_click=!0,this}function Ze(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function qe(t){return Ze(t),ze(t),this}function Xe(t){if(t.composedPath)return t.composedPath();for(var e=[],n=t.target;n;)e.push(n),n=n.parentNode;return e}function Je(t,e){if(!e)return new A(t.clientX,t.clientY);var n=Fe(e),o=n.boundingClientRect;return new A((t.clientX-o.left)/n.x-e.clientLeft,(t.clientY-o.top)/n.y-e.clientTop)}var Qe=Gt.linux&&Gt.chrome?window.devicePixelRatio:Gt.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function tn(t){return Gt.edge?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/Qe:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function en(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(t){return!1}return n!==t}var nn={__proto__:null,on:Be,off:je,stopPropagation:ze,disableScrollPropagation:Ke,disableClickPropagation:Ye,preventDefault:Ze,stop:qe,getPropagationPath:Xe,getMousePosition:Je,getWheelDelta:tn,isExternalTarget:en,addListener:Be,removeListener:je},on=M.extend({run:function(t,e,n,o){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(o||.5,.2),this._startPos=xe(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=O(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),De(this._el,n),this.fire("step")},_complete:function(){P(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),rn=M.extend({options:{crs:Z,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=h(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=r(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(j(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=de&&Gt.any3d&&!Gt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Be(this._proxy,pe,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,o){return e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(j(t),e,this.options.maxBounds),o=o||{},this._stop(),this._loaded&&!o.reset&&!0!==o&&(void 0!==o.animate&&(o.zoom=n({animate:o.animate},o.zoom),o.pan=n({animate:o.animate,duration:o.duration},o.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,o.zoom):this._tryAnimatedPan(t,o.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,e,o.pan&&o.pan.noMoveStart),this)},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(Gt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(Gt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var o=this.getZoomScale(e),r=this.getSize().divideBy(2),i=(t instanceof A?t:this.latLngToContainerPoint(t)).subtract(r).multiplyBy(1-1/o),s=this.containerPointToLatLng(r.add(i));return this.setView(s,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():B(t);var n=N(e.paddingTopLeft||e.padding||[0,0]),o=N(e.paddingBottomRight||e.padding||[0,0]),r=this.getBoundsZoom(t,!1,n.add(o));if((r="number"==typeof e.maxZoom?Math.min(e.maxZoom,r):r)===1/0)return{center:t.getCenter(),zoom:r};var i=o.subtract(n).divideBy(2),s=this.project(t.getSouthWest(),r),a=this.project(t.getNorthEast(),r);return{center:this.unproject(s.add(a).divideBy(2).add(i),r),zoom:r}},fitBounds:function(t,e){if(!(t=B(t)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=N(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new on,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){Ee(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){if(!1===(n=n||{}).animate||!Gt.any3d)return this.setView(t,e,n);this._stop();var o=this.project(this.getCenter()),r=this.project(t),i=this.getSize(),s=this._zoom;t=j(t),e=void 0===e?s:e;var a=Math.max(i.x,i.y),l=a*this.getZoomScale(s,e),c=r.distanceTo(o)||1,u=1.42,d=u*u;function p(t){var e=(l*l-a*a+(t?-1:1)*d*d*c*c)/(2*(t?l:a)*d*c),n=Math.sqrt(e*e+1)-e;return n<1e-9?-18:Math.log(n)}function h(t){return(Math.exp(t)-Math.exp(-t))/2}function f(t){return(Math.exp(t)+Math.exp(-t))/2}function g(t){return h(t)/f(t)}var _=p(0);function m(t){return a*(f(_)/f(_+u*t))}function y(t){return a*(f(_)*g(_+u*t)-h(_))/d}function v(t){return 1-Math.pow(1-t,1.5)}var C=Date.now(),E=(p(1)-_)/u,b=n.duration?1e3*n.duration:1e3*E*.8;function S(){var n=(Date.now()-C)/b,i=v(n)*E;n<=1?(this._flyToFrame=O(S,this),this._move(this.unproject(o.add(r.subtract(o).multiplyBy(y(i)/c)),s),this.getScaleZoom(a/m(i),s),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),S.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return t=B(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),o=this._limitCenter(n,this._zoom,B(t));return n.equals(o)||this.panTo(o,e),this._enforcingBounds=!1,this},panInside:function(t,e){var n=N((e=e||{}).paddingTopLeft||e.padding||[0,0]),o=N(e.paddingBottomRight||e.padding||[0,0]),r=this.project(this.getCenter()),i=this.project(t),s=this.getPixelBounds(),a=F([s.min.add(n),s.max.subtract(o)]),l=a.getSize();if(!a.contains(i)){this._enforcingBounds=!0;var c=i.subtract(a.getCenter()),u=a.extend(i).getSize().subtract(l);r.x+=c.x<0?-u.x:u.x,r.y+=c.y<0?-u.y:u.y,this.panTo(this.unproject(r),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=n({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var o=this.getSize(),i=e.divideBy(2).round(),s=o.divideBy(2).round(),a=i.subtract(s);return a.x||a.y?(t.animate&&t.pan?this.panBy(a):(t.pan&&this._rawPanBy(a),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(r(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:o})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=n({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=r(this._handleGeolocationResponse,this),o=r(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,o,t):navigator.geolocation.getCurrentPosition(e,o,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var e=new U(t.coords.latitude,t.coords.longitude),n=e.toBounds(2*t.coords.accuracy),o=this._locateOptions;if(o.setView){var r=this.getBoundsZoom(n);this.setView(e,o.maxZoom?Math.min(r,o.maxZoom):r)}var i={latlng:e,bounds:n,timestamp:t.timestamp};for(var s in t.coords)"number"==typeof t.coords[s]&&(i[s]=t.coords[s]);this.fire("locationfound",i)}},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),_e(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(P(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)_e(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n=ge("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new G(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=B(t),n=N(n||[0,0]);var o=this.getZoom()||0,r=this.getMinZoom(),i=this.getMaxZoom(),s=t.getNorthWest(),a=t.getSouthEast(),l=this.getSize().subtract(n),c=F(this.project(a,o),this.project(s,o)).getSize(),u=Gt.any3d?this.options.zoomSnap:1,d=l.x/c.x,p=l.y/c.y,h=e?Math.max(d,p):Math.min(d,p);return o=this.getScaleZoom(h,o),u&&(o=Math.round(o/(u/100))*(u/100),o=e?Math.ceil(o/u)*u:Math.floor(o/u)*u),Math.max(r,Math.min(i,o))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new A(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new k(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var o=n.zoom(t*n.scale(e));return isNaN(o)?1/0:o},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(j(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(N(t),e)},layerPointToLatLng:function(t){var e=N(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(j(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(j(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(B(t))},distance:function(t,e){return this.options.crs.distance(j(t),j(e))},containerPointToLayerPoint:function(t){return N(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return N(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(N(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(j(t)))},mouseEventToContainerPoint:function(t){return Je(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=he(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Be(e,"scroll",this._onScroll,this),this._containerId=s(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Gt.any3d,Ee(t,"leaflet-container"+(Gt.touch?" leaflet-touch":"")+(Gt.retina?" leaflet-retina":"")+(Gt.ielt9?" leaflet-oldie":"")+(Gt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=fe(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&"sticky"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),De(this._mapPane,new A(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ee(t.markerPane,"leaflet-zoom-hide"),Ee(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e,n){De(this._mapPane,new A(0,0));var o=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var r=this._zoom!==e;this._moveStart(r,n)._move(t,e)._moveEnd(r),this.fire("viewreset"),o&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n,o){void 0===e&&(e=this._zoom);var r=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),o?n&&n.pinch&&this.fire("zoom",n):((r||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return P(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){De(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[s(this._container)]=this;var e=t?je:Be;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),Gt.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){P(this._resizeRequest),this._resizeRequest=O((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,o=[],r="mouseout"===e||"mouseover"===e,i=t.target||t.srcElement,a=!1;i;){if((n=this._targets[s(i)])&&("click"===e||"preclick"===e)&&this._draggableMoved(n)){a=!0;break}if(n&&n.listens(e,!0)){if(r&&!en(i,t))break;if(o.push(n),r)break}if(i===this._container)break;i=i.parentNode}return o.length||a||r||!this.listens(e,!0)||(o=[this]),o},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var e=t.target||t.srcElement;if(!(!this._loaded||e._leaflet_disable_events||"click"===t.type&&this._isClickDisabled(e))){var n=t.type;"mousedown"===n&&Ie(e),this._fireDOMEvent(t,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,o){if("click"===t.type){var r=n({},t);r.type="preclick",this._fireDOMEvent(r,r.type,o)}var i=this._findEventTargets(t,e);if(o){for(var s=[],a=0;a<o.length;a++)o[a].listens(e,!0)&&s.push(o[a]);i=s.concat(i)}if(i.length){"contextmenu"===e&&Ze(t);var l=i[0],c={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var u=l.getLatLng&&(!l._radius||l._radius<=10);c.containerPoint=u?this.latLngToContainerPoint(l.getLatLng()):this.mouseEventToContainerPoint(t),c.layerPoint=this.containerPointToLayerPoint(c.containerPoint),c.latlng=u?l.getLatLng():this.layerPointToLatLng(c.layerPoint)}for(a=0;a<i.length;a++)if(i[a].fire(e,c,!0),c.originalEvent._stopped||!1===i[a].options.bubblingMouseEvents&&-1!==y(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return xe(this._mapPane)||new A(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var o=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(o)},_latLngBoundsToNewLayerBounds:function(t,e,n){var o=this._getNewPixelOrigin(n,e);return F([this.project(t.getSouthWest(),e)._subtract(o),this.project(t.getNorthWest(),e)._subtract(o),this.project(t.getSouthEast(),e)._subtract(o),this.project(t.getNorthEast(),e)._subtract(o)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var o=this.project(t,e),r=this.getSize().divideBy(2),i=new k(o.subtract(r),o.add(r)),s=this._getBoundsOffset(i,n,e);return Math.abs(s.x)<=1&&Math.abs(s.y)<=1?t:this.unproject(o.add(s),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),o=new k(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(o,e))},_getBoundsOffset:function(t,e,n){var o=F(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),r=o.min.subtract(t.min),i=o.max.subtract(t.max);return new A(this._rebound(r.x,-i.x),this._rebound(r.y,-i.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),o=Gt.any3d?this.options.zoomSnap:1;return o&&(t=Math.round(t/o)*o),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){be(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n)||(this.panBy(n,e),0))},_createAnimProxy:function(){var t=this._proxy=ge("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",(function(t){var e=ue,n=this._proxy.style[e];Re(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){_e(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();Re(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var o=this.getZoomScale(e),r=this._getCenterOffset(t)._divideBy(1-1/o);return!(!0!==n.animate&&!this.getSize().contains(r)||(O((function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)}),this),0))},_animateZoom:function(t,e,n,o){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,Ee(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:o}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(r(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&be(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function sn(t,e){return new rn(t,e)}var an=R.extend({options:{position:"topright"},initialize:function(t){h(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),o=t._controlCorners[n];return Ee(e,"leaflet-control"),-1!==n.indexOf("bottom")?o.insertBefore(e,o.firstChild):o.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(_e(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),ln=function(t){return new an(t)};rn.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=ge("div",e+"control-container",this._container);function o(o,r){var i=e+o+" "+e+r;t[o+r]=ge("div",i,n)}o("top","left"),o("top","right"),o("bottom","left"),o("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)_e(this._controlCorners[t]);_e(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var cn=an.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,o){return n<o?-1:o<n?1:0}},initialize:function(t,e,n){for(var o in h(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[o],o);for(o in e)this._addLayer(e[o],o,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return an.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(s(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){Ee(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(Ee(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):be(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return be(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=ge("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Ye(e),Ke(e);var o=this._section=ge("section",t+"-list");n&&(this._map.on("click",this.collapse,this),Be(e,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var r=this._layersLink=ge("a",t+"-toggle",e);r.href="#",r.title="Layers",r.setAttribute("role","button"),Be(r,{keydown:function(t){13===t.keyCode&&this._expandSafely()},click:function(t){Ze(t),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=ge("div",t+"-base",o),this._separator=ge("div",t+"-separator",o),this._overlaysList=ge("div",t+"-overlays",o),e.appendChild(o)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&s(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(r((function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)}),this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;me(this._baseLayersList),me(this._overlaysList),this._layerControlInputs=[];var t,e,n,o,r=0;for(n=0;n<this._layers.length;n++)o=this._layers[n],this._addItem(o),e=e||o.overlay,t=t||!o.overlay,r+=o.overlay?0:1;return this.options.hideSingleBase&&(t=t&&r>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(s(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",o=document.createElement("div");return o.innerHTML=n,o.firstChild},_addItem:function(t){var e,n=document.createElement("label"),o=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=o):e=this._createRadioElement("leaflet-base-layers_"+s(this),o),this._layerControlInputs.push(e),e.layerId=s(t.layer),Be(e,"click",this._onInputClick,this);var r=document.createElement("span");r.innerHTML=" "+t.name;var i=document.createElement("span");return n.appendChild(i),i.appendChild(e),i.appendChild(r),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n=this._layerControlInputs,o=[],r=[];this._handlingClick=!0;for(var i=n.length-1;i>=0;i--)t=n[i],e=this._getLayer(t.layerId).layer,t.checked?o.push(e):t.checked||r.push(e);for(i=0;i<r.length;i++)this._map.hasLayer(r[i])&&this._map.removeLayer(r[i]);for(i=0;i<o.length;i++)this._map.hasLayer(o[i])||this._map.addLayer(o[i]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,o=this._map.getZoom(),r=n.length-1;r>=0;r--)t=n[r],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&o<e.options.minZoom||void 0!==e.options.maxZoom&&o>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;Be(t,"click",Ze),this.expand(),setTimeout((function(){je(t,"click",Ze)}))}}),un=function(t,e,n){return new cn(t,e,n)},dn=an.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=ge("div",e+" leaflet-bar"),o=this.options;return this._zoomInButton=this._createButton(o.zoomInText,o.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(o.zoomOutText,o.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,o,r){var i=ge("a",n,o);return i.innerHTML=t,i.href="#",i.title=e,i.setAttribute("role","button"),i.setAttribute("aria-label",e),Ye(i),Be(i,"click",qe),Be(i,"click",r,this),Be(i,"click",this._refocusOnMap,this),i},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";be(this._zoomInButton,e),be(this._zoomOutButton,e),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(Ee(this._zoomOutButton,e),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(Ee(this._zoomInButton,e),this._zoomInButton.setAttribute("aria-disabled","true"))}});rn.mergeOptions({zoomControl:!0}),rn.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new dn,this.addControl(this.zoomControl))}));var pn=function(t){return new dn(t)},hn=an.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",n=ge("div",e),o=this.options;return this._addScales(o,e+"-line",n),t.on(o.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=ge("div",e,n)),t.imperial&&(this._iScale=ge("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,o,r=3.2808399*t;r>5280?(e=r/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(o=this._getRoundNum(r),this._updateScale(this._iScale,o+" ft",o/r))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return e*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),fn=function(t){return new hn(t)},gn='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',_n=an.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Gt.inlineSvg?gn+" ":"")+"Leaflet</a>"},initialize:function(t){h(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=ge("div","leaflet-control-attribution"),Ye(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",(function(){this.removeAttribution(t.layer.getAttribution())}),this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});rn.mergeOptions({attributionControl:!0}),rn.addInitHook((function(){this.options.attributionControl&&(new _n).addTo(this)}));var mn=function(t){return new _n(t)};an.Layers=cn,an.Zoom=dn,an.Scale=hn,an.Attribution=_n,ln.layers=un,ln.zoom=pn,ln.scale=fn,ln.attribution=mn;var yn=R.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});yn.addTo=function(t,e){return t.addHandler(e,this),this};var vn,Cn={Events:x},En=Gt.touch?"touchstart mousedown":"mousedown",bn=M.extend({options:{clickTolerance:3},initialize:function(t,e,n,o){h(this,o),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(Be(this._dragStartTarget,En,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(bn._dragging===this&&this.finishDrag(!0),je(this._dragStartTarget,En,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!Ce(this._element,"leaflet-zoom-anim")))if(t.touches&&1!==t.touches.length)bn._dragging===this&&this.finishDrag();else if(!(bn._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(bn._dragging=this,this._preventOutline&&Ie(this._element),Ae(),ie(),this._moving))){this.fire("down");var e=t.touches?t.touches[0]:t,n=ke(this._element);this._startPoint=new A(e.clientX,e.clientY),this._startPos=xe(this._element),this._parentScale=Fe(n);var o="mousedown"===t.type;Be(document,o?"mousemove":"touchmove",this._onMove,this),Be(document,o?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(t){if(this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new A(e.clientX,e.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Ze(t),this._moved||(this.fire("dragstart"),this._moved=!0,Ee(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ee(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=t,this._updatePosition()))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),De(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){be(document.body,"leaflet-dragging"),this._lastTarget&&(be(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),je(document,"mousemove touchmove",this._onMove,this),je(document,"mouseup touchend touchcancel",this._onUp,this),Le(),se(),this._moved&&this._moving&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,bn._dragging=!1}});function Sn(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=Pn(t=Rn(t,n),n)}function wn(t,e,n){return Math.sqrt(Ln(t,e,n,!0))}function On(t,e,n){return Ln(t,e,n)}function Pn(t,e){var n=t.length,o=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(n);o[0]=o[n-1]=1,Tn(t,o,e,0,n-1);var r,i=[];for(r=0;r<n;r++)o[r]&&i.push(t[r]);return i}function Tn(t,e,n,o,r){var i,s,a,l=0;for(s=o+1;s<=r-1;s++)(a=Ln(t[s],t[o],t[r],!0))>l&&(i=s,l=a);l>n&&(e[i]=1,Tn(t,e,n,o,i),Tn(t,e,n,i,r))}function Rn(t,e){for(var n=[t[0]],o=1,r=0,i=t.length;o<i;o++)An(t[o],t[r])>e&&(n.push(t[o]),r=o);return r<i-1&&n.push(t[i-1]),n}function Dn(t,e,n,o,r){var i,s,a,l=o?vn:Mn(t,n),c=Mn(e,n);for(vn=c;;){if(!(l|c))return[t,e];if(l&c)return!1;a=Mn(s=xn(t,e,i=l||c,n,r),n),i===l?(t=s,l=a):(e=s,c=a)}}function xn(t,e,n,o,r){var i,s,a=e.x-t.x,l=e.y-t.y,c=o.min,u=o.max;return 8&n?(i=t.x+a*(u.y-t.y)/l,s=u.y):4&n?(i=t.x+a*(c.y-t.y)/l,s=c.y):2&n?(i=u.x,s=t.y+l*(u.x-t.x)/a):1&n&&(i=c.x,s=t.y+l*(c.x-t.x)/a),new A(i,s,r)}function Mn(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function An(t,e){var n=e.x-t.x,o=e.y-t.y;return n*n+o*o}function Ln(t,e,n,o){var r,i=e.x,s=e.y,a=n.x-i,l=n.y-s,c=a*a+l*l;return c>0&&((r=((t.x-i)*a+(t.y-s)*l)/c)>1?(i=n.x,s=n.y):r>0&&(i+=a*r,s+=l*r)),a=t.x-i,l=t.y-s,o?a*a+l*l:new A(i,s)}function In(t){return!m(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function Nn(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),In(t)}function kn(t,e){var n,o,r,i,s,a,l,c;if(!t||0===t.length)throw new Error("latlngs not passed");In(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var u=[];for(var d in t)u.push(e.project(j(t[d])));var p=u.length;for(n=0,o=0;n<p-1;n++)o+=u[n].distanceTo(u[n+1])/2;if(0===o)c=u[0];else for(n=0,i=0;n<p-1;n++)if(s=u[n],a=u[n+1],(i+=r=s.distanceTo(a))>o){l=(i-o)/r,c=[a.x-l*(a.x-s.x),a.y-l*(a.y-s.y)];break}return e.unproject(N(c))}var Fn={__proto__:null,simplify:Sn,pointToSegmentDistance:wn,closestPointOnSegment:On,clipSegment:Dn,_getEdgeIntersection:xn,_getBitCode:Mn,_sqClosestPointOnSegment:Ln,isFlat:In,_flat:Nn,polylineCenter:kn};function Gn(t,e,n){var o,r,i,s,a,l,c,u,d,p=[1,4,2,8];for(r=0,c=t.length;r<c;r++)t[r]._code=Mn(t[r],e);for(s=0;s<4;s++){for(u=p[s],o=[],r=0,i=(c=t.length)-1;r<c;i=r++)a=t[r],l=t[i],a._code&u?l._code&u||((d=xn(l,a,u,e,n))._code=Mn(d,e),o.push(d)):(l._code&u&&((d=xn(l,a,u,e,n))._code=Mn(d,e),o.push(d)),o.push(a));t=o}return t}function Bn(t,e){var n,o,r,i,s,a,l,c,u;if(!t||0===t.length)throw new Error("latlngs not passed");In(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var d=[];for(var p in t)d.push(e.project(j(t[p])));var h=d.length;for(a=l=c=0,n=0,o=h-1;n<h;o=n++)r=d[n],i=d[o],s=r.y*i.x-i.y*r.x,l+=(r.x+i.x)*s,c+=(r.y+i.y)*s,a+=3*s;return u=0===a?d[0]:[l/a,c/a],e.unproject(N(u))}var Un={__proto__:null,clipPolygon:Gn,polygonCenter:Bn},jn={project:function(t){return new A(t.lng,t.lat)},unproject:function(t){return new U(t.y,t.x)},bounds:new k([-180,-90],[180,90])},Vn={R:6378137,R_MINOR:6356752.314245179,bounds:new k([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,o=t.lat*e,r=this.R_MINOR/n,i=Math.sqrt(1-r*r),s=i*Math.sin(o),a=Math.tan(Math.PI/4-o/2)/Math.pow((1-s)/(1+s),i/2);return o=-n*Math.log(Math.max(a,1e-10)),new A(t.lng*e*n,o)},unproject:function(t){for(var e,n=180/Math.PI,o=this.R,r=this.R_MINOR/o,i=Math.sqrt(1-r*r),s=Math.exp(-t.y/o),a=Math.PI/2-2*Math.atan(s),l=0,c=.1;l<15&&Math.abs(c)>1e-7;l++)e=i*Math.sin(a),e=Math.pow((1-e)/(1+e),i/2),a+=c=Math.PI/2-2*Math.atan(s*e)-a;return new U(a*n,t.x*n/o)}},Wn={__proto__:null,LonLat:jn,Mercator:Vn,SphericalMercator:z},Hn=n({},H,{code:"EPSG:3395",projection:Vn,transformation:function(){var t=.5/(Math.PI*Vn.R);return Y(t,.5,-t,.5)}()}),$n=n({},H,{code:"EPSG:4326",projection:jn,transformation:Y(1/180,1,-1/180,.5)}),zn=n({},W,{projection:jn,transformation:Y(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,o=e.lat-t.lat;return Math.sqrt(n*n+o*o)},infinite:!0});W.Earth=H,W.EPSG3395=Hn,W.EPSG3857=Z,W.EPSG900913=q,W.EPSG4326=$n,W.Simple=zn;var Kn=M.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[s(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[s(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",(function(){e.off(n,this)}),this)}this.onAdd(e),this.fire("add"),e.fire("layeradd",{layer:this})}}});rn.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=s(t);return this._layers[e]||(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=s(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return s(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){for(var e=0,n=(t=t?m(t)?t:[t]:[]).length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[s(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=s(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var o in this._zoomBoundLayers){var r=this._zoomBoundLayers[o].options;t=void 0===r.minZoom?t:Math.min(t,r.minZoom),e=void 0===r.maxZoom?e:Math.max(e,r.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Yn=Kn.extend({initialize:function(t,e){var n,o;if(h(this,e),this._layers={},t)for(n=0,o=t.length;n<o;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return("number"==typeof t?t:this.getLayerId(t))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,o=Array.prototype.slice.call(arguments,1);for(e in this._layers)(n=this._layers[e])[t]&&n[t].apply(n,o);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return s(t)}}),Zn=function(t,e){return new Yn(t,e)},qn=Yn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Yn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Yn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new G;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),Xn=function(t,e){return new qn(t,e)},Jn=R.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){h(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var o=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(o,t),(this.options.crossOrigin||""===this.options.crossOrigin)&&(o.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),o},_setIconStyles:function(t,e){var n=this.options,o=n[e+"Size"];"number"==typeof o&&(o=[o,o]);var r=N(o),i=N("shadow"===e&&n.shadowAnchor||n.iconAnchor||r&&r.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),i&&(t.style.marginLeft=-i.x+"px",t.style.marginTop=-i.y+"px"),r&&(t.style.width=r.x+"px",t.style.height=r.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return Gt.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Qn(t){return new Jn(t)}var to=Jn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return"string"!=typeof to.imagePath&&(to.imagePath=this._detectIconPath()),(this.options.imagePath||to.imagePath)+Jn.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var e=function(t,e,n){var o=e.exec(t);return o&&o[n]};return(t=e(t,/^url\((['"])?(.+)\1\)$/,2))&&e(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=ge("div","leaflet-default-icon-path",document.body),e=fe(t,"background-image")||fe(t,"backgroundImage");if(document.body.removeChild(t),e=this._stripUrl(e))return e;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-11-1):""}}),eo=yn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new bn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ee(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&be(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,o=this._marker.options.autoPanSpeed,r=this._marker.options.autoPanPadding,i=xe(e._icon),s=n.getPixelBounds(),a=n.getPixelOrigin(),l=F(s.min._subtract(a).add(r),s.max._subtract(a).subtract(r));if(!l.contains(i)){var c=N((Math.max(l.max.x,i.x)-l.max.x)/(s.max.x-l.max.x)-(Math.min(l.min.x,i.x)-l.min.x)/(s.min.x-l.min.x),(Math.max(l.max.y,i.y)-l.max.y)/(s.max.y-l.max.y)-(Math.min(l.min.y,i.y)-l.min.y)/(s.min.y-l.min.y)).multiplyBy(o);n.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),De(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=O(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(P(this._panRequest),this._panRequest=O(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,o=xe(e._icon),r=e._map.layerPointToLatLng(o);n&&De(n,o),e._latlng=r,t.latlng=r,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){P(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),no=Kn.extend({options:{icon:new to,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){h(this,e),this._latlng=j(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=j(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),o=!1;n!==this._icon&&(this._icon&&this._removeIcon(),o=!0,t.title&&(n.title=t.title),"IMG"===n.tagName&&(n.alt=t.alt||"")),Ee(n,e),t.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Be(n,"focus",this._panOnFocus,this);var r=t.icon.createShadow(this._shadow),i=!1;r!==this._shadow&&(this._removeShadow(),i=!0),r&&(Ee(r,e),r.alt=""),this._shadow=r,t.opacity<1&&this._updateOpacity(),o&&this.getPane().appendChild(this._icon),this._initInteraction(),r&&i&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&je(this._icon,"focus",this._panOnFocus,this),_e(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&_e(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&De(this._icon,t),this._shadow&&De(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(Ee(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),eo)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new eo(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Oe(this._icon,t),this._shadow&&Oe(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var e=this.options.icon.options,n=e.iconSize?N(e.iconSize):N(0,0),o=e.iconAnchor?N(e.iconAnchor):N(0,0);t.panInside(this._latlng,{paddingTopLeft:o,paddingBottomRight:n.subtract(o)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function oo(t,e){return new no(t,e)}var ro=Kn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return h(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),io=ro.extend({options:{fill:!0,radius:10},initialize:function(t,e){h(this,e),this._latlng=j(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=j(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return ro.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),o=[t+n,e+n];this._pxBounds=new k(this._point.subtract(o),this._point.add(o))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function so(t,e){return new io(t,e)}var ao=io.extend({initialize:function(t,e,o){if("number"==typeof e&&(e=n({},o,{radius:e})),h(this,e),this._latlng=j(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new G(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:ro.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,o=n.options.crs;if(o.distance===H.distance){var r=Math.PI/180,i=this._mRadius/H.R/r,s=n.project([e+i,t]),a=n.project([e-i,t]),l=s.add(a).divideBy(2),c=n.unproject(l).lat,u=Math.acos((Math.cos(i*r)-Math.sin(e*r)*Math.sin(c*r))/(Math.cos(e*r)*Math.cos(c*r)))/r;(isNaN(u)||0===u)&&(u=i/Math.cos(Math.PI/180*e)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(u)?0:l.x-n.project([c,t-u]).x,this._radiusY=l.y-s.y}else{var d=o.unproject(o.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(d).x}this._updateBounds()}});function lo(t,e,n){return new ao(t,e,n)}var co=ro.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){h(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,o=1/0,r=null,i=Ln,s=0,a=this._parts.length;s<a;s++)for(var l=this._parts[s],c=1,u=l.length;c<u;c++){var d=i(t,e=l[c-1],n=l[c],!0);d<o&&(o=d,r=i(t,e,n))}return r&&(r.distance=Math.sqrt(o)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return kn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=j(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new G,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return In(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=In(t),o=0,r=t.length;o<r;o++)n?(e[o]=j(t[o]),this._bounds.extend(e[o])):e[o]=this._convertLatLngs(t[o]);return e},_project:function(){var t=new k;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new A(t,t);this._rawPxBounds&&(this._pxBounds=new k([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)]))},_projectLatlngs:function(t,e,n){var o,r,i=t[0]instanceof U,s=t.length;if(i){for(r=[],o=0;o<s;o++)r[o]=this._map.latLngToLayerPoint(t[o]),n.extend(r[o]);e.push(r)}else for(o=0;o<s;o++)this._projectLatlngs(t[o],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,n,o,r,i,s,a,l=this._parts;for(e=0,o=0,r=this._rings.length;e<r;e++)for(n=0,i=(a=this._rings[e]).length;n<i-1;n++)(s=Dn(a[n],a[n+1],t,n,!0))&&(l[o]=l[o]||[],l[o].push(s[0]),s[1]===a[n+1]&&n!==i-2||(l[o].push(s[1]),o++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,o=t.length;n<o;n++)t[n]=Sn(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,o,r,i,s,a,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,i=this._parts.length;n<i;n++)for(o=0,r=(s=(a=this._parts[n]).length)-1;o<s;r=o++)if((e||0!==o)&&wn(t,a[r],a[o])<=l)return!0;return!1}});function uo(t,e){return new co(t,e)}co._flat=Nn;var po=co.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Bn(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var e=co.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof U&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){co.prototype._setLatLngs.call(this,t),In(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return In(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new A(e,e);if(t=new k(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var o,r=0,i=this._rings.length;r<i;r++)(o=Gn(this._rings[r],t,!0)).length&&this._parts.push(o)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,o,r,i,s,a,l,c=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(r=0,a=this._parts.length;r<a;r++)for(i=0,s=(l=(e=this._parts[r]).length)-1;i<l;s=i++)n=e[i],o=e[s],n.y>t.y!=o.y>t.y&&t.x<(o.x-n.x)*(t.y-n.y)/(o.y-n.y)+n.x&&(c=!c);return c||co.prototype._containsPoint.call(this,t,!0)}});function ho(t,e){return new po(t,e)}var fo=qn.extend({initialize:function(t,e){h(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,o,r=m(t)?t:t.features;if(r){for(e=0,n=r.length;e<n;e++)((o=r[e]).geometries||o.geometry||o.features||o.coordinates)&&this.addData(o);return this}var i=this.options;if(i.filter&&!i.filter(t))return this;var s=go(t,i);return s?(s.feature=bo(t),s.defaultOptions=s.options,this.resetStyle(s),i.onEachFeature&&i.onEachFeature(t,s),this.addLayer(s)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=n({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer((function(e){this._setLayerStyle(e,t)}),this)},_setLayerStyle:function(t,e){t.setStyle&&("function"==typeof e&&(e=e(t.feature)),t.setStyle(e))}});function go(t,e){var n,o,r,i,s="Feature"===t.type?t.geometry:t,a=s?s.coordinates:null,l=[],c=e&&e.pointToLayer,u=e&&e.coordsToLatLng||mo;if(!a&&!s)return null;switch(s.type){case"Point":return _o(c,t,n=u(a),e);case"MultiPoint":for(r=0,i=a.length;r<i;r++)n=u(a[r]),l.push(_o(c,t,n,e));return new qn(l);case"LineString":case"MultiLineString":return o=yo(a,"LineString"===s.type?0:1,u),new co(o,e);case"Polygon":case"MultiPolygon":return o=yo(a,"Polygon"===s.type?1:2,u),new po(o,e);case"GeometryCollection":for(r=0,i=s.geometries.length;r<i;r++){var d=go({geometry:s.geometries[r],type:"Feature",properties:t.properties},e);d&&l.push(d)}return new qn(l);case"FeatureCollection":for(r=0,i=s.features.length;r<i;r++){var p=go(s.features[r],e);p&&l.push(p)}return new qn(l);default:throw new Error("Invalid GeoJSON object.")}}function _o(t,e,n,o){return t?t(e,n):new no(n,o&&o.markersInheritOptions&&o)}function mo(t){return new U(t[1],t[0],t[2])}function yo(t,e,n){for(var o,r=[],i=0,s=t.length;i<s;i++)o=e?yo(t[i],e-1,n):(n||mo)(t[i]),r.push(o);return r}function vo(t,e){return void 0!==(t=j(t)).alt?[u(t.lng,e),u(t.lat,e),u(t.alt,e)]:[u(t.lng,e),u(t.lat,e)]}function Co(t,e,n,o){for(var r=[],i=0,s=t.length;i<s;i++)r.push(e?Co(t[i],In(t[i])?0:e-1,n,o):vo(t[i],o));return!e&&n&&r.push(r[0].slice()),r}function Eo(t,e){return t.feature?n({},t.feature,{geometry:e}):bo(e)}function bo(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var So={toGeoJSON:function(t){return Eo(this,{type:"Point",coordinates:vo(this.getLatLng(),t)})}};function wo(t,e){return new fo(t,e)}no.include(So),ao.include(So),io.include(So),co.include({toGeoJSON:function(t){var e=!In(this._latlngs);return Eo(this,{type:(e?"Multi":"")+"LineString",coordinates:Co(this._latlngs,e?1:0,!1,t)})}}),po.include({toGeoJSON:function(t){var e=!In(this._latlngs),n=e&&!In(this._latlngs[0]),o=Co(this._latlngs,n?2:e?1:0,!0,t);return e||(o=[o]),Eo(this,{type:(n?"Multi":"")+"Polygon",coordinates:o})}}),Yn.include({toMultiPoint:function(t){var e=[];return this.eachLayer((function(n){e.push(n.toGeoJSON(t).geometry.coordinates)})),Eo(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,o=[];return this.eachLayer((function(e){if(e.toGeoJSON){var r=e.toGeoJSON(t);if(n)o.push(r.geometry);else{var i=bo(r);"FeatureCollection"===i.type?o.push.apply(o,i.features):o.push(i)}}})),n?Eo(this,{geometries:o,type:"GeometryCollection"}):{type:"FeatureCollection",features:o}}});var Oo=wo,Po=Kn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=B(e),h(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ee(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){_e(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&ye(this._image),this},bringToBack:function(){return this._map&&ve(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=B(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:ge("img");Ee(e,"leaflet-image-layer"),this._zoomAnimated&&Ee(e,"leaflet-zoom-animated"),this.options.className&&Ee(e,this.options.className),e.onselectstart=c,e.onmousemove=c,e.onload=r(this.fire,this,"load"),e.onerror=r(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Re(this._image,n,e)},_reset:function(){var t=this._image,e=new k(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();De(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){Oe(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),To=function(t,e,n){return new Po(t,e,n)},Ro=Po.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:ge("video");if(Ee(e,"leaflet-image-layer"),this._zoomAnimated&&Ee(e,"leaflet-zoom-animated"),this.options.className&&Ee(e,this.options.className),e.onselectstart=c,e.onmousemove=c,e.onloadeddata=r(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),o=[],i=0;i<n.length;i++)o.push(n[i].src);this._url=n.length>0?o:[e.src]}else{m(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline;for(var s=0;s<this._url.length;s++){var a=ge("source");a.src=this._url[s],e.appendChild(a)}}}});function Do(t,e,n){return new Ro(t,e,n)}var xo=Po.extend({_initImage:function(){var t=this._image=this._url;Ee(t,"leaflet-image-layer"),this._zoomAnimated&&Ee(t,"leaflet-zoom-animated"),this.options.className&&Ee(t,this.options.className),t.onselectstart=c,t.onmousemove=c}});function Mo(t,e,n){return new xo(t,e,n)}var Ao=Kn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,e){t&&(t instanceof U||m(t))?(this._latlng=j(t),h(this,e)):(h(this,t),this._source=e),this.options.content&&(this._content=this.options.content)},openOn:function(t){return(t=arguments.length?t:this._source._map).hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Oe(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Oe(this._container,1),this.bringToFront(),this.options.interactive&&(Ee(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Oe(this._container,0),this._removeTimeout=setTimeout(r(_e,void 0,this._container),200)):_e(this._container),this.options.interactive&&(be(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=j(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ye(this._container),this},bringToBack:function(){return this._map&&ve(this._container),this},_prepareOpen:function(t){var e=this._source;if(!e._map)return!1;if(e instanceof qn){e=null;var n=this._source._layers;for(var o in n)if(n[o]._map){e=n[o];break}if(!e)return!1;this._source=e}if(!t)if(e.getCenter)t=e.getCenter();else if(e.getLatLng)t=e.getLatLng();else{if(!e.getBounds)throw new Error("Unable to get source layer LatLng.");t=e.getBounds().getCenter()}return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=N(this.options.offset),n=this._getAnchor();this._zoomAnimated?De(this._container,t.add(n)):e=e.add(t).add(n);var o=this._containerBottom=-e.y,r=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=o+"px",this._container.style.left=r+"px"}},_getAnchor:function(){return[0,0]}});rn.include({_initOverlay:function(t,e,n,o){var r=e;return r instanceof t||(r=new t(o).setContent(e)),n&&r.setLatLng(n),r}}),Kn.include({_initOverlay:function(t,e,n,o){var r=n;return r instanceof t?(h(r,o),r._source=this):(r=e&&!o?e:new t(o,this)).setContent(n),r}});var Lo=Ao.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return!(t=arguments.length?t:this._source._map).hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Ao.prototype.openOn.call(this,t)},onAdd:function(t){Ao.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ro||this._source.on("preclick",ze))},onRemove:function(t){Ao.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ro||this._source.off("preclick",ze))},getEvents:function(){var t=Ao.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",e=this._container=ge("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=ge("div",t+"-content-wrapper",e);if(this._contentNode=ge("div",t+"-content",n),Ye(e),Ke(this._contentNode),Be(e,"contextmenu",ze),this._tipContainer=ge("div",t+"-tip-container",e),this._tip=ge("div",t+"-tip",this._tipContainer),this.options.closeButton){var o=this._closeButton=ge("a",t+"-close-button",e);o.setAttribute("role","button"),o.setAttribute("aria-label","Close popup"),o.href="#close",o.innerHTML='<span aria-hidden="true">&#215;</span>',Be(o,"click",(function(t){Ze(t),this.close()}),this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var o=t.offsetHeight,r=this.options.maxHeight,i="leaflet-popup-scrolled";r&&o>r?(e.height=r+"px",Ee(t,i)):be(t,i),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();De(this._container,e.add(n))},_adjustPan:function(){if(this.options.autoPan)if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)this._autopanning=!1;else{var t=this._map,e=parseInt(fe(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,o=this._containerWidth,r=new A(this._containerLeft,-n-this._containerBottom);r._add(xe(this._container));var i=t.layerPointToContainerPoint(r),s=N(this.options.autoPanPadding),a=N(this.options.autoPanPaddingTopLeft||s),l=N(this.options.autoPanPaddingBottomRight||s),c=t.getSize(),u=0,d=0;i.x+o+l.x>c.x&&(u=i.x+o-c.x+l.x),i.x-u-a.x<0&&(u=i.x-a.x),i.y+n+l.y>c.y&&(d=i.y+n-c.y+l.y),i.y-d-a.y<0&&(d=i.y-a.y),(u||d)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([u,d]))}},_getAnchor:function(){return N(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Io=function(t,e){return new Lo(t,e)};rn.mergeOptions({closePopupOnClick:!0}),rn.include({openPopup:function(t,e,n){return this._initOverlay(Lo,t,e,n).openOn(this),this},closePopup:function(t){return(t=arguments.length?t:this._popup)&&t.close(),this}}),Kn.include({bindPopup:function(t,e){return this._popup=this._initOverlay(Lo,this._popup,t,e),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof qn||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(this._popup&&this._map){qe(t);var e=t.layer||t.target;this._popup._source!==e||e instanceof ro?(this._popup._source=e,this.openPopup(t.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var No=Ao.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Ao.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Ao.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Ao.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ge("div",t),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+s(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,n,o=this._map,r=this._container,i=o.latLngToContainerPoint(o.getCenter()),s=o.layerPointToContainerPoint(t),a=this.options.direction,l=r.offsetWidth,c=r.offsetHeight,u=N(this.options.offset),d=this._getAnchor();"top"===a?(e=l/2,n=c):"bottom"===a?(e=l/2,n=0):"center"===a?(e=l/2,n=c/2):"right"===a?(e=0,n=c/2):"left"===a?(e=l,n=c/2):s.x<i.x?(a="right",e=0,n=c/2):(a="left",e=l+2*(u.x+d.x),n=c/2),t=t.subtract(N(e,n,!0)).add(u).add(d),be(r,"leaflet-tooltip-right"),be(r,"leaflet-tooltip-left"),be(r,"leaflet-tooltip-top"),be(r,"leaflet-tooltip-bottom"),Ee(r,"leaflet-tooltip-"+a),De(r,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Oe(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return N(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ko=function(t,e){return new No(t,e)};rn.include({openTooltip:function(t,e,n){return this._initOverlay(No,t,e,n).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Kn.include({bindTooltip:function(t,e){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(No,this._tooltip,t,e),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof qn||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var e=t.getElement();e&&(Be(e,"focus",(function(){this._tooltip._source=t,this.openTooltip()}),this),Be(e,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var e=t.getElement();e&&e.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0))},_moveTooltip:function(t){var e,n,o=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),o=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(o)}});var Fo=Jn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(n.html instanceof Element?(me(e),e.appendChild(n.html)):e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var o=N(n.bgPos);e.style.backgroundPosition=-o.x+"px "+-o.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});function Go(t){return new Fo(t)}Jn.Default=to;var Bo=Kn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Gt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){h(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),_e(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ye(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ve(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=a(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof A?t:new A(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,o=-t(-1/0,1/0),r=0,i=n.length;r<i;r++)e=n[r].style.zIndex,n[r]!==this._container&&e&&(o=t(o,+e));isFinite(o)&&(this.options.zIndex=o+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Gt.ielt9){Oe(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var o in this._tiles){var r=this._tiles[o];if(r.current&&r.loaded){var i=Math.min(1,(t-r.loaded)/200);Oe(r.el,i),i<1?e=!0:(r.active?n=!0:this._onOpaqueTile(r),r.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(P(this._fadeFrame),this._fadeFrame=O(this._updateOpacity,this))}},_onOpaqueTile:c,_initContainer:function(){this._container||(this._container=ge("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(_e(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var o=this._levels[t],r=this._map;return o||((o=this._levels[t]={}).el=ge("div","leaflet-tile-container leaflet-zoom-animated",this._container),o.el.style.zIndex=e,o.origin=r.project(r.unproject(r.getPixelOrigin()),t).round(),o.zoom=t,this._setZoomTransform(o,r.getCenter(),r.getZoom()),c(o.el.offsetWidth),this._onCreateLevel(o)),this._level=o,o}},_onUpdateLevel:c,_onRemoveLevel:c,_onCreateLevel:c,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var o=e.coords;this._retainParent(o.x,o.y,o.z,o.z-5)||this._retainChildren(o.x,o.y,o.z,o.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)_e(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,o){var r=Math.floor(t/2),i=Math.floor(e/2),s=n-1,a=new A(+r,+i);a.z=+s;var l=this._tileCoordsToKey(a),c=this._tiles[l];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),s>o&&this._retainParent(r,i,s,o))},_retainChildren:function(t,e,n,o){for(var r=2*t;r<2*t+2;r++)for(var i=2*e;i<2*e+2;i++){var s=new A(r,i);s.z=n+1;var a=this._tileCoordsToKey(s),l=this._tiles[a];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<o&&this._retainChildren(r,i,n+1,o))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,o){var r=Math.round(e);r=void 0!==this.options.maxZoom&&r>this.options.maxZoom||void 0!==this.options.minZoom&&r<this.options.minZoom?void 0:this._clampZoom(r);var i=this.options.updateWhenZooming&&r!==this._tileZoom;o&&!i||(this._tileZoom=r,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==r&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var o=this._map.getZoomScale(n,t.zoom),r=t.origin.multiplyBy(o).subtract(this._map._getNewPixelOrigin(e,n)).round();Gt.any3d?Re(t.el,r,o):De(t.el,r)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),o=this._tileZoom,r=this._map.getPixelWorldBounds(this._tileZoom);r&&(this._globalTileRange=this._pxBoundsToTileRange(r)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],o).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],o).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],o).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],o).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),o=e.getZoomScale(n,this._tileZoom),r=e.project(t,this._tileZoom).floor(),i=e.getSize().divideBy(2*o);return new k(r.subtract(i),r.add(i))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var o=this._getTiledPixelBounds(t),r=this._pxBoundsToTileRange(o),i=r.getCenter(),s=[],a=this.options.keepBuffer,l=new k(r.getBottomLeft().subtract([a,-a]),r.getTopRight().add([a,-a]));if(!(isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.max.x)&&isFinite(r.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var u=this._tiles[c].coords;u.z===this._tileZoom&&l.contains(new A(u.x,u.y))||(this._tiles[c].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(t,n);else{for(var d=r.min.y;d<=r.max.y;d++)for(var p=r.min.x;p<=r.max.x;p++){var h=new A(p,d);if(h.z=this._tileZoom,this._isValidTile(h)){var f=this._tiles[this._tileCoordsToKey(h)];f?f.current=!0:s.push(h)}}if(s.sort((function(t,e){return t.distanceTo(i)-e.distanceTo(i)})),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var g=document.createDocumentFragment();for(p=0;p<s.length;p++)this._addTile(s[p],g);this._level.el.appendChild(g)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var o=this._tileCoordsToBounds(t);return B(this.options.bounds).overlaps(o)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),o=t.scaleBy(n),r=o.add(n);return[e.unproject(o,t.z),e.unproject(r,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new G(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new A(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(_e(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){Ee(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=c,t.onmousemove=c,Gt.ielt9&&this.options.opacity<1&&Oe(t,this.options.opacity)},_addTile:function(t,e){var n=this._getTilePos(t),o=this._tileCoordsToKey(t),i=this.createTile(this._wrapCoords(t),r(this._tileReady,this,t));this._initTile(i),this.createTile.length<2&&O(r(this._tileReady,this,t,null,i)),De(i,n),this._tiles[o]={el:i,coords:t,current:!0},e.appendChild(i),this.fire("tileloadstart",{tile:i,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var o=this._tileCoordsToKey(t);(n=this._tiles[o])&&(n.loaded=+new Date,this._map._fadeAnimated?(Oe(n.el,0),P(this._fadeFrame),this._fadeFrame=O(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(Ee(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Gt.ielt9||!this._map._fadeAnimated?O(this._pruneTiles,this):setTimeout(r(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new A(this._wrapX?l(t.x,this._wrapX):t.x,this._wrapY?l(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new k(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Uo(t){return new Bo(t)}var jo=Bo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,e){this._url=t,(e=h(this,e)).detectRetina&&Gt.retina&&e.maxZoom>0?(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom=Math.min(e.maxZoom,e.minZoom+1)):(e.zoomOffset++,e.maxZoom=Math.max(e.minZoom,e.maxZoom-1)),e.minZoom=Math.max(0,e.minZoom)):e.zoomReverse?e.minZoom=Math.min(e.maxZoom,e.minZoom):e.maxZoom=Math.max(e.minZoom,e.maxZoom),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return Be(n,"load",r(this._tileOnLoad,this,e,n)),Be(n,"error",r(this._tileOnError,this,e,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:Gt.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var o=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=o),e["-y"]=o}return _(this._url,n(e,this.options))},_tileOnLoad:function(t,e){Gt.ielt9?setTimeout(r(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var o=this.options.errorTileUrl;o&&e.getAttribute("src")!==o&&(e.src=o),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return this.options.zoomReverse&&(t=e-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=c,e.onerror=c,!e.complete)){e.src=v;var n=this._tiles[t].coords;_e(e),delete this._tiles[t],this.fire("tileabort",{tile:e,coords:n})}},_removeTile:function(t){var e=this._tiles[t];if(e)return e.el.setAttribute("src",v),Bo.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(this._map&&(!n||n.getAttribute("src")!==v))return Bo.prototype._tileReady.call(this,t,e,n)}});function Vo(t,e){return new jo(t,e)}var Wo=jo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var o=n({},this.defaultWmsParams);for(var r in e)r in this.options||(o[r]=e[r]);var i=(e=h(this,e)).detectRetina&&Gt.retina?2:1,s=this.getTileSize();o.width=s.x*i,o.height=s.y*i,this.wmsParams=o},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,jo.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,o=F(n.project(e[0]),n.project(e[1])),r=o.min,i=o.max,s=(this._wmsVersion>=1.3&&this._crs===$n?[r.y,r.x,i.y,i.x]:[r.x,r.y,i.x,i.y]).join(","),a=jo.prototype.getTileUrl.call(this,t);return a+f(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(t,e){return n(this.wmsParams,t),e||this.redraw(),this}});function Ho(t,e){return new Wo(t,e)}jo.WMS=Wo,Vo.wms=Ho;var $o=Kn.extend({options:{padding:.1},initialize:function(t){h(this,t),s(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&Ee(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),o=this._map.getSize().multiplyBy(.5+this.options.padding),r=this._map.project(this._center,e),i=o.multiplyBy(-n).add(r).subtract(this._map._getNewPixelOrigin(t,e));Gt.any3d?Re(this._container,i,n):De(this._container,i)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new k(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),zo=$o.extend({options:{tolerance:0},getEvents:function(){var t=$o.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){$o.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Be(t,"mousemove",this._onMouseMove,this),Be(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Be(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){P(this._redrawRequest),delete this._ctx,_e(this._container),je(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){$o.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),o=Gt.retina?2:1;De(e,t.min),e.width=o*n.x,e.height=o*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",Gt.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){$o.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[s(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,o=e.prev;n?n.prev=o:this._drawLast=o,o?o.next=n:this._drawFirst=n,delete t._order,delete this._layers[s(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){var e,n,o=t.options.dashArray.split(/[, ]+/),r=[];for(n=0;n<o.length;n++){if(e=Number(o[n]),isNaN(e))return;r.push(e)}t.options._dashArray=r}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||O(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new k,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var o=this._drawFirst;o;o=o.next)t=o.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,o,r,i,s=t._parts,a=s.length,l=this._ctx;if(a){for(l.beginPath(),n=0;n<a;n++){for(o=0,r=s[n].length;o<r;o++)i=s[n][o],l[o?"lineTo":"moveTo"](i.x,i.y);e&&l.closePath()}this._fillStroke(l,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,o=Math.max(Math.round(t._radius),1),r=(Math.max(Math.round(t._radiusY),1)||o)/o;1!==r&&(n.save(),n.scale(1,r)),n.beginPath(),n.arc(e.x,e.y/r,o,0,2*Math.PI,!1),1!==r&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,o=this._map.mouseEventToLayerPoint(t),r=this._drawFirst;r;r=r.next)(e=r.layer).options.interactive&&e._containsPoint(o)&&("click"!==t.type&&"preclick"!==t.type||!this._map._draggableMoved(e))&&(n=e);this._fireEvent(!!n&&[n],t)},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(be(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var n,o,i=this._drawFirst;i;i=i.next)(n=i.layer).options.interactive&&n._containsPoint(e)&&(o=n);o!==this._hoveredLayer&&(this._handleMouseOut(t),o&&(Ee(this._container,"leaflet-interactive"),this._fireEvent([o],t,"mouseover"),this._hoveredLayer=o)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(r((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var n=e.next,o=e.prev;n&&(n.prev=o,o?o.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var n=e.next,o=e.prev;o&&(o.next=n,n?n.prev=o:o&&(this._drawLast=o),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}});function Ko(t){return Gt.canvas?new zo(t):null}var Yo=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Zo={_initContainer:function(){this._container=ge("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||($o.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=Yo("shape");Ee(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=Yo("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[s(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;_e(e),t.removeInteractiveTarget(e),delete this._layers[s(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,o=t.options,r=t._container;r.stroked=!!o.stroke,r.filled=!!o.fill,o.stroke?(e||(e=t._stroke=Yo("stroke")),r.appendChild(e),e.weight=o.weight+"px",e.color=o.color,e.opacity=o.opacity,o.dashArray?e.dashStyle=m(o.dashArray)?o.dashArray.join(" "):o.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=o.lineCap.replace("butt","flat"),e.joinstyle=o.lineJoin):e&&(r.removeChild(e),t._stroke=null),o.fill?(n||(n=t._fill=Yo("fill")),r.appendChild(n),n.color=o.fillColor||o.color,n.opacity=o.fillOpacity):n&&(r.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),o=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+o+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){ye(t._container)},_bringToBack:function(t){ve(t._container)}},qo=Gt.vml?Yo:X,Xo=$o.extend({_initContainer:function(){this._container=qo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=qo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){_e(this._container),je(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){$o.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),De(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=qo("path");t.options.className&&Ee(e,t.options.className),t.options.interactive&&Ee(e,"leaflet-interactive"),this._updateStyle(t),this._layers[s(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){_e(t._path),t.removeInteractiveTarget(t._path),delete this._layers[s(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,J(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),o="a"+n+","+(Math.max(Math.round(t._radiusY),1)||n)+" 0 1,0 ",r=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+o+2*n+",0 "+o+2*-n+",0 ";this._setPath(t,r)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){ye(t._path)},_bringToBack:function(t){ve(t._path)}});function Jo(t){return Gt.svg||Gt.vml?new Xo(t):null}Gt.vml&&Xo.include(Zo),rn.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&Ko(t)||Jo(t)}});var Qo=po.extend({initialize:function(t,e){po.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=B(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function tr(t,e){return new Qo(t,e)}Xo.create=qo,Xo.pointsToPath=J,fo.geometryToLayer=go,fo.coordsToLatLng=mo,fo.coordsToLatLngs=yo,fo.latLngToCoords=vo,fo.latLngsToCoords=Co,fo.getFeature=Eo,fo.asFeature=bo,rn.mergeOptions({boxZoom:!0});var er=yn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Be(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){je(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){_e(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),ie(),Ae(),this._startPoint=this._map.mouseEventToContainerPoint(t),Be(document,{contextmenu:qe,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=ge("div","leaflet-zoom-box",this._container),Ee(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new k(this._point,this._startPoint),n=e.getSize();De(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(_e(this._box),be(this._container,"leaflet-crosshair")),se(),Le(),je(document,{contextmenu:qe,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(r(this._resetState,this),0);var e=new G(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});rn.addInitHook("addHandler","boxZoom",er),rn.mergeOptions({doubleClickZoom:!0});var nr=yn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),o=e.options.zoomDelta,r=t.originalEvent.shiftKey?n-o:n+o;"center"===e.options.doubleClickZoom?e.setZoom(r):e.setZoomAround(t.containerPoint,r)}});rn.addInitHook("addHandler","doubleClickZoom",nr),rn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var or=yn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new bn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}Ee(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){be(this._map._container,"leaflet-grab"),be(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=B(this._map.options.maxBounds);this._offsetLimit=F(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,o=this._draggable._newPos.x,r=(o-e+n)%t+e-n,i=(o+e+n)%t-e-n,s=Math.abs(r+n)<Math.abs(i+n)?r:i;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,n=e.options,o=!n.inertia||t.noInertia||this._times.length<2;if(e.fire("dragend",t),o)e.fire("moveend");else{this._prunePositions(+new Date);var r=this._lastPos.subtract(this._positions[0]),i=(this._lastTime-this._times[0])/1e3,s=n.easeLinearity,a=r.multiplyBy(s/i),l=a.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,l),u=a.multiplyBy(c/l),d=c/(n.inertiaDeceleration*s),p=u.multiplyBy(-d/2).round();p.x||p.y?(p=e._limitOffset(p,e.options.maxBounds),O((function(){e.panBy(p,{duration:d,easeLinearity:s,noMoveStart:!0,animate:!0})}))):e.fire("moveend")}}});rn.addInitHook("addHandler","dragging",or),rn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var rr=yn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Be(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),je(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,o=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(o,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,o=this._panKeys={},r=this.keyCodes;for(e=0,n=r.left.length;e<n;e++)o[r.left[e]]=[-1*t,0];for(e=0,n=r.right.length;e<n;e++)o[r.right[e]]=[t,0];for(e=0,n=r.down.length;e<n;e++)o[r.down[e]]=[0,t];for(e=0,n=r.up.length;e<n;e++)o[r.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,o=this._zoomKeys={},r=this.keyCodes;for(e=0,n=r.zoomIn.length;e<n;e++)o[r.zoomIn[e]]=t;for(e=0,n=r.zoomOut.length;e<n;e++)o[r.zoomOut[e]]=-t},_addHooks:function(){Be(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){je(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,o=this._map;if(n in this._panKeys){if(!o._panAnim||!o._panAnim._inProgress)if(e=this._panKeys[n],t.shiftKey&&(e=N(e).multiplyBy(3)),o.options.maxBounds&&(e=o._limitOffset(N(e),o.options.maxBounds)),o.options.worldCopyJump){var r=o.wrapLatLng(o.unproject(o.project(o.getCenter()).add(e)));o.panTo(r)}else o.panBy(e)}else if(n in this._zoomKeys)o.setZoom(o.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!o._popup||!o._popup.options.closeOnEscapeKey)return;o.closePopup()}qe(t)}}});rn.addInitHook("addHandler","keyboard",rr),rn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ir=yn.extend({addHooks:function(){Be(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){je(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=tn(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var o=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(r(this._performZoom,this),o),qe(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var o=this._delta/(4*this._map.options.wheelPxPerZoomLevel),r=4*Math.log(2/(1+Math.exp(-Math.abs(o))))/Math.LN2,i=n?Math.ceil(r/n)*n:r,s=t._limitZoom(e+(this._delta>0?i:-i))-e;this._delta=0,this._startTime=null,s&&("center"===t.options.scrollWheelZoom?t.setZoom(e+s):t.setZoomAround(this._lastMousePos,e+s))}});rn.addInitHook("addHandler","scrollWheelZoom",ir);var sr=600;rn.mergeOptions({tapHold:Gt.touchNative&&Gt.safari&&Gt.mobile,tapTolerance:15});var ar=yn.extend({addHooks:function(){Be(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){je(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),1===t.touches.length){var e=t.touches[0];this._startPos=this._newPos=new A(e.clientX,e.clientY),this._holdTimeout=setTimeout(r((function(){this._cancel(),this._isTapValid()&&(Be(document,"touchend",Ze),Be(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))}),this),sr),Be(document,"touchend touchcancel contextmenu",this._cancel,this),Be(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){je(document,"touchend",Ze),je(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),je(document,"touchend touchcancel contextmenu",this._cancel,this),je(document,"touchmove",this._onMove,this)},_onMove:function(t){var e=t.touches[0];this._newPos=new A(e.clientX,e.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,e){var n=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY});n._simulated=!0,e.target.dispatchEvent(n)}});rn.addInitHook("addHandler","tapHold",ar),rn.mergeOptions({touchZoom:Gt.touch,bounceAtZoomLimits:!0});var lr=yn.extend({addHooks:function(){Ee(this._map._container,"leaflet-touch-zoom"),Be(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){be(this._map._container,"leaflet-touch-zoom"),je(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),o=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(o)._divideBy(2))),this._startDist=n.distanceTo(o),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Be(document,"touchmove",this._onTouchMove,this),Be(document,"touchend touchcancel",this._onTouchEnd,this),Ze(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),o=e.mouseEventToContainerPoint(t.touches[1]),i=n.distanceTo(o)/this._startDist;if(this._zoom=e.getScaleZoom(i,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&i<1||this._zoom>e.getMaxZoom()&&i>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===i)return}else{var s=n._add(o)._divideBy(2)._subtract(this._centerPoint);if(1===i&&0===s.x&&0===s.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),P(this._animRequest);var a=r(e._move,e,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=O(a,this,!0),Ze(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,P(this._animRequest),je(document,"touchmove",this._onTouchMove,this),je(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});rn.addInitHook("addHandler","touchZoom",lr),rn.BoxZoom=er,rn.DoubleClickZoom=nr,rn.Drag=or,rn.Keyboard=rr,rn.ScrollWheelZoom=ir,rn.TapHold=ar,rn.TouchZoom=lr,t.Bounds=k,t.Browser=Gt,t.CRS=W,t.Canvas=zo,t.Circle=ao,t.CircleMarker=io,t.Class=R,t.Control=an,t.DivIcon=Fo,t.DivOverlay=Ao,t.DomEvent=nn,t.DomUtil=Ge,t.Draggable=bn,t.Evented=M,t.FeatureGroup=qn,t.GeoJSON=fo,t.GridLayer=Bo,t.Handler=yn,t.Icon=Jn,t.ImageOverlay=Po,t.LatLng=U,t.LatLngBounds=G,t.Layer=Kn,t.LayerGroup=Yn,t.LineUtil=Fn,t.Map=rn,t.Marker=no,t.Mixin=Cn,t.Path=ro,t.Point=A,t.PolyUtil=Un,t.Polygon=po,t.Polyline=co,t.Popup=Lo,t.PosAnimation=on,t.Projection=Wn,t.Rectangle=Qo,t.Renderer=$o,t.SVG=Xo,t.SVGOverlay=xo,t.TileLayer=jo,t.Tooltip=No,t.Transformation=K,t.Util=T,t.VideoOverlay=Ro,t.bind=r,t.bounds=F,t.canvas=Ko,t.circle=lo,t.circleMarker=so,t.control=ln,t.divIcon=Go,t.extend=n,t.featureGroup=Xn,t.geoJSON=wo,t.geoJson=Oo,t.gridLayer=Uo,t.icon=Qn,t.imageOverlay=To,t.latLng=j,t.latLngBounds=B,t.layerGroup=Zn,t.map=sn,t.marker=oo,t.point=N,t.polygon=ho,t.polyline=uo,t.popup=Io,t.rectangle=tr,t.setOptions=h,t.stamp=s,t.svg=Jo,t.svgOverlay=Mo,t.tileLayer=Vo,t.tooltip=ko,t.transformation=Y,t.version=e,t.videoOverlay=Do;var cr=window.L;t.noConflict=function(){return window.L=cr,this},window.L=t}(e)},6486:function(t,e,n){var o;t=n.nmd(t),function(){var r,i="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",l=16,c=32,u=64,d=128,p=256,h=1/0,f=9007199254740991,g=NaN,_=4294967295,m=[["ary",d],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",c],["partialRight",u],["rearg",p]],y="[object Arguments]",v="[object Array]",C="[object Boolean]",E="[object Date]",b="[object Error]",S="[object Function]",w="[object GeneratorFunction]",O="[object Map]",P="[object Number]",T="[object Object]",R="[object Promise]",D="[object RegExp]",x="[object Set]",M="[object String]",A="[object Symbol]",L="[object WeakMap]",I="[object ArrayBuffer]",N="[object DataView]",k="[object Float32Array]",F="[object Float64Array]",G="[object Int8Array]",B="[object Int16Array]",U="[object Int32Array]",j="[object Uint8Array]",V="[object Uint8ClampedArray]",W="[object Uint16Array]",H="[object Uint32Array]",$=/\b__p \+= '';/g,z=/\b(__p \+=) '' \+/g,K=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Y=/&(?:amp|lt|gt|quot|#39);/g,Z=/[&<>"']/g,q=RegExp(Y.source),X=RegExp(Z.source),J=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,tt=/<%=([\s\S]+?)%>/g,et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nt=/^\w*$/,ot=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rt=/[\\^$.*+?()[\]{}|]/g,it=RegExp(rt.source),st=/^\s+/,at=/\s/,lt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ct=/\{\n\/\* \[wrapped with (.+)\] \*/,ut=/,? & /,dt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,pt=/[()=,{}\[\]\/\s]/,ht=/\\(\\)?/g,ft=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,gt=/\w*$/,_t=/^[-+]0x[0-9a-f]+$/i,mt=/^0b[01]+$/i,yt=/^\[object .+?Constructor\]$/,vt=/^0o[0-7]+$/i,Ct=/^(?:0|[1-9]\d*)$/,Et=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,bt=/($^)/,St=/['\n\r\u2028\u2029\\]/g,wt="\\ud800-\\udfff",Ot="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Pt="\\u2700-\\u27bf",Tt="a-z\\xdf-\\xf6\\xf8-\\xff",Rt="A-Z\\xc0-\\xd6\\xd8-\\xde",Dt="\\ufe0e\\ufe0f",xt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Mt="[']",At="["+wt+"]",Lt="["+xt+"]",It="["+Ot+"]",Nt="\\d+",kt="["+Pt+"]",Ft="["+Tt+"]",Gt="[^"+wt+xt+Nt+Pt+Tt+Rt+"]",Bt="\\ud83c[\\udffb-\\udfff]",Ut="[^"+wt+"]",jt="(?:\\ud83c[\\udde6-\\uddff]){2}",Vt="[\\ud800-\\udbff][\\udc00-\\udfff]",Wt="["+Rt+"]",Ht="\\u200d",$t="(?:"+Ft+"|"+Gt+")",zt="(?:"+Wt+"|"+Gt+")",Kt="(?:['](?:d|ll|m|re|s|t|ve))?",Yt="(?:['](?:D|LL|M|RE|S|T|VE))?",Zt="(?:"+It+"|"+Bt+")"+"?",qt="["+Dt+"]?",Xt=qt+Zt+("(?:"+Ht+"(?:"+[Ut,jt,Vt].join("|")+")"+qt+Zt+")*"),Jt="(?:"+[kt,jt,Vt].join("|")+")"+Xt,Qt="(?:"+[Ut+It+"?",It,jt,Vt,At].join("|")+")",te=RegExp(Mt,"g"),ee=RegExp(It,"g"),ne=RegExp(Bt+"(?="+Bt+")|"+Qt+Xt,"g"),oe=RegExp([Wt+"?"+Ft+"+"+Kt+"(?="+[Lt,Wt,"$"].join("|")+")",zt+"+"+Yt+"(?="+[Lt,Wt+$t,"$"].join("|")+")",Wt+"?"+$t+"+"+Kt,Wt+"+"+Yt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Nt,Jt].join("|"),"g"),re=RegExp("["+Ht+wt+Ot+Dt+"]"),ie=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,se=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ae=-1,le={};le[k]=le[F]=le[G]=le[B]=le[U]=le[j]=le[V]=le[W]=le[H]=!0,le[y]=le[v]=le[I]=le[C]=le[N]=le[E]=le[b]=le[S]=le[O]=le[P]=le[T]=le[D]=le[x]=le[M]=le[L]=!1;var ce={};ce[y]=ce[v]=ce[I]=ce[N]=ce[C]=ce[E]=ce[k]=ce[F]=ce[G]=ce[B]=ce[U]=ce[O]=ce[P]=ce[T]=ce[D]=ce[x]=ce[M]=ce[A]=ce[j]=ce[V]=ce[W]=ce[H]=!0,ce[b]=ce[S]=ce[L]=!1;var ue={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},de=parseFloat,pe=parseInt,he="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,fe="object"==typeof self&&self&&self.Object===Object&&self,ge=he||fe||Function("return this")(),_e=e&&!e.nodeType&&e,me=_e&&t&&!t.nodeType&&t,ye=me&&me.exports===_e,ve=ye&&he.process,Ce=function(){try{var t=me&&me.require&&me.require("util").types;return t||ve&&ve.binding&&ve.binding("util")}catch(t){}}(),Ee=Ce&&Ce.isArrayBuffer,be=Ce&&Ce.isDate,Se=Ce&&Ce.isMap,we=Ce&&Ce.isRegExp,Oe=Ce&&Ce.isSet,Pe=Ce&&Ce.isTypedArray;function Te(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Re(t,e,n,o){for(var r=-1,i=null==t?0:t.length;++r<i;){var s=t[r];e(o,s,n(s),t)}return o}function De(t,e){for(var n=-1,o=null==t?0:t.length;++n<o&&!1!==e(t[n],n,t););return t}function xe(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Me(t,e){for(var n=-1,o=null==t?0:t.length;++n<o;)if(!e(t[n],n,t))return!1;return!0}function Ae(t,e){for(var n=-1,o=null==t?0:t.length,r=0,i=[];++n<o;){var s=t[n];e(s,n,t)&&(i[r++]=s)}return i}function Le(t,e){return!!(null==t?0:t.length)&&We(t,e,0)>-1}function Ie(t,e,n){for(var o=-1,r=null==t?0:t.length;++o<r;)if(n(e,t[o]))return!0;return!1}function Ne(t,e){for(var n=-1,o=null==t?0:t.length,r=Array(o);++n<o;)r[n]=e(t[n],n,t);return r}function ke(t,e){for(var n=-1,o=e.length,r=t.length;++n<o;)t[r+n]=e[n];return t}function Fe(t,e,n,o){var r=-1,i=null==t?0:t.length;for(o&&i&&(n=t[++r]);++r<i;)n=e(n,t[r],r,t);return n}function Ge(t,e,n,o){var r=null==t?0:t.length;for(o&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function Be(t,e){for(var n=-1,o=null==t?0:t.length;++n<o;)if(e(t[n],n,t))return!0;return!1}var Ue=Ke("length");function je(t,e,n){var o;return n(t,(function(t,n,r){if(e(t,n,r))return o=n,!1})),o}function Ve(t,e,n,o){for(var r=t.length,i=n+(o?1:-1);o?i--:++i<r;)if(e(t[i],i,t))return i;return-1}function We(t,e,n){return e==e?function(t,e,n){var o=n-1,r=t.length;for(;++o<r;)if(t[o]===e)return o;return-1}(t,e,n):Ve(t,$e,n)}function He(t,e,n,o){for(var r=n-1,i=t.length;++r<i;)if(o(t[r],e))return r;return-1}function $e(t){return t!=t}function ze(t,e){var n=null==t?0:t.length;return n?qe(t,e)/n:g}function Ke(t){return function(e){return null==e?r:e[t]}}function Ye(t){return function(e){return null==t?r:t[e]}}function Ze(t,e,n,o,r){return r(t,(function(t,r,i){n=o?(o=!1,t):e(n,t,r,i)})),n}function qe(t,e){for(var n,o=-1,i=t.length;++o<i;){var s=e(t[o]);s!==r&&(n=n===r?s:n+s)}return n}function Xe(t,e){for(var n=-1,o=Array(t);++n<t;)o[n]=e(n);return o}function Je(t){return t?t.slice(0,_n(t)+1).replace(st,""):t}function Qe(t){return function(e){return t(e)}}function tn(t,e){return Ne(e,(function(e){return t[e]}))}function en(t,e){return t.has(e)}function nn(t,e){for(var n=-1,o=t.length;++n<o&&We(e,t[n],0)>-1;);return n}function on(t,e){for(var n=t.length;n--&&We(e,t[n],0)>-1;);return n}var rn=Ye({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),sn=Ye({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(t){return"\\"+ue[t]}function ln(t){return re.test(t)}function cn(t){var e=-1,n=Array(t.size);return t.forEach((function(t,o){n[++e]=[o,t]})),n}function un(t,e){return function(n){return t(e(n))}}function dn(t,e){for(var n=-1,o=t.length,r=0,i=[];++n<o;){var s=t[n];s!==e&&s!==a||(t[n]=a,i[r++]=n)}return i}function pn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function hn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function fn(t){return ln(t)?function(t){var e=ne.lastIndex=0;for(;ne.test(t);)++e;return e}(t):Ue(t)}function gn(t){return ln(t)?function(t){return t.match(ne)||[]}(t):function(t){return t.split("")}(t)}function _n(t){for(var e=t.length;e--&&at.test(t.charAt(e)););return e}var mn=Ye({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var yn=function t(e){var n,o=(e=null==e?ge:yn.defaults(ge.Object(),e,yn.pick(ge,se))).Array,at=e.Date,wt=e.Error,Ot=e.Function,Pt=e.Math,Tt=e.Object,Rt=e.RegExp,Dt=e.String,xt=e.TypeError,Mt=o.prototype,At=Ot.prototype,Lt=Tt.prototype,It=e["__core-js_shared__"],Nt=At.toString,kt=Lt.hasOwnProperty,Ft=0,Gt=(n=/[^.]+$/.exec(It&&It.keys&&It.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Bt=Lt.toString,Ut=Nt.call(Tt),jt=ge._,Vt=Rt("^"+Nt.call(kt).replace(rt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wt=ye?e.Buffer:r,Ht=e.Symbol,$t=e.Uint8Array,zt=Wt?Wt.allocUnsafe:r,Kt=un(Tt.getPrototypeOf,Tt),Yt=Tt.create,Zt=Lt.propertyIsEnumerable,qt=Mt.splice,Xt=Ht?Ht.isConcatSpreadable:r,Jt=Ht?Ht.iterator:r,Qt=Ht?Ht.toStringTag:r,ne=function(){try{var t=hi(Tt,"defineProperty");return t({},"",{}),t}catch(t){}}(),re=e.clearTimeout!==ge.clearTimeout&&e.clearTimeout,ue=at&&at.now!==ge.Date.now&&at.now,he=e.setTimeout!==ge.setTimeout&&e.setTimeout,fe=Pt.ceil,_e=Pt.floor,me=Tt.getOwnPropertySymbols,ve=Wt?Wt.isBuffer:r,Ce=e.isFinite,Ue=Mt.join,Ye=un(Tt.keys,Tt),vn=Pt.max,Cn=Pt.min,En=at.now,bn=e.parseInt,Sn=Pt.random,wn=Mt.reverse,On=hi(e,"DataView"),Pn=hi(e,"Map"),Tn=hi(e,"Promise"),Rn=hi(e,"Set"),Dn=hi(e,"WeakMap"),xn=hi(Tt,"create"),Mn=Dn&&new Dn,An={},Ln=Bi(On),In=Bi(Pn),Nn=Bi(Tn),kn=Bi(Rn),Fn=Bi(Dn),Gn=Ht?Ht.prototype:r,Bn=Gn?Gn.valueOf:r,Un=Gn?Gn.toString:r;function jn(t){if(na(t)&&!$s(t)&&!(t instanceof $n)){if(t instanceof Hn)return t;if(kt.call(t,"__wrapped__"))return Ui(t)}return new Hn(t)}var Vn=function(){function t(){}return function(e){if(!ea(e))return{};if(Yt)return Yt(e);t.prototype=e;var n=new t;return t.prototype=r,n}}();function Wn(){}function Hn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=r}function $n(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=_,this.__views__=[]}function zn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function Kn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function Yn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function Zn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Yn;++e<n;)this.add(t[e])}function qn(t){var e=this.__data__=new Kn(t);this.size=e.size}function Xn(t,e){var n=$s(t),o=!n&&Hs(t),r=!n&&!o&&Zs(t),i=!n&&!o&&!r&&ua(t),s=n||o||r||i,a=s?Xe(t.length,Dt):[],l=a.length;for(var c in t)!e&&!kt.call(t,c)||s&&("length"==c||r&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ci(c,l))||a.push(c);return a}function Jn(t){var e=t.length;return e?t[qo(0,e-1)]:r}function Qn(t,e){return ki(Mr(t),lo(e,0,t.length))}function to(t){return ki(Mr(t))}function eo(t,e,n){(n!==r&&!js(t[e],n)||n===r&&!(e in t))&&so(t,e,n)}function no(t,e,n){var o=t[e];kt.call(t,e)&&js(o,n)&&(n!==r||e in t)||so(t,e,n)}function oo(t,e){for(var n=t.length;n--;)if(js(t[n][0],e))return n;return-1}function ro(t,e,n,o){return fo(t,(function(t,r,i){e(o,t,n(t),i)})),o}function io(t,e){return t&&Ar(e,Aa(e),t)}function so(t,e,n){"__proto__"==e&&ne?ne(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function ao(t,e){for(var n=-1,i=e.length,s=o(i),a=null==t;++n<i;)s[n]=a?r:Ta(t,e[n]);return s}function lo(t,e,n){return t==t&&(n!==r&&(t=t<=n?t:n),e!==r&&(t=t>=e?t:e)),t}function co(t,e,n,o,i,s){var a,l=1&e,c=2&e,u=4&e;if(n&&(a=i?n(t,o,i,s):n(t)),a!==r)return a;if(!ea(t))return t;var d=$s(t);if(d){if(a=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&kt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!l)return Mr(t,a)}else{var p=_i(t),h=p==S||p==w;if(Zs(t))return Or(t,l);if(p==T||p==y||h&&!i){if(a=c||h?{}:yi(t),!l)return c?function(t,e){return Ar(t,gi(t),e)}(t,function(t,e){return t&&Ar(e,La(e),t)}(a,t)):function(t,e){return Ar(t,fi(t),e)}(t,io(a,t))}else{if(!ce[p])return i?t:{};a=function(t,e,n){var o=t.constructor;switch(e){case I:return Pr(t);case C:case E:return new o(+t);case N:return function(t,e){var n=e?Pr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case k:case F:case G:case B:case U:case j:case V:case W:case H:return Tr(t,n);case O:return new o;case P:case M:return new o(t);case D:return function(t){var e=new t.constructor(t.source,gt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case x:return new o;case A:return r=t,Bn?Tt(Bn.call(r)):{}}var r}(t,p,l)}}s||(s=new qn);var f=s.get(t);if(f)return f;s.set(t,a),aa(t)?t.forEach((function(o){a.add(co(o,e,n,o,t,s))})):oa(t)&&t.forEach((function(o,r){a.set(r,co(o,e,n,r,t,s))}));var g=d?r:(u?c?si:ii:c?La:Aa)(t);return De(g||t,(function(o,r){g&&(o=t[r=o]),no(a,r,co(o,e,n,r,t,s))})),a}function uo(t,e,n){var o=n.length;if(null==t)return!o;for(t=Tt(t);o--;){var i=n[o],s=e[i],a=t[i];if(a===r&&!(i in t)||!s(a))return!1}return!0}function po(t,e,n){if("function"!=typeof t)throw new xt(i);return Ai((function(){t.apply(r,n)}),e)}function ho(t,e,n,o){var r=-1,i=Le,s=!0,a=t.length,l=[],c=e.length;if(!a)return l;n&&(e=Ne(e,Qe(n))),o?(i=Ie,s=!1):e.length>=200&&(i=en,s=!1,e=new Zn(e));t:for(;++r<a;){var u=t[r],d=null==n?u:n(u);if(u=o||0!==u?u:0,s&&d==d){for(var p=c;p--;)if(e[p]===d)continue t;l.push(u)}else i(e,d,o)||l.push(u)}return l}jn.templateSettings={escape:J,evaluate:Q,interpolate:tt,variable:"",imports:{_:jn}},jn.prototype=Wn.prototype,jn.prototype.constructor=jn,Hn.prototype=Vn(Wn.prototype),Hn.prototype.constructor=Hn,$n.prototype=Vn(Wn.prototype),$n.prototype.constructor=$n,zn.prototype.clear=function(){this.__data__=xn?xn(null):{},this.size=0},zn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},zn.prototype.get=function(t){var e=this.__data__;if(xn){var n=e[t];return n===s?r:n}return kt.call(e,t)?e[t]:r},zn.prototype.has=function(t){var e=this.__data__;return xn?e[t]!==r:kt.call(e,t)},zn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=xn&&e===r?s:e,this},Kn.prototype.clear=function(){this.__data__=[],this.size=0},Kn.prototype.delete=function(t){var e=this.__data__,n=oo(e,t);return!(n<0)&&(n==e.length-1?e.pop():qt.call(e,n,1),--this.size,!0)},Kn.prototype.get=function(t){var e=this.__data__,n=oo(e,t);return n<0?r:e[n][1]},Kn.prototype.has=function(t){return oo(this.__data__,t)>-1},Kn.prototype.set=function(t,e){var n=this.__data__,o=oo(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this},Yn.prototype.clear=function(){this.size=0,this.__data__={hash:new zn,map:new(Pn||Kn),string:new zn}},Yn.prototype.delete=function(t){var e=di(this,t).delete(t);return this.size-=e?1:0,e},Yn.prototype.get=function(t){return di(this,t).get(t)},Yn.prototype.has=function(t){return di(this,t).has(t)},Yn.prototype.set=function(t,e){var n=di(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this},Zn.prototype.add=Zn.prototype.push=function(t){return this.__data__.set(t,s),this},Zn.prototype.has=function(t){return this.__data__.has(t)},qn.prototype.clear=function(){this.__data__=new Kn,this.size=0},qn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},qn.prototype.get=function(t){return this.__data__.get(t)},qn.prototype.has=function(t){return this.__data__.has(t)},qn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Kn){var o=n.__data__;if(!Pn||o.length<199)return o.push([t,e]),this.size=++n.size,this;n=this.__data__=new Yn(o)}return n.set(t,e),this.size=n.size,this};var fo=Nr(bo),go=Nr(So,!0);function _o(t,e){var n=!0;return fo(t,(function(t,o,r){return n=!!e(t,o,r)})),n}function mo(t,e,n){for(var o=-1,i=t.length;++o<i;){var s=t[o],a=e(s);if(null!=a&&(l===r?a==a&&!ca(a):n(a,l)))var l=a,c=s}return c}function yo(t,e){var n=[];return fo(t,(function(t,o,r){e(t,o,r)&&n.push(t)})),n}function vo(t,e,n,o,r){var i=-1,s=t.length;for(n||(n=vi),r||(r=[]);++i<s;){var a=t[i];e>0&&n(a)?e>1?vo(a,e-1,n,o,r):ke(r,a):o||(r[r.length]=a)}return r}var Co=kr(),Eo=kr(!0);function bo(t,e){return t&&Co(t,e,Aa)}function So(t,e){return t&&Eo(t,e,Aa)}function wo(t,e){return Ae(e,(function(e){return Js(t[e])}))}function Oo(t,e){for(var n=0,o=(e=Er(e,t)).length;null!=t&&n<o;)t=t[Gi(e[n++])];return n&&n==o?t:r}function Po(t,e,n){var o=e(t);return $s(t)?o:ke(o,n(t))}function To(t){return null==t?t===r?"[object Undefined]":"[object Null]":Qt&&Qt in Tt(t)?function(t){var e=kt.call(t,Qt),n=t[Qt];try{t[Qt]=r;var o=!0}catch(t){}var i=Bt.call(t);o&&(e?t[Qt]=n:delete t[Qt]);return i}(t):function(t){return Bt.call(t)}(t)}function Ro(t,e){return t>e}function Do(t,e){return null!=t&&kt.call(t,e)}function xo(t,e){return null!=t&&e in Tt(t)}function Mo(t,e,n){for(var i=n?Ie:Le,s=t[0].length,a=t.length,l=a,c=o(a),u=1/0,d=[];l--;){var p=t[l];l&&e&&(p=Ne(p,Qe(e))),u=Cn(p.length,u),c[l]=!n&&(e||s>=120&&p.length>=120)?new Zn(l&&p):r}p=t[0];var h=-1,f=c[0];t:for(;++h<s&&d.length<u;){var g=p[h],_=e?e(g):g;if(g=n||0!==g?g:0,!(f?en(f,_):i(d,_,n))){for(l=a;--l;){var m=c[l];if(!(m?en(m,_):i(t[l],_,n)))continue t}f&&f.push(_),d.push(g)}}return d}function Ao(t,e,n){var o=null==(t=Di(t,e=Er(e,t)))?t:t[Gi(Xi(e))];return null==o?r:Te(o,t,n)}function Lo(t){return na(t)&&To(t)==y}function Io(t,e,n,o,i){return t===e||(null==t||null==e||!na(t)&&!na(e)?t!=t&&e!=e:function(t,e,n,o,i,s){var a=$s(t),l=$s(e),c=a?v:_i(t),u=l?v:_i(e),d=(c=c==y?T:c)==T,p=(u=u==y?T:u)==T,h=c==u;if(h&&Zs(t)){if(!Zs(e))return!1;a=!0,d=!1}if(h&&!d)return s||(s=new qn),a||ua(t)?oi(t,e,n,o,i,s):function(t,e,n,o,r,i,s){switch(n){case N:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case I:return!(t.byteLength!=e.byteLength||!i(new $t(t),new $t(e)));case C:case E:case P:return js(+t,+e);case b:return t.name==e.name&&t.message==e.message;case D:case M:return t==e+"";case O:var a=cn;case x:var l=1&o;if(a||(a=pn),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;o|=2,s.set(t,e);var u=oi(a(t),a(e),o,r,i,s);return s.delete(t),u;case A:if(Bn)return Bn.call(t)==Bn.call(e)}return!1}(t,e,c,n,o,i,s);if(!(1&n)){var f=d&&kt.call(t,"__wrapped__"),g=p&&kt.call(e,"__wrapped__");if(f||g){var _=f?t.value():t,m=g?e.value():e;return s||(s=new qn),i(_,m,n,o,s)}}if(!h)return!1;return s||(s=new qn),function(t,e,n,o,i,s){var a=1&n,l=ii(t),c=l.length,u=ii(e),d=u.length;if(c!=d&&!a)return!1;var p=c;for(;p--;){var h=l[p];if(!(a?h in e:kt.call(e,h)))return!1}var f=s.get(t),g=s.get(e);if(f&&g)return f==e&&g==t;var _=!0;s.set(t,e),s.set(e,t);var m=a;for(;++p<c;){var y=t[h=l[p]],v=e[h];if(o)var C=a?o(v,y,h,e,t,s):o(y,v,h,t,e,s);if(!(C===r?y===v||i(y,v,n,o,s):C)){_=!1;break}m||(m="constructor"==h)}if(_&&!m){var E=t.constructor,b=e.constructor;E==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof E&&E instanceof E&&"function"==typeof b&&b instanceof b||(_=!1)}return s.delete(t),s.delete(e),_}(t,e,n,o,i,s)}(t,e,n,o,Io,i))}function No(t,e,n,o){var i=n.length,s=i,a=!o;if(null==t)return!s;for(t=Tt(t);i--;){var l=n[i];if(a&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++i<s;){var c=(l=n[i])[0],u=t[c],d=l[1];if(a&&l[2]){if(u===r&&!(c in t))return!1}else{var p=new qn;if(o)var h=o(u,d,c,t,e,p);if(!(h===r?Io(d,u,3,o,p):h))return!1}}return!0}function ko(t){return!(!ea(t)||(e=t,Gt&&Gt in e))&&(Js(t)?Vt:yt).test(Bi(t));var e}function Fo(t){return"function"==typeof t?t:null==t?rl:"object"==typeof t?$s(t)?Wo(t[0],t[1]):Vo(t):hl(t)}function Go(t){if(!Oi(t))return Ye(t);var e=[];for(var n in Tt(t))kt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Bo(t){if(!ea(t))return function(t){var e=[];if(null!=t)for(var n in Tt(t))e.push(n);return e}(t);var e=Oi(t),n=[];for(var o in t)("constructor"!=o||!e&&kt.call(t,o))&&n.push(o);return n}function Uo(t,e){return t<e}function jo(t,e){var n=-1,r=Ks(t)?o(t.length):[];return fo(t,(function(t,o,i){r[++n]=e(t,o,i)})),r}function Vo(t){var e=pi(t);return 1==e.length&&e[0][2]?Ti(e[0][0],e[0][1]):function(n){return n===t||No(n,t,e)}}function Wo(t,e){return bi(t)&&Pi(e)?Ti(Gi(t),e):function(n){var o=Ta(n,t);return o===r&&o===e?Ra(n,t):Io(e,o,3)}}function Ho(t,e,n,o,i){t!==e&&Co(e,(function(s,a){if(i||(i=new qn),ea(s))!function(t,e,n,o,i,s,a){var l=xi(t,n),c=xi(e,n),u=a.get(c);if(u)return void eo(t,n,u);var d=s?s(l,c,n+"",t,e,a):r,p=d===r;if(p){var h=$s(c),f=!h&&Zs(c),g=!h&&!f&&ua(c);d=c,h||f||g?$s(l)?d=l:Ys(l)?d=Mr(l):f?(p=!1,d=Or(c,!0)):g?(p=!1,d=Tr(c,!0)):d=[]:ia(c)||Hs(c)?(d=l,Hs(l)?d=ya(l):ea(l)&&!Js(l)||(d=yi(c))):p=!1}p&&(a.set(c,d),i(d,c,o,s,a),a.delete(c));eo(t,n,d)}(t,e,a,n,Ho,o,i);else{var l=o?o(xi(t,a),s,a+"",t,e,i):r;l===r&&(l=s),eo(t,a,l)}}),La)}function $o(t,e){var n=t.length;if(n)return Ci(e+=e<0?n:0,n)?t[e]:r}function zo(t,e,n){e=e.length?Ne(e,(function(t){return $s(t)?function(e){return Oo(e,1===t.length?t[0]:t)}:t})):[rl];var o=-1;e=Ne(e,Qe(ui()));var r=jo(t,(function(t,n,r){var i=Ne(e,(function(e){return e(t)}));return{criteria:i,index:++o,value:t}}));return function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(r,(function(t,e){return function(t,e,n){var o=-1,r=t.criteria,i=e.criteria,s=r.length,a=n.length;for(;++o<s;){var l=Rr(r[o],i[o]);if(l)return o>=a?l:l*("desc"==n[o]?-1:1)}return t.index-e.index}(t,e,n)}))}function Ko(t,e,n){for(var o=-1,r=e.length,i={};++o<r;){var s=e[o],a=Oo(t,s);n(a,s)&&er(i,Er(s,t),a)}return i}function Yo(t,e,n,o){var r=o?He:We,i=-1,s=e.length,a=t;for(t===e&&(e=Mr(e)),n&&(a=Ne(t,Qe(n)));++i<s;)for(var l=0,c=e[i],u=n?n(c):c;(l=r(a,u,l,o))>-1;)a!==t&&qt.call(a,l,1),qt.call(t,l,1);return t}function Zo(t,e){for(var n=t?e.length:0,o=n-1;n--;){var r=e[n];if(n==o||r!==i){var i=r;Ci(r)?qt.call(t,r,1):hr(t,r)}}return t}function qo(t,e){return t+_e(Sn()*(e-t+1))}function Xo(t,e){var n="";if(!t||e<1||e>f)return n;do{e%2&&(n+=t),(e=_e(e/2))&&(t+=t)}while(e);return n}function Jo(t,e){return Li(Ri(t,e,rl),t+"")}function Qo(t){return Jn(ja(t))}function tr(t,e){var n=ja(t);return ki(n,lo(e,0,n.length))}function er(t,e,n,o){if(!ea(t))return t;for(var i=-1,s=(e=Er(e,t)).length,a=s-1,l=t;null!=l&&++i<s;){var c=Gi(e[i]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(i!=a){var d=l[c];(u=o?o(d,c,l):r)===r&&(u=ea(d)?d:Ci(e[i+1])?[]:{})}no(l,c,u),l=l[c]}return t}var nr=Mn?function(t,e){return Mn.set(t,e),t}:rl,or=ne?function(t,e){return ne(t,"toString",{configurable:!0,enumerable:!1,value:el(e),writable:!0})}:rl;function rr(t){return ki(ja(t))}function ir(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=o(i);++r<i;)s[r]=t[r+e];return s}function sr(t,e){var n;return fo(t,(function(t,o,r){return!(n=e(t,o,r))})),!!n}function ar(t,e,n){var o=0,r=null==t?o:t.length;if("number"==typeof e&&e==e&&r<=2147483647){for(;o<r;){var i=o+r>>>1,s=t[i];null!==s&&!ca(s)&&(n?s<=e:s<e)?o=i+1:r=i}return r}return lr(t,e,rl,n)}function lr(t,e,n,o){var i=0,s=null==t?0:t.length;if(0===s)return 0;for(var a=(e=n(e))!=e,l=null===e,c=ca(e),u=e===r;i<s;){var d=_e((i+s)/2),p=n(t[d]),h=p!==r,f=null===p,g=p==p,_=ca(p);if(a)var m=o||g;else m=u?g&&(o||h):l?g&&h&&(o||!f):c?g&&h&&!f&&(o||!_):!f&&!_&&(o?p<=e:p<e);m?i=d+1:s=d}return Cn(s,4294967294)}function cr(t,e){for(var n=-1,o=t.length,r=0,i=[];++n<o;){var s=t[n],a=e?e(s):s;if(!n||!js(a,l)){var l=a;i[r++]=0===s?0:s}}return i}function ur(t){return"number"==typeof t?t:ca(t)?g:+t}function dr(t){if("string"==typeof t)return t;if($s(t))return Ne(t,dr)+"";if(ca(t))return Un?Un.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function pr(t,e,n){var o=-1,r=Le,i=t.length,s=!0,a=[],l=a;if(n)s=!1,r=Ie;else if(i>=200){var c=e?null:Xr(t);if(c)return pn(c);s=!1,r=en,l=new Zn}else l=e?[]:a;t:for(;++o<i;){var u=t[o],d=e?e(u):u;if(u=n||0!==u?u:0,s&&d==d){for(var p=l.length;p--;)if(l[p]===d)continue t;e&&l.push(d),a.push(u)}else r(l,d,n)||(l!==a&&l.push(d),a.push(u))}return a}function hr(t,e){return null==(t=Di(t,e=Er(e,t)))||delete t[Gi(Xi(e))]}function fr(t,e,n,o){return er(t,e,n(Oo(t,e)),o)}function gr(t,e,n,o){for(var r=t.length,i=o?r:-1;(o?i--:++i<r)&&e(t[i],i,t););return n?ir(t,o?0:i,o?i+1:r):ir(t,o?i+1:0,o?r:i)}function _r(t,e){var n=t;return n instanceof $n&&(n=n.value()),Fe(e,(function(t,e){return e.func.apply(e.thisArg,ke([t],e.args))}),n)}function mr(t,e,n){var r=t.length;if(r<2)return r?pr(t[0]):[];for(var i=-1,s=o(r);++i<r;)for(var a=t[i],l=-1;++l<r;)l!=i&&(s[i]=ho(s[i]||a,t[l],e,n));return pr(vo(s,1),e,n)}function yr(t,e,n){for(var o=-1,i=t.length,s=e.length,a={};++o<i;){var l=o<s?e[o]:r;n(a,t[o],l)}return a}function vr(t){return Ys(t)?t:[]}function Cr(t){return"function"==typeof t?t:rl}function Er(t,e){return $s(t)?t:bi(t,e)?[t]:Fi(va(t))}var br=Jo;function Sr(t,e,n){var o=t.length;return n=n===r?o:n,!e&&n>=o?t:ir(t,e,n)}var wr=re||function(t){return ge.clearTimeout(t)};function Or(t,e){if(e)return t.slice();var n=t.length,o=zt?zt(n):new t.constructor(n);return t.copy(o),o}function Pr(t){var e=new t.constructor(t.byteLength);return new $t(e).set(new $t(t)),e}function Tr(t,e){var n=e?Pr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Rr(t,e){if(t!==e){var n=t!==r,o=null===t,i=t==t,s=ca(t),a=e!==r,l=null===e,c=e==e,u=ca(e);if(!l&&!u&&!s&&t>e||s&&a&&c&&!l&&!u||o&&a&&c||!n&&c||!i)return 1;if(!o&&!s&&!u&&t<e||u&&n&&i&&!o&&!s||l&&n&&i||!a&&i||!c)return-1}return 0}function Dr(t,e,n,r){for(var i=-1,s=t.length,a=n.length,l=-1,c=e.length,u=vn(s-a,0),d=o(c+u),p=!r;++l<c;)d[l]=e[l];for(;++i<a;)(p||i<s)&&(d[n[i]]=t[i]);for(;u--;)d[l++]=t[i++];return d}function xr(t,e,n,r){for(var i=-1,s=t.length,a=-1,l=n.length,c=-1,u=e.length,d=vn(s-l,0),p=o(d+u),h=!r;++i<d;)p[i]=t[i];for(var f=i;++c<u;)p[f+c]=e[c];for(;++a<l;)(h||i<s)&&(p[f+n[a]]=t[i++]);return p}function Mr(t,e){var n=-1,r=t.length;for(e||(e=o(r));++n<r;)e[n]=t[n];return e}function Ar(t,e,n,o){var i=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var l=e[s],c=o?o(n[l],t[l],l,n,t):r;c===r&&(c=t[l]),i?so(n,l,c):no(n,l,c)}return n}function Lr(t,e){return function(n,o){var r=$s(n)?Re:ro,i=e?e():{};return r(n,t,ui(o,2),i)}}function Ir(t){return Jo((function(e,n){var o=-1,i=n.length,s=i>1?n[i-1]:r,a=i>2?n[2]:r;for(s=t.length>3&&"function"==typeof s?(i--,s):r,a&&Ei(n[0],n[1],a)&&(s=i<3?r:s,i=1),e=Tt(e);++o<i;){var l=n[o];l&&t(e,l,o,s)}return e}))}function Nr(t,e){return function(n,o){if(null==n)return n;if(!Ks(n))return t(n,o);for(var r=n.length,i=e?r:-1,s=Tt(n);(e?i--:++i<r)&&!1!==o(s[i],i,s););return n}}function kr(t){return function(e,n,o){for(var r=-1,i=Tt(e),s=o(e),a=s.length;a--;){var l=s[t?a:++r];if(!1===n(i[l],l,i))break}return e}}function Fr(t){return function(e){var n=ln(e=va(e))?gn(e):r,o=n?n[0]:e.charAt(0),i=n?Sr(n,1).join(""):e.slice(1);return o[t]()+i}}function Gr(t){return function(e){return Fe(Ja(Ha(e).replace(te,"")),t,"")}}function Br(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Vn(t.prototype),o=t.apply(n,e);return ea(o)?o:n}}function Ur(t){return function(e,n,o){var i=Tt(e);if(!Ks(e)){var s=ui(n,3);e=Aa(e),n=function(t){return s(i[t],t,i)}}var a=t(e,n,o);return a>-1?i[s?e[a]:a]:r}}function jr(t){return ri((function(e){var n=e.length,o=n,s=Hn.prototype.thru;for(t&&e.reverse();o--;){var a=e[o];if("function"!=typeof a)throw new xt(i);if(s&&!l&&"wrapper"==li(a))var l=new Hn([],!0)}for(o=l?o:n;++o<n;){var c=li(a=e[o]),u="wrapper"==c?ai(a):r;l=u&&Si(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?l[li(u[0])].apply(l,u[3]):1==a.length&&Si(a)?l[c]():l.thru(a)}return function(){var t=arguments,o=t[0];if(l&&1==t.length&&$s(o))return l.plant(o).value();for(var r=0,i=n?e[r].apply(this,t):o;++r<n;)i=e[r].call(this,i);return i}}))}function Vr(t,e,n,i,s,a,l,c,u,p){var h=e&d,f=1&e,g=2&e,_=24&e,m=512&e,y=g?r:Br(t);return function d(){for(var v=arguments.length,C=o(v),E=v;E--;)C[E]=arguments[E];if(_)var b=ci(d),S=function(t,e){for(var n=t.length,o=0;n--;)t[n]===e&&++o;return o}(C,b);if(i&&(C=Dr(C,i,s,_)),a&&(C=xr(C,a,l,_)),v-=S,_&&v<p){var w=dn(C,b);return Zr(t,e,Vr,d.placeholder,n,C,w,c,u,p-v)}var O=f?n:this,P=g?O[t]:t;return v=C.length,c?C=function(t,e){var n=t.length,o=Cn(e.length,n),i=Mr(t);for(;o--;){var s=e[o];t[o]=Ci(s,n)?i[s]:r}return t}(C,c):m&&v>1&&C.reverse(),h&&u<v&&(C.length=u),this&&this!==ge&&this instanceof d&&(P=y||Br(P)),P.apply(O,C)}}function Wr(t,e){return function(n,o){return function(t,e,n,o){return bo(t,(function(t,r,i){e(o,n(t),r,i)})),o}(n,t,e(o),{})}}function Hr(t,e){return function(n,o){var i;if(n===r&&o===r)return e;if(n!==r&&(i=n),o!==r){if(i===r)return o;"string"==typeof n||"string"==typeof o?(n=dr(n),o=dr(o)):(n=ur(n),o=ur(o)),i=t(n,o)}return i}}function $r(t){return ri((function(e){return e=Ne(e,Qe(ui())),Jo((function(n){var o=this;return t(e,(function(t){return Te(t,o,n)}))}))}))}function zr(t,e){var n=(e=e===r?" ":dr(e)).length;if(n<2)return n?Xo(e,t):e;var o=Xo(e,fe(t/fn(e)));return ln(e)?Sr(gn(o),0,t).join(""):o.slice(0,t)}function Kr(t){return function(e,n,i){return i&&"number"!=typeof i&&Ei(e,n,i)&&(n=i=r),e=fa(e),n===r?(n=e,e=0):n=fa(n),function(t,e,n,r){for(var i=-1,s=vn(fe((e-t)/(n||1)),0),a=o(s);s--;)a[r?s:++i]=t,t+=n;return a}(e,n,i=i===r?e<n?1:-1:fa(i),t)}}function Yr(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ma(e),n=ma(n)),t(e,n)}}function Zr(t,e,n,o,i,s,a,l,d,p){var h=8&e;e|=h?c:u,4&(e&=~(h?u:c))||(e&=-4);var f=[t,e,i,h?s:r,h?a:r,h?r:s,h?r:a,l,d,p],g=n.apply(r,f);return Si(t)&&Mi(g,f),g.placeholder=o,Ii(g,t,e)}function qr(t){var e=Pt[t];return function(t,n){if(t=ma(t),(n=null==n?0:Cn(ga(n),292))&&Ce(t)){var o=(va(t)+"e").split("e");return+((o=(va(e(o[0]+"e"+(+o[1]+n)))+"e").split("e"))[0]+"e"+(+o[1]-n))}return e(t)}}var Xr=Rn&&1/pn(new Rn([,-0]))[1]==h?function(t){return new Rn(t)}:cl;function Jr(t){return function(e){var n=_i(e);return n==O?cn(e):n==x?hn(e):function(t,e){return Ne(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Qr(t,e,n,s,h,f,g,_){var m=2&e;if(!m&&"function"!=typeof t)throw new xt(i);var y=s?s.length:0;if(y||(e&=-97,s=h=r),g=g===r?g:vn(ga(g),0),_=_===r?_:ga(_),y-=h?h.length:0,e&u){var v=s,C=h;s=h=r}var E=m?r:ai(t),b=[t,e,n,s,h,v,C,f,g,_];if(E&&function(t,e){var n=t[1],o=e[1],r=n|o,i=r<131,s=o==d&&8==n||o==d&&n==p&&t[7].length<=e[8]||384==o&&e[7].length<=e[8]&&8==n;if(!i&&!s)return t;1&o&&(t[2]=e[2],r|=1&n?0:4);var l=e[3];if(l){var c=t[3];t[3]=c?Dr(c,l,e[4]):l,t[4]=c?dn(t[3],a):e[4]}(l=e[5])&&(c=t[5],t[5]=c?xr(c,l,e[6]):l,t[6]=c?dn(t[5],a):e[6]);(l=e[7])&&(t[7]=l);o&d&&(t[8]=null==t[8]?e[8]:Cn(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=r}(b,E),t=b[0],e=b[1],n=b[2],s=b[3],h=b[4],!(_=b[9]=b[9]===r?m?0:t.length:vn(b[9]-y,0))&&24&e&&(e&=-25),e&&1!=e)S=8==e||e==l?function(t,e,n){var i=Br(t);return function s(){for(var a=arguments.length,l=o(a),c=a,u=ci(s);c--;)l[c]=arguments[c];var d=a<3&&l[0]!==u&&l[a-1]!==u?[]:dn(l,u);return(a-=d.length)<n?Zr(t,e,Vr,s.placeholder,r,l,d,r,r,n-a):Te(this&&this!==ge&&this instanceof s?i:t,this,l)}}(t,e,_):e!=c&&33!=e||h.length?Vr.apply(r,b):function(t,e,n,r){var i=1&e,s=Br(t);return function e(){for(var a=-1,l=arguments.length,c=-1,u=r.length,d=o(u+l),p=this&&this!==ge&&this instanceof e?s:t;++c<u;)d[c]=r[c];for(;l--;)d[c++]=arguments[++a];return Te(p,i?n:this,d)}}(t,e,n,s);else var S=function(t,e,n){var o=1&e,r=Br(t);return function e(){return(this&&this!==ge&&this instanceof e?r:t).apply(o?n:this,arguments)}}(t,e,n);return Ii((E?nr:Mi)(S,b),t,e)}function ti(t,e,n,o){return t===r||js(t,Lt[n])&&!kt.call(o,n)?e:t}function ei(t,e,n,o,i,s){return ea(t)&&ea(e)&&(s.set(e,t),Ho(t,e,r,ei,s),s.delete(e)),t}function ni(t){return ia(t)?r:t}function oi(t,e,n,o,i,s){var a=1&n,l=t.length,c=e.length;if(l!=c&&!(a&&c>l))return!1;var u=s.get(t),d=s.get(e);if(u&&d)return u==e&&d==t;var p=-1,h=!0,f=2&n?new Zn:r;for(s.set(t,e),s.set(e,t);++p<l;){var g=t[p],_=e[p];if(o)var m=a?o(_,g,p,e,t,s):o(g,_,p,t,e,s);if(m!==r){if(m)continue;h=!1;break}if(f){if(!Be(e,(function(t,e){if(!en(f,e)&&(g===t||i(g,t,n,o,s)))return f.push(e)}))){h=!1;break}}else if(g!==_&&!i(g,_,n,o,s)){h=!1;break}}return s.delete(t),s.delete(e),h}function ri(t){return Li(Ri(t,r,zi),t+"")}function ii(t){return Po(t,Aa,fi)}function si(t){return Po(t,La,gi)}var ai=Mn?function(t){return Mn.get(t)}:cl;function li(t){for(var e=t.name+"",n=An[e],o=kt.call(An,e)?n.length:0;o--;){var r=n[o],i=r.func;if(null==i||i==t)return r.name}return e}function ci(t){return(kt.call(jn,"placeholder")?jn:t).placeholder}function ui(){var t=jn.iteratee||il;return t=t===il?Fo:t,arguments.length?t(arguments[0],arguments[1]):t}function di(t,e){var n,o,r=t.__data__;return("string"==(o=typeof(n=e))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function pi(t){for(var e=Aa(t),n=e.length;n--;){var o=e[n],r=t[o];e[n]=[o,r,Pi(r)]}return e}function hi(t,e){var n=function(t,e){return null==t?r:t[e]}(t,e);return ko(n)?n:r}var fi=me?function(t){return null==t?[]:(t=Tt(t),Ae(me(t),(function(e){return Zt.call(t,e)})))}:_l,gi=me?function(t){for(var e=[];t;)ke(e,fi(t)),t=Kt(t);return e}:_l,_i=To;function mi(t,e,n){for(var o=-1,r=(e=Er(e,t)).length,i=!1;++o<r;){var s=Gi(e[o]);if(!(i=null!=t&&n(t,s)))break;t=t[s]}return i||++o!=r?i:!!(r=null==t?0:t.length)&&ta(r)&&Ci(s,r)&&($s(t)||Hs(t))}function yi(t){return"function"!=typeof t.constructor||Oi(t)?{}:Vn(Kt(t))}function vi(t){return $s(t)||Hs(t)||!!(Xt&&t&&t[Xt])}function Ci(t,e){var n=typeof t;return!!(e=null==e?f:e)&&("number"==n||"symbol"!=n&&Ct.test(t))&&t>-1&&t%1==0&&t<e}function Ei(t,e,n){if(!ea(n))return!1;var o=typeof e;return!!("number"==o?Ks(n)&&Ci(e,n.length):"string"==o&&e in n)&&js(n[e],t)}function bi(t,e){if($s(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!ca(t))||(nt.test(t)||!et.test(t)||null!=e&&t in Tt(e))}function Si(t){var e=li(t),n=jn[e];if("function"!=typeof n||!(e in $n.prototype))return!1;if(t===n)return!0;var o=ai(n);return!!o&&t===o[0]}(On&&_i(new On(new ArrayBuffer(1)))!=N||Pn&&_i(new Pn)!=O||Tn&&_i(Tn.resolve())!=R||Rn&&_i(new Rn)!=x||Dn&&_i(new Dn)!=L)&&(_i=function(t){var e=To(t),n=e==T?t.constructor:r,o=n?Bi(n):"";if(o)switch(o){case Ln:return N;case In:return O;case Nn:return R;case kn:return x;case Fn:return L}return e});var wi=It?Js:ml;function Oi(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Lt)}function Pi(t){return t==t&&!ea(t)}function Ti(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==r||t in Tt(n)))}}function Ri(t,e,n){return e=vn(e===r?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=vn(r.length-e,0),a=o(s);++i<s;)a[i]=r[e+i];i=-1;for(var l=o(e+1);++i<e;)l[i]=r[i];return l[e]=n(a),Te(t,this,l)}}function Di(t,e){return e.length<2?t:Oo(t,ir(e,0,-1))}function xi(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Mi=Ni(nr),Ai=he||function(t,e){return ge.setTimeout(t,e)},Li=Ni(or);function Ii(t,e,n){var o=e+"";return Li(t,function(t,e){var n=e.length;if(!n)return t;var o=n-1;return e[o]=(n>1?"& ":"")+e[o],e=e.join(n>2?", ":" "),t.replace(lt,"{\n/* [wrapped with "+e+"] */\n")}(o,function(t,e){return De(m,(function(n){var o="_."+n[0];e&n[1]&&!Le(t,o)&&t.push(o)})),t.sort()}(function(t){var e=t.match(ct);return e?e[1].split(ut):[]}(o),n)))}function Ni(t){var e=0,n=0;return function(){var o=En(),i=16-(o-n);if(n=o,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(r,arguments)}}function ki(t,e){var n=-1,o=t.length,i=o-1;for(e=e===r?o:e;++n<e;){var s=qo(n,i),a=t[s];t[s]=t[n],t[n]=a}return t.length=e,t}var Fi=function(t){var e=Ns(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(ot,(function(t,n,o,r){e.push(o?r.replace(ht,"$1"):n||t)})),e}));function Gi(t){if("string"==typeof t||ca(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Bi(t){if(null!=t){try{return Nt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ui(t){if(t instanceof $n)return t.clone();var e=new Hn(t.__wrapped__,t.__chain__);return e.__actions__=Mr(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var ji=Jo((function(t,e){return Ys(t)?ho(t,vo(e,1,Ys,!0)):[]})),Vi=Jo((function(t,e){var n=Xi(e);return Ys(n)&&(n=r),Ys(t)?ho(t,vo(e,1,Ys,!0),ui(n,2)):[]})),Wi=Jo((function(t,e){var n=Xi(e);return Ys(n)&&(n=r),Ys(t)?ho(t,vo(e,1,Ys,!0),r,n):[]}));function Hi(t,e,n){var o=null==t?0:t.length;if(!o)return-1;var r=null==n?0:ga(n);return r<0&&(r=vn(o+r,0)),Ve(t,ui(e,3),r)}function $i(t,e,n){var o=null==t?0:t.length;if(!o)return-1;var i=o-1;return n!==r&&(i=ga(n),i=n<0?vn(o+i,0):Cn(i,o-1)),Ve(t,ui(e,3),i,!0)}function zi(t){return(null==t?0:t.length)?vo(t,1):[]}function Ki(t){return t&&t.length?t[0]:r}var Yi=Jo((function(t){var e=Ne(t,vr);return e.length&&e[0]===t[0]?Mo(e):[]})),Zi=Jo((function(t){var e=Xi(t),n=Ne(t,vr);return e===Xi(n)?e=r:n.pop(),n.length&&n[0]===t[0]?Mo(n,ui(e,2)):[]})),qi=Jo((function(t){var e=Xi(t),n=Ne(t,vr);return(e="function"==typeof e?e:r)&&n.pop(),n.length&&n[0]===t[0]?Mo(n,r,e):[]}));function Xi(t){var e=null==t?0:t.length;return e?t[e-1]:r}var Ji=Jo(Qi);function Qi(t,e){return t&&t.length&&e&&e.length?Yo(t,e):t}var ts=ri((function(t,e){var n=null==t?0:t.length,o=ao(t,e);return Zo(t,Ne(e,(function(t){return Ci(t,n)?+t:t})).sort(Rr)),o}));function es(t){return null==t?t:wn.call(t)}var ns=Jo((function(t){return pr(vo(t,1,Ys,!0))})),os=Jo((function(t){var e=Xi(t);return Ys(e)&&(e=r),pr(vo(t,1,Ys,!0),ui(e,2))})),rs=Jo((function(t){var e=Xi(t);return e="function"==typeof e?e:r,pr(vo(t,1,Ys,!0),r,e)}));function is(t){if(!t||!t.length)return[];var e=0;return t=Ae(t,(function(t){if(Ys(t))return e=vn(t.length,e),!0})),Xe(e,(function(e){return Ne(t,Ke(e))}))}function ss(t,e){if(!t||!t.length)return[];var n=is(t);return null==e?n:Ne(n,(function(t){return Te(e,r,t)}))}var as=Jo((function(t,e){return Ys(t)?ho(t,e):[]})),ls=Jo((function(t){return mr(Ae(t,Ys))})),cs=Jo((function(t){var e=Xi(t);return Ys(e)&&(e=r),mr(Ae(t,Ys),ui(e,2))})),us=Jo((function(t){var e=Xi(t);return e="function"==typeof e?e:r,mr(Ae(t,Ys),r,e)})),ds=Jo(is);var ps=Jo((function(t){var e=t.length,n=e>1?t[e-1]:r;return n="function"==typeof n?(t.pop(),n):r,ss(t,n)}));function hs(t){var e=jn(t);return e.__chain__=!0,e}function fs(t,e){return e(t)}var gs=ri((function(t){var e=t.length,n=e?t[0]:0,o=this.__wrapped__,i=function(e){return ao(e,t)};return!(e>1||this.__actions__.length)&&o instanceof $n&&Ci(n)?((o=o.slice(n,+n+(e?1:0))).__actions__.push({func:fs,args:[i],thisArg:r}),new Hn(o,this.__chain__).thru((function(t){return e&&!t.length&&t.push(r),t}))):this.thru(i)}));var _s=Lr((function(t,e,n){kt.call(t,n)?++t[n]:so(t,n,1)}));var ms=Ur(Hi),ys=Ur($i);function vs(t,e){return($s(t)?De:fo)(t,ui(e,3))}function Cs(t,e){return($s(t)?xe:go)(t,ui(e,3))}var Es=Lr((function(t,e,n){kt.call(t,n)?t[n].push(e):so(t,n,[e])}));var bs=Jo((function(t,e,n){var r=-1,i="function"==typeof e,s=Ks(t)?o(t.length):[];return fo(t,(function(t){s[++r]=i?Te(e,t,n):Ao(t,e,n)})),s})),Ss=Lr((function(t,e,n){so(t,n,e)}));function ws(t,e){return($s(t)?Ne:jo)(t,ui(e,3))}var Os=Lr((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var Ps=Jo((function(t,e){if(null==t)return[];var n=e.length;return n>1&&Ei(t,e[0],e[1])?e=[]:n>2&&Ei(e[0],e[1],e[2])&&(e=[e[0]]),zo(t,vo(e,1),[])})),Ts=ue||function(){return ge.Date.now()};function Rs(t,e,n){return e=n?r:e,e=t&&null==e?t.length:e,Qr(t,d,r,r,r,r,e)}function Ds(t,e){var n;if("function"!=typeof e)throw new xt(i);return t=ga(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=r),n}}var xs=Jo((function(t,e,n){var o=1;if(n.length){var r=dn(n,ci(xs));o|=c}return Qr(t,o,e,n,r)})),Ms=Jo((function(t,e,n){var o=3;if(n.length){var r=dn(n,ci(Ms));o|=c}return Qr(e,o,t,n,r)}));function As(t,e,n){var o,s,a,l,c,u,d=0,p=!1,h=!1,f=!0;if("function"!=typeof t)throw new xt(i);function g(e){var n=o,i=s;return o=s=r,d=e,l=t.apply(i,n)}function _(t){var n=t-u;return u===r||n>=e||n<0||h&&t-d>=a}function m(){var t=Ts();if(_(t))return y(t);c=Ai(m,function(t){var n=e-(t-u);return h?Cn(n,a-(t-d)):n}(t))}function y(t){return c=r,f&&o?g(t):(o=s=r,l)}function v(){var t=Ts(),n=_(t);if(o=arguments,s=this,u=t,n){if(c===r)return function(t){return d=t,c=Ai(m,e),p?g(t):l}(u);if(h)return wr(c),c=Ai(m,e),g(u)}return c===r&&(c=Ai(m,e)),l}return e=ma(e)||0,ea(n)&&(p=!!n.leading,a=(h="maxWait"in n)?vn(ma(n.maxWait)||0,e):a,f="trailing"in n?!!n.trailing:f),v.cancel=function(){c!==r&&wr(c),d=0,o=u=s=c=r},v.flush=function(){return c===r?l:y(Ts())},v}var Ls=Jo((function(t,e){return po(t,1,e)})),Is=Jo((function(t,e,n){return po(t,ma(e)||0,n)}));function Ns(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new xt(i);var n=function(){var o=arguments,r=e?e.apply(this,o):o[0],i=n.cache;if(i.has(r))return i.get(r);var s=t.apply(this,o);return n.cache=i.set(r,s)||i,s};return n.cache=new(Ns.Cache||Yn),n}function ks(t){if("function"!=typeof t)throw new xt(i);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ns.Cache=Yn;var Fs=br((function(t,e){var n=(e=1==e.length&&$s(e[0])?Ne(e[0],Qe(ui())):Ne(vo(e,1),Qe(ui()))).length;return Jo((function(o){for(var r=-1,i=Cn(o.length,n);++r<i;)o[r]=e[r].call(this,o[r]);return Te(t,this,o)}))})),Gs=Jo((function(t,e){var n=dn(e,ci(Gs));return Qr(t,c,r,e,n)})),Bs=Jo((function(t,e){var n=dn(e,ci(Bs));return Qr(t,u,r,e,n)})),Us=ri((function(t,e){return Qr(t,p,r,r,r,e)}));function js(t,e){return t===e||t!=t&&e!=e}var Vs=Yr(Ro),Ws=Yr((function(t,e){return t>=e})),Hs=Lo(function(){return arguments}())?Lo:function(t){return na(t)&&kt.call(t,"callee")&&!Zt.call(t,"callee")},$s=o.isArray,zs=Ee?Qe(Ee):function(t){return na(t)&&To(t)==I};function Ks(t){return null!=t&&ta(t.length)&&!Js(t)}function Ys(t){return na(t)&&Ks(t)}var Zs=ve||ml,qs=be?Qe(be):function(t){return na(t)&&To(t)==E};function Xs(t){if(!na(t))return!1;var e=To(t);return e==b||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!ia(t)}function Js(t){if(!ea(t))return!1;var e=To(t);return e==S||e==w||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Qs(t){return"number"==typeof t&&t==ga(t)}function ta(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=f}function ea(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function na(t){return null!=t&&"object"==typeof t}var oa=Se?Qe(Se):function(t){return na(t)&&_i(t)==O};function ra(t){return"number"==typeof t||na(t)&&To(t)==P}function ia(t){if(!na(t)||To(t)!=T)return!1;var e=Kt(t);if(null===e)return!0;var n=kt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Nt.call(n)==Ut}var sa=we?Qe(we):function(t){return na(t)&&To(t)==D};var aa=Oe?Qe(Oe):function(t){return na(t)&&_i(t)==x};function la(t){return"string"==typeof t||!$s(t)&&na(t)&&To(t)==M}function ca(t){return"symbol"==typeof t||na(t)&&To(t)==A}var ua=Pe?Qe(Pe):function(t){return na(t)&&ta(t.length)&&!!le[To(t)]};var da=Yr(Uo),pa=Yr((function(t,e){return t<=e}));function ha(t){if(!t)return[];if(Ks(t))return la(t)?gn(t):Mr(t);if(Jt&&t[Jt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Jt]());var e=_i(t);return(e==O?cn:e==x?pn:ja)(t)}function fa(t){return t?(t=ma(t))===h||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ga(t){var e=fa(t),n=e%1;return e==e?n?e-n:e:0}function _a(t){return t?lo(ga(t),0,_):0}function ma(t){if("number"==typeof t)return t;if(ca(t))return g;if(ea(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ea(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Je(t);var n=mt.test(t);return n||vt.test(t)?pe(t.slice(2),n?2:8):_t.test(t)?g:+t}function ya(t){return Ar(t,La(t))}function va(t){return null==t?"":dr(t)}var Ca=Ir((function(t,e){if(Oi(e)||Ks(e))Ar(e,Aa(e),t);else for(var n in e)kt.call(e,n)&&no(t,n,e[n])})),Ea=Ir((function(t,e){Ar(e,La(e),t)})),ba=Ir((function(t,e,n,o){Ar(e,La(e),t,o)})),Sa=Ir((function(t,e,n,o){Ar(e,Aa(e),t,o)})),wa=ri(ao);var Oa=Jo((function(t,e){t=Tt(t);var n=-1,o=e.length,i=o>2?e[2]:r;for(i&&Ei(e[0],e[1],i)&&(o=1);++n<o;)for(var s=e[n],a=La(s),l=-1,c=a.length;++l<c;){var u=a[l],d=t[u];(d===r||js(d,Lt[u])&&!kt.call(t,u))&&(t[u]=s[u])}return t})),Pa=Jo((function(t){return t.push(r,ei),Te(Na,r,t)}));function Ta(t,e,n){var o=null==t?r:Oo(t,e);return o===r?n:o}function Ra(t,e){return null!=t&&mi(t,e,xo)}var Da=Wr((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Bt.call(e)),t[e]=n}),el(rl)),xa=Wr((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Bt.call(e)),kt.call(t,e)?t[e].push(n):t[e]=[n]}),ui),Ma=Jo(Ao);function Aa(t){return Ks(t)?Xn(t):Go(t)}function La(t){return Ks(t)?Xn(t,!0):Bo(t)}var Ia=Ir((function(t,e,n){Ho(t,e,n)})),Na=Ir((function(t,e,n,o){Ho(t,e,n,o)})),ka=ri((function(t,e){var n={};if(null==t)return n;var o=!1;e=Ne(e,(function(e){return e=Er(e,t),o||(o=e.length>1),e})),Ar(t,si(t),n),o&&(n=co(n,7,ni));for(var r=e.length;r--;)hr(n,e[r]);return n}));var Fa=ri((function(t,e){return null==t?{}:function(t,e){return Ko(t,e,(function(e,n){return Ra(t,n)}))}(t,e)}));function Ga(t,e){if(null==t)return{};var n=Ne(si(t),(function(t){return[t]}));return e=ui(e),Ko(t,n,(function(t,n){return e(t,n[0])}))}var Ba=Jr(Aa),Ua=Jr(La);function ja(t){return null==t?[]:tn(t,Aa(t))}var Va=Gr((function(t,e,n){return e=e.toLowerCase(),t+(n?Wa(e):e)}));function Wa(t){return Xa(va(t).toLowerCase())}function Ha(t){return(t=va(t))&&t.replace(Et,rn).replace(ee,"")}var $a=Gr((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),za=Gr((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Ka=Fr("toLowerCase");var Ya=Gr((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Za=Gr((function(t,e,n){return t+(n?" ":"")+Xa(e)}));var qa=Gr((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Xa=Fr("toUpperCase");function Ja(t,e,n){return t=va(t),(e=n?r:e)===r?function(t){return ie.test(t)}(t)?function(t){return t.match(oe)||[]}(t):function(t){return t.match(dt)||[]}(t):t.match(e)||[]}var Qa=Jo((function(t,e){try{return Te(t,r,e)}catch(t){return Xs(t)?t:new wt(t)}})),tl=ri((function(t,e){return De(e,(function(e){e=Gi(e),so(t,e,xs(t[e],t))})),t}));function el(t){return function(){return t}}var nl=jr(),ol=jr(!0);function rl(t){return t}function il(t){return Fo("function"==typeof t?t:co(t,1))}var sl=Jo((function(t,e){return function(n){return Ao(n,t,e)}})),al=Jo((function(t,e){return function(n){return Ao(t,n,e)}}));function ll(t,e,n){var o=Aa(e),r=wo(e,o);null!=n||ea(e)&&(r.length||!o.length)||(n=e,e=t,t=this,r=wo(e,Aa(e)));var i=!(ea(n)&&"chain"in n&&!n.chain),s=Js(t);return De(r,(function(n){var o=e[n];t[n]=o,s&&(t.prototype[n]=function(){var e=this.__chain__;if(i||e){var n=t(this.__wrapped__);return(n.__actions__=Mr(this.__actions__)).push({func:o,args:arguments,thisArg:t}),n.__chain__=e,n}return o.apply(t,ke([this.value()],arguments))})})),t}function cl(){}var ul=$r(Ne),dl=$r(Me),pl=$r(Be);function hl(t){return bi(t)?Ke(Gi(t)):function(t){return function(e){return Oo(e,t)}}(t)}var fl=Kr(),gl=Kr(!0);function _l(){return[]}function ml(){return!1}var yl=Hr((function(t,e){return t+e}),0),vl=qr("ceil"),Cl=Hr((function(t,e){return t/e}),1),El=qr("floor");var bl,Sl=Hr((function(t,e){return t*e}),1),wl=qr("round"),Ol=Hr((function(t,e){return t-e}),0);return jn.after=function(t,e){if("function"!=typeof e)throw new xt(i);return t=ga(t),function(){if(--t<1)return e.apply(this,arguments)}},jn.ary=Rs,jn.assign=Ca,jn.assignIn=Ea,jn.assignInWith=ba,jn.assignWith=Sa,jn.at=wa,jn.before=Ds,jn.bind=xs,jn.bindAll=tl,jn.bindKey=Ms,jn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return $s(t)?t:[t]},jn.chain=hs,jn.chunk=function(t,e,n){e=(n?Ei(t,e,n):e===r)?1:vn(ga(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var s=0,a=0,l=o(fe(i/e));s<i;)l[a++]=ir(t,s,s+=e);return l},jn.compact=function(t){for(var e=-1,n=null==t?0:t.length,o=0,r=[];++e<n;){var i=t[e];i&&(r[o++]=i)}return r},jn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=o(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return ke($s(n)?Mr(n):[n],vo(e,1))},jn.cond=function(t){var e=null==t?0:t.length,n=ui();return t=e?Ne(t,(function(t){if("function"!=typeof t[1])throw new xt(i);return[n(t[0]),t[1]]})):[],Jo((function(n){for(var o=-1;++o<e;){var r=t[o];if(Te(r[0],this,n))return Te(r[1],this,n)}}))},jn.conforms=function(t){return function(t){var e=Aa(t);return function(n){return uo(n,t,e)}}(co(t,1))},jn.constant=el,jn.countBy=_s,jn.create=function(t,e){var n=Vn(t);return null==e?n:io(n,e)},jn.curry=function t(e,n,o){var i=Qr(e,8,r,r,r,r,r,n=o?r:n);return i.placeholder=t.placeholder,i},jn.curryRight=function t(e,n,o){var i=Qr(e,l,r,r,r,r,r,n=o?r:n);return i.placeholder=t.placeholder,i},jn.debounce=As,jn.defaults=Oa,jn.defaultsDeep=Pa,jn.defer=Ls,jn.delay=Is,jn.difference=ji,jn.differenceBy=Vi,jn.differenceWith=Wi,jn.drop=function(t,e,n){var o=null==t?0:t.length;return o?ir(t,(e=n||e===r?1:ga(e))<0?0:e,o):[]},jn.dropRight=function(t,e,n){var o=null==t?0:t.length;return o?ir(t,0,(e=o-(e=n||e===r?1:ga(e)))<0?0:e):[]},jn.dropRightWhile=function(t,e){return t&&t.length?gr(t,ui(e,3),!0,!0):[]},jn.dropWhile=function(t,e){return t&&t.length?gr(t,ui(e,3),!0):[]},jn.fill=function(t,e,n,o){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Ei(t,e,n)&&(n=0,o=i),function(t,e,n,o){var i=t.length;for((n=ga(n))<0&&(n=-n>i?0:i+n),(o=o===r||o>i?i:ga(o))<0&&(o+=i),o=n>o?0:_a(o);n<o;)t[n++]=e;return t}(t,e,n,o)):[]},jn.filter=function(t,e){return($s(t)?Ae:yo)(t,ui(e,3))},jn.flatMap=function(t,e){return vo(ws(t,e),1)},jn.flatMapDeep=function(t,e){return vo(ws(t,e),h)},jn.flatMapDepth=function(t,e,n){return n=n===r?1:ga(n),vo(ws(t,e),n)},jn.flatten=zi,jn.flattenDeep=function(t){return(null==t?0:t.length)?vo(t,h):[]},jn.flattenDepth=function(t,e){return(null==t?0:t.length)?vo(t,e=e===r?1:ga(e)):[]},jn.flip=function(t){return Qr(t,512)},jn.flow=nl,jn.flowRight=ol,jn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,o={};++e<n;){var r=t[e];o[r[0]]=r[1]}return o},jn.functions=function(t){return null==t?[]:wo(t,Aa(t))},jn.functionsIn=function(t){return null==t?[]:wo(t,La(t))},jn.groupBy=Es,jn.initial=function(t){return(null==t?0:t.length)?ir(t,0,-1):[]},jn.intersection=Yi,jn.intersectionBy=Zi,jn.intersectionWith=qi,jn.invert=Da,jn.invertBy=xa,jn.invokeMap=bs,jn.iteratee=il,jn.keyBy=Ss,jn.keys=Aa,jn.keysIn=La,jn.map=ws,jn.mapKeys=function(t,e){var n={};return e=ui(e,3),bo(t,(function(t,o,r){so(n,e(t,o,r),t)})),n},jn.mapValues=function(t,e){var n={};return e=ui(e,3),bo(t,(function(t,o,r){so(n,o,e(t,o,r))})),n},jn.matches=function(t){return Vo(co(t,1))},jn.matchesProperty=function(t,e){return Wo(t,co(e,1))},jn.memoize=Ns,jn.merge=Ia,jn.mergeWith=Na,jn.method=sl,jn.methodOf=al,jn.mixin=ll,jn.negate=ks,jn.nthArg=function(t){return t=ga(t),Jo((function(e){return $o(e,t)}))},jn.omit=ka,jn.omitBy=function(t,e){return Ga(t,ks(ui(e)))},jn.once=function(t){return Ds(2,t)},jn.orderBy=function(t,e,n,o){return null==t?[]:($s(e)||(e=null==e?[]:[e]),$s(n=o?r:n)||(n=null==n?[]:[n]),zo(t,e,n))},jn.over=ul,jn.overArgs=Fs,jn.overEvery=dl,jn.overSome=pl,jn.partial=Gs,jn.partialRight=Bs,jn.partition=Os,jn.pick=Fa,jn.pickBy=Ga,jn.property=hl,jn.propertyOf=function(t){return function(e){return null==t?r:Oo(t,e)}},jn.pull=Ji,jn.pullAll=Qi,jn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Yo(t,e,ui(n,2)):t},jn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Yo(t,e,r,n):t},jn.pullAt=ts,jn.range=fl,jn.rangeRight=gl,jn.rearg=Us,jn.reject=function(t,e){return($s(t)?Ae:yo)(t,ks(ui(e,3)))},jn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var o=-1,r=[],i=t.length;for(e=ui(e,3);++o<i;){var s=t[o];e(s,o,t)&&(n.push(s),r.push(o))}return Zo(t,r),n},jn.rest=function(t,e){if("function"!=typeof t)throw new xt(i);return Jo(t,e=e===r?e:ga(e))},jn.reverse=es,jn.sampleSize=function(t,e,n){return e=(n?Ei(t,e,n):e===r)?1:ga(e),($s(t)?Qn:tr)(t,e)},jn.set=function(t,e,n){return null==t?t:er(t,e,n)},jn.setWith=function(t,e,n,o){return o="function"==typeof o?o:r,null==t?t:er(t,e,n,o)},jn.shuffle=function(t){return($s(t)?to:rr)(t)},jn.slice=function(t,e,n){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&Ei(t,e,n)?(e=0,n=o):(e=null==e?0:ga(e),n=n===r?o:ga(n)),ir(t,e,n)):[]},jn.sortBy=Ps,jn.sortedUniq=function(t){return t&&t.length?cr(t):[]},jn.sortedUniqBy=function(t,e){return t&&t.length?cr(t,ui(e,2)):[]},jn.split=function(t,e,n){return n&&"number"!=typeof n&&Ei(t,e,n)&&(e=n=r),(n=n===r?_:n>>>0)?(t=va(t))&&("string"==typeof e||null!=e&&!sa(e))&&!(e=dr(e))&&ln(t)?Sr(gn(t),0,n):t.split(e,n):[]},jn.spread=function(t,e){if("function"!=typeof t)throw new xt(i);return e=null==e?0:vn(ga(e),0),Jo((function(n){var o=n[e],r=Sr(n,0,e);return o&&ke(r,o),Te(t,this,r)}))},jn.tail=function(t){var e=null==t?0:t.length;return e?ir(t,1,e):[]},jn.take=function(t,e,n){return t&&t.length?ir(t,0,(e=n||e===r?1:ga(e))<0?0:e):[]},jn.takeRight=function(t,e,n){var o=null==t?0:t.length;return o?ir(t,(e=o-(e=n||e===r?1:ga(e)))<0?0:e,o):[]},jn.takeRightWhile=function(t,e){return t&&t.length?gr(t,ui(e,3),!1,!0):[]},jn.takeWhile=function(t,e){return t&&t.length?gr(t,ui(e,3)):[]},jn.tap=function(t,e){return e(t),t},jn.throttle=function(t,e,n){var o=!0,r=!0;if("function"!=typeof t)throw new xt(i);return ea(n)&&(o="leading"in n?!!n.leading:o,r="trailing"in n?!!n.trailing:r),As(t,e,{leading:o,maxWait:e,trailing:r})},jn.thru=fs,jn.toArray=ha,jn.toPairs=Ba,jn.toPairsIn=Ua,jn.toPath=function(t){return $s(t)?Ne(t,Gi):ca(t)?[t]:Mr(Fi(va(t)))},jn.toPlainObject=ya,jn.transform=function(t,e,n){var o=$s(t),r=o||Zs(t)||ua(t);if(e=ui(e,4),null==n){var i=t&&t.constructor;n=r?o?new i:[]:ea(t)&&Js(i)?Vn(Kt(t)):{}}return(r?De:bo)(t,(function(t,o,r){return e(n,t,o,r)})),n},jn.unary=function(t){return Rs(t,1)},jn.union=ns,jn.unionBy=os,jn.unionWith=rs,jn.uniq=function(t){return t&&t.length?pr(t):[]},jn.uniqBy=function(t,e){return t&&t.length?pr(t,ui(e,2)):[]},jn.uniqWith=function(t,e){return e="function"==typeof e?e:r,t&&t.length?pr(t,r,e):[]},jn.unset=function(t,e){return null==t||hr(t,e)},jn.unzip=is,jn.unzipWith=ss,jn.update=function(t,e,n){return null==t?t:fr(t,e,Cr(n))},jn.updateWith=function(t,e,n,o){return o="function"==typeof o?o:r,null==t?t:fr(t,e,Cr(n),o)},jn.values=ja,jn.valuesIn=function(t){return null==t?[]:tn(t,La(t))},jn.without=as,jn.words=Ja,jn.wrap=function(t,e){return Gs(Cr(e),t)},jn.xor=ls,jn.xorBy=cs,jn.xorWith=us,jn.zip=ds,jn.zipObject=function(t,e){return yr(t||[],e||[],no)},jn.zipObjectDeep=function(t,e){return yr(t||[],e||[],er)},jn.zipWith=ps,jn.entries=Ba,jn.entriesIn=Ua,jn.extend=Ea,jn.extendWith=ba,ll(jn,jn),jn.add=yl,jn.attempt=Qa,jn.camelCase=Va,jn.capitalize=Wa,jn.ceil=vl,jn.clamp=function(t,e,n){return n===r&&(n=e,e=r),n!==r&&(n=(n=ma(n))==n?n:0),e!==r&&(e=(e=ma(e))==e?e:0),lo(ma(t),e,n)},jn.clone=function(t){return co(t,4)},jn.cloneDeep=function(t){return co(t,5)},jn.cloneDeepWith=function(t,e){return co(t,5,e="function"==typeof e?e:r)},jn.cloneWith=function(t,e){return co(t,4,e="function"==typeof e?e:r)},jn.conformsTo=function(t,e){return null==e||uo(t,e,Aa(e))},jn.deburr=Ha,jn.defaultTo=function(t,e){return null==t||t!=t?e:t},jn.divide=Cl,jn.endsWith=function(t,e,n){t=va(t),e=dr(e);var o=t.length,i=n=n===r?o:lo(ga(n),0,o);return(n-=e.length)>=0&&t.slice(n,i)==e},jn.eq=js,jn.escape=function(t){return(t=va(t))&&X.test(t)?t.replace(Z,sn):t},jn.escapeRegExp=function(t){return(t=va(t))&&it.test(t)?t.replace(rt,"\\$&"):t},jn.every=function(t,e,n){var o=$s(t)?Me:_o;return n&&Ei(t,e,n)&&(e=r),o(t,ui(e,3))},jn.find=ms,jn.findIndex=Hi,jn.findKey=function(t,e){return je(t,ui(e,3),bo)},jn.findLast=ys,jn.findLastIndex=$i,jn.findLastKey=function(t,e){return je(t,ui(e,3),So)},jn.floor=El,jn.forEach=vs,jn.forEachRight=Cs,jn.forIn=function(t,e){return null==t?t:Co(t,ui(e,3),La)},jn.forInRight=function(t,e){return null==t?t:Eo(t,ui(e,3),La)},jn.forOwn=function(t,e){return t&&bo(t,ui(e,3))},jn.forOwnRight=function(t,e){return t&&So(t,ui(e,3))},jn.get=Ta,jn.gt=Vs,jn.gte=Ws,jn.has=function(t,e){return null!=t&&mi(t,e,Do)},jn.hasIn=Ra,jn.head=Ki,jn.identity=rl,jn.includes=function(t,e,n,o){t=Ks(t)?t:ja(t),n=n&&!o?ga(n):0;var r=t.length;return n<0&&(n=vn(r+n,0)),la(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&We(t,e,n)>-1},jn.indexOf=function(t,e,n){var o=null==t?0:t.length;if(!o)return-1;var r=null==n?0:ga(n);return r<0&&(r=vn(o+r,0)),We(t,e,r)},jn.inRange=function(t,e,n){return e=fa(e),n===r?(n=e,e=0):n=fa(n),function(t,e,n){return t>=Cn(e,n)&&t<vn(e,n)}(t=ma(t),e,n)},jn.invoke=Ma,jn.isArguments=Hs,jn.isArray=$s,jn.isArrayBuffer=zs,jn.isArrayLike=Ks,jn.isArrayLikeObject=Ys,jn.isBoolean=function(t){return!0===t||!1===t||na(t)&&To(t)==C},jn.isBuffer=Zs,jn.isDate=qs,jn.isElement=function(t){return na(t)&&1===t.nodeType&&!ia(t)},jn.isEmpty=function(t){if(null==t)return!0;if(Ks(t)&&($s(t)||"string"==typeof t||"function"==typeof t.splice||Zs(t)||ua(t)||Hs(t)))return!t.length;var e=_i(t);if(e==O||e==x)return!t.size;if(Oi(t))return!Go(t).length;for(var n in t)if(kt.call(t,n))return!1;return!0},jn.isEqual=function(t,e){return Io(t,e)},jn.isEqualWith=function(t,e,n){var o=(n="function"==typeof n?n:r)?n(t,e):r;return o===r?Io(t,e,r,n):!!o},jn.isError=Xs,jn.isFinite=function(t){return"number"==typeof t&&Ce(t)},jn.isFunction=Js,jn.isInteger=Qs,jn.isLength=ta,jn.isMap=oa,jn.isMatch=function(t,e){return t===e||No(t,e,pi(e))},jn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:r,No(t,e,pi(e),n)},jn.isNaN=function(t){return ra(t)&&t!=+t},jn.isNative=function(t){if(wi(t))throw new wt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ko(t)},jn.isNil=function(t){return null==t},jn.isNull=function(t){return null===t},jn.isNumber=ra,jn.isObject=ea,jn.isObjectLike=na,jn.isPlainObject=ia,jn.isRegExp=sa,jn.isSafeInteger=function(t){return Qs(t)&&t>=-9007199254740991&&t<=f},jn.isSet=aa,jn.isString=la,jn.isSymbol=ca,jn.isTypedArray=ua,jn.isUndefined=function(t){return t===r},jn.isWeakMap=function(t){return na(t)&&_i(t)==L},jn.isWeakSet=function(t){return na(t)&&"[object WeakSet]"==To(t)},jn.join=function(t,e){return null==t?"":Ue.call(t,e)},jn.kebabCase=$a,jn.last=Xi,jn.lastIndexOf=function(t,e,n){var o=null==t?0:t.length;if(!o)return-1;var i=o;return n!==r&&(i=(i=ga(n))<0?vn(o+i,0):Cn(i,o-1)),e==e?function(t,e,n){for(var o=n+1;o--;)if(t[o]===e)return o;return o}(t,e,i):Ve(t,$e,i,!0)},jn.lowerCase=za,jn.lowerFirst=Ka,jn.lt=da,jn.lte=pa,jn.max=function(t){return t&&t.length?mo(t,rl,Ro):r},jn.maxBy=function(t,e){return t&&t.length?mo(t,ui(e,2),Ro):r},jn.mean=function(t){return ze(t,rl)},jn.meanBy=function(t,e){return ze(t,ui(e,2))},jn.min=function(t){return t&&t.length?mo(t,rl,Uo):r},jn.minBy=function(t,e){return t&&t.length?mo(t,ui(e,2),Uo):r},jn.stubArray=_l,jn.stubFalse=ml,jn.stubObject=function(){return{}},jn.stubString=function(){return""},jn.stubTrue=function(){return!0},jn.multiply=Sl,jn.nth=function(t,e){return t&&t.length?$o(t,ga(e)):r},jn.noConflict=function(){return ge._===this&&(ge._=jt),this},jn.noop=cl,jn.now=Ts,jn.pad=function(t,e,n){t=va(t);var o=(e=ga(e))?fn(t):0;if(!e||o>=e)return t;var r=(e-o)/2;return zr(_e(r),n)+t+zr(fe(r),n)},jn.padEnd=function(t,e,n){t=va(t);var o=(e=ga(e))?fn(t):0;return e&&o<e?t+zr(e-o,n):t},jn.padStart=function(t,e,n){t=va(t);var o=(e=ga(e))?fn(t):0;return e&&o<e?zr(e-o,n)+t:t},jn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),bn(va(t).replace(st,""),e||0)},jn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&Ei(t,e,n)&&(e=n=r),n===r&&("boolean"==typeof e?(n=e,e=r):"boolean"==typeof t&&(n=t,t=r)),t===r&&e===r?(t=0,e=1):(t=fa(t),e===r?(e=t,t=0):e=fa(e)),t>e){var o=t;t=e,e=o}if(n||t%1||e%1){var i=Sn();return Cn(t+i*(e-t+de("1e-"+((i+"").length-1))),e)}return qo(t,e)},jn.reduce=function(t,e,n){var o=$s(t)?Fe:Ze,r=arguments.length<3;return o(t,ui(e,4),n,r,fo)},jn.reduceRight=function(t,e,n){var o=$s(t)?Ge:Ze,r=arguments.length<3;return o(t,ui(e,4),n,r,go)},jn.repeat=function(t,e,n){return e=(n?Ei(t,e,n):e===r)?1:ga(e),Xo(va(t),e)},jn.replace=function(){var t=arguments,e=va(t[0]);return t.length<3?e:e.replace(t[1],t[2])},jn.result=function(t,e,n){var o=-1,i=(e=Er(e,t)).length;for(i||(i=1,t=r);++o<i;){var s=null==t?r:t[Gi(e[o])];s===r&&(o=i,s=n),t=Js(s)?s.call(t):s}return t},jn.round=wl,jn.runInContext=t,jn.sample=function(t){return($s(t)?Jn:Qo)(t)},jn.size=function(t){if(null==t)return 0;if(Ks(t))return la(t)?fn(t):t.length;var e=_i(t);return e==O||e==x?t.size:Go(t).length},jn.snakeCase=Ya,jn.some=function(t,e,n){var o=$s(t)?Be:sr;return n&&Ei(t,e,n)&&(e=r),o(t,ui(e,3))},jn.sortedIndex=function(t,e){return ar(t,e)},jn.sortedIndexBy=function(t,e,n){return lr(t,e,ui(n,2))},jn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var o=ar(t,e);if(o<n&&js(t[o],e))return o}return-1},jn.sortedLastIndex=function(t,e){return ar(t,e,!0)},jn.sortedLastIndexBy=function(t,e,n){return lr(t,e,ui(n,2),!0)},jn.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=ar(t,e,!0)-1;if(js(t[n],e))return n}return-1},jn.startCase=Za,jn.startsWith=function(t,e,n){return t=va(t),n=null==n?0:lo(ga(n),0,t.length),e=dr(e),t.slice(n,n+e.length)==e},jn.subtract=Ol,jn.sum=function(t){return t&&t.length?qe(t,rl):0},jn.sumBy=function(t,e){return t&&t.length?qe(t,ui(e,2)):0},jn.template=function(t,e,n){var o=jn.templateSettings;n&&Ei(t,e,n)&&(e=r),t=va(t),e=ba({},e,o,ti);var i,s,a=ba({},e.imports,o.imports,ti),l=Aa(a),c=tn(a,l),u=0,d=e.interpolate||bt,p="__p += '",h=Rt((e.escape||bt).source+"|"+d.source+"|"+(d===tt?ft:bt).source+"|"+(e.evaluate||bt).source+"|$","g"),f="//# sourceURL="+(kt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ae+"]")+"\n";t.replace(h,(function(e,n,o,r,a,l){return o||(o=r),p+=t.slice(u,l).replace(St,an),n&&(i=!0,p+="' +\n__e("+n+") +\n'"),a&&(s=!0,p+="';\n"+a+";\n__p += '"),o&&(p+="' +\n((__t = ("+o+")) == null ? '' : __t) +\n'"),u=l+e.length,e})),p+="';\n";var g=kt.call(e,"variable")&&e.variable;if(g){if(pt.test(g))throw new wt("Invalid `variable` option passed into `_.template`")}else p="with (obj) {\n"+p+"\n}\n";p=(s?p.replace($,""):p).replace(z,"$1").replace(K,"$1;"),p="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var _=Qa((function(){return Ot(l,f+"return "+p).apply(r,c)}));if(_.source=p,Xs(_))throw _;return _},jn.times=function(t,e){if((t=ga(t))<1||t>f)return[];var n=_,o=Cn(t,_);e=ui(e),t-=_;for(var r=Xe(o,e);++n<t;)e(n);return r},jn.toFinite=fa,jn.toInteger=ga,jn.toLength=_a,jn.toLower=function(t){return va(t).toLowerCase()},jn.toNumber=ma,jn.toSafeInteger=function(t){return t?lo(ga(t),-9007199254740991,f):0===t?t:0},jn.toString=va,jn.toUpper=function(t){return va(t).toUpperCase()},jn.trim=function(t,e,n){if((t=va(t))&&(n||e===r))return Je(t);if(!t||!(e=dr(e)))return t;var o=gn(t),i=gn(e);return Sr(o,nn(o,i),on(o,i)+1).join("")},jn.trimEnd=function(t,e,n){if((t=va(t))&&(n||e===r))return t.slice(0,_n(t)+1);if(!t||!(e=dr(e)))return t;var o=gn(t);return Sr(o,0,on(o,gn(e))+1).join("")},jn.trimStart=function(t,e,n){if((t=va(t))&&(n||e===r))return t.replace(st,"");if(!t||!(e=dr(e)))return t;var o=gn(t);return Sr(o,nn(o,gn(e))).join("")},jn.truncate=function(t,e){var n=30,o="...";if(ea(e)){var i="separator"in e?e.separator:i;n="length"in e?ga(e.length):n,o="omission"in e?dr(e.omission):o}var s=(t=va(t)).length;if(ln(t)){var a=gn(t);s=a.length}if(n>=s)return t;var l=n-fn(o);if(l<1)return o;var c=a?Sr(a,0,l).join(""):t.slice(0,l);if(i===r)return c+o;if(a&&(l+=c.length-l),sa(i)){if(t.slice(l).search(i)){var u,d=c;for(i.global||(i=Rt(i.source,va(gt.exec(i))+"g")),i.lastIndex=0;u=i.exec(d);)var p=u.index;c=c.slice(0,p===r?l:p)}}else if(t.indexOf(dr(i),l)!=l){var h=c.lastIndexOf(i);h>-1&&(c=c.slice(0,h))}return c+o},jn.unescape=function(t){return(t=va(t))&&q.test(t)?t.replace(Y,mn):t},jn.uniqueId=function(t){var e=++Ft;return va(t)+e},jn.upperCase=qa,jn.upperFirst=Xa,jn.each=vs,jn.eachRight=Cs,jn.first=Ki,ll(jn,(bl={},bo(jn,(function(t,e){kt.call(jn.prototype,e)||(bl[e]=t)})),bl),{chain:!1}),jn.VERSION="4.17.21",De(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){jn[t].placeholder=jn})),De(["drop","take"],(function(t,e){$n.prototype[t]=function(n){n=n===r?1:vn(ga(n),0);var o=this.__filtered__&&!e?new $n(this):this.clone();return o.__filtered__?o.__takeCount__=Cn(n,o.__takeCount__):o.__views__.push({size:Cn(n,_),type:t+(o.__dir__<0?"Right":"")}),o},$n.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),De(["filter","map","takeWhile"],(function(t,e){var n=e+1,o=1==n||3==n;$n.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:ui(t,3),type:n}),e.__filtered__=e.__filtered__||o,e}})),De(["head","last"],(function(t,e){var n="take"+(e?"Right":"");$n.prototype[t]=function(){return this[n](1).value()[0]}})),De(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");$n.prototype[t]=function(){return this.__filtered__?new $n(this):this[n](1)}})),$n.prototype.compact=function(){return this.filter(rl)},$n.prototype.find=function(t){return this.filter(t).head()},$n.prototype.findLast=function(t){return this.reverse().find(t)},$n.prototype.invokeMap=Jo((function(t,e){return"function"==typeof t?new $n(this):this.map((function(n){return Ao(n,t,e)}))})),$n.prototype.reject=function(t){return this.filter(ks(ui(t)))},$n.prototype.slice=function(t,e){t=ga(t);var n=this;return n.__filtered__&&(t>0||e<0)?new $n(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==r&&(n=(e=ga(e))<0?n.dropRight(-e):n.take(e-t)),n)},$n.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},$n.prototype.toArray=function(){return this.take(_)},bo($n.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),o=/^(?:head|last)$/.test(e),i=jn[o?"take"+("last"==e?"Right":""):e],s=o||/^find/.test(e);i&&(jn.prototype[e]=function(){var e=this.__wrapped__,a=o?[1]:arguments,l=e instanceof $n,c=a[0],u=l||$s(e),d=function(t){var e=i.apply(jn,ke([t],a));return o&&p?e[0]:e};u&&n&&"function"==typeof c&&1!=c.length&&(l=u=!1);var p=this.__chain__,h=!!this.__actions__.length,f=s&&!p,g=l&&!h;if(!s&&u){e=g?e:new $n(this);var _=t.apply(e,a);return _.__actions__.push({func:fs,args:[d],thisArg:r}),new Hn(_,p)}return f&&g?t.apply(this,a):(_=this.thru(d),f?o?_.value()[0]:_.value():_)})})),De(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Mt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",o=/^(?:pop|shift)$/.test(t);jn.prototype[t]=function(){var t=arguments;if(o&&!this.__chain__){var r=this.value();return e.apply($s(r)?r:[],t)}return this[n]((function(n){return e.apply($s(n)?n:[],t)}))}})),bo($n.prototype,(function(t,e){var n=jn[e];if(n){var o=n.name+"";kt.call(An,o)||(An[o]=[]),An[o].push({name:e,func:n})}})),An[Vr(r,2).name]=[{name:"wrapper",func:r}],$n.prototype.clone=function(){var t=new $n(this.__wrapped__);return t.__actions__=Mr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Mr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Mr(this.__views__),t},$n.prototype.reverse=function(){if(this.__filtered__){var t=new $n(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},$n.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=$s(t),o=e<0,r=n?t.length:0,i=function(t,e,n){var o=-1,r=n.length;for(;++o<r;){var i=n[o],s=i.size;switch(i.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=Cn(e,t+s);break;case"takeRight":t=vn(t,e-s)}}return{start:t,end:e}}(0,r,this.__views__),s=i.start,a=i.end,l=a-s,c=o?a:s-1,u=this.__iteratees__,d=u.length,p=0,h=Cn(l,this.__takeCount__);if(!n||!o&&r==l&&h==l)return _r(t,this.__actions__);var f=[];t:for(;l--&&p<h;){for(var g=-1,_=t[c+=e];++g<d;){var m=u[g],y=m.iteratee,v=m.type,C=y(_);if(2==v)_=C;else if(!C){if(1==v)continue t;break t}}f[p++]=_}return f},jn.prototype.at=gs,jn.prototype.chain=function(){return hs(this)},jn.prototype.commit=function(){return new Hn(this.value(),this.__chain__)},jn.prototype.next=function(){this.__values__===r&&(this.__values__=ha(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?r:this.__values__[this.__index__++]}},jn.prototype.plant=function(t){for(var e,n=this;n instanceof Wn;){var o=Ui(n);o.__index__=0,o.__values__=r,e?i.__wrapped__=o:e=o;var i=o;n=n.__wrapped__}return i.__wrapped__=t,e},jn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof $n){var e=t;return this.__actions__.length&&(e=new $n(this)),(e=e.reverse()).__actions__.push({func:fs,args:[es],thisArg:r}),new Hn(e,this.__chain__)}return this.thru(es)},jn.prototype.toJSON=jn.prototype.valueOf=jn.prototype.value=function(){return _r(this.__wrapped__,this.__actions__)},jn.prototype.first=jn.prototype.head,Jt&&(jn.prototype[Jt]=function(){return this}),jn}();ge._=yn,(o=function(){return yn}.call(e,n,e,t))===r||(t.exports=o)}.call(this)},4748:()=>{},6851:(t,e,n)=>{"use strict";var o=n(5171),r=Array.prototype.concat,i=Array.prototype.slice,s=t.exports=function(t){for(var e=[],n=0,s=t.length;n<s;n++){var a=t[n];o(a)?e=r.call(e,i.call(a)):e.push(a)}return e};s.wrap=function(t){return function(){return t(s(arguments))}}},1860:function(t){!function(e,n){var o={version:"2.14.2",areas:{},apis:{},nsdelim:".",inherit:function(t,e){for(var n in t)e.hasOwnProperty(n)||Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n));return e},stringify:function(t,e){return void 0===t||"function"==typeof t?t+"":JSON.stringify(t,e||o.replace)},parse:function(t,e){try{return JSON.parse(t,e||o.revive)}catch(e){return t}},fn:function(t,e){for(var n in o.storeAPI[t]=e,o.apis)o.apis[n][t]=e},get:function(t,e){return t.getItem(e)},set:function(t,e,n){t.setItem(e,n)},remove:function(t,e){t.removeItem(e)},key:function(t,e){return t.key(e)},length:function(t){return t.length},clear:function(t){t.clear()},Store:function(t,e,n){var r=o.inherit(o.storeAPI,(function(t,e,n){return 0===arguments.length?r.getAll():"function"==typeof e?r.transact(t,e,n):void 0!==e?r.set(t,e,n):"string"==typeof t||"number"==typeof t?r.get(t):"function"==typeof t?r.each(t):t?r.setAll(t,e):r.clear()}));r._id=t;try{var i="__store2_test";e.setItem(i,"ok"),r._area=e,e.removeItem(i)}catch(t){r._area=o.storage("fake")}return r._ns=n||"",o.areas[t]||(o.areas[t]=r._area),o.apis[r._ns+r._id]||(o.apis[r._ns+r._id]=r),r},storeAPI:{area:function(t,e){var n=this[t];return n&&n.area||(n=o.Store(t,e,this._ns),this[t]||(this[t]=n)),n},namespace:function(t,e,n){if(n=n||this._delim||o.nsdelim,!t)return this._ns?this._ns.substring(0,this._ns.length-n.length):"";var r=t,i=this[r];if(!(i&&i.namespace||((i=o.Store(this._id,this._area,this._ns+r+n))._delim=n,this[r]||(this[r]=i),e)))for(var s in o.areas)i.area(s,o.areas[s]);return i},isFake:function(t){return t?(this._real=this._area,this._area=o.storage("fake")):!1===t&&(this._area=this._real||this._area),"fake"===this._area.name},toString:function(){return"store"+(this._ns?"."+this.namespace():"")+"["+this._id+"]"},has:function(t){return this._area.has?this._area.has(this._in(t)):!!(this._in(t)in this._area)},size:function(){return this.keys().length},each:function(t,e){for(var n=0,r=o.length(this._area);n<r;n++){var i=this._out(o.key(this._area,n));if(void 0!==i&&!1===t.call(this,i,this.get(i),e))break;r>o.length(this._area)&&(r--,n--)}return e||this},keys:function(t){return this.each((function(t,e,n){n.push(t)}),t||[])},get:function(t,e){var n,r=o.get(this._area,this._in(t));return"function"==typeof e&&(n=e,e=null),null!==r?o.parse(r,n):null!=e?e:r},getAll:function(t){return this.each((function(t,e,n){n[t]=e}),t||{})},transact:function(t,e,n){var o=this.get(t,n),r=e(o);return this.set(t,void 0===r?o:r),this},set:function(t,e,n){var r,i=this.get(t);return null!=i&&!1===n?e:("function"==typeof n&&(r=n,n=void 0),o.set(this._area,this._in(t),o.stringify(e,r),n)||i)},setAll:function(t,e){var n,o;for(var r in t)o=t[r],this.set(r,o,e)!==o&&(n=!0);return n},add:function(t,e,n){var r=this.get(t);if(r instanceof Array)e=r.concat(e);else if(null!==r){var i=typeof r;if(i===typeof e&&"object"===i){for(var s in e)r[s]=e[s];e=r}else e=r+e}return o.set(this._area,this._in(t),o.stringify(e,n)),e},remove:function(t,e){var n=this.get(t,e);return o.remove(this._area,this._in(t)),n},clear:function(){return this._ns?this.each((function(t){o.remove(this._area,this._in(t))}),1):o.clear(this._area),this},clearAll:function(){var t=this._area;for(var e in o.areas)o.areas.hasOwnProperty(e)&&(this._area=o.areas[e],this.clear());return this._area=t,this},_in:function(t){return"string"!=typeof t&&(t=o.stringify(t)),this._ns?this._ns+t:t},_out:function(t){return this._ns?t&&0===t.indexOf(this._ns)?t.substring(this._ns.length):void 0:t}},storage:function(t){return o.inherit(o.storageAPI,{items:{},name:t})},storageAPI:{length:0,has:function(t){return this.items.hasOwnProperty(t)},key:function(t){var e=0;for(var n in this.items)if(this.has(n)&&t===e++)return n},setItem:function(t,e){this.has(t)||this.length++,this.items[t]=e},removeItem:function(t){this.has(t)&&(delete this.items[t],this.length--)},getItem:function(t){return this.has(t)?this.items[t]:null},clear:function(){for(var t in this.items)this.removeItem(t)}}},r=o.Store("local",function(){try{return localStorage}catch(t){}}());r.local=r,r._=o,r.area("session",function(){try{return sessionStorage}catch(t){}}()),r.area("page",o.storage("page")),"function"==typeof n&&void 0!==n.amd?n("store2",[],(function(){return r})):t.exports?t.exports=r:(e.store&&(o.conflict=e.store),e.store=r)}(this,this&&this.define)},6168:function(t,e,n){var o;o=function(t,e){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e,n){t.exports=n(3)},function(t,e,n){"use strict";n.r(e);var o=n(0),r=n(1),i=n.n(r);function s(t){if(!i.a.autoDrawEnabled){var e=t.getLayer()||t.getStage();e&&e.batchDraw()}}var a={key:!0,style:!0,elm:!0,isRootInsert:!0},l=".vue-konva-event";function c(t,e,n,o){void 0===e&&(e={}),void 0===n&&(n={});var r=t.__konvaNode,i={},c=!1;for(var u in n)if(!a[u]){var d="on"===u.slice(0,2),p=n[u]!==e[u];if(d&&p){var h=u.substr(2).toLowerCase();"content"===h.substr(0,7)&&(h="content"+h.substr(7,1).toUpperCase()+h.substr(8)),r.off(h+l,n[u])}!e.hasOwnProperty(u)&&r.setAttr(u,void 0)}for(var f in e)if(!a[f]){var g="on"===f.slice(0,2),_=n[f]!==e[f];if(g&&_){var m=f.substr(2).toLowerCase();"content"===m.substr(0,7)&&(m="content"+m.substr(7,1).toUpperCase()+m.substr(8)),e[f]&&(r.off(m+l),r.on(m+l,e[f]))}!g&&(e[f]!==n[f]||o&&e[f]!==r.getAttr(f))&&(c=!0,i[f]=e[f])}c&&(r.setAttrs(i),s(r))}function u(t){if(null==t?void 0:t.component)return t.component.__konvaNode||u(t.component.subTree)}function d(t){var e=t.el,n=t.component,o=u(t);if((null==e?void 0:e.tagName)&&n&&!o){var r=e&&e.tagName.toLowerCase();return console.error('vue-konva error: You are trying to render "'+r+'" inside your component tree. Looks like it is not a Konva node. You can render only Konva components inside the Stage.'),null}return o}function p(t,e){var n,o,r=(o=[],(n=t).children&&n.children.forEach((function(t){!t.component&&Array.isArray(t.children)&&t.children.forEach((function(t){!t.component&&Array.isArray(t.children)?o.push.apply(o,t.children):o.push(t)})),t.component&&o.push(t)})),o),i=[];r.forEach((function(t){var e=d(t);e&&i.push(e)}));var a=!1;i.forEach((function(t,e){t.getZIndex()!==e&&(t.setZIndex(e),a=!0)})),a&&s(e)}function h(){return h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},h.apply(this,arguments)}var f={props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},inheritAttrs:!1,setup:function(t,e){var n=e.attrs,r=e.slots,i=e.expose,s=(e.emits,Object(o.getCurrentInstance)()),a=Object(o.reactive)({}),l=Object(o.ref)(null),u=new window.Konva.Stage({width:t.config.width,height:t.config.height,container:document.createElement("div")});function d(){var e=a||{},o=h({},n,t.config);c(s,o,e,t.__useStrictMode),Object.assign(a,o)}return s.__konvaNode=u,d(),Object(o.onMounted)((function(){l.value.innerHTML="",u.container(l.value),d()})),Object(o.onUpdated)((function(){d(),p(s.subTree,u)})),Object(o.onBeforeUnmount)((function(){u.destroy()})),Object(o.watch)((function(){return t.config}),d,{deep:!0}),i({getStage:function(){return s.__konvaNode},getNode:function(){return s.__konvaNode}}),function(){var t;return Object(o.h)("div",{ref:l},null===(t=r.default)||void 0===t?void 0:t.call(r))}}};function g(){return g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},g.apply(this,arguments)}var _={Group:!0,Layer:!0,FastLayer:!0,Label:!0},m=function(t){return{props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},setup:function(e,n){var r=n.attrs,i=n.slots,a=n.expose,l=Object(o.getCurrentInstance)(),u=Object(o.reactive)({}),d=window.Konva[t];if(d){var h=new d;return l.__konvaNode=h,l.vnode.__konvaNode=h,f(),Object(o.onMounted)((function(){var t=function(t){return function t(e){return e.__konvaNode?e:e.parent?t(e.parent):(console.error("vue-konva error: Can not find parent node"),{})}(t.parent)}(l).__konvaNode;t.add(h),s(h)})),Object(o.onUnmounted)((function(){s(h),h.destroy(),h.off(".vue-konva-event")})),Object(o.onUpdated)((function(){f(),p(l.subTree,h)})),Object(o.watch)((function(){return e.config}),f,{deep:!0}),a({getStage:function(){return l.__konvaNode},getNode:function(){return l.__konvaNode}}),_[t]?function(){var t;return Object(o.h)("template",{},null===(t=i.default)||void 0===t?void 0:t.call(i))}:function(){return null}}function f(){var t={};for(var n in l.vnode.props)"on"===n.slice(0,2)&&(t[n]=l.vnode.props[n]);var o=u||{},i=g({},r,e.config,t);c(l,i,o,e.__useStrictMode),Object.assign(u,i)}console.error("vue-konva error: Can not find node "+t)}}};"undefined"==typeof window||window.Konva||n(1);var y=[{name:"Stage",component:f}].concat(["Layer","FastLayer","Group","Label","Rect","Circle","Ellipse","Wedge","Line","Sprite","Image","Text","TextPath","Star","Ring","Arc","Tag","Path","RegularPolygon","Arrow","Shape","Transformer"].map((function(t){return{name:t,component:m(t)}}))),v={install:function(t,e){var n="v";e&&e.prefix&&(n=e.prefix),y.forEach((function(e){t.component(""+n+e.name,e.component)}))}};e.default=v}]).default},t.exports=o(n(6765),n(185))},3744:(t,e)=>{"use strict";e.Z=(t,e)=>{const n=t.__vccOpts||t;for(const[t,o]of e)n[t]=o;return n}},2450:(t,e,n)=>{"use strict";n.d(e,{o:()=>i});var o=n(2262),r=n(6252);const i=(0,r.aZ)({name:"Promised",props:{promise:{},pendingDelay:{type:[Number,String],default:200}},setup(t,{slots:e}){const n=(0,o.BK)(t),i=(0,o.qj)(function(t,e=200){const n=(0,o.iH)(!1),i=(0,o.iH)(!1),s=(0,r.Fl)((()=>!n.value&&!i.value)),a=(0,o.iH)(!1),l=(0,o.iH)(),c=(0,o.iH)();let u;return(0,r.YP)((()=>(0,o.SU)(t)),(r=>{if(n.value=!1,i.value=!1,l.value=null,!r)return c.value=null,u&&clearTimeout(u),void(u=null);(0,o.SU)(e)>0?(a.value=!1,u&&clearTimeout(u),u=setTimeout((()=>{a.value=!0}),Number((0,o.SU)(e)))):a.value=!0,r.then((e=>{r===(0,o.SU)(t)&&(c.value=e,i.value=!0)})).catch((e=>{r===(0,o.SU)(t)&&(l.value=e,n.value=!0)}))}),{immediate:!0}),{isPending:s,isRejected:n,isResolved:i,isDelayElapsed:a,error:l,data:c}}(n.promise,n.pendingDelay));return()=>{if("combined"in e)return e.combined(i);const[t,n]=i.isRejected?["rejected",i.error]:i.isPending?i.isDelayElapsed?["pending",i.data]:[null]:["default",i.data];return t&&e[t](n)}}})},4812:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(5003),r=n(9963),i=n(3577);function s(t){var e=Object.create(null);if(t)for(var n in t)e[n]=t[n];return e.default=t,Object.freeze(e)}var a=s(r);const l=Object.create(null);function c(t,e){if(!i.isString(t)){if(!t.nodeType)return i.NOOP;t=t.innerHTML}const n=t,r=l[n];if(r)return r;if("#"===t[0]){const e=document.querySelector(t);t=e?e.innerHTML:""}const s=i.extend({hoistStatic:!0,onError:void 0,onWarn:i.NOOP},e);s.isCustomElement||"undefined"==typeof customElements||(s.isCustomElement=t=>!!customElements.get(t));const{code:c}=o.compile(t,s),u=new Function("Vue",c)(a);return u._rc=!0,l[n]=u}r.registerRuntimeCompiler(c),e.compile=c,Object.keys(r).forEach((function(t){"default"!==t&&(e[t]=r[t])}))},6765:(t,e,n)=>{"use strict";t.exports=n(4812)},7852:t=>{"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg=="},8586:t=>{"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII="},3498:t=>{"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC"},5762:(t,e,n)=>{"use strict";n.d(e,{sgm:()=>c});var o=n(2262),r=n(6121);Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function i(t){return!!(0,o.nZ)()&&((0,o.EB)(t),!0)}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const s="undefined"!=typeof window;Object.prototype.toString;r.$B,r.$B,r.$B;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const a=s?window:void 0;s&&window.document,s&&window.navigator,s&&window.location;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function l(t,e={}){const{immediate:n=!0,window:r=a}=e,s=(0,o.iH)(!1);let l=0,c=null;function u(e){if(!s.value||!r)return;t({delta:e-l,timestamp:e}),l=e,c=r.requestAnimationFrame(u)}function d(){!s.value&&r&&(s.value=!0,c=r.requestAnimationFrame(u))}function p(){s.value=!1,null!=c&&r&&(r.cancelAnimationFrame(c),c=null)}return n&&d(),i(p),{isActive:(0,o.OT)(s),pause:p,resume:d}}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function c(t){var e;const n=(0,o.iH)(0);if("undefined"==typeof performance)return n;const r=null!=(e=null==t?void 0:t.every)?e:10;let i=performance.now(),s=0;return l((()=>{if(s+=1,s>=r){const t=performance.now(),e=t-i;n.value=Math.round(1e3/(e/s)),i=t,s=0}})),n}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable},8662:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>v});var o=n(9367);function r(t,e,n,o,r,i,s){try{var a=t[i](s),l=a.value}catch(t){return void n(t)}a.done?e(l):Promise.resolve(l).then(o,r)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var s=t.apply(e,n);function a(t){r(s,o,i,a,l,"next",t)}function l(t){r(s,o,i,a,l,"throw",t)}a(void 0)}))}}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c="axios-retry";function u(t){return!t.response&&Boolean(t.code)&&"ECONNABORTED"!==t.code&&o(t)}var d=["get","head","options"],p=d.concat(["put","delete"]);function h(t){return"ECONNABORTED"!==t.code&&(!t.response||t.response.status>=500&&t.response.status<=599)}function f(t){return!!t.config&&(h(t)&&-1!==p.indexOf(t.config.method))}function g(t){return u(t)||f(t)}function _(){return 0}function m(t){var e=t[c]||{};return e.retryCount=e.retryCount||0,t[c]=e,e}function y(){return(y=i((function*(t,e,n,o){var r=n.retryCount<t&&e(o);if("object"==typeof r)try{return!1!==(yield r)}catch(t){return!1}return r}))).apply(this,arguments)}function v(t,e){t.interceptors.request.use((t=>(m(t).lastRequestTime=Date.now(),t))),t.interceptors.response.use(null,function(){var n=i((function*(n){var{config:o}=n;if(!o)return Promise.reject(n);var{retries:r=3,retryCondition:i=g,retryDelay:s=_,shouldResetTimeout:l=!1,onRetry:u=(()=>{})}=function(t,e){return a(a({},e),t[c])}(o,e),d=m(o);if(yield function(t,e,n,o){return y.apply(this,arguments)}(r,i,d,n)){d.retryCount+=1;var p=s(d.retryCount,n);if(function(t,e){t.defaults.agent===e.agent&&delete e.agent,t.defaults.httpAgent===e.httpAgent&&delete e.httpAgent,t.defaults.httpsAgent===e.httpsAgent&&delete e.httpsAgent}(t,o),!l&&o.timeout&&d.lastRequestTime){var h=Date.now()-d.lastRequestTime,f=o.timeout-h-p;if(f<=0)return Promise.reject(n);o.timeout=f}return o.transformRequest=[t=>t],u(d.retryCount,n,o),new Promise((e=>setTimeout((()=>e(t(o))),p)))}return Promise.reject(n)}));return function(t){return n.apply(this,arguments)}}())}v.isNetworkError=u,v.isSafeRequestError=function(t){return!!t.config&&(h(t)&&-1!==d.indexOf(t.config.method))},v.isIdempotentRequestError=f,v.isNetworkOrIdempotentRequestError=g,v.exponentialDelay=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=100*Math.pow(2,t);return e+.2*e*Math.random()},v.isRetryableError=h},2861:(t,e,n)=>{"use strict";function o(t,e){return function(){return t.apply(e,arguments)}}n.d(e,{Z:()=>Vt});const{toString:r}=Object.prototype,{getPrototypeOf:i}=Object,s=(a=Object.create(null),t=>{const e=r.call(t);return a[e]||(a[e]=e.slice(8,-1).toLowerCase())});var a;const l=t=>(t=t.toLowerCase(),e=>s(e)===t),c=t=>e=>typeof e===t,{isArray:u}=Array,d=c("undefined");const p=l("ArrayBuffer");const h=c("string"),f=c("function"),g=c("number"),_=t=>null!==t&&"object"==typeof t,m=t=>{if("object"!==s(t))return!1;const e=i(t);return!(null!==e&&e!==Object.prototype&&null!==Object.getPrototypeOf(e)||Symbol.toStringTag in t||Symbol.iterator in t)},y=l("Date"),v=l("File"),C=l("Blob"),E=l("FileList"),b=l("URLSearchParams");function S(t,e,{allOwnKeys:n=!1}={}){if(null==t)return;let o,r;if("object"!=typeof t&&(t=[t]),u(t))for(o=0,r=t.length;o<r;o++)e.call(null,t[o],o,t);else{const r=n?Object.getOwnPropertyNames(t):Object.keys(t),i=r.length;let s;for(o=0;o<i;o++)s=r[o],e.call(null,t[s],s,t)}}function w(t,e){e=e.toLowerCase();const n=Object.keys(t);let o,r=n.length;for(;r-- >0;)if(o=n[r],e===o.toLowerCase())return o;return null}const O="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,P=t=>!d(t)&&t!==O;const T=(R="undefined"!=typeof Uint8Array&&i(Uint8Array),t=>R&&t instanceof R);var R;const D=l("HTMLFormElement"),x=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),M=l("RegExp"),A=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),o={};S(n,((n,r)=>{!1!==e(n,r,t)&&(o[r]=n)})),Object.defineProperties(t,o)},L="abcdefghijklmnopqrstuvwxyz",I="0123456789",N={DIGIT:I,ALPHA:L,ALPHA_DIGIT:L+L.toUpperCase()+I};const k=l("AsyncFunction"),F={isArray:u,isArrayBuffer:p,isBuffer:function(t){return null!==t&&!d(t)&&null!==t.constructor&&!d(t.constructor)&&f(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:t=>{let e;return t&&("function"==typeof FormData&&t instanceof FormData||f(t.append)&&("formdata"===(e=s(t))||"object"===e&&f(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){let e;return e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&p(t.buffer),e},isString:h,isNumber:g,isBoolean:t=>!0===t||!1===t,isObject:_,isPlainObject:m,isUndefined:d,isDate:y,isFile:v,isBlob:C,isRegExp:M,isFunction:f,isStream:t=>_(t)&&f(t.pipe),isURLSearchParams:b,isTypedArray:T,isFileList:E,forEach:S,merge:function t(){const{caseless:e}=P(this)&&this||{},n={},o=(o,r)=>{const i=e&&w(n,r)||r;m(n[i])&&m(o)?n[i]=t(n[i],o):m(o)?n[i]=t({},o):u(o)?n[i]=o.slice():n[i]=o};for(let t=0,e=arguments.length;t<e;t++)arguments[t]&&S(arguments[t],o);return n},extend:(t,e,n,{allOwnKeys:r}={})=>(S(e,((e,r)=>{n&&f(e)?t[r]=o(e,n):t[r]=e}),{allOwnKeys:r}),t),trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,n,o)=>{t.prototype=Object.create(e.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},toFlatObject:(t,e,n,o)=>{let r,s,a;const l={};if(e=e||{},null==t)return e;do{for(r=Object.getOwnPropertyNames(t),s=r.length;s-- >0;)a=r[s],o&&!o(a,t,e)||l[a]||(e[a]=t[a],l[a]=!0);t=!1!==n&&i(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kindOf:s,kindOfTest:l,endsWith:(t,e,n)=>{t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;const o=t.indexOf(e,n);return-1!==o&&o===n},toArray:t=>{if(!t)return null;if(u(t))return t;let e=t.length;if(!g(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},forEachEntry:(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let o;for(;(o=n.next())&&!o.done;){const n=o.value;e.call(t,n[0],n[1])}},matchAll:(t,e)=>{let n;const o=[];for(;null!==(n=t.exec(e));)o.push(n);return o},isHTMLForm:D,hasOwnProperty:x,hasOwnProp:x,reduceDescriptors:A,freezeMethods:t=>{A(t,((e,n)=>{if(f(t)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const o=t[n];f(o)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(t,e)=>{const n={},o=t=>{t.forEach((t=>{n[t]=!0}))};return u(t)?o(t):o(String(t).split(e)),n},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,n){return e.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(t,e)=>(t=+t,Number.isFinite(t)?t:e),findKey:w,global:O,isContextDefined:P,ALPHABET:N,generateString:(t=16,e=N.ALPHA_DIGIT)=>{let n="";const{length:o}=e;for(;t--;)n+=e[Math.random()*o|0];return n},isSpecCompliantForm:function(t){return!!(t&&f(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])},toJSONObject:t=>{const e=new Array(10),n=(t,o)=>{if(_(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[o]=t;const r=u(t)?[]:{};return S(t,((t,e)=>{const i=n(t,o+1);!d(i)&&(r[e]=i)})),e[o]=void 0,r}}return t};return n(t,0)},isAsyncFn:k,isThenable:t=>t&&(_(t)||f(t))&&f(t.then)&&f(t.catch)};function G(t,e,n,o,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),o&&(this.request=o),r&&(this.response=r)}F.inherits(G,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:F.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const B=G.prototype,U={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((t=>{U[t]={value:t}})),Object.defineProperties(G,U),Object.defineProperty(B,"isAxiosError",{value:!0}),G.from=(t,e,n,o,r,i)=>{const s=Object.create(B);return F.toFlatObject(t,s,(function(t){return t!==Error.prototype}),(t=>"isAxiosError"!==t)),G.call(s,t.message,e,n,o,r),s.cause=t,s.name=t.name,i&&Object.assign(s,i),s};const j=G,V=null;function W(t){return F.isPlainObject(t)||F.isArray(t)}function H(t){return F.endsWith(t,"[]")?t.slice(0,-2):t}function $(t,e,n){return t?t.concat(e).map((function(t,e){return t=H(t),!n&&e?"["+t+"]":t})).join(n?".":""):e}const z=F.toFlatObject(F,{},null,(function(t){return/^is[A-Z]/.test(t)}));const K=function(t,e,n){if(!F.isObject(t))throw new TypeError("target must be an object");e=e||new(V||FormData);const o=(n=F.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!F.isUndefined(e[t])}))).metaTokens,r=n.visitor||c,i=n.dots,s=n.indexes,a=(n.Blob||"undefined"!=typeof Blob&&Blob)&&F.isSpecCompliantForm(e);if(!F.isFunction(r))throw new TypeError("visitor must be a function");function l(t){if(null===t)return"";if(F.isDate(t))return t.toISOString();if(!a&&F.isBlob(t))throw new j("Blob is not supported. Use a Buffer instead.");return F.isArrayBuffer(t)||F.isTypedArray(t)?a&&"function"==typeof Blob?new Blob([t]):Buffer.from(t):t}function c(t,n,r){let a=t;if(t&&!r&&"object"==typeof t)if(F.endsWith(n,"{}"))n=o?n:n.slice(0,-2),t=JSON.stringify(t);else if(F.isArray(t)&&function(t){return F.isArray(t)&&!t.some(W)}(t)||(F.isFileList(t)||F.endsWith(n,"[]"))&&(a=F.toArray(t)))return n=H(n),a.forEach((function(t,o){!F.isUndefined(t)&&null!==t&&e.append(!0===s?$([n],o,i):null===s?n:n+"[]",l(t))})),!1;return!!W(t)||(e.append($(r,n,i),l(t)),!1)}const u=[],d=Object.assign(z,{defaultVisitor:c,convertValue:l,isVisitable:W});if(!F.isObject(t))throw new TypeError("data must be an object");return function t(n,o){if(!F.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+o.join("."));u.push(n),F.forEach(n,(function(n,i){!0===(!(F.isUndefined(n)||null===n)&&r.call(e,n,F.isString(i)?i.trim():i,o,d))&&t(n,o?o.concat(i):[i])})),u.pop()}}(t),e};function Y(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function Z(t,e){this._pairs=[],t&&K(t,this,e)}const q=Z.prototype;q.append=function(t,e){this._pairs.push([t,e])},q.toString=function(t){const e=t?function(e){return t.call(this,e,Y)}:Y;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};const X=Z;function J(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Q(t,e,n){if(!e)return t;const o=n&&n.encode||J,r=n&&n.serialize;let i;if(i=r?r(e,n):F.isURLSearchParams(e)?e.toString():new X(e,n).toString(o),i){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t}const tt=class{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){F.forEach(this.handlers,(function(e){null!==e&&t(e)}))}},et={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},nt={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:X,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},isStandardBrowserEnv:(()=>{let t;return("undefined"==typeof navigator||"ReactNative"!==(t=navigator.product)&&"NativeScript"!==t&&"NS"!==t)&&("undefined"!=typeof window&&"undefined"!=typeof document)})(),isStandardBrowserWebWorkerEnv:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,protocols:["http","https","file","blob","url","data"]};const ot=function(t){function e(t,n,o,r){let i=t[r++];const s=Number.isFinite(+i),a=r>=t.length;if(i=!i&&F.isArray(o)?o.length:i,a)return F.hasOwnProp(o,i)?o[i]=[o[i],n]:o[i]=n,!s;o[i]&&F.isObject(o[i])||(o[i]=[]);return e(t,n,o[i],r)&&F.isArray(o[i])&&(o[i]=function(t){const e={},n=Object.keys(t);let o;const r=n.length;let i;for(o=0;o<r;o++)i=n[o],e[i]=t[i];return e}(o[i])),!s}if(F.isFormData(t)&&F.isFunction(t.entries)){const n={};return F.forEachEntry(t,((t,o)=>{e(function(t){return F.matchAll(/\w+|\[(\w*)]/g,t).map((t=>"[]"===t[0]?"":t[1]||t[0]))}(t),o,n,0)})),n}return null},rt={"Content-Type":void 0};const it={transitional:et,adapter:["xhr","http"],transformRequest:[function(t,e){const n=e.getContentType()||"",o=n.indexOf("application/json")>-1,r=F.isObject(t);r&&F.isHTMLForm(t)&&(t=new FormData(t));if(F.isFormData(t))return o&&o?JSON.stringify(ot(t)):t;if(F.isArrayBuffer(t)||F.isBuffer(t)||F.isStream(t)||F.isFile(t)||F.isBlob(t))return t;if(F.isArrayBufferView(t))return t.buffer;if(F.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let i;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return K(t,new nt.classes.URLSearchParams,Object.assign({visitor:function(t,e,n,o){return nt.isNode&&F.isBuffer(t)?(this.append(e,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((i=F.isFileList(t))||n.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return K(i?{"files[]":t}:t,e&&new e,this.formSerializer)}}return r||o?(e.setContentType("application/json",!1),function(t,e,n){if(F.isString(t))try{return(e||JSON.parse)(t),F.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(n||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||it.transitional,n=e&&e.forcedJSONParsing,o="json"===this.responseType;if(t&&F.isString(t)&&(n&&!this.responseType||o)){const n=!(e&&e.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(t){if(n){if("SyntaxError"===t.name)throw j.from(t,j.ERR_BAD_RESPONSE,this,null,this.response);throw t}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:nt.classes.FormData,Blob:nt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};F.forEach(["delete","get","head"],(function(t){it.headers[t]={}})),F.forEach(["post","put","patch"],(function(t){it.headers[t]=F.merge(rt)}));const st=it,at=F.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lt=Symbol("internals");function ct(t){return t&&String(t).trim().toLowerCase()}function ut(t){return!1===t||null==t?t:F.isArray(t)?t.map(ut):String(t)}function dt(t,e,n,o,r){return F.isFunction(o)?o.call(this,e,n):(r&&(e=n),F.isString(e)?F.isString(o)?-1!==e.indexOf(o):F.isRegExp(o)?o.test(e):void 0:void 0)}class pt{constructor(t){t&&this.set(t)}set(t,e,n){const o=this;function r(t,e,n){const r=ct(e);if(!r)throw new Error("header name must be a non-empty string");const i=F.findKey(o,r);(!i||void 0===o[i]||!0===n||void 0===n&&!1!==o[i])&&(o[i||e]=ut(t))}const i=(t,e)=>F.forEach(t,((t,n)=>r(t,n,e)));return F.isPlainObject(t)||t instanceof this.constructor?i(t,e):F.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim())?i((t=>{const e={};let n,o,r;return t&&t.split("\n").forEach((function(t){r=t.indexOf(":"),n=t.substring(0,r).trim().toLowerCase(),o=t.substring(r+1).trim(),!n||e[n]&&at[n]||("set-cookie"===n?e[n]?e[n].push(o):e[n]=[o]:e[n]=e[n]?e[n]+", "+o:o)})),e})(t),e):null!=t&&r(e,t,n),this}get(t,e){if(t=ct(t)){const n=F.findKey(this,t);if(n){const t=this[n];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=n.exec(t);)e[o[1]]=o[2];return e}(t);if(F.isFunction(e))return e.call(this,t,n);if(F.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=ct(t)){const n=F.findKey(this,t);return!(!n||void 0===this[n]||e&&!dt(0,this[n],n,e))}return!1}delete(t,e){const n=this;let o=!1;function r(t){if(t=ct(t)){const r=F.findKey(n,t);!r||e&&!dt(0,n[r],r,e)||(delete n[r],o=!0)}}return F.isArray(t)?t.forEach(r):r(t),o}clear(t){const e=Object.keys(this);let n=e.length,o=!1;for(;n--;){const r=e[n];t&&!dt(0,this[r],r,t,!0)||(delete this[r],o=!0)}return o}normalize(t){const e=this,n={};return F.forEach(this,((o,r)=>{const i=F.findKey(n,r);if(i)return e[i]=ut(o),void delete e[r];const s=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((t,e,n)=>e.toUpperCase()+n))}(r):String(r).trim();s!==r&&delete e[r],e[s]=ut(o),n[s]=!0})),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return F.forEach(this,((n,o)=>{null!=n&&!1!==n&&(e[o]=t&&F.isArray(n)?n.join(", "):n)})),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([t,e])=>t+": "+e)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const n=new this(t);return e.forEach((t=>n.set(t))),n}static accessor(t){const e=(this[lt]=this[lt]={accessors:{}}).accessors,n=this.prototype;function o(t){const o=ct(t);e[o]||(!function(t,e){const n=F.toCamelCase(" "+e);["get","set","has"].forEach((o=>{Object.defineProperty(t,o+n,{value:function(t,n,r){return this[o].call(this,e,t,n,r)},configurable:!0})}))}(n,t),e[o]=!0)}return F.isArray(t)?t.forEach(o):o(t),this}}pt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),F.freezeMethods(pt.prototype),F.freezeMethods(pt);const ht=pt;function ft(t,e){const n=this||st,o=e||n,r=ht.from(o.headers);let i=o.data;return F.forEach(t,(function(t){i=t.call(n,i,r.normalize(),e?e.status:void 0)})),r.normalize(),i}function gt(t){return!(!t||!t.__CANCEL__)}function _t(t,e,n){j.call(this,null==t?"canceled":t,j.ERR_CANCELED,e,n),this.name="CanceledError"}F.inherits(_t,j,{__CANCEL__:!0});const mt=_t;const yt=nt.isStandardBrowserEnv?{write:function(t,e,n,o,r,i){const s=[];s.push(t+"="+encodeURIComponent(e)),F.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),F.isString(o)&&s.push("path="+o),F.isString(r)&&s.push("domain="+r),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function vt(t,e){return t&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)?function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}const Ct=nt.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let n;function o(n){let o=n;return t&&(e.setAttribute("href",o),o=e.href),e.setAttribute("href",o),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return n=o(window.location.href),function(t){const e=F.isString(t)?o(t):t;return e.protocol===n.protocol&&e.host===n.host}}():function(){return!0};const Et=function(t,e){t=t||10;const n=new Array(t),o=new Array(t);let r,i=0,s=0;return e=void 0!==e?e:1e3,function(a){const l=Date.now(),c=o[s];r||(r=l),n[i]=a,o[i]=l;let u=s,d=0;for(;u!==i;)d+=n[u++],u%=t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),l-r<e)return;const p=c&&l-c;return p?Math.round(1e3*d/p):void 0}};function bt(t,e){let n=0;const o=Et(50,250);return r=>{const i=r.loaded,s=r.lengthComputable?r.total:void 0,a=i-n,l=o(a);n=i;const c={loaded:i,total:s,progress:s?i/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&i<=s?(s-i)/l:void 0,event:r};c[e?"download":"upload"]=!0,t(c)}}const St="undefined"!=typeof XMLHttpRequest,wt={http:V,xhr:St&&function(t){return new Promise((function(e,n){let o=t.data;const r=ht.from(t.headers).normalize(),i=t.responseType;let s;function a(){t.cancelToken&&t.cancelToken.unsubscribe(s),t.signal&&t.signal.removeEventListener("abort",s)}F.isFormData(o)&&(nt.isStandardBrowserEnv||nt.isStandardBrowserWebWorkerEnv?r.setContentType(!1):r.setContentType("multipart/form-data;",!1));let l=new XMLHttpRequest;if(t.auth){const e=t.auth.username||"",n=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";r.set("Authorization","Basic "+btoa(e+":"+n))}const c=vt(t.baseURL,t.url);function u(){if(!l)return;const o=ht.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders());!function(t,e,n){const o=n.config.validateStatus;n.status&&o&&!o(n.status)?e(new j("Request failed with status code "+n.status,[j.ERR_BAD_REQUEST,j.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}((function(t){e(t),a()}),(function(t){n(t),a()}),{data:i&&"text"!==i&&"json"!==i?l.response:l.responseText,status:l.status,statusText:l.statusText,headers:o,config:t,request:l}),l=null}if(l.open(t.method.toUpperCase(),Q(c,t.params,t.paramsSerializer),!0),l.timeout=t.timeout,"onloadend"in l?l.onloadend=u:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(u)},l.onabort=function(){l&&(n(new j("Request aborted",j.ECONNABORTED,t,l)),l=null)},l.onerror=function(){n(new j("Network Error",j.ERR_NETWORK,t,l)),l=null},l.ontimeout=function(){let e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const o=t.transitional||et;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(new j(e,o.clarifyTimeoutError?j.ETIMEDOUT:j.ECONNABORTED,t,l)),l=null},nt.isStandardBrowserEnv){const e=(t.withCredentials||Ct(c))&&t.xsrfCookieName&&yt.read(t.xsrfCookieName);e&&r.set(t.xsrfHeaderName,e)}void 0===o&&r.setContentType(null),"setRequestHeader"in l&&F.forEach(r.toJSON(),(function(t,e){l.setRequestHeader(e,t)})),F.isUndefined(t.withCredentials)||(l.withCredentials=!!t.withCredentials),i&&"json"!==i&&(l.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&l.addEventListener("progress",bt(t.onDownloadProgress,!0)),"function"==typeof t.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",bt(t.onUploadProgress)),(t.cancelToken||t.signal)&&(s=e=>{l&&(n(!e||e.type?new mt(null,t,l):e),l.abort(),l=null)},t.cancelToken&&t.cancelToken.subscribe(s),t.signal&&(t.signal.aborted?s():t.signal.addEventListener("abort",s)));const d=function(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(c);d&&-1===nt.protocols.indexOf(d)?n(new j("Unsupported protocol "+d+":",j.ERR_BAD_REQUEST,t)):l.send(o||null)}))}};F.forEach(wt,((t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(t){}Object.defineProperty(t,"adapterName",{value:e})}}));const Ot=t=>{t=F.isArray(t)?t:[t];const{length:e}=t;let n,o;for(let r=0;r<e&&(n=t[r],!(o=F.isString(n)?wt[n.toLowerCase()]:n));r++);if(!o){if(!1===o)throw new j(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT");throw new Error(F.hasOwnProp(wt,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`)}if(!F.isFunction(o))throw new TypeError("adapter is not a function");return o};function Pt(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new mt(null,t)}function Tt(t){Pt(t),t.headers=ht.from(t.headers),t.data=ft.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1);return Ot(t.adapter||st.adapter)(t).then((function(e){return Pt(t),e.data=ft.call(t,t.transformResponse,e),e.headers=ht.from(e.headers),e}),(function(e){return gt(e)||(Pt(t),e&&e.response&&(e.response.data=ft.call(t,t.transformResponse,e.response),e.response.headers=ht.from(e.response.headers))),Promise.reject(e)}))}const Rt=t=>t instanceof ht?t.toJSON():t;function Dt(t,e){e=e||{};const n={};function o(t,e,n){return F.isPlainObject(t)&&F.isPlainObject(e)?F.merge.call({caseless:n},t,e):F.isPlainObject(e)?F.merge({},e):F.isArray(e)?e.slice():e}function r(t,e,n){return F.isUndefined(e)?F.isUndefined(t)?void 0:o(void 0,t,n):o(t,e,n)}function i(t,e){if(!F.isUndefined(e))return o(void 0,e)}function s(t,e){return F.isUndefined(e)?F.isUndefined(t)?void 0:o(void 0,t):o(void 0,e)}function a(n,r,i){return i in e?o(n,r):i in t?o(void 0,n):void 0}const l={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(t,e)=>r(Rt(t),Rt(e),!0)};return F.forEach(Object.keys(Object.assign({},t,e)),(function(o){const i=l[o]||r,s=i(t[o],e[o],o);F.isUndefined(s)&&i!==a||(n[o]=s)})),n}const xt="1.4.0",Mt={};["object","boolean","number","function","string","symbol"].forEach(((t,e)=>{Mt[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));const At={};Mt.transitional=function(t,e,n){function o(t,e){return"[Axios v1.4.0] Transitional option '"+t+"'"+e+(n?". "+n:"")}return(n,r,i)=>{if(!1===t)throw new j(o(r," has been removed"+(e?" in "+e:"")),j.ERR_DEPRECATED);return e&&!At[r]&&(At[r]=!0,console.warn(o(r," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,r,i)}};const Lt={assertOptions:function(t,e,n){if("object"!=typeof t)throw new j("options must be an object",j.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let r=o.length;for(;r-- >0;){const i=o[r],s=e[i];if(s){const e=t[i],n=void 0===e||s(e,i,t);if(!0!==n)throw new j("option "+i+" must be "+n,j.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new j("Unknown option "+i,j.ERR_BAD_OPTION)}},validators:Mt},It=Lt.validators;class Nt{constructor(t){this.defaults=t,this.interceptors={request:new tt,response:new tt}}request(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},e=Dt(this.defaults,e);const{transitional:n,paramsSerializer:o,headers:r}=e;let i;void 0!==n&&Lt.assertOptions(n,{silentJSONParsing:It.transitional(It.boolean),forcedJSONParsing:It.transitional(It.boolean),clarifyTimeoutError:It.transitional(It.boolean)},!1),null!=o&&(F.isFunction(o)?e.paramsSerializer={serialize:o}:Lt.assertOptions(o,{encode:It.function,serialize:It.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase(),i=r&&F.merge(r.common,r[e.method]),i&&F.forEach(["delete","get","head","post","put","patch","common"],(t=>{delete r[t]})),e.headers=ht.concat(i,r);const s=[];let a=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(a=a&&t.synchronous,s.unshift(t.fulfilled,t.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(t){l.push(t.fulfilled,t.rejected)}));let u,d=0;if(!a){const t=[Tt.bind(this),void 0];for(t.unshift.apply(t,s),t.push.apply(t,l),u=t.length,c=Promise.resolve(e);d<u;)c=c.then(t[d++],t[d++]);return c}u=s.length;let p=e;for(d=0;d<u;){const t=s[d++],e=s[d++];try{p=t(p)}catch(t){e.call(this,t);break}}try{c=Tt.call(this,p)}catch(t){return Promise.reject(t)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(t){return Q(vt((t=Dt(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}}F.forEach(["delete","get","head","options"],(function(t){Nt.prototype[t]=function(e,n){return this.request(Dt(n||{},{method:t,url:e,data:(n||{}).data}))}})),F.forEach(["post","put","patch"],(function(t){function e(e){return function(n,o,r){return this.request(Dt(r||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:o}))}}Nt.prototype[t]=e(),Nt.prototype[t+"Form"]=e(!0)}));const kt=Nt;class Ft{constructor(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const n=this;this.promise.then((t=>{if(!n._listeners)return;let e=n._listeners.length;for(;e-- >0;)n._listeners[e](t);n._listeners=null})),this.promise.then=t=>{let e;const o=new Promise((t=>{n.subscribe(t),e=t})).then(t);return o.cancel=function(){n.unsubscribe(e)},o},t((function(t,o,r){n.reason||(n.reason=new mt(t,o,r),e(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}static source(){let t;return{token:new Ft((function(e){t=e})),cancel:t}}}const Gt=Ft;const Bt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Bt).forEach((([t,e])=>{Bt[e]=t}));const Ut=Bt;const jt=function t(e){const n=new kt(e),r=o(kt.prototype.request,n);return F.extend(r,kt.prototype,n,{allOwnKeys:!0}),F.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return t(Dt(e,n))},r}(st);jt.Axios=kt,jt.CanceledError=mt,jt.CancelToken=Gt,jt.isCancel=gt,jt.VERSION=xt,jt.toFormData=K,jt.AxiosError=j,jt.Cancel=jt.CanceledError,jt.all=function(t){return Promise.all(t)},jt.spread=function(t){return function(e){return t.apply(null,e)}},jt.isAxiosError=function(t){return F.isObject(t)&&!0===t.isAxiosError},jt.mergeConfig=Dt,jt.AxiosHeaders=ht,jt.formToJSON=t=>ot(F.isHTMLForm(t)?new FormData(t):t),jt.HttpStatusCode=Ut,jt.default=jt;const Vt=jt},830:(t,e,n)=>{"use strict";n.d(e,{WB:()=>X,Q_:()=>st});var o=n(2262),r=n(6252),i=n(6121);function s(){return"undefined"!=typeof navigator&&"undefined"!=typeof window?window:void 0!==n.g?n.g:{}}const a="function"==typeof Proxy,l="devtools-plugin:setup";let c,u,d;function p(){return void 0!==c||("undefined"!=typeof window&&window.performance?(c=!0,u=window.performance):void 0!==n.g&&(null===(t=n.g.perf_hooks)||void 0===t?void 0:t.performance)?(c=!0,u=n.g.perf_hooks.performance):c=!1),c?u.now():Date.now();var t}class h{constructor(t,e){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=e;const n={};if(t.settings)for(const e in t.settings){const o=t.settings[e];n[e]=o.defaultValue}const o=`__vue-devtools-plugin-settings__${t.id}`;let r=Object.assign({},n);try{const t=localStorage.getItem(o),e=JSON.parse(t);Object.assign(r,e)}catch(t){}this.fallbacks={getSettings:()=>r,setSettings(t){try{localStorage.setItem(o,JSON.stringify(t))}catch(t){}r=t},now:()=>p()},e&&e.on("plugin:settings:set",((t,e)=>{t===this.plugin.id&&this.fallbacks.setSettings(e)})),this.proxiedOn=new Proxy({},{get:(t,e)=>this.target?this.target.on[e]:(...t)=>{this.onQueue.push({method:e,args:t})}}),this.proxiedTarget=new Proxy({},{get:(t,e)=>this.target?this.target[e]:"on"===e?this.proxiedOn:Object.keys(this.fallbacks).includes(e)?(...t)=>(this.targetQueue.push({method:e,args:t,resolve:()=>{}}),this.fallbacks[e](...t)):(...t)=>new Promise((n=>{this.targetQueue.push({method:e,args:t,resolve:n})}))})}async setRealTarget(t){this.target=t;for(const t of this.onQueue)this.target.on[t.method](...t.args);for(const t of this.targetQueue)t.resolve(await this.target[t.method](...t.args))}}function f(t,e){const n=t,o=s(),r=s().__VUE_DEVTOOLS_GLOBAL_HOOK__,i=a&&n.enableEarlyProxy;if(!r||!o.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&i){const t=i?new h(n,r):null;(o.__VUE_DEVTOOLS_PLUGINS__=o.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:t}),t&&e(t.proxiedTarget)}else r.emit(l,t,e)}const g=t=>d=t,_=Symbol();function m(t){return t&&"object"==typeof t&&"[object Object]"===Object.prototype.toString.call(t)&&"function"!=typeof t.toJSON}var y;!function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"}(y||(y={}));const v="undefined"!=typeof window,C=!1,E=(()=>"object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:"object"==typeof globalThis?globalThis:{HTMLElement:null})();function b(t,e,n){const o=new XMLHttpRequest;o.open("GET",t),o.responseType="blob",o.onload=function(){T(o.response,e,n)},o.onerror=function(){console.error("could not download file")},o.send()}function S(t){const e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return e.status>=200&&e.status<=299}function w(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){const n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}const O="object"==typeof navigator?navigator:{userAgent:""},P=(()=>/Macintosh/.test(O.userAgent)&&/AppleWebKit/.test(O.userAgent)&&!/Safari/.test(O.userAgent))(),T=v?"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype&&!P?function(t,e="download",n){const o=document.createElement("a");o.download=e,o.rel="noopener","string"==typeof t?(o.href=t,o.origin!==location.origin?S(o.href)?b(t,e,n):(o.target="_blank",w(o)):w(o)):(o.href=URL.createObjectURL(t),setTimeout((function(){URL.revokeObjectURL(o.href)}),4e4),setTimeout((function(){w(o)}),0))}:"msSaveOrOpenBlob"in O?function(t,e="download",n){if("string"==typeof t)if(S(t))b(t,e,n);else{const e=document.createElement("a");e.href=t,e.target="_blank",setTimeout((function(){w(e)}))}else navigator.msSaveOrOpenBlob(function(t,{autoBom:e=!1}={}){return e&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t}(t,n),e)}:function(t,e,n,o){(o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading...");if("string"==typeof t)return b(t,e,n);const r="application/octet-stream"===t.type,i=/constructor/i.test(String(E.HTMLElement))||"safari"in E,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||r&&i||P)&&"undefined"!=typeof FileReader){const e=new FileReader;e.onloadend=function(){let t=e.result;if("string"!=typeof t)throw o=null,new Error("Wrong reader.result type");t=s?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=t:location.assign(t),o=null},e.readAsDataURL(t)}else{const e=URL.createObjectURL(t);o?o.location.assign(e):location.href=e,o=null,setTimeout((function(){URL.revokeObjectURL(e)}),4e4)}}:()=>{};function R(t,e){const n=" "+t;"function"==typeof __VUE_DEVTOOLS_TOAST__?__VUE_DEVTOOLS_TOAST__(n,e):"error"===e?console.error(n):"warn"===e?console.warn(n):console.log(n)}function D(t){return"_a"in t&&"install"in t}function x(){if(!("clipboard"in navigator))return R("Your browser doesn't support the Clipboard API","error"),!0}function M(t){return!!(t instanceof Error&&t.message.toLowerCase().includes("document is not focused"))&&(R('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0)}let A;async function L(t){try{const e=await(A||(A=document.createElement("input"),A.type="file",A.accept=".json"),function(){return new Promise(((t,e)=>{A.onchange=async()=>{const e=A.files;if(!e)return t(null);const n=e.item(0);return t(n?{text:await n.text(),file:n}:null)},A.oncancel=()=>t(null),A.onerror=e,A.click()}))}),n=await e();if(!n)return;const{text:o,file:r}=n;t.state.value=JSON.parse(o),R(`Global state imported from "${r.name}".`)}catch(t){R("Failed to export the state as JSON. Check the console for more details.","error"),console.error(t)}}function I(t){return{_custom:{display:t}}}const N=" Pinia (root)",k="_root";function F(t){return D(t)?{id:k,label:N}:{id:t.$id,label:t.$id}}function G(t){return t?Array.isArray(t)?t.reduce(((t,e)=>(t.keys.push(e.key),t.operations.push(e.type),t.oldValue[e.key]=e.oldValue,t.newValue[e.key]=e.newValue,t)),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:I(t.type),key:I(t.key),oldValue:t.oldValue,newValue:t.newValue}:{}}function B(t){switch(t){case y.direct:return"mutation";case y.patchFunction:case y.patchObject:return"$patch";default:return"unknown"}}let U=!0;const j=[],V="pinia:mutations",W="pinia",{assign:H}=Object,$=t=>" "+t;function z(t,e){f({id:"dev.esm.pinia",label:"Pinia ",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:j,app:t},(n=>{"function"!=typeof n.now&&R("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),n.addTimelineLayer({id:V,label:"Pinia ",color:15064968}),n.addInspector({id:W,label:"Pinia ",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{!async function(t){if(!x())try{await navigator.clipboard.writeText(JSON.stringify(t.state.value)),R("Global state copied to clipboard.")}catch(t){if(M(t))return;R("Failed to serialize the state. Check the console for more details.","error"),console.error(t)}}(e)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await async function(t){if(!x())try{t.state.value=JSON.parse(await navigator.clipboard.readText()),R("Global state pasted from clipboard.")}catch(t){if(M(t))return;R("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(t)}}(e),n.sendInspectorTree(W),n.sendInspectorState(W)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{!async function(t){try{T(new Blob([JSON.stringify(t.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(t){R("Failed to export the state as JSON. Check the console for more details.","error"),console.error(t)}}(e)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await L(e),n.sendInspectorTree(W),n.sendInspectorState(W)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:"Reset the state (option store only)",action:t=>{const n=e._s.get(t);n?n._isOptionsAPI?(n.$reset(),R(`Store "${t}" reset.`)):R(`Cannot reset "${t}" store because it's a setup store.`,"warn"):R(`Cannot reset "${t}" store because it wasn't found.`,"warn")}}]}),n.on.inspectComponent(((t,e)=>{const n=t.componentInstance&&t.componentInstance.proxy;if(n&&n._pStores){const e=t.componentInstance.proxy._pStores;Object.values(e).forEach((e=>{t.instanceData.state.push({type:$(e.$id),key:"state",editable:!0,value:e._isOptionsAPI?{_custom:{value:(0,o.IU)(e.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>e.$reset()}]}}:Object.keys(e.$state).reduce(((t,n)=>(t[n]=e.$state[n],t)),{})}),e._getters&&e._getters.length&&t.instanceData.state.push({type:$(e.$id),key:"getters",editable:!1,value:e._getters.reduce(((t,n)=>{try{t[n]=e[n]}catch(e){t[n]=e}return t}),{})})}))}})),n.on.getInspectorTree((n=>{if(n.app===t&&n.inspectorId===W){let t=[e];t=t.concat(Array.from(e._s.values())),n.rootNodes=(n.filter?t.filter((t=>"$id"in t?t.$id.toLowerCase().includes(n.filter.toLowerCase()):N.toLowerCase().includes(n.filter.toLowerCase()))):t).map(F)}})),n.on.getInspectorState((n=>{if(n.app===t&&n.inspectorId===W){const t=n.nodeId===k?e:e._s.get(n.nodeId);if(!t)return;t&&(n.state=function(t){if(D(t)){const e=Array.from(t._s.keys()),n=t._s,o={state:e.map((e=>({editable:!0,key:e,value:t.state.value[e]}))),getters:e.filter((t=>n.get(t)._getters)).map((t=>{const e=n.get(t);return{editable:!1,key:t,value:e._getters.reduce(((t,n)=>(t[n]=e[n],t)),{})}}))};return o}const e={state:Object.keys(t.$state).map((e=>({editable:!0,key:e,value:t.$state[e]})))};return t._getters&&t._getters.length&&(e.getters=t._getters.map((e=>({editable:!1,key:e,value:t[e]})))),t._customProperties.size&&(e.customProperties=Array.from(t._customProperties).map((e=>({editable:!0,key:e,value:t[e]})))),e}(t))}})),n.on.editInspectorState(((n,o)=>{if(n.app===t&&n.inspectorId===W){const t=n.nodeId===k?e:e._s.get(n.nodeId);if(!t)return R(`store "${n.nodeId}" not found`,"error");const{path:o}=n;D(t)?o.unshift("state"):1===o.length&&t._customProperties.has(o[0])&&!(o[0]in t.$state)||o.unshift("$state"),U=!1,n.set(t,o,n.state.value),U=!0}})),n.on.editComponentState((t=>{if(t.type.startsWith("")){const n=t.type.replace(/^\s*/,""),o=e._s.get(n);if(!o)return R(`store "${n}" not found`,"error");const{path:r}=t;if("state"!==r[0])return R(`Invalid path for store "${n}":\n${r}\nOnly state can be modified.`);r[0]="$state",U=!1,t.set(o,r,t.state.value),U=!0}}))}))}let K,Y=0;function Z(t,e){const n=e.reduce(((e,n)=>(e[n]=(0,o.IU)(t)[n],e)),{});for(const e in n)t[e]=function(){const o=Y,r=new Proxy(t,{get:(...t)=>(K=o,Reflect.get(...t)),set:(...t)=>(K=o,Reflect.set(...t))});return n[e].apply(r,arguments)}}function q({app:t,store:e,options:n}){if(!e.$id.startsWith("__hot:")){if(n.state&&(e._isOptionsAPI=!0),"function"==typeof n.state){Z(e,Object.keys(n.actions));const t=e._hotUpdate;(0,o.IU)(e)._hotUpdate=function(n){t.apply(this,arguments),Z(e,Object.keys(n._hmrPayload.actions))}}!function(t,e){j.includes($(e.$id))||j.push($(e.$id)),f({id:"dev.esm.pinia",label:"Pinia ",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:j,app:t,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},(t=>{const n="function"==typeof t.now?t.now.bind(t):Date.now;e.$onAction((({after:o,onError:r,name:i,args:s})=>{const a=Y++;t.addTimelineEvent({layerId:V,event:{time:n(),title:" "+i,subtitle:"start",data:{store:I(e.$id),action:I(i),args:s},groupId:a}}),o((o=>{K=void 0,t.addTimelineEvent({layerId:V,event:{time:n(),title:" "+i,subtitle:"end",data:{store:I(e.$id),action:I(i),args:s,result:o},groupId:a}})})),r((o=>{K=void 0,t.addTimelineEvent({layerId:V,event:{time:n(),logType:"error",title:" "+i,subtitle:"end",data:{store:I(e.$id),action:I(i),args:s,error:o},groupId:a}})}))}),!0),e._customProperties.forEach((i=>{(0,r.YP)((()=>(0,o.SU)(e[i])),((e,o)=>{t.notifyComponentUpdate(),t.sendInspectorState(W),U&&t.addTimelineEvent({layerId:V,event:{time:n(),title:"Change",subtitle:i,data:{newValue:e,oldValue:o},groupId:K}})}),{deep:!0})})),e.$subscribe((({events:o,type:r},i)=>{if(t.notifyComponentUpdate(),t.sendInspectorState(W),!U)return;const s={time:n(),title:B(r),data:H({store:I(e.$id)},G(o)),groupId:K};K=void 0,r===y.patchFunction?s.subtitle="":r===y.patchObject?s.subtitle="":o&&!Array.isArray(o)&&(s.subtitle=o.type),o&&(s.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:o}}),t.addTimelineEvent({layerId:V,event:s})}),{detached:!0,flush:"sync"});const i=e._hotUpdate;e._hotUpdate=(0,o.Xl)((o=>{i(o),t.addTimelineEvent({layerId:V,event:{time:n(),title:" "+e.$id,subtitle:"HMR update",data:{store:I(e.$id),info:I("HMR update")}}}),t.notifyComponentUpdate(),t.sendInspectorTree(W),t.sendInspectorState(W)}));const{$dispose:s}=e;e.$dispose=()=>{s(),t.notifyComponentUpdate(),t.sendInspectorTree(W),t.sendInspectorState(W),t.getSettings().logStoreChanges&&R(`Disposed "${e.$id}" store `)},t.notifyComponentUpdate(),t.sendInspectorTree(W),t.sendInspectorState(W),t.getSettings().logStoreChanges&&R(`"${e.$id}" store installed `)}))}(t,e)}}function X(){const t=(0,o.B)(!0),e=t.run((()=>(0,o.iH)({})));let n=[],r=[];const s=(0,o.Xl)({install(t){g(s),i.$Q||(s._a=t,t.provide(_,s),t.config.globalProperties.$pinia=s,C&&z(t,s),r.forEach((t=>n.push(t))),r=[])},use(t){return this._a||i.$Q?n.push(t):r.push(t),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return C&&"undefined"!=typeof Proxy&&s.use(q),s}const J=()=>{};function Q(t,e,n,r=J){t.push(e);const i=()=>{const n=t.indexOf(e);n>-1&&(t.splice(n,1),r())};return!n&&(0,o.nZ)()&&(0,o.EB)(i),i}function tt(t,...e){t.slice().forEach((t=>{t(...e)}))}function et(t,e){t instanceof Map&&e instanceof Map&&e.forEach(((e,n)=>t.set(n,e))),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];m(i)&&m(r)&&t.hasOwnProperty(n)&&!(0,o.dq)(r)&&!(0,o.PG)(r)?t[n]=et(i,r):t[n]=r}return t}const nt=Symbol(),ot=new WeakMap;const{assign:rt}=Object;function it(t,e,n={},s,a,l){let c;const u=rt({actions:{}},n);const d={deep:!0};let p,h;let f,_=(0,o.Xl)([]),v=(0,o.Xl)([]);const E=s.state.value[t];l||E||(i.$Q?(0,i.t8)(s.state.value,t,{}):s.state.value[t]={});const b=(0,o.iH)({});let S;function w(e){let n;p=h=!1,"function"==typeof e?(e(s.state.value[t]),n={type:y.patchFunction,storeId:t,events:f}):(et(s.state.value[t],e),n={type:y.patchObject,payload:e,storeId:t,events:f});const o=S=Symbol();(0,r.Y3)().then((()=>{S===o&&(p=!0)})),h=!0,tt(_,n,s.state.value[t])}const O=l?function(){const{state:t}=n,e=t?t():{};this.$patch((t=>{rt(t,e)}))}:J;function P(e,n){return function(){g(s);const o=Array.from(arguments),r=[],i=[];let a;tt(v,{args:o,name:e,store:D,after:function(t){r.push(t)},onError:function(t){i.push(t)}});try{a=n.apply(this&&this.$id===t?this:D,o)}catch(t){throw tt(i,t),t}return a instanceof Promise?a.then((t=>(tt(r,t),t))).catch((t=>(tt(i,t),Promise.reject(t)))):(tt(r,a),a)}}const T=(0,o.Xl)({actions:{},getters:{},state:[],hotState:b}),R={_p:s,$id:t,$onAction:Q.bind(null,v),$patch:w,$reset:O,$subscribe(e,n={}){const o=Q(_,e,n.detached,(()=>i())),i=c.run((()=>(0,r.YP)((()=>s.state.value[t]),(o=>{("sync"===n.flush?h:p)&&e({storeId:t,type:y.direct,events:f},o)}),rt({},d,n))));return o},$dispose:function(){c.stop(),_=[],v=[],s._s.delete(t)}};i.$Q&&(R._r=!1);const D=(0,o.qj)(C?rt({_hmrPayload:T,_customProperties:(0,o.Xl)(new Set)},R):R);s._s.set(t,D);const x=s._e.run((()=>(c=(0,o.B)(),c.run((()=>e())))));for(const e in x){const n=x[e];if((0,o.dq)(n)&&(A=n,!(0,o.dq)(A)||!A.effect)||(0,o.PG)(n))l||(!E||(M=n,i.$Q?ot.has(M):m(M)&&M.hasOwnProperty(nt))||((0,o.dq)(n)?n.value=E[e]:et(n,E[e])),i.$Q?(0,i.t8)(s.state.value[t],e,n):s.state.value[t][e]=n);else if("function"==typeof n){const t=P(e,n);i.$Q?(0,i.t8)(x,e,t):x[e]=t,u.actions[e]=n}else 0}var M,A;if(i.$Q?Object.keys(x).forEach((t=>{(0,i.t8)(D,t,x[t])})):(rt(D,x),rt((0,o.IU)(D),x)),Object.defineProperty(D,"$state",{get:()=>s.state.value[t],set:t=>{w((e=>{rt(e,t)}))}}),C){const t={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach((e=>{Object.defineProperty(D,e,rt({value:D[e]},t))}))}return i.$Q&&(D._r=!0),s._p.forEach((t=>{if(C){const e=c.run((()=>t({store:D,app:s._a,pinia:s,options:u})));Object.keys(e||{}).forEach((t=>D._customProperties.add(t))),rt(D,e)}else rt(D,c.run((()=>t({store:D,app:s._a,pinia:s,options:u}))))})),E&&l&&n.hydrate&&n.hydrate(D.$state,E),p=!0,h=!0,D}function st(t,e,n){let s,a;const l="function"==typeof e;function c(t,n){const c=(0,r.FN)();(t=t||c&&(0,r.f3)(_,null))&&g(t),(t=d)._s.has(s)||(l?it(s,e,a,t):function(t,e,n,s){const{state:a,actions:l,getters:c}=e,u=n.state.value[t];let d;d=it(t,(function(){u||(i.$Q?(0,i.t8)(n.state.value,t,a?a():{}):n.state.value[t]=a?a():{});const e=(0,o.BK)(n.state.value[t]);return rt(e,l,Object.keys(c||{}).reduce(((e,s)=>(e[s]=(0,o.Xl)((0,r.Fl)((()=>{g(n);const e=n._s.get(t);if(!i.$Q||e._r)return c[s].call(e,e)}))),e)),{}))}),e,n,0,!0)}(s,a,t));return t._s.get(s)}return"string"==typeof t?(s=t,a=l?n:e):(a=t,s=t.id),c.$id=s,c}},6121:(t,e,n)=>{"use strict";n.d(e,{$B:()=>r,$Q:()=>o,t8:()=>i});var o=!1,r=!0;function i(t,e,n){return Array.isArray(t)?(t.length=Math.max(t.length,e),t.splice(e,1,n),n):(t[e]=n,n)}},2201:(t,e,n)=>{"use strict";n.d(e,{p7:()=>kt,r5:()=>A});var o=n(6252),r=n(2262);const i="undefined"!=typeof window;function s(t){return t.__esModule||"Module"===t[Symbol.toStringTag]}const a=Object.assign;function l(t,e){const n={};for(const o in e){const r=e[o];n[o]=u(r)?r.map(t):t(r)}return n}const c=()=>{},u=Array.isArray;const d=/\/$/,p=t=>t.replace(d,"");function h(t,e,n="/"){let o,r={},i="",s="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(o=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),r=t(i)),a>-1&&(o=o||e.slice(0,a),s=e.slice(a,e.length)),o=function(t,e){if(t.startsWith("/"))return t;0;if(!t)return e;const n=e.split("/"),o=t.split("/");let r,i,s=n.length-1;for(r=0;r<o.length;r++)if(i=o[r],"."!==i){if(".."!==i)break;s>1&&s--}return n.slice(0,s).join("/")+"/"+o.slice(r-(r===o.length?1:0)).join("/")}(null!=o?o:e,n),{fullPath:o+(i&&"?")+i+s,path:o,query:r,hash:s}}function f(t,e){return e&&t.toLowerCase().startsWith(e.toLowerCase())?t.slice(e.length)||"/":t}function g(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function _(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!m(t[n],e[n]))return!1;return!0}function m(t,e){return u(t)?y(t,e):u(e)?y(e,t):t===e}function y(t,e){return u(e)?t.length===e.length&&t.every(((t,n)=>t===e[n])):1===t.length&&t[0]===e}var v,C;!function(t){t.pop="pop",t.push="push"}(v||(v={})),function(t){t.back="back",t.forward="forward",t.unknown=""}(C||(C={}));function E(t){if(!t)if(i){const e=document.querySelector("base");t=(t=e&&e.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return"/"!==t[0]&&"#"!==t[0]&&(t="/"+t),p(t)}const b=/^[^#]+#/;function S(t,e){return t.replace(b,"#")+e}const w=()=>({left:window.pageXOffset,top:window.pageYOffset});function O(t){let e;if("el"in t){const n=t.el,o="string"==typeof n&&n.startsWith("#");0;const r="string"==typeof n?o?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=function(t,e){const n=document.documentElement.getBoundingClientRect(),o=t.getBoundingClientRect();return{behavior:e.behavior,left:o.left-n.left-(e.left||0),top:o.top-n.top-(e.top||0)}}(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(null!=e.left?e.left:window.pageXOffset,null!=e.top?e.top:window.pageYOffset)}function P(t,e){return(history.state?history.state.position-e:-1)+t}const T=new Map;let R=()=>location.protocol+"//"+location.host;function D(t,e){const{pathname:n,search:o,hash:r}=e,i=t.indexOf("#");if(i>-1){let e=r.includes(t.slice(i))?t.slice(i).length:1,n=r.slice(e);return"/"!==n[0]&&(n="/"+n),f(n,"")}return f(n,t)+o+r}function x(t,e,n,o=!1,r=!1){return{back:t,current:e,forward:n,replaced:o,position:window.history.length,scroll:r?w():null}}function M(t){const e=function(t){const{history:e,location:n}=window,o={value:D(t,n)},r={value:e.state};function i(o,i,s){const a=t.indexOf("#"),l=a>-1?(n.host&&document.querySelector("base")?t:t.slice(a))+o:R()+t+o;try{e[s?"replaceState":"pushState"](i,"",l),r.value=i}catch(t){console.error(t),n[s?"replace":"assign"](l)}}return r.value||i(o.value,{back:null,current:o.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0),{location:o,state:r,push:function(t,n){const s=a({},r.value,e.state,{forward:t,scroll:w()});i(s.current,s,!0),i(t,a({},x(o.value,t,null),{position:s.position+1},n),!1),o.value=t},replace:function(t,n){i(t,a({},e.state,x(r.value.back,t,r.value.forward,!0),n,{position:r.value.position}),!0),o.value=t}}}(t=E(t)),n=function(t,e,n,o){let r=[],i=[],s=null;const l=({state:i})=>{const a=D(t,location),l=n.value,c=e.value;let u=0;if(i){if(n.value=a,e.value=i,s&&s===l)return void(s=null);u=c?i.position-c.position:0}else o(a);r.forEach((t=>{t(n.value,l,{delta:u,type:v.pop,direction:u?u>0?C.forward:C.back:C.unknown})}))};function c(){const{history:t}=window;t.state&&t.replaceState(a({},t.state,{scroll:w()}),"")}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",c),{pauseListeners:function(){s=n.value},listen:function(t){r.push(t);const e=()=>{const e=r.indexOf(t);e>-1&&r.splice(e,1)};return i.push(e),e},destroy:function(){for(const t of i)t();i=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",c)}}}(t,e.state,e.location,e.replace);const o=a({location:"",base:t,go:function(t,e=!0){e||n.pauseListeners(),history.go(t)},createHref:S.bind(null,t)},e,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>e.state.value}),o}function A(t){return(t=location.host?t||location.pathname+location.search:"").includes("#")||(t+="#"),M(t)}function L(t){return"string"==typeof t||"symbol"==typeof t}const I={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},N=Symbol("");var k;!function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"}(k||(k={}));function F(t,e){return a(new Error,{type:t,[N]:!0},e)}function G(t,e){return t instanceof Error&&N in t&&(null==e||!!(t.type&e))}const B="[^/]+?",U={sensitive:!1,strict:!1,start:!0,end:!0},j=/[.+*?^${}()[\]/\\]/g;function V(t,e){let n=0;for(;n<t.length&&n<e.length;){const o=e[n]-t[n];if(o)return o;n++}return t.length<e.length?1===t.length&&80===t[0]?-1:1:t.length>e.length?1===e.length&&80===e[0]?1:-1:0}function W(t,e){let n=0;const o=t.score,r=e.score;for(;n<o.length&&n<r.length;){const t=V(o[n],r[n]);if(t)return t;n++}if(1===Math.abs(r.length-o.length)){if(H(o))return 1;if(H(r))return-1}return r.length-o.length}function H(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const $={type:0,value:""},z=/[a-zA-Z0-9_]/;function K(t,e,n){const o=function(t,e){const n=a({},U,e),o=[];let r=n.start?"^":"";const i=[];for(const e of t){const t=e.length?[]:[90];n.strict&&!e.length&&(r+="/");for(let o=0;o<e.length;o++){const s=e[o];let a=40+(n.sensitive?.25:0);if(0===s.type)o||(r+="/"),r+=s.value.replace(j,"\\$&"),a+=40;else if(1===s.type){const{value:t,repeatable:n,optional:l,regexp:c}=s;i.push({name:t,repeatable:n,optional:l});const u=c||B;if(u!==B){a+=10;try{new RegExp(`(${u})`)}catch(e){throw new Error(`Invalid custom RegExp for param "${t}" (${u}): `+e.message)}}let d=n?`((?:${u})(?:/(?:${u}))*)`:`(${u})`;o||(d=l&&e.length<2?`(?:/${d})`:"/"+d),l&&(d+="?"),r+=d,a+=20,l&&(a+=-8),n&&(a+=-20),".*"===u&&(a+=-50)}t.push(a)}o.push(t)}if(n.strict&&n.end){const t=o.length-1;o[t][o[t].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const s=new RegExp(r,n.sensitive?"":"i");return{re:s,score:o,keys:i,parse:function(t){const e=t.match(s),n={};if(!e)return null;for(let t=1;t<e.length;t++){const o=e[t]||"",r=i[t-1];n[r.name]=o&&r.repeatable?o.split("/"):o}return n},stringify:function(e){let n="",o=!1;for(const r of t){o&&n.endsWith("/")||(n+="/"),o=!1;for(const t of r)if(0===t.type)n+=t.value;else if(1===t.type){const{value:i,repeatable:s,optional:a}=t,l=i in e?e[i]:"";if(u(l)&&!s)throw new Error(`Provided param "${i}" is an array but it is not repeatable (* or + modifiers)`);const c=u(l)?l.join("/"):l;if(!c){if(!a)throw new Error(`Missing required param "${i}"`);r.length<2&&(n.endsWith("/")?n=n.slice(0,-1):o=!0)}n+=c}}return n||"/"}}}(function(t){if(!t)return[[]];if("/"===t)return[[$]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(t){throw new Error(`ERR (${n})/"${c}": ${t}`)}let n=0,o=n;const r=[];let i;function s(){i&&r.push(i),i=[]}let a,l=0,c="",u="";function d(){c&&(0===n?i.push({type:0,value:c}):1===n||2===n||3===n?(i.length>1&&("*"===a||"+"===a)&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):e("Invalid state to consume buffer"),c="")}function p(){c+=a}for(;l<t.length;)if(a=t[l++],"\\"!==a||2===n)switch(n){case 0:"/"===a?(c&&d(),s()):":"===a?(d(),n=1):p();break;case 4:p(),n=o;break;case 1:"("===a?n=2:z.test(a)?p():(d(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&l--);break;case 2:")"===a?"\\"==u[u.length-1]?u=u.slice(0,-1)+a:n=3:u+=a;break;case 3:d(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&l--,u="";break;default:e("Unknown state")}else o=n,n=4;return 2===n&&e(`Unfinished custom RegExp for param "${c}"`),d(),s(),r}(t.path),n);const r=a(o,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function Y(t,e){const n=[],o=new Map;function r(t,n,o){const l=!o,u=function(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:q(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}(t);u.aliasOf=o&&o.record;const d=Q(e,t),p=[u];if("alias"in t){const e="string"==typeof t.alias?[t.alias]:t.alias;for(const t of e)p.push(a({},u,{components:o?o.record.components:u.components,path:t,aliasOf:o?o.record:u}))}let h,f;for(const e of p){const{path:a}=e;if(n&&"/"!==a[0]){const t=n.record.path,o="/"===t[t.length-1]?"":"/";e.path=n.record.path+(a&&o+a)}if(h=K(e,n,d),o?o.alias.push(h):(f=f||h,f!==h&&f.alias.push(h),l&&t.name&&!X(h)&&i(t.name)),u.children){const t=u.children;for(let e=0;e<t.length;e++)r(t[e],h,o&&o.children[e])}o=o||h,(h.record.components&&Object.keys(h.record.components).length||h.record.name||h.record.redirect)&&s(h)}return f?()=>{i(f)}:c}function i(t){if(L(t)){const e=o.get(t);e&&(o.delete(t),n.splice(n.indexOf(e),1),e.children.forEach(i),e.alias.forEach(i))}else{const e=n.indexOf(t);e>-1&&(n.splice(e,1),t.record.name&&o.delete(t.record.name),t.children.forEach(i),t.alias.forEach(i))}}function s(t){let e=0;for(;e<n.length&&W(t,n[e])>=0&&(t.record.path!==n[e].record.path||!tt(t,n[e]));)e++;n.splice(e,0,t),t.record.name&&!X(t)&&o.set(t.record.name,t)}return e=Q({strict:!1,end:!0,sensitive:!1},e),t.forEach((t=>r(t))),{addRoute:r,resolve:function(t,e){let r,i,s,l={};if("name"in t&&t.name){if(r=o.get(t.name),!r)throw F(1,{location:t});0,s=r.record.name,l=a(Z(e.params,r.keys.filter((t=>!t.optional)).map((t=>t.name))),t.params&&Z(t.params,r.keys.map((t=>t.name)))),i=r.stringify(l)}else if("path"in t)i=t.path,r=n.find((t=>t.re.test(i))),r&&(l=r.parse(i),s=r.record.name);else{if(r=e.name?o.get(e.name):n.find((t=>t.re.test(e.path))),!r)throw F(1,{location:t,currentLocation:e});s=r.record.name,l=a({},e.params,t.params),i=r.stringify(l)}const c=[];let u=r;for(;u;)c.unshift(u.record),u=u.parent;return{name:s,path:i,params:l,matched:c,meta:J(c)}},removeRoute:i,getRoutes:function(){return n},getRecordMatcher:function(t){return o.get(t)}}}function Z(t,e){const n={};for(const o of e)o in t&&(n[o]=t[o]);return n}function q(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const o in t.components)e[o]="boolean"==typeof n?n:n[o];return e}function X(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function J(t){return t.reduce(((t,e)=>a(t,e.meta)),{})}function Q(t,e){const n={};for(const o in t)n[o]=o in e?e[o]:t[o];return n}function tt(t,e){return e.children.some((e=>e===t||tt(t,e)))}const et=/#/g,nt=/&/g,ot=/\//g,rt=/=/g,it=/\?/g,st=/\+/g,at=/%5B/g,lt=/%5D/g,ct=/%5E/g,ut=/%60/g,dt=/%7B/g,pt=/%7C/g,ht=/%7D/g,ft=/%20/g;function gt(t){return encodeURI(""+t).replace(pt,"|").replace(at,"[").replace(lt,"]")}function _t(t){return gt(t).replace(st,"%2B").replace(ft,"+").replace(et,"%23").replace(nt,"%26").replace(ut,"`").replace(dt,"{").replace(ht,"}").replace(ct,"^")}function mt(t){return null==t?"":function(t){return gt(t).replace(et,"%23").replace(it,"%3F")}(t).replace(ot,"%2F")}function yt(t){try{return decodeURIComponent(""+t)}catch(t){}return""+t}function vt(t){const e={};if(""===t||"?"===t)return e;const n=("?"===t[0]?t.slice(1):t).split("&");for(let t=0;t<n.length;++t){const o=n[t].replace(st," "),r=o.indexOf("="),i=yt(r<0?o:o.slice(0,r)),s=r<0?null:yt(o.slice(r+1));if(i in e){let t=e[i];u(t)||(t=e[i]=[t]),t.push(s)}else e[i]=s}return e}function Ct(t){let e="";for(let n in t){const o=t[n];if(n=_t(n).replace(rt,"%3D"),null==o){void 0!==o&&(e+=(e.length?"&":"")+n);continue}(u(o)?o.map((t=>t&&_t(t))):[o&&_t(o)]).forEach((t=>{void 0!==t&&(e+=(e.length?"&":"")+n,null!=t&&(e+="="+t))}))}return e}function Et(t){const e={};for(const n in t){const o=t[n];void 0!==o&&(e[n]=u(o)?o.map((t=>null==t?null:""+t)):null==o?o:""+o)}return e}const bt=Symbol(""),St=Symbol(""),wt=Symbol(""),Ot=Symbol(""),Pt=Symbol("");function Tt(){let t=[];return{add:function(e){return t.push(e),()=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)}},list:()=>t,reset:function(){t=[]}}}function Rt(t,e,n,o,r){const i=o&&(o.enterCallbacks[r]=o.enterCallbacks[r]||[]);return()=>new Promise(((s,a)=>{const l=t=>{var l;!1===t?a(F(4,{from:n,to:e})):t instanceof Error?a(t):"string"==typeof(l=t)||l&&"object"==typeof l?a(F(2,{from:e,to:t})):(i&&o.enterCallbacks[r]===i&&"function"==typeof t&&i.push(t),s())},c=t.call(o&&o.instances[r],e,n,l);let u=Promise.resolve(c);t.length<3&&(u=u.then(l)),u.catch((t=>a(t)))}))}function Dt(t,e,n,o){const r=[];for(const a of t){0;for(const t in a.components){let l=a.components[t];if("beforeRouteEnter"===e||a.instances[t])if("object"==typeof(i=l)||"displayName"in i||"props"in i||"__vccOpts"in i){const i=(l.__vccOpts||l)[e];i&&r.push(Rt(i,n,o,a,t))}else{let i=l();0,r.push((()=>i.then((r=>{if(!r)return Promise.reject(new Error(`Couldn't resolve component "${t}" at "${a.path}"`));const i=s(r)?r.default:r;a.components[t]=i;const l=(i.__vccOpts||i)[e];return l&&Rt(l,n,o,a,t)()}))))}}}var i;return r}function xt(t){const e=(0,o.f3)(wt),n=(0,o.f3)(Ot),i=(0,o.Fl)((()=>e.resolve((0,r.SU)(t.to)))),s=(0,o.Fl)((()=>{const{matched:t}=i.value,{length:e}=t,o=t[e-1],r=n.matched;if(!o||!r.length)return-1;const s=r.findIndex(g.bind(null,o));if(s>-1)return s;const a=At(t[e-2]);return e>1&&At(o)===a&&r[r.length-1].path!==a?r.findIndex(g.bind(null,t[e-2])):s})),a=(0,o.Fl)((()=>s.value>-1&&function(t,e){for(const n in e){const o=e[n],r=t[n];if("string"==typeof o){if(o!==r)return!1}else if(!u(r)||r.length!==o.length||o.some(((t,e)=>t!==r[e])))return!1}return!0}(n.params,i.value.params))),l=(0,o.Fl)((()=>s.value>-1&&s.value===n.matched.length-1&&_(n.params,i.value.params)));return{route:i,href:(0,o.Fl)((()=>i.value.href)),isActive:a,isExactActive:l,navigate:function(n={}){return function(t){if(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)return;if(t.defaultPrevented)return;if(void 0!==t.button&&0!==t.button)return;if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}t.preventDefault&&t.preventDefault();return!0}(n)?e[(0,r.SU)(t.replace)?"replace":"push"]((0,r.SU)(t.to)).catch(c):Promise.resolve()}}}const Mt=(0,o.aZ)({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:xt,setup(t,{slots:e}){const n=(0,r.qj)(xt(t)),{options:i}=(0,o.f3)(wt),s=(0,o.Fl)((()=>({[Lt(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[Lt(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const r=e.default&&e.default(n);return t.custom?r:(0,o.h)("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},r)}}});function At(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Lt=(t,e,n)=>null!=t?t:null!=e?e:n;function It(t,e){if(!t)return null;const n=t(e);return 1===n.length?n[0]:n}const Nt=(0,o.aZ)({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=(0,o.f3)(Pt),s=(0,o.Fl)((()=>t.route||i.value)),l=(0,o.f3)(St,0),c=(0,o.Fl)((()=>{let t=(0,r.SU)(l);const{matched:e}=s.value;let n;for(;(n=e[t])&&!n.components;)t++;return t})),u=(0,o.Fl)((()=>s.value.matched[c.value]));(0,o.JJ)(St,(0,o.Fl)((()=>c.value+1))),(0,o.JJ)(bt,u),(0,o.JJ)(Pt,s);const d=(0,r.iH)();return(0,o.YP)((()=>[d.value,u.value,t.name]),(([t,e,n],[o,r,i])=>{e&&(e.instances[n]=t,r&&r!==e&&t&&t===o&&(e.leaveGuards.size||(e.leaveGuards=r.leaveGuards),e.updateGuards.size||(e.updateGuards=r.updateGuards))),!t||!e||r&&g(e,r)&&o||(e.enterCallbacks[n]||[]).forEach((e=>e(t)))}),{flush:"post"}),()=>{const r=s.value,i=t.name,l=u.value,c=l&&l.components[i];if(!c)return It(n.default,{Component:c,route:r});const p=l.props[i],h=p?!0===p?r.params:"function"==typeof p?p(r):p:null,f=(0,o.h)(c,a({},h,e,{onVnodeUnmounted:t=>{t.component.isUnmounted&&(l.instances[i]=null)},ref:d}));return It(n.default,{Component:f,route:r})||f}}});function kt(t){const e=Y(t.routes,t),n=t.parseQuery||vt,s=t.stringifyQuery||Ct,d=t.history;const p=Tt(),f=Tt(),m=Tt(),y=(0,r.XI)(I);let C=I;i&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const E=l.bind(null,(t=>""+t)),b=l.bind(null,mt),S=l.bind(null,yt);function R(t,o){if(o=a({},o||y.value),"string"==typeof t){const r=h(n,t,o.path),i=e.resolve({path:r.path},o),s=d.createHref(r.fullPath);return a(r,i,{params:S(i.params),hash:yt(r.hash),redirectedFrom:void 0,href:s})}let r;if("path"in t)r=a({},t,{path:h(n,t.path,o.path).path});else{const e=a({},t.params);for(const t in e)null==e[t]&&delete e[t];r=a({},t,{params:b(t.params)}),o.params=b(o.params)}const i=e.resolve(r,o),l=t.hash||"";i.params=E(S(i.params));const c=function(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}(s,a({},t,{hash:(u=l,gt(u).replace(dt,"{").replace(ht,"}").replace(ct,"^")),path:i.path}));var u;const p=d.createHref(c);return a({fullPath:c,hash:l,query:s===Ct?Et(t.query):t.query||{}},i,{redirectedFrom:void 0,href:p})}function D(t){return"string"==typeof t?h(n,t,y.value.path):a({},t)}function x(t,e){if(C!==t)return F(8,{from:e,to:t})}function M(t){return N(t)}function A(t){const e=t.matched[t.matched.length-1];if(e&&e.redirect){const{redirect:n}=e;let o="function"==typeof n?n(t):n;return"string"==typeof o&&(o=o.includes("?")||o.includes("#")?o=D(o):{path:o},o.params={}),a({query:t.query,hash:t.hash,params:"path"in o?{}:t.params},o)}}function N(t,e){const n=C=R(t),o=y.value,r=t.state,i=t.force,l=!0===t.replace,c=A(n);if(c)return N(a(D(c),{state:"object"==typeof c?a({},r,c.state):r,force:i,replace:l}),e||n);const u=n;let d;return u.redirectedFrom=e,!i&&function(t,e,n){const o=e.matched.length-1,r=n.matched.length-1;return o>-1&&o===r&&g(e.matched[o],n.matched[r])&&_(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}(s,o,n)&&(d=F(16,{to:u,from:o}),q(o,o,!0,!1)),(d?Promise.resolve(d):B(u,o)).catch((t=>G(t)?G(t,2)?t:Z(t):K(t,u,o))).then((t=>{if(t){if(G(t,2))return N(a({replace:l},D(t.to),{state:"object"==typeof t.to?a({},r,t.to.state):r,force:i}),e||u)}else t=j(u,o,!0,l,r);return U(u,o,t),t}))}function k(t,e){const n=x(t,e);return n?Promise.reject(n):Promise.resolve()}function B(t,e){let n;const[o,r,i]=function(t,e){const n=[],o=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let s=0;s<i;s++){const i=e.matched[s];i&&(t.matched.find((t=>g(t,i)))?o.push(i):n.push(i));const a=t.matched[s];a&&(e.matched.find((t=>g(t,a)))||r.push(a))}return[n,o,r]}(t,e);n=Dt(o.reverse(),"beforeRouteLeave",t,e);for(const r of o)r.leaveGuards.forEach((o=>{n.push(Rt(o,t,e))}));const s=k.bind(null,t,e);return n.push(s),Ft(n).then((()=>{n=[];for(const o of p.list())n.push(Rt(o,t,e));return n.push(s),Ft(n)})).then((()=>{n=Dt(r,"beforeRouteUpdate",t,e);for(const o of r)o.updateGuards.forEach((o=>{n.push(Rt(o,t,e))}));return n.push(s),Ft(n)})).then((()=>{n=[];for(const o of t.matched)if(o.beforeEnter&&!e.matched.includes(o))if(u(o.beforeEnter))for(const r of o.beforeEnter)n.push(Rt(r,t,e));else n.push(Rt(o.beforeEnter,t,e));return n.push(s),Ft(n)})).then((()=>(t.matched.forEach((t=>t.enterCallbacks={})),n=Dt(i,"beforeRouteEnter",t,e),n.push(s),Ft(n)))).then((()=>{n=[];for(const o of f.list())n.push(Rt(o,t,e));return n.push(s),Ft(n)})).catch((t=>G(t,8)?t:Promise.reject(t)))}function U(t,e,n){for(const o of m.list())o(t,e,n)}function j(t,e,n,o,r){const s=x(t,e);if(s)return s;const l=e===I,c=i?history.state:{};n&&(o||l?d.replace(t.fullPath,a({scroll:l&&c&&c.scroll},r)):d.push(t.fullPath,r)),y.value=t,q(t,e,n,l),Z()}let V;function W(){V||(V=d.listen(((t,e,n)=>{if(!tt.listening)return;const o=R(t),r=A(o);if(r)return void N(a(r,{replace:!0}),o).catch(c);C=o;const s=y.value;var l,u;i&&(l=P(s.fullPath,n.delta),u=w(),T.set(l,u)),B(o,s).catch((t=>G(t,12)?t:G(t,2)?(N(t.to,o).then((t=>{G(t,20)&&!n.delta&&n.type===v.pop&&d.go(-1,!1)})).catch(c),Promise.reject()):(n.delta&&d.go(-n.delta,!1),K(t,o,s)))).then((t=>{(t=t||j(o,s,!1))&&(n.delta&&!G(t,8)?d.go(-n.delta,!1):n.type===v.pop&&G(t,20)&&d.go(-1,!1)),U(o,s,t)})).catch(c)})))}let H,$=Tt(),z=Tt();function K(t,e,n){Z(t);const o=z.list();return o.length?o.forEach((o=>o(t,e,n))):console.error(t),Promise.reject(t)}function Z(t){return H||(H=!t,W(),$.list().forEach((([e,n])=>t?n(t):e())),$.reset()),t}function q(e,n,r,s){const{scrollBehavior:a}=t;if(!i||!a)return Promise.resolve();const l=!r&&function(t){const e=T.get(t);return T.delete(t),e}(P(e.fullPath,0))||(s||!r)&&history.state&&history.state.scroll||null;return(0,o.Y3)().then((()=>a(e,n,l))).then((t=>t&&O(t))).catch((t=>K(t,e,n)))}const X=t=>d.go(t);let J;const Q=new Set,tt={currentRoute:y,listening:!0,addRoute:function(t,n){let o,r;return L(t)?(o=e.getRecordMatcher(t),r=n):r=t,e.addRoute(r,o)},removeRoute:function(t){const n=e.getRecordMatcher(t);n&&e.removeRoute(n)},hasRoute:function(t){return!!e.getRecordMatcher(t)},getRoutes:function(){return e.getRoutes().map((t=>t.record))},resolve:R,options:t,push:M,replace:function(t){return M(a(D(t),{replace:!0}))},go:X,back:()=>X(-1),forward:()=>X(1),beforeEach:p.add,beforeResolve:f.add,afterEach:m.add,onError:z.add,isReady:function(){return H&&y.value!==I?Promise.resolve():new Promise(((t,e)=>{$.add([t,e])}))},install(t){t.component("RouterLink",Mt),t.component("RouterView",Nt),t.config.globalProperties.$router=this,Object.defineProperty(t.config.globalProperties,"$route",{enumerable:!0,get:()=>(0,r.SU)(y)}),i&&!J&&y.value===I&&(J=!0,M(d.location).catch((t=>{0})));const e={};for(const t in I)e[t]=(0,o.Fl)((()=>y.value[t]));t.provide(wt,this),t.provide(Ot,(0,r.qj)(e)),t.provide(Pt,y);const n=t.unmount;Q.add(t),t.unmount=function(){Q.delete(t),Q.size<1&&(C=I,V&&V(),V=null,y.value=I,J=!1,H=!1),n()}}};return tt}function Ft(t){return t.reduce(((t,e)=>t.then((()=>e()))),Promise.resolve())}},3002:(t,e,n)=>{"use strict";n.d(e,{NO:()=>bt});var o,r=n(6252),i=n(9963),s=n(2262),a=n(3577),l=Object.defineProperty,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,p=(t,e,n)=>e in t?l(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,h=(t,e)=>{for(var n in e||(e={}))u.call(e,n)&&p(t,n,e[n]);if(c)for(var n of c(e))d.call(e,n)&&p(t,n,e[n]);return t},f=t=>"function"==typeof t,g=t=>"string"==typeof t,_=t=>g(t)&&t.trim().length>0,m=t=>void 0===t,y=t=>"object"==typeof t&&null!==t,v=t=>window.TouchEvent&&t instanceof TouchEvent,C=t=>S(t,"component")&&E(t.component),E=t=>{return!m(t)&&(g(t)||(f(e=t)||y(e))||C(t));var e},b=t=>y(t)&&["height","width","right","left","top","bottom"].every((e=>"number"==typeof t[e])),S=(t,e)=>(y(t)||f(t))&&e in t,w=(o=0,()=>o++);function O(t){return v(t)?t.targetTouches[0].clientX:t.clientX}function P(t){return v(t)?t.targetTouches[0].clientY:t.clientY}var T,R,D,x,M,A,L=t=>C(t)?L(t.component):(t=>S(t,"tag")&&_(t.tag))(t)?(0,r.aZ)({render:()=>t}):"string"==typeof t?t:(0,s.IU)((0,s.SU)(t)),I=()=>"undefined"!=typeof window,N=class{constructor(){this.allHandlers={}}getHandlers(t){return this.allHandlers[t]||[]}on(t,e){const n=this.getHandlers(t);n.push(e),this.allHandlers[t]=n}off(t,e){const n=this.getHandlers(t);n.splice(n.indexOf(e)>>>0,1)}emit(t,e){this.getHandlers(t).forEach((t=>t(e)))}},k=t=>["on","off","emit"].every((e=>S(t,e)&&f(t[e])));(R=T||(T={})).SUCCESS="success",R.ERROR="error",R.WARNING="warning",R.INFO="info",R.DEFAULT="default",(x=D||(D={})).TOP_LEFT="top-left",x.TOP_CENTER="top-center",x.TOP_RIGHT="top-right",x.BOTTOM_LEFT="bottom-left",x.BOTTOM_CENTER="bottom-center",x.BOTTOM_RIGHT="bottom-right",(A=M||(M={})).ADD="add",A.DISMISS="dismiss",A.UPDATE="update",A.CLEAR="clear",A.UPDATE_DEFAULTS="update_defaults";var F="Vue-Toastification",G={type:{type:String,default:T.DEFAULT},classNames:{type:[String,Array],default:()=>[]},trueBoolean:{type:Boolean,default:!0}},B={type:G.type,customIcon:{type:[String,Boolean,Object,Function],default:!0}},U={component:{type:[String,Object,Function,Boolean],default:"button"},classNames:G.classNames,showOnHover:{type:Boolean,default:!1},ariaLabel:{type:String,default:"close"}},j={timeout:{type:[Number,Boolean],default:5e3},hideProgressBar:{type:Boolean,default:!1},isRunning:{type:Boolean,default:!1}},V={transition:{type:[Object,String],default:`${F}__bounce`}},W={CORE_TOAST:{position:{type:String,default:D.TOP_RIGHT},draggable:G.trueBoolean,draggablePercent:{type:Number,default:.6},pauseOnFocusLoss:G.trueBoolean,pauseOnHover:G.trueBoolean,closeOnClick:G.trueBoolean,timeout:j.timeout,hideProgressBar:j.hideProgressBar,toastClassName:G.classNames,bodyClassName:G.classNames,icon:B.customIcon,closeButton:U.component,closeButtonClassName:U.classNames,showCloseButtonOnHover:U.showOnHover,accessibility:{type:Object,default:()=>({toastRole:"alert",closeButtonLabel:"close"})},rtl:{type:Boolean,default:!1},eventBus:{type:Object,required:!1,default:()=>new N}},TOAST:{id:{type:[String,Number],required:!0,default:0},type:G.type,content:{type:[String,Object,Function],required:!0,default:""},onClick:{type:Function,default:void 0},onClose:{type:Function,default:void 0}},CONTAINER:{container:{type:[Object,Function],default:()=>document.body},newestOnTop:G.trueBoolean,maxToasts:{type:Number,default:20},transition:V.transition,toastDefaults:Object,filterBeforeCreate:{type:Function,default:t=>t},filterToasts:{type:Function,default:t=>t},containerClassName:G.classNames,onMounted:Function,shareAppContext:[Boolean,Object]},PROGRESS_BAR:j,ICON:B,TRANSITION:V,CLOSE_BUTTON:U},H=(0,r.aZ)({name:"VtProgressBar",props:W.PROGRESS_BAR,data:()=>({hasClass:!0}),computed:{style(){return{animationDuration:`${this.timeout}ms`,animationPlayState:this.isRunning?"running":"paused",opacity:this.hideProgressBar?0:1}},cpClass(){return this.hasClass?`${F}__progress-bar`:""}},watch:{timeout(){this.hasClass=!1,this.$nextTick((()=>this.hasClass=!0))}},mounted(){this.$el.addEventListener("animationend",this.animationEnded)},beforeUnmount(){this.$el.removeEventListener("animationend",this.animationEnded)},methods:{animationEnded(){this.$emit("close-toast")}}});H.render=function(t,e){return(0,r.wg)(),(0,r.iD)("div",{style:(0,a.normalizeStyle)(t.style),class:(0,a.normalizeClass)(t.cpClass)},null,6)};var $=H,z=(0,r.aZ)({name:"VtCloseButton",props:W.CLOSE_BUTTON,computed:{buttonComponent(){return!1!==this.component?L(this.component):"button"},classes(){const t=[`${F}__close-button`];return this.showOnHover&&t.push("show-on-hover"),t.concat(this.classNames)}}}),K=(0,r.Uk)("  ");z.render=function(t,e){return(0,r.wg)(),(0,r.j4)((0,r.LL)(t.buttonComponent),(0,r.dG)({"aria-label":t.ariaLabel,class:t.classes},t.$attrs),{default:(0,r.w5)((()=>[K])),_:1},16,["aria-label","class"])};var Y=z,Z={},q={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",class:"svg-inline--fa fa-check-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},X=[(0,r._)("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},null,-1)];Z.render=function(t,e){return(0,r.wg)(),(0,r.iD)("svg",q,X)};var J=Z,Q={},tt={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"info-circle",class:"svg-inline--fa fa-info-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},et=[(0,r._)("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},null,-1)];Q.render=function(t,e){return(0,r.wg)(),(0,r.iD)("svg",tt,et)};var nt=Q,ot={},rt={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-circle",class:"svg-inline--fa fa-exclamation-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},it=[(0,r._)("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1)];ot.render=function(t,e){return(0,r.wg)(),(0,r.iD)("svg",rt,it)};var st=ot,at={},lt={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-triangle",class:"svg-inline--fa fa-exclamation-triangle fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},ct=[(0,r._)("path",{fill:"currentColor",d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1)];at.render=function(t,e){return(0,r.wg)(),(0,r.iD)("svg",lt,ct)};var ut=at,dt=(0,r.aZ)({name:"VtIcon",props:W.ICON,computed:{customIconChildren(){return S(this.customIcon,"iconChildren")?this.trimValue(this.customIcon.iconChildren):""},customIconClass(){return g(this.customIcon)?this.trimValue(this.customIcon):S(this.customIcon,"iconClass")?this.trimValue(this.customIcon.iconClass):""},customIconTag(){return S(this.customIcon,"iconTag")?this.trimValue(this.customIcon.iconTag,"i"):"i"},hasCustomIcon(){return this.customIconClass.length>0},component(){return this.hasCustomIcon?this.customIconTag:E(this.customIcon)?L(this.customIcon):this.iconTypeComponent},iconTypeComponent(){return{[T.DEFAULT]:nt,[T.INFO]:nt,[T.SUCCESS]:J,[T.ERROR]:ut,[T.WARNING]:st}[this.type]},iconClasses(){const t=[`${F}__icon`];return this.hasCustomIcon?t.concat(this.customIconClass):t}},methods:{trimValue:(t,e="")=>_(t)?t.trim():e}});dt.render=function(t,e){return(0,r.wg)(),(0,r.j4)((0,r.LL)(t.component),{class:(0,a.normalizeClass)(t.iconClasses)},{default:(0,r.w5)((()=>[(0,r.Uk)((0,a.toDisplayString)(t.customIconChildren),1)])),_:1},8,["class"])};var pt=dt,ht=(0,r.aZ)({name:"VtToast",components:{ProgressBar:$,CloseButton:Y,Icon:pt},inheritAttrs:!1,props:Object.assign({},W.CORE_TOAST,W.TOAST),data:()=>({isRunning:!0,disableTransitions:!1,beingDragged:!1,dragStart:0,dragPos:{x:0,y:0},dragRect:{}}),computed:{classes(){const t=[`${F}__toast`,`${F}__toast--${this.type}`,`${this.position}`].concat(this.toastClassName);return this.disableTransitions&&t.push("disable-transition"),this.rtl&&t.push(`${F}__toast--rtl`),t},bodyClasses(){return[`${F}__toast-${g(this.content)?"body":"component-body"}`].concat(this.bodyClassName)},draggableStyle(){return this.dragStart===this.dragPos.x?{}:this.beingDragged?{transform:`translateX(${this.dragDelta}px)`,opacity:1-Math.abs(this.dragDelta/this.removalDistance)}:{transition:"transform 0.2s, opacity 0.2s",transform:"translateX(0)",opacity:1}},dragDelta(){return this.beingDragged?this.dragPos.x-this.dragStart:0},removalDistance(){return b(this.dragRect)?(this.dragRect.right-this.dragRect.left)*this.draggablePercent:0}},mounted(){this.draggable&&this.draggableSetup(),this.pauseOnFocusLoss&&this.focusSetup()},beforeUnmount(){this.draggable&&this.draggableCleanup(),this.pauseOnFocusLoss&&this.focusCleanup()},methods:{hasProp:S,getVueComponentFromObj:L,closeToast(){this.eventBus.emit(M.DISMISS,this.id)},clickHandler(){this.onClick&&this.onClick(this.closeToast),this.closeOnClick&&(this.beingDragged&&this.dragStart!==this.dragPos.x||this.closeToast())},timeoutHandler(){this.closeToast()},hoverPause(){this.pauseOnHover&&(this.isRunning=!1)},hoverPlay(){this.pauseOnHover&&(this.isRunning=!0)},focusPause(){this.isRunning=!1},focusPlay(){this.isRunning=!0},focusSetup(){addEventListener("blur",this.focusPause),addEventListener("focus",this.focusPlay)},focusCleanup(){removeEventListener("blur",this.focusPause),removeEventListener("focus",this.focusPlay)},draggableSetup(){const t=this.$el;t.addEventListener("touchstart",this.onDragStart,{passive:!0}),t.addEventListener("mousedown",this.onDragStart),addEventListener("touchmove",this.onDragMove,{passive:!1}),addEventListener("mousemove",this.onDragMove),addEventListener("touchend",this.onDragEnd),addEventListener("mouseup",this.onDragEnd)},draggableCleanup(){const t=this.$el;t.removeEventListener("touchstart",this.onDragStart),t.removeEventListener("mousedown",this.onDragStart),removeEventListener("touchmove",this.onDragMove),removeEventListener("mousemove",this.onDragMove),removeEventListener("touchend",this.onDragEnd),removeEventListener("mouseup",this.onDragEnd)},onDragStart(t){this.beingDragged=!0,this.dragPos={x:O(t),y:P(t)},this.dragStart=O(t),this.dragRect=this.$el.getBoundingClientRect()},onDragMove(t){this.beingDragged&&(t.preventDefault(),this.isRunning&&(this.isRunning=!1),this.dragPos={x:O(t),y:P(t)})},onDragEnd(){this.beingDragged&&(Math.abs(this.dragDelta)>=this.removalDistance?(this.disableTransitions=!0,this.$nextTick((()=>this.closeToast()))):setTimeout((()=>{this.beingDragged=!1,b(this.dragRect)&&this.pauseOnHover&&this.dragRect.bottom>=this.dragPos.y&&this.dragPos.y>=this.dragRect.top&&this.dragRect.left<=this.dragPos.x&&this.dragPos.x<=this.dragRect.right?this.isRunning=!1:this.isRunning=!0})))}}}),ft=["role"];ht.render=function(t,e){const n=(0,r.up)("Icon"),o=(0,r.up)("CloseButton"),s=(0,r.up)("ProgressBar");return(0,r.wg)(),(0,r.iD)("div",{class:(0,a.normalizeClass)(t.classes),style:(0,a.normalizeStyle)(t.draggableStyle),onClick:e[0]||(e[0]=(...e)=>t.clickHandler&&t.clickHandler(...e)),onMouseenter:e[1]||(e[1]=(...e)=>t.hoverPause&&t.hoverPause(...e)),onMouseleave:e[2]||(e[2]=(...e)=>t.hoverPlay&&t.hoverPlay(...e))},[t.icon?((0,r.wg)(),(0,r.j4)(n,{key:0,"custom-icon":t.icon,type:t.type},null,8,["custom-icon","type"])):(0,r.kq)("v-if",!0),(0,r._)("div",{role:t.accessibility.toastRole||"alert",class:(0,a.normalizeClass)(t.bodyClasses)},["string"==typeof t.content?((0,r.wg)(),(0,r.iD)(r.HY,{key:0},[(0,r.Uk)((0,a.toDisplayString)(t.content),1)],2112)):((0,r.wg)(),(0,r.j4)((0,r.LL)(t.getVueComponentFromObj(t.content)),(0,r.dG)({key:1,"toast-id":t.id},t.hasProp(t.content,"props")?t.content.props:{},(0,r.mx)(t.hasProp(t.content,"listeners")?t.content.listeners:{}),{onCloseToast:t.closeToast}),null,16,["toast-id","onCloseToast"]))],10,ft),t.closeButton?((0,r.wg)(),(0,r.j4)(o,{key:1,component:t.closeButton,"class-names":t.closeButtonClassName,"show-on-hover":t.showCloseButtonOnHover,"aria-label":t.accessibility.closeButtonLabel,onClick:(0,i.withModifiers)(t.closeToast,["stop"])},null,8,["component","class-names","show-on-hover","aria-label","onClick"])):(0,r.kq)("v-if",!0),t.timeout?((0,r.wg)(),(0,r.j4)(s,{key:2,"is-running":t.isRunning,"hide-progress-bar":t.hideProgressBar,timeout:t.timeout,onCloseToast:t.timeoutHandler},null,8,["is-running","hide-progress-bar","timeout","onCloseToast"])):(0,r.kq)("v-if",!0)],38)};var gt=ht,_t=(0,r.aZ)({name:"VtTransition",props:W.TRANSITION,emits:["leave"],methods:{hasProp:S,leave(t){t instanceof HTMLElement&&(t.style.left=t.offsetLeft+"px",t.style.top=t.offsetTop+"px",t.style.width=getComputedStyle(t).width,t.style.position="absolute")}}});_t.render=function(t,e){return(0,r.wg)(),(0,r.j4)(i.TransitionGroup,{tag:"div","enter-active-class":t.transition.enter?t.transition.enter:`${t.transition}-enter-active`,"move-class":t.transition.move?t.transition.move:`${t.transition}-move`,"leave-active-class":t.transition.leave?t.transition.leave:`${t.transition}-leave-active`,onLeave:t.leave},{default:(0,r.w5)((()=>[(0,r.WI)(t.$slots,"default")])),_:3},8,["enter-active-class","move-class","leave-active-class","onLeave"])};var mt=_t,yt=(0,r.aZ)({name:"VueToastification",devtools:{hide:!0},components:{Toast:gt,VtTransition:mt},props:Object.assign({},W.CORE_TOAST,W.CONTAINER,W.TRANSITION),data:()=>({count:0,positions:Object.values(D),toasts:{},defaults:{}}),computed:{toastArray(){return Object.values(this.toasts)},filteredToasts(){return this.defaults.filterToasts(this.toastArray)}},beforeMount(){const t=this.eventBus;t.on(M.ADD,this.addToast),t.on(M.CLEAR,this.clearToasts),t.on(M.DISMISS,this.dismissToast),t.on(M.UPDATE,this.updateToast),t.on(M.UPDATE_DEFAULTS,this.updateDefaults),this.defaults=this.$props},mounted(){this.setup(this.container)},methods:{async setup(t){var e;f(t)&&(t=await t()),e=this.$el,m(e.remove)?e.parentNode&&e.parentNode.removeChild(e):e.remove(),t.appendChild(this.$el)},setToast(t){m(t.id)||(this.toasts[t.id]=t)},addToast(t){t.content=(t=>{if("string"==typeof t)return t;const e=S(t,"props")&&y(t.props)?t.props:{},n=S(t,"listeners")&&y(t.listeners)?t.listeners:{};return{component:L(t),props:e,listeners:n}})(t.content);const e=Object.assign({},this.defaults,t.type&&this.defaults.toastDefaults&&this.defaults.toastDefaults[t.type],t),n=this.defaults.filterBeforeCreate(e,this.toastArray);n&&this.setToast(n)},dismissToast(t){const e=this.toasts[t];m(e)||m(e.onClose)||e.onClose(),delete this.toasts[t]},clearToasts(){Object.keys(this.toasts).forEach((t=>{this.dismissToast(t)}))},getPositionToasts(t){const e=this.filteredToasts.filter((e=>e.position===t)).slice(0,this.defaults.maxToasts);return this.defaults.newestOnTop?e.reverse():e},updateDefaults(t){m(t.container)||this.setup(t.container),this.defaults=Object.assign({},this.defaults,t)},updateToast({id:t,options:e,create:n}){this.toasts[t]?(e.timeout&&e.timeout===this.toasts[t].timeout&&e.timeout++,this.setToast(Object.assign({},this.toasts[t],e))):n&&this.addToast(Object.assign({},{id:t},e))},getClasses(t){return[`${F}__container`,t].concat(this.defaults.containerClassName)}}});yt.render=function(t,e){const n=(0,r.up)("Toast"),o=(0,r.up)("VtTransition");return(0,r.wg)(),(0,r.iD)("div",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.positions,(e=>((0,r.wg)(),(0,r.iD)("div",{key:e},[(0,r.Wm)(o,{transition:t.defaults.transition,class:(0,a.normalizeClass)(t.getClasses(e))},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.getPositionToasts(e),(t=>((0,r.wg)(),(0,r.j4)(n,(0,r.dG)({key:t.id},t),null,16)))),128))])),_:2},1032,["transition","class"])])))),128))])};var vt=yt,Ct=(t={},e=!0)=>{const n=t.eventBus=t.eventBus||new N;e&&(0,r.Y3)((()=>{const e=(0,i.createApp)(vt,h({},t)),n=e.mount(document.createElement("div")),o=t.onMounted;if(m(o)||o(n,e),t.shareAppContext){const n=t.shareAppContext;!0===n?console.warn(`[${F}] App to share context with was not provided.`):(e._context.components=n._context.components,e._context.directives=n._context.directives,e._context.mixins=n._context.mixins,e._context.provides=n._context.provides,e.config.globalProperties=n.config.globalProperties)}}));const o=(t,e)=>{const o=Object.assign({},{id:w(),type:T.DEFAULT},e,{content:t});return n.emit(M.ADD,o),o.id};return o.clear=()=>n.emit(M.CLEAR,void 0),o.updateDefaults=t=>{n.emit(M.UPDATE_DEFAULTS,t)},o.dismiss=t=>{n.emit(M.DISMISS,t)},o.update=function(t,{content:e,options:o},r=!1){const i=Object.assign({},o,{content:e});n.emit(M.UPDATE,{id:t,options:i,create:r})},o.success=(t,e)=>o(t,Object.assign({},e,{type:T.SUCCESS})),o.info=(t,e)=>o(t,Object.assign({},e,{type:T.INFO})),o.error=(t,e)=>o(t,Object.assign({},e,{type:T.ERROR})),o.warning=(t,e)=>o(t,Object.assign({},e,{type:T.WARNING})),o},Et=()=>{const t=()=>console.warn(`[${F}] This plugin does not support SSR!`);return new Proxy(t,{get:()=>t})};function bt(t){return I()?k(t)?Ct({eventBus:t},!1):Ct(t,!0):Et()}Symbol("VueToastification"),new N}}]);
//# sourceMappingURL=91dfb44.js.map